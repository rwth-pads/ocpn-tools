var Jr=Object.defineProperty;var Kr=(g,p,l)=>p in g?Jr(g,p,{enumerable:!0,configurable:!0,writable:!0,value:l}):g[p]=l;var F=(g,p,l)=>Kr(g,typeof p!="symbol"?p+"":p,l);import{g as Zr}from"./index-Bm6Iqm8h.js";function et(g,p){for(var l=0;l<p.length;l++){const u=p[l];if(typeof u!="string"&&!Array.isArray(u)){for(const a in u)if(a!=="default"&&!(a in g)){const i=Object.getOwnPropertyDescriptor(u,a);i&&Object.defineProperty(g,a,i.get?i:{enumerable:!0,get:()=>u[a]})}}}return Object.freeze(Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}))}var J,Xe;function Ye(){if(Xe)return J;Xe=1;var g="\0",p="\0",l="";class u{constructor(r){F(this,"_isDirected",!0);F(this,"_isMultigraph",!1);F(this,"_isCompound",!1);F(this,"_label");F(this,"_defaultNodeLabelFn",()=>{});F(this,"_defaultEdgeLabelFn",()=>{});F(this,"_nodes",{});F(this,"_in",{});F(this,"_preds",{});F(this,"_out",{});F(this,"_sucs",{});F(this,"_edgeObjs",{});F(this,"_edgeLabels",{});F(this,"_nodeCount",0);F(this,"_edgeCount",0);F(this,"_parent");F(this,"_children");r&&(this._isDirected=Object.hasOwn(r,"directed")?r.directed:!0,this._isMultigraph=Object.hasOwn(r,"multigraph")?r.multigraph:!1,this._isCompound=Object.hasOwn(r,"compound")?r.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[p]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(r){return this._label=r,this}graph(){return this._label}setDefaultNodeLabel(r){return this._defaultNodeLabelFn=r,typeof r!="function"&&(this._defaultNodeLabelFn=()=>r),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var r=this;return this.nodes().filter(t=>Object.keys(r._in[t]).length===0)}sinks(){var r=this;return this.nodes().filter(t=>Object.keys(r._out[t]).length===0)}setNodes(r,t){var d=arguments,f=this;return r.forEach(function(w){d.length>1?f.setNode(w,t):f.setNode(w)}),this}setNode(r,t){return Object.hasOwn(this._nodes,r)?(arguments.length>1&&(this._nodes[r]=t),this):(this._nodes[r]=arguments.length>1?t:this._defaultNodeLabelFn(r),this._isCompound&&(this._parent[r]=p,this._children[r]={},this._children[p][r]=!0),this._in[r]={},this._preds[r]={},this._out[r]={},this._sucs[r]={},++this._nodeCount,this)}node(r){return this._nodes[r]}hasNode(r){return Object.hasOwn(this._nodes,r)}removeNode(r){var t=this;if(Object.hasOwn(this._nodes,r)){var d=f=>t.removeEdge(t._edgeObjs[f]);delete this._nodes[r],this._isCompound&&(this._removeFromParentsChildList(r),delete this._parent[r],this.children(r).forEach(function(f){t.setParent(f)}),delete this._children[r]),Object.keys(this._in[r]).forEach(d),delete this._in[r],delete this._preds[r],Object.keys(this._out[r]).forEach(d),delete this._out[r],delete this._sucs[r],--this._nodeCount}return this}setParent(r,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t===void 0)t=p;else{t+="";for(var d=t;d!==void 0;d=this.parent(d))if(d===r)throw new Error("Setting "+t+" as parent of "+r+" would create a cycle");this.setNode(t)}return this.setNode(r),this._removeFromParentsChildList(r),this._parent[r]=t,this._children[t][r]=!0,this}_removeFromParentsChildList(r){delete this._children[this._parent[r]][r]}parent(r){if(this._isCompound){var t=this._parent[r];if(t!==p)return t}}children(r=p){if(this._isCompound){var t=this._children[r];if(t)return Object.keys(t)}else{if(r===p)return this.nodes();if(this.hasNode(r))return[]}}predecessors(r){var t=this._preds[r];if(t)return Object.keys(t)}successors(r){var t=this._sucs[r];if(t)return Object.keys(t)}neighbors(r){var t=this.predecessors(r);if(t){const f=new Set(t);for(var d of this.successors(r))f.add(d);return Array.from(f.values())}}isLeaf(r){var t;return this.isDirected()?t=this.successors(r):t=this.neighbors(r),t.length===0}filterNodes(r){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var d=this;Object.entries(this._nodes).forEach(function([j,c]){r(j)&&t.setNode(j,c)}),Object.values(this._edgeObjs).forEach(function(j){t.hasNode(j.v)&&t.hasNode(j.w)&&t.setEdge(j,d.edge(j))});var f={};function w(j){var c=d.parent(j);return c===void 0||t.hasNode(c)?(f[j]=c,c):c in f?f[c]:w(c)}return this._isCompound&&t.nodes().forEach(j=>t.setParent(j,w(j))),t}setDefaultEdgeLabel(r){return this._defaultEdgeLabelFn=r,typeof r!="function"&&(this._defaultEdgeLabelFn=()=>r),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(r,t){var d=this,f=arguments;return r.reduce(function(w,j){return f.length>1?d.setEdge(w,j,t):d.setEdge(w,j),j}),this}setEdge(){var r,t,d,f,w=!1,j=arguments[0];typeof j=="object"&&j!==null&&"v"in j?(r=j.v,t=j.w,d=j.name,arguments.length===2&&(f=arguments[1],w=!0)):(r=j,t=arguments[1],d=arguments[3],arguments.length>2&&(f=arguments[2],w=!0)),r=""+r,t=""+t,d!==void 0&&(d=""+d);var c=e(this._isDirected,r,t,d);if(Object.hasOwn(this._edgeLabels,c))return w&&(this._edgeLabels[c]=f),this;if(d!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(r),this.setNode(t),this._edgeLabels[c]=w?f:this._defaultEdgeLabelFn(r,t,d);var O=o(this._isDirected,r,t,d);return r=O.v,t=O.w,Object.freeze(O),this._edgeObjs[c]=O,a(this._preds[t],r),a(this._sucs[r],t),this._in[t][c]=O,this._out[r][c]=O,this._edgeCount++,this}edge(r,t,d){var f=arguments.length===1?n(this._isDirected,arguments[0]):e(this._isDirected,r,t,d);return this._edgeLabels[f]}edgeAsObj(){const r=this.edge(...arguments);return typeof r!="object"?{label:r}:r}hasEdge(r,t,d){var f=arguments.length===1?n(this._isDirected,arguments[0]):e(this._isDirected,r,t,d);return Object.hasOwn(this._edgeLabels,f)}removeEdge(r,t,d){var f=arguments.length===1?n(this._isDirected,arguments[0]):e(this._isDirected,r,t,d),w=this._edgeObjs[f];return w&&(r=w.v,t=w.w,delete this._edgeLabels[f],delete this._edgeObjs[f],i(this._preds[t],r),i(this._sucs[r],t),delete this._in[t][f],delete this._out[r][f],this._edgeCount--),this}inEdges(r,t){var d=this._in[r];if(d){var f=Object.values(d);return t?f.filter(w=>w.v===t):f}}outEdges(r,t){var d=this._out[r];if(d){var f=Object.values(d);return t?f.filter(w=>w.w===t):f}}nodeEdges(r,t){var d=this.inEdges(r,t);if(d)return d.concat(this.outEdges(r,t))}}function a(s,r){s[r]?s[r]++:s[r]=1}function i(s,r){--s[r]||delete s[r]}function e(s,r,t,d){var f=""+r,w=""+t;if(!s&&f>w){var j=f;f=w,w=j}return f+l+w+l+(d===void 0?g:d)}function o(s,r,t,d){var f=""+r,w=""+t;if(!s&&f>w){var j=f;f=w,w=j}var c={v:f,w};return d&&(c.name=d),c}function n(s,r){return e(s,r.v,r.w,r.name)}return J=u,J}var K,Qe;function rt(){return Qe||(Qe=1,K="2.2.4"),K}var Z,$e;function tt(){return $e||($e=1,Z={Graph:Ye(),version:rt()}),Z}var ee,Je;function nt(){if(Je)return ee;Je=1;var g=Ye();ee={write:p,read:a};function p(i){var e={options:{directed:i.isDirected(),multigraph:i.isMultigraph(),compound:i.isCompound()},nodes:l(i),edges:u(i)};return i.graph()!==void 0&&(e.value=structuredClone(i.graph())),e}function l(i){return i.nodes().map(function(e){var o=i.node(e),n=i.parent(e),s={v:e};return o!==void 0&&(s.value=o),n!==void 0&&(s.parent=n),s})}function u(i){return i.edges().map(function(e){var o=i.edge(e),n={v:e.v,w:e.w};return e.name!==void 0&&(n.name=e.name),o!==void 0&&(n.value=o),n})}function a(i){var e=new g(i.options).setGraph(i.value);return i.nodes.forEach(function(o){e.setNode(o.v,o.value),o.parent&&e.setParent(o.v,o.parent)}),i.edges.forEach(function(o){e.setEdge({v:o.v,w:o.w,name:o.name},o.value)}),e}return ee}var re,Ke;function it(){if(Ke)return re;Ke=1,re=g;function g(p){var l={},u=[],a;function i(e){Object.hasOwn(l,e)||(l[e]=!0,a.push(e),p.successors(e).forEach(i),p.predecessors(e).forEach(i))}return p.nodes().forEach(function(e){a=[],i(e),a.length&&u.push(a)}),u}return re}var te,Ze;function Vr(){if(Ze)return te;Ze=1;class g{constructor(){F(this,"_arr",[]);F(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(l){return l.key})}has(l){return Object.hasOwn(this._keyIndices,l)}priority(l){var u=this._keyIndices[l];if(u!==void 0)return this._arr[u].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(l,u){var a=this._keyIndices;if(l=String(l),!Object.hasOwn(a,l)){var i=this._arr,e=i.length;return a[l]=e,i.push({key:l,priority:u}),this._decrease(e),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var l=this._arr.pop();return delete this._keyIndices[l.key],this._heapify(0),l.key}decrease(l,u){var a=this._keyIndices[l];if(u>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+l+" Old: "+this._arr[a].priority+" New: "+u);this._arr[a].priority=u,this._decrease(a)}_heapify(l){var u=this._arr,a=2*l,i=a+1,e=l;a<u.length&&(e=u[a].priority<u[e].priority?a:e,i<u.length&&(e=u[i].priority<u[e].priority?i:e),e!==l&&(this._swap(l,e),this._heapify(e)))}_decrease(l){for(var u=this._arr,a=u[l].priority,i;l!==0&&(i=l>>1,!(u[i].priority<a));)this._swap(l,i),l=i}_swap(l,u){var a=this._arr,i=this._keyIndices,e=a[l],o=a[u];a[l]=o,a[u]=e,i[o.key]=l,i[e.key]=u}}return te=g,te}var ne,er;function Br(){if(er)return ne;er=1;var g=Vr();ne=l;var p=()=>1;function l(a,i,e,o){return u(a,String(i),e||p,o||function(n){return a.outEdges(n)})}function u(a,i,e,o){var n={},s=new g,r,t,d=function(f){var w=f.v!==r?f.v:f.w,j=n[w],c=e(f),O=t.distance+c;if(c<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+f+" Weight: "+c);O<j.distance&&(j.distance=O,j.predecessor=r,s.decrease(w,O))};for(a.nodes().forEach(function(f){var w=f===i?0:Number.POSITIVE_INFINITY;n[f]={distance:w},s.add(f,w)});s.size()>0&&(r=s.removeMin(),t=n[r],t.distance!==Number.POSITIVE_INFINITY);)o(r).forEach(d);return n}return ne}var ie,rr;function at(){if(rr)return ie;rr=1;var g=Br();ie=p;function p(l,u,a){return l.nodes().reduce(function(i,e){return i[e]=g(l,e,u,a),i},{})}return ie}var ae,tr;function Wr(){if(tr)return ae;tr=1,ae=g;function g(p){var l=0,u=[],a={},i=[];function e(o){var n=a[o]={onStack:!0,lowlink:l,index:l++};if(u.push(o),p.successors(o).forEach(function(t){Object.hasOwn(a,t)?a[t].onStack&&(n.lowlink=Math.min(n.lowlink,a[t].index)):(e(t),n.lowlink=Math.min(n.lowlink,a[t].lowlink))}),n.lowlink===n.index){var s=[],r;do r=u.pop(),a[r].onStack=!1,s.push(r);while(o!==r);i.push(s)}}return p.nodes().forEach(function(o){Object.hasOwn(a,o)||e(o)}),i}return ae}var se,nr;function st(){if(nr)return se;nr=1;var g=Wr();se=p;function p(l){return g(l).filter(function(u){return u.length>1||u.length===1&&l.hasEdge(u[0],u[0])})}return se}var oe,ir;function ot(){if(ir)return oe;ir=1,oe=p;var g=()=>1;function p(u,a,i){return l(u,a||g,i||function(e){return u.outEdges(e)})}function l(u,a,i){var e={},o=u.nodes();return o.forEach(function(n){e[n]={},e[n][n]={distance:0},o.forEach(function(s){n!==s&&(e[n][s]={distance:Number.POSITIVE_INFINITY})}),i(n).forEach(function(s){var r=s.v===n?s.w:s.v,t=a(s);e[n][r]={distance:t,predecessor:n}})}),o.forEach(function(n){var s=e[n];o.forEach(function(r){var t=e[r];o.forEach(function(d){var f=t[n],w=s[d],j=t[d],c=f.distance+w.distance;c<j.distance&&(j.distance=c,j.predecessor=w.predecessor)})})}),e}return oe}var ue,ar;function Yr(){if(ar)return ue;ar=1;function g(l){var u={},a={},i=[];function e(o){if(Object.hasOwn(a,o))throw new p;Object.hasOwn(u,o)||(a[o]=!0,u[o]=!0,l.predecessors(o).forEach(e),delete a[o],i.push(o))}if(l.sinks().forEach(e),Object.keys(u).length!==l.nodeCount())throw new p;return i}class p extends Error{constructor(){super(...arguments)}}return ue=g,g.CycleException=p,ue}var de,sr;function ut(){if(sr)return de;sr=1;var g=Yr();de=p;function p(l){try{g(l)}catch(u){if(u instanceof g.CycleException)return!1;throw u}return!0}return de}var le,or;function zr(){if(or)return le;or=1,le=g;function g(a,i,e){Array.isArray(i)||(i=[i]);var o=a.isDirected()?t=>a.successors(t):t=>a.neighbors(t),n=e==="post"?p:l,s=[],r={};return i.forEach(t=>{if(!a.hasNode(t))throw new Error("Graph does not have node: "+t);n(t,o,r,s)}),s}function p(a,i,e,o){for(var n=[[a,!1]];n.length>0;){var s=n.pop();s[1]?o.push(s[0]):Object.hasOwn(e,s[0])||(e[s[0]]=!0,n.push([s[0],!0]),u(i(s[0]),r=>n.push([r,!1])))}}function l(a,i,e,o){for(var n=[a];n.length>0;){var s=n.pop();Object.hasOwn(e,s)||(e[s]=!0,o.push(s),u(i(s),r=>n.push(r)))}}function u(a,i){for(var e=a.length;e--;)i(a[e],e,a);return a}return le}var he,ur;function dt(){if(ur)return he;ur=1;var g=zr();he=p;function p(l,u){return g(l,u,"post")}return he}var fe,dr;function lt(){if(dr)return fe;dr=1;var g=zr();fe=p;function p(l,u){return g(l,u,"pre")}return fe}var ce,lr;function ht(){if(lr)return ce;lr=1;var g=Ye(),p=Vr();ce=l;function l(u,a){var i=new g,e={},o=new p,n;function s(t){var d=t.v===n?t.w:t.v,f=o.priority(d);if(f!==void 0){var w=a(t);w<f&&(e[d]=n,o.decrease(d,w))}}if(u.nodeCount()===0)return i;u.nodes().forEach(function(t){o.add(t,Number.POSITIVE_INFINITY),i.setNode(t)}),o.decrease(u.nodes()[0],0);for(var r=!1;o.size()>0;){if(n=o.removeMin(),Object.hasOwn(e,n))i.setEdge(n,e[n]);else{if(r)throw new Error("Input graph is not connected: "+u);r=!0}u.nodeEdges(n).forEach(s)}return i}return ce}var pe,hr;function ft(){return hr||(hr=1,pe={components:it(),dijkstra:Br(),dijkstraAll:at(),findCycles:st(),floydWarshall:ot(),isAcyclic:ut(),postorder:dt(),preorder:lt(),prim:ht(),tarjan:Wr(),topsort:Yr()}),pe}var me,fr;function Y(){if(fr)return me;fr=1;var g=tt();return me={Graph:g.Graph,json:nt(),alg:ft(),version:g.version},me}var be,cr;function ct(){if(cr)return be;cr=1;class g{constructor(){let a={};a._next=a._prev=a,this._sentinel=a}dequeue(){let a=this._sentinel,i=a._prev;if(i!==a)return p(i),i}enqueue(a){let i=this._sentinel;a._prev&&a._next&&p(a),a._next=i._next,i._next._prev=a,i._next=a,a._prev=i}toString(){let a=[],i=this._sentinel,e=i._prev;for(;e!==i;)a.push(JSON.stringify(e,l)),e=e._prev;return"["+a.join(", ")+"]"}}function p(u){u._prev._next=u._next,u._next._prev=u._prev,delete u._next,delete u._prev}function l(u,a){if(u!=="_next"&&u!=="_prev")return a}return be=g,be}var ve,pr;function pt(){if(pr)return ve;pr=1;let g=Y().Graph,p=ct();ve=u;let l=()=>1;function u(s,r){if(s.nodeCount()<=1)return[];let t=e(s,r||l);return a(t.graph,t.buckets,t.zeroIdx).flatMap(f=>s.outEdges(f.v,f.w))}function a(s,r,t){let d=[],f=r[r.length-1],w=r[0],j;for(;s.nodeCount();){for(;j=w.dequeue();)i(s,r,t,j);for(;j=f.dequeue();)i(s,r,t,j);if(s.nodeCount()){for(let c=r.length-2;c>0;--c)if(j=r[c].dequeue(),j){d=d.concat(i(s,r,t,j,!0));break}}}return d}function i(s,r,t,d,f){let w=f?[]:void 0;return s.inEdges(d.v).forEach(j=>{let c=s.edge(j),O=s.node(j.v);f&&w.push({v:j.v,w:j.w}),O.out-=c,o(r,t,O)}),s.outEdges(d.v).forEach(j=>{let c=s.edge(j),O=j.w,m=s.node(O);m.in-=c,o(r,t,m)}),s.removeNode(d.v),w}function e(s,r){let t=new g,d=0,f=0;s.nodes().forEach(c=>{t.setNode(c,{v:c,in:0,out:0})}),s.edges().forEach(c=>{let O=t.edge(c.v,c.w)||0,m=r(c),k=O+m;t.setEdge(c.v,c.w,k),f=Math.max(f,t.node(c.v).out+=m),d=Math.max(d,t.node(c.w).in+=m)});let w=n(f+d+3).map(()=>new p),j=d+1;return t.nodes().forEach(c=>{o(w,j,t.node(c))}),{graph:t,buckets:w,zeroIdx:j}}function o(s,r,t){t.out?t.in?s[t.out-t.in+r].enqueue(t):s[s.length-1].enqueue(t):s[0].enqueue(t)}function n(s){const r=[];for(let t=0;t<s;t++)r.push(t);return r}return ve}var we,mr;function A(){if(mr)return we;mr=1;let g=Y().Graph;we={addBorderNode:r,addDummyNode:p,applyWithChunking:f,asNonCompoundGraph:u,buildLayerMatrix:o,intersectRect:e,mapValues:R,maxRank:w,normalizeRanks:n,notime:O,partition:j,pick:I,predecessorWeights:i,range:C,removeEmptyRanks:s,simplify:l,successorWeights:a,time:c,uniqueId:k,zipObject:L};function p(h,b,E,y){let x;do x=k(y);while(h.hasNode(x));return E.dummy=b,h.setNode(x,E),x}function l(h){let b=new g().setGraph(h.graph());return h.nodes().forEach(E=>b.setNode(E,h.node(E))),h.edges().forEach(E=>{let y=b.edge(E.v,E.w)||{weight:0,minlen:1},x=h.edge(E);b.setEdge(E.v,E.w,{weight:y.weight+x.weight,minlen:Math.max(y.minlen,x.minlen)})}),b}function u(h){let b=new g({multigraph:h.isMultigraph()}).setGraph(h.graph());return h.nodes().forEach(E=>{h.children(E).length||b.setNode(E,h.node(E))}),h.edges().forEach(E=>{b.setEdge(E,h.edge(E))}),b}function a(h){let b=h.nodes().map(E=>{let y={};return h.outEdges(E).forEach(x=>{y[x.w]=(y[x.w]||0)+h.edge(x).weight}),y});return L(h.nodes(),b)}function i(h){let b=h.nodes().map(E=>{let y={};return h.inEdges(E).forEach(x=>{y[x.v]=(y[x.v]||0)+h.edge(x).weight}),y});return L(h.nodes(),b)}function e(h,b){let E=h.x,y=h.y,x=b.x-E,S=b.y-y,T=h.width/2,D=h.height/2;if(!x&&!S)throw new Error("Not possible to find intersection inside of the rectangle");let z,U;return Math.abs(S)*T>Math.abs(x)*D?(S<0&&(D=-D),z=D*x/S,U=D):(x<0&&(T=-T),z=T,U=T*S/x),{x:E+z,y:y+U}}function o(h){let b=C(w(h)+1).map(()=>[]);return h.nodes().forEach(E=>{let y=h.node(E),x=y.rank;x!==void 0&&(b[x][y.order]=E)}),b}function n(h){let b=h.nodes().map(y=>{let x=h.node(y).rank;return x===void 0?Number.MAX_VALUE:x}),E=f(Math.min,b);h.nodes().forEach(y=>{let x=h.node(y);Object.hasOwn(x,"rank")&&(x.rank-=E)})}function s(h){let b=h.nodes().map(T=>h.node(T).rank),E=f(Math.min,b),y=[];h.nodes().forEach(T=>{let D=h.node(T).rank-E;y[D]||(y[D]=[]),y[D].push(T)});let x=0,S=h.graph().nodeRankFactor;Array.from(y).forEach((T,D)=>{T===void 0&&D%S!==0?--x:T!==void 0&&x&&T.forEach(z=>h.node(z).rank+=x)})}function r(h,b,E,y){let x={width:0,height:0};return arguments.length>=4&&(x.rank=E,x.order=y),p(h,"border",x,b)}function t(h,b=d){const E=[];for(let y=0;y<h.length;y+=b){const x=h.slice(y,y+b);E.push(x)}return E}const d=65535;function f(h,b){if(b.length>d){const E=t(b);return h.apply(null,E.map(y=>h.apply(null,y)))}else return h.apply(null,b)}function w(h){const E=h.nodes().map(y=>{let x=h.node(y).rank;return x===void 0?Number.MIN_VALUE:x});return f(Math.max,E)}function j(h,b){let E={lhs:[],rhs:[]};return h.forEach(y=>{b(y)?E.lhs.push(y):E.rhs.push(y)}),E}function c(h,b){let E=Date.now();try{return b()}finally{console.log(h+" time: "+(Date.now()-E)+"ms")}}function O(h,b){return b()}let m=0;function k(h){var b=++m;return toString(h)+b}function C(h,b,E=1){b==null&&(b=h,h=0);let y=S=>S<b;E<0&&(y=S=>b<S);const x=[];for(let S=h;y(S);S+=E)x.push(S);return x}function I(h,b){const E={};for(const y of b)h[y]!==void 0&&(E[y]=h[y]);return E}function R(h,b){let E=b;return typeof b=="string"&&(E=y=>y[b]),Object.entries(h).reduce((y,[x,S])=>(y[x]=E(S,x),y),{})}function L(h,b){return h.reduce((E,y,x)=>(E[y]=b[x],E),{})}return we}var ge,br;function mt(){if(br)return ge;br=1;let g=pt(),p=A().uniqueId;ge={run:l,undo:a};function l(i){(i.graph().acyclicer==="greedy"?g(i,o(i)):u(i)).forEach(n=>{let s=i.edge(n);i.removeEdge(n),s.forwardName=n.name,s.reversed=!0,i.setEdge(n.w,n.v,s,p("rev"))});function o(n){return s=>n.edge(s).weight}}function u(i){let e=[],o={},n={};function s(r){Object.hasOwn(n,r)||(n[r]=!0,o[r]=!0,i.outEdges(r).forEach(t=>{Object.hasOwn(o,t.w)?e.push(t):s(t.w)}),delete o[r])}return i.nodes().forEach(s),e}function a(i){i.edges().forEach(e=>{let o=i.edge(e);if(o.reversed){i.removeEdge(e);let n=o.forwardName;delete o.reversed,delete o.forwardName,i.setEdge(e.w,e.v,o,n)}})}return ge}var Ee,vr;function bt(){if(vr)return Ee;vr=1;let g=A();Ee={run:p,undo:u};function p(a){a.graph().dummyChains=[],a.edges().forEach(i=>l(a,i))}function l(a,i){let e=i.v,o=a.node(e).rank,n=i.w,s=a.node(n).rank,r=i.name,t=a.edge(i),d=t.labelRank;if(s===o+1)return;a.removeEdge(i);let f,w,j;for(j=0,++o;o<s;++j,++o)t.points=[],w={width:0,height:0,edgeLabel:t,edgeObj:i,rank:o},f=g.addDummyNode(a,"edge",w,"_d"),o===d&&(w.width=t.width,w.height=t.height,w.dummy="edge-label",w.labelpos=t.labelpos),a.setEdge(e,f,{weight:t.weight},r),j===0&&a.graph().dummyChains.push(f),e=f;a.setEdge(e,n,{weight:t.weight},r)}function u(a){a.graph().dummyChains.forEach(i=>{let e=a.node(i),o=e.edgeLabel,n;for(a.setEdge(e.edgeObj,o);e.dummy;)n=a.successors(i)[0],a.removeNode(i),o.points.push({x:e.x,y:e.y}),e.dummy==="edge-label"&&(o.x=e.x,o.y=e.y,o.width=e.width,o.height=e.height),i=n,e=a.node(i)})}return Ee}var _e,wr;function X(){if(wr)return _e;wr=1;const{applyWithChunking:g}=A();_e={longestPath:p,slack:l};function p(u){var a={};function i(e){var o=u.node(e);if(Object.hasOwn(a,e))return o.rank;a[e]=!0;let n=u.outEdges(e).map(r=>r==null?Number.POSITIVE_INFINITY:i(r.w)-u.edge(r).minlen);var s=g(Math.min,n);return s===Number.POSITIVE_INFINITY&&(s=0),o.rank=s}u.sources().forEach(i)}function l(u,a){return u.node(a.w).rank-u.node(a.v).rank-u.edge(a).minlen}return _e}var ye,gr;function Ur(){if(gr)return ye;gr=1;var g=Y().Graph,p=X().slack;ye=l;function l(e){var o=new g({directed:!1}),n=e.nodes()[0],s=e.nodeCount();o.setNode(n,{});for(var r,t;u(o,e)<s;)r=a(o,e),t=o.hasNode(r.v)?p(e,r):-p(e,r),i(o,e,t);return o}function u(e,o){function n(s){o.nodeEdges(s).forEach(r=>{var t=r.v,d=s===t?r.w:t;!e.hasNode(d)&&!p(o,r)&&(e.setNode(d,{}),e.setEdge(s,d,{}),n(d))})}return e.nodes().forEach(n),e.nodeCount()}function a(e,o){return o.edges().reduce((s,r)=>{let t=Number.POSITIVE_INFINITY;return e.hasNode(r.v)!==e.hasNode(r.w)&&(t=p(o,r)),t<s[0]?[t,r]:s},[Number.POSITIVE_INFINITY,null])[1]}function i(e,o,n){e.nodes().forEach(s=>o.node(s).rank+=n)}return ye}var ke,Er;function vt(){if(Er)return ke;Er=1;var g=Ur(),p=X().slack,l=X().longestPath,u=Y().alg.preorder,a=Y().alg.postorder,i=A().simplify;ke=e,e.initLowLimValues=r,e.initCutValues=o,e.calcCutValue=s,e.leaveEdge=d,e.enterEdge=f,e.exchangeEdges=w;function e(m){m=i(m),l(m);var k=g(m);r(k),o(k,m);for(var C,I;C=d(k);)I=f(k,m,C),w(k,m,C,I)}function o(m,k){var C=a(m,m.nodes());C=C.slice(0,C.length-1),C.forEach(I=>n(m,k,I))}function n(m,k,C){var I=m.node(C),R=I.parent;m.edge(C,R).cutvalue=s(m,k,C)}function s(m,k,C){var I=m.node(C),R=I.parent,L=!0,h=k.edge(C,R),b=0;return h||(L=!1,h=k.edge(R,C)),b=h.weight,k.nodeEdges(C).forEach(E=>{var y=E.v===C,x=y?E.w:E.v;if(x!==R){var S=y===L,T=k.edge(E).weight;if(b+=S?T:-T,c(m,C,x)){var D=m.edge(C,x).cutvalue;b+=S?-D:D}}}),b}function r(m,k){arguments.length<2&&(k=m.nodes()[0]),t(m,{},1,k)}function t(m,k,C,I,R){var L=C,h=m.node(I);return k[I]=!0,m.neighbors(I).forEach(b=>{Object.hasOwn(k,b)||(C=t(m,k,C,b,I))}),h.low=L,h.lim=C++,R?h.parent=R:delete h.parent,C}function d(m){return m.edges().find(k=>m.edge(k).cutvalue<0)}function f(m,k,C){var I=C.v,R=C.w;k.hasEdge(I,R)||(I=C.w,R=C.v);var L=m.node(I),h=m.node(R),b=L,E=!1;L.lim>h.lim&&(b=h,E=!0);var y=k.edges().filter(x=>E===O(m,m.node(x.v),b)&&E!==O(m,m.node(x.w),b));return y.reduce((x,S)=>p(k,S)<p(k,x)?S:x)}function w(m,k,C,I){var R=C.v,L=C.w;m.removeEdge(R,L),m.setEdge(I.v,I.w,{}),r(m),o(m,k),j(m,k)}function j(m,k){var C=m.nodes().find(R=>!k.node(R).parent),I=u(m,C);I=I.slice(1),I.forEach(R=>{var L=m.node(R).parent,h=k.edge(R,L),b=!1;h||(h=k.edge(L,R),b=!0),k.node(R).rank=k.node(L).rank+(b?h.minlen:-h.minlen)})}function c(m,k,C){return m.hasEdge(k,C)}function O(m,k,C){return C.low<=k.lim&&k.lim<=C.lim}return ke}var Oe,_r;function wt(){if(_r)return Oe;_r=1;var g=X(),p=g.longestPath,l=Ur(),u=vt();Oe=a;function a(n){switch(n.graph().ranker){case"network-simplex":o(n);break;case"tight-tree":e(n);break;case"longest-path":i(n);break;default:o(n)}}var i=p;function e(n){p(n),l(n)}function o(n){u(n)}return Oe}var Ne,yr;function gt(){if(yr)return Ne;yr=1,Ne=g;function g(u){let a=l(u);u.graph().dummyChains.forEach(i=>{let e=u.node(i),o=e.edgeObj,n=p(u,a,o.v,o.w),s=n.path,r=n.lca,t=0,d=s[t],f=!0;for(;i!==o.w;){if(e=u.node(i),f){for(;(d=s[t])!==r&&u.node(d).maxRank<e.rank;)t++;d===r&&(f=!1)}if(!f){for(;t<s.length-1&&u.node(d=s[t+1]).minRank<=e.rank;)t++;d=s[t]}u.setParent(i,d),i=u.successors(i)[0]}})}function p(u,a,i,e){let o=[],n=[],s=Math.min(a[i].low,a[e].low),r=Math.max(a[i].lim,a[e].lim),t,d;t=i;do t=u.parent(t),o.push(t);while(t&&(a[t].low>s||r>a[t].lim));for(d=t,t=e;(t=u.parent(t))!==d;)n.push(t);return{path:o.concat(n.reverse()),lca:d}}function l(u){let a={},i=0;function e(o){let n=i;u.children(o).forEach(e),a[o]={low:n,lim:i++}}return u.children().forEach(e),a}return Ne}var Ce,kr;function Et(){if(kr)return Ce;kr=1;let g=A();Ce={run:p,cleanup:i};function p(e){let o=g.addDummyNode(e,"root",{},"_root"),n=u(e),s=Object.values(n),r=g.applyWithChunking(Math.max,s)-1,t=2*r+1;e.graph().nestingRoot=o,e.edges().forEach(f=>e.edge(f).minlen*=t);let d=a(e)+1;e.children().forEach(f=>l(e,o,t,d,r,n,f)),e.graph().nodeRankFactor=t}function l(e,o,n,s,r,t,d){let f=e.children(d);if(!f.length){d!==o&&e.setEdge(o,d,{weight:0,minlen:n});return}let w=g.addBorderNode(e,"_bt"),j=g.addBorderNode(e,"_bb"),c=e.node(d);e.setParent(w,d),c.borderTop=w,e.setParent(j,d),c.borderBottom=j,f.forEach(O=>{l(e,o,n,s,r,t,O);let m=e.node(O),k=m.borderTop?m.borderTop:O,C=m.borderBottom?m.borderBottom:O,I=m.borderTop?s:2*s,R=k!==C?1:r-t[d]+1;e.setEdge(w,k,{weight:I,minlen:R,nestingEdge:!0}),e.setEdge(C,j,{weight:I,minlen:R,nestingEdge:!0})}),e.parent(d)||e.setEdge(o,w,{weight:0,minlen:r+t[d]})}function u(e){var o={};function n(s,r){var t=e.children(s);t&&t.length&&t.forEach(d=>n(d,r+1)),o[s]=r}return e.children().forEach(s=>n(s,1)),o}function a(e){return e.edges().reduce((o,n)=>o+e.edge(n).weight,0)}function i(e){var o=e.graph();e.removeNode(o.nestingRoot),delete o.nestingRoot,e.edges().forEach(n=>{var s=e.edge(n);s.nestingEdge&&e.removeEdge(n)})}return Ce}var xe,Or;function _t(){if(Or)return xe;Or=1;let g=A();xe=p;function p(u){function a(i){let e=u.children(i),o=u.node(i);if(e.length&&e.forEach(a),Object.hasOwn(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(let n=o.minRank,s=o.maxRank+1;n<s;++n)l(u,"borderLeft","_bl",i,o,n),l(u,"borderRight","_br",i,o,n)}}u.children().forEach(a)}function l(u,a,i,e,o,n){let s={width:0,height:0,rank:n,borderType:a},r=o[a][n-1],t=g.addDummyNode(u,"border",s,i);o[a][n]=t,u.setParent(t,e),r&&u.setEdge(r,t,{weight:1})}return xe}var je,Nr;function yt(){if(Nr)return je;Nr=1,je={adjust:g,undo:p};function g(n){let s=n.graph().rankdir.toLowerCase();(s==="lr"||s==="rl")&&l(n)}function p(n){let s=n.graph().rankdir.toLowerCase();(s==="bt"||s==="rl")&&a(n),(s==="lr"||s==="rl")&&(e(n),l(n))}function l(n){n.nodes().forEach(s=>u(n.node(s))),n.edges().forEach(s=>u(n.edge(s)))}function u(n){let s=n.width;n.width=n.height,n.height=s}function a(n){n.nodes().forEach(s=>i(n.node(s))),n.edges().forEach(s=>{let r=n.edge(s);r.points.forEach(i),Object.hasOwn(r,"y")&&i(r)})}function i(n){n.y=-n.y}function e(n){n.nodes().forEach(s=>o(n.node(s))),n.edges().forEach(s=>{let r=n.edge(s);r.points.forEach(o),Object.hasOwn(r,"x")&&o(r)})}function o(n){let s=n.x;n.x=n.y,n.y=s}return je}var Ie,Cr;function kt(){if(Cr)return Ie;Cr=1;let g=A();Ie=p;function p(l){let u={},a=l.nodes().filter(r=>!l.children(r).length),i=a.map(r=>l.node(r).rank),e=g.applyWithChunking(Math.max,i),o=g.range(e+1).map(()=>[]);function n(r){if(u[r])return;u[r]=!0;let t=l.node(r);o[t.rank].push(r),l.successors(r).forEach(n)}return a.sort((r,t)=>l.node(r).rank-l.node(t).rank).forEach(n),o}return Ie}var Re,xr;function Ot(){if(xr)return Re;xr=1;let g=A().zipObject;Re=p;function p(u,a){let i=0;for(let e=1;e<a.length;++e)i+=l(u,a[e-1],a[e]);return i}function l(u,a,i){let e=g(i,i.map((d,f)=>f)),o=a.flatMap(d=>u.outEdges(d).map(f=>({pos:e[f.w],weight:u.edge(f).weight})).sort((f,w)=>f.pos-w.pos)),n=1;for(;n<i.length;)n<<=1;let s=2*n-1;n-=1;let r=new Array(s).fill(0),t=0;return o.forEach(d=>{let f=d.pos+n;r[f]+=d.weight;let w=0;for(;f>0;)f%2&&(w+=r[f+1]),f=f-1>>1,r[f]+=d.weight;t+=d.weight*w}),t}return Re}var qe,jr;function Nt(){if(jr)return qe;jr=1,qe=g;function g(p,l=[]){return l.map(u=>{let a=p.inEdges(u);if(a.length){let i=a.reduce((e,o)=>{let n=p.edge(o),s=p.node(o.v);return{sum:e.sum+n.weight*s.order,weight:e.weight+n.weight}},{sum:0,weight:0});return{v:u,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:u}})}return qe}var Le,Ir;function Ct(){if(Ir)return Le;Ir=1;let g=A();Le=p;function p(a,i){let e={};a.forEach((n,s)=>{let r=e[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:s};n.barycenter!==void 0&&(r.barycenter=n.barycenter,r.weight=n.weight)}),i.edges().forEach(n=>{let s=e[n.v],r=e[n.w];s!==void 0&&r!==void 0&&(r.indegree++,s.out.push(e[n.w]))});let o=Object.values(e).filter(n=>!n.indegree);return l(o)}function l(a){let i=[];function e(n){return s=>{s.merged||(s.barycenter===void 0||n.barycenter===void 0||s.barycenter>=n.barycenter)&&u(n,s)}}function o(n){return s=>{s.in.push(n),--s.indegree===0&&a.push(s)}}for(;a.length;){let n=a.pop();i.push(n),n.in.reverse().forEach(e(n)),n.out.forEach(o(n))}return i.filter(n=>!n.merged).map(n=>g.pick(n,["vs","i","barycenter","weight"]))}function u(a,i){let e=0,o=0;a.weight&&(e+=a.barycenter*a.weight,o+=a.weight),i.weight&&(e+=i.barycenter*i.weight,o+=i.weight),a.vs=i.vs.concat(a.vs),a.barycenter=e/o,a.weight=o,a.i=Math.min(i.i,a.i),i.merged=!0}return Le}var Se,Rr;function xt(){if(Rr)return Se;Rr=1;let g=A();Se=p;function p(a,i){let e=g.partition(a,w=>Object.hasOwn(w,"barycenter")),o=e.lhs,n=e.rhs.sort((w,j)=>j.i-w.i),s=[],r=0,t=0,d=0;o.sort(u(!!i)),d=l(s,n,d),o.forEach(w=>{d+=w.vs.length,s.push(w.vs),r+=w.barycenter*w.weight,t+=w.weight,d=l(s,n,d)});let f={vs:s.flat(!0)};return t&&(f.barycenter=r/t,f.weight=t),f}function l(a,i,e){let o;for(;i.length&&(o=i[i.length-1]).i<=e;)i.pop(),a.push(o.vs),e++;return e}function u(a){return(i,e)=>i.barycenter<e.barycenter?-1:i.barycenter>e.barycenter?1:a?e.i-i.i:i.i-e.i}return Se}var Te,qr;function jt(){if(qr)return Te;qr=1;let g=Nt(),p=Ct(),l=xt();Te=u;function u(e,o,n,s){let r=e.children(o),t=e.node(o),d=t?t.borderLeft:void 0,f=t?t.borderRight:void 0,w={};d&&(r=r.filter(m=>m!==d&&m!==f));let j=g(e,r);j.forEach(m=>{if(e.children(m.v).length){let k=u(e,m.v,n,s);w[m.v]=k,Object.hasOwn(k,"barycenter")&&i(m,k)}});let c=p(j,n);a(c,w);let O=l(c,s);if(d&&(O.vs=[d,O.vs,f].flat(!0),e.predecessors(d).length)){let m=e.node(e.predecessors(d)[0]),k=e.node(e.predecessors(f)[0]);Object.hasOwn(O,"barycenter")||(O.barycenter=0,O.weight=0),O.barycenter=(O.barycenter*O.weight+m.order+k.order)/(O.weight+2),O.weight+=2}return O}function a(e,o){e.forEach(n=>{n.vs=n.vs.flatMap(s=>o[s]?o[s].vs:s)})}function i(e,o){e.barycenter!==void 0?(e.barycenter=(e.barycenter*e.weight+o.barycenter*o.weight)/(e.weight+o.weight),e.weight+=o.weight):(e.barycenter=o.barycenter,e.weight=o.weight)}return Te}var Me,Lr;function It(){if(Lr)return Me;Lr=1;let g=Y().Graph,p=A();Me=l;function l(a,i,e){let o=u(a),n=new g({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(s=>a.node(s));return a.nodes().forEach(s=>{let r=a.node(s),t=a.parent(s);(r.rank===i||r.minRank<=i&&i<=r.maxRank)&&(n.setNode(s),n.setParent(s,t||o),a[e](s).forEach(d=>{let f=d.v===s?d.w:d.v,w=n.edge(f,s),j=w!==void 0?w.weight:0;n.setEdge(f,s,{weight:a.edge(d).weight+j})}),Object.hasOwn(r,"minRank")&&n.setNode(s,{borderLeft:r.borderLeft[i],borderRight:r.borderRight[i]}))}),n}function u(a){for(var i;a.hasNode(i=p.uniqueId("_root")););return i}return Me}var Pe,Sr;function Rt(){if(Sr)return Pe;Sr=1,Pe=g;function g(p,l,u){let a={},i;u.forEach(e=>{let o=p.parent(e),n,s;for(;o;){if(n=p.parent(o),n?(s=a[n],a[n]=o):(s=i,i=o),s&&s!==o){l.setEdge(s,o);return}o=n}})}return Pe}var De,Tr;function qt(){if(Tr)return De;Tr=1;let g=kt(),p=Ot(),l=jt(),u=It(),a=Rt(),i=Y().Graph,e=A();De=o;function o(t,d){if(d&&typeof d.customOrder=="function"){d.customOrder(t,o);return}let f=e.maxRank(t),w=n(t,e.range(1,f+1),"inEdges"),j=n(t,e.range(f-1,-1,-1),"outEdges"),c=g(t);if(r(t,c),d&&d.disableOptimalOrderHeuristic)return;let O=Number.POSITIVE_INFINITY,m;for(let k=0,C=0;C<4;++k,++C){s(k%2?w:j,k%4>=2),c=e.buildLayerMatrix(t);let I=p(t,c);I<O&&(C=0,m=Object.assign({},c),O=I)}r(t,m)}function n(t,d,f){return d.map(function(w){return u(t,w,f)})}function s(t,d){let f=new i;t.forEach(function(w){let j=w.graph().root,c=l(w,j,f,d);c.vs.forEach((O,m)=>w.node(O).order=m),a(w,f,c.vs)})}function r(t,d){Object.values(d).forEach(f=>f.forEach((w,j)=>t.node(w).order=j))}return De}var Ge,Mr;function Lt(){if(Mr)return Ge;Mr=1;let g=Y().Graph,p=A();Ge={positionX:f,findType1Conflicts:l,findType2Conflicts:u,addConflict:i,hasConflict:e,verticalAlignment:o,horizontalCompaction:n,alignCoordinates:t,findSmallestWidthAlignment:r,balance:d};function l(c,O){let m={};function k(C,I){let R=0,L=0,h=C.length,b=I[I.length-1];return I.forEach((E,y)=>{let x=a(c,E),S=x?c.node(x).order:h;(x||E===b)&&(I.slice(L,y+1).forEach(T=>{c.predecessors(T).forEach(D=>{let z=c.node(D),U=z.order;(U<R||S<U)&&!(z.dummy&&c.node(T).dummy)&&i(m,D,T)})}),L=y+1,R=S)}),I}return O.length&&O.reduce(k),m}function u(c,O){let m={};function k(I,R,L,h,b){let E;p.range(R,L).forEach(y=>{E=I[y],c.node(E).dummy&&c.predecessors(E).forEach(x=>{let S=c.node(x);S.dummy&&(S.order<h||S.order>b)&&i(m,x,E)})})}function C(I,R){let L=-1,h,b=0;return R.forEach((E,y)=>{if(c.node(E).dummy==="border"){let x=c.predecessors(E);x.length&&(h=c.node(x[0]).order,k(R,b,y,L,h),b=y,L=h)}k(R,b,R.length,h,I.length)}),R}return O.length&&O.reduce(C),m}function a(c,O){if(c.node(O).dummy)return c.predecessors(O).find(m=>c.node(m).dummy)}function i(c,O,m){if(O>m){let C=O;O=m,m=C}let k=c[O];k||(c[O]=k={}),k[m]=!0}function e(c,O,m){if(O>m){let k=O;O=m,m=k}return!!c[O]&&Object.hasOwn(c[O],m)}function o(c,O,m,k){let C={},I={},R={};return O.forEach(L=>{L.forEach((h,b)=>{C[h]=h,I[h]=h,R[h]=b})}),O.forEach(L=>{let h=-1;L.forEach(b=>{let E=k(b);if(E.length){E=E.sort((x,S)=>R[x]-R[S]);let y=(E.length-1)/2;for(let x=Math.floor(y),S=Math.ceil(y);x<=S;++x){let T=E[x];I[b]===b&&h<R[T]&&!e(m,b,T)&&(I[T]=b,I[b]=C[b]=C[T],h=R[T])}}})}),{root:C,align:I}}function n(c,O,m,k,C){let I={},R=s(c,O,m,C),L=C?"borderLeft":"borderRight";function h(y,x){let S=R.nodes(),T=S.pop(),D={};for(;T;)D[T]?y(T):(D[T]=!0,S.push(T),S=S.concat(x(T))),T=S.pop()}function b(y){I[y]=R.inEdges(y).reduce((x,S)=>Math.max(x,I[S.v]+R.edge(S)),0)}function E(y){let x=R.outEdges(y).reduce((T,D)=>Math.min(T,I[D.w]-R.edge(D)),Number.POSITIVE_INFINITY),S=c.node(y);x!==Number.POSITIVE_INFINITY&&S.borderType!==L&&(I[y]=Math.max(I[y],x))}return h(b,R.predecessors.bind(R)),h(E,R.successors.bind(R)),Object.keys(k).forEach(y=>I[y]=I[m[y]]),I}function s(c,O,m,k){let C=new g,I=c.graph(),R=w(I.nodesep,I.edgesep,k);return O.forEach(L=>{let h;L.forEach(b=>{let E=m[b];if(C.setNode(E),h){var y=m[h],x=C.edge(y,E);C.setEdge(y,E,Math.max(R(c,b,h),x||0))}h=b})}),C}function r(c,O){return Object.values(O).reduce((m,k)=>{let C=Number.NEGATIVE_INFINITY,I=Number.POSITIVE_INFINITY;Object.entries(k).forEach(([L,h])=>{let b=j(c,L)/2;C=Math.max(h+b,C),I=Math.min(h-b,I)});const R=C-I;return R<m[0]&&(m=[R,k]),m},[Number.POSITIVE_INFINITY,null])[1]}function t(c,O){let m=Object.values(O),k=p.applyWithChunking(Math.min,m),C=p.applyWithChunking(Math.max,m);["u","d"].forEach(I=>{["l","r"].forEach(R=>{let L=I+R,h=c[L];if(h===O)return;let b=Object.values(h),E=k-p.applyWithChunking(Math.min,b);R!=="l"&&(E=C-p.applyWithChunking(Math.max,b)),E&&(c[L]=p.mapValues(h,y=>y+E))})})}function d(c,O){return p.mapValues(c.ul,(m,k)=>{if(O)return c[O.toLowerCase()][k];{let C=Object.values(c).map(I=>I[k]).sort((I,R)=>I-R);return(C[1]+C[2])/2}})}function f(c){let O=p.buildLayerMatrix(c),m=Object.assign(l(c,O),u(c,O)),k={},C;["u","d"].forEach(R=>{C=R==="u"?O:Object.values(O).reverse(),["l","r"].forEach(L=>{L==="r"&&(C=C.map(y=>Object.values(y).reverse()));let h=(R==="u"?c.predecessors:c.successors).bind(c),b=o(c,C,m,h),E=n(c,C,b.root,b.align,L==="r");L==="r"&&(E=p.mapValues(E,y=>-y)),k[R+L]=E})});let I=r(c,k);return t(k,I),d(k,c.graph().align)}function w(c,O,m){return(k,C,I)=>{let R=k.node(C),L=k.node(I),h=0,b;if(h+=R.width/2,Object.hasOwn(R,"labelpos"))switch(R.labelpos.toLowerCase()){case"l":b=-R.width/2;break;case"r":b=R.width/2;break}if(b&&(h+=m?b:-b),b=0,h+=(R.dummy?O:c)/2,h+=(L.dummy?O:c)/2,h+=L.width/2,Object.hasOwn(L,"labelpos"))switch(L.labelpos.toLowerCase()){case"l":b=L.width/2;break;case"r":b=-L.width/2;break}return b&&(h+=m?b:-b),b=0,h}}function j(c,O){return c.node(O).width}return Ge}var Fe,Pr;function St(){if(Pr)return Fe;Pr=1;let g=A(),p=Lt().positionX;Fe=l;function l(a){a=g.asNonCompoundGraph(a),u(a),Object.entries(p(a)).forEach(([i,e])=>a.node(i).x=e)}function u(a){let i=g.buildLayerMatrix(a),e=a.graph().ranksep,o=0;i.forEach(n=>{const s=n.reduce((r,t)=>{const d=a.node(t).height;return r>d?r:d},0);n.forEach(r=>a.node(r).y=o+s/2),o+=s+e})}return Fe}var Ae,Dr;function Tt(){if(Dr)return Ae;Dr=1;let g=mt(),p=bt(),l=wt(),u=A().normalizeRanks,a=gt(),i=A().removeEmptyRanks,e=Et(),o=_t(),n=yt(),s=qt(),r=St(),t=A(),d=Y().Graph;Ae=f;function f(v,_){let N=_&&_.debugTiming?t.time:t.notime;N("layout",()=>{let q=N("  buildLayoutGraph",()=>h(v));N("  runLayout",()=>w(q,N,_)),N("  updateInputGraph",()=>j(v,q))})}function w(v,_,N){_("    makeSpaceForEdgeLabels",()=>b(v)),_("    removeSelfEdges",()=>Xr(v)),_("    acyclic",()=>g.run(v)),_("    nestingGraph.run",()=>e.run(v)),_("    rank",()=>l(t.asNonCompoundGraph(v))),_("    injectEdgeLabelProxies",()=>E(v)),_("    removeEmptyRanks",()=>i(v)),_("    nestingGraph.cleanup",()=>e.cleanup(v)),_("    normalizeRanks",()=>u(v)),_("    assignRankMinMax",()=>y(v)),_("    removeEdgeLabelProxies",()=>x(v)),_("    normalize.run",()=>p.run(v)),_("    parentDummyChains",()=>a(v)),_("    addBorderSegments",()=>o(v)),_("    order",()=>s(v,N)),_("    insertSelfEdges",()=>Qr(v)),_("    adjustCoordinateSystem",()=>n.adjust(v)),_("    position",()=>r(v)),_("    positionSelfEdges",()=>$r(v)),_("    removeBorderNodes",()=>U(v)),_("    normalize.undo",()=>p.undo(v)),_("    fixupEdgeLabelCoords",()=>D(v)),_("    undoCoordinateSystem",()=>n.undo(v)),_("    translateGraph",()=>S(v)),_("    assignNodeIntersects",()=>T(v)),_("    reversePoints",()=>z(v)),_("    acyclic.undo",()=>g.undo(v))}function j(v,_){v.nodes().forEach(N=>{let q=v.node(N),M=_.node(N);q&&(q.x=M.x,q.y=M.y,q.rank=M.rank,_.children(N).length&&(q.width=M.width,q.height=M.height))}),v.edges().forEach(N=>{let q=v.edge(N),M=_.edge(N);q.points=M.points,Object.hasOwn(M,"x")&&(q.x=M.x,q.y=M.y)}),v.graph().width=_.graph().width,v.graph().height=_.graph().height}let c=["nodesep","edgesep","ranksep","marginx","marginy"],O={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},m=["acyclicer","ranker","rankdir","align"],k=["width","height"],C={width:0,height:0},I=["minlen","weight","width","height","labeloffset"],R={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},L=["labelpos"];function h(v){let _=new d({multigraph:!0,compound:!0}),N=$(v.graph());return _.setGraph(Object.assign({},O,Q(N,c),t.pick(N,m))),v.nodes().forEach(q=>{let M=$(v.node(q));const P=Q(M,k);Object.keys(C).forEach(G=>{P[G]===void 0&&(P[G]=C[G])}),_.setNode(q,P),_.setParent(q,v.parent(q))}),v.edges().forEach(q=>{let M=$(v.edge(q));_.setEdge(q,Object.assign({},R,Q(M,I),t.pick(M,L)))}),_}function b(v){let _=v.graph();_.ranksep/=2,v.edges().forEach(N=>{let q=v.edge(N);q.minlen*=2,q.labelpos.toLowerCase()!=="c"&&(_.rankdir==="TB"||_.rankdir==="BT"?q.width+=q.labeloffset:q.height+=q.labeloffset)})}function E(v){v.edges().forEach(_=>{let N=v.edge(_);if(N.width&&N.height){let q=v.node(_.v),P={rank:(v.node(_.w).rank-q.rank)/2+q.rank,e:_};t.addDummyNode(v,"edge-proxy",P,"_ep")}})}function y(v){let _=0;v.nodes().forEach(N=>{let q=v.node(N);q.borderTop&&(q.minRank=v.node(q.borderTop).rank,q.maxRank=v.node(q.borderBottom).rank,_=Math.max(_,q.maxRank))}),v.graph().maxRank=_}function x(v){v.nodes().forEach(_=>{let N=v.node(_);N.dummy==="edge-proxy"&&(v.edge(N.e).labelRank=N.rank,v.removeNode(_))})}function S(v){let _=Number.POSITIVE_INFINITY,N=0,q=Number.POSITIVE_INFINITY,M=0,P=v.graph(),G=P.marginx||0,B=P.marginy||0;function ze(W){let V=W.x,H=W.y,Ue=W.width,He=W.height;_=Math.min(_,V-Ue/2),N=Math.max(N,V+Ue/2),q=Math.min(q,H-He/2),M=Math.max(M,H+He/2)}v.nodes().forEach(W=>ze(v.node(W))),v.edges().forEach(W=>{let V=v.edge(W);Object.hasOwn(V,"x")&&ze(V)}),_-=G,q-=B,v.nodes().forEach(W=>{let V=v.node(W);V.x-=_,V.y-=q}),v.edges().forEach(W=>{let V=v.edge(W);V.points.forEach(H=>{H.x-=_,H.y-=q}),Object.hasOwn(V,"x")&&(V.x-=_),Object.hasOwn(V,"y")&&(V.y-=q)}),P.width=N-_+G,P.height=M-q+B}function T(v){v.edges().forEach(_=>{let N=v.edge(_),q=v.node(_.v),M=v.node(_.w),P,G;N.points?(P=N.points[0],G=N.points[N.points.length-1]):(N.points=[],P=M,G=q),N.points.unshift(t.intersectRect(q,P)),N.points.push(t.intersectRect(M,G))})}function D(v){v.edges().forEach(_=>{let N=v.edge(_);if(Object.hasOwn(N,"x"))switch((N.labelpos==="l"||N.labelpos==="r")&&(N.width-=N.labeloffset),N.labelpos){case"l":N.x-=N.width/2+N.labeloffset;break;case"r":N.x+=N.width/2+N.labeloffset;break}})}function z(v){v.edges().forEach(_=>{let N=v.edge(_);N.reversed&&N.points.reverse()})}function U(v){v.nodes().forEach(_=>{if(v.children(_).length){let N=v.node(_),q=v.node(N.borderTop),M=v.node(N.borderBottom),P=v.node(N.borderLeft[N.borderLeft.length-1]),G=v.node(N.borderRight[N.borderRight.length-1]);N.width=Math.abs(G.x-P.x),N.height=Math.abs(M.y-q.y),N.x=P.x+N.width/2,N.y=q.y+N.height/2}}),v.nodes().forEach(_=>{v.node(_).dummy==="border"&&v.removeNode(_)})}function Xr(v){v.edges().forEach(_=>{if(_.v===_.w){var N=v.node(_.v);N.selfEdges||(N.selfEdges=[]),N.selfEdges.push({e:_,label:v.edge(_)}),v.removeEdge(_)}})}function Qr(v){var _=t.buildLayerMatrix(v);_.forEach(N=>{var q=0;N.forEach((M,P)=>{var G=v.node(M);G.order=P+q,(G.selfEdges||[]).forEach(B=>{t.addDummyNode(v,"selfedge",{width:B.label.width,height:B.label.height,rank:G.rank,order:P+ ++q,e:B.e,label:B.label},"_se")}),delete G.selfEdges})})}function $r(v){v.nodes().forEach(_=>{var N=v.node(_);if(N.dummy==="selfedge"){var q=v.node(N.e.v),M=q.x+q.width/2,P=q.y,G=N.x-M,B=q.height/2;v.setEdge(N.e,N.label),v.removeNode(_),N.label.points=[{x:M+2*G/3,y:P-B},{x:M+5*G/6,y:P-B},{x:M+G,y:P},{x:M+5*G/6,y:P+B},{x:M+2*G/3,y:P+B}],N.label.x=N.x,N.label.y=N.y}})}function Q(v,_){return t.mapValues(t.pick(v,_),Number)}function $(v){var _={};return v&&Object.entries(v).forEach(([N,q])=>{typeof N=="string"&&(N=N.toLowerCase()),_[N]=q}),_}return Ae}var Ve,Gr;function Mt(){if(Gr)return Ve;Gr=1;let g=A(),p=Y().Graph;Ve={debugOrdering:l};function l(u){let a=g.buildLayerMatrix(u),i=new p({compound:!0,multigraph:!0}).setGraph({});return u.nodes().forEach(e=>{i.setNode(e,{label:e}),i.setParent(e,"layer"+u.node(e).rank)}),u.edges().forEach(e=>i.setEdge(e.v,e.w,{},e.name)),a.forEach((e,o)=>{let n="layer"+o;i.setNode(n,{rank:"same"}),e.reduce((s,r)=>(i.setEdge(s,r,{style:"invis"}),r))}),i}return Ve}var Be,Fr;function Pt(){return Fr||(Fr=1,Be="1.1.4"),Be}var We,Ar;function Dt(){return Ar||(Ar=1,We={graphlib:Y(),layout:Tt(),debug:Mt(),util:{time:A().time,notime:A().notime},version:Pt()}),We}var Hr=Dt();const Gt=Zr(Hr),Vt=et({__proto__:null,default:Gt},[Hr]);export{Vt as i};
