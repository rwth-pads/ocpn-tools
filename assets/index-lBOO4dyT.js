function T_(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();var i4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xf={exports:{}},rl={},Kf={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function A_(){if(Yv)return We;Yv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.iterator;function g(I){return I===null||typeof I!="object"?null:(I=m&&I[m]||I["@@iterator"],typeof I=="function"?I:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,w={};function N(I,U,K){this.props=I,this.context=U,this.refs=w,this.updater=K||x}N.prototype.isReactComponent={},N.prototype.setState=function(I,U){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,U,"setState")},N.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function E(){}E.prototype=N.prototype;function P(I,U,K){this.props=I,this.context=U,this.refs=w,this.updater=K||x}var _=P.prototype=new E;_.constructor=P,C(_,N.prototype),_.isPureReactComponent=!0;var k=Array.isArray,A=Object.prototype.hasOwnProperty,D={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function O(I,U,K){var ee,B={},Z=null,H=null;if(U!=null)for(ee in U.ref!==void 0&&(H=U.ref),U.key!==void 0&&(Z=""+U.key),U)A.call(U,ee)&&!R.hasOwnProperty(ee)&&(B[ee]=U[ee]);var re=arguments.length-2;if(re===1)B.children=K;else if(1<re){for(var le=Array(re),ae=0;ae<re;ae++)le[ae]=arguments[ae+2];B.children=le}if(I&&I.defaultProps)for(ee in re=I.defaultProps,re)B[ee]===void 0&&(B[ee]=re[ee]);return{$$typeof:e,type:I,key:Z,ref:H,props:B,_owner:D.current}}function W(I,U){return{$$typeof:e,type:I.type,key:U,ref:I.ref,props:I.props,_owner:I._owner}}function Q(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function X(I){var U={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(K){return U[K]})}var J=/\/+/g;function te(I,U){return typeof I=="object"&&I!==null&&I.key!=null?X(""+I.key):U.toString(36)}function T(I,U,K,ee,B){var Z=typeof I;(Z==="undefined"||Z==="boolean")&&(I=null);var H=!1;if(I===null)H=!0;else switch(Z){case"string":case"number":H=!0;break;case"object":switch(I.$$typeof){case e:case t:H=!0}}if(H)return H=I,B=B(H),I=ee===""?"."+te(H,0):ee,k(B)?(K="",I!=null&&(K=I.replace(J,"$&/")+"/"),T(B,U,K,"",function(ae){return ae})):B!=null&&(Q(B)&&(B=W(B,K+(!B.key||H&&H.key===B.key?"":(""+B.key).replace(J,"$&/")+"/")+I)),U.push(B)),1;if(H=0,ee=ee===""?".":ee+":",k(I))for(var re=0;re<I.length;re++){Z=I[re];var le=ee+te(Z,re);H+=T(Z,U,K,le,B)}else if(le=g(I),typeof le=="function")for(I=le.call(I),re=0;!(Z=I.next()).done;)Z=Z.value,le=ee+te(Z,re++),H+=T(Z,U,K,le,B);else if(Z==="object")throw U=String(I),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return H}function V(I,U,K){if(I==null)return I;var ee=[],B=0;return T(I,ee,"","",function(Z){return U.call(K,Z,B++)}),ee}function L(I){if(I._status===-1){var U=I._result;U=U(),U.then(function(K){(I._status===0||I._status===-1)&&(I._status=1,I._result=K)},function(K){(I._status===0||I._status===-1)&&(I._status=2,I._result=K)}),I._status===-1&&(I._status=0,I._result=U)}if(I._status===1)return I._result.default;throw I._result}var F={current:null},M={transition:null},z={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:M,ReactCurrentOwner:D};function Y(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:V,forEach:function(I,U,K){V(I,function(){U.apply(this,arguments)},K)},count:function(I){var U=0;return V(I,function(){U++}),U},toArray:function(I){return V(I,function(U){return U})||[]},only:function(I){if(!Q(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},We.Component=N,We.Fragment=n,We.Profiler=s,We.PureComponent=P,We.StrictMode=i,We.Suspense=f,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,We.act=Y,We.cloneElement=function(I,U,K){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var ee=C({},I.props),B=I.key,Z=I.ref,H=I._owner;if(U!=null){if(U.ref!==void 0&&(Z=U.ref,H=D.current),U.key!==void 0&&(B=""+U.key),I.type&&I.type.defaultProps)var re=I.type.defaultProps;for(le in U)A.call(U,le)&&!R.hasOwnProperty(le)&&(ee[le]=U[le]===void 0&&re!==void 0?re[le]:U[le])}var le=arguments.length-2;if(le===1)ee.children=K;else if(1<le){re=Array(le);for(var ae=0;ae<le;ae++)re[ae]=arguments[ae+2];ee.children=re}return{$$typeof:e,type:I.type,key:B,ref:Z,props:ee,_owner:H}},We.createContext=function(I){return I={$$typeof:a,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:l,_context:I},I.Consumer=I},We.createElement=O,We.createFactory=function(I){var U=O.bind(null,I);return U.type=I,U},We.createRef=function(){return{current:null}},We.forwardRef=function(I){return{$$typeof:u,render:I}},We.isValidElement=Q,We.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:L}},We.memo=function(I,U){return{$$typeof:h,type:I,compare:U===void 0?null:U}},We.startTransition=function(I){var U=M.transition;M.transition={};try{I()}finally{M.transition=U}},We.unstable_act=Y,We.useCallback=function(I,U){return F.current.useCallback(I,U)},We.useContext=function(I){return F.current.useContext(I)},We.useDebugValue=function(){},We.useDeferredValue=function(I){return F.current.useDeferredValue(I)},We.useEffect=function(I,U){return F.current.useEffect(I,U)},We.useId=function(){return F.current.useId()},We.useImperativeHandle=function(I,U,K){return F.current.useImperativeHandle(I,U,K)},We.useInsertionEffect=function(I,U){return F.current.useInsertionEffect(I,U)},We.useLayoutEffect=function(I,U){return F.current.useLayoutEffect(I,U)},We.useMemo=function(I,U){return F.current.useMemo(I,U)},We.useReducer=function(I,U,K){return F.current.useReducer(I,U,K)},We.useRef=function(I){return F.current.useRef(I)},We.useState=function(I){return F.current.useState(I)},We.useSyncExternalStore=function(I,U,K){return F.current.useSyncExternalStore(I,U,K)},We.useTransition=function(){return F.current.useTransition()},We.version="18.3.1",We}var Xv;function Wl(){return Xv||(Xv=1,Kf.exports=A_()),Kf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function M_(){if(Kv)return rl;Kv=1;var e=Wl(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(u,f,h){var v,m={},g=null,x=null;h!==void 0&&(g=""+h),f.key!==void 0&&(g=""+f.key),f.ref!==void 0&&(x=f.ref);for(v in f)i.call(f,v)&&!l.hasOwnProperty(v)&&(m[v]=f[v]);if(u&&u.defaultProps)for(v in f=u.defaultProps,f)m[v]===void 0&&(m[v]=f[v]);return{$$typeof:t,type:u,key:g,ref:x,props:m,_owner:s.current}}return rl.Fragment=n,rl.jsx=a,rl.jsxs=a,rl}var qv;function I_(){return qv||(qv=1,Xf.exports=M_()),Xf.exports}var d=I_(),S=Wl();const Fe=xh(S),pu=T_({__proto__:null,default:Fe},[S]);var hc={},qf={exports:{}},qt={},Qf={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function D_(){return Qv||(Qv=1,function(e){function t(M,z){var Y=M.length;M.push(z);e:for(;0<Y;){var I=Y-1>>>1,U=M[I];if(0<s(U,z))M[I]=z,M[Y]=U,Y=I;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var z=M[0],Y=M.pop();if(Y!==z){M[0]=Y;e:for(var I=0,U=M.length,K=U>>>1;I<K;){var ee=2*(I+1)-1,B=M[ee],Z=ee+1,H=M[Z];if(0>s(B,Y))Z<U&&0>s(H,B)?(M[I]=H,M[Z]=Y,I=Z):(M[I]=B,M[ee]=Y,I=ee);else if(Z<U&&0>s(H,Y))M[I]=H,M[Z]=Y,I=Z;else break e}}return z}function s(M,z){var Y=M.sortIndex-z.sortIndex;return Y!==0?Y:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var f=[],h=[],v=1,m=null,g=3,x=!1,C=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var z=n(h);z!==null;){if(z.callback===null)i(h);else if(z.startTime<=M)i(h),z.sortIndex=z.expirationTime,t(f,z);else break;z=n(h)}}function k(M){if(w=!1,_(M),!C)if(n(f)!==null)C=!0,L(A);else{var z=n(h);z!==null&&F(k,z.startTime-M)}}function A(M,z){C=!1,w&&(w=!1,E(O),O=-1),x=!0;var Y=g;try{for(_(z),m=n(f);m!==null&&(!(m.expirationTime>z)||M&&!X());){var I=m.callback;if(typeof I=="function"){m.callback=null,g=m.priorityLevel;var U=I(m.expirationTime<=z);z=e.unstable_now(),typeof U=="function"?m.callback=U:m===n(f)&&i(f),_(z)}else i(f);m=n(f)}if(m!==null)var K=!0;else{var ee=n(h);ee!==null&&F(k,ee.startTime-z),K=!1}return K}finally{m=null,g=Y,x=!1}}var D=!1,R=null,O=-1,W=5,Q=-1;function X(){return!(e.unstable_now()-Q<W)}function J(){if(R!==null){var M=e.unstable_now();Q=M;var z=!0;try{z=R(!0,M)}finally{z?te():(D=!1,R=null)}}else D=!1}var te;if(typeof P=="function")te=function(){P(J)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,V=T.port2;T.port1.onmessage=J,te=function(){V.postMessage(null)}}else te=function(){N(J,0)};function L(M){R=M,D||(D=!0,te())}function F(M,z){O=N(function(){M(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){C||x||(C=!0,L(A))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(M){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var Y=g;g=z;try{return M()}finally{g=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Y=g;g=M;try{return z()}finally{g=Y}},e.unstable_scheduleCallback=function(M,z,Y){var I=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?I+Y:I):Y=I,M){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Y+U,M={id:v++,callback:z,priorityLevel:M,startTime:Y,expirationTime:U,sortIndex:-1},Y>I?(M.sortIndex=Y,t(h,M),n(f)===null&&M===n(h)&&(w?(E(O),O=-1):w=!0,F(k,Y-I))):(M.sortIndex=U,t(f,M),C||x||(C=!0,L(A))),M},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(M){var z=g;return function(){var Y=g;g=z;try{return M.apply(this,arguments)}finally{g=Y}}}}(Zf)),Zf}var Zv;function O_(){return Zv||(Zv=1,Qf.exports=D_()),Qf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function L_(){if(Jv)return qt;Jv=1;var e=Wl(),t=O_();function n(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(r,o){a(r,o),a(r+"Capture",o)}function a(r,o){for(s[r]=o,r=0;r<o.length;r++)i.add(o[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},m={};function g(r){return f.call(m,r)?!0:f.call(v,r)?!1:h.test(r)?m[r]=!0:(v[r]=!0,!1)}function x(r,o,c,p){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,o,c,p){if(o===null||typeof o>"u"||x(r,o,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function w(r,o,c,p,y,b,j){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=r,this.type=o,this.sanitizeURL=b,this.removeEmptyString=j}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new w(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];N[o]=new w(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new w(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new w(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new w(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new w(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new w(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new w(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new w(r,5,!1,r.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function P(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(E,P);N[o]=new w(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(E,P);N[o]=new w(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(E,P);N[o]=new w(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new w(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new w(r,1,!1,r.toLowerCase(),null,!0,!0)});function _(r,o,c,p){var y=N.hasOwnProperty(o)?N[o]:null;(y!==null?y.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,c,y,p)&&(c=null),p||y===null?g(o)&&(c===null?r.removeAttribute(o):r.setAttribute(o,""+c)):y.mustUseProperty?r[y.propertyName]=c===null?y.type===3?!1:"":c:(o=y.attributeName,p=y.attributeNamespace,c===null?r.removeAttribute(o):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?r.setAttributeNS(p,o,c):r.setAttribute(o,c))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),D=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),X=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),M=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var Y=Object.assign,I;function U(r){if(I===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);I=o&&o[1]||""}return`
`+I+r}var K=!1;function ee(r,o){if(!r||K)return"";K=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(ie){var p=ie}Reflect.construct(r,[],o)}else{try{o.call()}catch(ie){p=ie}r.call(o.prototype)}else{try{throw Error()}catch(ie){p=ie}r()}}catch(ie){if(ie&&p&&typeof ie.stack=="string"){for(var y=ie.stack.split(`
`),b=p.stack.split(`
`),j=y.length-1,$=b.length-1;1<=j&&0<=$&&y[j]!==b[$];)$--;for(;1<=j&&0<=$;j--,$--)if(y[j]!==b[$]){if(j!==1||$!==1)do if(j--,$--,0>$||y[j]!==b[$]){var G=`
`+y[j].replace(" at new "," at ");return r.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",r.displayName)),G}while(1<=j&&0<=$);break}}}finally{K=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?U(r):""}function B(r){switch(r.tag){case 5:return U(r.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return r=ee(r.type,!1),r;case 11:return r=ee(r.type.render,!1),r;case 1:return r=ee(r.type,!0),r;default:return""}}function Z(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case D:return"Portal";case W:return"Profiler";case O:return"StrictMode";case te:return"Suspense";case T:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case X:return(r.displayName||"Context")+".Consumer";case Q:return(r._context.displayName||"Context")+".Provider";case J:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return o=r.displayName||null,o!==null?o:Z(r.type)||"Memo";case L:o=r._payload,r=r._init;try{return Z(r(o))}catch{}}return null}function H(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(o);case 8:return o===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function re(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function le(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ae(r){var o=le(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),p=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,b=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(j){p=""+j,b.call(this,j)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(j){p=""+j},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function fe(r){r._valueTracker||(r._valueTracker=ae(r))}function ce(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return r&&(p=le(r)?r.checked?"true":"false":r.value),r=p,r!==c?(o.setValue(r),!0):!1}function ve(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function xe(r,o){var c=o.checked;return Y({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function Be(r,o){var c=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;c=re(o.value!=null?o.value:c),r._wrapperState={initialChecked:p,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function he(r,o){o=o.checked,o!=null&&_(r,"checked",o,!1)}function Re(r,o){he(r,o);var c=re(o.value),p=o.type;if(c!=null)p==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?Ue(r,o.type,c):o.hasOwnProperty("defaultValue")&&Ue(r,o.type,re(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function Pe(r,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,c||o===r.value||(r.value=o),r.defaultValue=o}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function Ue(r,o,c){(o!=="number"||ve(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var Xe=Array.isArray;function Je(r,o,c,p){if(r=r.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<r.length;c++)y=o.hasOwnProperty("$"+r[c].value),r[c].selected!==y&&(r[c].selected=y),y&&p&&(r[c].defaultSelected=!0)}else{for(c=""+re(c),o=null,y=0;y<r.length;y++){if(r[y].value===c){r[y].selected=!0,p&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function Ge(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function et(r,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(Xe(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}r._wrapperState={initialValue:re(c)}}function ht(r,o){var c=re(o.value),p=re(o.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),o.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),p!=null&&(r.defaultValue=""+p)}function mt(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function jt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?jt(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Er,kr=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,p,y){MSApp.execUnsafeLocalFunction(function(){return r(o,c,p,y)})}:r}(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(Er=Er||document.createElement("div"),Er.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Er.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function rr(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ys=["Webkit","ms","Moz","O"];Object.keys(or).forEach(function(r){ys.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),or[o]=or[r]})});function ti(r,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||or.hasOwnProperty(r)&&or[r]?(""+o).trim():o+"px"}function ir(r,o){r=r.style;for(var c in o)if(o.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=ti(c,o[c],p);c==="float"&&(c="cssFloat"),p?r.setProperty(c,y):r[c]=y}}var Pr=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bn(r,o){if(o){if(Pr[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Vn(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hn=null;function se(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Te=null,qe=null,Qe=null;function Dt(r){if(r=Vs(r)){if(typeof Te!="function")throw Error(n(280));var o=r.stateNode;o&&(o=ja(o),Te(r.stateNode,r.type,o))}}function Rt(r){qe?Qe?Qe.push(r):Qe=[r]:qe=r}function xt(){if(qe){var r=qe,o=Qe;if(Qe=qe=null,Dt(r),o)for(r=0;r<o.length;r++)Dt(o[r])}}function ra(r,o){return r(o)}function oa(){}var xs=!1;function ia(r,o,c){if(xs)return r(o,c);xs=!0;try{return ra(r,o,c)}finally{xs=!1,(qe!==null||Qe!==null)&&(oa(),xt())}}function vo(r,o){var c=r.stateNode;if(c===null)return null;var p=ja(c);if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var ws=!1;if(u)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){ws=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{ws=!1}function nd(r,o,c,p,y,b,j,$,G){var ie=Array.prototype.slice.call(arguments,3);try{o.apply(c,ie)}catch(de){this.onError(de)}}var xo=!1,ni=null,ri=!1,Ss=null,rd={onError:function(r){xo=!0,ni=r}};function od(r,o,c,p,y,b,j,$,G){xo=!1,ni=null,nd.apply(rd,arguments)}function sa(r,o,c,p,y,b,j,$,G){if(od.apply(this,arguments),xo){if(xo){var ie=ni;xo=!1,ni=null}else throw Error(n(198));ri||(ri=!0,Ss=ie)}}function Wn(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function bs(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function la(r){if(Wn(r)!==r)throw Error(n(188))}function id(r){var o=r.alternate;if(!o){if(o=Wn(r),o===null)throw Error(n(188));return o!==r?null:r}for(var c=r,p=o;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return la(y),r;if(b===p)return la(y),o;b=b.sibling}throw Error(n(188))}if(c.return!==p.return)c=y,p=b;else{for(var j=!1,$=y.child;$;){if($===c){j=!0,c=y,p=b;break}if($===p){j=!0,p=y,c=b;break}$=$.sibling}if(!j){for($=b.child;$;){if($===c){j=!0,c=b,p=y;break}if($===p){j=!0,p=b,c=y;break}$=$.sibling}if(!j)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:o}function aa(r){return r=id(r),r!==null?ca(r):null}function ca(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=ca(r);if(o!==null)return o;r=r.sibling}return null}var ua=t.unstable_scheduleCallback,da=t.unstable_cancelCallback,fa=t.unstable_shouldYield,sd=t.unstable_requestPaint,ut=t.unstable_now,ld=t.unstable_getCurrentPriorityLevel,Ns=t.unstable_ImmediatePriority,pa=t.unstable_UserBlockingPriority,oi=t.unstable_NormalPriority,ad=t.unstable_LowPriority,Cs=t.unstable_IdlePriority,ii=null,pn=null;function cd(r){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(ii,r,void 0,(r.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:fd,ud=Math.log,dd=Math.LN2;function fd(r){return r>>>=0,r===0?32:31-(ud(r)/dd|0)|0}var sr=64,si=4194304;function wo(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function jr(r,o){var c=r.pendingLanes;if(c===0)return 0;var p=0,y=r.suspendedLanes,b=r.pingedLanes,j=c&268435455;if(j!==0){var $=j&~y;$!==0?p=wo($):(b&=j,b!==0&&(p=wo(b)))}else j=c&~y,j!==0?p=wo(j):b!==0&&(p=wo(b));if(p===0)return 0;if(o!==0&&o!==p&&(o&y)===0&&(y=p&-p,b=o&-o,y>=b||y===16&&(b&4194240)!==0))return o;if((p&4)!==0&&(p|=c&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=p;0<o;)c=31-tn(o),y=1<<c,p|=r[c],o&=~y;return p}function pd(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hd(r,o){for(var c=r.suspendedLanes,p=r.pingedLanes,y=r.expirationTimes,b=r.pendingLanes;0<b;){var j=31-tn(b),$=1<<j,G=y[j];G===-1?(($&c)===0||($&p)!==0)&&(y[j]=pd($,o)):G<=o&&(r.expiredLanes|=$),b&=~$}}function li(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Cm(){var r=sr;return sr<<=1,(sr&4194240)===0&&(sr=64),r}function md(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function _s(r,o,c){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-tn(o),r[o]=c}function ZN(r,o){var c=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<c;){var y=31-tn(c),b=1<<y;o[y]=0,p[y]=-1,r[y]=-1,c&=~b}}function gd(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var p=31-tn(c),y=1<<p;y&o|r[p]&o&&(r[p]|=o),c&=~y}}var tt=0;function _m(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Em,vd,km,Pm,jm,yd=!1,ha=[],Rr=null,Tr=null,Ar=null,Es=new Map,ks=new Map,Mr=[],JN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rm(r,o){switch(r){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Es.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(o.pointerId)}}function Ps(r,o,c,p,y,b){return r===null||r.nativeEvent!==b?(r={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:b,targetContainers:[y]},o!==null&&(o=Vs(o),o!==null&&vd(o)),r):(r.eventSystemFlags|=p,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function eC(r,o,c,p,y){switch(o){case"focusin":return Rr=Ps(Rr,r,o,c,p,y),!0;case"dragenter":return Tr=Ps(Tr,r,o,c,p,y),!0;case"mouseover":return Ar=Ps(Ar,r,o,c,p,y),!0;case"pointerover":var b=y.pointerId;return Es.set(b,Ps(Es.get(b)||null,r,o,c,p,y)),!0;case"gotpointercapture":return b=y.pointerId,ks.set(b,Ps(ks.get(b)||null,r,o,c,p,y)),!0}return!1}function Tm(r){var o=So(r.target);if(o!==null){var c=Wn(o);if(c!==null){if(o=c.tag,o===13){if(o=bs(c),o!==null){r.blockedOn=o,jm(r.priority,function(){km(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ma(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=wd(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var p=new c.constructor(c.type,c);Hn=p,c.target.dispatchEvent(p),Hn=null}else return o=Vs(c),o!==null&&vd(o),r.blockedOn=c,!1;o.shift()}return!0}function Am(r,o,c){ma(r)&&c.delete(o)}function tC(){yd=!1,Rr!==null&&ma(Rr)&&(Rr=null),Tr!==null&&ma(Tr)&&(Tr=null),Ar!==null&&ma(Ar)&&(Ar=null),Es.forEach(Am),ks.forEach(Am)}function js(r,o){r.blockedOn===o&&(r.blockedOn=null,yd||(yd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,tC)))}function Rs(r){function o(y){return js(y,r)}if(0<ha.length){js(ha[0],r);for(var c=1;c<ha.length;c++){var p=ha[c];p.blockedOn===r&&(p.blockedOn=null)}}for(Rr!==null&&js(Rr,r),Tr!==null&&js(Tr,r),Ar!==null&&js(Ar,r),Es.forEach(o),ks.forEach(o),c=0;c<Mr.length;c++)p=Mr[c],p.blockedOn===r&&(p.blockedOn=null);for(;0<Mr.length&&(c=Mr[0],c.blockedOn===null);)Tm(c),c.blockedOn===null&&Mr.shift()}var ai=k.ReactCurrentBatchConfig,ga=!0;function nC(r,o,c,p){var y=tt,b=ai.transition;ai.transition=null;try{tt=1,xd(r,o,c,p)}finally{tt=y,ai.transition=b}}function rC(r,o,c,p){var y=tt,b=ai.transition;ai.transition=null;try{tt=4,xd(r,o,c,p)}finally{tt=y,ai.transition=b}}function xd(r,o,c,p){if(ga){var y=wd(r,o,c,p);if(y===null)Ld(r,o,p,va,c),Rm(r,p);else if(eC(y,r,o,c,p))p.stopPropagation();else if(Rm(r,p),o&4&&-1<JN.indexOf(r)){for(;y!==null;){var b=Vs(y);if(b!==null&&Em(b),b=wd(r,o,c,p),b===null&&Ld(r,o,p,va,c),b===y)break;y=b}y!==null&&p.stopPropagation()}else Ld(r,o,p,null,c)}}var va=null;function wd(r,o,c,p){if(va=null,r=se(p),r=So(r),r!==null)if(o=Wn(r),o===null)r=null;else if(c=o.tag,c===13){if(r=bs(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return va=r,null}function Mm(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ld()){case Ns:return 1;case pa:return 4;case oi:case ad:return 16;case Cs:return 536870912;default:return 16}default:return 16}}var Ir=null,Sd=null,ya=null;function Im(){if(ya)return ya;var r,o=Sd,c=o.length,p,y="value"in Ir?Ir.value:Ir.textContent,b=y.length;for(r=0;r<c&&o[r]===y[r];r++);var j=c-r;for(p=1;p<=j&&o[c-p]===y[b-p];p++);return ya=y.slice(r,1<p?1-p:void 0)}function xa(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function wa(){return!0}function Dm(){return!1}function nn(r){function o(c,p,y,b,j){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=b,this.target=j,this.currentTarget=null;for(var $ in r)r.hasOwnProperty($)&&(c=r[$],this[$]=c?c(b):b[$]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?wa:Dm,this.isPropagationStopped=Dm,this}return Y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),o}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bd=nn(ci),Ts=Y({},ci,{view:0,detail:0}),oC=nn(Ts),Nd,Cd,As,Sa=Y({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ed,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==As&&(As&&r.type==="mousemove"?(Nd=r.screenX-As.screenX,Cd=r.screenY-As.screenY):Cd=Nd=0,As=r),Nd)},movementY:function(r){return"movementY"in r?r.movementY:Cd}}),Om=nn(Sa),iC=Y({},Sa,{dataTransfer:0}),sC=nn(iC),lC=Y({},Ts,{relatedTarget:0}),_d=nn(lC),aC=Y({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),cC=nn(aC),uC=Y({},ci,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),dC=nn(uC),fC=Y({},ci,{data:0}),Lm=nn(fC),pC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gC(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=mC[r])?!!o[r]:!1}function Ed(){return gC}var vC=Y({},Ts,{key:function(r){if(r.key){var o=pC[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=xa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?hC[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ed,charCode:function(r){return r.type==="keypress"?xa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?xa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),yC=nn(vC),xC=Y({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zm=nn(xC),wC=Y({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ed}),SC=nn(wC),bC=Y({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),NC=nn(bC),CC=Y({},Sa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),_C=nn(CC),EC=[9,13,27,32],kd=u&&"CompositionEvent"in window,Ms=null;u&&"documentMode"in document&&(Ms=document.documentMode);var kC=u&&"TextEvent"in window&&!Ms,$m=u&&(!kd||Ms&&8<Ms&&11>=Ms),Fm=" ",Bm=!1;function Vm(r,o){switch(r){case"keyup":return EC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ui=!1;function PC(r,o){switch(r){case"compositionend":return Hm(o);case"keypress":return o.which!==32?null:(Bm=!0,Fm);case"textInput":return r=o.data,r===Fm&&Bm?null:r;default:return null}}function jC(r,o){if(ui)return r==="compositionend"||!kd&&Vm(r,o)?(r=Im(),ya=Sd=Ir=null,ui=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return $m&&o.locale!=="ko"?null:o.data;default:return null}}var RC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!RC[r.type]:o==="textarea"}function Um(r,o,c,p){Rt(p),o=Ea(o,"onChange"),0<o.length&&(c=new bd("onChange","change",null,c,p),r.push({event:c,listeners:o}))}var Is=null,Ds=null;function TC(r){cg(r,0)}function ba(r){var o=mi(r);if(ce(o))return r}function AC(r,o){if(r==="change")return o}var Gm=!1;if(u){var Pd;if(u){var jd="oninput"in document;if(!jd){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),jd=typeof Ym.oninput=="function"}Pd=jd}else Pd=!1;Gm=Pd&&(!document.documentMode||9<document.documentMode)}function Xm(){Is&&(Is.detachEvent("onpropertychange",Km),Ds=Is=null)}function Km(r){if(r.propertyName==="value"&&ba(Ds)){var o=[];Um(o,Ds,r,se(r)),ia(TC,o)}}function MC(r,o,c){r==="focusin"?(Xm(),Is=o,Ds=c,Is.attachEvent("onpropertychange",Km)):r==="focusout"&&Xm()}function IC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ba(Ds)}function DC(r,o){if(r==="click")return ba(o)}function OC(r,o){if(r==="input"||r==="change")return ba(o)}function LC(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Sn=typeof Object.is=="function"?Object.is:LC;function Os(r,o){if(Sn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!f.call(o,y)||!Sn(r[y],o[y]))return!1}return!0}function qm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Qm(r,o){var c=qm(r);r=0;for(var p;c;){if(c.nodeType===3){if(p=r+c.textContent.length,r<=o&&p>=o)return{node:c,offset:o-r};r=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=qm(c)}}function Zm(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Zm(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Jm(){for(var r=window,o=ve();o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=ve(r.document)}return o}function Rd(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function zC(r){var o=Jm(),c=r.focusedElem,p=r.selectionRange;if(o!==c&&c&&c.ownerDocument&&Zm(c.ownerDocument.documentElement,c)){if(p!==null&&Rd(c)){if(o=p.start,r=p.end,r===void 0&&(r=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(r,c.value.length);else if(r=(o=c.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var y=c.textContent.length,b=Math.min(p.start,y);p=p.end===void 0?b:Math.min(p.end,y),!r.extend&&b>p&&(y=p,p=b,b=y),y=Qm(c,b);var j=Qm(c,p);y&&j&&(r.rangeCount!==1||r.anchorNode!==y.node||r.anchorOffset!==y.offset||r.focusNode!==j.node||r.focusOffset!==j.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),r.removeAllRanges(),b>p?(r.addRange(o),r.extend(j.node,j.offset)):(o.setEnd(j.node,j.offset),r.addRange(o)))}}for(o=[],r=c;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)r=o[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var $C=u&&"documentMode"in document&&11>=document.documentMode,di=null,Td=null,Ls=null,Ad=!1;function eg(r,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ad||di==null||di!==ve(p)||(p=di,"selectionStart"in p&&Rd(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ls&&Os(Ls,p)||(Ls=p,p=Ea(Td,"onSelect"),0<p.length&&(o=new bd("onSelect","select",null,o,c),r.push({event:o,listeners:p}),o.target=di)))}function Na(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var fi={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionend:Na("Transition","TransitionEnd")},Md={},tg={};u&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function Ca(r){if(Md[r])return Md[r];if(!fi[r])return r;var o=fi[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in tg)return Md[r]=o[c];return r}var ng=Ca("animationend"),rg=Ca("animationiteration"),og=Ca("animationstart"),ig=Ca("transitionend"),sg=new Map,lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(r,o){sg.set(r,o),l(o,[r])}for(var Id=0;Id<lg.length;Id++){var Dd=lg[Id],FC=Dd.toLowerCase(),BC=Dd[0].toUpperCase()+Dd.slice(1);Dr(FC,"on"+BC)}Dr(ng,"onAnimationEnd"),Dr(rg,"onAnimationIteration"),Dr(og,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(ig,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VC=new Set("cancel close invalid load scroll toggle".split(" ").concat(zs));function ag(r,o,c){var p=r.type||"unknown-event";r.currentTarget=c,sa(p,o,void 0,r),r.currentTarget=null}function cg(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var p=r[c],y=p.event;p=p.listeners;e:{var b=void 0;if(o)for(var j=p.length-1;0<=j;j--){var $=p[j],G=$.instance,ie=$.currentTarget;if($=$.listener,G!==b&&y.isPropagationStopped())break e;ag(y,$,ie),b=G}else for(j=0;j<p.length;j++){if($=p[j],G=$.instance,ie=$.currentTarget,$=$.listener,G!==b&&y.isPropagationStopped())break e;ag(y,$,ie),b=G}}}if(ri)throw r=Ss,ri=!1,Ss=null,r}function ot(r,o){var c=o[Hd];c===void 0&&(c=o[Hd]=new Set);var p=r+"__bubble";c.has(p)||(ug(o,r,2,!1),c.add(p))}function Od(r,o,c){var p=0;o&&(p|=4),ug(c,r,p,o)}var _a="_reactListening"+Math.random().toString(36).slice(2);function $s(r){if(!r[_a]){r[_a]=!0,i.forEach(function(c){c!=="selectionchange"&&(VC.has(c)||Od(c,!1,r),Od(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[_a]||(o[_a]=!0,Od("selectionchange",!1,o))}}function ug(r,o,c,p){switch(Mm(o)){case 1:var y=nC;break;case 4:y=rC;break;default:y=xd}c=y.bind(null,o,c,r),y=void 0,!ws||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?r.addEventListener(o,c,{capture:!0,passive:y}):r.addEventListener(o,c,!0):y!==void 0?r.addEventListener(o,c,{passive:y}):r.addEventListener(o,c,!1)}function Ld(r,o,c,p,y){var b=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var j=p.tag;if(j===3||j===4){var $=p.stateNode.containerInfo;if($===y||$.nodeType===8&&$.parentNode===y)break;if(j===4)for(j=p.return;j!==null;){var G=j.tag;if((G===3||G===4)&&(G=j.stateNode.containerInfo,G===y||G.nodeType===8&&G.parentNode===y))return;j=j.return}for(;$!==null;){if(j=So($),j===null)return;if(G=j.tag,G===5||G===6){p=b=j;continue e}$=$.parentNode}}p=p.return}ia(function(){var ie=b,de=se(c),pe=[];e:{var ue=sg.get(r);if(ue!==void 0){var ge=bd,Se=r;switch(r){case"keypress":if(xa(c)===0)break e;case"keydown":case"keyup":ge=yC;break;case"focusin":Se="focus",ge=_d;break;case"focusout":Se="blur",ge=_d;break;case"beforeblur":case"afterblur":ge=_d;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=sC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=SC;break;case ng:case rg:case og:ge=cC;break;case ig:ge=NC;break;case"scroll":ge=oC;break;case"wheel":ge=_C;break;case"copy":case"cut":case"paste":ge=dC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=zm}var Ee=(o&4)!==0,yt=!Ee&&r==="scroll",ne=Ee?ue!==null?ue+"Capture":null:ue;Ee=[];for(var q=ie,oe;q!==null;){oe=q;var me=oe.stateNode;if(oe.tag===5&&me!==null&&(oe=me,ne!==null&&(me=vo(q,ne),me!=null&&Ee.push(Fs(q,me,oe)))),yt)break;q=q.return}0<Ee.length&&(ue=new ge(ue,Se,null,c,de),pe.push({event:ue,listeners:Ee}))}}if((o&7)===0){e:{if(ue=r==="mouseover"||r==="pointerover",ge=r==="mouseout"||r==="pointerout",ue&&c!==Hn&&(Se=c.relatedTarget||c.fromElement)&&(So(Se)||Se[lr]))break e;if((ge||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,ge?(Se=c.relatedTarget||c.toElement,ge=ie,Se=Se?So(Se):null,Se!==null&&(yt=Wn(Se),Se!==yt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ge=null,Se=ie),ge!==Se)){if(Ee=Om,me="onMouseLeave",ne="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Ee=zm,me="onPointerLeave",ne="onPointerEnter",q="pointer"),yt=ge==null?ue:mi(ge),oe=Se==null?ue:mi(Se),ue=new Ee(me,q+"leave",ge,c,de),ue.target=yt,ue.relatedTarget=oe,me=null,So(de)===ie&&(Ee=new Ee(ne,q+"enter",Se,c,de),Ee.target=oe,Ee.relatedTarget=yt,me=Ee),yt=me,ge&&Se)t:{for(Ee=ge,ne=Se,q=0,oe=Ee;oe;oe=pi(oe))q++;for(oe=0,me=ne;me;me=pi(me))oe++;for(;0<q-oe;)Ee=pi(Ee),q--;for(;0<oe-q;)ne=pi(ne),oe--;for(;q--;){if(Ee===ne||ne!==null&&Ee===ne.alternate)break t;Ee=pi(Ee),ne=pi(ne)}Ee=null}else Ee=null;ge!==null&&dg(pe,ue,ge,Ee,!1),Se!==null&&yt!==null&&dg(pe,yt,Se,Ee,!0)}}e:{if(ue=ie?mi(ie):window,ge=ue.nodeName&&ue.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ue.type==="file")var ke=AC;else if(Wm(ue))if(Gm)ke=OC;else{ke=IC;var Ae=MC}else(ge=ue.nodeName)&&ge.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(ke=DC);if(ke&&(ke=ke(r,ie))){Um(pe,ke,c,de);break e}Ae&&Ae(r,ue,ie),r==="focusout"&&(Ae=ue._wrapperState)&&Ae.controlled&&ue.type==="number"&&Ue(ue,"number",ue.value)}switch(Ae=ie?mi(ie):window,r){case"focusin":(Wm(Ae)||Ae.contentEditable==="true")&&(di=Ae,Td=ie,Ls=null);break;case"focusout":Ls=Td=di=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,eg(pe,c,de);break;case"selectionchange":if($C)break;case"keydown":case"keyup":eg(pe,c,de)}var Me;if(kd)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ui?Vm(r,c)&&(Oe="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Oe="onCompositionStart");Oe&&($m&&c.locale!=="ko"&&(ui||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ui&&(Me=Im()):(Ir=de,Sd="value"in Ir?Ir.value:Ir.textContent,ui=!0)),Ae=Ea(ie,Oe),0<Ae.length&&(Oe=new Lm(Oe,r,null,c,de),pe.push({event:Oe,listeners:Ae}),Me?Oe.data=Me:(Me=Hm(c),Me!==null&&(Oe.data=Me)))),(Me=kC?PC(r,c):jC(r,c))&&(ie=Ea(ie,"onBeforeInput"),0<ie.length&&(de=new Lm("onBeforeInput","beforeinput",null,c,de),pe.push({event:de,listeners:ie}),de.data=Me))}cg(pe,o)})}function Fs(r,o,c){return{instance:r,listener:o,currentTarget:c}}function Ea(r,o){for(var c=o+"Capture",p=[];r!==null;){var y=r,b=y.stateNode;y.tag===5&&b!==null&&(y=b,b=vo(r,c),b!=null&&p.unshift(Fs(r,b,y)),b=vo(r,o),b!=null&&p.push(Fs(r,b,y))),r=r.return}return p}function pi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function dg(r,o,c,p,y){for(var b=o._reactName,j=[];c!==null&&c!==p;){var $=c,G=$.alternate,ie=$.stateNode;if(G!==null&&G===p)break;$.tag===5&&ie!==null&&($=ie,y?(G=vo(c,b),G!=null&&j.unshift(Fs(c,G,$))):y||(G=vo(c,b),G!=null&&j.push(Fs(c,G,$)))),c=c.return}j.length!==0&&r.push({event:o,listeners:j})}var HC=/\r\n?/g,WC=/\u0000|\uFFFD/g;function fg(r){return(typeof r=="string"?r:""+r).replace(HC,`
`).replace(WC,"")}function ka(r,o,c){if(o=fg(o),fg(r)!==o&&c)throw Error(n(425))}function Pa(){}var zd=null,$d=null;function Fd(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Bd=typeof setTimeout=="function"?setTimeout:void 0,UC=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,GC=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(r){return pg.resolve(null).then(r).catch(YC)}:Bd;function YC(r){setTimeout(function(){throw r})}function Vd(r,o){var c=o,p=0;do{var y=c.nextSibling;if(r.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){r.removeChild(y),Rs(o);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);Rs(o)}function Or(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function hg(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}var hi=Math.random().toString(36).slice(2),Un="__reactFiber$"+hi,Bs="__reactProps$"+hi,lr="__reactContainer$"+hi,Hd="__reactEvents$"+hi,XC="__reactListeners$"+hi,KC="__reactHandles$"+hi;function So(r){var o=r[Un];if(o)return o;for(var c=r.parentNode;c;){if(o=c[lr]||c[Un]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=hg(r);r!==null;){if(c=r[Un])return c;r=hg(r)}return o}r=c,c=r.parentNode}return null}function Vs(r){return r=r[Un]||r[lr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function mi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function ja(r){return r[Bs]||null}var Wd=[],gi=-1;function Lr(r){return{current:r}}function it(r){0>gi||(r.current=Wd[gi],Wd[gi]=null,gi--)}function nt(r,o){gi++,Wd[gi]=r.current,r.current=o}var zr={},Ot=Lr(zr),Ut=Lr(!1),bo=zr;function vi(r,o){var c=r.type.contextTypes;if(!c)return zr;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var y={},b;for(b in c)y[b]=o[b];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=y),y}function Gt(r){return r=r.childContextTypes,r!=null}function Ra(){it(Ut),it(Ot)}function mg(r,o,c){if(Ot.current!==zr)throw Error(n(168));nt(Ot,o),nt(Ut,c)}function gg(r,o,c){var p=r.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in o))throw Error(n(108,H(r)||"Unknown",y));return Y({},c,p)}function Ta(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||zr,bo=Ot.current,nt(Ot,r),nt(Ut,Ut.current),!0}function vg(r,o,c){var p=r.stateNode;if(!p)throw Error(n(169));c?(r=gg(r,o,bo),p.__reactInternalMemoizedMergedChildContext=r,it(Ut),it(Ot),nt(Ot,r)):it(Ut),nt(Ut,c)}var ar=null,Aa=!1,Ud=!1;function yg(r){ar===null?ar=[r]:ar.push(r)}function qC(r){Aa=!0,yg(r)}function $r(){if(!Ud&&ar!==null){Ud=!0;var r=0,o=tt;try{var c=ar;for(tt=1;r<c.length;r++){var p=c[r];do p=p(!0);while(p!==null)}ar=null,Aa=!1}catch(y){throw ar!==null&&(ar=ar.slice(r+1)),ua(Ns,$r),y}finally{tt=o,Ud=!1}}return null}var yi=[],xi=0,Ma=null,Ia=0,hn=[],mn=0,No=null,cr=1,ur="";function Co(r,o){yi[xi++]=Ia,yi[xi++]=Ma,Ma=r,Ia=o}function xg(r,o,c){hn[mn++]=cr,hn[mn++]=ur,hn[mn++]=No,No=r;var p=cr;r=ur;var y=32-tn(p)-1;p&=~(1<<y),c+=1;var b=32-tn(o)+y;if(30<b){var j=y-y%5;b=(p&(1<<j)-1).toString(32),p>>=j,y-=j,cr=1<<32-tn(o)+y|c<<y|p,ur=b+r}else cr=1<<b|c<<y|p,ur=r}function Gd(r){r.return!==null&&(Co(r,1),xg(r,1,0))}function Yd(r){for(;r===Ma;)Ma=yi[--xi],yi[xi]=null,Ia=yi[--xi],yi[xi]=null;for(;r===No;)No=hn[--mn],hn[mn]=null,ur=hn[--mn],hn[mn]=null,cr=hn[--mn],hn[mn]=null}var rn=null,on=null,st=!1,bn=null;function wg(r,o){var c=xn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=r,o=r.deletions,o===null?(r.deletions=[c],r.flags|=16):o.push(c)}function Sg(r,o){switch(r.tag){case 5:var c=r.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,rn=r,on=Or(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,rn=r,on=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=No!==null?{id:cr,overflow:ur}:null,r.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=xn(18,null,null,0),c.stateNode=o,c.return=r,r.child=c,rn=r,on=null,!0):!1;default:return!1}}function Xd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Kd(r){if(st){var o=on;if(o){var c=o;if(!Sg(r,o)){if(Xd(r))throw Error(n(418));o=Or(c.nextSibling);var p=rn;o&&Sg(r,o)?wg(p,c):(r.flags=r.flags&-4097|2,st=!1,rn=r)}}else{if(Xd(r))throw Error(n(418));r.flags=r.flags&-4097|2,st=!1,rn=r}}}function bg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;rn=r}function Da(r){if(r!==rn)return!1;if(!st)return bg(r),st=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!Fd(r.type,r.memoizedProps)),o&&(o=on)){if(Xd(r))throw Ng(),Error(n(418));for(;o;)wg(r,o),o=Or(o.nextSibling)}if(bg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(o===0){on=Or(r.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}r=r.nextSibling}on=null}}else on=rn?Or(r.stateNode.nextSibling):null;return!0}function Ng(){for(var r=on;r;)r=Or(r.nextSibling)}function wi(){on=rn=null,st=!1}function qd(r){bn===null?bn=[r]:bn.push(r)}var QC=k.ReactCurrentBatchConfig;function Hs(r,o,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,r));var y=p,b=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===b?o.ref:(o=function(j){var $=y.refs;j===null?delete $[b]:$[b]=j},o._stringRef=b,o)}if(typeof r!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,r))}return r}function Oa(r,o){throw r=Object.prototype.toString.call(o),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function Cg(r){var o=r._init;return o(r._payload)}function _g(r){function o(ne,q){if(r){var oe=ne.deletions;oe===null?(ne.deletions=[q],ne.flags|=16):oe.push(q)}}function c(ne,q){if(!r)return null;for(;q!==null;)o(ne,q),q=q.sibling;return null}function p(ne,q){for(ne=new Map;q!==null;)q.key!==null?ne.set(q.key,q):ne.set(q.index,q),q=q.sibling;return ne}function y(ne,q){return ne=Yr(ne,q),ne.index=0,ne.sibling=null,ne}function b(ne,q,oe){return ne.index=oe,r?(oe=ne.alternate,oe!==null?(oe=oe.index,oe<q?(ne.flags|=2,q):oe):(ne.flags|=2,q)):(ne.flags|=1048576,q)}function j(ne){return r&&ne.alternate===null&&(ne.flags|=2),ne}function $(ne,q,oe,me){return q===null||q.tag!==6?(q=Vf(oe,ne.mode,me),q.return=ne,q):(q=y(q,oe),q.return=ne,q)}function G(ne,q,oe,me){var ke=oe.type;return ke===R?de(ne,q,oe.props.children,me,oe.key):q!==null&&(q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===L&&Cg(ke)===q.type)?(me=y(q,oe.props),me.ref=Hs(ne,q,oe),me.return=ne,me):(me=sc(oe.type,oe.key,oe.props,null,ne.mode,me),me.ref=Hs(ne,q,oe),me.return=ne,me)}function ie(ne,q,oe,me){return q===null||q.tag!==4||q.stateNode.containerInfo!==oe.containerInfo||q.stateNode.implementation!==oe.implementation?(q=Hf(oe,ne.mode,me),q.return=ne,q):(q=y(q,oe.children||[]),q.return=ne,q)}function de(ne,q,oe,me,ke){return q===null||q.tag!==7?(q=Ao(oe,ne.mode,me,ke),q.return=ne,q):(q=y(q,oe),q.return=ne,q)}function pe(ne,q,oe){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Vf(""+q,ne.mode,oe),q.return=ne,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return oe=sc(q.type,q.key,q.props,null,ne.mode,oe),oe.ref=Hs(ne,null,q),oe.return=ne,oe;case D:return q=Hf(q,ne.mode,oe),q.return=ne,q;case L:var me=q._init;return pe(ne,me(q._payload),oe)}if(Xe(q)||z(q))return q=Ao(q,ne.mode,oe,null),q.return=ne,q;Oa(ne,q)}return null}function ue(ne,q,oe,me){var ke=q!==null?q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return ke!==null?null:$(ne,q,""+oe,me);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:return oe.key===ke?G(ne,q,oe,me):null;case D:return oe.key===ke?ie(ne,q,oe,me):null;case L:return ke=oe._init,ue(ne,q,ke(oe._payload),me)}if(Xe(oe)||z(oe))return ke!==null?null:de(ne,q,oe,me,null);Oa(ne,oe)}return null}function ge(ne,q,oe,me,ke){if(typeof me=="string"&&me!==""||typeof me=="number")return ne=ne.get(oe)||null,$(q,ne,""+me,ke);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case A:return ne=ne.get(me.key===null?oe:me.key)||null,G(q,ne,me,ke);case D:return ne=ne.get(me.key===null?oe:me.key)||null,ie(q,ne,me,ke);case L:var Ae=me._init;return ge(ne,q,oe,Ae(me._payload),ke)}if(Xe(me)||z(me))return ne=ne.get(oe)||null,de(q,ne,me,ke,null);Oa(q,me)}return null}function Se(ne,q,oe,me){for(var ke=null,Ae=null,Me=q,Oe=q=0,kt=null;Me!==null&&Oe<oe.length;Oe++){Me.index>Oe?(kt=Me,Me=null):kt=Me.sibling;var Ze=ue(ne,Me,oe[Oe],me);if(Ze===null){Me===null&&(Me=kt);break}r&&Me&&Ze.alternate===null&&o(ne,Me),q=b(Ze,q,Oe),Ae===null?ke=Ze:Ae.sibling=Ze,Ae=Ze,Me=kt}if(Oe===oe.length)return c(ne,Me),st&&Co(ne,Oe),ke;if(Me===null){for(;Oe<oe.length;Oe++)Me=pe(ne,oe[Oe],me),Me!==null&&(q=b(Me,q,Oe),Ae===null?ke=Me:Ae.sibling=Me,Ae=Me);return st&&Co(ne,Oe),ke}for(Me=p(ne,Me);Oe<oe.length;Oe++)kt=ge(Me,ne,Oe,oe[Oe],me),kt!==null&&(r&&kt.alternate!==null&&Me.delete(kt.key===null?Oe:kt.key),q=b(kt,q,Oe),Ae===null?ke=kt:Ae.sibling=kt,Ae=kt);return r&&Me.forEach(function(Xr){return o(ne,Xr)}),st&&Co(ne,Oe),ke}function Ee(ne,q,oe,me){var ke=z(oe);if(typeof ke!="function")throw Error(n(150));if(oe=ke.call(oe),oe==null)throw Error(n(151));for(var Ae=ke=null,Me=q,Oe=q=0,kt=null,Ze=oe.next();Me!==null&&!Ze.done;Oe++,Ze=oe.next()){Me.index>Oe?(kt=Me,Me=null):kt=Me.sibling;var Xr=ue(ne,Me,Ze.value,me);if(Xr===null){Me===null&&(Me=kt);break}r&&Me&&Xr.alternate===null&&o(ne,Me),q=b(Xr,q,Oe),Ae===null?ke=Xr:Ae.sibling=Xr,Ae=Xr,Me=kt}if(Ze.done)return c(ne,Me),st&&Co(ne,Oe),ke;if(Me===null){for(;!Ze.done;Oe++,Ze=oe.next())Ze=pe(ne,Ze.value,me),Ze!==null&&(q=b(Ze,q,Oe),Ae===null?ke=Ze:Ae.sibling=Ze,Ae=Ze);return st&&Co(ne,Oe),ke}for(Me=p(ne,Me);!Ze.done;Oe++,Ze=oe.next())Ze=ge(Me,ne,Oe,Ze.value,me),Ze!==null&&(r&&Ze.alternate!==null&&Me.delete(Ze.key===null?Oe:Ze.key),q=b(Ze,q,Oe),Ae===null?ke=Ze:Ae.sibling=Ze,Ae=Ze);return r&&Me.forEach(function(R_){return o(ne,R_)}),st&&Co(ne,Oe),ke}function yt(ne,q,oe,me){if(typeof oe=="object"&&oe!==null&&oe.type===R&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:e:{for(var ke=oe.key,Ae=q;Ae!==null;){if(Ae.key===ke){if(ke=oe.type,ke===R){if(Ae.tag===7){c(ne,Ae.sibling),q=y(Ae,oe.props.children),q.return=ne,ne=q;break e}}else if(Ae.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===L&&Cg(ke)===Ae.type){c(ne,Ae.sibling),q=y(Ae,oe.props),q.ref=Hs(ne,Ae,oe),q.return=ne,ne=q;break e}c(ne,Ae);break}else o(ne,Ae);Ae=Ae.sibling}oe.type===R?(q=Ao(oe.props.children,ne.mode,me,oe.key),q.return=ne,ne=q):(me=sc(oe.type,oe.key,oe.props,null,ne.mode,me),me.ref=Hs(ne,q,oe),me.return=ne,ne=me)}return j(ne);case D:e:{for(Ae=oe.key;q!==null;){if(q.key===Ae)if(q.tag===4&&q.stateNode.containerInfo===oe.containerInfo&&q.stateNode.implementation===oe.implementation){c(ne,q.sibling),q=y(q,oe.children||[]),q.return=ne,ne=q;break e}else{c(ne,q);break}else o(ne,q);q=q.sibling}q=Hf(oe,ne.mode,me),q.return=ne,ne=q}return j(ne);case L:return Ae=oe._init,yt(ne,q,Ae(oe._payload),me)}if(Xe(oe))return Se(ne,q,oe,me);if(z(oe))return Ee(ne,q,oe,me);Oa(ne,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,q!==null&&q.tag===6?(c(ne,q.sibling),q=y(q,oe),q.return=ne,ne=q):(c(ne,q),q=Vf(oe,ne.mode,me),q.return=ne,ne=q),j(ne)):c(ne,q)}return yt}var Si=_g(!0),Eg=_g(!1),La=Lr(null),za=null,bi=null,Qd=null;function Zd(){Qd=bi=za=null}function Jd(r){var o=La.current;it(La),r._currentValue=o}function ef(r,o,c){for(;r!==null;){var p=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),r===c)break;r=r.return}}function Ni(r,o){za=r,Qd=bi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&o)!==0&&(Yt=!0),r.firstContext=null)}function gn(r){var o=r._currentValue;if(Qd!==r)if(r={context:r,memoizedValue:o,next:null},bi===null){if(za===null)throw Error(n(308));bi=r,za.dependencies={lanes:0,firstContext:r}}else bi=bi.next=r;return o}var _o=null;function tf(r){_o===null?_o=[r]:_o.push(r)}function kg(r,o,c,p){var y=o.interleaved;return y===null?(c.next=c,tf(o)):(c.next=y.next,y.next=c),o.interleaved=c,dr(r,p)}function dr(r,o){r.lanes|=o;var c=r.alternate;for(c!==null&&(c.lanes|=o),c=r,r=r.return;r!==null;)r.childLanes|=o,c=r.alternate,c!==null&&(c.childLanes|=o),c=r,r=r.return;return c.tag===3?c.stateNode:null}var Fr=!1;function nf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pg(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function fr(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function Br(r,o,c){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(Ke&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,dr(r,c)}return y=p.interleaved,y===null?(o.next=o,tf(p)):(o.next=y.next,y.next=o),p.interleaved=o,dr(r,c)}function $a(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var p=o.lanes;p&=r.pendingLanes,c|=p,o.lanes=c,gd(r,c)}}function jg(r,o){var c=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var j={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};b===null?y=b=j:b=b.next=j,c=c.next}while(c!==null);b===null?y=b=o:b=b.next=o}else y=b=o;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:p.shared,effects:p.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}function Fa(r,o,c,p){var y=r.updateQueue;Fr=!1;var b=y.firstBaseUpdate,j=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var G=$,ie=G.next;G.next=null,j===null?b=ie:j.next=ie,j=G;var de=r.alternate;de!==null&&(de=de.updateQueue,$=de.lastBaseUpdate,$!==j&&($===null?de.firstBaseUpdate=ie:$.next=ie,de.lastBaseUpdate=G))}if(b!==null){var pe=y.baseState;j=0,de=ie=G=null,$=b;do{var ue=$.lane,ge=$.eventTime;if((p&ue)===ue){de!==null&&(de=de.next={eventTime:ge,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Se=r,Ee=$;switch(ue=o,ge=c,Ee.tag){case 1:if(Se=Ee.payload,typeof Se=="function"){pe=Se.call(ge,pe,ue);break e}pe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ee.payload,ue=typeof Se=="function"?Se.call(ge,pe,ue):Se,ue==null)break e;pe=Y({},pe,ue);break e;case 2:Fr=!0}}$.callback!==null&&$.lane!==0&&(r.flags|=64,ue=y.effects,ue===null?y.effects=[$]:ue.push($))}else ge={eventTime:ge,lane:ue,tag:$.tag,payload:$.payload,callback:$.callback,next:null},de===null?(ie=de=ge,G=pe):de=de.next=ge,j|=ue;if($=$.next,$===null){if($=y.shared.pending,$===null)break;ue=$,$=ue.next,ue.next=null,y.lastBaseUpdate=ue,y.shared.pending=null}}while(!0);if(de===null&&(G=pe),y.baseState=G,y.firstBaseUpdate=ie,y.lastBaseUpdate=de,o=y.shared.interleaved,o!==null){y=o;do j|=y.lane,y=y.next;while(y!==o)}else b===null&&(y.shared.lanes=0);Po|=j,r.lanes=j,r.memoizedState=pe}}function Rg(r,o,c){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var p=r[o],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var Ws={},Gn=Lr(Ws),Us=Lr(Ws),Gs=Lr(Ws);function Eo(r){if(r===Ws)throw Error(n(174));return r}function rf(r,o){switch(nt(Gs,o),nt(Us,r),nt(Gn,Ws),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ft(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=Ft(o,r)}it(Gn),nt(Gn,o)}function Ci(){it(Gn),it(Us),it(Gs)}function Tg(r){Eo(Gs.current);var o=Eo(Gn.current),c=Ft(o,r.type);o!==c&&(nt(Us,r),nt(Gn,c))}function of(r){Us.current===r&&(it(Gn),it(Us))}var dt=Lr(0);function Ba(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var sf=[];function lf(){for(var r=0;r<sf.length;r++)sf[r]._workInProgressVersionPrimary=null;sf.length=0}var Va=k.ReactCurrentDispatcher,af=k.ReactCurrentBatchConfig,ko=0,ft=null,bt=null,_t=null,Ha=!1,Ys=!1,Xs=0,ZC=0;function Lt(){throw Error(n(321))}function cf(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!Sn(r[c],o[c]))return!1;return!0}function uf(r,o,c,p,y,b){if(ko=b,ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Va.current=r===null||r.memoizedState===null?n_:r_,r=c(p,y),Ys){b=0;do{if(Ys=!1,Xs=0,25<=b)throw Error(n(301));b+=1,_t=bt=null,o.updateQueue=null,Va.current=o_,r=c(p,y)}while(Ys)}if(Va.current=Ga,o=bt!==null&&bt.next!==null,ko=0,_t=bt=ft=null,Ha=!1,o)throw Error(n(300));return r}function df(){var r=Xs!==0;return Xs=0,r}function Yn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?ft.memoizedState=_t=r:_t=_t.next=r,_t}function vn(){if(bt===null){var r=ft.alternate;r=r!==null?r.memoizedState:null}else r=bt.next;var o=_t===null?ft.memoizedState:_t.next;if(o!==null)_t=o,bt=r;else{if(r===null)throw Error(n(310));bt=r,r={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},_t===null?ft.memoizedState=_t=r:_t=_t.next=r}return _t}function Ks(r,o){return typeof o=="function"?o(r):o}function ff(r){var o=vn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var p=bt,y=p.baseQueue,b=c.pending;if(b!==null){if(y!==null){var j=y.next;y.next=b.next,b.next=j}p.baseQueue=y=b,c.pending=null}if(y!==null){b=y.next,p=p.baseState;var $=j=null,G=null,ie=b;do{var de=ie.lane;if((ko&de)===de)G!==null&&(G=G.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),p=ie.hasEagerState?ie.eagerState:r(p,ie.action);else{var pe={lane:de,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};G===null?($=G=pe,j=p):G=G.next=pe,ft.lanes|=de,Po|=de}ie=ie.next}while(ie!==null&&ie!==b);G===null?j=p:G.next=$,Sn(p,o.memoizedState)||(Yt=!0),o.memoizedState=p,o.baseState=j,o.baseQueue=G,c.lastRenderedState=p}if(r=c.interleaved,r!==null){y=r;do b=y.lane,ft.lanes|=b,Po|=b,y=y.next;while(y!==r)}else y===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function pf(r){var o=vn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var p=c.dispatch,y=c.pending,b=o.memoizedState;if(y!==null){c.pending=null;var j=y=y.next;do b=r(b,j.action),j=j.next;while(j!==y);Sn(b,o.memoizedState)||(Yt=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,p]}function Ag(){}function Mg(r,o){var c=ft,p=vn(),y=o(),b=!Sn(p.memoizedState,y);if(b&&(p.memoizedState=y,Yt=!0),p=p.queue,hf(Og.bind(null,c,p,r),[r]),p.getSnapshot!==o||b||_t!==null&&_t.memoizedState.tag&1){if(c.flags|=2048,qs(9,Dg.bind(null,c,p,y,o),void 0,null),Et===null)throw Error(n(349));(ko&30)!==0||Ig(c,o,y)}return y}function Ig(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function Dg(r,o,c,p){o.value=c,o.getSnapshot=p,Lg(o)&&zg(r)}function Og(r,o,c){return c(function(){Lg(o)&&zg(r)})}function Lg(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!Sn(r,c)}catch{return!0}}function zg(r){var o=dr(r,1);o!==null&&En(o,r,1,-1)}function $g(r){var o=Yn();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:r},o.queue=r,r=r.dispatch=t_.bind(null,ft,r),[o.memoizedState,r]}function qs(r,o,c,p){return r={tag:r,create:o,destroy:c,deps:p,next:null},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.lastEffect=r.next=r):(c=o.lastEffect,c===null?o.lastEffect=r.next=r:(p=c.next,c.next=r,r.next=p,o.lastEffect=r)),r}function Fg(){return vn().memoizedState}function Wa(r,o,c,p){var y=Yn();ft.flags|=r,y.memoizedState=qs(1|o,c,void 0,p===void 0?null:p)}function Ua(r,o,c,p){var y=vn();p=p===void 0?null:p;var b=void 0;if(bt!==null){var j=bt.memoizedState;if(b=j.destroy,p!==null&&cf(p,j.deps)){y.memoizedState=qs(o,c,b,p);return}}ft.flags|=r,y.memoizedState=qs(1|o,c,b,p)}function Bg(r,o){return Wa(8390656,8,r,o)}function hf(r,o){return Ua(2048,8,r,o)}function Vg(r,o){return Ua(4,2,r,o)}function Hg(r,o){return Ua(4,4,r,o)}function Wg(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Ug(r,o,c){return c=c!=null?c.concat([r]):null,Ua(4,4,Wg.bind(null,o,r),c)}function mf(){}function Gg(r,o){var c=vn();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&cf(o,p[1])?p[0]:(c.memoizedState=[r,o],r)}function Yg(r,o){var c=vn();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&cf(o,p[1])?p[0]:(r=r(),c.memoizedState=[r,o],r)}function Xg(r,o,c){return(ko&21)===0?(r.baseState&&(r.baseState=!1,Yt=!0),r.memoizedState=c):(Sn(c,o)||(c=Cm(),ft.lanes|=c,Po|=c,r.baseState=!0),o)}function JC(r,o){var c=tt;tt=c!==0&&4>c?c:4,r(!0);var p=af.transition;af.transition={};try{r(!1),o()}finally{tt=c,af.transition=p}}function Kg(){return vn().memoizedState}function e_(r,o,c){var p=Ur(r);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},qg(r))Qg(o,c);else if(c=kg(r,o,c,p),c!==null){var y=Vt();En(c,r,p,y),Zg(c,o,p)}}function t_(r,o,c){var p=Ur(r),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(qg(r))Qg(o,y);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var j=o.lastRenderedState,$=b(j,c);if(y.hasEagerState=!0,y.eagerState=$,Sn($,j)){var G=o.interleaved;G===null?(y.next=y,tf(o)):(y.next=G.next,G.next=y),o.interleaved=y;return}}catch{}finally{}c=kg(r,o,y,p),c!==null&&(y=Vt(),En(c,r,p,y),Zg(c,o,p))}}function qg(r){var o=r.alternate;return r===ft||o!==null&&o===ft}function Qg(r,o){Ys=Ha=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function Zg(r,o,c){if((c&4194240)!==0){var p=o.lanes;p&=r.pendingLanes,c|=p,o.lanes=c,gd(r,c)}}var Ga={readContext:gn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},n_={readContext:gn,useCallback:function(r,o){return Yn().memoizedState=[r,o===void 0?null:o],r},useContext:gn,useEffect:Bg,useImperativeHandle:function(r,o,c){return c=c!=null?c.concat([r]):null,Wa(4194308,4,Wg.bind(null,o,r),c)},useLayoutEffect:function(r,o){return Wa(4194308,4,r,o)},useInsertionEffect:function(r,o){return Wa(4,2,r,o)},useMemo:function(r,o){var c=Yn();return o=o===void 0?null:o,r=r(),c.memoizedState=[r,o],r},useReducer:function(r,o,c){var p=Yn();return o=c!==void 0?c(o):o,p.memoizedState=p.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},p.queue=r,r=r.dispatch=e_.bind(null,ft,r),[p.memoizedState,r]},useRef:function(r){var o=Yn();return r={current:r},o.memoizedState=r},useState:$g,useDebugValue:mf,useDeferredValue:function(r){return Yn().memoizedState=r},useTransition:function(){var r=$g(!1),o=r[0];return r=JC.bind(null,r[1]),Yn().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,c){var p=ft,y=Yn();if(st){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Et===null)throw Error(n(349));(ko&30)!==0||Ig(p,o,c)}y.memoizedState=c;var b={value:c,getSnapshot:o};return y.queue=b,Bg(Og.bind(null,p,b,r),[r]),p.flags|=2048,qs(9,Dg.bind(null,p,b,c,o),void 0,null),c},useId:function(){var r=Yn(),o=Et.identifierPrefix;if(st){var c=ur,p=cr;c=(p&~(1<<32-tn(p)-1)).toString(32)+c,o=":"+o+"R"+c,c=Xs++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=ZC++,o=":"+o+"r"+c.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},r_={readContext:gn,useCallback:Gg,useContext:gn,useEffect:hf,useImperativeHandle:Ug,useInsertionEffect:Vg,useLayoutEffect:Hg,useMemo:Yg,useReducer:ff,useRef:Fg,useState:function(){return ff(Ks)},useDebugValue:mf,useDeferredValue:function(r){var o=vn();return Xg(o,bt.memoizedState,r)},useTransition:function(){var r=ff(Ks)[0],o=vn().memoizedState;return[r,o]},useMutableSource:Ag,useSyncExternalStore:Mg,useId:Kg,unstable_isNewReconciler:!1},o_={readContext:gn,useCallback:Gg,useContext:gn,useEffect:hf,useImperativeHandle:Ug,useInsertionEffect:Vg,useLayoutEffect:Hg,useMemo:Yg,useReducer:pf,useRef:Fg,useState:function(){return pf(Ks)},useDebugValue:mf,useDeferredValue:function(r){var o=vn();return bt===null?o.memoizedState=r:Xg(o,bt.memoizedState,r)},useTransition:function(){var r=pf(Ks)[0],o=vn().memoizedState;return[r,o]},useMutableSource:Ag,useSyncExternalStore:Mg,useId:Kg,unstable_isNewReconciler:!1};function Nn(r,o){if(r&&r.defaultProps){o=Y({},o),r=r.defaultProps;for(var c in r)o[c]===void 0&&(o[c]=r[c]);return o}return o}function gf(r,o,c,p){o=r.memoizedState,c=c(p,o),c=c==null?o:Y({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Ya={isMounted:function(r){return(r=r._reactInternals)?Wn(r)===r:!1},enqueueSetState:function(r,o,c){r=r._reactInternals;var p=Vt(),y=Ur(r),b=fr(p,y);b.payload=o,c!=null&&(b.callback=c),o=Br(r,b,y),o!==null&&(En(o,r,y,p),$a(o,r,y))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var p=Vt(),y=Ur(r),b=fr(p,y);b.tag=1,b.payload=o,c!=null&&(b.callback=c),o=Br(r,b,y),o!==null&&(En(o,r,y,p),$a(o,r,y))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=Vt(),p=Ur(r),y=fr(c,p);y.tag=2,o!=null&&(y.callback=o),o=Br(r,y,p),o!==null&&(En(o,r,p,c),$a(o,r,p))}};function Jg(r,o,c,p,y,b,j){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,b,j):o.prototype&&o.prototype.isPureReactComponent?!Os(c,p)||!Os(y,b):!0}function ev(r,o,c){var p=!1,y=zr,b=o.contextType;return typeof b=="object"&&b!==null?b=gn(b):(y=Gt(o)?bo:Ot.current,p=o.contextTypes,b=(p=p!=null)?vi(r,y):zr),o=new o(c,b),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ya,r.stateNode=o,o._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=y,r.__reactInternalMemoizedMaskedChildContext=b),o}function tv(r,o,c,p){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==r&&Ya.enqueueReplaceState(o,o.state,null)}function vf(r,o,c,p){var y=r.stateNode;y.props=c,y.state=r.memoizedState,y.refs={},nf(r);var b=o.contextType;typeof b=="object"&&b!==null?y.context=gn(b):(b=Gt(o)?bo:Ot.current,y.context=vi(r,b)),y.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(gf(r,o,b,c),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&Ya.enqueueReplaceState(y,y.state,null),Fa(r,c,y,p),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308)}function _i(r,o){try{var c="",p=o;do c+=B(p),p=p.return;while(p);var y=c}catch(b){y=`
Error generating stack: `+b.message+`
`+b.stack}return{value:r,source:o,stack:y,digest:null}}function yf(r,o,c){return{value:r,source:null,stack:c??null,digest:o??null}}function xf(r,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var i_=typeof WeakMap=="function"?WeakMap:Map;function nv(r,o,c){c=fr(-1,c),c.tag=3,c.payload={element:null};var p=o.value;return c.callback=function(){ec||(ec=!0,If=p),xf(r,o)},c}function rv(r,o,c){c=fr(-1,c),c.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var y=o.value;c.payload=function(){return p(y)},c.callback=function(){xf(r,o)}}var b=r.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(c.callback=function(){xf(r,o),typeof p!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var j=o.stack;this.componentDidCatch(o.value,{componentStack:j!==null?j:""})}),c}function ov(r,o,c){var p=r.pingCache;if(p===null){p=r.pingCache=new i_;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(c)||(y.add(c),r=x_.bind(null,r,o,c),o.then(r,r))}function iv(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function sv(r,o,c,p,y){return(r.mode&1)===0?(r===o?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=fr(-1,1),o.tag=2,Br(c,o,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=y,r)}var s_=k.ReactCurrentOwner,Yt=!1;function Bt(r,o,c,p){o.child=r===null?Eg(o,null,c,p):Si(o,r.child,c,p)}function lv(r,o,c,p,y){c=c.render;var b=o.ref;return Ni(o,y),p=uf(r,o,c,p,b,y),c=df(),r!==null&&!Yt?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~y,pr(r,o,y)):(st&&c&&Gd(o),o.flags|=1,Bt(r,o,p,y),o.child)}function av(r,o,c,p,y){if(r===null){var b=c.type;return typeof b=="function"&&!Bf(b)&&b.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=b,cv(r,o,b,p,y)):(r=sc(c.type,null,p,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(b=r.child,(r.lanes&y)===0){var j=b.memoizedProps;if(c=c.compare,c=c!==null?c:Os,c(j,p)&&r.ref===o.ref)return pr(r,o,y)}return o.flags|=1,r=Yr(b,p),r.ref=o.ref,r.return=o,o.child=r}function cv(r,o,c,p,y){if(r!==null){var b=r.memoizedProps;if(Os(b,p)&&r.ref===o.ref)if(Yt=!1,o.pendingProps=p=b,(r.lanes&y)!==0)(r.flags&131072)!==0&&(Yt=!0);else return o.lanes=r.lanes,pr(r,o,y)}return wf(r,o,c,p,y)}function uv(r,o,c){var p=o.pendingProps,y=p.children,b=r!==null?r.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(ki,sn),sn|=c;else{if((c&1073741824)===0)return r=b!==null?b.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,nt(ki,sn),sn|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=b!==null?b.baseLanes:c,nt(ki,sn),sn|=p}else b!==null?(p=b.baseLanes|c,o.memoizedState=null):p=c,nt(ki,sn),sn|=p;return Bt(r,o,y,c),o.child}function dv(r,o){var c=o.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function wf(r,o,c,p,y){var b=Gt(c)?bo:Ot.current;return b=vi(o,b),Ni(o,y),c=uf(r,o,c,p,b,y),p=df(),r!==null&&!Yt?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~y,pr(r,o,y)):(st&&p&&Gd(o),o.flags|=1,Bt(r,o,c,y),o.child)}function fv(r,o,c,p,y){if(Gt(c)){var b=!0;Ta(o)}else b=!1;if(Ni(o,y),o.stateNode===null)Ka(r,o),ev(o,c,p),vf(o,c,p,y),p=!0;else if(r===null){var j=o.stateNode,$=o.memoizedProps;j.props=$;var G=j.context,ie=c.contextType;typeof ie=="object"&&ie!==null?ie=gn(ie):(ie=Gt(c)?bo:Ot.current,ie=vi(o,ie));var de=c.getDerivedStateFromProps,pe=typeof de=="function"||typeof j.getSnapshotBeforeUpdate=="function";pe||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||($!==p||G!==ie)&&tv(o,j,p,ie),Fr=!1;var ue=o.memoizedState;j.state=ue,Fa(o,p,j,y),G=o.memoizedState,$!==p||ue!==G||Ut.current||Fr?(typeof de=="function"&&(gf(o,c,de,p),G=o.memoizedState),($=Fr||Jg(o,c,$,p,ue,G,ie))?(pe||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(o.flags|=4194308)):(typeof j.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=G),j.props=p,j.state=G,j.context=ie,p=$):(typeof j.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{j=o.stateNode,Pg(r,o),$=o.memoizedProps,ie=o.type===o.elementType?$:Nn(o.type,$),j.props=ie,pe=o.pendingProps,ue=j.context,G=c.contextType,typeof G=="object"&&G!==null?G=gn(G):(G=Gt(c)?bo:Ot.current,G=vi(o,G));var ge=c.getDerivedStateFromProps;(de=typeof ge=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||($!==pe||ue!==G)&&tv(o,j,p,G),Fr=!1,ue=o.memoizedState,j.state=ue,Fa(o,p,j,y);var Se=o.memoizedState;$!==pe||ue!==Se||Ut.current||Fr?(typeof ge=="function"&&(gf(o,c,ge,p),Se=o.memoizedState),(ie=Fr||Jg(o,c,ie,p,ue,Se,G)||!1)?(de||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(p,Se,G),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(p,Se,G)),typeof j.componentDidUpdate=="function"&&(o.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof j.componentDidUpdate!="function"||$===r.memoizedProps&&ue===r.memoizedState||(o.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||$===r.memoizedProps&&ue===r.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Se),j.props=p,j.state=Se,j.context=G,p=ie):(typeof j.componentDidUpdate!="function"||$===r.memoizedProps&&ue===r.memoizedState||(o.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||$===r.memoizedProps&&ue===r.memoizedState||(o.flags|=1024),p=!1)}return Sf(r,o,c,p,b,y)}function Sf(r,o,c,p,y,b){dv(r,o);var j=(o.flags&128)!==0;if(!p&&!j)return y&&vg(o,c,!1),pr(r,o,b);p=o.stateNode,s_.current=o;var $=j&&typeof c.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,r!==null&&j?(o.child=Si(o,r.child,null,b),o.child=Si(o,null,$,b)):Bt(r,o,$,b),o.memoizedState=p.state,y&&vg(o,c,!0),o.child}function pv(r){var o=r.stateNode;o.pendingContext?mg(r,o.pendingContext,o.pendingContext!==o.context):o.context&&mg(r,o.context,!1),rf(r,o.containerInfo)}function hv(r,o,c,p,y){return wi(),qd(y),o.flags|=256,Bt(r,o,c,p),o.child}var bf={dehydrated:null,treeContext:null,retryLane:0};function Nf(r){return{baseLanes:r,cachePool:null,transitions:null}}function mv(r,o,c){var p=o.pendingProps,y=dt.current,b=!1,j=(o.flags&128)!==0,$;if(($=j)||($=r!==null&&r.memoizedState===null?!1:(y&2)!==0),$?(b=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(y|=1),nt(dt,y&1),r===null)return Kd(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((o.mode&1)===0?o.lanes=1:r.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(j=p.children,r=p.fallback,b?(p=o.mode,b=o.child,j={mode:"hidden",children:j},(p&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=j):b=lc(j,p,0,null),r=Ao(r,p,c,null),b.return=o,r.return=o,b.sibling=r,o.child=b,o.child.memoizedState=Nf(c),o.memoizedState=bf,r):Cf(o,j));if(y=r.memoizedState,y!==null&&($=y.dehydrated,$!==null))return l_(r,o,j,p,$,y,c);if(b){b=p.fallback,j=o.mode,y=r.child,$=y.sibling;var G={mode:"hidden",children:p.children};return(j&1)===0&&o.child!==y?(p=o.child,p.childLanes=0,p.pendingProps=G,o.deletions=null):(p=Yr(y,G),p.subtreeFlags=y.subtreeFlags&14680064),$!==null?b=Yr($,b):(b=Ao(b,j,c,null),b.flags|=2),b.return=o,p.return=o,p.sibling=b,o.child=p,p=b,b=o.child,j=r.child.memoizedState,j=j===null?Nf(c):{baseLanes:j.baseLanes|c,cachePool:null,transitions:j.transitions},b.memoizedState=j,b.childLanes=r.childLanes&~c,o.memoizedState=bf,p}return b=r.child,r=b.sibling,p=Yr(b,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=c),p.return=o,p.sibling=null,r!==null&&(c=o.deletions,c===null?(o.deletions=[r],o.flags|=16):c.push(r)),o.child=p,o.memoizedState=null,p}function Cf(r,o){return o=lc({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function Xa(r,o,c,p){return p!==null&&qd(p),Si(o,r.child,null,c),r=Cf(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function l_(r,o,c,p,y,b,j){if(c)return o.flags&256?(o.flags&=-257,p=yf(Error(n(422))),Xa(r,o,j,p)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(b=p.fallback,y=o.mode,p=lc({mode:"visible",children:p.children},y,0,null),b=Ao(b,y,j,null),b.flags|=2,p.return=o,b.return=o,p.sibling=b,o.child=p,(o.mode&1)!==0&&Si(o,r.child,null,j),o.child.memoizedState=Nf(j),o.memoizedState=bf,b);if((o.mode&1)===0)return Xa(r,o,j,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var $=p.dgst;return p=$,b=Error(n(419)),p=yf(b,p,void 0),Xa(r,o,j,p)}if($=(j&r.childLanes)!==0,Yt||$){if(p=Et,p!==null){switch(j&-j){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|j))!==0?0:y,y!==0&&y!==b.retryLane&&(b.retryLane=y,dr(r,y),En(p,r,y,-1))}return Ff(),p=yf(Error(n(421))),Xa(r,o,j,p)}return y.data==="$?"?(o.flags|=128,o.child=r.child,o=w_.bind(null,r),y._reactRetry=o,null):(r=b.treeContext,on=Or(y.nextSibling),rn=o,st=!0,bn=null,r!==null&&(hn[mn++]=cr,hn[mn++]=ur,hn[mn++]=No,cr=r.id,ur=r.overflow,No=o),o=Cf(o,p.children),o.flags|=4096,o)}function gv(r,o,c){r.lanes|=o;var p=r.alternate;p!==null&&(p.lanes|=o),ef(r.return,o,c)}function _f(r,o,c,p,y){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=c,b.tailMode=y)}function vv(r,o,c){var p=o.pendingProps,y=p.revealOrder,b=p.tail;if(Bt(r,o,p.children,c),p=dt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&gv(r,c,o);else if(r.tag===19)gv(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(nt(dt,p),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(c=o.child,y=null;c!==null;)r=c.alternate,r!==null&&Ba(r)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),_f(o,!1,y,c,b);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&Ba(r)===null){o.child=y;break}r=y.sibling,y.sibling=c,c=y,y=r}_f(o,!0,c,null,b);break;case"together":_f(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ka(r,o){(o.mode&1)===0&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function pr(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),Po|=o.lanes,(c&o.childLanes)===0)return null;if(r!==null&&o.child!==r.child)throw Error(n(153));if(o.child!==null){for(r=o.child,c=Yr(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=Yr(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function a_(r,o,c){switch(o.tag){case 3:pv(o),wi();break;case 5:Tg(o);break;case 1:Gt(o.type)&&Ta(o);break;case 4:rf(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,y=o.memoizedProps.value;nt(La,p._currentValue),p._currentValue=y;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(nt(dt,dt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?mv(r,o,c):(nt(dt,dt.current&1),r=pr(r,o,c),r!==null?r.sibling:null);nt(dt,dt.current&1);break;case 19:if(p=(c&o.childLanes)!==0,(r.flags&128)!==0){if(p)return vv(r,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),nt(dt,dt.current),p)break;return null;case 22:case 23:return o.lanes=0,uv(r,o,c)}return pr(r,o,c)}var yv,Ef,xv,wv;yv=function(r,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Ef=function(){},xv=function(r,o,c,p){var y=r.memoizedProps;if(y!==p){r=o.stateNode,Eo(Gn.current);var b=null;switch(c){case"input":y=xe(r,y),p=xe(r,p),b=[];break;case"select":y=Y({},y,{value:void 0}),p=Y({},p,{value:void 0}),b=[];break;case"textarea":y=Ge(r,y),p=Ge(r,p),b=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=Pa)}Bn(c,p);var j;c=null;for(ie in y)if(!p.hasOwnProperty(ie)&&y.hasOwnProperty(ie)&&y[ie]!=null)if(ie==="style"){var $=y[ie];for(j in $)$.hasOwnProperty(j)&&(c||(c={}),c[j]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(s.hasOwnProperty(ie)?b||(b=[]):(b=b||[]).push(ie,null));for(ie in p){var G=p[ie];if($=y!=null?y[ie]:void 0,p.hasOwnProperty(ie)&&G!==$&&(G!=null||$!=null))if(ie==="style")if($){for(j in $)!$.hasOwnProperty(j)||G&&G.hasOwnProperty(j)||(c||(c={}),c[j]="");for(j in G)G.hasOwnProperty(j)&&$[j]!==G[j]&&(c||(c={}),c[j]=G[j])}else c||(b||(b=[]),b.push(ie,c)),c=G;else ie==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,$=$?$.__html:void 0,G!=null&&$!==G&&(b=b||[]).push(ie,G)):ie==="children"?typeof G!="string"&&typeof G!="number"||(b=b||[]).push(ie,""+G):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(s.hasOwnProperty(ie)?(G!=null&&ie==="onScroll"&&ot("scroll",r),b||$===G||(b=[])):(b=b||[]).push(ie,G))}c&&(b=b||[]).push("style",c);var ie=b;(o.updateQueue=ie)&&(o.flags|=4)}},wv=function(r,o,c,p){c!==p&&(o.flags|=4)};function Qs(r,o){if(!st)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function zt(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,p=0;if(o)for(var y=r.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=p,r.childLanes=c,o}function c_(r,o,c){var p=o.pendingProps;switch(Yd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(o),null;case 1:return Gt(o.type)&&Ra(),zt(o),null;case 3:return p=o.stateNode,Ci(),it(Ut),it(Ot),lf(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&(Da(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,bn!==null&&(Lf(bn),bn=null))),Ef(r,o),zt(o),null;case 5:of(o);var y=Eo(Gs.current);if(c=o.type,r!==null&&o.stateNode!=null)xv(r,o,c,p,y),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return zt(o),null}if(r=Eo(Gn.current),Da(o)){p=o.stateNode,c=o.type;var b=o.memoizedProps;switch(p[Un]=o,p[Bs]=b,r=(o.mode&1)!==0,c){case"dialog":ot("cancel",p),ot("close",p);break;case"iframe":case"object":case"embed":ot("load",p);break;case"video":case"audio":for(y=0;y<zs.length;y++)ot(zs[y],p);break;case"source":ot("error",p);break;case"img":case"image":case"link":ot("error",p),ot("load",p);break;case"details":ot("toggle",p);break;case"input":Be(p,b),ot("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!b.multiple},ot("invalid",p);break;case"textarea":et(p,b),ot("invalid",p)}Bn(c,b),y=null;for(var j in b)if(b.hasOwnProperty(j)){var $=b[j];j==="children"?typeof $=="string"?p.textContent!==$&&(b.suppressHydrationWarning!==!0&&ka(p.textContent,$,r),y=["children",$]):typeof $=="number"&&p.textContent!==""+$&&(b.suppressHydrationWarning!==!0&&ka(p.textContent,$,r),y=["children",""+$]):s.hasOwnProperty(j)&&$!=null&&j==="onScroll"&&ot("scroll",p)}switch(c){case"input":fe(p),Pe(p,b,!0);break;case"textarea":fe(p),mt(p);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(p.onclick=Pa)}p=y,o.updateQueue=p,p!==null&&(o.flags|=4)}else{j=y.nodeType===9?y:y.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=jt(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=j.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=j.createElement(c,{is:p.is}):(r=j.createElement(c),c==="select"&&(j=r,p.multiple?j.multiple=!0:p.size&&(j.size=p.size))):r=j.createElementNS(r,c),r[Un]=o,r[Bs]=p,yv(r,o,!1,!1),o.stateNode=r;e:{switch(j=Vn(c,p),c){case"dialog":ot("cancel",r),ot("close",r),y=p;break;case"iframe":case"object":case"embed":ot("load",r),y=p;break;case"video":case"audio":for(y=0;y<zs.length;y++)ot(zs[y],r);y=p;break;case"source":ot("error",r),y=p;break;case"img":case"image":case"link":ot("error",r),ot("load",r),y=p;break;case"details":ot("toggle",r),y=p;break;case"input":Be(r,p),y=xe(r,p),ot("invalid",r);break;case"option":y=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},y=Y({},p,{value:void 0}),ot("invalid",r);break;case"textarea":et(r,p),y=Ge(r,p),ot("invalid",r);break;default:y=p}Bn(c,y),$=y;for(b in $)if($.hasOwnProperty(b)){var G=$[b];b==="style"?ir(r,G):b==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&kr(r,G)):b==="children"?typeof G=="string"?(c!=="textarea"||G!=="")&&rr(r,G):typeof G=="number"&&rr(r,""+G):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(s.hasOwnProperty(b)?G!=null&&b==="onScroll"&&ot("scroll",r):G!=null&&_(r,b,G,j))}switch(c){case"input":fe(r),Pe(r,p,!1);break;case"textarea":fe(r),mt(r);break;case"option":p.value!=null&&r.setAttribute("value",""+re(p.value));break;case"select":r.multiple=!!p.multiple,b=p.value,b!=null?Je(r,!!p.multiple,b,!1):p.defaultValue!=null&&Je(r,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(r.onclick=Pa)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return zt(o),null;case 6:if(r&&o.stateNode!=null)wv(r,o,r.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(c=Eo(Gs.current),Eo(Gn.current),Da(o)){if(p=o.stateNode,c=o.memoizedProps,p[Un]=o,(b=p.nodeValue!==c)&&(r=rn,r!==null))switch(r.tag){case 3:ka(p.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ka(p.nodeValue,c,(r.mode&1)!==0)}b&&(o.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Un]=o,o.stateNode=p}return zt(o),null;case 13:if(it(dt),p=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(st&&on!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Ng(),wi(),o.flags|=98560,b=!1;else if(b=Da(o),p!==null&&p.dehydrated!==null){if(r===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Un]=o}else wi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zt(o),b=!1}else bn!==null&&(Lf(bn),bn=null),b=!0;if(!b)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(r===null||(dt.current&1)!==0?Nt===0&&(Nt=3):Ff())),o.updateQueue!==null&&(o.flags|=4),zt(o),null);case 4:return Ci(),Ef(r,o),r===null&&$s(o.stateNode.containerInfo),zt(o),null;case 10:return Jd(o.type._context),zt(o),null;case 17:return Gt(o.type)&&Ra(),zt(o),null;case 19:if(it(dt),b=o.memoizedState,b===null)return zt(o),null;if(p=(o.flags&128)!==0,j=b.rendering,j===null)if(p)Qs(b,!1);else{if(Nt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(j=Ba(r),j!==null){for(o.flags|=128,Qs(b,!1),p=j.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=c,c=o.child;c!==null;)b=c,r=p,b.flags&=14680066,j=b.alternate,j===null?(b.childLanes=0,b.lanes=r,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=j.childLanes,b.lanes=j.lanes,b.child=j.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=j.memoizedProps,b.memoizedState=j.memoizedState,b.updateQueue=j.updateQueue,b.type=j.type,r=j.dependencies,b.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return nt(dt,dt.current&1|2),o.child}r=r.sibling}b.tail!==null&&ut()>Pi&&(o.flags|=128,p=!0,Qs(b,!1),o.lanes=4194304)}else{if(!p)if(r=Ba(j),r!==null){if(o.flags|=128,p=!0,c=r.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Qs(b,!0),b.tail===null&&b.tailMode==="hidden"&&!j.alternate&&!st)return zt(o),null}else 2*ut()-b.renderingStartTime>Pi&&c!==1073741824&&(o.flags|=128,p=!0,Qs(b,!1),o.lanes=4194304);b.isBackwards?(j.sibling=o.child,o.child=j):(c=b.last,c!==null?c.sibling=j:o.child=j,b.last=j)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=ut(),o.sibling=null,c=dt.current,nt(dt,p?c&1|2:c&1),o):(zt(o),null);case 22:case 23:return $f(),p=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(sn&1073741824)!==0&&(zt(o),o.subtreeFlags&6&&(o.flags|=8192)):zt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function u_(r,o){switch(Yd(o),o.tag){case 1:return Gt(o.type)&&Ra(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Ci(),it(Ut),it(Ot),lf(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 5:return of(o),null;case 13:if(it(dt),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(n(340));wi()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return it(dt),null;case 4:return Ci(),null;case 10:return Jd(o.type._context),null;case 22:case 23:return $f(),null;case 24:return null;default:return null}}var qa=!1,$t=!1,d_=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Ei(r,o){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){gt(r,o,p)}else c.current=null}function kf(r,o,c){try{c()}catch(p){gt(r,o,p)}}var Sv=!1;function f_(r,o){if(zd=ga,r=Jm(),Rd(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var j=0,$=-1,G=-1,ie=0,de=0,pe=r,ue=null;t:for(;;){for(var ge;pe!==c||y!==0&&pe.nodeType!==3||($=j+y),pe!==b||p!==0&&pe.nodeType!==3||(G=j+p),pe.nodeType===3&&(j+=pe.nodeValue.length),(ge=pe.firstChild)!==null;)ue=pe,pe=ge;for(;;){if(pe===r)break t;if(ue===c&&++ie===y&&($=j),ue===b&&++de===p&&(G=j),(ge=pe.nextSibling)!==null)break;pe=ue,ue=pe.parentNode}pe=ge}c=$===-1||G===-1?null:{start:$,end:G}}else c=null}c=c||{start:0,end:0}}else c=null;for($d={focusedElem:r,selectionRange:c},ga=!1,ye=o;ye!==null;)if(o=ye,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,ye=r;else for(;ye!==null;){o=ye;try{var Se=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ee=Se.memoizedProps,yt=Se.memoizedState,ne=o.stateNode,q=ne.getSnapshotBeforeUpdate(o.elementType===o.type?Ee:Nn(o.type,Ee),yt);ne.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var oe=o.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){gt(o,o.return,me)}if(r=o.sibling,r!==null){r.return=o.return,ye=r;break}ye=o.return}return Se=Sv,Sv=!1,Se}function Zs(r,o,c){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&r)===r){var b=y.destroy;y.destroy=void 0,b!==void 0&&kf(o,c,b)}y=y.next}while(y!==p)}}function Qa(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&r)===r){var p=c.create;c.destroy=p()}c=c.next}while(c!==o)}}function Pf(r){var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof o=="function"?o(r):o.current=r}}function bv(r){var o=r.alternate;o!==null&&(r.alternate=null,bv(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[Un],delete o[Bs],delete o[Hd],delete o[XC],delete o[KC])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Nv(r){return r.tag===5||r.tag===3||r.tag===4}function Cv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Nv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function jf(r,o,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(r,o):c.insertBefore(r,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(r,c)):(o=c,o.appendChild(r)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Pa));else if(p!==4&&(r=r.child,r!==null))for(jf(r,o,c),r=r.sibling;r!==null;)jf(r,o,c),r=r.sibling}function Rf(r,o,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for(Rf(r,o,c),r=r.sibling;r!==null;)Rf(r,o,c),r=r.sibling}var Tt=null,Cn=!1;function Vr(r,o,c){for(c=c.child;c!==null;)_v(r,o,c),c=c.sibling}function _v(r,o,c){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(ii,c)}catch{}switch(c.tag){case 5:$t||Ei(c,o);case 6:var p=Tt,y=Cn;Tt=null,Vr(r,o,c),Tt=p,Cn=y,Tt!==null&&(Cn?(r=Tt,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):Tt.removeChild(c.stateNode));break;case 18:Tt!==null&&(Cn?(r=Tt,c=c.stateNode,r.nodeType===8?Vd(r.parentNode,c):r.nodeType===1&&Vd(r,c),Rs(r)):Vd(Tt,c.stateNode));break;case 4:p=Tt,y=Cn,Tt=c.stateNode.containerInfo,Cn=!0,Vr(r,o,c),Tt=p,Cn=y;break;case 0:case 11:case 14:case 15:if(!$t&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var b=y,j=b.destroy;b=b.tag,j!==void 0&&((b&2)!==0||(b&4)!==0)&&kf(c,o,j),y=y.next}while(y!==p)}Vr(r,o,c);break;case 1:if(!$t&&(Ei(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch($){gt(c,o,$)}Vr(r,o,c);break;case 21:Vr(r,o,c);break;case 22:c.mode&1?($t=(p=$t)||c.memoizedState!==null,Vr(r,o,c),$t=p):Vr(r,o,c);break;default:Vr(r,o,c)}}function Ev(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new d_),o.forEach(function(p){var y=S_.bind(null,r,p);c.has(p)||(c.add(p),p.then(y,y))})}}function _n(r,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var b=r,j=o,$=j;e:for(;$!==null;){switch($.tag){case 5:Tt=$.stateNode,Cn=!1;break e;case 3:Tt=$.stateNode.containerInfo,Cn=!0;break e;case 4:Tt=$.stateNode.containerInfo,Cn=!0;break e}$=$.return}if(Tt===null)throw Error(n(160));_v(b,j,y),Tt=null,Cn=!1;var G=y.alternate;G!==null&&(G.return=null),y.return=null}catch(ie){gt(y,o,ie)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)kv(o,r),o=o.sibling}function kv(r,o){var c=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(_n(o,r),Xn(r),p&4){try{Zs(3,r,r.return),Qa(3,r)}catch(Ee){gt(r,r.return,Ee)}try{Zs(5,r,r.return)}catch(Ee){gt(r,r.return,Ee)}}break;case 1:_n(o,r),Xn(r),p&512&&c!==null&&Ei(c,c.return);break;case 5:if(_n(o,r),Xn(r),p&512&&c!==null&&Ei(c,c.return),r.flags&32){var y=r.stateNode;try{rr(y,"")}catch(Ee){gt(r,r.return,Ee)}}if(p&4&&(y=r.stateNode,y!=null)){var b=r.memoizedProps,j=c!==null?c.memoizedProps:b,$=r.type,G=r.updateQueue;if(r.updateQueue=null,G!==null)try{$==="input"&&b.type==="radio"&&b.name!=null&&he(y,b),Vn($,j);var ie=Vn($,b);for(j=0;j<G.length;j+=2){var de=G[j],pe=G[j+1];de==="style"?ir(y,pe):de==="dangerouslySetInnerHTML"?kr(y,pe):de==="children"?rr(y,pe):_(y,de,pe,ie)}switch($){case"input":Re(y,b);break;case"textarea":ht(y,b);break;case"select":var ue=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!b.multiple;var ge=b.value;ge!=null?Je(y,!!b.multiple,ge,!1):ue!==!!b.multiple&&(b.defaultValue!=null?Je(y,!!b.multiple,b.defaultValue,!0):Je(y,!!b.multiple,b.multiple?[]:"",!1))}y[Bs]=b}catch(Ee){gt(r,r.return,Ee)}}break;case 6:if(_n(o,r),Xn(r),p&4){if(r.stateNode===null)throw Error(n(162));y=r.stateNode,b=r.memoizedProps;try{y.nodeValue=b}catch(Ee){gt(r,r.return,Ee)}}break;case 3:if(_n(o,r),Xn(r),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Rs(o.containerInfo)}catch(Ee){gt(r,r.return,Ee)}break;case 4:_n(o,r),Xn(r);break;case 13:_n(o,r),Xn(r),y=r.child,y.flags&8192&&(b=y.memoizedState!==null,y.stateNode.isHidden=b,!b||y.alternate!==null&&y.alternate.memoizedState!==null||(Mf=ut())),p&4&&Ev(r);break;case 22:if(de=c!==null&&c.memoizedState!==null,r.mode&1?($t=(ie=$t)||de,_n(o,r),$t=ie):_n(o,r),Xn(r),p&8192){if(ie=r.memoizedState!==null,(r.stateNode.isHidden=ie)&&!de&&(r.mode&1)!==0)for(ye=r,de=r.child;de!==null;){for(pe=ye=de;ye!==null;){switch(ue=ye,ge=ue.child,ue.tag){case 0:case 11:case 14:case 15:Zs(4,ue,ue.return);break;case 1:Ei(ue,ue.return);var Se=ue.stateNode;if(typeof Se.componentWillUnmount=="function"){p=ue,c=ue.return;try{o=p,Se.props=o.memoizedProps,Se.state=o.memoizedState,Se.componentWillUnmount()}catch(Ee){gt(p,c,Ee)}}break;case 5:Ei(ue,ue.return);break;case 22:if(ue.memoizedState!==null){Rv(pe);continue}}ge!==null?(ge.return=ue,ye=ge):Rv(pe)}de=de.sibling}e:for(de=null,pe=r;;){if(pe.tag===5){if(de===null){de=pe;try{y=pe.stateNode,ie?(b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):($=pe.stateNode,G=pe.memoizedProps.style,j=G!=null&&G.hasOwnProperty("display")?G.display:null,$.style.display=ti("display",j))}catch(Ee){gt(r,r.return,Ee)}}}else if(pe.tag===6){if(de===null)try{pe.stateNode.nodeValue=ie?"":pe.memoizedProps}catch(Ee){gt(r,r.return,Ee)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===r)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===r)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===r)break e;de===pe&&(de=null),pe=pe.return}de===pe&&(de=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:_n(o,r),Xn(r),p&4&&Ev(r);break;case 21:break;default:_n(o,r),Xn(r)}}function Xn(r){var o=r.flags;if(o&2){try{e:{for(var c=r.return;c!==null;){if(Nv(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(rr(y,""),p.flags&=-33);var b=Cv(r);Rf(r,b,y);break;case 3:case 4:var j=p.stateNode.containerInfo,$=Cv(r);jf(r,$,j);break;default:throw Error(n(161))}}catch(G){gt(r,r.return,G)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function p_(r,o,c){ye=r,Pv(r)}function Pv(r,o,c){for(var p=(r.mode&1)!==0;ye!==null;){var y=ye,b=y.child;if(y.tag===22&&p){var j=y.memoizedState!==null||qa;if(!j){var $=y.alternate,G=$!==null&&$.memoizedState!==null||$t;$=qa;var ie=$t;if(qa=j,($t=G)&&!ie)for(ye=y;ye!==null;)j=ye,G=j.child,j.tag===22&&j.memoizedState!==null?Tv(y):G!==null?(G.return=j,ye=G):Tv(y);for(;b!==null;)ye=b,Pv(b),b=b.sibling;ye=y,qa=$,$t=ie}jv(r)}else(y.subtreeFlags&8772)!==0&&b!==null?(b.return=y,ye=b):jv(r)}}function jv(r){for(;ye!==null;){var o=ye;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:$t||Qa(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!$t)if(c===null)p.componentDidMount();else{var y=o.elementType===o.type?c.memoizedProps:Nn(o.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var b=o.updateQueue;b!==null&&Rg(o,b,p);break;case 3:var j=o.updateQueue;if(j!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Rg(o,j,c)}break;case 5:var $=o.stateNode;if(c===null&&o.flags&4){c=$;var G=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&c.focus();break;case"img":G.src&&(c.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var ie=o.alternate;if(ie!==null){var de=ie.memoizedState;if(de!==null){var pe=de.dehydrated;pe!==null&&Rs(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}$t||o.flags&512&&Pf(o)}catch(ue){gt(o,o.return,ue)}}if(o===r){ye=null;break}if(c=o.sibling,c!==null){c.return=o.return,ye=c;break}ye=o.return}}function Rv(r){for(;ye!==null;){var o=ye;if(o===r){ye=null;break}var c=o.sibling;if(c!==null){c.return=o.return,ye=c;break}ye=o.return}}function Tv(r){for(;ye!==null;){var o=ye;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Qa(4,o)}catch(G){gt(o,c,G)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var y=o.return;try{p.componentDidMount()}catch(G){gt(o,y,G)}}var b=o.return;try{Pf(o)}catch(G){gt(o,b,G)}break;case 5:var j=o.return;try{Pf(o)}catch(G){gt(o,j,G)}}}catch(G){gt(o,o.return,G)}if(o===r){ye=null;break}var $=o.sibling;if($!==null){$.return=o.return,ye=$;break}ye=o.return}}var h_=Math.ceil,Za=k.ReactCurrentDispatcher,Tf=k.ReactCurrentOwner,yn=k.ReactCurrentBatchConfig,Ke=0,Et=null,wt=null,At=0,sn=0,ki=Lr(0),Nt=0,Js=null,Po=0,Ja=0,Af=0,el=null,Xt=null,Mf=0,Pi=1/0,hr=null,ec=!1,If=null,Hr=null,tc=!1,Wr=null,nc=0,tl=0,Df=null,rc=-1,oc=0;function Vt(){return(Ke&6)!==0?ut():rc!==-1?rc:rc=ut()}function Ur(r){return(r.mode&1)===0?1:(Ke&2)!==0&&At!==0?At&-At:QC.transition!==null?(oc===0&&(oc=Cm()),oc):(r=tt,r!==0||(r=window.event,r=r===void 0?16:Mm(r.type)),r)}function En(r,o,c,p){if(50<tl)throw tl=0,Df=null,Error(n(185));_s(r,c,p),((Ke&2)===0||r!==Et)&&(r===Et&&((Ke&2)===0&&(Ja|=c),Nt===4&&Gr(r,At)),Kt(r,p),c===1&&Ke===0&&(o.mode&1)===0&&(Pi=ut()+500,Aa&&$r()))}function Kt(r,o){var c=r.callbackNode;hd(r,o);var p=jr(r,r===Et?At:0);if(p===0)c!==null&&da(c),r.callbackNode=null,r.callbackPriority=0;else if(o=p&-p,r.callbackPriority!==o){if(c!=null&&da(c),o===1)r.tag===0?qC(Mv.bind(null,r)):yg(Mv.bind(null,r)),GC(function(){(Ke&6)===0&&$r()}),c=null;else{switch(_m(p)){case 1:c=Ns;break;case 4:c=pa;break;case 16:c=oi;break;case 536870912:c=Cs;break;default:c=oi}c=Bv(c,Av.bind(null,r))}r.callbackPriority=o,r.callbackNode=c}}function Av(r,o){if(rc=-1,oc=0,(Ke&6)!==0)throw Error(n(327));var c=r.callbackNode;if(ji()&&r.callbackNode!==c)return null;var p=jr(r,r===Et?At:0);if(p===0)return null;if((p&30)!==0||(p&r.expiredLanes)!==0||o)o=ic(r,p);else{o=p;var y=Ke;Ke|=2;var b=Dv();(Et!==r||At!==o)&&(hr=null,Pi=ut()+500,Ro(r,o));do try{v_();break}catch($){Iv(r,$)}while(!0);Zd(),Za.current=b,Ke=y,wt!==null?o=0:(Et=null,At=0,o=Nt)}if(o!==0){if(o===2&&(y=li(r),y!==0&&(p=y,o=Of(r,y))),o===1)throw c=Js,Ro(r,0),Gr(r,p),Kt(r,ut()),c;if(o===6)Gr(r,p);else{if(y=r.current.alternate,(p&30)===0&&!m_(y)&&(o=ic(r,p),o===2&&(b=li(r),b!==0&&(p=b,o=Of(r,b))),o===1))throw c=Js,Ro(r,0),Gr(r,p),Kt(r,ut()),c;switch(r.finishedWork=y,r.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:To(r,Xt,hr);break;case 3:if(Gr(r,p),(p&130023424)===p&&(o=Mf+500-ut(),10<o)){if(jr(r,0)!==0)break;if(y=r.suspendedLanes,(y&p)!==p){Vt(),r.pingedLanes|=r.suspendedLanes&y;break}r.timeoutHandle=Bd(To.bind(null,r,Xt,hr),o);break}To(r,Xt,hr);break;case 4:if(Gr(r,p),(p&4194240)===p)break;for(o=r.eventTimes,y=-1;0<p;){var j=31-tn(p);b=1<<j,j=o[j],j>y&&(y=j),p&=~b}if(p=y,p=ut()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*h_(p/1960))-p,10<p){r.timeoutHandle=Bd(To.bind(null,r,Xt,hr),p);break}To(r,Xt,hr);break;case 5:To(r,Xt,hr);break;default:throw Error(n(329))}}}return Kt(r,ut()),r.callbackNode===c?Av.bind(null,r):null}function Of(r,o){var c=el;return r.current.memoizedState.isDehydrated&&(Ro(r,o).flags|=256),r=ic(r,o),r!==2&&(o=Xt,Xt=c,o!==null&&Lf(o)),r}function Lf(r){Xt===null?Xt=r:Xt.push.apply(Xt,r)}function m_(r){for(var o=r;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],b=y.getSnapshot;y=y.value;try{if(!Sn(b(),y))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Gr(r,o){for(o&=~Af,o&=~Ja,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var c=31-tn(o),p=1<<c;r[c]=-1,o&=~p}}function Mv(r){if((Ke&6)!==0)throw Error(n(327));ji();var o=jr(r,0);if((o&1)===0)return Kt(r,ut()),null;var c=ic(r,o);if(r.tag!==0&&c===2){var p=li(r);p!==0&&(o=p,c=Of(r,p))}if(c===1)throw c=Js,Ro(r,0),Gr(r,o),Kt(r,ut()),c;if(c===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,To(r,Xt,hr),Kt(r,ut()),null}function zf(r,o){var c=Ke;Ke|=1;try{return r(o)}finally{Ke=c,Ke===0&&(Pi=ut()+500,Aa&&$r())}}function jo(r){Wr!==null&&Wr.tag===0&&(Ke&6)===0&&ji();var o=Ke;Ke|=1;var c=yn.transition,p=tt;try{if(yn.transition=null,tt=1,r)return r()}finally{tt=p,yn.transition=c,Ke=o,(Ke&6)===0&&$r()}}function $f(){sn=ki.current,it(ki)}function Ro(r,o){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,UC(c)),wt!==null)for(c=wt.return;c!==null;){var p=c;switch(Yd(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ra();break;case 3:Ci(),it(Ut),it(Ot),lf();break;case 5:of(p);break;case 4:Ci();break;case 13:it(dt);break;case 19:it(dt);break;case 10:Jd(p.type._context);break;case 22:case 23:$f()}c=c.return}if(Et=r,wt=r=Yr(r.current,null),At=sn=o,Nt=0,Js=null,Af=Ja=Po=0,Xt=el=null,_o!==null){for(o=0;o<_o.length;o++)if(c=_o[o],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,b=c.pending;if(b!==null){var j=b.next;b.next=y,p.next=j}c.pending=p}_o=null}return r}function Iv(r,o){do{var c=wt;try{if(Zd(),Va.current=Ga,Ha){for(var p=ft.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Ha=!1}if(ko=0,_t=bt=ft=null,Ys=!1,Xs=0,Tf.current=null,c===null||c.return===null){Nt=1,Js=o,wt=null;break}e:{var b=r,j=c.return,$=c,G=o;if(o=At,$.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var ie=G,de=$,pe=de.tag;if((de.mode&1)===0&&(pe===0||pe===11||pe===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var ge=iv(j);if(ge!==null){ge.flags&=-257,sv(ge,j,$,b,o),ge.mode&1&&ov(b,ie,o),o=ge,G=ie;var Se=o.updateQueue;if(Se===null){var Ee=new Set;Ee.add(G),o.updateQueue=Ee}else Se.add(G);break e}else{if((o&1)===0){ov(b,ie,o),Ff();break e}G=Error(n(426))}}else if(st&&$.mode&1){var yt=iv(j);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),sv(yt,j,$,b,o),qd(_i(G,$));break e}}b=G=_i(G,$),Nt!==4&&(Nt=2),el===null?el=[b]:el.push(b),b=j;do{switch(b.tag){case 3:b.flags|=65536,o&=-o,b.lanes|=o;var ne=nv(b,G,o);jg(b,ne);break e;case 1:$=G;var q=b.type,oe=b.stateNode;if((b.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Hr===null||!Hr.has(oe)))){b.flags|=65536,o&=-o,b.lanes|=o;var me=rv(b,$,o);jg(b,me);break e}}b=b.return}while(b!==null)}Lv(c)}catch(ke){o=ke,wt===c&&c!==null&&(wt=c=c.return);continue}break}while(!0)}function Dv(){var r=Za.current;return Za.current=Ga,r===null?Ga:r}function Ff(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Et===null||(Po&268435455)===0&&(Ja&268435455)===0||Gr(Et,At)}function ic(r,o){var c=Ke;Ke|=2;var p=Dv();(Et!==r||At!==o)&&(hr=null,Ro(r,o));do try{g_();break}catch(y){Iv(r,y)}while(!0);if(Zd(),Ke=c,Za.current=p,wt!==null)throw Error(n(261));return Et=null,At=0,Nt}function g_(){for(;wt!==null;)Ov(wt)}function v_(){for(;wt!==null&&!fa();)Ov(wt)}function Ov(r){var o=Fv(r.alternate,r,sn);r.memoizedProps=r.pendingProps,o===null?Lv(r):wt=o,Tf.current=null}function Lv(r){var o=r;do{var c=o.alternate;if(r=o.return,(o.flags&32768)===0){if(c=c_(c,o,sn),c!==null){wt=c;return}}else{if(c=u_(c,o),c!==null){c.flags&=32767,wt=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Nt=6,wt=null;return}}if(o=o.sibling,o!==null){wt=o;return}wt=o=r}while(o!==null);Nt===0&&(Nt=5)}function To(r,o,c){var p=tt,y=yn.transition;try{yn.transition=null,tt=1,y_(r,o,c,p)}finally{yn.transition=y,tt=p}return null}function y_(r,o,c,p){do ji();while(Wr!==null);if((Ke&6)!==0)throw Error(n(327));c=r.finishedWork;var y=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var b=c.lanes|c.childLanes;if(ZN(r,b),r===Et&&(wt=Et=null,At=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||tc||(tc=!0,Bv(oi,function(){return ji(),null})),b=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||b){b=yn.transition,yn.transition=null;var j=tt;tt=1;var $=Ke;Ke|=4,Tf.current=null,f_(r,c),kv(c,r),zC($d),ga=!!zd,$d=zd=null,r.current=c,p_(c),sd(),Ke=$,tt=j,yn.transition=b}else r.current=c;if(tc&&(tc=!1,Wr=r,nc=y),b=r.pendingLanes,b===0&&(Hr=null),cd(c.stateNode),Kt(r,ut()),o!==null)for(p=r.onRecoverableError,c=0;c<o.length;c++)y=o[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(ec)throw ec=!1,r=If,If=null,r;return(nc&1)!==0&&r.tag!==0&&ji(),b=r.pendingLanes,(b&1)!==0?r===Df?tl++:(tl=0,Df=r):tl=0,$r(),null}function ji(){if(Wr!==null){var r=_m(nc),o=yn.transition,c=tt;try{if(yn.transition=null,tt=16>r?16:r,Wr===null)var p=!1;else{if(r=Wr,Wr=null,nc=0,(Ke&6)!==0)throw Error(n(331));var y=Ke;for(Ke|=4,ye=r.current;ye!==null;){var b=ye,j=b.child;if((ye.flags&16)!==0){var $=b.deletions;if($!==null){for(var G=0;G<$.length;G++){var ie=$[G];for(ye=ie;ye!==null;){var de=ye;switch(de.tag){case 0:case 11:case 15:Zs(8,de,b)}var pe=de.child;if(pe!==null)pe.return=de,ye=pe;else for(;ye!==null;){de=ye;var ue=de.sibling,ge=de.return;if(bv(de),de===ie){ye=null;break}if(ue!==null){ue.return=ge,ye=ue;break}ye=ge}}}var Se=b.alternate;if(Se!==null){var Ee=Se.child;if(Ee!==null){Se.child=null;do{var yt=Ee.sibling;Ee.sibling=null,Ee=yt}while(Ee!==null)}}ye=b}}if((b.subtreeFlags&2064)!==0&&j!==null)j.return=b,ye=j;else e:for(;ye!==null;){if(b=ye,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Zs(9,b,b.return)}var ne=b.sibling;if(ne!==null){ne.return=b.return,ye=ne;break e}ye=b.return}}var q=r.current;for(ye=q;ye!==null;){j=ye;var oe=j.child;if((j.subtreeFlags&2064)!==0&&oe!==null)oe.return=j,ye=oe;else e:for(j=q;ye!==null;){if($=ye,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:Qa(9,$)}}catch(ke){gt($,$.return,ke)}if($===j){ye=null;break e}var me=$.sibling;if(me!==null){me.return=$.return,ye=me;break e}ye=$.return}}if(Ke=y,$r(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(ii,r)}catch{}p=!0}return p}finally{tt=c,yn.transition=o}}return!1}function zv(r,o,c){o=_i(c,o),o=nv(r,o,1),r=Br(r,o,1),o=Vt(),r!==null&&(_s(r,1,o),Kt(r,o))}function gt(r,o,c){if(r.tag===3)zv(r,r,c);else for(;o!==null;){if(o.tag===3){zv(o,r,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Hr===null||!Hr.has(p))){r=_i(c,r),r=rv(o,r,1),o=Br(o,r,1),r=Vt(),o!==null&&(_s(o,1,r),Kt(o,r));break}}o=o.return}}function x_(r,o,c){var p=r.pingCache;p!==null&&p.delete(o),o=Vt(),r.pingedLanes|=r.suspendedLanes&c,Et===r&&(At&c)===c&&(Nt===4||Nt===3&&(At&130023424)===At&&500>ut()-Mf?Ro(r,0):Af|=c),Kt(r,o)}function $v(r,o){o===0&&((r.mode&1)===0?o=1:(o=si,si<<=1,(si&130023424)===0&&(si=4194304)));var c=Vt();r=dr(r,o),r!==null&&(_s(r,o,c),Kt(r,c))}function w_(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),$v(r,c)}function S_(r,o){var c=0;switch(r.tag){case 13:var p=r.stateNode,y=r.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),$v(r,c)}var Fv;Fv=function(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps||Ut.current)Yt=!0;else{if((r.lanes&c)===0&&(o.flags&128)===0)return Yt=!1,a_(r,o,c);Yt=(r.flags&131072)!==0}else Yt=!1,st&&(o.flags&1048576)!==0&&xg(o,Ia,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;Ka(r,o),r=o.pendingProps;var y=vi(o,Ot.current);Ni(o,c),y=uf(null,o,p,r,y,c);var b=df();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Gt(p)?(b=!0,Ta(o)):b=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,nf(o),y.updater=Ya,o.stateNode=y,y._reactInternals=o,vf(o,p,r,c),o=Sf(null,o,p,!0,b,c)):(o.tag=0,st&&b&&Gd(o),Bt(null,o,y,c),o=o.child),o;case 16:p=o.elementType;e:{switch(Ka(r,o),r=o.pendingProps,y=p._init,p=y(p._payload),o.type=p,y=o.tag=N_(p),r=Nn(p,r),y){case 0:o=wf(null,o,p,r,c);break e;case 1:o=fv(null,o,p,r,c);break e;case 11:o=lv(null,o,p,r,c);break e;case 14:o=av(null,o,p,Nn(p.type,r),c);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Nn(p,y),wf(r,o,p,y,c);case 1:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Nn(p,y),fv(r,o,p,y,c);case 3:e:{if(pv(o),r===null)throw Error(n(387));p=o.pendingProps,b=o.memoizedState,y=b.element,Pg(r,o),Fa(o,p,null,c);var j=o.memoizedState;if(p=j.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){y=_i(Error(n(423)),o),o=hv(r,o,p,c,y);break e}else if(p!==y){y=_i(Error(n(424)),o),o=hv(r,o,p,c,y);break e}else for(on=Or(o.stateNode.containerInfo.firstChild),rn=o,st=!0,bn=null,c=Eg(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(wi(),p===y){o=pr(r,o,c);break e}Bt(r,o,p,c)}o=o.child}return o;case 5:return Tg(o),r===null&&Kd(o),p=o.type,y=o.pendingProps,b=r!==null?r.memoizedProps:null,j=y.children,Fd(p,y)?j=null:b!==null&&Fd(p,b)&&(o.flags|=32),dv(r,o),Bt(r,o,j,c),o.child;case 6:return r===null&&Kd(o),null;case 13:return mv(r,o,c);case 4:return rf(o,o.stateNode.containerInfo),p=o.pendingProps,r===null?o.child=Si(o,null,p,c):Bt(r,o,p,c),o.child;case 11:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Nn(p,y),lv(r,o,p,y,c);case 7:return Bt(r,o,o.pendingProps,c),o.child;case 8:return Bt(r,o,o.pendingProps.children,c),o.child;case 12:return Bt(r,o,o.pendingProps.children,c),o.child;case 10:e:{if(p=o.type._context,y=o.pendingProps,b=o.memoizedProps,j=y.value,nt(La,p._currentValue),p._currentValue=j,b!==null)if(Sn(b.value,j)){if(b.children===y.children&&!Ut.current){o=pr(r,o,c);break e}}else for(b=o.child,b!==null&&(b.return=o);b!==null;){var $=b.dependencies;if($!==null){j=b.child;for(var G=$.firstContext;G!==null;){if(G.context===p){if(b.tag===1){G=fr(-1,c&-c),G.tag=2;var ie=b.updateQueue;if(ie!==null){ie=ie.shared;var de=ie.pending;de===null?G.next=G:(G.next=de.next,de.next=G),ie.pending=G}}b.lanes|=c,G=b.alternate,G!==null&&(G.lanes|=c),ef(b.return,c,o),$.lanes|=c;break}G=G.next}}else if(b.tag===10)j=b.type===o.type?null:b.child;else if(b.tag===18){if(j=b.return,j===null)throw Error(n(341));j.lanes|=c,$=j.alternate,$!==null&&($.lanes|=c),ef(j,c,o),j=b.sibling}else j=b.child;if(j!==null)j.return=b;else for(j=b;j!==null;){if(j===o){j=null;break}if(b=j.sibling,b!==null){b.return=j.return,j=b;break}j=j.return}b=j}Bt(r,o,y.children,c),o=o.child}return o;case 9:return y=o.type,p=o.pendingProps.children,Ni(o,c),y=gn(y),p=p(y),o.flags|=1,Bt(r,o,p,c),o.child;case 14:return p=o.type,y=Nn(p,o.pendingProps),y=Nn(p.type,y),av(r,o,p,y,c);case 15:return cv(r,o,o.type,o.pendingProps,c);case 17:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Nn(p,y),Ka(r,o),o.tag=1,Gt(p)?(r=!0,Ta(o)):r=!1,Ni(o,c),ev(o,p,y),vf(o,p,y,c),Sf(null,o,p,!0,r,c);case 19:return vv(r,o,c);case 22:return uv(r,o,c)}throw Error(n(156,o.tag))};function Bv(r,o){return ua(r,o)}function b_(r,o,c,p){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(r,o,c,p){return new b_(r,o,c,p)}function Bf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function N_(r){if(typeof r=="function")return Bf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===J)return 11;if(r===V)return 14}return 2}function Yr(r,o){var c=r.alternate;return c===null?(c=xn(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function sc(r,o,c,p,y,b){var j=2;if(p=r,typeof r=="function")Bf(r)&&(j=1);else if(typeof r=="string")j=5;else e:switch(r){case R:return Ao(c.children,y,b,o);case O:j=8,y|=8;break;case W:return r=xn(12,c,o,y|2),r.elementType=W,r.lanes=b,r;case te:return r=xn(13,c,o,y),r.elementType=te,r.lanes=b,r;case T:return r=xn(19,c,o,y),r.elementType=T,r.lanes=b,r;case F:return lc(c,y,b,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Q:j=10;break e;case X:j=9;break e;case J:j=11;break e;case V:j=14;break e;case L:j=16,p=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return o=xn(j,c,o,y),o.elementType=r,o.type=p,o.lanes=b,o}function Ao(r,o,c,p){return r=xn(7,r,p,o),r.lanes=c,r}function lc(r,o,c,p){return r=xn(22,r,p,o),r.elementType=F,r.lanes=c,r.stateNode={isHidden:!1},r}function Vf(r,o,c){return r=xn(6,r,null,o),r.lanes=c,r}function Hf(r,o,c){return o=xn(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function C_(r,o,c,p,y){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=md(0),this.expirationTimes=md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=md(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Wf(r,o,c,p,y,b,j,$,G){return r=new C_(r,o,c,$,G),o===1?(o=1,b===!0&&(o|=8)):o=0,b=xn(3,null,null,o),r.current=b,b.stateNode=r,b.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},nf(b),r}function __(r,o,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:p==null?null:""+p,children:r,containerInfo:o,implementation:c}}function Vv(r){if(!r)return zr;r=r._reactInternals;e:{if(Wn(r)!==r||r.tag!==1)throw Error(n(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Gt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(r.tag===1){var c=r.type;if(Gt(c))return gg(r,c,o)}return o}function Hv(r,o,c,p,y,b,j,$,G){return r=Wf(c,p,!0,r,y,b,j,$,G),r.context=Vv(null),c=r.current,p=Vt(),y=Ur(c),b=fr(p,y),b.callback=o??null,Br(c,b,y),r.current.lanes=y,_s(r,y,p),Kt(r,p),r}function ac(r,o,c,p){var y=o.current,b=Vt(),j=Ur(y);return c=Vv(c),o.context===null?o.context=c:o.pendingContext=c,o=fr(b,j),o.payload={element:r},p=p===void 0?null:p,p!==null&&(o.callback=p),r=Br(y,o,j),r!==null&&(En(r,y,j,b),$a(r,y,j)),j}function cc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Wv(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function Uf(r,o){Wv(r,o),(r=r.alternate)&&Wv(r,o)}function E_(){return null}var Uv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Gf(r){this._internalRoot=r}uc.prototype.render=Gf.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(n(409));ac(r,o,null,null)},uc.prototype.unmount=Gf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;jo(function(){ac(null,r,null,null)}),o[lr]=null}};function uc(r){this._internalRoot=r}uc.prototype.unstable_scheduleHydration=function(r){if(r){var o=Pm();r={blockedOn:null,target:r,priority:o};for(var c=0;c<Mr.length&&o!==0&&o<Mr[c].priority;c++);Mr.splice(c,0,r),c===0&&Tm(r)}};function Yf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function dc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Gv(){}function k_(r,o,c,p,y){if(y){if(typeof p=="function"){var b=p;p=function(){var ie=cc(j);b.call(ie)}}var j=Hv(o,p,r,0,null,!1,!1,"",Gv);return r._reactRootContainer=j,r[lr]=j.current,$s(r.nodeType===8?r.parentNode:r),jo(),j}for(;y=r.lastChild;)r.removeChild(y);if(typeof p=="function"){var $=p;p=function(){var ie=cc(G);$.call(ie)}}var G=Wf(r,0,!1,null,null,!1,!1,"",Gv);return r._reactRootContainer=G,r[lr]=G.current,$s(r.nodeType===8?r.parentNode:r),jo(function(){ac(o,G,c,p)}),G}function fc(r,o,c,p,y){var b=c._reactRootContainer;if(b){var j=b;if(typeof y=="function"){var $=y;y=function(){var G=cc(j);$.call(G)}}ac(o,j,r,y)}else j=k_(c,o,r,y,p);return cc(j)}Em=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var c=wo(o.pendingLanes);c!==0&&(gd(o,c|1),Kt(o,ut()),(Ke&6)===0&&(Pi=ut()+500,$r()))}break;case 13:jo(function(){var p=dr(r,1);if(p!==null){var y=Vt();En(p,r,1,y)}}),Uf(r,1)}},vd=function(r){if(r.tag===13){var o=dr(r,134217728);if(o!==null){var c=Vt();En(o,r,134217728,c)}Uf(r,134217728)}},km=function(r){if(r.tag===13){var o=Ur(r),c=dr(r,o);if(c!==null){var p=Vt();En(c,r,o,p)}Uf(r,o)}},Pm=function(){return tt},jm=function(r,o){var c=tt;try{return tt=r,o()}finally{tt=c}},Te=function(r,o,c){switch(o){case"input":if(Re(r,c),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==r&&p.form===r.form){var y=ja(p);if(!y)throw Error(n(90));ce(p),Re(p,y)}}}break;case"textarea":ht(r,c);break;case"select":o=c.value,o!=null&&Je(r,!!c.multiple,o,!1)}},ra=zf,oa=jo;var P_={usingClientEntryPoint:!1,Events:[Vs,mi,ja,Rt,xt,zf]},nl={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j_={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=aa(r),r===null?null:r.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||E_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{ii=pc.inject(j_),pn=pc}catch{}}return qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P_,qt.createPortal=function(r,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yf(o))throw Error(n(200));return __(r,o,null,c)},qt.createRoot=function(r,o){if(!Yf(r))throw Error(n(299));var c=!1,p="",y=Uv;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=Wf(r,1,!1,null,null,c,!1,p,y),r[lr]=o.current,$s(r.nodeType===8?r.parentNode:r),new Gf(o)},qt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=aa(o),r=r===null?null:r.stateNode,r},qt.flushSync=function(r){return jo(r)},qt.hydrate=function(r,o,c){if(!dc(o))throw Error(n(200));return fc(null,r,o,!0,c)},qt.hydrateRoot=function(r,o,c){if(!Yf(r))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,y=!1,b="",j=Uv;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onRecoverableError!==void 0&&(j=c.onRecoverableError)),o=Hv(o,null,r,1,c??null,y,!1,b,j),r[lr]=o.current,$s(r),p)for(r=0;r<p.length;r++)c=p[r],y=c._getVersion,y=y(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,y]:o.mutableSourceEagerHydrationData.push(c,y);return new uc(o)},qt.render=function(r,o,c){if(!dc(o))throw Error(n(200));return fc(null,r,o,!1,c)},qt.unmountComponentAtNode=function(r){if(!dc(r))throw Error(n(40));return r._reactRootContainer?(jo(function(){fc(null,null,r,!1,function(){r._reactRootContainer=null,r[lr]=null})}),!0):!1},qt.unstable_batchedUpdates=zf,qt.unstable_renderSubtreeIntoContainer=function(r,o,c,p){if(!dc(c))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return fc(r,o,c,!1,p)},qt.version="18.3.1-next-f1338f8080-20240426",qt}var ey;function f0(){if(ey)return qf.exports;ey=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qf.exports=L_(),qf.exports}var ty;function z_(){if(ty)return hc;ty=1;var e=f0();return hc.createRoot=e.createRoot,hc.hydrateRoot=e.hydrateRoot,hc}var $_=z_();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B_=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),ny=e=>{const t=B_(e);return t.charAt(0).toUpperCase()+t.slice(1)},p0=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:l,iconNode:a,...u},f)=>S.createElement("svg",{ref:f,...V_,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:p0("lucide",s),...u},[...a.map(([h,v])=>S.createElement(h,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(e,t)=>{const n=S.forwardRef(({className:i,...s},l)=>S.createElement(H_,{ref:l,iconNode:t,className:p0(`lucide-${F_(ny(e))}`,`lucide-${e}`,i),...s}));return n.displayName=ny(e),n};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],U_=vt("arrow-down",W_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],h0=vt("arrow-right",G_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],X_=vt("check",Y_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Lo=vt("chevron-down",K_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ol=vt("chevron-right",q_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Z_=vt("chevron-up",Q_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Rp=vt("circle-plus",J_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],m0=vt("circle",eE);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],nE=vt("code",tE);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],oE=vt("file-up",rE);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],sE=vt("folder-open",iE);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],hl=vt("grip-vertical",lE);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M15 12h6",key:"upa0zy"}],["path",{d:"M15 6h6",key:"1jlkvy"}],["path",{d:"m3 13 3.553-7.724a.5.5 0 0 1 .894 0L11 13",key:"blevx4"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M4 11h6",key:"olkgv1"}]],cE=vt("letter-text",aE);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],dE=vt("network",uE);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],pE=vt("play",fE);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["polygon",{points:"11 19 2 12 11 5 11 19",key:"14yba5"}],["polygon",{points:"22 19 13 12 22 5 22 19",key:"1pi1cj"}]],mE=vt("rewind",hE);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vE=vt("save",gE);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],il=vt("square-pen",yE);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],wE=vt("square",xE);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],vr=vt("trash-2",SE);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],NE=vt("upload",bE);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_E=vt("x",CE),{createElement:Qi,createContext:EE,forwardRef:g0,useCallback:Qt,useContext:v0,useEffect:Bo,useImperativeHandle:y0,useLayoutEffect:kE,useMemo:PE,useRef:Zt,useState:Wi}=pu,ry=pu[`useId${Math.random()}`.slice(0,5)],jE=kE,hu=EE(null);hu.displayName="PanelGroupContext";const Vo=jE,RE=typeof ry=="function"?ry:()=>null;let TE=0;function wh(e=null){const t=RE(),n=Zt(e||t||null);return n.current===null&&(n.current=""+TE++),e??n.current}function x0({children:e,className:t="",collapsedSize:n,collapsible:i,defaultSize:s,forwardedRef:l,id:a,maxSize:u,minSize:f,onCollapse:h,onExpand:v,onResize:m,order:g,style:x,tagName:C="div",...w}){const N=v0(hu);if(N===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:E,expandPanel:P,getPanelSize:_,getPanelStyle:k,groupId:A,isPanelCollapsed:D,reevaluatePanelConstraints:R,registerPanel:O,resizePanel:W,unregisterPanel:Q}=N,X=wh(a),J=Zt({callbacks:{onCollapse:h,onExpand:v,onResize:m},constraints:{collapsedSize:n,collapsible:i,defaultSize:s,maxSize:u,minSize:f},id:X,idIsFromProps:a!==void 0,order:g});Zt({didLogMissingDefaultSizeWarning:!1}),Vo(()=>{const{callbacks:T,constraints:V}=J.current,L={...V};J.current.id=X,J.current.idIsFromProps=a!==void 0,J.current.order=g,T.onCollapse=h,T.onExpand=v,T.onResize=m,V.collapsedSize=n,V.collapsible=i,V.defaultSize=s,V.maxSize=u,V.minSize=f,(L.collapsedSize!==V.collapsedSize||L.collapsible!==V.collapsible||L.maxSize!==V.maxSize||L.minSize!==V.minSize)&&R(J.current,L)}),Vo(()=>{const T=J.current;return O(T),()=>{Q(T)}},[g,X,O,Q]),y0(l,()=>({collapse:()=>{E(J.current)},expand:T=>{P(J.current,T)},getId(){return X},getSize(){return _(J.current)},isCollapsed(){return D(J.current)},isExpanded(){return!D(J.current)},resize:T=>{W(J.current,T)}}),[E,P,_,D,X,W]);const te=k(J.current,s);return Qi(C,{...w,children:e,className:t,id:a,style:{...te,...x},"data-panel":"","data-panel-collapsible":i||void 0,"data-panel-group-id":A,"data-panel-id":X,"data-panel-size":parseFloat(""+te.flexGrow).toFixed(1)})}const w0=g0((e,t)=>Qi(x0,{...e,forwardedRef:t}));x0.displayName="Panel";w0.displayName="forwardRef(Panel)";let Tp=null,zo=null;function AE(e,t){if(t){const n=(t&_0)!==0,i=(t&E0)!==0,s=(t&k0)!==0,l=(t&P0)!==0;if(n)return s?"se-resize":l?"ne-resize":"e-resize";if(i)return s?"sw-resize":l?"nw-resize":"w-resize";if(s)return"s-resize";if(l)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function ME(){zo!==null&&(document.head.removeChild(zo),Tp=null,zo=null)}function Jf(e,t){const n=AE(e,t);Tp!==n&&(Tp=n,zo===null&&(zo=document.createElement("style"),document.head.appendChild(zo)),zo.innerHTML=`*{cursor: ${n}!important;}`)}function S0(e){return e.type==="keydown"}function b0(e){return e.type.startsWith("pointer")}function N0(e){return e.type.startsWith("mouse")}function mu(e){if(b0(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(N0(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function IE(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function DE(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function OE(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:sy(e),b:sy(t)};let i;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),i=e;$e(i,"Stacking order can only be calculated for elements with a common ancestor");const s={a:iy(oy(n.a)),b:iy(oy(n.b))};if(s.a===s.b){const l=i.childNodes,a={a:n.a.at(-1),b:n.b.at(-1)};let u=l.length;for(;u--;){const f=l[u];if(f===a.a)return 1;if(f===a.b)return-1}}return Math.sign(s.a-s.b)}const LE=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function zE(e){var t;const n=getComputedStyle((t=C0(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function $E(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||zE(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||LE.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function oy(e){let t=e.length;for(;t--;){const n=e[t];if($e(n,"Missing node"),$E(n))return n}return null}function iy(e){return e&&Number(getComputedStyle(e).zIndex)||0}function sy(e){const t=[];for(;e;)t.push(e),e=C0(e);return t}function C0(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const _0=1,E0=2,k0=4,P0=8,FE=IE()==="coarse";let Dn=[],Ui=!1,to=new Map,gu=new Map;const _l=new Set;function BE(e,t,n,i,s){var l;const{ownerDocument:a}=t,u={direction:n,element:t,hitAreaMargins:i,setResizeHandlerState:s},f=(l=to.get(a))!==null&&l!==void 0?l:0;return to.set(a,f+1),_l.add(u),Gc(),function(){var v;gu.delete(e),_l.delete(u);const m=(v=to.get(a))!==null&&v!==void 0?v:1;if(to.set(a,m-1),Gc(),m===1&&to.delete(a),Dn.includes(u)){const g=Dn.indexOf(u);g>=0&&Dn.splice(g,1),bh(),s("up",!0,null)}}}function ly(e){const{target:t}=e,{x:n,y:i}=mu(e);Ui=!0,Sh({target:t,x:n,y:i}),Gc(),Dn.length>0&&(Yc("down",e),e.preventDefault(),e.stopPropagation())}function sl(e){const{x:t,y:n}=mu(e);if(Ui&&e.buttons===0&&(Ui=!1,Yc("up",e)),!Ui){const{target:i}=e;Sh({target:i,x:t,y:n})}Yc("move",e),bh(),Dn.length>0&&e.preventDefault()}function Ri(e){const{target:t}=e,{x:n,y:i}=mu(e);gu.clear(),Ui=!1,Dn.length>0&&e.preventDefault(),Yc("up",e),Sh({target:t,x:n,y:i}),bh(),Gc()}function Sh({target:e,x:t,y:n}){Dn.splice(0);let i=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(i=e),_l.forEach(s=>{const{element:l,hitAreaMargins:a}=s,u=l.getBoundingClientRect(),{bottom:f,left:h,right:v,top:m}=u,g=FE?a.coarse:a.fine;if(t>=h-g&&t<=v+g&&n>=m-g&&n<=f+g){if(i!==null&&document.contains(i)&&l!==i&&!l.contains(i)&&!i.contains(l)&&OE(i,l)>0){let C=i,w=!1;for(;C&&!C.contains(l);){if(DE(C.getBoundingClientRect(),u)){w=!0;break}C=C.parentElement}if(w)return}Dn.push(s)}})}function ep(e,t){gu.set(e,t)}function bh(){let e=!1,t=!1;Dn.forEach(i=>{const{direction:s}=i;s==="horizontal"?e=!0:t=!0});let n=0;gu.forEach(i=>{n|=i}),e&&t?Jf("intersection",n):e?Jf("horizontal",n):t?Jf("vertical",n):ME()}function Gc(){to.forEach((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",Ri),n.removeEventListener("pointerdown",ly),n.removeEventListener("pointerleave",sl),n.removeEventListener("pointermove",sl)}),window.removeEventListener("pointerup",Ri),window.removeEventListener("pointercancel",Ri),_l.size>0&&(Ui?(Dn.length>0&&to.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",Ri),n.addEventListener("pointerleave",sl),n.addEventListener("pointermove",sl))}),window.addEventListener("pointerup",Ri),window.addEventListener("pointercancel",Ri)):to.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("pointerdown",ly,{capture:!0}),n.addEventListener("pointermove",sl))}))}function Yc(e,t){_l.forEach(n=>{const{setResizeHandlerState:i}=n,s=Dn.includes(n);i(e,s,t)})}function VE(){const[e,t]=Wi(0);return Qt(()=>t(n=>n+1),[])}function $e(e,t){if(!e)throw console.error(t),Error(t)}const Nh=10;function Uo(e,t,n=Nh){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function yr(e,t,n=Nh){return Uo(e,t,n)===0}function ln(e,t,n){return Uo(e,t,n)===0}function HE(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){const s=e[i],l=t[i];if(!ln(s,l,n))return!1}return!0}function zi({panelConstraints:e,panelIndex:t,size:n}){const i=e[t];$e(i!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:s=0,collapsible:l,maxSize:a=100,minSize:u=0}=i;if(Uo(n,u)<0)if(l){const f=(s+u)/2;Uo(n,f)<0?n=s:n=u}else n=u;return n=Math.min(a,n),n=parseFloat(n.toFixed(Nh)),n}function ml({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:i,prevLayout:s,trigger:l}){if(ln(e,0))return t;const a=[...t],[u,f]=i;$e(u!=null,"Invalid first pivot index"),$e(f!=null,"Invalid second pivot index");let h=0;if(l==="keyboard"){{const m=e<0?f:u,g=n[m];$e(g,`Panel constraints not found for index ${m}`);const{collapsedSize:x=0,collapsible:C,minSize:w=0}=g;if(C){const N=t[m];if($e(N!=null,`Previous layout not found for panel index ${m}`),ln(N,x)){const E=w-N;Uo(E,Math.abs(e))>0&&(e=e<0?0-E:E)}}}{const m=e<0?u:f,g=n[m];$e(g,`No panel constraints found for index ${m}`);const{collapsedSize:x=0,collapsible:C,minSize:w=0}=g;if(C){const N=t[m];if($e(N!=null,`Previous layout not found for panel index ${m}`),ln(N,w)){const E=N-x;Uo(E,Math.abs(e))>0&&(e=e<0?0-E:E)}}}}{const m=e<0?1:-1;let g=e<0?f:u,x=0;for(;;){const w=t[g];$e(w!=null,`Previous layout not found for panel index ${g}`);const E=zi({panelConstraints:n,panelIndex:g,size:100})-w;if(x+=E,g+=m,g<0||g>=n.length)break}const C=Math.min(Math.abs(e),Math.abs(x));e=e<0?0-C:C}{let g=e<0?u:f;for(;g>=0&&g<n.length;){const x=Math.abs(e)-Math.abs(h),C=t[g];$e(C!=null,`Previous layout not found for panel index ${g}`);const w=C-x,N=zi({panelConstraints:n,panelIndex:g,size:w});if(!ln(C,N)&&(h+=C-N,a[g]=N,h.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?g--:g++}}if(HE(s,a))return s;{const m=e<0?f:u,g=t[m];$e(g!=null,`Previous layout not found for panel index ${m}`);const x=g+h,C=zi({panelConstraints:n,panelIndex:m,size:x});if(a[m]=C,!ln(C,x)){let w=x-C,E=e<0?f:u;for(;E>=0&&E<n.length;){const P=a[E];$e(P!=null,`Previous layout not found for panel index ${E}`);const _=P+w,k=zi({panelConstraints:n,panelIndex:E,size:_});if(ln(P,k)||(w-=k-P,a[E]=k),ln(w,0))break;e>0?E--:E++}}}const v=a.reduce((m,g)=>g+m,0);return ln(v,100)?a:s}function WE({layout:e,panelsArray:t,pivotIndices:n}){let i=0,s=100,l=0,a=0;const u=n[0];$e(u!=null,"No pivot index found"),t.forEach((m,g)=>{const{constraints:x}=m,{maxSize:C=100,minSize:w=0}=x;g===u?(i=w,s=C):(l+=w,a+=C)});const f=Math.min(s,100-l),h=Math.max(i,100-a),v=e[u];return{valueMax:f,valueMin:h,valueNow:v}}function El(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function j0(e,t,n=document){const s=El(e,n).findIndex(l=>l.getAttribute("data-panel-resize-handle-id")===t);return s??null}function R0(e,t,n){const i=j0(e,t,n);return i!=null?[i,i+1]:[-1,-1]}function T0(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const i=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return i||null}function vu(e,t=document){const n=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function UE(e,t,n,i=document){var s,l,a,u;const f=vu(t,i),h=El(e,i),v=f?h.indexOf(f):-1,m=(s=(l=n[v])===null||l===void 0?void 0:l.id)!==null&&s!==void 0?s:null,g=(a=(u=n[v+1])===null||u===void 0?void 0:u.id)!==null&&a!==void 0?a:null;return[m,g]}function GE({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:i,panelDataArray:s,panelGroupElement:l,setLayout:a}){Zt({didWarnAboutMissingResizeHandle:!1}),Vo(()=>{if(!l)return;const u=El(n,l);for(let f=0;f<s.length-1;f++){const{valueMax:h,valueMin:v,valueNow:m}=WE({layout:i,panelsArray:s,pivotIndices:[f,f+1]}),g=u[f];if(g!=null){const x=s[f];$e(x,`No panel data found for index "${f}"`),g.setAttribute("aria-controls",x.id),g.setAttribute("aria-valuemax",""+Math.round(h)),g.setAttribute("aria-valuemin",""+Math.round(v)),g.setAttribute("aria-valuenow",m!=null?""+Math.round(m):"")}}return()=>{u.forEach((f,h)=>{f.removeAttribute("aria-controls"),f.removeAttribute("aria-valuemax"),f.removeAttribute("aria-valuemin"),f.removeAttribute("aria-valuenow")})}},[n,i,s,l]),Bo(()=>{if(!l)return;const u=t.current;$e(u,"Eager values not found");const{panelDataArray:f}=u,h=T0(n,l);$e(h!=null,`No group found for id "${n}"`);const v=El(n,l);$e(v,`No resize handles found for group id "${n}"`);const m=v.map(g=>{const x=g.getAttribute("data-panel-resize-handle-id");$e(x,"Resize handle element has no handle id attribute");const[C,w]=UE(n,x,f,l);if(C==null||w==null)return()=>{};const N=E=>{if(!E.defaultPrevented)switch(E.key){case"Enter":{E.preventDefault();const P=f.findIndex(_=>_.id===C);if(P>=0){const _=f[P];$e(_,`No panel data found for index ${P}`);const k=i[P],{collapsedSize:A=0,collapsible:D,minSize:R=0}=_.constraints;if(k!=null&&D){const O=ml({delta:ln(k,A)?R-A:A-k,initialLayout:i,panelConstraints:f.map(W=>W.constraints),pivotIndices:R0(n,x,l),prevLayout:i,trigger:"keyboard"});i!==O&&a(O)}}break}}};return g.addEventListener("keydown",N),()=>{g.removeEventListener("keydown",N)}});return()=>{m.forEach(g=>g())}},[l,e,t,n,i,s,a])}function ay(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function A0(e,t){const n=e==="horizontal",{x:i,y:s}=mu(t);return n?i:s}function YE(e,t,n,i,s){const l=n==="horizontal",a=vu(t,s);$e(a,`No resize handle element found for id "${t}"`);const u=a.getAttribute("data-panel-group-id");$e(u,"Resize handle element has no group id attribute");let{initialCursorPosition:f}=i;const h=A0(n,e),v=T0(u,s);$e(v,`No group element found for id "${u}"`);const m=v.getBoundingClientRect(),g=l?m.width:m.height;return(h-f)/g*100}function XE(e,t,n,i,s,l){if(S0(e)){const a=n==="horizontal";let u=0;e.shiftKey?u=100:s!=null?u=s:u=10;let f=0;switch(e.key){case"ArrowDown":f=a?0:u;break;case"ArrowLeft":f=a?-u:0;break;case"ArrowRight":f=a?u:0;break;case"ArrowUp":f=a?0:-u;break;case"End":f=100;break;case"Home":f=-100;break}return f}else return i==null?0:YE(e,t,n,i,l)}function KE({panelDataArray:e}){const t=Array(e.length),n=e.map(l=>l.constraints);let i=0,s=100;for(let l=0;l<e.length;l++){const a=n[l];$e(a,`Panel constraints not found for index ${l}`);const{defaultSize:u}=a;u!=null&&(i++,t[l]=u,s-=u)}for(let l=0;l<e.length;l++){const a=n[l];$e(a,`Panel constraints not found for index ${l}`);const{defaultSize:u}=a;if(u!=null)continue;const f=e.length-i,h=s/f;i++,t[l]=h,s-=h}return t}function Ti(e,t,n){t.forEach((i,s)=>{const l=e[s];$e(l,`Panel data not found for index ${s}`);const{callbacks:a,constraints:u,id:f}=l,{collapsedSize:h=0,collapsible:v}=u,m=n[f];if(m==null||i!==m){n[f]=i;const{onCollapse:g,onExpand:x,onResize:C}=a;C&&C(i,m),v&&(g||x)&&(x&&(m==null||yr(m,h))&&!yr(i,h)&&x(),g&&(m==null||!yr(m,h))&&yr(i,h)&&g())}})}function mc(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function qE({defaultSize:e,dragState:t,layout:n,panelData:i,panelIndex:s,precision:l=3}){const a=n[s];let u;return a==null?u=e!=null?e.toPrecision(l):"1":i.length===1?u="1":u=a.toPrecision(l),{flexBasis:0,flexGrow:u,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function QE(e,t=10){let n=null;return(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...s)},t)}}function cy(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function M0(e){return`react-resizable-panels:${e}`}function I0(e){return e.map(t=>{const{constraints:n,id:i,idIsFromProps:s,order:l}=t;return s?i:l?`${l}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function D0(e,t){try{const n=M0(e),i=t.getItem(n);if(i){const s=JSON.parse(i);if(typeof s=="object"&&s!=null)return s}}catch{}return null}function ZE(e,t,n){var i,s;const l=(i=D0(e,n))!==null&&i!==void 0?i:{},a=I0(t);return(s=l[a])!==null&&s!==void 0?s:null}function JE(e,t,n,i,s){var l;const a=M0(e),u=I0(t),f=(l=D0(e,s))!==null&&l!==void 0?l:{};f[u]={expandToSizes:Object.fromEntries(n.entries()),layout:i};try{s.setItem(a,JSON.stringify(f))}catch(h){console.error(h)}}function uy({layout:e,panelConstraints:t}){const n=[...e],i=n.reduce((l,a)=>l+a,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(l=>`${l}%`).join(", ")}`);if(!ln(i,100)&&n.length>0)for(let l=0;l<t.length;l++){const a=n[l];$e(a!=null,`No layout data found for index ${l}`);const u=100/i*a;n[l]=u}let s=0;for(let l=0;l<t.length;l++){const a=n[l];$e(a!=null,`No layout data found for index ${l}`);const u=zi({panelConstraints:t,panelIndex:l,size:a});a!=u&&(s+=a-u,n[l]=u)}if(!ln(s,0))for(let l=0;l<t.length;l++){const a=n[l];$e(a!=null,`No layout data found for index ${l}`);const u=a+s,f=zi({panelConstraints:t,panelIndex:l,size:u});if(a!==f&&(s-=f-a,n[l]=f,ln(s,0)))break}return n}const ek=100,gl={getItem:e=>(cy(gl),gl.getItem(e)),setItem:(e,t)=>{cy(gl),gl.setItem(e,t)}},dy={};function O0({autoSaveId:e=null,children:t,className:n="",direction:i,forwardedRef:s,id:l=null,onLayout:a=null,keyboardResizeBy:u=null,storage:f=gl,style:h,tagName:v="div",...m}){const g=wh(l),x=Zt(null),[C,w]=Wi(null),[N,E]=Wi([]),P=VE(),_=Zt({}),k=Zt(new Map),A=Zt(0),D=Zt({autoSaveId:e,direction:i,dragState:C,id:g,keyboardResizeBy:u,onLayout:a,storage:f}),R=Zt({layout:N,panelDataArray:[],panelDataArrayChanged:!1});Zt({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),y0(s,()=>({getId:()=>D.current.id,getLayout:()=>{const{layout:K}=R.current;return K},setLayout:K=>{const{onLayout:ee}=D.current,{layout:B,panelDataArray:Z}=R.current,H=uy({layout:K,panelConstraints:Z.map(re=>re.constraints)});ay(B,H)||(E(H),R.current.layout=H,ee&&ee(H),Ti(Z,H,_.current))}}),[]),Vo(()=>{D.current.autoSaveId=e,D.current.direction=i,D.current.dragState=C,D.current.id=g,D.current.onLayout=a,D.current.storage=f}),GE({committedValuesRef:D,eagerValuesRef:R,groupId:g,layout:N,panelDataArray:R.current.panelDataArray,setLayout:E,panelGroupElement:x.current}),Bo(()=>{const{panelDataArray:K}=R.current;if(e){if(N.length===0||N.length!==K.length)return;let ee=dy[e];ee==null&&(ee=QE(JE,ek),dy[e]=ee);const B=[...K],Z=new Map(k.current);ee(e,B,Z,N,f)}},[e,N,f]),Bo(()=>{});const O=Qt(K=>{const{onLayout:ee}=D.current,{layout:B,panelDataArray:Z}=R.current;if(K.constraints.collapsible){const H=Z.map(fe=>fe.constraints),{collapsedSize:re=0,panelSize:le,pivotIndices:ae}=Mo(Z,K,B);if($e(le!=null,`Panel size not found for panel "${K.id}"`),!yr(le,re)){k.current.set(K.id,le);const ce=Li(Z,K)===Z.length-1?le-re:re-le,ve=ml({delta:ce,initialLayout:B,panelConstraints:H,pivotIndices:ae,prevLayout:B,trigger:"imperative-api"});mc(B,ve)||(E(ve),R.current.layout=ve,ee&&ee(ve),Ti(Z,ve,_.current))}}},[]),W=Qt((K,ee)=>{const{onLayout:B}=D.current,{layout:Z,panelDataArray:H}=R.current;if(K.constraints.collapsible){const re=H.map(xe=>xe.constraints),{collapsedSize:le=0,panelSize:ae=0,minSize:fe=0,pivotIndices:ce}=Mo(H,K,Z),ve=ee??fe;if(yr(ae,le)){const xe=k.current.get(K.id),Be=xe!=null&&xe>=ve?xe:ve,Re=Li(H,K)===H.length-1?ae-Be:Be-ae,Pe=ml({delta:Re,initialLayout:Z,panelConstraints:re,pivotIndices:ce,prevLayout:Z,trigger:"imperative-api"});mc(Z,Pe)||(E(Pe),R.current.layout=Pe,B&&B(Pe),Ti(H,Pe,_.current))}}},[]),Q=Qt(K=>{const{layout:ee,panelDataArray:B}=R.current,{panelSize:Z}=Mo(B,K,ee);return $e(Z!=null,`Panel size not found for panel "${K.id}"`),Z},[]),X=Qt((K,ee)=>{const{panelDataArray:B}=R.current,Z=Li(B,K);return qE({defaultSize:ee,dragState:C,layout:N,panelData:B,panelIndex:Z})},[C,N]),J=Qt(K=>{const{layout:ee,panelDataArray:B}=R.current,{collapsedSize:Z=0,collapsible:H,panelSize:re}=Mo(B,K,ee);return $e(re!=null,`Panel size not found for panel "${K.id}"`),H===!0&&yr(re,Z)},[]),te=Qt(K=>{const{layout:ee,panelDataArray:B}=R.current,{collapsedSize:Z=0,collapsible:H,panelSize:re}=Mo(B,K,ee);return $e(re!=null,`Panel size not found for panel "${K.id}"`),!H||Uo(re,Z)>0},[]),T=Qt(K=>{const{panelDataArray:ee}=R.current;ee.push(K),ee.sort((B,Z)=>{const H=B.order,re=Z.order;return H==null&&re==null?0:H==null?-1:re==null?1:H-re}),R.current.panelDataArrayChanged=!0,P()},[P]);Vo(()=>{if(R.current.panelDataArrayChanged){R.current.panelDataArrayChanged=!1;const{autoSaveId:K,onLayout:ee,storage:B}=D.current,{layout:Z,panelDataArray:H}=R.current;let re=null;if(K){const ae=ZE(K,H,B);ae&&(k.current=new Map(Object.entries(ae.expandToSizes)),re=ae.layout)}re==null&&(re=KE({panelDataArray:H}));const le=uy({layout:re,panelConstraints:H.map(ae=>ae.constraints)});ay(Z,le)||(E(le),R.current.layout=le,ee&&ee(le),Ti(H,le,_.current))}}),Vo(()=>{const K=R.current;return()=>{K.layout=[]}},[]);const V=Qt(K=>{let ee=!1;const B=x.current;return B&&window.getComputedStyle(B,null).getPropertyValue("direction")==="rtl"&&(ee=!0),function(H){H.preventDefault();const re=x.current;if(!re)return()=>null;const{direction:le,dragState:ae,id:fe,keyboardResizeBy:ce,onLayout:ve}=D.current,{layout:xe,panelDataArray:Be}=R.current,{initialLayout:he}=ae??{},Re=R0(fe,K,re);let Pe=XE(H,K,le,ae,ce,re);const Ue=le==="horizontal";Ue&&ee&&(Pe=-Pe);const Xe=Be.map(et=>et.constraints),Je=ml({delta:Pe,initialLayout:he??xe,panelConstraints:Xe,pivotIndices:Re,prevLayout:xe,trigger:S0(H)?"keyboard":"mouse-or-touch"}),Ge=!mc(xe,Je);(b0(H)||N0(H))&&A.current!=Pe&&(A.current=Pe,!Ge&&Pe!==0?Ue?ep(K,Pe<0?_0:E0):ep(K,Pe<0?k0:P0):ep(K,0)),Ge&&(E(Je),R.current.layout=Je,ve&&ve(Je),Ti(Be,Je,_.current))}},[]),L=Qt((K,ee)=>{const{onLayout:B}=D.current,{layout:Z,panelDataArray:H}=R.current,re=H.map(xe=>xe.constraints),{panelSize:le,pivotIndices:ae}=Mo(H,K,Z);$e(le!=null,`Panel size not found for panel "${K.id}"`);const ce=Li(H,K)===H.length-1?le-ee:ee-le,ve=ml({delta:ce,initialLayout:Z,panelConstraints:re,pivotIndices:ae,prevLayout:Z,trigger:"imperative-api"});mc(Z,ve)||(E(ve),R.current.layout=ve,B&&B(ve),Ti(H,ve,_.current))},[]),F=Qt((K,ee)=>{const{layout:B,panelDataArray:Z}=R.current,{collapsedSize:H=0,collapsible:re}=ee,{collapsedSize:le=0,collapsible:ae,maxSize:fe=100,minSize:ce=0}=K.constraints,{panelSize:ve}=Mo(Z,K,B);ve!=null&&(re&&ae&&yr(ve,H)?yr(H,le)||L(K,le):ve<ce?L(K,ce):ve>fe&&L(K,fe))},[L]),M=Qt((K,ee)=>{const{direction:B}=D.current,{layout:Z}=R.current;if(!x.current)return;const H=vu(K,x.current);$e(H,`Drag handle element not found for id "${K}"`);const re=A0(B,ee);w({dragHandleId:K,dragHandleRect:H.getBoundingClientRect(),initialCursorPosition:re,initialLayout:Z})},[]),z=Qt(()=>{w(null)},[]),Y=Qt(K=>{const{panelDataArray:ee}=R.current,B=Li(ee,K);B>=0&&(ee.splice(B,1),delete _.current[K.id],R.current.panelDataArrayChanged=!0,P())},[P]),I=PE(()=>({collapsePanel:O,direction:i,dragState:C,expandPanel:W,getPanelSize:Q,getPanelStyle:X,groupId:g,isPanelCollapsed:J,isPanelExpanded:te,reevaluatePanelConstraints:F,registerPanel:T,registerResizeHandle:V,resizePanel:L,startDragging:M,stopDragging:z,unregisterPanel:Y,panelGroupElement:x.current}),[O,C,i,W,Q,X,g,J,te,F,T,V,L,M,z,Y]),U={display:"flex",flexDirection:i==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return Qi(hu.Provider,{value:I},Qi(v,{...m,children:t,className:n,id:l,ref:x,style:{...U,...h},"data-panel-group":"","data-panel-group-direction":i,"data-panel-group-id":g}))}const L0=g0((e,t)=>Qi(O0,{...e,forwardedRef:t}));O0.displayName="PanelGroup";L0.displayName="forwardRef(PanelGroup)";function Li(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function Mo(e,t,n){const i=Li(e,t),l=i===e.length-1?[i-1,i]:[i,i+1],a=n[i];return{...t.constraints,panelSize:a,pivotIndices:l}}function tk({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:i}){Bo(()=>{if(e||n==null||i==null)return;const s=vu(t,i);if(s==null)return;const l=a=>{if(!a.defaultPrevented)switch(a.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{a.preventDefault(),n(a);break}case"F6":{a.preventDefault();const u=s.getAttribute("data-panel-group-id");$e(u,`No group element found for id "${u}"`);const f=El(u,i),h=j0(u,t,i);$e(h!==null,`No resize element found for id "${t}"`);const v=a.shiftKey?h>0?h-1:f.length-1:h+1<f.length?h+1:0;f[v].focus();break}}};return s.addEventListener("keydown",l),()=>{s.removeEventListener("keydown",l)}},[i,e,t,n])}function z0({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:i,id:s,onBlur:l,onDragging:a,onFocus:u,style:f={},tabIndex:h=0,tagName:v="div",...m}){var g,x;const C=Zt(null),w=Zt({onDragging:a});Bo(()=>{w.current.onDragging=a});const N=v0(hu);if(N===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:E,groupId:P,registerResizeHandle:_,startDragging:k,stopDragging:A,panelGroupElement:D}=N,R=wh(s),[O,W]=Wi("inactive"),[Q,X]=Wi(!1),[J,te]=Wi(null),T=Zt({state:O});Vo(()=>{T.current.state=O}),Bo(()=>{if(n)te(null);else{const M=_(R);te(()=>M)}},[n,R,_]);const V=(g=i==null?void 0:i.coarse)!==null&&g!==void 0?g:15,L=(x=i==null?void 0:i.fine)!==null&&x!==void 0?x:5;return Bo(()=>{if(n||J==null)return;const M=C.current;return $e(M,"Element ref not attached"),BE(R,M,E,{coarse:V,fine:L},(Y,I,U)=>{if(I)switch(Y){case"down":{W("drag"),$e(U,'Expected event to be defined for "down" action'),k(R,U);const{onDragging:K}=w.current;K&&K(!0);break}case"move":{const{state:K}=T.current;K!=="drag"&&W("hover"),$e(U,'Expected event to be defined for "move" action'),J(U);break}case"up":{W("hover"),A();const{onDragging:K}=w.current;K&&K(!1);break}}else W("inactive")})},[V,E,n,L,_,R,J,k,A]),tk({disabled:n,handleId:R,resizeHandler:J,panelGroupElement:D}),Qi(v,{...m,children:e,className:t,id:s,onBlur:()=>{X(!1),l==null||l()},onFocus:()=>{X(!0),u==null||u()},ref:C,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...f},tabIndex:h,"data-panel-group-direction":E,"data-panel-group-id":P,"data-resize-handle":"","data-resize-handle-active":O==="drag"?"pointer":Q?"keyboard":void 0,"data-resize-handle-state":O,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":R})}z0.displayName="PanelResizeHandle";function $0(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=$0(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function F0(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=$0(e))&&(i&&(i+=" "),i+=t);return i}const Ch="-",nk=e=>{const t=ok(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:a=>{const u=a.split(Ch);return u[0]===""&&u.length!==1&&u.shift(),B0(u,t)||rk(a)},getConflictingClassGroupIds:(a,u)=>{const f=n[a]||[];return u&&i[a]?[...f,...i[a]]:f}}},B0=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),s=i?B0(e.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const l=e.join(Ch);return(a=t.validators.find(({validator:u})=>u(l)))==null?void 0:a.classGroupId},fy=/^\[(.+)\]$/,rk=e=>{if(fy.test(e)){const t=fy.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},ok=e=>{const{theme:t,classGroups:n}=e,i={nextPart:new Map,validators:[]};for(const s in n)Ap(n[s],i,s,t);return i},Ap=(e,t,n,i)=>{e.forEach(s=>{if(typeof s=="string"){const l=s===""?t:py(t,s);l.classGroupId=n;return}if(typeof s=="function"){if(ik(s)){Ap(s(i),t,n,i);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([l,a])=>{Ap(a,py(t,l),n,i)})})},py=(e,t)=>{let n=e;return t.split(Ch).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},ik=e=>e.isThemeGetter,sk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const s=(l,a)=>{n.set(l,a),t++,t>e&&(t=0,i=n,n=new Map)};return{get(l){let a=n.get(l);if(a!==void 0)return a;if((a=i.get(l))!==void 0)return s(l,a),a},set(l,a){n.has(l)?n.set(l,a):s(l,a)}}},Mp="!",Ip=":",lk=Ip.length,ak=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=s=>{const l=[];let a=0,u=0,f=0,h;for(let C=0;C<s.length;C++){let w=s[C];if(a===0&&u===0){if(w===Ip){l.push(s.slice(f,C)),f=C+lk;continue}if(w==="/"){h=C;continue}}w==="["?a++:w==="]"?a--:w==="("?u++:w===")"&&u--}const v=l.length===0?s:s.substring(f),m=ck(v),g=m!==v,x=h&&h>f?h-f:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:x}};if(t){const s=t+Ip,l=i;i=a=>a.startsWith(s)?l(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=i;i=l=>n({className:l,parseClassName:s})}return i},ck=e=>e.endsWith(Mp)?e.substring(0,e.length-1):e.startsWith(Mp)?e.substring(1):e,uk=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const s=[];let l=[];return i.forEach(a=>{a[0]==="["||t[a]?(s.push(...l.sort(),a),l=[]):l.push(a)}),s.push(...l.sort()),s}},dk=e=>({cache:sk(e.cacheSize),parseClassName:ak(e),sortModifiers:uk(e),...nk(e)}),fk=/\s+/,pk=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:l}=t,a=[],u=e.trim().split(fk);let f="";for(let h=u.length-1;h>=0;h-=1){const v=u[h],{isExternal:m,modifiers:g,hasImportantModifier:x,baseClassName:C,maybePostfixModifierPosition:w}=n(v);if(m){f=v+(f.length>0?" "+f:f);continue}let N=!!w,E=i(N?C.substring(0,w):C);if(!E){if(!N){f=v+(f.length>0?" "+f:f);continue}if(E=i(C),!E){f=v+(f.length>0?" "+f:f);continue}N=!1}const P=l(g).join(":"),_=x?P+Mp:P,k=_+E;if(a.includes(k))continue;a.push(k);const A=s(E,N);for(let D=0;D<A.length;++D){const R=A[D];a.push(_+R)}f=v+(f.length>0?" "+f:f)}return f};function hk(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=V0(t))&&(i&&(i+=" "),i+=n);return i}const V0=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=V0(e[i]))&&(n&&(n+=" "),n+=t);return n};function mk(e,...t){let n,i,s,l=a;function a(f){const h=t.reduce((v,m)=>m(v),e());return n=dk(h),i=n.cache.get,s=n.cache.set,l=u,u(f)}function u(f){const h=i(f);if(h)return h;const v=pk(f,n);return s(f,v),v}return function(){return l(hk.apply(null,arguments))}}const Ct=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},H0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,W0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,gk=/^\d+\/\d+$/,vk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ai=e=>gk.test(e),Ve=e=>!!e&&!Number.isNaN(Number(e)),Kr=e=>!!e&&Number.isInteger(Number(e)),tp=e=>e.endsWith("%")&&Ve(e.slice(0,-1)),mr=e=>vk.test(e),bk=()=>!0,Nk=e=>yk.test(e)&&!xk.test(e),U0=()=>!1,Ck=e=>wk.test(e),_k=e=>Sk.test(e),Ek=e=>!be(e)&&!Ne(e),kk=e=>cs(e,X0,U0),be=e=>H0.test(e),Io=e=>cs(e,K0,Nk),np=e=>cs(e,Ak,Ve),hy=e=>cs(e,G0,U0),Pk=e=>cs(e,Y0,_k),gc=e=>cs(e,q0,Ck),Ne=e=>W0.test(e),ll=e=>us(e,K0),jk=e=>us(e,Mk),my=e=>us(e,G0),Rk=e=>us(e,X0),Tk=e=>us(e,Y0),vc=e=>us(e,q0,!0),cs=(e,t,n)=>{const i=H0.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},us=(e,t,n=!1)=>{const i=W0.exec(e);return i?i[1]?t(i[1]):n:!1},G0=e=>e==="position"||e==="percentage",Y0=e=>e==="image"||e==="url",X0=e=>e==="length"||e==="size"||e==="bg-size",K0=e=>e==="length",Ak=e=>e==="number",Mk=e=>e==="family-name",q0=e=>e==="shadow",Ik=()=>{const e=Ct("color"),t=Ct("font"),n=Ct("text"),i=Ct("font-weight"),s=Ct("tracking"),l=Ct("leading"),a=Ct("breakpoint"),u=Ct("container"),f=Ct("spacing"),h=Ct("radius"),v=Ct("shadow"),m=Ct("inset-shadow"),g=Ct("text-shadow"),x=Ct("drop-shadow"),C=Ct("blur"),w=Ct("perspective"),N=Ct("aspect"),E=Ct("ease"),P=Ct("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...k(),Ne,be],D=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],O=()=>[Ne,be,f],W=()=>[Ai,"full","auto",...O()],Q=()=>[Kr,"none","subgrid",Ne,be],X=()=>["auto",{span:["full",Kr,Ne,be]},Kr,Ne,be],J=()=>[Kr,"auto",Ne,be],te=()=>["auto","min","max","fr",Ne,be],T=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...O()],F=()=>[Ai,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],M=()=>[e,Ne,be],z=()=>[...k(),my,hy,{position:[Ne,be]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",Rk,kk,{size:[Ne,be]}],U=()=>[tp,ll,Io],K=()=>["","none","full",h,Ne,be],ee=()=>["",Ve,ll,Io],B=()=>["solid","dashed","dotted","double"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>[Ve,tp,my,hy],re=()=>["","none",C,Ne,be],le=()=>["none",Ve,Ne,be],ae=()=>["none",Ve,Ne,be],fe=()=>[Ve,Ne,be],ce=()=>[Ai,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[mr],breakpoint:[mr],color:[bk],container:[mr],"drop-shadow":[mr],ease:["in","out","in-out"],font:[Ek],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[mr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[mr],shadow:[mr],spacing:["px",Ve],text:[mr],"text-shadow":[mr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ai,be,Ne,N]}],container:["container"],columns:[{columns:[Ve,be,Ne,u]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[Kr,"auto",Ne,be]}],basis:[{basis:[Ai,"full","auto",u,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ve,Ai,"auto","initial","none",be]}],grow:[{grow:["",Ve,Ne,be]}],shrink:[{shrink:["",Ve,Ne,be]}],order:[{order:[Kr,"first","last","none",Ne,be]}],"grid-cols":[{"grid-cols":Q()}],"col-start-end":[{col:X()}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":Q()}],"row-start-end":[{row:X()}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":te()}],"auto-rows":[{"auto-rows":te()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...T(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...T()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":T()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[u,"screen",...F()]}],"min-w":[{"min-w":[u,"screen","none",...F()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[a]},...F()]}],h:[{h:["screen",...F()]}],"min-h":[{"min-h":["screen","none",...F()]}],"max-h":[{"max-h":["screen",...F()]}],"font-size":[{text:["base",n,ll,Io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ne,np]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",tp,be]}],"font-family":[{font:[jk,be,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ne,be]}],"line-clamp":[{"line-clamp":[Ve,"none",Ne,np]}],leading:[{leading:[l,...O()]}],"list-image":[{"list-image":["none",Ne,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ve,"from-font","auto",Ne,Io]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[Ve,"auto",Ne,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Kr,Ne,be],radial:["",Ne,be],conic:[Kr,Ne,be]},Tk,Pk]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...B(),"hidden","none"]}],"divide-style":[{divide:[...B(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...B(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ve,Ne,be]}],"outline-w":[{outline:["",Ve,ll,Io]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",v,vc,gc]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",m,vc,gc]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[Ve,Io]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",g,vc,gc]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[Ve,Ne,be]}],"mix-blend":[{"mix-blend":[...Z(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Z()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":H()}],"mask-image-linear-to-pos":[{"mask-linear-to":H()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":H()}],"mask-image-t-to-pos":[{"mask-t-to":H()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":H()}],"mask-image-r-to-pos":[{"mask-r-to":H()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":H()}],"mask-image-b-to-pos":[{"mask-b-to":H()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":H()}],"mask-image-l-to-pos":[{"mask-l-to":H()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":H()}],"mask-image-x-to-pos":[{"mask-x-to":H()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":H()}],"mask-image-y-to-pos":[{"mask-y-to":H()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[Ne,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":H()}],"mask-image-radial-to-pos":[{"mask-radial-to":H()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":H()}],"mask-image-conic-to-pos":[{"mask-conic-to":H()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,be]}],filter:[{filter:["","none",Ne,be]}],blur:[{blur:re()}],brightness:[{brightness:[Ve,Ne,be]}],contrast:[{contrast:[Ve,Ne,be]}],"drop-shadow":[{"drop-shadow":["","none",x,vc,gc]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",Ve,Ne,be]}],"hue-rotate":[{"hue-rotate":[Ve,Ne,be]}],invert:[{invert:["",Ve,Ne,be]}],saturate:[{saturate:[Ve,Ne,be]}],sepia:[{sepia:["",Ve,Ne,be]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,be]}],"backdrop-blur":[{"backdrop-blur":re()}],"backdrop-brightness":[{"backdrop-brightness":[Ve,Ne,be]}],"backdrop-contrast":[{"backdrop-contrast":[Ve,Ne,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ve,Ne,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ve,Ne,be]}],"backdrop-invert":[{"backdrop-invert":["",Ve,Ne,be]}],"backdrop-opacity":[{"backdrop-opacity":[Ve,Ne,be]}],"backdrop-saturate":[{"backdrop-saturate":[Ve,Ne,be]}],"backdrop-sepia":[{"backdrop-sepia":["",Ve,Ne,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ve,"initial",Ne,be]}],ease:[{ease:["linear","initial",E,Ne,be]}],delay:[{delay:[Ve,Ne,be]}],animate:[{animate:["none",P,Ne,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ne,be]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:le()}],"rotate-x":[{"rotate-x":le()}],"rotate-y":[{"rotate-y":le()}],"rotate-z":[{"rotate-z":le()}],scale:[{scale:ae()}],"scale-x":[{"scale-x":ae()}],"scale-y":[{"scale-y":ae()}],"scale-z":[{"scale-z":ae()}],"scale-3d":["scale-3d"],skew:[{skew:fe()}],"skew-x":[{"skew-x":fe()}],"skew-y":[{"skew-y":fe()}],transform:[{transform:[Ne,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ce()}],"translate-x":[{"translate-x":ce()}],"translate-y":[{"translate-y":ce()}],"translate-z":[{"translate-z":ce()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,be]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[Ve,ll,Io,np]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Dk=mk(Ik);function He(...e){return Dk(F0(e))}function Ok({className:e,...t}){return d.jsx(L0,{"data-slot":"resizable-panel-group",className:He("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function Q0({...e}){return d.jsx(w0,{"data-slot":"resizable-panel",...e})}function Lk({withHandle:e,className:t,...n}){return d.jsx(z0,{"data-slot":"resizable-handle",className:He("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&d.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:d.jsx(hl,{className:"size-2.5"})})})}const gy=e=>{let t;const n=new Set,i=(h,v)=>{const m=typeof h=="function"?h(t):h;if(!Object.is(m,t)){const g=t;t=v??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(x=>x(t,g))}},s=()=>t,u={setState:i,getState:s,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h))},f=t=e(i,s,u);return u},zk=e=>e?gy(e):gy,$k=e=>e;function Fk(e,t=$k){const n=Fe.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Fe.useDebugValue(n),n}const vy=e=>{const t=zk(e),n=i=>Fk(t,i);return Object.assign(n,t),n},Bk=e=>e?vy(e):vy,Mt=[];for(let e=0;e<256;++e)Mt.push((e+256).toString(16).slice(1));function Vk(e,t=0){return(Mt[e[t+0]]+Mt[e[t+1]]+Mt[e[t+2]]+Mt[e[t+3]]+"-"+Mt[e[t+4]]+Mt[e[t+5]]+"-"+Mt[e[t+6]]+Mt[e[t+7]]+"-"+Mt[e[t+8]]+Mt[e[t+9]]+"-"+Mt[e[t+10]]+Mt[e[t+11]]+Mt[e[t+12]]+Mt[e[t+13]]+Mt[e[t+14]]+Mt[e[t+15]]).toLowerCase()}let rp;const Hk=new Uint8Array(16);function Wk(){if(!rp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");rp=crypto.getRandomValues.bind(crypto)}return rp(Hk)}const Uk=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),yy={randomUUID:Uk};function Le(e,t,n){var s;if(yy.randomUUID&&!e)return yy.randomUUID();e=e||{};const i=e.random??((s=e.rng)==null?void 0:s.call(e))??Wk();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Vk(i)}function St(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,i;n<e.length;n++)(i=St(e[n]))!==""&&(t+=(t&&" ")+i);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Gk={value:()=>{}};function yu(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Lc(n)}function Lc(e){this._=e}function Yk(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Lc.prototype=yu.prototype={constructor:Lc,on:function(e,t){var n=this._,i=Yk(e+"",n),s,l=-1,a=i.length;if(arguments.length<2){for(;++l<a;)if((s=(e=i[l]).type)&&(s=Xk(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<a;)if(s=(e=i[l]).type)n[s]=xy(n[s],e.name,t);else if(t==null)for(s in n)n[s]=xy(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Lc(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,l;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],i=0,s=l.length;i<s;++i)l[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,l=i.length;s<l;++s)i[s].value.apply(t,n)}};function Xk(e,t){for(var n=0,i=e.length,s;n<i;++n)if((s=e[n]).name===t)return s.value}function xy(e,t,n){for(var i=0,s=e.length;i<s;++i)if(e[i].name===t){e[i]=Gk,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Dp="http://www.w3.org/1999/xhtml";const wy={svg:"http://www.w3.org/2000/svg",xhtml:Dp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xu(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),wy.hasOwnProperty(t)?{space:wy[t],local:e}:e}function Kk(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Dp&&t.documentElement.namespaceURI===Dp?t.createElement(e):t.createElementNS(n,e)}}function qk(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Z0(e){var t=xu(e);return(t.local?qk:Kk)(t)}function Qk(){}function _h(e){return e==null?Qk:function(){return this.querySelector(e)}}function Zk(e){typeof e!="function"&&(e=_h(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var l=t[s],a=l.length,u=i[s]=new Array(a),f,h,v=0;v<a;++v)(f=l[v])&&(h=e.call(f,f.__data__,v,l))&&("__data__"in f&&(h.__data__=f.__data__),u[v]=h);return new dn(i,this._parents)}function Jk(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function eP(){return[]}function J0(e){return e==null?eP:function(){return this.querySelectorAll(e)}}function tP(e){return function(){return Jk(e.apply(this,arguments))}}function nP(e){typeof e=="function"?e=tP(e):e=J0(e);for(var t=this._groups,n=t.length,i=[],s=[],l=0;l<n;++l)for(var a=t[l],u=a.length,f,h=0;h<u;++h)(f=a[h])&&(i.push(e.call(f,f.__data__,h,a)),s.push(f));return new dn(i,s)}function ew(e){return function(){return this.matches(e)}}function tw(e){return function(t){return t.matches(e)}}var rP=Array.prototype.find;function oP(e){return function(){return rP.call(this.children,e)}}function iP(){return this.firstElementChild}function sP(e){return this.select(e==null?iP:oP(typeof e=="function"?e:tw(e)))}var lP=Array.prototype.filter;function aP(){return Array.from(this.children)}function cP(e){return function(){return lP.call(this.children,e)}}function uP(e){return this.selectAll(e==null?aP:cP(typeof e=="function"?e:tw(e)))}function dP(e){typeof e!="function"&&(e=ew(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var l=t[s],a=l.length,u=i[s]=[],f,h=0;h<a;++h)(f=l[h])&&e.call(f,f.__data__,h,l)&&u.push(f);return new dn(i,this._parents)}function nw(e){return new Array(e.length)}function fP(){return new dn(this._enter||this._groups.map(nw),this._parents)}function Xc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Xc.prototype={constructor:Xc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function pP(e){return function(){return e}}function hP(e,t,n,i,s,l){for(var a=0,u,f=t.length,h=l.length;a<h;++a)(u=t[a])?(u.__data__=l[a],i[a]=u):n[a]=new Xc(e,l[a]);for(;a<f;++a)(u=t[a])&&(s[a]=u)}function mP(e,t,n,i,s,l,a){var u,f,h=new Map,v=t.length,m=l.length,g=new Array(v),x;for(u=0;u<v;++u)(f=t[u])&&(g[u]=x=a.call(f,f.__data__,u,t)+"",h.has(x)?s[u]=f:h.set(x,f));for(u=0;u<m;++u)x=a.call(e,l[u],u,l)+"",(f=h.get(x))?(i[u]=f,f.__data__=l[u],h.delete(x)):n[u]=new Xc(e,l[u]);for(u=0;u<v;++u)(f=t[u])&&h.get(g[u])===f&&(s[u]=f)}function gP(e){return e.__data__}function vP(e,t){if(!arguments.length)return Array.from(this,gP);var n=t?mP:hP,i=this._parents,s=this._groups;typeof e!="function"&&(e=pP(e));for(var l=s.length,a=new Array(l),u=new Array(l),f=new Array(l),h=0;h<l;++h){var v=i[h],m=s[h],g=m.length,x=yP(e.call(v,v&&v.__data__,h,i)),C=x.length,w=u[h]=new Array(C),N=a[h]=new Array(C),E=f[h]=new Array(g);n(v,m,w,N,E,x,t);for(var P=0,_=0,k,A;P<C;++P)if(k=w[P]){for(P>=_&&(_=P+1);!(A=N[_])&&++_<C;);k._next=A||null}}return a=new dn(a,i),a._enter=u,a._exit=f,a}function yP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xP(){return new dn(this._exit||this._groups.map(nw),this._parents)}function wP(e,t,n){var i=this.enter(),s=this,l=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?l.remove():n(l),i&&s?i.merge(s).order():s}function SP(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,s=n.length,l=i.length,a=Math.min(s,l),u=new Array(s),f=0;f<a;++f)for(var h=n[f],v=i[f],m=h.length,g=u[f]=new Array(m),x,C=0;C<m;++C)(x=h[C]||v[C])&&(g[C]=x);for(;f<s;++f)u[f]=n[f];return new dn(u,this._parents)}function bP(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],s=i.length-1,l=i[s],a;--s>=0;)(a=i[s])&&(l&&a.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(a,l),l=a);return this}function NP(e){e||(e=CP);function t(m,g){return m&&g?e(m.__data__,g.__data__):!m-!g}for(var n=this._groups,i=n.length,s=new Array(i),l=0;l<i;++l){for(var a=n[l],u=a.length,f=s[l]=new Array(u),h,v=0;v<u;++v)(h=a[v])&&(f[v]=h);f.sort(t)}return new dn(s,this._parents).order()}function CP(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _P(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function EP(){return Array.from(this)}function kP(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,l=i.length;s<l;++s){var a=i[s];if(a)return a}return null}function PP(){let e=0;for(const t of this)++e;return e}function jP(){return!this.node()}function RP(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var s=t[n],l=0,a=s.length,u;l<a;++l)(u=s[l])&&e.call(u,u.__data__,l,s);return this}function TP(e){return function(){this.removeAttribute(e)}}function AP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function MP(e,t){return function(){this.setAttribute(e,t)}}function IP(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function DP(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function OP(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function LP(e,t){var n=xu(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?AP:TP:typeof t=="function"?n.local?OP:DP:n.local?IP:MP)(n,t))}function rw(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function zP(e){return function(){this.style.removeProperty(e)}}function $P(e,t,n){return function(){this.style.setProperty(e,t,n)}}function FP(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function BP(e,t,n){return arguments.length>1?this.each((t==null?zP:typeof t=="function"?FP:$P)(e,t,n??"")):Zi(this.node(),e)}function Zi(e,t){return e.style.getPropertyValue(t)||rw(e).getComputedStyle(e,null).getPropertyValue(t)}function VP(e){return function(){delete this[e]}}function HP(e,t){return function(){this[e]=t}}function WP(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function UP(e,t){return arguments.length>1?this.each((t==null?VP:typeof t=="function"?WP:HP)(e,t)):this.node()[e]}function ow(e){return e.trim().split(/^|\s+/)}function Eh(e){return e.classList||new iw(e)}function iw(e){this._node=e,this._names=ow(e.getAttribute("class")||"")}iw.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function sw(e,t){for(var n=Eh(e),i=-1,s=t.length;++i<s;)n.add(t[i])}function lw(e,t){for(var n=Eh(e),i=-1,s=t.length;++i<s;)n.remove(t[i])}function GP(e){return function(){sw(this,e)}}function YP(e){return function(){lw(this,e)}}function XP(e,t){return function(){(t.apply(this,arguments)?sw:lw)(this,e)}}function KP(e,t){var n=ow(e+"");if(arguments.length<2){for(var i=Eh(this.node()),s=-1,l=n.length;++s<l;)if(!i.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?XP:t?GP:YP)(n,t))}function qP(){this.textContent=""}function QP(e){return function(){this.textContent=e}}function ZP(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function JP(e){return arguments.length?this.each(e==null?qP:(typeof e=="function"?ZP:QP)(e)):this.node().textContent}function ej(){this.innerHTML=""}function tj(e){return function(){this.innerHTML=e}}function nj(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function rj(e){return arguments.length?this.each(e==null?ej:(typeof e=="function"?nj:tj)(e)):this.node().innerHTML}function oj(){this.nextSibling&&this.parentNode.appendChild(this)}function ij(){return this.each(oj)}function sj(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lj(){return this.each(sj)}function aj(e){var t=typeof e=="function"?e:Z0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function cj(){return null}function uj(e,t){var n=typeof e=="function"?e:Z0(e),i=t==null?cj:typeof t=="function"?t:_h(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function dj(){var e=this.parentNode;e&&e.removeChild(this)}function fj(){return this.each(dj)}function pj(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hj(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mj(e){return this.select(e?hj:pj)}function gj(e){return arguments.length?this.property("__data__",e):this.node().__data__}function vj(e){return function(t){e.call(this,t,this.__data__)}}function yj(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function xj(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,s=t.length,l;n<s;++n)l=t[n],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):t[++i]=l;++i?t.length=i:delete this.__on}}}function wj(e,t,n){return function(){var i=this.__on,s,l=vj(t);if(i){for(var a=0,u=i.length;a<u;++a)if((s=i[a]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=l,s.options=n),s.value=t;return}}this.addEventListener(e.type,l,n),s={type:e.type,name:e.name,value:t,listener:l,options:n},i?i.push(s):this.__on=[s]}}function Sj(e,t,n){var i=yj(e+""),s,l=i.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,h=u.length,v;f<h;++f)for(s=0,v=u[f];s<l;++s)if((a=i[s]).type===v.type&&a.name===v.name)return v.value}return}for(u=t?wj:xj,s=0;s<l;++s)this.each(u(i[s],t,n));return this}function aw(e,t,n){var i=rw(e),s=i.CustomEvent;typeof s=="function"?s=new s(t,n):(s=i.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function bj(e,t){return function(){return aw(this,e,t)}}function Nj(e,t){return function(){return aw(this,e,t.apply(this,arguments))}}function Cj(e,t){return this.each((typeof t=="function"?Nj:bj)(e,t))}function*_j(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,l=i.length,a;s<l;++s)(a=i[s])&&(yield a)}var cw=[null];function dn(e,t){this._groups=e,this._parents=t}function Ul(){return new dn([[document.documentElement]],cw)}function Ej(){return this}dn.prototype=Ul.prototype={constructor:dn,select:Zk,selectAll:nP,selectChild:sP,selectChildren:uP,filter:dP,data:vP,enter:fP,exit:xP,join:wP,merge:SP,selection:Ej,order:bP,sort:NP,call:_P,nodes:EP,node:kP,size:PP,empty:jP,each:RP,attr:LP,style:BP,property:UP,classed:KP,text:JP,html:rj,raise:ij,lower:lj,append:aj,insert:uj,remove:fj,clone:mj,datum:gj,on:Sj,dispatch:Cj,[Symbol.iterator]:_j};function cn(e){return typeof e=="string"?new dn([[document.querySelector(e)]],[document.documentElement]):new dn([[e]],cw)}function kj(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Pn(e,t){if(e=kj(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const Pj={passive:!1},kl={capture:!0,passive:!1};function op(e){e.stopImmediatePropagation()}function Gi(e){e.preventDefault(),e.stopImmediatePropagation()}function uw(e){var t=e.document.documentElement,n=cn(e).on("dragstart.drag",Gi,kl);"onselectstart"in t?n.on("selectstart.drag",Gi,kl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function dw(e,t){var n=e.document.documentElement,i=cn(e).on("dragstart.drag",null);t&&(i.on("click.drag",Gi,kl),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const yc=e=>()=>e;function Op(e,{sourceEvent:t,subject:n,target:i,identifier:s,active:l,x:a,y:u,dx:f,dy:h,dispatch:v}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:v}})}Op.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function jj(e){return!e.ctrlKey&&!e.button}function Rj(){return this.parentNode}function Tj(e,t){return t??{x:e.x,y:e.y}}function Aj(){return navigator.maxTouchPoints||"ontouchstart"in this}function fw(){var e=jj,t=Rj,n=Tj,i=Aj,s={},l=yu("start","drag","end"),a=0,u,f,h,v,m=0;function g(k){k.on("mousedown.drag",x).filter(i).on("touchstart.drag",N).on("touchmove.drag",E,Pj).on("touchend.drag touchcancel.drag",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(k,A){if(!(v||!e.call(this,k,A))){var D=_(this,t.call(this,k,A),k,A,"mouse");D&&(cn(k.view).on("mousemove.drag",C,kl).on("mouseup.drag",w,kl),uw(k.view),op(k),h=!1,u=k.clientX,f=k.clientY,D("start",k))}}function C(k){if(Gi(k),!h){var A=k.clientX-u,D=k.clientY-f;h=A*A+D*D>m}s.mouse("drag",k)}function w(k){cn(k.view).on("mousemove.drag mouseup.drag",null),dw(k.view,h),Gi(k),s.mouse("end",k)}function N(k,A){if(e.call(this,k,A)){var D=k.changedTouches,R=t.call(this,k,A),O=D.length,W,Q;for(W=0;W<O;++W)(Q=_(this,R,k,A,D[W].identifier,D[W]))&&(op(k),Q("start",k,D[W]))}}function E(k){var A=k.changedTouches,D=A.length,R,O;for(R=0;R<D;++R)(O=s[A[R].identifier])&&(Gi(k),O("drag",k,A[R]))}function P(k){var A=k.changedTouches,D=A.length,R,O;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),R=0;R<D;++R)(O=s[A[R].identifier])&&(op(k),O("end",k,A[R]))}function _(k,A,D,R,O,W){var Q=l.copy(),X=Pn(W||D,A),J,te,T;if((T=n.call(k,new Op("beforestart",{sourceEvent:D,target:g,identifier:O,active:a,x:X[0],y:X[1],dx:0,dy:0,dispatch:Q}),R))!=null)return J=T.x-X[0]||0,te=T.y-X[1]||0,function V(L,F,M){var z=X,Y;switch(L){case"start":s[O]=V,Y=a++;break;case"end":delete s[O],--a;case"drag":X=Pn(M||F,A),Y=a;break}Q.call(L,k,new Op(L,{sourceEvent:F,subject:T,target:g,identifier:O,active:Y,x:X[0]+J,y:X[1]+te,dx:X[0]-z[0],dy:X[1]-z[1],dispatch:Q}),R)}}return g.filter=function(k){return arguments.length?(e=typeof k=="function"?k:yc(!!k),g):e},g.container=function(k){return arguments.length?(t=typeof k=="function"?k:yc(k),g):t},g.subject=function(k){return arguments.length?(n=typeof k=="function"?k:yc(k),g):n},g.touchable=function(k){return arguments.length?(i=typeof k=="function"?k:yc(!!k),g):i},g.on=function(){var k=l.on.apply(l,arguments);return k===l?g:k},g.clickDistance=function(k){return arguments.length?(m=(k=+k)*k,g):Math.sqrt(m)},g}function kh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function pw(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Gl(){}var Pl=.7,Kc=1/Pl,Yi="\\s*([+-]?\\d+)\\s*",jl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mj=/^#([0-9a-f]{3,8})$/,Ij=new RegExp(`^rgb\\(${Yi},${Yi},${Yi}\\)$`),Dj=new RegExp(`^rgb\\(${qn},${qn},${qn}\\)$`),Oj=new RegExp(`^rgba\\(${Yi},${Yi},${Yi},${jl}\\)$`),Lj=new RegExp(`^rgba\\(${qn},${qn},${qn},${jl}\\)$`),zj=new RegExp(`^hsl\\(${jl},${qn},${qn}\\)$`),$j=new RegExp(`^hsla\\(${jl},${qn},${qn},${jl}\\)$`),Sy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kh(Gl,Rl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:by,formatHex:by,formatHex8:Fj,formatHsl:Bj,formatRgb:Ny,toString:Ny});function by(){return this.rgb().formatHex()}function Fj(){return this.rgb().formatHex8()}function Bj(){return hw(this).formatHsl()}function Ny(){return this.rgb().formatRgb()}function Rl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Mj.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Cy(t):n===3?new Jt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?xc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?xc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ij.exec(e))?new Jt(t[1],t[2],t[3],1):(t=Dj.exec(e))?new Jt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Oj.exec(e))?xc(t[1],t[2],t[3],t[4]):(t=Lj.exec(e))?xc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zj.exec(e))?ky(t[1],t[2]/100,t[3]/100,1):(t=$j.exec(e))?ky(t[1],t[2]/100,t[3]/100,t[4]):Sy.hasOwnProperty(e)?Cy(Sy[e]):e==="transparent"?new Jt(NaN,NaN,NaN,0):null}function Cy(e){return new Jt(e>>16&255,e>>8&255,e&255,1)}function xc(e,t,n,i){return i<=0&&(e=t=n=NaN),new Jt(e,t,n,i)}function Vj(e){return e instanceof Gl||(e=Rl(e)),e?(e=e.rgb(),new Jt(e.r,e.g,e.b,e.opacity)):new Jt}function Lp(e,t,n,i){return arguments.length===1?Vj(e):new Jt(e,t,n,i??1)}function Jt(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}kh(Jt,Lp,pw(Gl,{brighter(e){return e=e==null?Kc:Math.pow(Kc,e),new Jt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pl:Math.pow(Pl,e),new Jt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Jt(Ho(this.r),Ho(this.g),Ho(this.b),qc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_y,formatHex:_y,formatHex8:Hj,formatRgb:Ey,toString:Ey}));function _y(){return`#${$o(this.r)}${$o(this.g)}${$o(this.b)}`}function Hj(){return`#${$o(this.r)}${$o(this.g)}${$o(this.b)}${$o((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ey(){const e=qc(this.opacity);return`${e===1?"rgb(":"rgba("}${Ho(this.r)}, ${Ho(this.g)}, ${Ho(this.b)}${e===1?")":`, ${e})`}`}function qc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ho(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $o(e){return e=Ho(e),(e<16?"0":"")+e.toString(16)}function ky(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Mn(e,t,n,i)}function hw(e){if(e instanceof Mn)return new Mn(e.h,e.s,e.l,e.opacity);if(e instanceof Gl||(e=Rl(e)),!e)return new Mn;if(e instanceof Mn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),l=Math.max(t,n,i),a=NaN,u=l-s,f=(l+s)/2;return u?(t===l?a=(n-i)/u+(n<i)*6:n===l?a=(i-t)/u+2:a=(t-n)/u+4,u/=f<.5?l+s:2-l-s,a*=60):u=f>0&&f<1?0:a,new Mn(a,u,f,e.opacity)}function Wj(e,t,n,i){return arguments.length===1?hw(e):new Mn(e,t,n,i??1)}function Mn(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}kh(Mn,Wj,pw(Gl,{brighter(e){return e=e==null?Kc:Math.pow(Kc,e),new Mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pl:Math.pow(Pl,e),new Mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new Jt(ip(e>=240?e-240:e+120,s,i),ip(e,s,i),ip(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new Mn(Py(this.h),wc(this.s),wc(this.l),qc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qc(this.opacity);return`${e===1?"hsl(":"hsla("}${Py(this.h)}, ${wc(this.s)*100}%, ${wc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Py(e){return e=(e||0)%360,e<0?e+360:e}function wc(e){return Math.max(0,Math.min(1,e||0))}function ip(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const mw=e=>()=>e;function Uj(e,t){return function(n){return e+n*t}}function Gj(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Yj(e){return(e=+e)==1?gw:function(t,n){return n-t?Gj(t,n,e):mw(isNaN(t)?n:t)}}function gw(e,t){var n=t-e;return n?Uj(e,n):mw(isNaN(e)?t:e)}const jy=function e(t){var n=Yj(t);function i(s,l){var a=n((s=Lp(s)).r,(l=Lp(l)).r),u=n(s.g,l.g),f=n(s.b,l.b),h=gw(s.opacity,l.opacity);return function(v){return s.r=a(v),s.g=u(v),s.b=f(v),s.opacity=h(v),s+""}}return i.gamma=e,i}(1);function eo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var zp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sp=new RegExp(zp.source,"g");function Xj(e){return function(){return e}}function Kj(e){return function(t){return e(t)+""}}function qj(e,t){var n=zp.lastIndex=sp.lastIndex=0,i,s,l,a=-1,u=[],f=[];for(e=e+"",t=t+"";(i=zp.exec(e))&&(s=sp.exec(t));)(l=s.index)>n&&(l=t.slice(n,l),u[a]?u[a]+=l:u[++a]=l),(i=i[0])===(s=s[0])?u[a]?u[a]+=s:u[++a]=s:(u[++a]=null,f.push({i:a,x:eo(i,s)})),n=sp.lastIndex;return n<t.length&&(l=t.slice(n),u[a]?u[a]+=l:u[++a]=l),u.length<2?f[0]?Kj(f[0].x):Xj(t):(t=f.length,function(h){for(var v=0,m;v<t;++v)u[(m=f[v]).i]=m.x(h);return u.join("")})}var Ry=180/Math.PI,$p={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vw(e,t,n,i,s,l){var a,u,f;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(f=e*n+t*i)&&(n-=e*f,i-=t*f),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,f/=u),e*i<t*n&&(e=-e,t=-t,f=-f,a=-a),{translateX:s,translateY:l,rotate:Math.atan2(t,e)*Ry,skewX:Math.atan(f)*Ry,scaleX:a,scaleY:u}}var Sc;function Qj(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$p:vw(t.a,t.b,t.c,t.d,t.e,t.f)}function Zj(e){return e==null||(Sc||(Sc=document.createElementNS("http://www.w3.org/2000/svg","g")),Sc.setAttribute("transform",e),!(e=Sc.transform.baseVal.consolidate()))?$p:(e=e.matrix,vw(e.a,e.b,e.c,e.d,e.e,e.f))}function yw(e,t,n,i){function s(h){return h.length?h.pop()+" ":""}function l(h,v,m,g,x,C){if(h!==m||v!==g){var w=x.push("translate(",null,t,null,n);C.push({i:w-4,x:eo(h,m)},{i:w-2,x:eo(v,g)})}else(m||g)&&x.push("translate("+m+t+g+n)}function a(h,v,m,g){h!==v?(h-v>180?v+=360:v-h>180&&(h+=360),g.push({i:m.push(s(m)+"rotate(",null,i)-2,x:eo(h,v)})):v&&m.push(s(m)+"rotate("+v+i)}function u(h,v,m,g){h!==v?g.push({i:m.push(s(m)+"skewX(",null,i)-2,x:eo(h,v)}):v&&m.push(s(m)+"skewX("+v+i)}function f(h,v,m,g,x,C){if(h!==m||v!==g){var w=x.push(s(x)+"scale(",null,",",null,")");C.push({i:w-4,x:eo(h,m)},{i:w-2,x:eo(v,g)})}else(m!==1||g!==1)&&x.push(s(x)+"scale("+m+","+g+")")}return function(h,v){var m=[],g=[];return h=e(h),v=e(v),l(h.translateX,h.translateY,v.translateX,v.translateY,m,g),a(h.rotate,v.rotate,m,g),u(h.skewX,v.skewX,m,g),f(h.scaleX,h.scaleY,v.scaleX,v.scaleY,m,g),h=v=null,function(x){for(var C=-1,w=g.length,N;++C<w;)m[(N=g[C]).i]=N.x(x);return m.join("")}}}var Jj=yw(Qj,"px, ","px)","deg)"),e2=yw(Zj,", ",")",")"),t2=1e-12;function Ty(e){return((e=Math.exp(e))+1/e)/2}function n2(e){return((e=Math.exp(e))-1/e)/2}function r2(e){return((e=Math.exp(2*e))-1)/(e+1)}const o2=function e(t,n,i){function s(l,a){var u=l[0],f=l[1],h=l[2],v=a[0],m=a[1],g=a[2],x=v-u,C=m-f,w=x*x+C*C,N,E;if(w<t2)E=Math.log(g/h)/t,N=function(R){return[u+R*x,f+R*C,h*Math.exp(t*R*E)]};else{var P=Math.sqrt(w),_=(g*g-h*h+i*w)/(2*h*n*P),k=(g*g-h*h-i*w)/(2*g*n*P),A=Math.log(Math.sqrt(_*_+1)-_),D=Math.log(Math.sqrt(k*k+1)-k);E=(D-A)/t,N=function(R){var O=R*E,W=Ty(A),Q=h/(n*P)*(W*r2(t*O+A)-n2(A));return[u+Q*x,f+Q*C,h*W/Ty(t*O+A)]}}return N.duration=E*1e3*t/Math.SQRT2,N}return s.rho=function(l){var a=Math.max(.001,+l),u=a*a,f=u*u;return e(a,u,f)},s}(Math.SQRT2,2,4);var Ji=0,vl=0,al=0,xw=1e3,Qc,yl,Zc=0,Go=0,wu=0,Tl=typeof performance=="object"&&performance.now?performance:Date,ww=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ph(){return Go||(ww(i2),Go=Tl.now()+wu)}function i2(){Go=0}function Jc(){this._call=this._time=this._next=null}Jc.prototype=Sw.prototype={constructor:Jc,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ph():+n)+(t==null?0:+t),!this._next&&yl!==this&&(yl?yl._next=this:Qc=this,yl=this),this._call=e,this._time=n,Fp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fp())}};function Sw(e,t,n){var i=new Jc;return i.restart(e,t,n),i}function s2(){Ph(),++Ji;for(var e=Qc,t;e;)(t=Go-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ji}function Ay(){Go=(Zc=Tl.now())+wu,Ji=vl=0;try{s2()}finally{Ji=0,a2(),Go=0}}function l2(){var e=Tl.now(),t=e-Zc;t>xw&&(wu-=t,Zc=e)}function a2(){for(var e,t=Qc,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Qc=n);yl=e,Fp(i)}function Fp(e){if(!Ji){vl&&(vl=clearTimeout(vl));var t=e-Go;t>24?(e<1/0&&(vl=setTimeout(Ay,e-Tl.now()-wu)),al&&(al=clearInterval(al))):(al||(Zc=Tl.now(),al=setInterval(l2,xw)),Ji=1,ww(Ay))}}function My(e,t,n){var i=new Jc;return t=t==null?0:+t,i.restart(s=>{i.stop(),e(s+t)},t,n),i}var c2=yu("start","end","cancel","interrupt"),u2=[],bw=0,Iy=1,Bp=2,zc=3,Dy=4,Vp=5,$c=6;function Su(e,t,n,i,s,l){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;d2(e,n,{name:t,index:i,group:s,on:c2,tween:u2,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:bw})}function jh(e,t){var n=$n(e,t);if(n.state>bw)throw new Error("too late; already scheduled");return n}function er(e,t){var n=$n(e,t);if(n.state>zc)throw new Error("too late; already running");return n}function $n(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function d2(e,t,n){var i=e.__transition,s;i[t]=n,n.timer=Sw(l,0,n.time);function l(h){n.state=Iy,n.timer.restart(a,n.delay,n.time),n.delay<=h&&a(h-n.delay)}function a(h){var v,m,g,x;if(n.state!==Iy)return f();for(v in i)if(x=i[v],x.name===n.name){if(x.state===zc)return My(a);x.state===Dy?(x.state=$c,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete i[v]):+v<t&&(x.state=$c,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete i[v])}if(My(function(){n.state===zc&&(n.state=Dy,n.timer.restart(u,n.delay,n.time),u(h))}),n.state=Bp,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Bp){for(n.state=zc,s=new Array(g=n.tween.length),v=0,m=-1;v<g;++v)(x=n.tween[v].value.call(e,e.__data__,n.index,n.group))&&(s[++m]=x);s.length=m+1}}function u(h){for(var v=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(f),n.state=Vp,1),m=-1,g=s.length;++m<g;)s[m].call(e,v);n.state===Vp&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=$c,n.timer.stop(),delete i[t];for(var h in i)return;delete e.__transition}}function Fc(e,t){var n=e.__transition,i,s,l=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((i=n[a]).name!==t){l=!1;continue}s=i.state>Bp&&i.state<Vp,i.state=$c,i.timer.stop(),i.on.call(s?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[a]}l&&delete e.__transition}}function f2(e){return this.each(function(){Fc(this,e)})}function p2(e,t){var n,i;return function(){var s=er(this,e),l=s.tween;if(l!==n){i=n=l;for(var a=0,u=i.length;a<u;++a)if(i[a].name===t){i=i.slice(),i.splice(a,1);break}}s.tween=i}}function h2(e,t,n){var i,s;if(typeof n!="function")throw new Error;return function(){var l=er(this,e),a=l.tween;if(a!==i){s=(i=a).slice();for(var u={name:t,value:n},f=0,h=s.length;f<h;++f)if(s[f].name===t){s[f]=u;break}f===h&&s.push(u)}l.tween=s}}function m2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=$n(this.node(),n).tween,s=0,l=i.length,a;s<l;++s)if((a=i[s]).name===e)return a.value;return null}return this.each((t==null?p2:h2)(n,e,t))}function Rh(e,t,n){var i=e._id;return e.each(function(){var s=er(this,i);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return $n(s,i).value[t]}}function Nw(e,t){var n;return(typeof t=="number"?eo:t instanceof Rl?jy:(n=Rl(t))?(t=n,jy):qj)(e,t)}function g2(e){return function(){this.removeAttribute(e)}}function v2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function y2(e,t,n){var i,s=n+"",l;return function(){var a=this.getAttribute(e);return a===s?null:a===i?l:l=t(i=a,n)}}function x2(e,t,n){var i,s=n+"",l;return function(){var a=this.getAttributeNS(e.space,e.local);return a===s?null:a===i?l:l=t(i=a,n)}}function w2(e,t,n){var i,s,l;return function(){var a,u=n(this),f;return u==null?void this.removeAttribute(e):(a=this.getAttribute(e),f=u+"",a===f?null:a===i&&f===s?l:(s=f,l=t(i=a,u)))}}function S2(e,t,n){var i,s,l;return function(){var a,u=n(this),f;return u==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),f=u+"",a===f?null:a===i&&f===s?l:(s=f,l=t(i=a,u)))}}function b2(e,t){var n=xu(e),i=n==="transform"?e2:Nw;return this.attrTween(e,typeof t=="function"?(n.local?S2:w2)(n,i,Rh(this,"attr."+e,t)):t==null?(n.local?v2:g2)(n):(n.local?x2:y2)(n,i,t))}function N2(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function C2(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function _2(e,t){var n,i;function s(){var l=t.apply(this,arguments);return l!==i&&(n=(i=l)&&C2(e,l)),n}return s._value=t,s}function E2(e,t){var n,i;function s(){var l=t.apply(this,arguments);return l!==i&&(n=(i=l)&&N2(e,l)),n}return s._value=t,s}function k2(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=xu(e);return this.tween(n,(i.local?_2:E2)(i,t))}function P2(e,t){return function(){jh(this,e).delay=+t.apply(this,arguments)}}function j2(e,t){return t=+t,function(){jh(this,e).delay=t}}function R2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?P2:j2)(t,e)):$n(this.node(),t).delay}function T2(e,t){return function(){er(this,e).duration=+t.apply(this,arguments)}}function A2(e,t){return t=+t,function(){er(this,e).duration=t}}function M2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?T2:A2)(t,e)):$n(this.node(),t).duration}function I2(e,t){if(typeof t!="function")throw new Error;return function(){er(this,e).ease=t}}function D2(e){var t=this._id;return arguments.length?this.each(I2(t,e)):$n(this.node(),t).ease}function O2(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;er(this,e).ease=n}}function L2(e){if(typeof e!="function")throw new Error;return this.each(O2(this._id,e))}function z2(e){typeof e!="function"&&(e=ew(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var l=t[s],a=l.length,u=i[s]=[],f,h=0;h<a;++h)(f=l[h])&&e.call(f,f.__data__,h,l)&&u.push(f);return new br(i,this._parents,this._name,this._id)}function $2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,s=n.length,l=Math.min(i,s),a=new Array(i),u=0;u<l;++u)for(var f=t[u],h=n[u],v=f.length,m=a[u]=new Array(v),g,x=0;x<v;++x)(g=f[x]||h[x])&&(m[x]=g);for(;u<i;++u)a[u]=t[u];return new br(a,this._parents,this._name,this._id)}function F2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function B2(e,t,n){var i,s,l=F2(t)?jh:er;return function(){var a=l(this,e),u=a.on;u!==i&&(s=(i=u).copy()).on(t,n),a.on=s}}function V2(e,t){var n=this._id;return arguments.length<2?$n(this.node(),n).on.on(e):this.each(B2(n,e,t))}function H2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function W2(){return this.on("end.remove",H2(this._id))}function U2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_h(e));for(var i=this._groups,s=i.length,l=new Array(s),a=0;a<s;++a)for(var u=i[a],f=u.length,h=l[a]=new Array(f),v,m,g=0;g<f;++g)(v=u[g])&&(m=e.call(v,v.__data__,g,u))&&("__data__"in v&&(m.__data__=v.__data__),h[g]=m,Su(h[g],t,n,g,h,$n(v,n)));return new br(l,this._parents,t,n)}function G2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=J0(e));for(var i=this._groups,s=i.length,l=[],a=[],u=0;u<s;++u)for(var f=i[u],h=f.length,v,m=0;m<h;++m)if(v=f[m]){for(var g=e.call(v,v.__data__,m,f),x,C=$n(v,n),w=0,N=g.length;w<N;++w)(x=g[w])&&Su(x,t,n,w,g,C);l.push(g),a.push(v)}return new br(l,a,t,n)}var Y2=Ul.prototype.constructor;function X2(){return new Y2(this._groups,this._parents)}function K2(e,t){var n,i,s;return function(){var l=Zi(this,e),a=(this.style.removeProperty(e),Zi(this,e));return l===a?null:l===n&&a===i?s:s=t(n=l,i=a)}}function Cw(e){return function(){this.style.removeProperty(e)}}function q2(e,t,n){var i,s=n+"",l;return function(){var a=Zi(this,e);return a===s?null:a===i?l:l=t(i=a,n)}}function Q2(e,t,n){var i,s,l;return function(){var a=Zi(this,e),u=n(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(e),Zi(this,e))),a===f?null:a===i&&f===s?l:(s=f,l=t(i=a,u))}}function Z2(e,t){var n,i,s,l="style."+t,a="end."+l,u;return function(){var f=er(this,e),h=f.on,v=f.value[l]==null?u||(u=Cw(t)):void 0;(h!==n||s!==v)&&(i=(n=h).copy()).on(a,s=v),f.on=i}}function J2(e,t,n){var i=(e+="")=="transform"?Jj:Nw;return t==null?this.styleTween(e,K2(e,i)).on("end.style."+e,Cw(e)):typeof t=="function"?this.styleTween(e,Q2(e,i,Rh(this,"style."+e,t))).each(Z2(this._id,e)):this.styleTween(e,q2(e,i,t),n).on("end.style."+e,null)}function eR(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function tR(e,t,n){var i,s;function l(){var a=t.apply(this,arguments);return a!==s&&(i=(s=a)&&eR(e,a,n)),i}return l._value=t,l}function nR(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,tR(e,t,n??""))}function rR(e){return function(){this.textContent=e}}function oR(e){return function(){var t=e(this);this.textContent=t??""}}function iR(e){return this.tween("text",typeof e=="function"?oR(Rh(this,"text",e)):rR(e==null?"":e+""))}function sR(e){return function(t){this.textContent=e.call(this,t)}}function lR(e){var t,n;function i(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&sR(s)),t}return i._value=e,i}function aR(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,lR(e))}function cR(){for(var e=this._name,t=this._id,n=_w(),i=this._groups,s=i.length,l=0;l<s;++l)for(var a=i[l],u=a.length,f,h=0;h<u;++h)if(f=a[h]){var v=$n(f,t);Su(f,e,n,h,a,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new br(i,this._parents,e,n)}function uR(){var e,t,n=this,i=n._id,s=n.size();return new Promise(function(l,a){var u={value:a},f={value:function(){--s===0&&l()}};n.each(function(){var h=er(this,i),v=h.on;v!==e&&(t=(e=v).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(f)),h.on=t}),s===0&&l()})}var dR=0;function br(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function _w(){return++dR}var gr=Ul.prototype;br.prototype={constructor:br,select:U2,selectAll:G2,selectChild:gr.selectChild,selectChildren:gr.selectChildren,filter:z2,merge:$2,selection:X2,transition:cR,call:gr.call,nodes:gr.nodes,node:gr.node,size:gr.size,empty:gr.empty,each:gr.each,on:V2,attr:b2,attrTween:k2,style:J2,styleTween:nR,text:iR,textTween:aR,remove:W2,tween:m2,delay:R2,duration:M2,ease:D2,easeVarying:L2,end:uR,[Symbol.iterator]:gr[Symbol.iterator]};function fR(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var pR={time:null,delay:0,duration:250,ease:fR};function hR(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function mR(e){var t,n;e instanceof br?(t=e._id,e=e._name):(t=_w(),(n=pR).time=Ph(),e=e==null?null:e+"");for(var i=this._groups,s=i.length,l=0;l<s;++l)for(var a=i[l],u=a.length,f,h=0;h<u;++h)(f=a[h])&&Su(f,e,t,h,a,n||hR(f,t));return new br(i,this._parents,e,t)}Ul.prototype.interrupt=f2;Ul.prototype.transition=mR;const bc=e=>()=>e;function gR(e,{sourceEvent:t,target:n,transform:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function xr(e,t,n){this.k=e,this.x=t,this.y=n}xr.prototype={constructor:xr,scale:function(e){return e===1?this:new xr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new xr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bu=new xr(1,0,0);Ew.prototype=xr.prototype;function Ew(e){for(;!e.__zoom;)if(!(e=e.parentNode))return bu;return e.__zoom}function lp(e){e.stopImmediatePropagation()}function cl(e){e.preventDefault(),e.stopImmediatePropagation()}function vR(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function yR(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Oy(){return this.__zoom||bu}function xR(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function wR(){return navigator.maxTouchPoints||"ontouchstart"in this}function SR(e,t,n){var i=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],l=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s),a>l?(l+a)/2:Math.min(0,l)||Math.max(0,a))}function kw(){var e=vR,t=yR,n=SR,i=xR,s=wR,l=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],u=250,f=o2,h=yu("start","zoom","end"),v,m,g,x=500,C=150,w=0,N=10;function E(T){T.property("__zoom",Oy).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",Q).filter(s).on("touchstart.zoom",X).on("touchmove.zoom",J).on("touchend.zoom touchcancel.zoom",te).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(T,V,L,F){var M=T.selection?T.selection():T;M.property("__zoom",Oy),T!==M?A(T,V,L,F):M.interrupt().each(function(){D(this,arguments).event(F).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},E.scaleBy=function(T,V,L,F){E.scaleTo(T,function(){var M=this.__zoom.k,z=typeof V=="function"?V.apply(this,arguments):V;return M*z},L,F)},E.scaleTo=function(T,V,L,F){E.transform(T,function(){var M=t.apply(this,arguments),z=this.__zoom,Y=L==null?k(M):typeof L=="function"?L.apply(this,arguments):L,I=z.invert(Y),U=typeof V=="function"?V.apply(this,arguments):V;return n(_(P(z,U),Y,I),M,a)},L,F)},E.translateBy=function(T,V,L,F){E.transform(T,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),a)},null,F)},E.translateTo=function(T,V,L,F,M){E.transform(T,function(){var z=t.apply(this,arguments),Y=this.__zoom,I=F==null?k(z):typeof F=="function"?F.apply(this,arguments):F;return n(bu.translate(I[0],I[1]).scale(Y.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof L=="function"?-L.apply(this,arguments):-L),z,a)},F,M)};function P(T,V){return V=Math.max(l[0],Math.min(l[1],V)),V===T.k?T:new xr(V,T.x,T.y)}function _(T,V,L){var F=V[0]-L[0]*T.k,M=V[1]-L[1]*T.k;return F===T.x&&M===T.y?T:new xr(T.k,F,M)}function k(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function A(T,V,L,F){T.on("start.zoom",function(){D(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(F).end()}).tween("zoom",function(){var M=this,z=arguments,Y=D(M,z).event(F),I=t.apply(M,z),U=L==null?k(I):typeof L=="function"?L.apply(M,z):L,K=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),ee=M.__zoom,B=typeof V=="function"?V.apply(M,z):V,Z=f(ee.invert(U).concat(K/ee.k),B.invert(U).concat(K/B.k));return function(H){if(H===1)H=B;else{var re=Z(H),le=K/re[2];H=new xr(le,U[0]-re[0]*le,U[1]-re[1]*le)}Y.zoom(null,H)}})}function D(T,V,L){return!L&&T.__zooming||new R(T,V)}function R(T,V){this.that=T,this.args=V,this.active=0,this.sourceEvent=null,this.extent=t.apply(T,V),this.taps=0}R.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,V){return this.mouse&&T!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var V=cn(this.that).datum();h.call(T,this.that,new gR(T,{sourceEvent:this.sourceEvent,target:E,transform:this.that.__zoom,dispatch:h}),V)}};function O(T,...V){if(!e.apply(this,arguments))return;var L=D(this,V).event(T),F=this.__zoom,M=Math.max(l[0],Math.min(l[1],F.k*Math.pow(2,i.apply(this,arguments)))),z=Pn(T);if(L.wheel)(L.mouse[0][0]!==z[0]||L.mouse[0][1]!==z[1])&&(L.mouse[1]=F.invert(L.mouse[0]=z)),clearTimeout(L.wheel);else{if(F.k===M)return;L.mouse=[z,F.invert(z)],Fc(this),L.start()}cl(T),L.wheel=setTimeout(Y,C),L.zoom("mouse",n(_(P(F,M),L.mouse[0],L.mouse[1]),L.extent,a));function Y(){L.wheel=null,L.end()}}function W(T,...V){if(g||!e.apply(this,arguments))return;var L=T.currentTarget,F=D(this,V,!0).event(T),M=cn(T.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",K,!0),z=Pn(T,L),Y=T.clientX,I=T.clientY;uw(T.view),lp(T),F.mouse=[z,this.__zoom.invert(z)],Fc(this),F.start();function U(ee){if(cl(ee),!F.moved){var B=ee.clientX-Y,Z=ee.clientY-I;F.moved=B*B+Z*Z>w}F.event(ee).zoom("mouse",n(_(F.that.__zoom,F.mouse[0]=Pn(ee,L),F.mouse[1]),F.extent,a))}function K(ee){M.on("mousemove.zoom mouseup.zoom",null),dw(ee.view,F.moved),cl(ee),F.event(ee).end()}}function Q(T,...V){if(e.apply(this,arguments)){var L=this.__zoom,F=Pn(T.changedTouches?T.changedTouches[0]:T,this),M=L.invert(F),z=L.k*(T.shiftKey?.5:2),Y=n(_(P(L,z),F,M),t.apply(this,V),a);cl(T),u>0?cn(this).transition().duration(u).call(A,Y,F,T):cn(this).call(E.transform,Y,F,T)}}function X(T,...V){if(e.apply(this,arguments)){var L=T.touches,F=L.length,M=D(this,V,T.changedTouches.length===F).event(T),z,Y,I,U;for(lp(T),Y=0;Y<F;++Y)I=L[Y],U=Pn(I,this),U=[U,this.__zoom.invert(U),I.identifier],M.touch0?!M.touch1&&M.touch0[2]!==U[2]&&(M.touch1=U,M.taps=0):(M.touch0=U,z=!0,M.taps=1+!!v);v&&(v=clearTimeout(v)),z&&(M.taps<2&&(m=U[0],v=setTimeout(function(){v=null},x)),Fc(this),M.start())}}function J(T,...V){if(this.__zooming){var L=D(this,V).event(T),F=T.changedTouches,M=F.length,z,Y,I,U;for(cl(T),z=0;z<M;++z)Y=F[z],I=Pn(Y,this),L.touch0&&L.touch0[2]===Y.identifier?L.touch0[0]=I:L.touch1&&L.touch1[2]===Y.identifier&&(L.touch1[0]=I);if(Y=L.that.__zoom,L.touch1){var K=L.touch0[0],ee=L.touch0[1],B=L.touch1[0],Z=L.touch1[1],H=(H=B[0]-K[0])*H+(H=B[1]-K[1])*H,re=(re=Z[0]-ee[0])*re+(re=Z[1]-ee[1])*re;Y=P(Y,Math.sqrt(H/re)),I=[(K[0]+B[0])/2,(K[1]+B[1])/2],U=[(ee[0]+Z[0])/2,(ee[1]+Z[1])/2]}else if(L.touch0)I=L.touch0[0],U=L.touch0[1];else return;L.zoom("touch",n(_(Y,I,U),L.extent,a))}}function te(T,...V){if(this.__zooming){var L=D(this,V).event(T),F=T.changedTouches,M=F.length,z,Y;for(lp(T),g&&clearTimeout(g),g=setTimeout(function(){g=null},x),z=0;z<M;++z)Y=F[z],L.touch0&&L.touch0[2]===Y.identifier?delete L.touch0:L.touch1&&L.touch1[2]===Y.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(Y=Pn(Y,this),Math.hypot(m[0]-Y[0],m[1]-Y[1])<N)){var I=cn(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return E.wheelDelta=function(T){return arguments.length?(i=typeof T=="function"?T:bc(+T),E):i},E.filter=function(T){return arguments.length?(e=typeof T=="function"?T:bc(!!T),E):e},E.touchable=function(T){return arguments.length?(s=typeof T=="function"?T:bc(!!T),E):s},E.extent=function(T){return arguments.length?(t=typeof T=="function"?T:bc([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),E):t},E.scaleExtent=function(T){return arguments.length?(l[0]=+T[0],l[1]=+T[1],E):[l[0],l[1]]},E.translateExtent=function(T){return arguments.length?(a[0][0]=+T[0][0],a[1][0]=+T[1][0],a[0][1]=+T[0][1],a[1][1]=+T[1][1],E):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},E.constrain=function(T){return arguments.length?(n=T,E):n},E.duration=function(T){return arguments.length?(u=+T,E):u},E.interpolate=function(T){return arguments.length?(f=T,E):f},E.on=function(){var T=h.on.apply(h,arguments);return T===h?E:T},E.clickDistance=function(T){return arguments.length?(w=(T=+T)*T,E):Math.sqrt(w)},E.tapDistance=function(T){return arguments.length?(N=+T,E):N},E}const Zn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:i}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Al=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Pw=["Enter"," ","Escape"];var es;(function(e){e.Strict="strict",e.Loose="loose"})(es||(es={}));var Wo;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Wo||(Wo={}));var Ml;(function(e){e.Partial="partial",e.Full="full"})(Ml||(Ml={}));const jw={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var no;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(no||(no={}));var Il;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Il||(Il={}));var we;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(we||(we={}));const Ly={[we.Left]:we.Right,[we.Right]:we.Left,[we.Top]:we.Bottom,[we.Bottom]:we.Top};function Rw(e){return e===null?null:e?"valid":"invalid"}const Tw=e=>"id"in e&&"source"in e&&"target"in e,bR=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Th=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Yl=(e,t=[0,0])=>{const{width:n,height:i}=_r(e),s=e.origin??t,l=n*s[0],a=i*s[1];return{x:e.position.x-l,y:e.position.y-a}},NR=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((i,s)=>{const l=typeof s=="string";let a=!t.nodeLookup&&!l?s:void 0;t.nodeLookup&&(a=l?t.nodeLookup.get(s):Th(s)?s:t.nodeLookup.get(s.id));const u=a?eu(a,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Nu(i,u)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Cu(n)},Xl=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(i=>{if(t.filter===void 0||t.filter(i)){const s=eu(i);n=Nu(n,s)}}),Cu(n)},Aw=(e,t,[n,i,s]=[0,0,1],l=!1,a=!1)=>{const u={...Kl(t,[n,i,s]),width:t.width/s,height:t.height/s},f=[];for(const h of e.values()){const{measured:v,selectable:m=!0,hidden:g=!1}=h;if(a&&!m||g)continue;const x=v.width??h.width??h.initialWidth??null,C=v.height??h.height??h.initialHeight??null,w=Dl(u,ns(h)),N=(x??0)*(C??0),E=l&&w>0;(!h.internals.handleBounds||E||w>=N||h.dragging)&&f.push(h)}return f},CR=(e,t)=>{const n=new Set;return e.forEach(i=>{n.add(i.id)}),t.filter(i=>n.has(i.source)||n.has(i.target))};function _R(e,t){const n=new Map,i=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!i||i.has(s.id))&&n.set(s.id,s)}),n}async function ER({nodes:e,width:t,height:n,panZoom:i,minZoom:s,maxZoom:l},a){if(e.size===0)return Promise.resolve(!0);const u=_R(e,a),f=Xl(u),h=Ah(f,t,n,(a==null?void 0:a.minZoom)??s,(a==null?void 0:a.maxZoom)??l,(a==null?void 0:a.padding)??.1);return await i.setViewport(h,{duration:a==null?void 0:a.duration}),Promise.resolve(!0)}function Mw({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:s,onError:l}){const a=n.get(e),u=a.parentId?n.get(a.parentId):void 0,{x:f,y:h}=u?u.internals.positionAbsolute:{x:0,y:0},v=a.origin??i;let m=s;if(a.extent==="parent"&&!a.expandParent)if(!u)l==null||l("005",Zn.error005());else{const x=u.measured.width,C=u.measured.height;x&&C&&(m=[[f,h],[f+x,h+C]])}else u&&rs(a.extent)&&(m=[[a.extent[0][0]+f,a.extent[0][1]+h],[a.extent[1][0]+f,a.extent[1][1]+h]]);const g=rs(m)?Yo(t,m,a.measured):t;return(a.measured.width===void 0||a.measured.height===void 0)&&(l==null||l("015",Zn.error015())),{position:{x:g.x-f+(a.measured.width??0)*v[0],y:g.y-h+(a.measured.height??0)*v[1]},positionAbsolute:g}}async function kR({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:i,onBeforeDelete:s}){const l=new Set(e.map(g=>g.id)),a=[];for(const g of n){if(g.deletable===!1)continue;const x=l.has(g.id),C=!x&&g.parentId&&a.find(w=>w.id===g.parentId);(x||C)&&a.push(g)}const u=new Set(t.map(g=>g.id)),f=i.filter(g=>g.deletable!==!1),v=CR(a,f);for(const g of f)u.has(g.id)&&!v.find(C=>C.id===g.id)&&v.push(g);if(!s)return{edges:v,nodes:a};const m=await s({nodes:a,edges:v});return typeof m=="boolean"?m?{edges:v,nodes:a}:{edges:[],nodes:[]}:m}const ts=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Yo=(e={x:0,y:0},t,n)=>({x:ts(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:ts(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Iw(e,t,n){const{width:i,height:s}=_r(n),{x:l,y:a}=n.internals.positionAbsolute;return Yo(e,[[l,a],[l+i,a+s]],t)}const zy=(e,t,n)=>e<t?ts(Math.abs(e-t),1,t)/t:e>n?-ts(Math.abs(e-n),1,t)/t:0,Dw=(e,t,n=15,i=40)=>{const s=zy(e.x,i,t.width-i)*n,l=zy(e.y,i,t.height-i)*n;return[s,l]},Nu=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Hp=({x:e,y:t,width:n,height:i})=>({x:e,y:t,x2:e+n,y2:t+i}),Cu=({x:e,y:t,x2:n,y2:i})=>({x:e,y:t,width:n-e,height:i-t}),ns=(e,t=[0,0])=>{var s,l;const{x:n,y:i}=Th(e)?e.internals.positionAbsolute:Yl(e,t);return{x:n,y:i,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((l=e.measured)==null?void 0:l.height)??e.height??e.initialHeight??0}},eu=(e,t=[0,0])=>{var s,l;const{x:n,y:i}=Th(e)?e.internals.positionAbsolute:Yl(e,t);return{x:n,y:i,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:i+(((l=e.measured)==null?void 0:l.height)??e.height??e.initialHeight??0)}},Ow=(e,t)=>Cu(Nu(Hp(e),Hp(t))),Dl=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},$y=e=>In(e.width)&&In(e.height)&&In(e.x)&&In(e.y),In=e=>!isNaN(e)&&isFinite(e),PR=(e,t)=>{},_u=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Kl=({x:e,y:t},[n,i,s],l=!1,a=[1,1])=>{const u={x:(e-n)/s,y:(t-i)/s};return l?_u(u,a):u},tu=({x:e,y:t},[n,i,s])=>({x:e*s+n,y:t*s+i});function Mi(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function jR(e,t,n){if(typeof e=="string"||typeof e=="number"){const i=Mi(e,n),s=Mi(e,t);return{top:i,right:s,bottom:i,left:s,x:s*2,y:i*2}}if(typeof e=="object"){const i=Mi(e.top??e.y??0,n),s=Mi(e.bottom??e.y??0,n),l=Mi(e.left??e.x??0,t),a=Mi(e.right??e.x??0,t);return{top:i,right:a,bottom:s,left:l,x:l+a,y:i+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function RR(e,t,n,i,s,l){const{x:a,y:u}=tu(e,[t,n,i]),{x:f,y:h}=tu({x:e.x+e.width,y:e.y+e.height},[t,n,i]),v=s-f,m=l-h;return{left:Math.floor(a),top:Math.floor(u),right:Math.floor(v),bottom:Math.floor(m)}}const Ah=(e,t,n,i,s,l)=>{const a=jR(l,t,n),u=(t-a.x)/e.width,f=(n-a.y)/e.height,h=Math.min(u,f),v=ts(h,i,s),m=e.x+e.width/2,g=e.y+e.height/2,x=t/2-m*v,C=n/2-g*v,w=RR(e,x,C,v,t,n),N={left:Math.min(w.left-a.left,0),top:Math.min(w.top-a.top,0),right:Math.min(w.right-a.right,0),bottom:Math.min(w.bottom-a.bottom,0)};return{x:x-N.left+N.right,y:C-N.top+N.bottom,zoom:v}},nu=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function rs(e){return e!==void 0&&e!=="parent"}function _r(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Lw(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function zw(e,t={width:0,height:0},n,i,s){const l={...e},a=i.get(n);if(a){const u=a.origin||s;l.x+=a.internals.positionAbsolute.x-(t.width??0)*u[0],l.y+=a.internals.positionAbsolute.y-(t.height??0)*u[1]}return l}function Fy(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function TR(){let e,t;return{promise:new Promise((i,s)=>{e=i,t=s}),resolve:e,reject:t}}function bl(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:i,containerBounds:s}){const{x:l,y:a}=Sr(e),u=Kl({x:l-((s==null?void 0:s.left)??0),y:a-((s==null?void 0:s.top)??0)},i),{x:f,y:h}=n?_u(u,t):u;return{xSnapped:f,ySnapped:h,...u}}const Mh=e=>({width:e.offsetWidth,height:e.offsetHeight}),$w=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},AR=["INPUT","SELECT","TEXTAREA"];function Fw(e){var i,s;const t=((s=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:AR.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Bw=e=>"clientX"in e,Sr=(e,t)=>{var l,a;const n=Bw(e),i=n?e.clientX:(l=e.touches)==null?void 0:l[0].clientX,s=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:i-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},By=(e,t,n,i,s)=>{const l=t.querySelectorAll(`.${e}`);return!l||!l.length?null:Array.from(l).map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:s,position:a.getAttribute("data-handlepos"),x:(u.left-n.left)/i,y:(u.top-n.top)/i,...Mh(a)}})};function Vw({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u}){const f=e*.125+s*.375+a*.375+n*.125,h=t*.125+l*.375+u*.375+i*.125,v=Math.abs(f-e),m=Math.abs(h-t);return[f,h,v,m]}function Nc(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Vy({pos:e,x1:t,y1:n,x2:i,y2:s,c:l}){switch(e){case we.Left:return[t-Nc(t-i,l),n];case we.Right:return[t+Nc(i-t,l),n];case we.Top:return[t,n-Nc(n-s,l)];case we.Bottom:return[t,n+Nc(s-n,l)]}}function Hw({sourceX:e,sourceY:t,sourcePosition:n=we.Bottom,targetX:i,targetY:s,targetPosition:l=we.Top,curvature:a=.25}){const[u,f]=Vy({pos:n,x1:e,y1:t,x2:i,y2:s,c:a}),[h,v]=Vy({pos:l,x1:i,y1:s,x2:e,y2:t,c:a}),[m,g,x,C]=Vw({sourceX:e,sourceY:t,targetX:i,targetY:s,sourceControlX:u,sourceControlY:f,targetControlX:h,targetControlY:v});return[`M${e},${t} C${u},${f} ${h},${v} ${i},${s}`,m,g,x,C]}function Ww({sourceX:e,sourceY:t,targetX:n,targetY:i}){const s=Math.abs(n-e)/2,l=n<e?n+s:n-s,a=Math.abs(i-t)/2,u=i<t?i+a:i-a;return[l,u,s,a]}function MR({sourceNode:e,targetNode:t,selected:n=!1,zIndex:i=0,elevateOnSelect:s=!1}){if(!s)return i;const l=n||t.selected||e.selected,a=Math.max(e.internals.z||0,t.internals.z||0,1e3);return i+(l?a:0)}function IR({sourceNode:e,targetNode:t,width:n,height:i,transform:s}){const l=Nu(eu(e),eu(t));l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const a={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:i/s[2]};return Dl(a,Cu(l))>0}const DR=({source:e,sourceHandle:t,target:n,targetHandle:i})=>`xy-edge__${e}${t||""}-${n}${i||""}`,OR=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),LR=(e,t)=>{if(!e.source||!e.target)return t;let n;return Tw(e)?n={...e}:n={...e,id:DR(e)},OR(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Eu({sourceX:e,sourceY:t,targetX:n,targetY:i}){const[s,l,a,u]=Ww({sourceX:e,sourceY:t,targetX:n,targetY:i});return[`M ${e},${t}L ${n},${i}`,s,l,a,u]}const Hy={[we.Left]:{x:-1,y:0},[we.Right]:{x:1,y:0},[we.Top]:{x:0,y:-1},[we.Bottom]:{x:0,y:1}},zR=({source:e,sourcePosition:t=we.Bottom,target:n})=>t===we.Left||t===we.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Wy=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function $R({source:e,sourcePosition:t=we.Bottom,target:n,targetPosition:i=we.Top,center:s,offset:l}){const a=Hy[t],u=Hy[i],f={x:e.x+a.x*l,y:e.y+a.y*l},h={x:n.x+u.x*l,y:n.y+u.y*l},v=zR({source:f,sourcePosition:t,target:h}),m=v.x!==0?"x":"y",g=v[m];let x=[],C,w;const N={x:0,y:0},E={x:0,y:0},[P,_,k,A]=Ww({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[m]*u[m]===-1){C=s.x??P,w=s.y??_;const R=[{x:C,y:f.y},{x:C,y:h.y}],O=[{x:f.x,y:w},{x:h.x,y:w}];a[m]===g?x=m==="x"?R:O:x=m==="x"?O:R}else{const R=[{x:f.x,y:h.y}],O=[{x:h.x,y:f.y}];if(m==="x"?x=a.x===g?O:R:x=a.y===g?R:O,t===i){const te=Math.abs(e[m]-n[m]);if(te<=l){const T=Math.min(l-1,l-te);a[m]===g?N[m]=(f[m]>e[m]?-1:1)*T:E[m]=(h[m]>n[m]?-1:1)*T}}if(t!==i){const te=m==="x"?"y":"x",T=a[m]===u[te],V=f[te]>h[te],L=f[te]<h[te];(a[m]===1&&(!T&&V||T&&L)||a[m]!==1&&(!T&&L||T&&V))&&(x=m==="x"?R:O)}const W={x:f.x+N.x,y:f.y+N.y},Q={x:h.x+E.x,y:h.y+E.y},X=Math.max(Math.abs(W.x-x[0].x),Math.abs(Q.x-x[0].x)),J=Math.max(Math.abs(W.y-x[0].y),Math.abs(Q.y-x[0].y));X>=J?(C=(W.x+Q.x)/2,w=x[0].y):(C=x[0].x,w=(W.y+Q.y)/2)}return[[e,{x:f.x+N.x,y:f.y+N.y},...x,{x:h.x+E.x,y:h.y+E.y},n],C,w,k,A]}function FR(e,t,n,i){const s=Math.min(Wy(e,t)/2,Wy(t,n)/2,i),{x:l,y:a}=t;if(e.x===l&&l===n.x||e.y===a&&a===n.y)return`L${l} ${a}`;if(e.y===a){const h=e.x<n.x?-1:1,v=e.y<n.y?1:-1;return`L ${l+s*h},${a}Q ${l},${a} ${l},${a+s*v}`}const u=e.x<n.x?1:-1,f=e.y<n.y?-1:1;return`L ${l},${a+s*f}Q ${l},${a} ${l+s*u},${a}`}function Wp({sourceX:e,sourceY:t,sourcePosition:n=we.Bottom,targetX:i,targetY:s,targetPosition:l=we.Top,borderRadius:a=5,centerX:u,centerY:f,offset:h=20}){const[v,m,g,x,C]=$R({source:{x:e,y:t},sourcePosition:n,target:{x:i,y:s},targetPosition:l,center:{x:u,y:f},offset:h});return[v.reduce((N,E,P)=>{let _="";return P>0&&P<v.length-1?_=FR(v[P-1],E,v[P+1],a):_=`${P===0?"M":"L"}${E.x} ${E.y}`,N+=_,N},""),m,g,x,C]}function Uy(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function BR(e){var m;const{sourceNode:t,targetNode:n}=e;if(!Uy(t)||!Uy(n))return null;const i=t.internals.handleBounds||Gy(t.handles),s=n.internals.handleBounds||Gy(n.handles),l=Yy((i==null?void 0:i.source)??[],e.sourceHandle),a=Yy(e.connectionMode===es.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!l||!a)return(m=e.onError)==null||m.call(e,"008",Zn.error008(l?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const u=(l==null?void 0:l.position)||we.Bottom,f=(a==null?void 0:a.position)||we.Top,h=Ol(t,l,u),v=Ol(n,a,f);return{sourceX:h.x,sourceY:h.y,targetX:v.x,targetY:v.y,sourcePosition:u,targetPosition:f}}function Gy(e){if(!e)return null;const t=[],n=[];for(const i of e)i.width=i.width??1,i.height=i.height??1,i.type==="source"?t.push(i):i.type==="target"&&n.push(i);return{source:t,target:n}}function Ol(e,t,n=we.Left,i=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,l=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:a,height:u}=t??_r(e);if(i)return{x:s+a/2,y:l+u/2};switch((t==null?void 0:t.position)??n){case we.Top:return{x:s+a/2,y:l};case we.Right:return{x:s+a,y:l+u/2};case we.Bottom:return{x:s+a/2,y:l+u};case we.Left:return{x:s,y:l+u/2}}}function Yy(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Up(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`:""}function VR(e,{id:t,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:s}){const l=new Set;return e.reduce((a,u)=>([u.markerStart||i,u.markerEnd||s].forEach(f=>{if(f&&typeof f=="object"){const h=Up(f,t);l.has(h)||(a.push({id:h,color:f.color||n,...f}),l.add(h))}}),a),[]).sort((a,u)=>a.id.localeCompare(u.id))}const Ih={nodeOrigin:[0,0],nodeExtent:Al,elevateNodesOnSelect:!0,defaults:{}},HR={...Ih,checkEquality:!0};function Dh(e,t){const n={...e};for(const i in t)t[i]!==void 0&&(n[i]=t[i]);return n}function WR(e,t,n){const i=Dh(Ih,n);for(const s of e.values())if(s.parentId)Oh(s,e,t,i);else{const l=Yl(s,i.nodeOrigin),a=rs(s.extent)?s.extent:i.nodeExtent,u=Yo(l,a,_r(s));s.internals.positionAbsolute=u}}function Gp(e,t,n,i){var f,h;const s=Dh(HR,i);let l=e.length>0;const a=new Map(t),u=s!=null&&s.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const v of e){let m=a.get(v.id);if(s.checkEquality&&v===(m==null?void 0:m.internals.userNode))t.set(v.id,m);else{const g=Yl(v,s.nodeOrigin),x=rs(v.extent)?v.extent:s.nodeExtent,C=Yo(g,x,_r(v));m={...s.defaults,...v,measured:{width:(f=v.measured)==null?void 0:f.width,height:(h=v.measured)==null?void 0:h.height},internals:{positionAbsolute:C,handleBounds:v.measured?m==null?void 0:m.internals.handleBounds:void 0,z:Uw(v,u),userNode:v}},t.set(v.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(l=!1),v.parentId&&Oh(m,t,n,i)}return l}function UR(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Oh(e,t,n,i){const{elevateNodesOnSelect:s,nodeOrigin:l,nodeExtent:a}=Dh(Ih,i),u=e.parentId,f=t.get(u);if(!f){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}UR(e,n);const h=s?1e3:0,{x:v,y:m,z:g}=GR(e,f,l,a,h),{positionAbsolute:x}=e.internals,C=v!==x.x||m!==x.y;(C||g!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:C?{x:v,y:m}:x,z:g}})}function Uw(e,t){return(In(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function GR(e,t,n,i,s){const{x:l,y:a}=t.internals.positionAbsolute,u=_r(e),f=Yl(e,n),h=rs(e.extent)?Yo(f,e.extent,u):f;let v=Yo({x:l+h.x,y:a+h.y},i,u);e.extent==="parent"&&(v=Iw(v,u,t));const m=Uw(e,s),g=t.internals.z??0;return{x:v.x,y:v.y,z:g>m?g:m}}function Lh(e,t,n,i=[0,0]){var a;const s=[],l=new Map;for(const u of e){const f=t.get(u.parentId);if(!f)continue;const h=((a=l.get(u.parentId))==null?void 0:a.expandedRect)??ns(f),v=Ow(h,u.rect);l.set(u.parentId,{expandedRect:v,parent:f})}return l.size>0&&l.forEach(({expandedRect:u,parent:f},h)=>{var _;const v=f.internals.positionAbsolute,m=_r(f),g=f.origin??i,x=u.x<v.x?Math.round(Math.abs(v.x-u.x)):0,C=u.y<v.y?Math.round(Math.abs(v.y-u.y)):0,w=Math.max(m.width,Math.round(u.width)),N=Math.max(m.height,Math.round(u.height)),E=(w-m.width)*g[0],P=(N-m.height)*g[1];(x>0||C>0||E||P)&&(s.push({id:h,type:"position",position:{x:f.position.x-x+E,y:f.position.y-C+P}}),(_=n.get(h))==null||_.forEach(k=>{e.some(A=>A.id===k.id)||s.push({id:k.id,type:"position",position:{x:k.position.x+x,y:k.position.y+C}})})),(m.width<u.width||m.height<u.height||x||C)&&s.push({id:h,type:"dimensions",setAttributes:!0,dimensions:{width:w+(x?g[0]*x-E:0),height:N+(C?g[1]*C-P:0)}})}),s}function YR(e,t,n,i,s,l){const a=i==null?void 0:i.querySelector(".xyflow__viewport");let u=!1;if(!a)return{changes:[],updatedInternals:u};const f=[],h=window.getComputedStyle(a),{m22:v}=new window.DOMMatrixReadOnly(h.transform),m=[];for(const g of e.values()){const x=t.get(g.id);if(!x)continue;if(x.hidden){t.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),u=!0;continue}const C=Mh(g.nodeElement),w=x.measured.width!==C.width||x.measured.height!==C.height;if(!!(C.width&&C.height&&(w||!x.internals.handleBounds||g.force))){const E=g.nodeElement.getBoundingClientRect(),P=rs(x.extent)?x.extent:l;let{positionAbsolute:_}=x.internals;x.parentId&&x.extent==="parent"?_=Iw(_,C,t.get(x.parentId)):P&&(_=Yo(_,P,C));const k={...x,measured:C,internals:{...x.internals,positionAbsolute:_,handleBounds:{source:By("source",g.nodeElement,E,v,x.id),target:By("target",g.nodeElement,E,v,x.id)}}};t.set(x.id,k),x.parentId&&Oh(k,t,n,{nodeOrigin:s}),u=!0,w&&(f.push({id:x.id,type:"dimensions",dimensions:C}),x.expandParent&&x.parentId&&m.push({id:x.id,parentId:x.parentId,rect:ns(k,s)}))}}if(m.length>0){const g=Lh(m,t,n,s);f.push(...g)}return{changes:f,updatedInternals:u}}async function XR({delta:e,panZoom:t,transform:n,translateExtent:i,width:s,height:l}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,l]],i),u=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(u)}function Xy(e,t,n,i,s,l){let a=s;const u=i.get(a)||new Map;i.set(a,u.set(n,t)),a=`${s}-${e}`;const f=i.get(a)||new Map;if(i.set(a,f.set(n,t)),l){a=`${s}-${e}-${l}`;const h=i.get(a)||new Map;i.set(a,h.set(n,t))}}function Gw(e,t,n){e.clear(),t.clear();for(const i of n){const{source:s,target:l,sourceHandle:a=null,targetHandle:u=null}=i,f={edgeId:i.id,source:s,target:l,sourceHandle:a,targetHandle:u},h=`${s}-${a}--${l}-${u}`,v=`${l}-${u}--${s}-${a}`;Xy("source",f,v,e,s,a),Xy("target",f,h,e,l,u),t.set(i.id,i)}}function Yw(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Yw(n,t):!1}function Ky(e,t,n){var s;let i=e;do{if((s=i==null?void 0:i.matches)!=null&&s.call(i,t))return!0;if(i===n)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function KR(e,t,n,i){const s=new Map;for(const[l,a]of e)if((a.selected||a.id===i)&&(!a.parentId||!Yw(a,e))&&(a.draggable||t&&typeof a.draggable>"u")){const u=e.get(l);u&&s.set(l,{id:l,position:u.position||{x:0,y:0},distance:{x:n.x-u.internals.positionAbsolute.x,y:n.y-u.internals.positionAbsolute.y},extent:u.extent,parentId:u.parentId,origin:u.origin,expandParent:u.expandParent,internals:{positionAbsolute:u.internals.positionAbsolute||{x:0,y:0}},measured:{width:u.measured.width??0,height:u.measured.height??0}})}return s}function ap({nodeId:e,dragItems:t,nodeLookup:n,dragging:i=!0}){var a,u,f;const s=[];for(const[h,v]of t){const m=(a=n.get(h))==null?void 0:a.internals.userNode;m&&s.push({...m,position:v.position,dragging:i})}if(!e)return[s[0],s];const l=(u=n.get(e))==null?void 0:u.internals.userNode;return[l?{...l,position:((f=t.get(e))==null?void 0:f.position)||l.position,dragging:i}:s[0],s]}function qR({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:i,onDragStop:s}){let l={x:null,y:null},a=0,u=new Map,f=!1,h={x:0,y:0},v=null,m=!1,g=null,x=!1;function C({noDragClassName:N,handleSelector:E,domNode:P,isSelectable:_,nodeId:k,nodeClickDistance:A=0}){g=cn(P);function D({x:Q,y:X},J){const{nodeLookup:te,nodeExtent:T,snapGrid:V,snapToGrid:L,nodeOrigin:F,onNodeDrag:M,onSelectionDrag:z,onError:Y,updateNodePositions:I}=t();l={x:Q,y:X};let U=!1,K={x:0,y:0,x2:0,y2:0};if(u.size>1&&T){const ee=Xl(u);K=Hp(ee)}for(const[ee,B]of u){if(!te.has(ee))continue;let Z={x:Q-B.distance.x,y:X-B.distance.y};L&&(Z=_u(Z,V));let H=[[T[0][0],T[0][1]],[T[1][0],T[1][1]]];if(u.size>1&&T&&!B.extent){const{positionAbsolute:ae}=B.internals,fe=ae.x-K.x+T[0][0],ce=ae.x+B.measured.width-K.x2+T[1][0],ve=ae.y-K.y+T[0][1],xe=ae.y+B.measured.height-K.y2+T[1][1];H=[[fe,ve],[ce,xe]]}const{position:re,positionAbsolute:le}=Mw({nodeId:ee,nextPosition:Z,nodeLookup:te,nodeExtent:H,nodeOrigin:F,onError:Y});U=U||B.position.x!==re.x||B.position.y!==re.y,B.position=re,B.internals.positionAbsolute=le}if(U&&(I(u,!0),J&&(i||M||!k&&z))){const[ee,B]=ap({nodeId:k,dragItems:u,nodeLookup:te});i==null||i(J,u,ee,B),M==null||M(J,ee,B),k||z==null||z(J,B)}}async function R(){if(!v)return;const{transform:Q,panBy:X,autoPanSpeed:J,autoPanOnNodeDrag:te}=t();if(!te){f=!1,cancelAnimationFrame(a);return}const[T,V]=Dw(h,v,J);(T!==0||V!==0)&&(l.x=(l.x??0)-T/Q[2],l.y=(l.y??0)-V/Q[2],await X({x:T,y:V})&&D(l,null)),a=requestAnimationFrame(R)}function O(Q){var U;const{nodeLookup:X,multiSelectionActive:J,nodesDraggable:te,transform:T,snapGrid:V,snapToGrid:L,selectNodesOnDrag:F,onNodeDragStart:M,onSelectionDragStart:z,unselectNodesAndEdges:Y}=t();m=!0,(!F||!_)&&!J&&k&&((U=X.get(k))!=null&&U.selected||Y()),_&&F&&k&&(e==null||e(k));const I=bl(Q.sourceEvent,{transform:T,snapGrid:V,snapToGrid:L,containerBounds:v});if(l=I,u=KR(X,te,I,k),u.size>0&&(n||M||!k&&z)){const[K,ee]=ap({nodeId:k,dragItems:u,nodeLookup:X});n==null||n(Q.sourceEvent,u,K,ee),M==null||M(Q.sourceEvent,K,ee),k||z==null||z(Q.sourceEvent,ee)}}const W=fw().clickDistance(A).on("start",Q=>{const{domNode:X,nodeDragThreshold:J,transform:te,snapGrid:T,snapToGrid:V}=t();v=(X==null?void 0:X.getBoundingClientRect())||null,x=!1,J===0&&O(Q),l=bl(Q.sourceEvent,{transform:te,snapGrid:T,snapToGrid:V,containerBounds:v}),h=Sr(Q.sourceEvent,v)}).on("drag",Q=>{const{autoPanOnNodeDrag:X,transform:J,snapGrid:te,snapToGrid:T,nodeDragThreshold:V,nodeLookup:L}=t(),F=bl(Q.sourceEvent,{transform:J,snapGrid:te,snapToGrid:T,containerBounds:v});if((Q.sourceEvent.type==="touchmove"&&Q.sourceEvent.touches.length>1||k&&!L.has(k))&&(x=!0),!x){if(!f&&X&&m&&(f=!0,R()),!m){const M=F.xSnapped-(l.x??0),z=F.ySnapped-(l.y??0);Math.sqrt(M*M+z*z)>V&&O(Q)}(l.x!==F.xSnapped||l.y!==F.ySnapped)&&u&&m&&(h=Sr(Q.sourceEvent,v),D(F,Q.sourceEvent))}}).on("end",Q=>{if(!(!m||x)&&(f=!1,m=!1,cancelAnimationFrame(a),u.size>0)){const{nodeLookup:X,updateNodePositions:J,onNodeDragStop:te,onSelectionDragStop:T}=t();if(J(u,!1),s||te||!k&&T){const[V,L]=ap({nodeId:k,dragItems:u,nodeLookup:X,dragging:!1});s==null||s(Q.sourceEvent,u,V,L),te==null||te(Q.sourceEvent,V,L),k||T==null||T(Q.sourceEvent,L)}}}).filter(Q=>{const X=Q.target;return!Q.button&&(!N||!Ky(X,`.${N}`,P))&&(!E||Ky(X,E,P))});g.call(W)}function w(){g==null||g.on(".drag",null)}return{update:C,destroy:w}}function QR(e,t,n){const i=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const l of t.values())Dl(s,ns(l))>0&&i.push(l);return i}const ZR=250;function JR(e,t,n,i){var u,f;let s=[],l=1/0;const a=QR(e,n,t+ZR);for(const h of a){const v=[...((u=h.internals.handleBounds)==null?void 0:u.source)??[],...((f=h.internals.handleBounds)==null?void 0:f.target)??[]];for(const m of v){if(i.nodeId===m.nodeId&&i.type===m.type&&i.id===m.id)continue;const{x:g,y:x}=Ol(h,m,m.position,!0),C=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(x-e.y,2));C>t||(C<l?(s=[{...m,x:g,y:x}],l=C):C===l&&s.push({...m,x:g,y:x}))}}if(!s.length)return null;if(s.length>1){const h=i.type==="source"?"target":"source";return s.find(v=>v.type===h)??s[0]}return s[0]}function Xw(e,t,n,i,s,l=!1){var h,v,m;const a=i.get(e);if(!a)return null;const u=s==="strict"?(h=a.internals.handleBounds)==null?void 0:h[t]:[...((v=a.internals.handleBounds)==null?void 0:v.source)??[],...((m=a.internals.handleBounds)==null?void 0:m.target)??[]],f=(n?u==null?void 0:u.find(g=>g.id===n):u==null?void 0:u[0])??null;return f&&l?{...f,...Ol(a,f,f.position,!0)}:f}function Kw(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function eT(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const qw=()=>!0;function tT(e,{connectionMode:t,connectionRadius:n,handleId:i,nodeId:s,edgeUpdaterType:l,isTarget:a,domNode:u,nodeLookup:f,lib:h,autoPanOnConnect:v,flowId:m,panBy:g,cancelConnection:x,onConnectStart:C,onConnect:w,onConnectEnd:N,isValidConnection:E=qw,onReconnectEnd:P,updateConnection:_,getTransform:k,getFromHandle:A,autoPanSpeed:D}){const R=$w(e.target);let O=0,W;const{x:Q,y:X}=Sr(e),J=R==null?void 0:R.elementFromPoint(Q,X),te=Kw(l,J),T=u==null?void 0:u.getBoundingClientRect();if(!T||!te)return;const V=Xw(s,te,i,f,t);if(!V)return;let L=Sr(e,T),F=!1,M=null,z=!1,Y=null;function I(){if(!v||!T)return;const[le,ae]=Dw(L,T,D);g({x:le,y:ae}),O=requestAnimationFrame(I)}const U={...V,nodeId:s,type:te,position:V.position},K=f.get(s),B={inProgress:!0,isValid:null,from:Ol(K,U,we.Left,!0),fromHandle:U,fromPosition:U.position,fromNode:K,to:L,toHandle:null,toPosition:Ly[U.position],toNode:null};_(B);let Z=B;C==null||C(e,{nodeId:s,handleId:i,handleType:te});function H(le){if(!A()||!U){re(le);return}const ae=k();L=Sr(le,T),W=JR(Kl(L,ae,!1,[1,1]),n,f,U),F||(I(),F=!0);const fe=Qw(le,{handle:W,connectionMode:t,fromNodeId:s,fromHandleId:i,fromType:a?"target":"source",isValidConnection:E,doc:R,lib:h,flowId:m,nodeLookup:f});Y=fe.handleDomNode,M=fe.connection,z=eT(!!W,fe.isValid);const ce={...Z,isValid:z,to:W&&z?tu({x:W.x,y:W.y},ae):L,toHandle:fe.toHandle,toPosition:z&&fe.toHandle?fe.toHandle.position:Ly[U.position],toNode:fe.toHandle?f.get(fe.toHandle.nodeId):null};z&&W&&Z.toHandle&&ce.toHandle&&Z.toHandle.type===ce.toHandle.type&&Z.toHandle.nodeId===ce.toHandle.nodeId&&Z.toHandle.id===ce.toHandle.id&&Z.to.x===ce.to.x&&Z.to.y===ce.to.y||(_(ce),Z=ce)}function re(le){(W||Y)&&M&&z&&(w==null||w(M));const{inProgress:ae,...fe}=Z,ce={...fe,toPosition:Z.toHandle?Z.toPosition:null};N==null||N(le,ce),l&&(P==null||P(le,ce)),x(),cancelAnimationFrame(O),F=!1,z=!1,M=null,Y=null,R.removeEventListener("mousemove",H),R.removeEventListener("mouseup",re),R.removeEventListener("touchmove",H),R.removeEventListener("touchend",re)}R.addEventListener("mousemove",H),R.addEventListener("mouseup",re),R.addEventListener("touchmove",H),R.addEventListener("touchend",re)}function Qw(e,{handle:t,connectionMode:n,fromNodeId:i,fromHandleId:s,fromType:l,doc:a,lib:u,flowId:f,isValidConnection:h=qw,nodeLookup:v}){const m=l==="target",g=t?a.querySelector(`.${u}-flow__handle[data-id="${f}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x,y:C}=Sr(e),w=a.elementFromPoint(x,C),N=w!=null&&w.classList.contains(`${u}-flow__handle`)?w:g,E={handleDomNode:N,isValid:!1,connection:null,toHandle:null};if(N){const P=Kw(void 0,N),_=N.getAttribute("data-nodeid"),k=N.getAttribute("data-handleid"),A=N.classList.contains("connectable"),D=N.classList.contains("connectableend");if(!_||!P)return E;const R={source:m?_:i,sourceHandle:m?k:s,target:m?i:_,targetHandle:m?s:k};E.connection=R;const W=A&&D&&(n===es.Strict?m&&P==="source"||!m&&P==="target":_!==i||k!==s);E.isValid=W&&h(R),E.toHandle=Xw(_,P,k,v,n,!1)}return E}const Yp={onPointerDown:tT,isValid:Qw};function nT({domNode:e,panZoom:t,getTransform:n,getViewScale:i}){const s=cn(e);function l({translateExtent:u,width:f,height:h,zoomStep:v=10,pannable:m=!0,zoomable:g=!0,inversePan:x=!1}){const C=_=>{const k=n();if(_.sourceEvent.type!=="wheel"||!t)return;const A=-_.sourceEvent.deltaY*(_.sourceEvent.deltaMode===1?.05:_.sourceEvent.deltaMode?1:.002)*v,D=k[2]*Math.pow(2,A);t.scaleTo(D)};let w=[0,0];const N=_=>{(_.sourceEvent.type==="mousedown"||_.sourceEvent.type==="touchstart")&&(w=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY])},E=_=>{const k=n();if(_.sourceEvent.type!=="mousemove"&&_.sourceEvent.type!=="touchmove"||!t)return;const A=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY],D=[A[0]-w[0],A[1]-w[1]];w=A;const R=i()*Math.max(k[2],Math.log(k[2]))*(x?-1:1),O={x:k[0]-D[0]*R,y:k[1]-D[1]*R},W=[[0,0],[f,h]];t.setViewportConstrained({x:O.x,y:O.y,zoom:k[2]},W,u)},P=kw().on("start",N).on("zoom",m?E:null).on("zoom.wheel",g?C:null);s.call(P,{})}function a(){s.on("zoom",null)}return{update:l,destroy:a,pointer:Pn}}const rT=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ku=e=>({x:e.x,y:e.y,zoom:e.k}),cp=({x:e,y:t,zoom:n})=>bu.translate(e,t).scale(n),$i=(e,t)=>e.target.closest(`.${t}`),Zw=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),up=(e,t=0,n=()=>{})=>{const i=typeof t=="number"&&t>0;return i||n(),i?e.transition().duration(t).on("end",n):e},Jw=e=>{const t=e.ctrlKey&&nu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function oT({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:i,panOnScrollMode:s,panOnScrollSpeed:l,zoomOnPinch:a,onPanZoomStart:u,onPanZoom:f,onPanZoomEnd:h}){return v=>{if($i(v,t))return!1;v.preventDefault(),v.stopImmediatePropagation();const m=n.property("__zoom").k||1;if(v.ctrlKey&&a){const N=Pn(v),E=Jw(v),P=m*Math.pow(2,E);i.scaleTo(n,P,N,v);return}const g=v.deltaMode===1?20:1;let x=s===Wo.Vertical?0:v.deltaX*g,C=s===Wo.Horizontal?0:v.deltaY*g;!nu()&&v.shiftKey&&s!==Wo.Vertical&&(x=v.deltaY*g,C=0),i.translateBy(n,-(x/m)*l,-(C/m)*l,{internal:!0});const w=ku(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,u==null||u(v,w)),e.isPanScrolling&&(f==null||f(v,w),e.panScrollTimeout=setTimeout(()=>{h==null||h(v,w),e.isPanScrolling=!1},150))}}function iT({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(i,s){const l=i.type==="wheel",a=!t&&l&&!i.ctrlKey,u=$i(i,e);if(i.ctrlKey&&l&&u&&i.preventDefault(),a||u)return null;i.preventDefault(),n.call(this,i,s)}}function sT({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return i=>{var l,a,u;if((l=i.sourceEvent)!=null&&l.internal)return;const s=ku(i.transform);e.mouseButton=((a=i.sourceEvent)==null?void 0:a.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((u=i.sourceEvent)==null?void 0:u.type)==="mousedown"&&t(!0),n&&(n==null||n(i.sourceEvent,s))}}function lT({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:i,onPanZoom:s}){return l=>{var a,u;e.usedRightMouseButton=!!(n&&Zw(t,e.mouseButton??0)),(a=l.sourceEvent)!=null&&a.sync||i([l.transform.x,l.transform.y,l.transform.k]),s&&!((u=l.sourceEvent)!=null&&u.internal)&&(s==null||s(l.sourceEvent,ku(l.transform)))}}function aT({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:s,onPaneContextMenu:l}){return a=>{var u;if(!((u=a.sourceEvent)!=null&&u.internal)&&(e.isZoomingOrPanning=!1,l&&Zw(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&l(a.sourceEvent),e.usedRightMouseButton=!1,i(!1),s&&rT(e.prevViewport,a.transform))){const f=ku(a.transform);e.prevViewport=f,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(a.sourceEvent,f)},n?150:0)}}}function cT({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:i,panOnScroll:s,zoomOnDoubleClick:l,userSelectionActive:a,noWheelClassName:u,noPanClassName:f,lib:h}){return v=>{var C;const m=e||t,g=n&&v.ctrlKey;if(v.button===1&&v.type==="mousedown"&&($i(v,`${h}-flow__node`)||$i(v,`${h}-flow__edge`)))return!0;if(!i&&!m&&!s&&!l&&!n||a||$i(v,u)&&v.type==="wheel"||$i(v,f)&&(v.type!=="wheel"||s&&v.type==="wheel"&&!e)||!n&&v.ctrlKey&&v.type==="wheel")return!1;if(!n&&v.type==="touchstart"&&((C=v.touches)==null?void 0:C.length)>1)return v.preventDefault(),!1;if(!m&&!s&&!g&&v.type==="wheel"||!i&&(v.type==="mousedown"||v.type==="touchstart")||Array.isArray(i)&&!i.includes(v.button)&&v.type==="mousedown")return!1;const x=Array.isArray(i)&&i.includes(v.button)||!v.button||v.button<=1;return(!v.ctrlKey||v.type==="wheel")&&x}}function uT({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:i,translateExtent:s,viewport:l,onPanZoom:a,onPanZoomStart:u,onPanZoomEnd:f,onDraggingChange:h}){const v={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=e.getBoundingClientRect(),g=kw().clickDistance(!In(i)||i<0?0:i).scaleExtent([t,n]).translateExtent(s),x=cn(e).call(g);_({x:l.x,y:l.y,zoom:ts(l.zoom,t,n)},[[0,0],[m.width,m.height]],s);const C=x.on("wheel.zoom"),w=x.on("dblclick.zoom");g.wheelDelta(Jw);function N(J,te){return x?new Promise(T=>{g==null||g.transform(up(x,te==null?void 0:te.duration,()=>T(!0)),J)}):Promise.resolve(!1)}function E({noWheelClassName:J,noPanClassName:te,onPaneContextMenu:T,userSelectionActive:V,panOnScroll:L,panOnDrag:F,panOnScrollMode:M,panOnScrollSpeed:z,preventScrolling:Y,zoomOnPinch:I,zoomOnScroll:U,zoomOnDoubleClick:K,zoomActivationKeyPressed:ee,lib:B,onTransformChange:Z}){V&&!v.isZoomingOrPanning&&P();const re=L&&!ee&&!V?oT({zoomPanValues:v,noWheelClassName:J,d3Selection:x,d3Zoom:g,panOnScrollMode:M,panOnScrollSpeed:z,zoomOnPinch:I,onPanZoomStart:u,onPanZoom:a,onPanZoomEnd:f}):iT({noWheelClassName:J,preventScrolling:Y,d3ZoomHandler:C});if(x.on("wheel.zoom",re,{passive:!1}),!V){const ae=sT({zoomPanValues:v,onDraggingChange:h,onPanZoomStart:u});g.on("start",ae);const fe=lT({zoomPanValues:v,panOnDrag:F,onPaneContextMenu:!!T,onPanZoom:a,onTransformChange:Z});g.on("zoom",fe);const ce=aT({zoomPanValues:v,panOnDrag:F,panOnScroll:L,onPaneContextMenu:T,onPanZoomEnd:f,onDraggingChange:h});g.on("end",ce)}const le=cT({zoomActivationKeyPressed:ee,panOnDrag:F,zoomOnScroll:U,panOnScroll:L,zoomOnDoubleClick:K,zoomOnPinch:I,userSelectionActive:V,noPanClassName:te,noWheelClassName:J,lib:B});g.filter(le),K?x.on("dblclick.zoom",w):x.on("dblclick.zoom",null)}function P(){g.on("zoom",null)}async function _(J,te,T){const V=cp(J),L=g==null?void 0:g.constrain()(V,te,T);return L&&await N(L),new Promise(F=>F(L))}async function k(J,te){const T=cp(J);return await N(T,te),new Promise(V=>V(T))}function A(J){if(x){const te=cp(J),T=x.property("__zoom");(T.k!==J.zoom||T.x!==J.x||T.y!==J.y)&&(g==null||g.transform(x,te,null,{sync:!0}))}}function D(){const J=x?Ew(x.node()):{x:0,y:0,k:1};return{x:J.x,y:J.y,zoom:J.k}}function R(J,te){return x?new Promise(T=>{g==null||g.scaleTo(up(x,te==null?void 0:te.duration,()=>T(!0)),J)}):Promise.resolve(!1)}function O(J,te){return x?new Promise(T=>{g==null||g.scaleBy(up(x,te==null?void 0:te.duration,()=>T(!0)),J)}):Promise.resolve(!1)}function W(J){g==null||g.scaleExtent(J)}function Q(J){g==null||g.translateExtent(J)}function X(J){const te=!In(J)||J<0?0:J;g==null||g.clickDistance(te)}return{update:E,destroy:P,setViewport:k,setViewportConstrained:_,getViewport:D,scaleTo:R,scaleBy:O,setScaleExtent:W,setTranslateExtent:Q,syncViewport:A,setClickDistance:X}}var Xi;(function(e){e.Line="line",e.Handle="handle"})(Xi||(Xi={}));const dT=["top-left","top-right","bottom-left","bottom-right"],fT=["top","right","bottom","left"];function pT({width:e,prevWidth:t,height:n,prevHeight:i,affectsX:s,affectsY:l}){const a=e-t,u=n-i,f=[a>0?1:a<0?-1:0,u>0?1:u<0?-1:0];return a&&s&&(f[0]=f[0]*-1),u&&l&&(f[1]=f[1]*-1),f}function hT(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),i=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:i,affectsY:s}}function qr(e,t){return Math.max(0,t-e)}function Qr(e,t){return Math.max(0,e-t)}function Cc(e,t,n){return Math.max(0,t-e,e-n)}function qy(e,t){return e?!t:t}function mT(e,t,n,i,s,l,a,u){let{affectsX:f,affectsY:h}=t;const{isHorizontal:v,isVertical:m}=t,g=v&&m,{xSnapped:x,ySnapped:C}=n,{minWidth:w,maxWidth:N,minHeight:E,maxHeight:P}=i,{x:_,y:k,width:A,height:D,aspectRatio:R}=e;let O=Math.floor(v?x-e.pointerX:0),W=Math.floor(m?C-e.pointerY:0);const Q=A+(f?-O:O),X=D+(h?-W:W),J=-l[0]*A,te=-l[1]*D;let T=Cc(Q,w,N),V=Cc(X,E,P);if(a){let M=0,z=0;f&&O<0?M=qr(_+O+J,a[0][0]):!f&&O>0&&(M=Qr(_+Q+J,a[1][0])),h&&W<0?z=qr(k+W+te,a[0][1]):!h&&W>0&&(z=Qr(k+X+te,a[1][1])),T=Math.max(T,M),V=Math.max(V,z)}if(u){let M=0,z=0;f&&O>0?M=Qr(_+O,u[0][0]):!f&&O<0&&(M=qr(_+Q,u[1][0])),h&&W>0?z=Qr(k+W,u[0][1]):!h&&W<0&&(z=qr(k+X,u[1][1])),T=Math.max(T,M),V=Math.max(V,z)}if(s){if(v){const M=Cc(Q/R,E,P)*R;if(T=Math.max(T,M),a){let z=0;!f&&!h||f&&!h&&g?z=Qr(k+te+Q/R,a[1][1])*R:z=qr(k+te+(f?O:-O)/R,a[0][1])*R,T=Math.max(T,z)}if(u){let z=0;!f&&!h||f&&!h&&g?z=qr(k+Q/R,u[1][1])*R:z=Qr(k+(f?O:-O)/R,u[0][1])*R,T=Math.max(T,z)}}if(m){const M=Cc(X*R,w,N)/R;if(V=Math.max(V,M),a){let z=0;!f&&!h||h&&!f&&g?z=Qr(_+X*R+J,a[1][0])/R:z=qr(_+(h?W:-W)*R+J,a[0][0])/R,V=Math.max(V,z)}if(u){let z=0;!f&&!h||h&&!f&&g?z=qr(_+X*R,u[1][0])/R:z=Qr(_+(h?W:-W)*R,u[0][0])/R,V=Math.max(V,z)}}}W=W+(W<0?V:-V),O=O+(O<0?T:-T),s&&(g?Q>X*R?W=(qy(f,h)?-O:O)/R:O=(qy(f,h)?-W:W)*R:v?(W=O/R,h=f):(O=W*R,f=h));const L=f?_+O:_,F=h?k+W:k;return{width:A+(f?-O:O),height:D+(h?-W:W),x:l[0]*O*(f?-1:1)+L,y:l[1]*W*(h?-1:1)+F}}const eS={width:0,height:0,x:0,y:0},gT={...eS,pointerX:0,pointerY:0,aspectRatio:1};function vT(e){return[[0,0],[e.measured.width,e.measured.height]]}function yT(e,t,n){const i=t.position.x+e.position.x,s=t.position.y+e.position.y,l=e.measured.width??0,a=e.measured.height??0,u=n[0]*l,f=n[1]*a;return[[i-u,s-f],[i+l-u,s+a-f]]}function xT({domNode:e,nodeId:t,getStoreItems:n,onChange:i,onEnd:s}){const l=cn(e);function a({controlPosition:f,boundaries:h,keepAspectRatio:v,resizeDirection:m,onResizeStart:g,onResize:x,onResizeEnd:C,shouldResize:w}){let N={...eS},E={...gT};const P=hT(f);let _,k=null,A=[],D,R,O;const W=fw().on("start",Q=>{const{nodeLookup:X,transform:J,snapGrid:te,snapToGrid:T,nodeOrigin:V,paneDomNode:L}=n();if(_=X.get(t),!_)return;k=(L==null?void 0:L.getBoundingClientRect())??null;const{xSnapped:F,ySnapped:M}=bl(Q.sourceEvent,{transform:J,snapGrid:te,snapToGrid:T,containerBounds:k});N={width:_.measured.width??0,height:_.measured.height??0,x:_.position.x??0,y:_.position.y??0},E={...N,pointerX:F,pointerY:M,aspectRatio:N.width/N.height},D=void 0,_.parentId&&(_.extent==="parent"||_.expandParent)&&(D=X.get(_.parentId),R=D&&_.extent==="parent"?vT(D):void 0),A=[],O=void 0;for(const[z,Y]of X)if(Y.parentId===t&&(A.push({id:z,position:{...Y.position},extent:Y.extent}),Y.extent==="parent"||Y.expandParent)){const I=yT(Y,_,Y.origin??V);O?O=[[Math.min(I[0][0],O[0][0]),Math.min(I[0][1],O[0][1])],[Math.max(I[1][0],O[1][0]),Math.max(I[1][1],O[1][1])]]:O=I}g==null||g(Q,{...N})}).on("drag",Q=>{const{transform:X,snapGrid:J,snapToGrid:te,nodeOrigin:T}=n(),V=bl(Q.sourceEvent,{transform:X,snapGrid:J,snapToGrid:te,containerBounds:k}),L=[];if(!_)return;const{x:F,y:M,width:z,height:Y}=N,I={},U=_.origin??T,{width:K,height:ee,x:B,y:Z}=mT(E,P,V,h,v,U,R,O),H=K!==z,re=ee!==Y,le=B!==F&&H,ae=Z!==M&&re;if(!le&&!ae&&!H&&!re)return;if((le||ae||U[0]===1||U[1]===1)&&(I.x=le?B:N.x,I.y=ae?Z:N.y,N.x=I.x,N.y=I.y,A.length>0)){const xe=B-F,Be=Z-M;for(const he of A)he.position={x:he.position.x-xe+U[0]*(K-z),y:he.position.y-Be+U[1]*(ee-Y)},L.push(he)}if((H||re)&&(I.width=H&&(!m||m==="horizontal")?K:N.width,I.height=re&&(!m||m==="vertical")?ee:N.height,N.width=I.width,N.height=I.height),D&&_.expandParent){const xe=U[0]*(I.width??0);I.x&&I.x<xe&&(N.x=xe,E.x=E.x-(I.x-xe));const Be=U[1]*(I.height??0);I.y&&I.y<Be&&(N.y=Be,E.y=E.y-(I.y-Be))}const fe=pT({width:N.width,prevWidth:z,height:N.height,prevHeight:Y,affectsX:P.affectsX,affectsY:P.affectsY}),ce={...N,direction:fe};(w==null?void 0:w(Q,ce))!==!1&&(x==null||x(Q,ce),i(I,L))}).on("end",Q=>{C==null||C(Q,{...N}),s==null||s({...N})});l.call(W)}function u(){l.on(".drag",null)}return{update:a,destroy:u}}var dp={exports:{}},fp={},pp={exports:{}},hp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function wT(){if(Qy)return hp;Qy=1;var e=Wl();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,s=e.useEffect,l=e.useLayoutEffect,a=e.useDebugValue;function u(m,g){var x=g(),C=i({inst:{value:x,getSnapshot:g}}),w=C[0].inst,N=C[1];return l(function(){w.value=x,w.getSnapshot=g,f(w)&&N({inst:w})},[m,x,g]),s(function(){return f(w)&&N({inst:w}),m(function(){f(w)&&N({inst:w})})},[m]),a(x),x}function f(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!n(m,x)}catch{return!0}}function h(m,g){return g()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return hp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,hp}var Zy;function ST(){return Zy||(Zy=1,pp.exports=wT()),pp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function bT(){if(Jy)return fp;Jy=1;var e=Wl(),t=ST();function n(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var i=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,l=e.useRef,a=e.useEffect,u=e.useMemo,f=e.useDebugValue;return fp.useSyncExternalStoreWithSelector=function(h,v,m,g,x){var C=l(null);if(C.current===null){var w={hasValue:!1,value:null};C.current=w}else w=C.current;C=u(function(){function E(D){if(!P){if(P=!0,_=D,D=g(D),x!==void 0&&w.hasValue){var R=w.value;if(x(R,D))return k=R}return k=D}if(R=k,i(_,D))return R;var O=g(D);return x!==void 0&&x(R,O)?(_=D,R):(_=D,k=O)}var P=!1,_,k,A=m===void 0?null:m;return[function(){return E(v())},A===null?void 0:function(){return E(A())}]},[v,m,g,x]);var N=s(h,C[0],C[1]);return a(function(){w.hasValue=!0,w.value=N},[N]),f(N),N},fp}var ex;function NT(){return ex||(ex=1,dp.exports=bT()),dp.exports}var CT=NT();const _T=xh(CT),ET={},tx=e=>{let t;const n=new Set,i=(v,m)=>{const g=typeof v=="function"?v(t):v;if(!Object.is(g,t)){const x=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(C=>C(t,x))}},s=()=>t,f={setState:i,getState:s,getInitialState:()=>h,subscribe:v=>(n.add(v),()=>n.delete(v)),destroy:()=>{(ET?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=t=e(i,s,f);return f},kT=e=>e?tx(e):tx,{useDebugValue:PT}=Fe,{useSyncExternalStoreWithSelector:jT}=_T,RT=e=>e;function tS(e,t=RT,n){const i=jT(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return PT(i),i}const nx=(e,t)=>{const n=kT(e),i=(s,l=t)=>tS(n,s,l);return Object.assign(i,n),i},TT=(e,t)=>e?nx(e,t):nx;function pt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[i,s]of e)if(!Object.is(s,t.get(i)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n)if(!Object.prototype.hasOwnProperty.call(t,i)||!Object.is(e[i],t[i]))return!1;return!0}var ds=f0();const AT=xh(ds),Pu=S.createContext(null),MT=Pu.Provider,nS=Zn.error001();function Ye(e,t){const n=S.useContext(Pu);if(n===null)throw new Error(nS);return tS(n,e,t)}function ct(){const e=S.useContext(Pu);if(e===null)throw new Error(nS);return S.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const rx={display:"none"},IT={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},rS="react-flow__node-desc",oS="react-flow__edge-desc",DT="react-flow__aria-live",OT=e=>e.ariaLiveMessage;function LT({rfId:e}){const t=Ye(OT);return d.jsx("div",{id:`${DT}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:IT,children:t})}function zT({rfId:e,disableKeyboardA11y:t}){return d.jsxs(d.Fragment,{children:[d.jsxs("div",{id:`${rS}-${e}`,style:rx,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),d.jsx("div",{id:`${oS}-${e}`,style:rx,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&d.jsx(LT,{rfId:e})]})}const $T=e=>e.userSelectionActive?"none":"all",ql=S.forwardRef(({position:e="top-left",children:t,className:n,style:i,...s},l)=>{const a=Ye($T),u=`${e}`.split("-");return d.jsx("div",{className:St(["react-flow__panel",n,...u]),style:{...i,pointerEvents:a},ref:l,...s,children:t})});ql.displayName="Panel";function FT({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:d.jsx(ql,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:d.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const BT=e=>{const t=[],n=[];for(const[,i]of e.nodeLookup)i.selected&&t.push(i.internals.userNode);for(const[,i]of e.edgeLookup)i.selected&&n.push(i);return{selectedNodes:t,selectedEdges:n}},_c=e=>e.id;function VT(e,t){return pt(e.selectedNodes.map(_c),t.selectedNodes.map(_c))&&pt(e.selectedEdges.map(_c),t.selectedEdges.map(_c))}function HT({onSelectionChange:e}){const t=ct(),{selectedNodes:n,selectedEdges:i}=Ye(BT,VT);return S.useEffect(()=>{const s={nodes:n,edges:i};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(l=>l(s))},[n,i,e]),null}const WT=e=>!!e.onSelectionChangeHandlers;function UT({onSelectionChange:e}){const t=Ye(WT);return e||t?d.jsx(HT,{onSelectionChange:e}):null}const iS=[0,0],GT={x:0,y:0,zoom:1},YT=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],ox=[...YT,"rfId"],XT=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),ix={translateExtent:Al,nodeOrigin:iS,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function KT(e){const{setNodes:t,setEdges:n,setMinZoom:i,setMaxZoom:s,setTranslateExtent:l,setNodeExtent:a,reset:u,setDefaultNodesAndEdges:f,setPaneClickDistance:h}=Ye(XT,pt),v=ct();S.useEffect(()=>(f(e.defaultNodes,e.defaultEdges),()=>{m.current=ix,u()}),[]);const m=S.useRef(ix);return S.useEffect(()=>{for(const g of ox){const x=e[g],C=m.current[g];x!==C&&(typeof e[g]>"u"||(g==="nodes"?t(x):g==="edges"?n(x):g==="minZoom"?i(x):g==="maxZoom"?s(x):g==="translateExtent"?l(x):g==="nodeExtent"?a(x):g==="paneClickDistance"?h(x):g==="fitView"?v.setState({fitViewQueued:x}):g==="fitViewOptions"?v.setState({fitViewOptions:x}):v.setState({[g]:x})))}m.current=e},ox.map(g=>e[g])),null}function sx(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function qT(e){var i;const[t,n]=S.useState(e==="system"?null:e);return S.useEffect(()=>{if(e!=="system"){n(e);return}const s=sx(),l=()=>n(s!=null&&s.matches?"dark":"light");return l(),s==null||s.addEventListener("change",l),()=>{s==null||s.removeEventListener("change",l)}},[e]),t!==null?t:(i=sx())!=null&&i.matches?"dark":"light"}const lx=typeof document<"u"?document:null;function Ll(e=null,t={target:lx,actInsideInputWithModifier:!0}){const[n,i]=S.useState(!1),s=S.useRef(!1),l=S.useRef(new Set([])),[a,u]=S.useMemo(()=>{if(e!==null){const h=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),v=h.reduce((m,g)=>m.concat(...g),[]);return[h,v]}return[[],[]]},[e]);return S.useEffect(()=>{const f=(t==null?void 0:t.target)||lx;if(e!==null){const h=g=>{var w,N;if(s.current=g.ctrlKey||g.metaKey||g.shiftKey||g.altKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&Fw(g))return!1;const C=cx(g.code,u);if(l.current.add(g[C]),ax(a,l.current,!1)){const E=((N=(w=g.composedPath)==null?void 0:w.call(g))==null?void 0:N[0])||g.target,P=(E==null?void 0:E.nodeName)==="BUTTON"||(E==null?void 0:E.nodeName)==="A";t.preventDefault!==!1&&(s.current||!P)&&g.preventDefault(),i(!0)}},v=g=>{const x=cx(g.code,u);ax(a,l.current,!0)?(i(!1),l.current.clear()):l.current.delete(g[x]),g.key==="Meta"&&l.current.clear(),s.current=!1},m=()=>{l.current.clear(),i(!1)};return f==null||f.addEventListener("keydown",h),f==null||f.addEventListener("keyup",v),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{f==null||f.removeEventListener("keydown",h),f==null||f.removeEventListener("keyup",v),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[e,i]),n}function ax(e,t,n){return e.filter(i=>n||i.length===t.size).some(i=>i.every(s=>t.has(s)))}function cx(e,t){return t.includes(e)?"code":"key"}const QT=()=>{const e=ct();return S.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:i}=e.getState();return i?i.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[i,s,l],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??i,y:t.y??s,zoom:t.zoom??l},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,i]=e.getState().transform;return{x:t,y:n,zoom:i}},setCenter:async(t,n,i)=>{const{width:s,height:l,maxZoom:a,panZoom:u}=e.getState(),f=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:a,h=s/2-t*f,v=l/2-n*f;return u?(await u.setViewport({x:h,y:v,zoom:f},{duration:i==null?void 0:i.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:i,height:s,minZoom:l,maxZoom:a,panZoom:u}=e.getState(),f=Ah(t,i,s,l,a,(n==null?void 0:n.padding)??.1);return u?(await u.setViewport(f,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:i,snapGrid:s,snapToGrid:l,domNode:a}=e.getState();if(!a)return t;const{x:u,y:f}=a.getBoundingClientRect(),h={x:t.x-u,y:t.y-f},v=n.snapGrid??s,m=n.snapToGrid??l;return Kl(h,i,m,v)},flowToScreenPosition:t=>{const{transform:n,domNode:i}=e.getState();if(!i)return t;const{x:s,y:l}=i.getBoundingClientRect(),a=tu(t,n);return{x:a.x+s,y:a.y+l}}}),[])};function sS(e,t){const n=[],i=new Map,s=[];for(const l of e)if(l.type==="add"){s.push(l);continue}else if(l.type==="remove"||l.type==="replace")i.set(l.id,[l]);else{const a=i.get(l.id);a?a.push(l):i.set(l.id,[l])}for(const l of t){const a=i.get(l.id);if(!a){n.push(l);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){n.push({...a[0].item});continue}const u={...l};for(const f of a)ZT(f,u);n.push(u)}return s.length&&s.forEach(l=>{l.index!==void 0?n.splice(l.index,0,{...l.item}):n.push({...l.item})}),n}function ZT(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function lS(e,t){return sS(e,t)}function aS(e,t){return sS(e,t)}function Do(e,t){return{id:e,type:"select",selected:t}}function Fi(e,t=new Set,n=!1){const i=[];for(const[s,l]of e){const a=t.has(s);!(l.selected===void 0&&!a)&&l.selected!==a&&(n&&(l.selected=a),i.push(Do(l.id,a)))}return i}function ux({items:e=[],lookup:t}){var s;const n=[],i=new Map(e.map(l=>[l.id,l]));for(const[l,a]of e.entries()){const u=t.get(a.id),f=((s=u==null?void 0:u.internals)==null?void 0:s.userNode)??u;f!==void 0&&f!==a&&n.push({id:a.id,item:a,type:"replace"}),f===void 0&&n.push({item:a,type:"add",index:l})}for(const[l]of t)i.get(l)===void 0&&n.push({id:l,type:"remove"});return n}function dx(e){return{id:e.id,type:"remove"}}const fx=e=>bR(e),JT=e=>Tw(e);function cS(e){return S.forwardRef(e)}const eA=typeof window<"u"?S.useLayoutEffect:S.useEffect;function px(e){const[t,n]=S.useState(BigInt(0)),[i]=S.useState(()=>tA(()=>n(s=>s+BigInt(1))));return eA(()=>{const s=i.get();s.length&&(e(s),i.reset())},[t]),i}function tA(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const uS=S.createContext(null);function nA({children:e}){const t=ct(),n=S.useCallback(u=>{const{nodes:f=[],setNodes:h,hasDefaultNodes:v,onNodesChange:m,nodeLookup:g,fitViewQueued:x}=t.getState();let C=f;for(const w of u)C=typeof w=="function"?w(C):w;if(v)h(C);else{const w=ux({items:C,lookup:g});w.length>0?m==null||m(w):x&&window.requestAnimationFrame(()=>{const{fitViewQueued:N,nodes:E,setNodes:P}=t.getState();N&&P(E)})}},[]),i=px(n),s=S.useCallback(u=>{const{edges:f=[],setEdges:h,hasDefaultEdges:v,onEdgesChange:m,edgeLookup:g}=t.getState();let x=f;for(const C of u)x=typeof C=="function"?C(x):C;v?h(x):m&&m(ux({items:x,lookup:g}))},[]),l=px(s),a=S.useMemo(()=>({nodeQueue:i,edgeQueue:l}),[]);return d.jsx(uS.Provider,{value:a,children:e})}function rA(){const e=S.useContext(uS);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const oA=e=>!!e.panZoom;function ju(){const e=QT(),t=ct(),n=rA(),i=Ye(oA),s=S.useMemo(()=>{const l=m=>t.getState().nodeLookup.get(m),a=m=>{n.nodeQueue.push(m)},u=m=>{n.edgeQueue.push(m)},f=m=>{var E,P;const{nodeLookup:g,nodeOrigin:x}=t.getState(),C=fx(m)?m:g.get(m.id),w=C.parentId?zw(C.position,C.measured,C.parentId,g,x):C.position,N={...C,position:w,width:((E=C.measured)==null?void 0:E.width)??C.width,height:((P=C.measured)==null?void 0:P.height)??C.height};return ns(N)},h=(m,g,x={replace:!1})=>{a(C=>C.map(w=>{if(w.id===m){const N=typeof g=="function"?g(w):g;return x.replace&&fx(N)?N:{...w,...N}}return w}))},v=(m,g,x={replace:!1})=>{u(C=>C.map(w=>{if(w.id===m){const N=typeof g=="function"?g(w):g;return x.replace&&JT(N)?N:{...w,...N}}return w}))};return{getNodes:()=>t.getState().nodes.map(m=>({...m})),getNode:m=>{var g;return(g=l(m))==null?void 0:g.internals.userNode},getInternalNode:l,getEdges:()=>{const{edges:m=[]}=t.getState();return m.map(g=>({...g}))},getEdge:m=>t.getState().edgeLookup.get(m),setNodes:a,setEdges:u,addNodes:m=>{const g=Array.isArray(m)?m:[m];n.nodeQueue.push(x=>[...x,...g])},addEdges:m=>{const g=Array.isArray(m)?m:[m];n.edgeQueue.push(x=>[...x,...g])},toObject:()=>{const{nodes:m=[],edges:g=[],transform:x}=t.getState(),[C,w,N]=x;return{nodes:m.map(E=>({...E})),edges:g.map(E=>({...E})),viewport:{x:C,y:w,zoom:N}}},deleteElements:async({nodes:m=[],edges:g=[]})=>{const{nodes:x,edges:C,onNodesDelete:w,onEdgesDelete:N,triggerNodeChanges:E,triggerEdgeChanges:P,onDelete:_,onBeforeDelete:k}=t.getState(),{nodes:A,edges:D}=await kR({nodesToRemove:m,edgesToRemove:g,nodes:x,edges:C,onBeforeDelete:k}),R=D.length>0,O=A.length>0;if(R){const W=D.map(dx);N==null||N(D),P(W)}if(O){const W=A.map(dx);w==null||w(A),E(W)}return(O||R)&&(_==null||_({nodes:A,edges:D})),{deletedNodes:A,deletedEdges:D}},getIntersectingNodes:(m,g=!0,x)=>{const C=$y(m),w=C?m:f(m),N=x!==void 0;return w?(x||t.getState().nodes).filter(E=>{const P=t.getState().nodeLookup.get(E.id);if(P&&!C&&(E.id===m.id||!P.internals.positionAbsolute))return!1;const _=ns(N?E:P),k=Dl(_,w);return g&&k>0||k>=w.width*w.height}):[]},isNodeIntersecting:(m,g,x=!0)=>{const w=$y(m)?m:f(m);if(!w)return!1;const N=Dl(w,g);return x&&N>0||N>=w.width*w.height},updateNode:h,updateNodeData:(m,g,x={replace:!1})=>{h(m,C=>{const w=typeof g=="function"?g(C):g;return x.replace?{...C,data:w}:{...C,data:{...C.data,...w}}},x)},updateEdge:v,updateEdgeData:(m,g,x={replace:!1})=>{v(m,C=>{const w=typeof g=="function"?g(C):g;return x.replace?{...C,data:w}:{...C,data:{...C.data,...w}}},x)},getNodesBounds:m=>{const{nodeLookup:g,nodeOrigin:x}=t.getState();return NR(m,{nodeLookup:g,nodeOrigin:x})},getHandleConnections:({type:m,id:g,nodeId:x})=>{var C;return Array.from(((C=t.getState().connectionLookup.get(`${x}-${m}${g?`-${g}`:""}`))==null?void 0:C.values())??[])},getNodeConnections:({type:m,handleId:g,nodeId:x})=>{var C;return Array.from(((C=t.getState().connectionLookup.get(`${x}${m?g?`-${m}-${g}`:`-${m}`:""}`))==null?void 0:C.values())??[])},fitView:async m=>{const g=t.getState().fitViewResolver??TR();return t.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:g}),n.nodeQueue.push(x=>[...x]),g.promise}}},[]);return S.useMemo(()=>({...s,...e,viewportInitialized:i}),[i])}const hx=e=>e.selected,iA={actInsideInputWithModifier:!1},sA=typeof window<"u"?window:void 0;function lA({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=ct(),{deleteElements:i}=ju(),s=Ll(e,iA),l=Ll(t,{target:sA});S.useEffect(()=>{if(s){const{edges:a,nodes:u}=n.getState();i({nodes:u.filter(hx),edges:a.filter(hx)}),n.setState({nodesSelectionActive:!1})}},[s]),S.useEffect(()=>{n.setState({multiSelectionActive:l})},[l])}function aA(e){const t=ct();S.useEffect(()=>{const n=()=>{var s,l;if(!e.current)return!1;const i=Mh(e.current);(i.height===0||i.width===0)&&((l=(s=t.getState()).onError)==null||l.call(s,"004",Zn.error004())),t.setState({width:i.width||500,height:i.height||500})};if(e.current){n(),window.addEventListener("resize",n);const i=new ResizeObserver(()=>n());return i.observe(e.current),()=>{window.removeEventListener("resize",n),i&&e.current&&i.unobserve(e.current)}}},[])}const Ru={position:"absolute",width:"100%",height:"100%",top:0,left:0},cA=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function uA({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:i=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=Wo.Free,zoomOnDoubleClick:a=!0,panOnDrag:u=!0,defaultViewport:f,translateExtent:h,minZoom:v,maxZoom:m,zoomActivationKeyCode:g,preventScrolling:x=!0,children:C,noWheelClassName:w,noPanClassName:N,onViewportChange:E,isControlledViewport:P,paneClickDistance:_}){const k=ct(),A=S.useRef(null),{userSelectionActive:D,lib:R}=Ye(cA,pt),O=Ll(g),W=S.useRef();aA(A);const Q=S.useCallback(X=>{E==null||E({x:X[0],y:X[1],zoom:X[2]}),P||k.setState({transform:X})},[E,P]);return S.useEffect(()=>{if(A.current){W.current=uT({domNode:A.current,minZoom:v,maxZoom:m,translateExtent:h,viewport:f,paneClickDistance:_,onDraggingChange:T=>k.setState({paneDragging:T}),onPanZoomStart:(T,V)=>{const{onViewportChangeStart:L,onMoveStart:F}=k.getState();F==null||F(T,V),L==null||L(V)},onPanZoom:(T,V)=>{const{onViewportChange:L,onMove:F}=k.getState();F==null||F(T,V),L==null||L(V)},onPanZoomEnd:(T,V)=>{const{onViewportChangeEnd:L,onMoveEnd:F}=k.getState();F==null||F(T,V),L==null||L(V)}});const{x:X,y:J,zoom:te}=W.current.getViewport();return k.setState({panZoom:W.current,transform:[X,J,te],domNode:A.current.closest(".react-flow")}),()=>{var T;(T=W.current)==null||T.destroy()}}},[]),S.useEffect(()=>{var X;(X=W.current)==null||X.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:i,panOnScrollSpeed:s,panOnScrollMode:l,zoomOnDoubleClick:a,panOnDrag:u,zoomActivationKeyPressed:O,preventScrolling:x,noPanClassName:N,userSelectionActive:D,noWheelClassName:w,lib:R,onTransformChange:Q})},[e,t,n,i,s,l,a,u,O,x,N,D,w,R,Q]),d.jsx("div",{className:"react-flow__renderer",ref:A,style:Ru,children:C})}const dA=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function fA(){const{userSelectionActive:e,userSelectionRect:t}=Ye(dA,pt);return e&&t?d.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const mp=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},pA=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function hA({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Ml.Full,panOnDrag:i,selectionOnDrag:s,onSelectionStart:l,onSelectionEnd:a,onPaneClick:u,onPaneContextMenu:f,onPaneScroll:h,onPaneMouseEnter:v,onPaneMouseMove:m,onPaneMouseLeave:g,children:x}){const C=ct(),{userSelectionActive:w,elementsSelectable:N,dragging:E,connectionInProgress:P}=Ye(pA,pt),_=N&&(e||w),k=S.useRef(null),A=S.useRef(),D=S.useRef(new Set),R=S.useRef(new Set),O=S.useRef(!1),W=S.useRef(!1),Q=F=>{if(O.current||P){O.current=!1;return}u==null||u(F),C.getState().resetSelectedElements(),C.setState({nodesSelectionActive:!1})},X=F=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){F.preventDefault();return}f==null||f(F)},J=h?F=>h(F):void 0,te=F=>{var U,K;const{resetSelectedElements:M,domNode:z}=C.getState();if(A.current=z==null?void 0:z.getBoundingClientRect(),!N||!e||F.button!==0||F.target!==k.current||!A.current)return;(K=(U=F.target)==null?void 0:U.setPointerCapture)==null||K.call(U,F.pointerId),W.current=!0,O.current=!1;const{x:Y,y:I}=Sr(F.nativeEvent,A.current);M(),C.setState({userSelectionRect:{width:0,height:0,startX:Y,startY:I,x:Y,y:I}}),l==null||l(F)},T=F=>{const{userSelectionRect:M,transform:z,nodeLookup:Y,edgeLookup:I,connectionLookup:U,triggerNodeChanges:K,triggerEdgeChanges:ee,defaultEdgeOptions:B}=C.getState();if(!A.current||!M)return;O.current=!0;const{x:Z,y:H}=Sr(F.nativeEvent,A.current),{startX:re,startY:le}=M,ae={startX:re,startY:le,x:Z<re?Z:re,y:H<le?H:le,width:Math.abs(Z-re),height:Math.abs(H-le)},fe=D.current,ce=R.current;D.current=new Set(Aw(Y,ae,z,n===Ml.Partial,!0).map(xe=>xe.id)),R.current=new Set;const ve=(B==null?void 0:B.selectable)??!0;for(const xe of D.current){const Be=U.get(xe);if(Be)for(const{edgeId:he}of Be.values()){const Re=I.get(he);Re&&(Re.selectable??ve)&&R.current.add(he)}}if(!Fy(fe,D.current)){const xe=Fi(Y,D.current,!0);K(xe)}if(!Fy(ce,R.current)){const xe=Fi(I,R.current);ee(xe)}C.setState({userSelectionRect:ae,userSelectionActive:!0,nodesSelectionActive:!1})},V=F=>{var z,Y;if(F.button!==0||!W.current)return;(Y=(z=F.target)==null?void 0:z.releasePointerCapture)==null||Y.call(z,F.pointerId);const{userSelectionRect:M}=C.getState();!w&&M&&F.target===k.current&&(Q==null||Q(F)),C.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:D.current.size>0}),a==null||a(F),(t||s)&&(O.current=!1),W.current=!1},L=i===!0||Array.isArray(i)&&i.includes(0);return d.jsxs("div",{className:St(["react-flow__pane",{draggable:L,dragging:E,selection:e}]),onClick:_?void 0:mp(Q,k),onContextMenu:mp(X,k),onWheel:mp(J,k),onPointerEnter:_?void 0:v,onPointerDown:_?te:m,onPointerMove:_?T:m,onPointerUp:_?V:void 0,onPointerLeave:g,ref:k,style:Ru,children:[x,d.jsx(fA,{})]})}function Xp({id:e,store:t,unselect:n=!1,nodeRef:i}){const{addSelectedNodes:s,unselectNodesAndEdges:l,multiSelectionActive:a,nodeLookup:u,onError:f}=t.getState(),h=u.get(e);if(!h){f==null||f("012",Zn.error012(e));return}t.setState({nodesSelectionActive:!1}),h.selected?(n||h.selected&&a)&&(l({nodes:[h],edges:[]}),requestAnimationFrame(()=>{var v;return(v=i==null?void 0:i.current)==null?void 0:v.blur()})):s([e])}function dS({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:i,nodeId:s,isSelectable:l,nodeClickDistance:a}){const u=ct(),[f,h]=S.useState(!1),v=S.useRef();return S.useEffect(()=>{v.current=qR({getStoreItems:()=>u.getState(),onNodeMouseDown:m=>{Xp({id:m,store:u,nodeRef:e})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),S.useEffect(()=>{var m,g;if(t)(m=v.current)==null||m.destroy();else if(e.current)return(g=v.current)==null||g.update({noDragClassName:n,handleSelector:i,domNode:e.current,isSelectable:l,nodeId:s,nodeClickDistance:a}),()=>{var x;(x=v.current)==null||x.destroy()}},[n,i,t,l,e,s]),f}const mA=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function fS(){const e=ct();return S.useCallback(n=>{const{nodeExtent:i,snapToGrid:s,snapGrid:l,nodesDraggable:a,onError:u,updateNodePositions:f,nodeLookup:h,nodeOrigin:v}=e.getState(),m=new Map,g=mA(a),x=s?l[0]:5,C=s?l[1]:5,w=n.direction.x*x*n.factor,N=n.direction.y*C*n.factor;for(const[,E]of h){if(!g(E))continue;let P={x:E.internals.positionAbsolute.x+w,y:E.internals.positionAbsolute.y+N};s&&(P=_u(P,l));const{position:_,positionAbsolute:k}=Mw({nodeId:E.id,nextPosition:P,nodeLookup:h,nodeExtent:i,nodeOrigin:v,onError:u});E.position=_,E.internals.positionAbsolute=k,m.set(E.id,E)}f(m)},[])}const zh=S.createContext(null),gA=zh.Provider;zh.Consumer;const pS=()=>S.useContext(zh),vA=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),yA=(e,t,n)=>i=>{const{connectionClickStartHandle:s,connectionMode:l,connection:a}=i,{fromHandle:u,toHandle:f,isValid:h}=a,v=(f==null?void 0:f.nodeId)===e&&(f==null?void 0:f.id)===t&&(f==null?void 0:f.type)===n;return{connectingFrom:(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===n,connectingTo:v,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:l===es.Strict?(u==null?void 0:u.type)!==n:e!==(u==null?void 0:u.nodeId)||t!==(u==null?void 0:u.id),connectionInProcess:!!u,clickConnectionInProcess:!!s,valid:v&&h}};function xA({type:e="source",position:t=we.Top,isValidConnection:n,isConnectable:i=!0,isConnectableStart:s=!0,isConnectableEnd:l=!0,id:a,onConnect:u,children:f,className:h,onMouseDown:v,onTouchStart:m,...g},x){var V,L;const C=a||null,w=e==="target",N=ct(),E=pS(),{connectOnClick:P,noPanClassName:_,rfId:k}=Ye(vA,pt),{connectingFrom:A,connectingTo:D,clickConnecting:R,isPossibleEndHandle:O,connectionInProcess:W,clickConnectionInProcess:Q,valid:X}=Ye(yA(E,C,e),pt);E||(L=(V=N.getState()).onError)==null||L.call(V,"010",Zn.error010());const J=F=>{const{defaultEdgeOptions:M,onConnect:z,hasDefaultEdges:Y}=N.getState(),I={...M,...F};if(Y){const{edges:U,setEdges:K}=N.getState();K(LR(I,U))}z==null||z(I),u==null||u(I)},te=F=>{if(!E)return;const M=Bw(F.nativeEvent);if(s&&(M&&F.button===0||!M)){const z=N.getState();Yp.onPointerDown(F.nativeEvent,{autoPanOnConnect:z.autoPanOnConnect,connectionMode:z.connectionMode,connectionRadius:z.connectionRadius,domNode:z.domNode,nodeLookup:z.nodeLookup,lib:z.lib,isTarget:w,handleId:C,nodeId:E,flowId:z.rfId,panBy:z.panBy,cancelConnection:z.cancelConnection,onConnectStart:z.onConnectStart,onConnectEnd:z.onConnectEnd,updateConnection:z.updateConnection,onConnect:J,isValidConnection:n||z.isValidConnection,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,autoPanSpeed:z.autoPanSpeed})}M?v==null||v(F):m==null||m(F)},T=F=>{const{onClickConnectStart:M,onClickConnectEnd:z,connectionClickStartHandle:Y,connectionMode:I,isValidConnection:U,lib:K,rfId:ee,nodeLookup:B,connection:Z}=N.getState();if(!E||!Y&&!s)return;if(!Y){M==null||M(F.nativeEvent,{nodeId:E,handleId:C,handleType:e}),N.setState({connectionClickStartHandle:{nodeId:E,type:e,id:C}});return}const H=$w(F.target),re=n||U,{connection:le,isValid:ae}=Yp.isValid(F.nativeEvent,{handle:{nodeId:E,id:C,type:e},connectionMode:I,fromNodeId:Y.nodeId,fromHandleId:Y.id||null,fromType:Y.type,isValidConnection:re,flowId:ee,doc:H,lib:K,nodeLookup:B});ae&&le&&J(le);const fe=structuredClone(Z);delete fe.inProgress,fe.toPosition=fe.toHandle?fe.toHandle.position:null,z==null||z(F,fe),N.setState({connectionClickStartHandle:null})};return d.jsx("div",{"data-handleid":C,"data-nodeid":E,"data-handlepos":t,"data-id":`${k}-${E}-${C}-${e}`,className:St(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",_,h,{source:!w,target:w,connectable:i,connectablestart:s,connectableend:l,clickconnecting:R,connectingfrom:A,connectingto:D,valid:X,connectionindicator:i&&(!W||O)&&(W||Q?l:s)}]),onMouseDown:te,onTouchStart:te,onClick:P?T:void 0,ref:x,...g,children:f})}const ao=S.memo(cS(xA));function wA({data:e,isConnectable:t,sourcePosition:n=we.Bottom}){return d.jsxs(d.Fragment,{children:[e==null?void 0:e.label,d.jsx(ao,{type:"source",position:n,isConnectable:t})]})}function SA({data:e,isConnectable:t,targetPosition:n=we.Top,sourcePosition:i=we.Bottom}){return d.jsxs(d.Fragment,{children:[d.jsx(ao,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,d.jsx(ao,{type:"source",position:i,isConnectable:t})]})}function bA(){return null}function NA({data:e,isConnectable:t,targetPosition:n=we.Top}){return d.jsxs(d.Fragment,{children:[d.jsx(ao,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const ru={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},mx={input:wA,default:SA,output:NA,group:bA};function CA(e){var t,n,i,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((i=e.style)==null?void 0:i.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const _A=e=>{const{width:t,height:n,x:i,y:s}=Xl(e.nodeLookup,{filter:l=>!!l.selected});return{width:In(t)?t:null,height:In(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${i}px,${s}px)`}};function EA({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const i=ct(),{width:s,height:l,transformString:a,userSelectionActive:u}=Ye(_A,pt),f=fS(),h=S.useRef(null);if(S.useEffect(()=>{var g;n||(g=h.current)==null||g.focus({preventScroll:!0})},[n]),dS({nodeRef:h}),u||!s||!l)return null;const v=e?g=>{const x=i.getState().nodes.filter(C=>C.selected);e(g,x)}:void 0,m=g=>{Object.prototype.hasOwnProperty.call(ru,g.key)&&(g.preventDefault(),f({direction:ru[g.key],factor:g.shiftKey?4:1}))};return d.jsx("div",{className:St(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:d.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:s,height:l}})})}const gx=typeof window<"u"?window:void 0,kA=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function hS({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:s,onPaneContextMenu:l,onPaneScroll:a,paneClickDistance:u,deleteKeyCode:f,selectionKeyCode:h,selectionOnDrag:v,selectionMode:m,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:C,panActivationKeyCode:w,zoomActivationKeyCode:N,elementsSelectable:E,zoomOnScroll:P,zoomOnPinch:_,panOnScroll:k,panOnScrollSpeed:A,panOnScrollMode:D,zoomOnDoubleClick:R,panOnDrag:O,defaultViewport:W,translateExtent:Q,minZoom:X,maxZoom:J,preventScrolling:te,onSelectionContextMenu:T,noWheelClassName:V,noPanClassName:L,disableKeyboardA11y:F,onViewportChange:M,isControlledViewport:z}){const{nodesSelectionActive:Y,userSelectionActive:I}=Ye(kA),U=Ll(h,{target:gx}),K=Ll(w,{target:gx}),ee=K||O,B=K||k,Z=v&&ee!==!0,H=U||I||Z;return lA({deleteKeyCode:f,multiSelectionKeyCode:C}),d.jsx(uA,{onPaneContextMenu:l,elementsSelectable:E,zoomOnScroll:P,zoomOnPinch:_,panOnScroll:B,panOnScrollSpeed:A,panOnScrollMode:D,zoomOnDoubleClick:R,panOnDrag:!U&&ee,defaultViewport:W,translateExtent:Q,minZoom:X,maxZoom:J,zoomActivationKeyCode:N,preventScrolling:te,noWheelClassName:V,noPanClassName:L,onViewportChange:M,isControlledViewport:z,paneClickDistance:u,children:d.jsxs(hA,{onSelectionStart:g,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:s,onPaneContextMenu:l,onPaneScroll:a,panOnDrag:ee,isSelecting:!!H,selectionMode:m,selectionKeyPressed:U,selectionOnDrag:Z,children:[e,Y&&d.jsx(EA,{onSelectionContextMenu:T,noPanClassName:L,disableKeyboardA11y:F})]})})}hS.displayName="FlowRenderer";const PA=S.memo(hS),jA=e=>t=>e?Aw(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function RA(e){return Ye(S.useCallback(jA(e),[e]),pt)}const TA=e=>e.updateNodeInternals;function AA(){const e=Ye(TA),[t]=S.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const i=new Map;n.forEach(s=>{const l=s.target.getAttribute("data-id");i.set(l,{id:l,nodeElement:s.target,force:!0})}),e(i)}));return S.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function MA({node:e,nodeType:t,hasDimensions:n,resizeObserver:i}){const s=ct(),l=S.useRef(null),a=S.useRef(null),u=S.useRef(e.sourcePosition),f=S.useRef(e.targetPosition),h=S.useRef(t),v=n&&!!e.internals.handleBounds;return S.useEffect(()=>{l.current&&!e.hidden&&(!v||a.current!==l.current)&&(a.current&&(i==null||i.unobserve(a.current)),i==null||i.observe(l.current),a.current=l.current)},[v,e.hidden]),S.useEffect(()=>()=>{a.current&&(i==null||i.unobserve(a.current),a.current=null)},[]),S.useEffect(()=>{if(l.current){const m=h.current!==t,g=u.current!==e.sourcePosition,x=f.current!==e.targetPosition;(m||g||x)&&(h.current=t,u.current=e.sourcePosition,f.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:l.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),l}function IA({id:e,onClick:t,onMouseEnter:n,onMouseMove:i,onMouseLeave:s,onContextMenu:l,onDoubleClick:a,nodesDraggable:u,elementsSelectable:f,nodesConnectable:h,nodesFocusable:v,resizeObserver:m,noDragClassName:g,noPanClassName:x,disableKeyboardA11y:C,rfId:w,nodeTypes:N,nodeClickDistance:E,onError:P}){const{node:_,internals:k,isParent:A}=Ye(H=>{const re=H.nodeLookup.get(e),le=H.parentLookup.has(e);return{node:re,internals:re.internals,isParent:le}},pt);let D=_.type||"default",R=(N==null?void 0:N[D])||mx[D];R===void 0&&(P==null||P("003",Zn.error003(D)),D="default",R=mx.default);const O=!!(_.draggable||u&&typeof _.draggable>"u"),W=!!(_.selectable||f&&typeof _.selectable>"u"),Q=!!(_.connectable||h&&typeof _.connectable>"u"),X=!!(_.focusable||v&&typeof _.focusable>"u"),J=ct(),te=Lw(_),T=MA({node:_,nodeType:D,hasDimensions:te,resizeObserver:m}),V=dS({nodeRef:T,disabled:_.hidden||!O,noDragClassName:g,handleSelector:_.dragHandle,nodeId:e,isSelectable:W,nodeClickDistance:E}),L=fS();if(_.hidden)return null;const F=_r(_),M=CA(_),z=W||O||t||n||i||s,Y=n?H=>n(H,{...k.userNode}):void 0,I=i?H=>i(H,{...k.userNode}):void 0,U=s?H=>s(H,{...k.userNode}):void 0,K=l?H=>l(H,{...k.userNode}):void 0,ee=a?H=>a(H,{...k.userNode}):void 0,B=H=>{const{selectNodesOnDrag:re,nodeDragThreshold:le}=J.getState();W&&(!re||!O||le>0)&&Xp({id:e,store:J,nodeRef:T}),t&&t(H,{...k.userNode})},Z=H=>{if(!(Fw(H.nativeEvent)||C))if(Pw.includes(H.key)&&W){const re=H.key==="Escape";Xp({id:e,store:J,unselect:re,nodeRef:T})}else O&&_.selected&&Object.prototype.hasOwnProperty.call(ru,H.key)&&(H.preventDefault(),J.setState({ariaLiveMessage:`Moved selected node ${H.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~k.positionAbsolute.x}, y: ${~~k.positionAbsolute.y}`}),L({direction:ru[H.key],factor:H.shiftKey?4:1}))};return d.jsx("div",{className:St(["react-flow__node",`react-flow__node-${D}`,{[x]:O},_.className,{selected:_.selected,selectable:W,parent:A,draggable:O,dragging:V}]),ref:T,style:{zIndex:k.z,transform:`translate(${k.positionAbsolute.x}px,${k.positionAbsolute.y}px)`,pointerEvents:z?"all":"none",visibility:te?"visible":"hidden",..._.style,...M},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:Y,onMouseMove:I,onMouseLeave:U,onContextMenu:K,onClick:B,onDoubleClick:ee,onKeyDown:X?Z:void 0,tabIndex:X?0:void 0,role:X?"button":void 0,"aria-describedby":C?void 0:`${rS}-${w}`,"aria-label":_.ariaLabel,children:d.jsx(gA,{value:e,children:d.jsx(R,{id:e,data:_.data,type:D,positionAbsoluteX:k.positionAbsolute.x,positionAbsoluteY:k.positionAbsolute.y,selected:_.selected??!1,selectable:W,draggable:O,deletable:_.deletable??!0,isConnectable:Q,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:V,dragHandle:_.dragHandle,zIndex:k.z,parentId:_.parentId,...F})})})}const DA=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function mS(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:i,elementsSelectable:s,onError:l}=Ye(DA,pt),a=RA(e.onlyRenderVisibleElements),u=AA();return d.jsx("div",{className:"react-flow__nodes",style:Ru,children:a.map(f=>d.jsx(IA,{id:f,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:u,nodesDraggable:t,nodesConnectable:n,nodesFocusable:i,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:l},f))})}mS.displayName="NodeRenderer";const OA=S.memo(mS);function LA(e){return Ye(S.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const i=[];if(n.width&&n.height)for(const s of n.edges){const l=n.nodeLookup.get(s.source),a=n.nodeLookup.get(s.target);l&&a&&IR({sourceNode:l,targetNode:a,width:n.width,height:n.height,transform:n.transform})&&i.push(s.id)}return i},[e]),pt)}const zA=({color:e="none",strokeWidth:t=1})=>d.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),$A=({color:e="none",strokeWidth:t=1})=>d.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),vx={[Il.Arrow]:zA,[Il.ArrowClosed]:$A};function FA(e){const t=ct();return S.useMemo(()=>{var s,l;return Object.prototype.hasOwnProperty.call(vx,e)?vx[e]:((l=(s=t.getState()).onError)==null||l.call(s,"009",Zn.error009(e)),null)},[e])}const BA=({id:e,type:t,color:n,width:i=12.5,height:s=12.5,markerUnits:l="strokeWidth",strokeWidth:a,orient:u="auto-start-reverse"})=>{const f=FA(t);return f?d.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${i}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:l,orient:u,refX:"0",refY:"0",children:d.jsx(f,{color:n,strokeWidth:a})}):null},gS=({defaultColor:e,rfId:t})=>{const n=Ye(l=>l.edges),i=Ye(l=>l.defaultEdgeOptions),s=S.useMemo(()=>VR(n,{id:t,defaultColor:e,defaultMarkerStart:i==null?void 0:i.markerStart,defaultMarkerEnd:i==null?void 0:i.markerEnd}),[n,i,t,e]);return s.length?d.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:d.jsx("defs",{children:s.map(l=>d.jsx(BA,{id:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,strokeWidth:l.strokeWidth,orient:l.orient},l.id))})}):null};gS.displayName="MarkerDefinitions";var VA=S.memo(gS);function vS({x:e,y:t,label:n,labelStyle:i,labelShowBg:s=!0,labelBgStyle:l,labelBgPadding:a=[2,4],labelBgBorderRadius:u=2,children:f,className:h,...v}){const[m,g]=S.useState({x:1,y:0,width:0,height:0}),x=St(["react-flow__edge-textwrapper",h]),C=S.useRef(null);return S.useEffect(()=>{if(C.current){const w=C.current.getBBox();g({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),n?d.jsxs("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:x,visibility:m.width?"visible":"hidden",...v,children:[s&&d.jsx("rect",{width:m.width+2*a[0],x:-a[0],y:-a[1],height:m.height+2*a[1],className:"react-flow__edge-textbg",style:l,rx:u,ry:u}),d.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:C,style:i,children:n}),f]}):null}vS.displayName="EdgeText";const HA=S.memo(vS);function Tu({path:e,labelX:t,labelY:n,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:f,interactionWidth:h=20,...v}){return d.jsxs(d.Fragment,{children:[d.jsx("path",{...v,d:e,fill:"none",className:St(["react-flow__edge-path",v.className])}),h&&d.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&In(t)&&In(n)?d.jsx(HA,{x:t,y:n,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:f}):null]})}function yx({pos:e,x1:t,y1:n,x2:i,y2:s}){return e===we.Left||e===we.Right?[.5*(t+i),n]:[t,.5*(n+s)]}function yS({sourceX:e,sourceY:t,sourcePosition:n=we.Bottom,targetX:i,targetY:s,targetPosition:l=we.Top}){const[a,u]=yx({pos:n,x1:e,y1:t,x2:i,y2:s}),[f,h]=yx({pos:l,x1:i,y1:s,x2:e,y2:t}),[v,m,g,x]=Vw({sourceX:e,sourceY:t,targetX:i,targetY:s,sourceControlX:a,sourceControlY:u,targetControlX:f,targetControlY:h});return[`M${e},${t} C${a},${u} ${f},${h} ${i},${s}`,v,m,g,x]}function xS(e){return S.memo(({id:t,sourceX:n,sourceY:i,targetX:s,targetY:l,sourcePosition:a,targetPosition:u,label:f,labelStyle:h,labelShowBg:v,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:x,style:C,markerEnd:w,markerStart:N,interactionWidth:E})=>{const[P,_,k]=yS({sourceX:n,sourceY:i,sourcePosition:a,targetX:s,targetY:l,targetPosition:u}),A=e.isInternal?void 0:t;return d.jsx(Tu,{id:A,path:P,labelX:_,labelY:k,label:f,labelStyle:h,labelShowBg:v,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:x,style:C,markerEnd:w,markerStart:N,interactionWidth:E})})}const WA=xS({isInternal:!1}),wS=xS({isInternal:!0});WA.displayName="SimpleBezierEdge";wS.displayName="SimpleBezierEdgeInternal";function SS(e){return S.memo(({id:t,sourceX:n,sourceY:i,targetX:s,targetY:l,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:v,labelBgBorderRadius:m,style:g,sourcePosition:x=we.Bottom,targetPosition:C=we.Top,markerEnd:w,markerStart:N,pathOptions:E,interactionWidth:P})=>{const[_,k,A]=Wp({sourceX:n,sourceY:i,sourcePosition:x,targetX:s,targetY:l,targetPosition:C,borderRadius:E==null?void 0:E.borderRadius,offset:E==null?void 0:E.offset}),D=e.isInternal?void 0:t;return d.jsx(Tu,{id:D,path:_,labelX:k,labelY:A,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:v,labelBgBorderRadius:m,style:g,markerEnd:w,markerStart:N,interactionWidth:P})})}const bS=SS({isInternal:!1}),NS=SS({isInternal:!0});bS.displayName="SmoothStepEdge";NS.displayName="SmoothStepEdgeInternal";function CS(e){return S.memo(({id:t,...n})=>{var s;const i=e.isInternal?void 0:t;return d.jsx(bS,{...n,id:i,pathOptions:S.useMemo(()=>{var l;return{borderRadius:0,offset:(l=n.pathOptions)==null?void 0:l.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const UA=CS({isInternal:!1}),_S=CS({isInternal:!0});UA.displayName="StepEdge";_S.displayName="StepEdgeInternal";function ES(e){return S.memo(({id:t,sourceX:n,sourceY:i,targetX:s,targetY:l,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:v,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:C,interactionWidth:w})=>{const[N,E,P]=Eu({sourceX:n,sourceY:i,targetX:s,targetY:l}),_=e.isInternal?void 0:t;return d.jsx(Tu,{id:_,path:N,labelX:E,labelY:P,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:v,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:C,interactionWidth:w})})}const GA=ES({isInternal:!1}),kS=ES({isInternal:!0});GA.displayName="StraightEdge";kS.displayName="StraightEdgeInternal";function PS(e){return S.memo(({id:t,sourceX:n,sourceY:i,targetX:s,targetY:l,sourcePosition:a=we.Bottom,targetPosition:u=we.Top,label:f,labelStyle:h,labelShowBg:v,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:x,style:C,markerEnd:w,markerStart:N,pathOptions:E,interactionWidth:P})=>{const[_,k,A]=Hw({sourceX:n,sourceY:i,sourcePosition:a,targetX:s,targetY:l,targetPosition:u,curvature:E==null?void 0:E.curvature}),D=e.isInternal?void 0:t;return d.jsx(Tu,{id:D,path:_,labelX:k,labelY:A,label:f,labelStyle:h,labelShowBg:v,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:x,style:C,markerEnd:w,markerStart:N,interactionWidth:P})})}const YA=PS({isInternal:!1}),jS=PS({isInternal:!0});YA.displayName="BezierEdge";jS.displayName="BezierEdgeInternal";const xx={default:jS,straight:kS,step:_S,smoothstep:NS,simplebezier:wS},wx={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},XA=(e,t,n)=>n===we.Left?e-t:n===we.Right?e+t:e,KA=(e,t,n)=>n===we.Top?e-t:n===we.Bottom?e+t:e,Sx="react-flow__edgeupdater";function bx({position:e,centerX:t,centerY:n,radius:i=10,onMouseDown:s,onMouseEnter:l,onMouseOut:a,type:u}){return d.jsx("circle",{onMouseDown:s,onMouseEnter:l,onMouseOut:a,className:St([Sx,`${Sx}-${u}`]),cx:XA(t,i,e),cy:KA(n,i,e),r:i,stroke:"transparent",fill:"transparent"})}function qA({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:i,sourceY:s,targetX:l,targetY:a,sourcePosition:u,targetPosition:f,onReconnect:h,onReconnectStart:v,onReconnectEnd:m,setReconnecting:g,setUpdateHover:x}){const C=ct(),w=(k,A)=>{if(k.button!==0)return;const{autoPanOnConnect:D,domNode:R,isValidConnection:O,connectionMode:W,connectionRadius:Q,lib:X,onConnectStart:J,onConnectEnd:te,cancelConnection:T,nodeLookup:V,rfId:L,panBy:F,updateConnection:M}=C.getState(),z=A.type==="target";g(!0),v==null||v(k,n,A.type);const Y=(U,K)=>{g(!1),m==null||m(U,n,A.type,K)},I=U=>h==null?void 0:h(n,U);Yp.onPointerDown(k.nativeEvent,{autoPanOnConnect:D,connectionMode:W,connectionRadius:Q,domNode:R,handleId:A.id,nodeId:A.nodeId,nodeLookup:V,isTarget:z,edgeUpdaterType:A.type,lib:X,flowId:L,cancelConnection:T,panBy:F,isValidConnection:O,onConnect:I,onConnectStart:J,onConnectEnd:te,onReconnectEnd:Y,updateConnection:M,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle})},N=k=>w(k,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),E=k=>w(k,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),P=()=>x(!0),_=()=>x(!1);return d.jsxs(d.Fragment,{children:[(e===!0||e==="source")&&d.jsx(bx,{position:u,centerX:i,centerY:s,radius:t,onMouseDown:N,onMouseEnter:P,onMouseOut:_,type:"source"}),(e===!0||e==="target")&&d.jsx(bx,{position:f,centerX:l,centerY:a,radius:t,onMouseDown:E,onMouseEnter:P,onMouseOut:_,type:"target"})]})}function QA({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:i,onClick:s,onDoubleClick:l,onContextMenu:a,onMouseEnter:u,onMouseMove:f,onMouseLeave:h,reconnectRadius:v,onReconnect:m,onReconnectStart:g,onReconnectEnd:x,rfId:C,edgeTypes:w,noPanClassName:N,onError:E,disableKeyboardA11y:P}){let _=Ye(ce=>ce.edgeLookup.get(e));const k=Ye(ce=>ce.defaultEdgeOptions);_=k?{...k,..._}:_;let A=_.type||"default",D=(w==null?void 0:w[A])||xx[A];D===void 0&&(E==null||E("011",Zn.error011(A)),A="default",D=xx.default);const R=!!(_.focusable||t&&typeof _.focusable>"u"),O=typeof m<"u"&&(_.reconnectable||n&&typeof _.reconnectable>"u"),W=!!(_.selectable||i&&typeof _.selectable>"u"),Q=S.useRef(null),[X,J]=S.useState(!1),[te,T]=S.useState(!1),V=ct(),{zIndex:L,sourceX:F,sourceY:M,targetX:z,targetY:Y,sourcePosition:I,targetPosition:U}=Ye(S.useCallback(ce=>{const ve=ce.nodeLookup.get(_.source),xe=ce.nodeLookup.get(_.target);if(!ve||!xe)return{zIndex:_.zIndex,...wx};const Be=BR({id:e,sourceNode:ve,targetNode:xe,sourceHandle:_.sourceHandle||null,targetHandle:_.targetHandle||null,connectionMode:ce.connectionMode,onError:E});return{zIndex:MR({selected:_.selected,zIndex:_.zIndex,sourceNode:ve,targetNode:xe,elevateOnSelect:ce.elevateEdgesOnSelect}),...Be||wx}},[_.source,_.target,_.sourceHandle,_.targetHandle,_.selected,_.zIndex]),pt),K=S.useMemo(()=>_.markerStart?`url('#${Up(_.markerStart,C)}')`:void 0,[_.markerStart,C]),ee=S.useMemo(()=>_.markerEnd?`url('#${Up(_.markerEnd,C)}')`:void 0,[_.markerEnd,C]);if(_.hidden||F===null||M===null||z===null||Y===null)return null;const B=ce=>{var he;const{addSelectedEdges:ve,unselectNodesAndEdges:xe,multiSelectionActive:Be}=V.getState();W&&(V.setState({nodesSelectionActive:!1}),_.selected&&Be?(xe({nodes:[],edges:[_]}),(he=Q.current)==null||he.blur()):ve([e])),s&&s(ce,_)},Z=l?ce=>{l(ce,{..._})}:void 0,H=a?ce=>{a(ce,{..._})}:void 0,re=u?ce=>{u(ce,{..._})}:void 0,le=f?ce=>{f(ce,{..._})}:void 0,ae=h?ce=>{h(ce,{..._})}:void 0,fe=ce=>{var ve;if(!P&&Pw.includes(ce.key)&&W){const{unselectNodesAndEdges:xe,addSelectedEdges:Be}=V.getState();ce.key==="Escape"?((ve=Q.current)==null||ve.blur(),xe({edges:[_]})):Be([e])}};return d.jsx("svg",{style:{zIndex:L},children:d.jsxs("g",{className:St(["react-flow__edge",`react-flow__edge-${A}`,_.className,N,{selected:_.selected,animated:_.animated,inactive:!W&&!s,updating:X,selectable:W}]),onClick:B,onDoubleClick:Z,onContextMenu:H,onMouseEnter:re,onMouseMove:le,onMouseLeave:ae,onKeyDown:R?fe:void 0,tabIndex:R?0:void 0,role:R?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":_.ariaLabel===null?void 0:_.ariaLabel||`Edge from ${_.source} to ${_.target}`,"aria-describedby":R?`${oS}-${C}`:void 0,ref:Q,children:[!te&&d.jsx(D,{id:e,source:_.source,target:_.target,type:_.type,selected:_.selected,animated:_.animated,selectable:W,deletable:_.deletable??!0,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,sourceX:F,sourceY:M,targetX:z,targetY:Y,sourcePosition:I,targetPosition:U,data:_.data,style:_.style,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerStart:K,markerEnd:ee,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth}),O&&d.jsx(qA,{edge:_,isReconnectable:O,reconnectRadius:v,onReconnect:m,onReconnectStart:g,onReconnectEnd:x,sourceX:F,sourceY:M,targetX:z,targetY:Y,sourcePosition:I,targetPosition:U,setUpdateHover:J,setReconnecting:T})]})})}const ZA=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function RS({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:i,noPanClassName:s,onReconnect:l,onEdgeContextMenu:a,onEdgeMouseEnter:u,onEdgeMouseMove:f,onEdgeMouseLeave:h,onEdgeClick:v,reconnectRadius:m,onEdgeDoubleClick:g,onReconnectStart:x,onReconnectEnd:C,disableKeyboardA11y:w}){const{edgesFocusable:N,edgesReconnectable:E,elementsSelectable:P,onError:_}=Ye(ZA,pt),k=LA(t);return d.jsxs("div",{className:"react-flow__edges",children:[d.jsx(VA,{defaultColor:e,rfId:n}),k.map(A=>d.jsx(QA,{id:A,edgesFocusable:N,edgesReconnectable:E,elementsSelectable:P,noPanClassName:s,onReconnect:l,onContextMenu:a,onMouseEnter:u,onMouseMove:f,onMouseLeave:h,onClick:v,reconnectRadius:m,onDoubleClick:g,onReconnectStart:x,onReconnectEnd:C,rfId:n,onError:_,edgeTypes:i,disableKeyboardA11y:w},A))]})}RS.displayName="EdgeRenderer";const JA=S.memo(RS),eM=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function tM({children:e}){const t=Ye(eM);return d.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function nM(e){const t=ju(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const rM=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function oM(e){const t=Ye(rM),n=ct();return S.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function iM(e){return e.connection.inProgress?{...e.connection,to:Kl(e.connection.to,e.transform)}:{...e.connection}}function sM(e){return iM}function $h(e){const t=sM();return Ye(t,pt)}const lM=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function aM({containerStyle:e,style:t,type:n,component:i}){const{nodesConnectable:s,width:l,height:a,isValid:u,inProgress:f}=Ye(lM,pt);return!(l&&s&&f)?null:d.jsx("svg",{style:e,width:l,height:a,className:"react-flow__connectionline react-flow__container",children:d.jsx("g",{className:St(["react-flow__connection",Rw(u)]),children:d.jsx(TS,{style:t,type:n,CustomComponent:i,isValid:u})})})}const TS=({style:e,type:t=no.Bezier,CustomComponent:n,isValid:i})=>{const{inProgress:s,from:l,fromNode:a,fromHandle:u,fromPosition:f,to:h,toNode:v,toHandle:m,toPosition:g}=$h();if(!s)return;if(n)return d.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:u,fromX:l.x,fromY:l.y,toX:h.x,toY:h.y,fromPosition:f,toPosition:g,connectionStatus:Rw(i),toNode:v,toHandle:m});let x="";const C={sourceX:l.x,sourceY:l.y,sourcePosition:f,targetX:h.x,targetY:h.y,targetPosition:g};switch(t){case no.Bezier:[x]=Hw(C);break;case no.SimpleBezier:[x]=yS(C);break;case no.Step:[x]=Wp({...C,borderRadius:0});break;case no.SmoothStep:[x]=Wp(C);break;default:[x]=Eu(C)}return d.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:e})};TS.displayName="ConnectionLine";const cM={};function Nx(e=cM){S.useRef(e),ct(),S.useEffect(()=>{},[e])}function uM(){ct(),S.useRef(!1),S.useEffect(()=>{},[])}function AS({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:i,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:a,onNodeMouseEnter:u,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:v,onSelectionContextMenu:m,onSelectionStart:g,onSelectionEnd:x,connectionLineType:C,connectionLineStyle:w,connectionLineComponent:N,connectionLineContainerStyle:E,selectionKeyCode:P,selectionOnDrag:_,selectionMode:k,multiSelectionKeyCode:A,panActivationKeyCode:D,zoomActivationKeyCode:R,deleteKeyCode:O,onlyRenderVisibleElements:W,elementsSelectable:Q,defaultViewport:X,translateExtent:J,minZoom:te,maxZoom:T,preventScrolling:V,defaultMarkerColor:L,zoomOnScroll:F,zoomOnPinch:M,panOnScroll:z,panOnScrollSpeed:Y,panOnScrollMode:I,zoomOnDoubleClick:U,panOnDrag:K,onPaneClick:ee,onPaneMouseEnter:B,onPaneMouseMove:Z,onPaneMouseLeave:H,onPaneScroll:re,onPaneContextMenu:le,paneClickDistance:ae,nodeClickDistance:fe,onEdgeContextMenu:ce,onEdgeMouseEnter:ve,onEdgeMouseMove:xe,onEdgeMouseLeave:Be,reconnectRadius:he,onReconnect:Re,onReconnectStart:Pe,onReconnectEnd:Ue,noDragClassName:Xe,noWheelClassName:Je,noPanClassName:Ge,disableKeyboardA11y:et,nodeExtent:ht,rfId:mt,viewport:jt,onViewportChange:Ft}){return Nx(e),Nx(t),uM(),nM(n),oM(jt),d.jsx(PA,{onPaneClick:ee,onPaneMouseEnter:B,onPaneMouseMove:Z,onPaneMouseLeave:H,onPaneContextMenu:le,onPaneScroll:re,paneClickDistance:ae,deleteKeyCode:O,selectionKeyCode:P,selectionOnDrag:_,selectionMode:k,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:A,panActivationKeyCode:D,zoomActivationKeyCode:R,elementsSelectable:Q,zoomOnScroll:F,zoomOnPinch:M,zoomOnDoubleClick:U,panOnScroll:z,panOnScrollSpeed:Y,panOnScrollMode:I,panOnDrag:K,defaultViewport:X,translateExtent:J,minZoom:te,maxZoom:T,onSelectionContextMenu:m,preventScrolling:V,noDragClassName:Xe,noWheelClassName:Je,noPanClassName:Ge,disableKeyboardA11y:et,onViewportChange:Ft,isControlledViewport:!!jt,children:d.jsxs(tM,{children:[d.jsx(JA,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:a,onReconnect:Re,onReconnectStart:Pe,onReconnectEnd:Ue,onlyRenderVisibleElements:W,onEdgeContextMenu:ce,onEdgeMouseEnter:ve,onEdgeMouseMove:xe,onEdgeMouseLeave:Be,reconnectRadius:he,defaultMarkerColor:L,noPanClassName:Ge,disableKeyboardA11y:et,rfId:mt}),d.jsx(aM,{style:w,type:C,component:N,containerStyle:E}),d.jsx("div",{className:"react-flow__edgelabel-renderer"}),d.jsx(OA,{nodeTypes:e,onNodeClick:i,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:v,nodeClickDistance:fe,onlyRenderVisibleElements:W,noPanClassName:Ge,noDragClassName:Xe,disableKeyboardA11y:et,nodeExtent:ht,rfId:mt}),d.jsx("div",{className:"react-flow__viewport-portal"})]})})}AS.displayName="GraphView";const dM=S.memo(AS),Cx=({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,width:s,height:l,fitView:a,fitViewOptions:u,minZoom:f=.5,maxZoom:h=2,nodeOrigin:v,nodeExtent:m}={})=>{const g=new Map,x=new Map,C=new Map,w=new Map,N=i??t??[],E=n??e??[],P=v??[0,0],_=m??Al;Gw(C,w,N);const k=Gp(E,g,x,{nodeOrigin:P,nodeExtent:_,elevateNodesOnSelect:!1});let A=[0,0,1];if(a&&s&&l){const D=Xl(g,{filter:Q=>!!((Q.width||Q.initialWidth)&&(Q.height||Q.initialHeight))}),{x:R,y:O,zoom:W}=Ah(D,s,l,f,h,(u==null?void 0:u.padding)??.1);A=[R,O,W]}return{rfId:"1",width:0,height:0,transform:A,nodes:E,nodesInitialized:k,nodeLookup:g,parentLookup:x,edges:N,edgeLookup:w,connectionLookup:C,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:i!==void 0,panZoom:null,minZoom:f,maxZoom:h,translateExtent:Al,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:es.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:P,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:u,fitViewResolver:null,connection:{...jw},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:PR,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},fM=({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,width:s,height:l,fitView:a,fitViewOptions:u,minZoom:f,maxZoom:h,nodeOrigin:v,nodeExtent:m})=>TT((g,x)=>{async function C(){const{nodeLookup:w,panZoom:N,fitViewOptions:E,fitViewResolver:P,width:_,height:k,minZoom:A,maxZoom:D}=x();N&&(await ER({nodes:w,width:_,height:k,panZoom:N,minZoom:A,maxZoom:D},E),P==null||P.resolve(!0),g({fitViewResolver:null}))}return{...Cx({nodes:e,edges:t,width:s,height:l,fitView:a,fitViewOptions:u,minZoom:f,maxZoom:h,nodeOrigin:v,nodeExtent:m,defaultNodes:n,defaultEdges:i}),setNodes:w=>{const{nodeLookup:N,parentLookup:E,nodeOrigin:P,elevateNodesOnSelect:_,fitViewQueued:k}=x(),A=Gp(w,N,E,{nodeOrigin:P,nodeExtent:m,elevateNodesOnSelect:_,checkEquality:!0});k&&A?(C(),g({nodes:w,nodesInitialized:A,fitViewQueued:!1,fitViewOptions:void 0})):g({nodes:w,nodesInitialized:A})},setEdges:w=>{const{connectionLookup:N,edgeLookup:E}=x();Gw(N,E,w),g({edges:w})},setDefaultNodesAndEdges:(w,N)=>{if(w){const{setNodes:E}=x();E(w),g({hasDefaultNodes:!0})}if(N){const{setEdges:E}=x();E(N),g({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:N,nodeLookup:E,parentLookup:P,domNode:_,nodeOrigin:k,nodeExtent:A,debug:D,fitViewQueued:R}=x(),{changes:O,updatedInternals:W}=YR(w,E,P,_,k,A);W&&(WR(E,P,{nodeOrigin:k,nodeExtent:A}),R?(C(),g({fitViewQueued:!1,fitViewOptions:void 0})):g({}),(O==null?void 0:O.length)>0&&(D&&console.log("React Flow: trigger node changes",O),N==null||N(O)))},updateNodePositions:(w,N=!1)=>{const E=[],P=[],{nodeLookup:_,triggerNodeChanges:k}=x();for(const[A,D]of w){const R=_.get(A),O=!!(R!=null&&R.expandParent&&(R!=null&&R.parentId)&&(D!=null&&D.position)),W={id:A,type:"position",position:O?{x:Math.max(0,D.position.x),y:Math.max(0,D.position.y)}:D.position,dragging:N};O&&R.parentId&&E.push({id:A,parentId:R.parentId,rect:{...D.internals.positionAbsolute,width:D.measured.width??0,height:D.measured.height??0}}),P.push(W)}if(E.length>0){const{parentLookup:A,nodeOrigin:D}=x(),R=Lh(E,_,A,D);P.push(...R)}k(P)},triggerNodeChanges:w=>{const{onNodesChange:N,setNodes:E,nodes:P,hasDefaultNodes:_,debug:k}=x();if(w!=null&&w.length){if(_){const A=lS(w,P);E(A)}k&&console.log("React Flow: trigger node changes",w),N==null||N(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:N,setEdges:E,edges:P,hasDefaultEdges:_,debug:k}=x();if(w!=null&&w.length){if(_){const A=aS(w,P);E(A)}k&&console.log("React Flow: trigger edge changes",w),N==null||N(w)}},addSelectedNodes:w=>{const{multiSelectionActive:N,edgeLookup:E,nodeLookup:P,triggerNodeChanges:_,triggerEdgeChanges:k}=x();if(N){const A=w.map(D=>Do(D,!0));_(A);return}_(Fi(P,new Set([...w]),!0)),k(Fi(E))},addSelectedEdges:w=>{const{multiSelectionActive:N,edgeLookup:E,nodeLookup:P,triggerNodeChanges:_,triggerEdgeChanges:k}=x();if(N){const A=w.map(D=>Do(D,!0));k(A);return}k(Fi(E,new Set([...w]))),_(Fi(P,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:N}={})=>{const{edges:E,nodes:P,nodeLookup:_,triggerNodeChanges:k,triggerEdgeChanges:A}=x(),D=w||P,R=N||E,O=D.map(Q=>{const X=_.get(Q.id);return X&&(X.selected=!1),Do(Q.id,!1)}),W=R.map(Q=>Do(Q.id,!1));k(O),A(W)},setMinZoom:w=>{const{panZoom:N,maxZoom:E}=x();N==null||N.setScaleExtent([w,E]),g({minZoom:w})},setMaxZoom:w=>{const{panZoom:N,minZoom:E}=x();N==null||N.setScaleExtent([E,w]),g({maxZoom:w})},setTranslateExtent:w=>{var N;(N=x().panZoom)==null||N.setTranslateExtent(w),g({translateExtent:w})},setPaneClickDistance:w=>{var N;(N=x().panZoom)==null||N.setClickDistance(w)},resetSelectedElements:()=>{const{edges:w,nodes:N,triggerNodeChanges:E,triggerEdgeChanges:P,elementsSelectable:_}=x();if(!_)return;const k=N.reduce((D,R)=>R.selected?[...D,Do(R.id,!1)]:D,[]),A=w.reduce((D,R)=>R.selected?[...D,Do(R.id,!1)]:D,[]);E(k),P(A)},setNodeExtent:w=>{const{nodes:N,nodeLookup:E,parentLookup:P,nodeOrigin:_,elevateNodesOnSelect:k,nodeExtent:A}=x();w[0][0]===A[0][0]&&w[0][1]===A[0][1]&&w[1][0]===A[1][0]&&w[1][1]===A[1][1]||(Gp(N,E,P,{nodeOrigin:_,nodeExtent:w,elevateNodesOnSelect:k,checkEquality:!1}),g({nodeExtent:w}))},panBy:w=>{const{transform:N,width:E,height:P,panZoom:_,translateExtent:k}=x();return XR({delta:w,panZoom:_,transform:N,translateExtent:k,width:E,height:P})},cancelConnection:()=>{g({connection:{...jw}})},updateConnection:w=>{g({connection:w})},reset:()=>g({...Cx()})}},Object.is);function MS({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:i,initialWidth:s,initialHeight:l,initialMinZoom:a,initialMaxZoom:u,initialFitViewOptions:f,fitView:h,nodeOrigin:v,nodeExtent:m,children:g}){const[x]=S.useState(()=>fM({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,width:s,height:l,fitView:h,minZoom:a,maxZoom:u,fitViewOptions:f,nodeOrigin:v,nodeExtent:m}));return d.jsx(MT,{value:x,children:d.jsx(nA,{children:g})})}function pM({children:e,nodes:t,edges:n,defaultNodes:i,defaultEdges:s,width:l,height:a,fitView:u,fitViewOptions:f,minZoom:h,maxZoom:v,nodeOrigin:m,nodeExtent:g}){return S.useContext(Pu)?d.jsx(d.Fragment,{children:e}):d.jsx(MS,{initialNodes:t,initialEdges:n,defaultNodes:i,defaultEdges:s,initialWidth:l,initialHeight:a,fitView:u,initialFitViewOptions:f,initialMinZoom:h,initialMaxZoom:v,nodeOrigin:m,nodeExtent:g,children:e})}const hM={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function mM({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,className:s,nodeTypes:l,edgeTypes:a,onNodeClick:u,onEdgeClick:f,onInit:h,onMove:v,onMoveStart:m,onMoveEnd:g,onConnect:x,onConnectStart:C,onConnectEnd:w,onClickConnectStart:N,onClickConnectEnd:E,onNodeMouseEnter:P,onNodeMouseMove:_,onNodeMouseLeave:k,onNodeContextMenu:A,onNodeDoubleClick:D,onNodeDragStart:R,onNodeDrag:O,onNodeDragStop:W,onNodesDelete:Q,onEdgesDelete:X,onDelete:J,onSelectionChange:te,onSelectionDragStart:T,onSelectionDrag:V,onSelectionDragStop:L,onSelectionContextMenu:F,onSelectionStart:M,onSelectionEnd:z,onBeforeDelete:Y,connectionMode:I,connectionLineType:U=no.Bezier,connectionLineStyle:K,connectionLineComponent:ee,connectionLineContainerStyle:B,deleteKeyCode:Z="Backspace",selectionKeyCode:H="Shift",selectionOnDrag:re=!1,selectionMode:le=Ml.Full,panActivationKeyCode:ae="Space",multiSelectionKeyCode:fe=nu()?"Meta":"Control",zoomActivationKeyCode:ce=nu()?"Meta":"Control",snapToGrid:ve,snapGrid:xe,onlyRenderVisibleElements:Be=!1,selectNodesOnDrag:he,nodesDraggable:Re,nodesConnectable:Pe,nodesFocusable:Ue,nodeOrigin:Xe=iS,edgesFocusable:Je,edgesReconnectable:Ge,elementsSelectable:et=!0,defaultViewport:ht=GT,minZoom:mt=.5,maxZoom:jt=2,translateExtent:Ft=Al,preventScrolling:Er=!0,nodeExtent:kr,defaultMarkerColor:rr="#b1b1b7",zoomOnScroll:or=!0,zoomOnPinch:ys=!0,panOnScroll:ti=!1,panOnScrollSpeed:ir=.5,panOnScrollMode:Pr=Wo.Free,zoomOnDoubleClick:Bn=!0,panOnDrag:Vn=!0,onPaneClick:Hn,onPaneMouseEnter:se,onPaneMouseMove:Te,onPaneMouseLeave:qe,onPaneScroll:Qe,onPaneContextMenu:Dt,paneClickDistance:Rt=0,nodeClickDistance:xt=0,children:ra,onReconnect:oa,onReconnectStart:xs,onReconnectEnd:ia,onEdgeContextMenu:vo,onEdgeDoubleClick:ws,onEdgeMouseEnter:yo,onEdgeMouseMove:nd,onEdgeMouseLeave:xo,reconnectRadius:ni=10,onNodesChange:ri,onEdgesChange:Ss,noDragClassName:rd="nodrag",noWheelClassName:od="nowheel",noPanClassName:sa="nopan",fitView:Wn,fitViewOptions:bs,connectOnClick:la,attributionPosition:id,proOptions:aa,defaultEdgeOptions:ca,elevateNodesOnSelect:ua,elevateEdgesOnSelect:da,disableKeyboardA11y:fa=!1,autoPanOnConnect:sd,autoPanOnNodeDrag:ut,autoPanSpeed:ld,connectionRadius:Ns,isValidConnection:pa,onError:oi,style:ad,id:Cs,nodeDragThreshold:ii,viewport:pn,onViewportChange:cd,width:tn,height:ud,colorMode:dd="light",debug:fd,onScroll:sr,...si},wo){const jr=Cs||"1",pd=qT(dd),hd=S.useCallback(li=>{li.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),sr==null||sr(li)},[sr]);return d.jsx("div",{"data-testid":"rf__wrapper",...si,onScroll:hd,style:{...ad,...hM},ref:wo,className:St(["react-flow",s,pd]),id:Cs,children:d.jsxs(pM,{nodes:e,edges:t,width:tn,height:ud,fitView:Wn,fitViewOptions:bs,minZoom:mt,maxZoom:jt,nodeOrigin:Xe,nodeExtent:kr,children:[d.jsx(dM,{onInit:h,onNodeClick:u,onEdgeClick:f,onNodeMouseEnter:P,onNodeMouseMove:_,onNodeMouseLeave:k,onNodeContextMenu:A,onNodeDoubleClick:D,nodeTypes:l,edgeTypes:a,connectionLineType:U,connectionLineStyle:K,connectionLineComponent:ee,connectionLineContainerStyle:B,selectionKeyCode:H,selectionOnDrag:re,selectionMode:le,deleteKeyCode:Z,multiSelectionKeyCode:fe,panActivationKeyCode:ae,zoomActivationKeyCode:ce,onlyRenderVisibleElements:Be,defaultViewport:ht,translateExtent:Ft,minZoom:mt,maxZoom:jt,preventScrolling:Er,zoomOnScroll:or,zoomOnPinch:ys,zoomOnDoubleClick:Bn,panOnScroll:ti,panOnScrollSpeed:ir,panOnScrollMode:Pr,panOnDrag:Vn,onPaneClick:Hn,onPaneMouseEnter:se,onPaneMouseMove:Te,onPaneMouseLeave:qe,onPaneScroll:Qe,onPaneContextMenu:Dt,paneClickDistance:Rt,nodeClickDistance:xt,onSelectionContextMenu:F,onSelectionStart:M,onSelectionEnd:z,onReconnect:oa,onReconnectStart:xs,onReconnectEnd:ia,onEdgeContextMenu:vo,onEdgeDoubleClick:ws,onEdgeMouseEnter:yo,onEdgeMouseMove:nd,onEdgeMouseLeave:xo,reconnectRadius:ni,defaultMarkerColor:rr,noDragClassName:rd,noWheelClassName:od,noPanClassName:sa,rfId:jr,disableKeyboardA11y:fa,nodeExtent:kr,viewport:pn,onViewportChange:cd}),d.jsx(KT,{nodes:e,edges:t,defaultNodes:n,defaultEdges:i,onConnect:x,onConnectStart:C,onConnectEnd:w,onClickConnectStart:N,onClickConnectEnd:E,nodesDraggable:Re,nodesConnectable:Pe,nodesFocusable:Ue,edgesFocusable:Je,edgesReconnectable:Ge,elementsSelectable:et,elevateNodesOnSelect:ua,elevateEdgesOnSelect:da,minZoom:mt,maxZoom:jt,nodeExtent:kr,onNodesChange:ri,onEdgesChange:Ss,snapToGrid:ve,snapGrid:xe,connectionMode:I,translateExtent:Ft,connectOnClick:la,defaultEdgeOptions:ca,fitView:Wn,fitViewOptions:bs,onNodesDelete:Q,onEdgesDelete:X,onDelete:J,onNodeDragStart:R,onNodeDrag:O,onNodeDragStop:W,onSelectionDrag:V,onSelectionDragStart:T,onSelectionDragStop:L,onMove:v,onMoveStart:m,onMoveEnd:g,noPanClassName:sa,nodeOrigin:Xe,rfId:jr,autoPanOnConnect:sd,autoPanOnNodeDrag:ut,autoPanSpeed:ld,onError:oi,connectionRadius:Ns,isValidConnection:pa,selectNodesOnDrag:he,nodeDragThreshold:ii,onBeforeDelete:Y,paneClickDistance:Rt,debug:fd}),d.jsx(UT,{onSelectionChange:te}),ra,d.jsx(FT,{proOptions:aa,position:id}),d.jsx(zT,{rfId:jr,disableKeyboardA11y:fa})]})})}var gM=cS(mM);const vM=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function yM({children:e}){const t=Ye(vM);return t?ds.createPortal(e,t):null}function _x(e){return Ye(S.useCallback(n=>n.nodeLookup.get(e),[e]),pt)}function xM({dimensions:e,lineWidth:t,variant:n,className:i}){return d.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:St(["react-flow__background-pattern",n,i])})}function wM({radius:e,className:t}){return d.jsx("circle",{cx:e,cy:e,r:e,className:St(["react-flow__background-pattern","dots",t])})}var lo;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(lo||(lo={}));const SM={[lo.Dots]:1,[lo.Lines]:1,[lo.Cross]:6},bM=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function IS({id:e,variant:t=lo.Dots,gap:n=20,size:i,lineWidth:s=1,offset:l=0,color:a,bgColor:u,style:f,className:h,patternClassName:v}){const m=S.useRef(null),{transform:g,patternId:x}=Ye(bM,pt),C=i||SM[t],w=t===lo.Dots,N=t===lo.Cross,E=Array.isArray(n)?n:[n,n],P=[E[0]*g[2]||1,E[1]*g[2]||1],_=C*g[2],k=Array.isArray(l)?l:[l,l],A=N?[_,_]:P,D=[k[0]*g[2]||1+A[0]/2,k[1]*g[2]||1+A[1]/2],R=`${x}${e||""}`;return d.jsxs("svg",{className:St(["react-flow__background",h]),style:{...f,...Ru,"--xy-background-color-props":u,"--xy-background-pattern-color-props":a},ref:m,"data-testid":"rf__background",children:[d.jsx("pattern",{id:R,x:g[0]%P[0],y:g[1]%P[1],width:P[0],height:P[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${D[0]},-${D[1]})`,children:w?d.jsx(wM,{radius:_/2,className:v}):d.jsx(xM,{dimensions:A,lineWidth:s,variant:t,className:v})}),d.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${R})`})]})}IS.displayName="Background";const NM=S.memo(IS);function CM(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:d.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function _M(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:d.jsx("path",{d:"M0 0h32v4.2H0z"})})}function EM(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:d.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function kM(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function PM(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Ec({children:e,className:t,...n}){return d.jsx("button",{type:"button",className:St(["react-flow__controls-button",t]),...n,children:e})}const jM=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function DS({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:i=!0,fitViewOptions:s,onZoomIn:l,onZoomOut:a,onFitView:u,onInteractiveChange:f,className:h,children:v,position:m="bottom-left",orientation:g="vertical","aria-label":x="React Flow controls"}){const C=ct(),{isInteractive:w,minZoomReached:N,maxZoomReached:E}=Ye(jM,pt),{zoomIn:P,zoomOut:_,fitView:k}=ju(),A=()=>{P(),l==null||l()},D=()=>{_(),a==null||a()},R=()=>{k(s),u==null||u()},O=()=>{C.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),f==null||f(!w)},W=g==="horizontal"?"horizontal":"vertical";return d.jsxs(ql,{className:St(["react-flow__controls",W,h]),position:m,style:e,"data-testid":"rf__controls","aria-label":x,children:[t&&d.jsxs(d.Fragment,{children:[d.jsx(Ec,{onClick:A,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:E,children:d.jsx(CM,{})}),d.jsx(Ec,{onClick:D,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:N,children:d.jsx(_M,{})})]}),n&&d.jsx(Ec,{className:"react-flow__controls-fitview",onClick:R,title:"fit view","aria-label":"fit view",children:d.jsx(EM,{})}),i&&d.jsx(Ec,{className:"react-flow__controls-interactive",onClick:O,title:"toggle interactivity","aria-label":"toggle interactivity",children:w?d.jsx(PM,{}):d.jsx(kM,{})}),v]})}DS.displayName="Controls";const RM=S.memo(DS);function TM({id:e,x:t,y:n,width:i,height:s,style:l,color:a,strokeColor:u,strokeWidth:f,className:h,borderRadius:v,shapeRendering:m,selected:g,onClick:x}){const{background:C,backgroundColor:w}=l||{},N=a||C||w;return d.jsx("rect",{className:St(["react-flow__minimap-node",{selected:g},h]),x:t,y:n,rx:v,ry:v,width:i,height:s,style:{fill:N,stroke:u,strokeWidth:f},shapeRendering:m,onClick:x?E=>x(E,e):void 0})}const AM=S.memo(TM),MM=e=>e.nodes.map(t=>t.id),gp=e=>e instanceof Function?e:()=>e;function IM({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:l=AM,onClick:a}){const u=Ye(MM,pt),f=gp(t),h=gp(e),v=gp(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return d.jsx(d.Fragment,{children:u.map(g=>d.jsx(OM,{id:g,nodeColorFunc:f,nodeStrokeColorFunc:h,nodeClassNameFunc:v,nodeBorderRadius:i,nodeStrokeWidth:s,NodeComponent:l,onClick:a,shapeRendering:m},g))})}function DM({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:i,nodeBorderRadius:s,nodeStrokeWidth:l,shapeRendering:a,NodeComponent:u,onClick:f}){const{node:h,x:v,y:m,width:g,height:x}=Ye(C=>{const{internals:w}=C.nodeLookup.get(e),N=w.userNode,{x:E,y:P}=w.positionAbsolute,{width:_,height:k}=_r(N);return{node:N,x:E,y:P,width:_,height:k}},pt);return!h||h.hidden||!Lw(h)?null:d.jsx(u,{x:v,y:m,width:g,height:x,style:h.style,selected:!!h.selected,className:i(h),color:t(h),borderRadius:s,strokeColor:n(h),strokeWidth:l,shapeRendering:a,onClick:f,id:h.id})}const OM=S.memo(DM);var LM=S.memo(IM);const zM=200,$M=150,FM=e=>!e.hidden,BM=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Ow(Xl(e.nodeLookup,{filter:FM}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},VM="react-flow__minimap-desc";function OS({style:e,className:t,nodeStrokeColor:n,nodeColor:i,nodeClassName:s="",nodeBorderRadius:l=5,nodeStrokeWidth:a,nodeComponent:u,bgColor:f,maskColor:h,maskStrokeColor:v,maskStrokeWidth:m,position:g="bottom-right",onClick:x,onNodeClick:C,pannable:w=!1,zoomable:N=!1,ariaLabel:E="React Flow mini map",inversePan:P,zoomStep:_=10,offsetScale:k=5}){const A=ct(),D=S.useRef(null),{boundingRect:R,viewBB:O,rfId:W,panZoom:Q,translateExtent:X,flowWidth:J,flowHeight:te}=Ye(BM,pt),T=(e==null?void 0:e.width)??zM,V=(e==null?void 0:e.height)??$M,L=R.width/T,F=R.height/V,M=Math.max(L,F),z=M*T,Y=M*V,I=k*M,U=R.x-(z-R.width)/2-I,K=R.y-(Y-R.height)/2-I,ee=z+I*2,B=Y+I*2,Z=`${VM}-${W}`,H=S.useRef(0),re=S.useRef();H.current=M,S.useEffect(()=>{if(D.current&&Q)return re.current=nT({domNode:D.current,panZoom:Q,getTransform:()=>A.getState().transform,getViewScale:()=>H.current}),()=>{var fe;(fe=re.current)==null||fe.destroy()}},[Q]),S.useEffect(()=>{var fe;(fe=re.current)==null||fe.update({translateExtent:X,width:J,height:te,inversePan:P,pannable:w,zoomStep:_,zoomable:N})},[w,N,P,_,X,J,te]);const le=x?fe=>{var xe;const[ce,ve]=((xe=re.current)==null?void 0:xe.pointer(fe))||[0,0];x(fe,{x:ce,y:ve})}:void 0,ae=C?S.useCallback((fe,ce)=>{const ve=A.getState().nodeLookup.get(ce).internals.userNode;C(fe,ve)},[]):void 0;return d.jsx(ql,{position:g,style:{...e,"--xy-minimap-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof v=="string"?v:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*M:void 0,"--xy-minimap-node-background-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="number"?a:void 0},className:St(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:d.jsxs("svg",{width:T,height:V,viewBox:`${U} ${K} ${ee} ${B}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Z,ref:D,onClick:le,children:[E&&d.jsx("title",{id:Z,children:E}),d.jsx(LM,{onClick:ae,nodeColor:i,nodeStrokeColor:n,nodeBorderRadius:l,nodeClassName:s,nodeStrokeWidth:a,nodeComponent:u}),d.jsx("path",{className:"react-flow__minimap-mask",d:`M${U-I},${K-I}h${ee+I*2}v${B+I*2}h${-ee-I*2}z
        M${O.x},${O.y}h${O.width}v${O.height}h${-O.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}OS.displayName="MiniMap";const HM=S.memo(OS);function WM({nodeId:e,position:t,variant:n=Xi.Handle,className:i,style:s={},children:l,color:a,minWidth:u=10,minHeight:f=10,maxWidth:h=Number.MAX_VALUE,maxHeight:v=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:g,shouldResize:x,onResizeStart:C,onResize:w,onResizeEnd:N}){const E=pS(),P=typeof e=="string"?e:E,_=ct(),k=S.useRef(null),A=n===Xi.Line?"right":"bottom-right",D=t??A,R=S.useRef(null);S.useEffect(()=>{if(!(!k.current||!P))return R.current||(R.current=xT({domNode:k.current,nodeId:P,getStoreItems:()=>{const{nodeLookup:X,transform:J,snapGrid:te,snapToGrid:T,nodeOrigin:V,domNode:L}=_.getState();return{nodeLookup:X,transform:J,snapGrid:te,snapToGrid:T,nodeOrigin:V,paneDomNode:L}},onChange:(X,J)=>{const{triggerNodeChanges:te,nodeLookup:T,parentLookup:V,nodeOrigin:L}=_.getState(),F=[],M={x:X.x,y:X.y},z=T.get(P);if(z&&z.expandParent&&z.parentId){const Y=z.origin??L,I=X.width??z.measured.width??0,U=X.height??z.measured.height??0,K={id:z.id,parentId:z.parentId,rect:{width:I,height:U,...zw({x:X.x??z.position.x,y:X.y??z.position.y},{width:I,height:U},z.parentId,T,Y)}},ee=Lh([K],T,V,L);F.push(...ee),M.x=X.x?Math.max(Y[0]*I,X.x):void 0,M.y=X.y?Math.max(Y[1]*U,X.y):void 0}if(M.x!==void 0&&M.y!==void 0){const Y={id:P,type:"position",position:{...M}};F.push(Y)}if(X.width!==void 0&&X.height!==void 0){const I={id:P,type:"dimensions",resizing:!0,setAttributes:g?g==="horizontal"?"width":"height":!0,dimensions:{width:X.width,height:X.height}};F.push(I)}for(const Y of J){const I={...Y,type:"position"};F.push(I)}te(F)},onEnd:({width:X,height:J})=>{const te={id:P,type:"dimensions",resizing:!1,dimensions:{width:X,height:J}};_.getState().triggerNodeChanges([te])}})),R.current.update({controlPosition:D,boundaries:{minWidth:u,minHeight:f,maxWidth:h,maxHeight:v},keepAspectRatio:m,resizeDirection:g,onResizeStart:C,onResize:w,onResizeEnd:N,shouldResize:x}),()=>{var X;(X=R.current)==null||X.destroy()}},[D,u,f,h,v,m,C,w,N,x]);const O=D.split("-"),W=n===Xi.Line?"borderColor":"backgroundColor",Q=a?{...s,[W]:a}:s;return d.jsx("div",{className:St(["react-flow__resize-control","nodrag",...O,n,i]),ref:k,style:Q,children:l})}const Ex=S.memo(WM);function LS({nodeId:e,isVisible:t=!0,handleClassName:n,handleStyle:i,lineClassName:s,lineStyle:l,color:a,minWidth:u=10,minHeight:f=10,maxWidth:h=Number.MAX_VALUE,maxHeight:v=Number.MAX_VALUE,keepAspectRatio:m=!1,shouldResize:g,onResizeStart:x,onResize:C,onResizeEnd:w}){return t?d.jsxs(d.Fragment,{children:[fT.map(N=>d.jsx(Ex,{className:s,style:l,nodeId:e,position:N,variant:Xi.Line,color:a,minWidth:u,minHeight:f,maxWidth:h,maxHeight:v,onResizeStart:x,keepAspectRatio:m,shouldResize:g,onResize:C,onResizeEnd:w},N)),dT.map(N=>d.jsx(Ex,{className:n,style:i,nodeId:e,position:N,color:a,minWidth:u,minHeight:f,maxWidth:h,maxHeight:v,onResizeStart:x,keepAspectRatio:m,shouldResize:g,onResize:C,onResizeEnd:w},N))]}):null}const UM=({id:e,data:t,selected:n})=>{const i=$h(),s=Ce(a=>{var u;return((u=a.colorSets.find(f=>f.name===t.colorSet))==null?void 0:u.color)||"#FBBF24"}),l=i.inProgress&&i.fromNode.id!==e&&i.fromNode.type==="transition";return d.jsxs("div",{className:"relative cpn-node place-node",style:{borderColor:s},children:[t.initialMarking&&d.jsx("div",{className:"absolute text-[8px] font-mono bg-background/80 px-1 top-0 left-full transform -translate-y-2 rounded-md whitespace-nowrap",children:t.initialMarking}),t.colorSet&&d.jsx("div",{className:"absolute text-[8px] font-mono bg-background/80 px-1 bottom-0 left-full transform translate-y-2 rounded-md",children:t.colorSet}),t.marking&&d.jsx("div",{className:"marking absolute text-[8px] font-mono bg-background/80 px-1 top-1/2 left-full transform -translate-y-1/2 rounded-md whitespace-nowrap",children:t.marking}),d.jsx(LS,{isVisible:n,minWidth:30,minHeight:30}),d.jsx("label",{htmlFor:"text",children:t.label}),d.jsx(ao,{className:"custom-handle",type:"source",position:we.Right,style:{visibility:t.isArcMode&&!i.inProgress?"visible":"hidden"}}),d.jsx(ao,{className:"custom-handle",type:"target",position:we.Left,style:{visibility:t.isArcMode&&l?"visible":"hidden"},isConnectable:l})]})},GM=({id:e,data:t,selected:n})=>{const i=$h(),s=i.inProgress&&i.fromNode.id!==e&&i.fromNode.type==="place";return d.jsxs("div",{className:"cpn-node transition-node",children:[t.guard&&d.jsx("div",{className:"absolute text-[8px] font-mono bg-background/80 px-1 top-0 right-full transform -translate-y-4 rounded-md",children:t.guard}),t.time&&d.jsx("div",{className:"absolute text-[8px] font-mono bg-background/80 px-1 top-0 left-full transform -translate-y-4 rounded-md",children:t.time}),t.codeSegment&&d.jsx("div",{className:"absolute text-[8px] font-mono bg-background/80 px-1 bottom-0 left-full transform translate-y-4 rounded-md",children:d.jsx(nE,{className:"h-3 w-3"})}),t.priority&&d.jsx("div",{className:"absolute text-[8px] font-mono bg-background/80 px-1 bottom-0 right-full transform translate-y-4 rounded-md",children:t.priority}),d.jsx(LS,{isVisible:n,minWidth:15,minHeight:30}),d.jsx("label",{htmlFor:"text",children:t.label}),d.jsx(ao,{className:"custom-handle",type:"source",position:we.Right,style:{visibility:t.isArcMode&&!i.inProgress?"visible":"hidden"}}),d.jsx(ao,{className:"custom-handle",type:"target",position:we.Left,style:{visibility:t.isArcMode&&s?"visible":"hidden"},isConnectable:s})]})},YM=S.memo(GM),XM=({data:e})=>d.jsx("div",{className:"cpn-node auxtext-node",children:e.label}),KM=[{id:"a",type:"place",position:{x:-200,y:0},data:{label:"start",colorSet:"INT",initialMarking:"[1, 5, 5, 10]"}},{id:"b",type:"transition",position:{x:-100,y:100},width:50,height:30,data:{label:"transition",guard:"",time:"",priority:"",codeSegment:""}},{id:"c",type:"place",position:{x:0,y:200},width:50,height:30,data:{label:"end place",colorSet:"INT"}}],qM={place:UM,transition:YM,auxText:XM};function kx(e,t){var _,k;const{width:n=0,height:i=0}=e.measured||{},s=e.internals.positionAbsolute,l=t.internals.positionAbsolute,a=n/2,u=i/2,f=s.x+a,h=s.y+u,v=l.x+(((_=t.measured)==null?void 0:_.width)??0)/2,m=l.y+(((k=t.measured)==null?void 0:k.height)??0)/2;if(e.type==="place"){const A=v-f,D=m-h,R=Math.atan2(D,A),O=a,W=u,Q=f+O*Math.cos(R),X=h+W*Math.sin(R);return{x:Q,y:X}}const g=(v-f)/(2*a)-(m-h)/(2*u),x=(v-f)/(2*a)+(m-h)/(2*u),C=1/(Math.abs(g)+Math.abs(x)||1),w=C*g,N=C*x,E=a*(w+N)+f,P=u*(-w+N)+h;return{x:E,y:P}}function Px(e,t){var u,f,h,v;const n={...e.internals.positionAbsolute,...e},i=Math.round(n.x),s=Math.round(n.y),l=Math.round(t.x),a=Math.round(t.y);if(e.type==="place"){const m=l-(i+(((u=n.measured)==null?void 0:u.width)??0)/2),g=a-(s+(((f=n.measured)==null?void 0:f.height)??0)/2),x=Math.atan2(g,m);return Math.abs(x)<Math.PI/4?we.Right:Math.abs(x)>3*Math.PI/4?we.Left:x>0?we.Bottom:we.Top}return l<=i+1?we.Left:l>=i+(((h=n.measured)==null?void 0:h.width)??0)-1?we.Right:a<=s+1?we.Top:a>=n.y+((((v=n.measured)==null?void 0:v.height)??0)-1)?we.Bottom:we.Top}function QM(e,t){const n=kx(e,t),i=kx(t,e),s=Px(e,n),l=Px(t,i);return{sx:n.x,sy:n.y,tx:i.x,ty:i.y,sourcePos:s,targetPos:l}}function ZM({id:e,source:t,target:n,markerEnd:i,style:s,label:l}){const a=_x(t),u=_x(n),f=Ce(N=>{var P;const E=N.variables.find(_=>_.name===l);return((P=N.colorSets.find(_=>_.name===(E==null?void 0:E.colorSet)))==null?void 0:P.color)||"#000"});if(!a||!u)return null;const{sx:h,sy:v,tx:m,ty:g}=QM(a,u),[x,C,w]=Eu({sourceX:h,sourceY:v,targetX:m,targetY:g});return d.jsxs("g",{children:["/* Edge Path */",d.jsx("path",{id:e,d:x,className:"stroke-[currentColor]",style:{stroke:f,...s},markerEnd:i}),l&&d.jsx(yM,{children:d.jsx("div",{style:{transform:`translate(-50%, -50%) translate(${C}px,${w}px)`},className:"edge-label-renderer__custom-edge nodrag nopan",children:l})})]})}const JM=[{id:"a->b",source:"a",target:"b",label:"var1"},{id:"b->c",source:"b",target:"c",label:"var1"}],eI={floating:ZM},tI=[{id:Le(),name:"UNIT",type:"basic",definition:"colset UNIT = unit;",color:"#3b82f6"},{id:Le(),name:"BOOL",type:"basic",definition:"colset BOOL = bool;",color:"#10b981"},{id:Le(),name:"INT",type:"basic",definition:"colset INT = int;",color:"#3b82f6"},{id:Le(),name:"INTINF",type:"basic",definition:"colset INTINF = intinf;",color:"#3b82f6"},{id:Le(),name:"TIME",type:"basic",definition:"colset TIME = time;",color:"#8b5cf6"},{id:Le(),name:"REAL",type:"basic",definition:"colset REAL = real;",color:"#ef4444"},{id:Le(),name:"STRING",type:"basic",definition:"colset STRING = string;",color:"#f59e0b"}],nI=[{id:Le(),name:"var1",colorSet:"INT"}],rI=[{id:Le(),name:"P_HIGH",level:100},{id:Le(),name:"P_NORMAL",level:1e3},{id:Le(),name:"P_LOW",level:1e4}],oI=[],iI={petriNetsById:{},petriNetOrder:[],activePetriNetId:null,colorSets:[],variables:[],priorities:[],functions:[],uses:[]},Bc="ID6",sI={id:Bc,name:"Petri Net",nodes:KM,edges:JM,selectedElement:null},Ce=Bk(e=>({petriNetsById:{[Bc]:sI},petriNetOrder:[Bc],activePetriNetId:Bc,colorSets:tI,variables:nI,priorities:rI,functions:oI,uses:[],setNodes:(t,n)=>{e(i=>({petriNetsById:{...i.petriNetsById,[t]:{...i.petriNetsById[t],nodes:n}}}))},setEdges:(t,n)=>{e(i=>({petriNetsById:{...i.petriNetsById,[t]:{...i.petriNetsById[t],edges:n}}}))},createPetriNet:t=>{const n=Le(),i={id:n,name:t,nodes:[],edges:[],selectedElement:null};e(s=>({petriNetsById:{...s.petriNetsById,[n]:i},petriNetOrder:[...s.petriNetOrder,n],activePetriNetId:n}))},addPetriNet:t=>{e(n=>({petriNetsById:{...n.petriNetsById,[t.id]:{...t,selectedElement:null}},petriNetOrder:[...n.petriNetOrder,t.id],activePetriNetId:t.id}))},setActivePetriNet:t=>{e(n=>({activePetriNetId:t,petriNetsById:{...n.petriNetsById,[t]:{...n.petriNetsById[t],selectedElement:null}}}))},addNode:(t,n)=>{e(i=>{const s=i.petriNetsById[t],l=[...s.nodes,{...n,id:n.id??Le()}];return{petriNetsById:{...i.petriNetsById,[t]:{...s,nodes:l}}}})},addEdge:(t,n)=>{e(i=>{const s=i.petriNetsById[t],l=[...s.edges,{...n,id:n.id??Le()}];return{petriNetsById:{...i.petriNetsById,[t]:{...s,edges:l}}}})},updateNode:(t,n)=>{e(i=>{const s=i.petriNetsById[t],l=s.nodes.map(a=>a.id===n.id?{...n}:a);return{petriNetsById:{...i.petriNetsById,[t]:{...s,nodes:l}}}})},updateNodeMarking:(t,n)=>{e(i=>{const s=i.petriNetsById[i.activePetriNetId],l=s.nodes.map(a=>a.id===t?{...a,data:{...a.data,marking:n}}:a);return{petriNetsById:{...i.petriNetsById,[i.activePetriNetId]:{...s,nodes:l}}}})},updateNodeData:(t,n,i)=>{e(s=>{var f;const l=s.petriNetsById[t],a=l.nodes.map(h=>h.id===n?{...h,data:{...h.data,...i}}:h),u=((f=l.selectedElement)==null?void 0:f.type)==="node"&&l.selectedElement.element.id===n?{...l.selectedElement,element:{...l.selectedElement.element,data:{...i}}}:l.selectedElement;return{petriNetsById:{...s.petriNetsById,[t]:{...l,nodes:a,selectedElement:u}}}})},updateEdgeLabel:(t,n,i)=>{e(s=>{var f;const l=s.petriNetsById[t],a=l.edges.map(h=>h.id===n?{...h,label:i}:h),u=((f=l.selectedElement)==null?void 0:f.type)==="edge"&&l.selectedElement.element.id===n?{...l.selectedElement,element:{...l.selectedElement.element,label:i}}:l.selectedElement;return{petriNetsById:{...s.petriNetsById,[t]:{...l,edges:a,selectedElement:u}}}})},applyInitialMarkings:()=>{e(t=>{const n=t.petriNetsById[t.activePetriNetId],i=n.nodes.map(s=>s.type==="place"?{...s,data:{...s.data,marking:s.data.initialMarking}}:s);return{petriNetsById:{...t.petriNetsById,[t.activePetriNetId]:{...n,nodes:i}}}})},setSelectedElement:(t,n)=>e(i=>({petriNetsById:{...i.petriNetsById,[t]:{...i.petriNetsById[t],selectedElement:n}}})),setColorSets:t=>{e({colorSets:t})},setVariables:t=>{e({variables:t})},setPriorities:t=>{e({priorities:t})},setFunctions:t=>{e({functions:t})},setUses:t=>{e({uses:t})},addColorSet:t=>e(n=>({colorSets:[...n.colorSets,{...t,id:t.id??Le()}]})),addVariable:t=>e(n=>({variables:[...n.variables,{...t,id:t.id??Le()}]})),addPriority:t=>e(n=>({priorities:[...n.priorities,{...t,id:t.id??Le()}]})),addFunction:t=>e(n=>({functions:[...n.functions,{...t,id:t.id??Le()}]})),deleteColorSet:t=>e(n=>({colorSets:n.colorSets.filter(i=>i.id!==t)})),deleteVariable:t=>e(n=>({variables:n.variables.filter(i=>i.id!==t)})),deletePriority:t=>e(n=>({priorities:n.priorities.filter(i=>i.id!==t)})),deleteFunction:t=>e(n=>({functions:n.functions.filter(i=>i.id!==t)})),addUse:t=>e(n=>({uses:[...n.uses,{...t,id:t.id??Le()}]})),updateUse:(t,n)=>e(i=>({uses:i.uses.map(s=>s.id===t?{name:n.name,content:n.content}:s)})),deleteUse:t=>e(n=>({uses:n.uses.filter(i=>i.id!==t)})),toggleArcMode:t=>e(n=>({petriNetsById:Object.fromEntries(Object.entries(n.petriNetsById).map(([i,s])=>[i,{...s,nodes:s.nodes.map(l=>({...l,data:{...l.data,isArcMode:t}}))}]))})),reset:()=>{e(iI)}}));function jx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function zS(...e){return t=>{let n=!1;const i=e.map(s=>{const l=jx(s,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let s=0;s<i.length;s++){const l=i[s];typeof l=="function"?l():jx(e[s],null)}}}}function ze(...e){return S.useCallback(zS(...e),e)}function Xo(e){const t=aI(e),n=S.forwardRef((i,s)=>{const{children:l,...a}=i,u=S.Children.toArray(l),f=u.find(uI);if(f){const h=f.props.children,v=u.map(m=>m===f?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:m);return d.jsx(t,{...a,ref:s,children:S.isValidElement(h)?S.cloneElement(h,void 0,v):null})}return d.jsx(t,{...a,ref:s,children:l})});return n.displayName=`${e}.Slot`,n}var lI=Xo("Slot");function aI(e){const t=S.forwardRef((n,i)=>{const{children:s,...l}=n;if(S.isValidElement(s)){const a=fI(s),u=dI(l,s.props);return s.type!==S.Fragment&&(u.ref=i?zS(i,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $S=Symbol("radix.slottable");function cI(e){const t=({children:n})=>d.jsx(d.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=$S,t}function uI(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$S}function dI(e,t){const n={...t};for(const i in t){const s=e[i],l=t[i];/^on[A-Z]/.test(i)?s&&l?n[i]=(...u)=>{l(...u),s(...u)}:s&&(n[i]=s):i==="style"?n[i]={...s,...l}:i==="className"&&(n[i]=[s,l].filter(Boolean).join(" "))}return{...e,...n}}function fI(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],je=pI.reduce((e,t)=>{const n=Xo(`Primitive.${t}`),i=S.forwardRef((s,l)=>{const{asChild:a,...u}=s,f=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(f,{...u,ref:l})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function hI(e,t){e&&ds.flushSync(()=>e.dispatchEvent(t))}var mI="Separator",Rx="horizontal",gI=["horizontal","vertical"],FS=S.forwardRef((e,t)=>{const{decorative:n,orientation:i=Rx,...s}=e,l=vI(i)?i:Rx,u=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return d.jsx(je.div,{"data-orientation":l,...u,...s,ref:t})});FS.displayName=mI;function vI(e){return gI.includes(e)}var yI=FS;function Au({className:e,orientation:t="horizontal",decorative:n=!0,...i}){return d.jsx(yI,{"data-slot":"separator-root",decorative:n,orientation:t,className:He("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...i})}function xI({className:e,...t}){return d.jsx("div",{"data-slot":"card",className:He("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function wI({className:e,...t}){return d.jsx("div",{"data-slot":"card-header",className:He("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function SI({className:e,...t}){return d.jsx("div",{"data-slot":"card-title",className:He("leading-none font-semibold",e),...t})}function bI({className:e,...t}){return d.jsx("div",{"data-slot":"card-content",className:He("px-6",e),...t})}var Pt=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{};function NI(e,t){return S.useReducer((n,i)=>t[n][i]??n,e)}var Wt=e=>{const{present:t,children:n}=e,i=CI(t),s=typeof n=="function"?n({present:i.isPresent}):S.Children.only(n),l=ze(i.ref,_I(s));return typeof n=="function"||i.isPresent?S.cloneElement(s,{ref:l}):null};Wt.displayName="Presence";function CI(e){const[t,n]=S.useState(),i=S.useRef({}),s=S.useRef(e),l=S.useRef("none"),a=e?"mounted":"unmounted",[u,f]=NI(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const h=kc(i.current);l.current=u==="mounted"?h:"none"},[u]),Pt(()=>{const h=i.current,v=s.current;if(v!==e){const g=l.current,x=kc(h);e?f("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(v&&g!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,f]),Pt(()=>{if(t){let h;const v=t.ownerDocument.defaultView??window,m=x=>{const w=kc(i.current).includes(x.animationName);if(x.target===t&&w&&(f("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",h=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},g=x=>{x.target===t&&(l.current=kc(i.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{v.clearTimeout(h),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:S.useCallback(h=>{h&&(i.current=getComputedStyle(h)),n(h)},[])}}function kc(e){return(e==null?void 0:e.animationName)||"none"}function _I(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function EI(e,t){const n=S.createContext(t),i=l=>{const{children:a,...u}=l,f=S.useMemo(()=>u,Object.values(u));return d.jsx(n.Provider,{value:f,children:a})};i.displayName=e+"Provider";function s(l){const a=S.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[i,s]}function en(e,t=[]){let n=[];function i(l,a){const u=S.createContext(a),f=n.length;n=[...n,a];const h=m=>{var E;const{scope:g,children:x,...C}=m,w=((E=g==null?void 0:g[e])==null?void 0:E[f])||u,N=S.useMemo(()=>C,Object.values(C));return d.jsx(w.Provider,{value:N,children:x})};h.displayName=l+"Provider";function v(m,g){var w;const x=((w=g==null?void 0:g[e])==null?void 0:w[f])||u,C=S.useContext(x);if(C)return C;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${l}\``)}return[h,v]}const s=()=>{const l=n.map(a=>S.createContext(a));return function(u){const f=(u==null?void 0:u[e])||l;return S.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return s.scopeName=e,[i,kI(s,...t)]}function kI(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const a=i.reduce((u,{useScope:f,scopeName:h})=>{const m=f(l)[`__scope${h}`];return{...u,...m}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Ht(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>{var i;return(i=t.current)==null?void 0:i.call(t,...n)},[])}var PI=S.createContext(void 0);function ei(e){const t=S.useContext(PI);return e||t||"ltr"}function zl(e,[t,n]){return Math.min(n,Math.max(t,e))}function _e(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function jI(e,t){return S.useReducer((n,i)=>t[n][i]??n,e)}var Fh="ScrollArea",[BS,s4]=en(Fh),[RI,wn]=BS(Fh),VS=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:i="hover",dir:s,scrollHideDelay:l=600,...a}=e,[u,f]=S.useState(null),[h,v]=S.useState(null),[m,g]=S.useState(null),[x,C]=S.useState(null),[w,N]=S.useState(null),[E,P]=S.useState(0),[_,k]=S.useState(0),[A,D]=S.useState(!1),[R,O]=S.useState(!1),W=ze(t,X=>f(X)),Q=ei(s);return d.jsx(RI,{scope:n,type:i,dir:Q,scrollHideDelay:l,scrollArea:u,viewport:h,onViewportChange:v,content:m,onContentChange:g,scrollbarX:x,onScrollbarXChange:C,scrollbarXEnabled:A,onScrollbarXEnabledChange:D,scrollbarY:w,onScrollbarYChange:N,scrollbarYEnabled:R,onScrollbarYEnabledChange:O,onCornerWidthChange:P,onCornerHeightChange:k,children:d.jsx(je.div,{dir:Q,...a,ref:W,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});VS.displayName=Fh;var HS="ScrollAreaViewport",WS=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:i,nonce:s,...l}=e,a=wn(HS,n),u=S.useRef(null),f=ze(t,u,a.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(je.div,{"data-radix-scroll-area-viewport":"",...l,ref:f,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});WS.displayName=HS;var tr="ScrollAreaScrollbar",US=S.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=wn(tr,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:a}=s,u=e.orientation==="horizontal";return S.useEffect(()=>(u?l(!0):a(!0),()=>{u?l(!1):a(!1)}),[u,l,a]),s.type==="hover"?d.jsx(TI,{...i,ref:t,forceMount:n}):s.type==="scroll"?d.jsx(AI,{...i,ref:t,forceMount:n}):s.type==="auto"?d.jsx(GS,{...i,ref:t,forceMount:n}):s.type==="always"?d.jsx(Bh,{...i,ref:t}):null});US.displayName=tr;var TI=S.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=wn(tr,e.__scopeScrollArea),[l,a]=S.useState(!1);return S.useEffect(()=>{const u=s.scrollArea;let f=0;if(u){const h=()=>{window.clearTimeout(f),a(!0)},v=()=>{f=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",h),u.addEventListener("pointerleave",v),()=>{window.clearTimeout(f),u.removeEventListener("pointerenter",h),u.removeEventListener("pointerleave",v)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx(Wt,{present:n||l,children:d.jsx(GS,{"data-state":l?"visible":"hidden",...i,ref:t})})}),AI=S.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=wn(tr,e.__scopeScrollArea),l=e.orientation==="horizontal",a=Iu(()=>f("SCROLL_END"),100),[u,f]=jI("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(u==="idle"){const h=window.setTimeout(()=>f("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[u,s.scrollHideDelay,f]),S.useEffect(()=>{const h=s.viewport,v=l?"scrollLeft":"scrollTop";if(h){let m=h[v];const g=()=>{const x=h[v];m!==x&&(f("SCROLL"),a()),m=x};return h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[s.viewport,l,f,a]),d.jsx(Wt,{present:n||u!=="hidden",children:d.jsx(Bh,{"data-state":u==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:_e(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:_e(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),GS=S.forwardRef((e,t)=>{const n=wn(tr,e.__scopeScrollArea),{forceMount:i,...s}=e,[l,a]=S.useState(!1),u=e.orientation==="horizontal",f=Iu(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,v=n.viewport.offsetHeight<n.viewport.scrollHeight;a(u?h:v)}},10);return os(n.viewport,f),os(n.content,f),d.jsx(Wt,{present:i||l,children:d.jsx(Bh,{"data-state":l?"visible":"hidden",...s,ref:t})})}),Bh=S.forwardRef((e,t)=>{const{orientation:n="vertical",...i}=e,s=wn(tr,e.__scopeScrollArea),l=S.useRef(null),a=S.useRef(0),[u,f]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=QS(u.viewport,u.content),v={...i,sizes:u,onSizesChange:f,hasThumb:h>0&&h<1,onThumbChange:g=>l.current=g,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:g=>a.current=g};function m(g,x){return zI(g,a.current,u,x)}return n==="horizontal"?d.jsx(MI,{...v,ref:t,onThumbPositionChange:()=>{if(s.viewport&&l.current){const g=s.viewport.scrollLeft,x=Tx(g,u,s.dir);l.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollLeft=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollLeft=m(g,s.dir))}}):n==="vertical"?d.jsx(II,{...v,ref:t,onThumbPositionChange:()=>{if(s.viewport&&l.current){const g=s.viewport.scrollTop,x=Tx(g,u);l.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollTop=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollTop=m(g))}}):null}),MI=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...s}=e,l=wn(tr,e.__scopeScrollArea),[a,u]=S.useState(),f=S.useRef(null),h=ze(t,f,l.onScrollbarXChange);return S.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),d.jsx(XS,{"data-orientation":"horizontal",...s,ref:h,sizes:n,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mu(n)+"px",...e.style},onThumbPointerDown:v=>e.onThumbPointerDown(v.x),onDragScroll:v=>e.onDragScroll(v.x),onWheelScroll:(v,m)=>{if(l.viewport){const g=l.viewport.scrollLeft+v.deltaX;e.onWheelScroll(g),JS(g,m)&&v.preventDefault()}},onResize:()=>{f.current&&l.viewport&&a&&i({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:iu(a.paddingLeft),paddingEnd:iu(a.paddingRight)}})}})}),II=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...s}=e,l=wn(tr,e.__scopeScrollArea),[a,u]=S.useState(),f=S.useRef(null),h=ze(t,f,l.onScrollbarYChange);return S.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),d.jsx(XS,{"data-orientation":"vertical",...s,ref:h,sizes:n,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mu(n)+"px",...e.style},onThumbPointerDown:v=>e.onThumbPointerDown(v.y),onDragScroll:v=>e.onDragScroll(v.y),onWheelScroll:(v,m)=>{if(l.viewport){const g=l.viewport.scrollTop+v.deltaY;e.onWheelScroll(g),JS(g,m)&&v.preventDefault()}},onResize:()=>{f.current&&l.viewport&&a&&i({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:iu(a.paddingTop),paddingEnd:iu(a.paddingBottom)}})}})}),[DI,YS]=BS(tr),XS=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:s,onThumbChange:l,onThumbPointerUp:a,onThumbPointerDown:u,onThumbPositionChange:f,onDragScroll:h,onWheelScroll:v,onResize:m,...g}=e,x=wn(tr,n),[C,w]=S.useState(null),N=ze(t,W=>w(W)),E=S.useRef(null),P=S.useRef(""),_=x.viewport,k=i.content-i.viewport,A=Ht(v),D=Ht(f),R=Iu(m,10);function O(W){if(E.current){const Q=W.clientX-E.current.left,X=W.clientY-E.current.top;h({x:Q,y:X})}}return S.useEffect(()=>{const W=Q=>{const X=Q.target;(C==null?void 0:C.contains(X))&&A(Q,k)};return document.addEventListener("wheel",W,{passive:!1}),()=>document.removeEventListener("wheel",W,{passive:!1})},[_,C,k,A]),S.useEffect(D,[i,D]),os(C,R),os(x.content,R),d.jsx(DI,{scope:n,scrollbar:C,hasThumb:s,onThumbChange:Ht(l),onThumbPointerUp:Ht(a),onThumbPositionChange:D,onThumbPointerDown:Ht(u),children:d.jsx(je.div,{...g,ref:N,style:{position:"absolute",...g.style},onPointerDown:_e(e.onPointerDown,W=>{W.button===0&&(W.target.setPointerCapture(W.pointerId),E.current=C.getBoundingClientRect(),P.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),O(W))}),onPointerMove:_e(e.onPointerMove,O),onPointerUp:_e(e.onPointerUp,W=>{const Q=W.target;Q.hasPointerCapture(W.pointerId)&&Q.releasePointerCapture(W.pointerId),document.body.style.webkitUserSelect=P.current,x.viewport&&(x.viewport.style.scrollBehavior=""),E.current=null})})})}),ou="ScrollAreaThumb",KS=S.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=YS(ou,e.__scopeScrollArea);return d.jsx(Wt,{present:n||s.hasThumb,children:d.jsx(OI,{ref:t,...i})})}),OI=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:i,...s}=e,l=wn(ou,n),a=YS(ou,n),{onThumbPositionChange:u}=a,f=ze(t,m=>a.onThumbChange(m)),h=S.useRef(void 0),v=Iu(()=>{h.current&&(h.current(),h.current=void 0)},100);return S.useEffect(()=>{const m=l.viewport;if(m){const g=()=>{if(v(),!h.current){const x=$I(m,u);h.current=x,u()}};return u(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[l.viewport,v,u]),d.jsx(je.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:_e(e.onPointerDownCapture,m=>{const x=m.target.getBoundingClientRect(),C=m.clientX-x.left,w=m.clientY-x.top;a.onThumbPointerDown({x:C,y:w})}),onPointerUp:_e(e.onPointerUp,a.onThumbPointerUp)})});KS.displayName=ou;var Vh="ScrollAreaCorner",qS=S.forwardRef((e,t)=>{const n=wn(Vh,e.__scopeScrollArea),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?d.jsx(LI,{...e,ref:t}):null});qS.displayName=Vh;var LI=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,...i}=e,s=wn(Vh,n),[l,a]=S.useState(0),[u,f]=S.useState(0),h=!!(l&&u);return os(s.scrollbarX,()=>{var m;const v=((m=s.scrollbarX)==null?void 0:m.offsetHeight)||0;s.onCornerHeightChange(v),f(v)}),os(s.scrollbarY,()=>{var m;const v=((m=s.scrollbarY)==null?void 0:m.offsetWidth)||0;s.onCornerWidthChange(v),a(v)}),h?d.jsx(je.div,{...i,ref:t,style:{width:l,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function iu(e){return e?parseInt(e,10):0}function QS(e,t){const n=e/t;return isNaN(n)?0:n}function Mu(e){const t=QS(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-n)*t;return Math.max(i,18)}function zI(e,t,n,i="ltr"){const s=Mu(n),l=s/2,a=t||l,u=s-a,f=n.scrollbar.paddingStart+a,h=n.scrollbar.size-n.scrollbar.paddingEnd-u,v=n.content-n.viewport,m=i==="ltr"?[0,v]:[v*-1,0];return ZS([f,h],m)(e)}function Tx(e,t,n="ltr"){const i=Mu(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-s,a=t.content-t.viewport,u=l-i,f=n==="ltr"?[0,a]:[a*-1,0],h=zl(e,f);return ZS([0,a],[0,u])(h)}function ZS(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function JS(e,t){return e>0&&e<t}var $I=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},i=0;return function s(){const l={left:e.scrollLeft,top:e.scrollTop},a=n.left!==l.left,u=n.top!==l.top;(a||u)&&t(),n=l,i=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(i)};function Iu(e,t){const n=Ht(e),i=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(i.current),[]),S.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,t)},[n,t])}function os(e,t){const n=Ht(t);Pt(()=>{let i=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(i),s.unobserve(e)}}},[e,n])}var FI=VS,BI=WS,VI=qS;function HI({className:e,children:t,...n}){return d.jsxs(FI,{"data-slot":"scroll-area",className:He("relative",e),...n,children:[d.jsx(BI,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),d.jsx(WI,{}),d.jsx(VI,{})]})}function WI({className:e,orientation:t="vertical",...n}){return d.jsx(US,{"data-slot":"scroll-area-scrollbar",orientation:t,className:He("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:d.jsx(KS,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var UI="Label",e1=S.forwardRef((e,t)=>d.jsx(je.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));e1.displayName=UI;var GI=e1;function Ie({className:e,...t}){return d.jsx(GI,{"data-slot":"label",className:He("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function at({className:e,type:t,...n}){return d.jsx("input",{type:t,"data-slot":"input",className:He("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}function Hh(e){const t=e+"CollectionProvider",[n,i]=en(t),[s,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=w=>{const{scope:N,children:E}=w,P=Fe.useRef(null),_=Fe.useRef(new Map).current;return d.jsx(s,{scope:N,itemMap:_,collectionRef:P,children:E})};a.displayName=t;const u=e+"CollectionSlot",f=Xo(u),h=Fe.forwardRef((w,N)=>{const{scope:E,children:P}=w,_=l(u,E),k=ze(N,_.collectionRef);return d.jsx(f,{ref:k,children:P})});h.displayName=u;const v=e+"CollectionItemSlot",m="data-radix-collection-item",g=Xo(v),x=Fe.forwardRef((w,N)=>{const{scope:E,children:P,..._}=w,k=Fe.useRef(null),A=ze(N,k),D=l(v,E);return Fe.useEffect(()=>(D.itemMap.set(k,{ref:k,..._}),()=>void D.itemMap.delete(k))),d.jsx(g,{[m]:"",ref:A,children:P})});x.displayName=v;function C(w){const N=l(e+"CollectionConsumer",w);return Fe.useCallback(()=>{const P=N.collectionRef.current;if(!P)return[];const _=Array.from(P.querySelectorAll(`[${m}]`));return Array.from(N.itemMap.values()).sort((D,R)=>_.indexOf(D.ref.current)-_.indexOf(R.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:a,Slot:h,ItemSlot:x},C,i]}function YI(e,t=globalThis==null?void 0:globalThis.document){const n=Ht(e);S.useEffect(()=>{const i=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var XI="DismissableLayer",Kp="dismissableLayer.update",KI="dismissableLayer.pointerDownOutside",qI="dismissableLayer.focusOutside",Ax,t1=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ql=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:l,onInteractOutside:a,onDismiss:u,...f}=e,h=S.useContext(t1),[v,m]=S.useState(null),g=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=S.useState({}),C=ze(t,R=>m(R)),w=Array.from(h.layers),[N]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(N),P=v?w.indexOf(v):-1,_=h.layersWithOutsidePointerEventsDisabled.size>0,k=P>=E,A=JI(R=>{const O=R.target,W=[...h.branches].some(Q=>Q.contains(O));!k||W||(s==null||s(R),a==null||a(R),R.defaultPrevented||u==null||u())},g),D=eD(R=>{const O=R.target;[...h.branches].some(Q=>Q.contains(O))||(l==null||l(R),a==null||a(R),R.defaultPrevented||u==null||u())},g);return YI(R=>{P===h.layers.size-1&&(i==null||i(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},g),S.useEffect(()=>{if(v)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Ax=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(v)),h.layers.add(v),Mx(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Ax)}},[v,g,n,h]),S.useEffect(()=>()=>{v&&(h.layers.delete(v),h.layersWithOutsidePointerEventsDisabled.delete(v),Mx())},[v,h]),S.useEffect(()=>{const R=()=>x({});return document.addEventListener(Kp,R),()=>document.removeEventListener(Kp,R)},[]),d.jsx(je.div,{...f,ref:C,style:{pointerEvents:_?k?"auto":"none":void 0,...e.style},onFocusCapture:_e(e.onFocusCapture,D.onFocusCapture),onBlurCapture:_e(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:_e(e.onPointerDownCapture,A.onPointerDownCapture)})});Ql.displayName=XI;var QI="DismissableLayerBranch",ZI=S.forwardRef((e,t)=>{const n=S.useContext(t1),i=S.useRef(null),s=ze(t,i);return S.useEffect(()=>{const l=i.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),d.jsx(je.div,{...e,ref:s})});ZI.displayName=QI;function JI(e,t=globalThis==null?void 0:globalThis.document){const n=Ht(e),i=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const l=u=>{if(u.target&&!i.current){let f=function(){n1(KI,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=f,t.addEventListener("click",s.current,{once:!0})):f()}else t.removeEventListener("click",s.current);i.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",l),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function eD(e,t=globalThis==null?void 0:globalThis.document){const n=Ht(e),i=S.useRef(!1);return S.useEffect(()=>{const s=l=>{l.target&&!i.current&&n1(qI,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Mx(){const e=new CustomEvent(Kp);document.dispatchEvent(e)}function n1(e,t,n,{discrete:i}){const s=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?hI(s,l):s.dispatchEvent(l)}var vp=0;function Wh(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ix()),document.body.insertAdjacentElement("beforeend",e[1]??Ix()),vp++,()=>{vp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vp--}},[])}function Ix(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yp="focusScope.autoFocusOnMount",xp="focusScope.autoFocusOnUnmount",Dx={bubbles:!1,cancelable:!0},tD="FocusScope",Du=S.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:l,...a}=e,[u,f]=S.useState(null),h=Ht(s),v=Ht(l),m=S.useRef(null),g=ze(t,w=>f(w)),x=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(i){let w=function(_){if(x.paused||!u)return;const k=_.target;u.contains(k)?m.current=k:Jr(m.current,{select:!0})},N=function(_){if(x.paused||!u)return;const k=_.relatedTarget;k!==null&&(u.contains(k)||Jr(m.current,{select:!0}))},E=function(_){if(document.activeElement===document.body)for(const A of _)A.removedNodes.length>0&&Jr(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",N);const P=new MutationObserver(E);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",N),P.disconnect()}}},[i,u,x.paused]),S.useEffect(()=>{if(u){Lx.add(x);const w=document.activeElement;if(!u.contains(w)){const E=new CustomEvent(yp,Dx);u.addEventListener(yp,h),u.dispatchEvent(E),E.defaultPrevented||(nD(lD(r1(u)),{select:!0}),document.activeElement===w&&Jr(u))}return()=>{u.removeEventListener(yp,h),setTimeout(()=>{const E=new CustomEvent(xp,Dx);u.addEventListener(xp,v),u.dispatchEvent(E),E.defaultPrevented||Jr(w??document.body,{select:!0}),u.removeEventListener(xp,v),Lx.remove(x)},0)}}},[u,h,v,x]);const C=S.useCallback(w=>{if(!n&&!i||x.paused)return;const N=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(N&&E){const P=w.currentTarget,[_,k]=rD(P);_&&k?!w.shiftKey&&E===k?(w.preventDefault(),n&&Jr(_,{select:!0})):w.shiftKey&&E===_&&(w.preventDefault(),n&&Jr(k,{select:!0})):E===P&&w.preventDefault()}},[n,i,x.paused]);return d.jsx(je.div,{tabIndex:-1,...a,ref:g,onKeyDown:C})});Du.displayName=tD;function nD(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(Jr(i,{select:t}),document.activeElement!==n)return}function rD(e){const t=r1(e),n=Ox(t,e),i=Ox(t.reverse(),e);return[n,i]}function r1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ox(e,t){for(const n of e)if(!oD(n,{upTo:t}))return n}function oD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function iD(e){return e instanceof HTMLInputElement&&"select"in e}function Jr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&iD(e)&&t&&e.select()}}var Lx=sD();function sD(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=zx(e,t),e.unshift(t)},remove(t){var n;e=zx(e,t),(n=e[0])==null||n.resume()}}}function zx(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function lD(e){return e.filter(t=>t.tagName!=="A")}var aD=pu[" useId ".trim().toString()]||(()=>{}),cD=0;function On(e){const[t,n]=S.useState(aD());return Pt(()=>{n(i=>i??String(cD++))},[e]),t?`radix-${t}`:""}const uD=["top","right","bottom","left"],co=Math.min,an=Math.max,su=Math.round,Pc=Math.floor,Qn=e=>({x:e,y:e}),dD={left:"right",right:"left",bottom:"top",top:"bottom"},fD={start:"end",end:"start"};function qp(e,t,n){return an(e,co(t,n))}function Nr(e,t){return typeof e=="function"?e(t):e}function Cr(e){return e.split("-")[0]}function fs(e){return e.split("-")[1]}function Uh(e){return e==="x"?"y":"x"}function Gh(e){return e==="y"?"height":"width"}function uo(e){return["top","bottom"].includes(Cr(e))?"y":"x"}function Yh(e){return Uh(uo(e))}function pD(e,t,n){n===void 0&&(n=!1);const i=fs(e),s=Yh(e),l=Gh(s);let a=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(a=lu(a)),[a,lu(a)]}function hD(e){const t=lu(e);return[Qp(e),t,Qp(t)]}function Qp(e){return e.replace(/start|end/g,t=>fD[t])}function mD(e,t,n){const i=["left","right"],s=["right","left"],l=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:i:t?i:s;case"left":case"right":return t?l:a;default:return[]}}function gD(e,t,n,i){const s=fs(e);let l=mD(Cr(e),n==="start",i);return s&&(l=l.map(a=>a+"-"+s),t&&(l=l.concat(l.map(Qp)))),l}function lu(e){return e.replace(/left|right|bottom|top/g,t=>dD[t])}function vD(e){return{top:0,right:0,bottom:0,left:0,...e}}function o1(e){return typeof e!="number"?vD(e):{top:e,right:e,bottom:e,left:e}}function au(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function $x(e,t,n){let{reference:i,floating:s}=e;const l=uo(t),a=Yh(t),u=Gh(a),f=Cr(t),h=l==="y",v=i.x+i.width/2-s.width/2,m=i.y+i.height/2-s.height/2,g=i[u]/2-s[u]/2;let x;switch(f){case"top":x={x:v,y:i.y-s.height};break;case"bottom":x={x:v,y:i.y+i.height};break;case"right":x={x:i.x+i.width,y:m};break;case"left":x={x:i.x-s.width,y:m};break;default:x={x:i.x,y:i.y}}switch(fs(t)){case"start":x[a]-=g*(n&&h?-1:1);break;case"end":x[a]+=g*(n&&h?-1:1);break}return x}const yD=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:l=[],platform:a}=n,u=l.filter(Boolean),f=await(a.isRTL==null?void 0:a.isRTL(t));let h=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:v,y:m}=$x(h,i,f),g=i,x={},C=0;for(let w=0;w<u.length;w++){const{name:N,fn:E}=u[w],{x:P,y:_,data:k,reset:A}=await E({x:v,y:m,initialPlacement:i,placement:g,strategy:s,middlewareData:x,rects:h,platform:a,elements:{reference:e,floating:t}});v=P??v,m=_??m,x={...x,[N]:{...x[N],...k}},A&&C<=50&&(C++,typeof A=="object"&&(A.placement&&(g=A.placement),A.rects&&(h=A.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):A.rects),{x:v,y:m}=$x(h,g,f)),w=-1)}return{x:v,y:m,placement:g,strategy:s,middlewareData:x}};async function $l(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:l,rects:a,elements:u,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:v="viewport",elementContext:m="floating",altBoundary:g=!1,padding:x=0}=Nr(t,e),C=o1(x),N=u[g?m==="floating"?"reference":"floating":m],E=au(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(N)))==null||n?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:h,rootBoundary:v,strategy:f})),P=m==="floating"?{x:i,y:s,width:a.floating.width,height:a.floating.height}:a.reference,_=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),k=await(l.isElement==null?void 0:l.isElement(_))?await(l.getScale==null?void 0:l.getScale(_))||{x:1,y:1}:{x:1,y:1},A=au(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:P,offsetParent:_,strategy:f}):P);return{top:(E.top-A.top+C.top)/k.y,bottom:(A.bottom-E.bottom+C.bottom)/k.y,left:(E.left-A.left+C.left)/k.x,right:(A.right-E.right+C.right)/k.x}}const xD=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:l,platform:a,elements:u,middlewareData:f}=t,{element:h,padding:v=0}=Nr(e,t)||{};if(h==null)return{};const m=o1(v),g={x:n,y:i},x=Yh(s),C=Gh(x),w=await a.getDimensions(h),N=x==="y",E=N?"top":"left",P=N?"bottom":"right",_=N?"clientHeight":"clientWidth",k=l.reference[C]+l.reference[x]-g[x]-l.floating[C],A=g[x]-l.reference[x],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let R=D?D[_]:0;(!R||!await(a.isElement==null?void 0:a.isElement(D)))&&(R=u.floating[_]||l.floating[C]);const O=k/2-A/2,W=R/2-w[C]/2-1,Q=co(m[E],W),X=co(m[P],W),J=Q,te=R-w[C]-X,T=R/2-w[C]/2+O,V=qp(J,T,te),L=!f.arrow&&fs(s)!=null&&T!==V&&l.reference[C]/2-(T<J?Q:X)-w[C]/2<0,F=L?T<J?T-J:T-te:0;return{[x]:g[x]+F,data:{[x]:V,centerOffset:T-V-F,...L&&{alignmentOffset:F}},reset:L}}}),wD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:l,rects:a,initialPlacement:u,platform:f,elements:h}=t,{mainAxis:v=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:w=!0,...N}=Nr(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const E=Cr(s),P=uo(u),_=Cr(u)===u,k=await(f.isRTL==null?void 0:f.isRTL(h.floating)),A=g||(_||!w?[lu(u)]:hD(u)),D=C!=="none";!g&&D&&A.push(...gD(u,w,C,k));const R=[u,...A],O=await $l(t,N),W=[];let Q=((i=l.flip)==null?void 0:i.overflows)||[];if(v&&W.push(O[E]),m){const T=pD(s,a,k);W.push(O[T[0]],O[T[1]])}if(Q=[...Q,{placement:s,overflows:W}],!W.every(T=>T<=0)){var X,J;const T=(((X=l.flip)==null?void 0:X.index)||0)+1,V=R[T];if(V)return{data:{index:T,overflows:Q},reset:{placement:V}};let L=(J=Q.filter(F=>F.overflows[0]<=0).sort((F,M)=>F.overflows[1]-M.overflows[1])[0])==null?void 0:J.placement;if(!L)switch(x){case"bestFit":{var te;const F=(te=Q.filter(M=>{if(D){const z=uo(M.placement);return z===P||z==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(z=>z>0).reduce((z,Y)=>z+Y,0)]).sort((M,z)=>M[1]-z[1])[0])==null?void 0:te[0];F&&(L=F);break}case"initialPlacement":L=u;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function Fx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Bx(e){return uD.some(t=>e[t]>=0)}const SD=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...s}=Nr(e,t);switch(i){case"referenceHidden":{const l=await $l(t,{...s,elementContext:"reference"}),a=Fx(l,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Bx(a)}}}case"escaped":{const l=await $l(t,{...s,altBoundary:!0}),a=Fx(l,n.floating);return{data:{escapedOffsets:a,escaped:Bx(a)}}}default:return{}}}}};async function bD(e,t){const{placement:n,platform:i,elements:s}=e,l=await(i.isRTL==null?void 0:i.isRTL(s.floating)),a=Cr(n),u=fs(n),f=uo(n)==="y",h=["left","top"].includes(a)?-1:1,v=l&&f?-1:1,m=Nr(t,e);let{mainAxis:g,crossAxis:x,alignmentAxis:C}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof C=="number"&&(x=u==="end"?C*-1:C),f?{x:x*v,y:g*h}:{x:g*h,y:x*v}}const ND=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:l,placement:a,middlewareData:u}=t,f=await bD(t,e);return a===((n=u.offset)==null?void 0:n.placement)&&(i=u.arrow)!=null&&i.alignmentOffset?{}:{x:s+f.x,y:l+f.y,data:{...f,placement:a}}}}},CD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:l=!0,crossAxis:a=!1,limiter:u={fn:N=>{let{x:E,y:P}=N;return{x:E,y:P}}},...f}=Nr(e,t),h={x:n,y:i},v=await $l(t,f),m=uo(Cr(s)),g=Uh(m);let x=h[g],C=h[m];if(l){const N=g==="y"?"top":"left",E=g==="y"?"bottom":"right",P=x+v[N],_=x-v[E];x=qp(P,x,_)}if(a){const N=m==="y"?"top":"left",E=m==="y"?"bottom":"right",P=C+v[N],_=C-v[E];C=qp(P,C,_)}const w=u.fn({...t,[g]:x,[m]:C});return{...w,data:{x:w.x-n,y:w.y-i,enabled:{[g]:l,[m]:a}}}}}},_D=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:s,rects:l,middlewareData:a}=t,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=Nr(e,t),v={x:n,y:i},m=uo(s),g=Uh(m);let x=v[g],C=v[m];const w=Nr(u,t),N=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const _=g==="y"?"height":"width",k=l.reference[g]-l.floating[_]+N.mainAxis,A=l.reference[g]+l.reference[_]-N.mainAxis;x<k?x=k:x>A&&(x=A)}if(h){var E,P;const _=g==="y"?"width":"height",k=["top","left"].includes(Cr(s)),A=l.reference[m]-l.floating[_]+(k&&((E=a.offset)==null?void 0:E[m])||0)+(k?0:N.crossAxis),D=l.reference[m]+l.reference[_]+(k?0:((P=a.offset)==null?void 0:P[m])||0)-(k?N.crossAxis:0);C<A?C=A:C>D&&(C=D)}return{[g]:x,[m]:C}}}},ED=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:s,rects:l,platform:a,elements:u}=t,{apply:f=()=>{},...h}=Nr(e,t),v=await $l(t,h),m=Cr(s),g=fs(s),x=uo(s)==="y",{width:C,height:w}=l.floating;let N,E;m==="top"||m==="bottom"?(N=m,E=g===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(E=m,N=g==="end"?"top":"bottom");const P=w-v.top-v.bottom,_=C-v.left-v.right,k=co(w-v[N],P),A=co(C-v[E],_),D=!t.middlewareData.shift;let R=k,O=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=_),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(R=P),D&&!g){const Q=an(v.left,0),X=an(v.right,0),J=an(v.top,0),te=an(v.bottom,0);x?O=C-2*(Q!==0||X!==0?Q+X:an(v.left,v.right)):R=w-2*(J!==0||te!==0?J+te:an(v.top,v.bottom))}await f({...t,availableWidth:O,availableHeight:R});const W=await a.getDimensions(u.floating);return C!==W.width||w!==W.height?{reset:{rects:!0}}:{}}}};function Ou(){return typeof window<"u"}function ps(e){return i1(e)?(e.nodeName||"").toLowerCase():"#document"}function un(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nr(e){var t;return(t=(i1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function i1(e){return Ou()?e instanceof Node||e instanceof un(e).Node:!1}function Ln(e){return Ou()?e instanceof Element||e instanceof un(e).Element:!1}function Jn(e){return Ou()?e instanceof HTMLElement||e instanceof un(e).HTMLElement:!1}function Vx(e){return!Ou()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof un(e).ShadowRoot}function Zl(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=zn(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function kD(e){return["table","td","th"].includes(ps(e))}function Lu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Xh(e){const t=Kh(),n=Ln(e)?zn(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function PD(e){let t=fo(e);for(;Jn(t)&&!is(t);){if(Xh(t))return t;if(Lu(t))return null;t=fo(t)}return null}function Kh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function is(e){return["html","body","#document"].includes(ps(e))}function zn(e){return un(e).getComputedStyle(e)}function zu(e){return Ln(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fo(e){if(ps(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Vx(e)&&e.host||nr(e);return Vx(t)?t.host:t}function s1(e){const t=fo(e);return is(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jn(t)&&Zl(t)?t:s1(t)}function Fl(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=s1(e),l=s===((i=e.ownerDocument)==null?void 0:i.body),a=un(s);if(l){const u=Zp(a);return t.concat(a,a.visualViewport||[],Zl(s)?s:[],u&&n?Fl(u):[])}return t.concat(s,Fl(s,[],n))}function Zp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function l1(e){const t=zn(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=Jn(e),l=s?e.offsetWidth:n,a=s?e.offsetHeight:i,u=su(n)!==l||su(i)!==a;return u&&(n=l,i=a),{width:n,height:i,$:u}}function qh(e){return Ln(e)?e:e.contextElement}function Ki(e){const t=qh(e);if(!Jn(t))return Qn(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:l}=l1(t);let a=(l?su(n.width):n.width)/i,u=(l?su(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const jD=Qn(0);function a1(e){const t=un(e);return!Kh()||!t.visualViewport?jD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function RD(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==un(e)?!1:t}function Ko(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),l=qh(e);let a=Qn(1);t&&(i?Ln(i)&&(a=Ki(i)):a=Ki(e));const u=RD(l,n,i)?a1(l):Qn(0);let f=(s.left+u.x)/a.x,h=(s.top+u.y)/a.y,v=s.width/a.x,m=s.height/a.y;if(l){const g=un(l),x=i&&Ln(i)?un(i):i;let C=g,w=Zp(C);for(;w&&i&&x!==C;){const N=Ki(w),E=w.getBoundingClientRect(),P=zn(w),_=E.left+(w.clientLeft+parseFloat(P.paddingLeft))*N.x,k=E.top+(w.clientTop+parseFloat(P.paddingTop))*N.y;f*=N.x,h*=N.y,v*=N.x,m*=N.y,f+=_,h+=k,C=un(w),w=Zp(C)}}return au({width:v,height:m,x:f,y:h})}function Qh(e,t){const n=zu(e).scrollLeft;return t?t.left+n:Ko(nr(e)).left+n}function c1(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=i.left+t.scrollLeft-(n?0:Qh(e,i)),l=i.top+t.scrollTop;return{x:s,y:l}}function TD(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const l=s==="fixed",a=nr(i),u=t?Lu(t.floating):!1;if(i===a||u&&l)return n;let f={scrollLeft:0,scrollTop:0},h=Qn(1);const v=Qn(0),m=Jn(i);if((m||!m&&!l)&&((ps(i)!=="body"||Zl(a))&&(f=zu(i)),Jn(i))){const x=Ko(i);h=Ki(i),v.x=x.x+i.clientLeft,v.y=x.y+i.clientTop}const g=a&&!m&&!l?c1(a,f,!0):Qn(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+v.x+g.x,y:n.y*h.y-f.scrollTop*h.y+v.y+g.y}}function AD(e){return Array.from(e.getClientRects())}function MD(e){const t=nr(e),n=zu(e),i=e.ownerDocument.body,s=an(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),l=an(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+Qh(e);const u=-n.scrollTop;return zn(i).direction==="rtl"&&(a+=an(t.clientWidth,i.clientWidth)-s),{width:s,height:l,x:a,y:u}}function ID(e,t){const n=un(e),i=nr(e),s=n.visualViewport;let l=i.clientWidth,a=i.clientHeight,u=0,f=0;if(s){l=s.width,a=s.height;const h=Kh();(!h||h&&t==="fixed")&&(u=s.offsetLeft,f=s.offsetTop)}return{width:l,height:a,x:u,y:f}}function DD(e,t){const n=Ko(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,l=Jn(e)?Ki(e):Qn(1),a=e.clientWidth*l.x,u=e.clientHeight*l.y,f=s*l.x,h=i*l.y;return{width:a,height:u,x:f,y:h}}function Hx(e,t,n){let i;if(t==="viewport")i=ID(e,n);else if(t==="document")i=MD(nr(e));else if(Ln(t))i=DD(t,n);else{const s=a1(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return au(i)}function u1(e,t){const n=fo(e);return n===t||!Ln(n)||is(n)?!1:zn(n).position==="fixed"||u1(n,t)}function OD(e,t){const n=t.get(e);if(n)return n;let i=Fl(e,[],!1).filter(u=>Ln(u)&&ps(u)!=="body"),s=null;const l=zn(e).position==="fixed";let a=l?fo(e):e;for(;Ln(a)&&!is(a);){const u=zn(a),f=Xh(a);!f&&u.position==="fixed"&&(s=null),(l?!f&&!s:!f&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Zl(a)&&!f&&u1(e,a))?i=i.filter(v=>v!==a):s=u,a=fo(a)}return t.set(e,i),i}function LD(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const a=[...n==="clippingAncestors"?Lu(t)?[]:OD(t,this._c):[].concat(n),i],u=a[0],f=a.reduce((h,v)=>{const m=Hx(t,v,s);return h.top=an(m.top,h.top),h.right=co(m.right,h.right),h.bottom=co(m.bottom,h.bottom),h.left=an(m.left,h.left),h},Hx(t,u,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function zD(e){const{width:t,height:n}=l1(e);return{width:t,height:n}}function $D(e,t,n){const i=Jn(t),s=nr(t),l=n==="fixed",a=Ko(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const f=Qn(0);if(i||!i&&!l)if((ps(t)!=="body"||Zl(s))&&(u=zu(t)),i){const g=Ko(t,!0,l,t);f.x=g.x+t.clientLeft,f.y=g.y+t.clientTop}else s&&(f.x=Qh(s));const h=s&&!i&&!l?c1(s,u):Qn(0),v=a.left+u.scrollLeft-f.x-h.x,m=a.top+u.scrollTop-f.y-h.y;return{x:v,y:m,width:a.width,height:a.height}}function wp(e){return zn(e).position==="static"}function Wx(e,t){if(!Jn(e)||zn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return nr(e)===n&&(n=n.ownerDocument.body),n}function d1(e,t){const n=un(e);if(Lu(e))return n;if(!Jn(e)){let s=fo(e);for(;s&&!is(s);){if(Ln(s)&&!wp(s))return s;s=fo(s)}return n}let i=Wx(e,t);for(;i&&kD(i)&&wp(i);)i=Wx(i,t);return i&&is(i)&&wp(i)&&!Xh(i)?n:i||PD(e)||n}const FD=async function(e){const t=this.getOffsetParent||d1,n=this.getDimensions,i=await n(e.floating);return{reference:$D(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function BD(e){return zn(e).direction==="rtl"}const VD={convertOffsetParentRelativeRectToViewportRelativeRect:TD,getDocumentElement:nr,getClippingRect:LD,getOffsetParent:d1,getElementRects:FD,getClientRects:AD,getDimensions:zD,getScale:Ki,isElement:Ln,isRTL:BD};function f1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function HD(e,t){let n=null,i;const s=nr(e);function l(){var u;clearTimeout(i),(u=n)==null||u.disconnect(),n=null}function a(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const h=e.getBoundingClientRect(),{left:v,top:m,width:g,height:x}=h;if(u||t(),!g||!x)return;const C=Pc(m),w=Pc(s.clientWidth-(v+g)),N=Pc(s.clientHeight-(m+x)),E=Pc(v),_={rootMargin:-C+"px "+-w+"px "+-N+"px "+-E+"px",threshold:an(0,co(1,f))||1};let k=!0;function A(D){const R=D[0].intersectionRatio;if(R!==f){if(!k)return a();R?a(!1,R):i=setTimeout(()=>{a(!1,1e-7)},1e3)}R===1&&!f1(h,e.getBoundingClientRect())&&a(),k=!1}try{n=new IntersectionObserver(A,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,_)}n.observe(e)}return a(!0),l}function WD(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,h=qh(e),v=s||l?[...h?Fl(h):[],...Fl(t)]:[];v.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),l&&E.addEventListener("resize",n)});const m=h&&u?HD(h,n):null;let g=-1,x=null;a&&(x=new ResizeObserver(E=>{let[P]=E;P&&P.target===h&&x&&(x.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var _;(_=x)==null||_.observe(t)})),n()}),h&&!f&&x.observe(h),x.observe(t));let C,w=f?Ko(e):null;f&&N();function N(){const E=Ko(e);w&&!f1(w,E)&&n(),w=E,C=requestAnimationFrame(N)}return n(),()=>{var E;v.forEach(P=>{s&&P.removeEventListener("scroll",n),l&&P.removeEventListener("resize",n)}),m==null||m(),(E=x)==null||E.disconnect(),x=null,f&&cancelAnimationFrame(C)}}const UD=ND,GD=CD,YD=wD,XD=ED,KD=SD,Ux=xD,qD=_D,QD=(e,t,n)=>{const i=new Map,s={platform:VD,...n},l={...s.platform,_c:i};return yD(e,t,{...s,platform:l})};var Vc=typeof document<"u"?S.useLayoutEffect:S.useEffect;function cu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!cu(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const l=s[i];if(!(l==="_owner"&&e.$$typeof)&&!cu(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function p1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gx(e,t){const n=p1(e);return Math.round(t*n)/n}function Sp(e){const t=S.useRef(e);return Vc(()=>{t.current=e}),t}function ZD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,elements:{reference:l,floating:a}={},transform:u=!0,whileElementsMounted:f,open:h}=e,[v,m]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,x]=S.useState(i);cu(g,i)||x(i);const[C,w]=S.useState(null),[N,E]=S.useState(null),P=S.useCallback(M=>{M!==D.current&&(D.current=M,w(M))},[]),_=S.useCallback(M=>{M!==R.current&&(R.current=M,E(M))},[]),k=l||C,A=a||N,D=S.useRef(null),R=S.useRef(null),O=S.useRef(v),W=f!=null,Q=Sp(f),X=Sp(s),J=Sp(h),te=S.useCallback(()=>{if(!D.current||!R.current)return;const M={placement:t,strategy:n,middleware:g};X.current&&(M.platform=X.current),QD(D.current,R.current,M).then(z=>{const Y={...z,isPositioned:J.current!==!1};T.current&&!cu(O.current,Y)&&(O.current=Y,ds.flushSync(()=>{m(Y)}))})},[g,t,n,X,J]);Vc(()=>{h===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,m(M=>({...M,isPositioned:!1})))},[h]);const T=S.useRef(!1);Vc(()=>(T.current=!0,()=>{T.current=!1}),[]),Vc(()=>{if(k&&(D.current=k),A&&(R.current=A),k&&A){if(Q.current)return Q.current(k,A,te);te()}},[k,A,te,Q,W]);const V=S.useMemo(()=>({reference:D,floating:R,setReference:P,setFloating:_}),[P,_]),L=S.useMemo(()=>({reference:k,floating:A}),[k,A]),F=S.useMemo(()=>{const M={position:n,left:0,top:0};if(!L.floating)return M;const z=Gx(L.floating,v.x),Y=Gx(L.floating,v.y);return u?{...M,transform:"translate("+z+"px, "+Y+"px)",...p1(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:Y}},[n,u,L.floating,v.x,v.y]);return S.useMemo(()=>({...v,update:te,refs:V,elements:L,floatingStyles:F}),[v,te,V,L,F])}const JD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:s}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?Ux({element:i.current,padding:s}).fn(n):{}:i?Ux({element:i,padding:s}).fn(n):{}}}},eO=(e,t)=>({...UD(e),options:[e,t]}),tO=(e,t)=>({...GD(e),options:[e,t]}),nO=(e,t)=>({...qD(e),options:[e,t]}),rO=(e,t)=>({...YD(e),options:[e,t]}),oO=(e,t)=>({...XD(e),options:[e,t]}),iO=(e,t)=>({...KD(e),options:[e,t]}),sO=(e,t)=>({...JD(e),options:[e,t]});var lO="Arrow",h1=S.forwardRef((e,t)=>{const{children:n,width:i=10,height:s=5,...l}=e;return d.jsx(je.svg,{...l,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});h1.displayName=lO;var aO=h1;function Zh(e){const[t,n]=S.useState(void 0);return Pt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const l=s[0];let a,u;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;a=h.inlineSize,u=h.blockSize}else a=e.offsetWidth,u=e.offsetHeight;n({width:a,height:u})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var Jh="Popper",[m1,hs]=en(Jh),[cO,g1]=m1(Jh),v1=e=>{const{__scopePopper:t,children:n}=e,[i,s]=S.useState(null);return d.jsx(cO,{scope:t,anchor:i,onAnchorChange:s,children:n})};v1.displayName=Jh;var y1="PopperAnchor",x1=S.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...s}=e,l=g1(y1,n),a=S.useRef(null),u=ze(t,a);return S.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||a.current)}),i?null:d.jsx(je.div,{...s,ref:u})});x1.displayName=y1;var em="PopperContent",[uO,dO]=m1(em),w1=S.forwardRef((e,t)=>{var H,re,le,ae,fe,ce;const{__scopePopper:n,side:i="bottom",sideOffset:s=0,align:l="center",alignOffset:a=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:v=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:C,...w}=e,N=g1(em,n),[E,P]=S.useState(null),_=ze(t,ve=>P(ve)),[k,A]=S.useState(null),D=Zh(k),R=(D==null?void 0:D.width)??0,O=(D==null?void 0:D.height)??0,W=i+(l!=="center"?"-"+l:""),Q=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},X=Array.isArray(h)?h:[h],J=X.length>0,te={padding:Q,boundary:X.filter(pO),altBoundary:J},{refs:T,floatingStyles:V,placement:L,isPositioned:F,middlewareData:M}=ZD({strategy:"fixed",placement:W,whileElementsMounted:(...ve)=>WD(...ve,{animationFrame:x==="always"}),elements:{reference:N.anchor},middleware:[eO({mainAxis:s+O,alignmentAxis:a}),f&&tO({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?nO():void 0,...te}),f&&rO({...te}),oO({...te,apply:({elements:ve,rects:xe,availableWidth:Be,availableHeight:he})=>{const{width:Re,height:Pe}=xe.reference,Ue=ve.floating.style;Ue.setProperty("--radix-popper-available-width",`${Be}px`),Ue.setProperty("--radix-popper-available-height",`${he}px`),Ue.setProperty("--radix-popper-anchor-width",`${Re}px`),Ue.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),k&&sO({element:k,padding:u}),hO({arrowWidth:R,arrowHeight:O}),g&&iO({strategy:"referenceHidden",...te})]}),[z,Y]=N1(L),I=Ht(C);Pt(()=>{F&&(I==null||I())},[F,I]);const U=(H=M.arrow)==null?void 0:H.x,K=(re=M.arrow)==null?void 0:re.y,ee=((le=M.arrow)==null?void 0:le.centerOffset)!==0,[B,Z]=S.useState();return Pt(()=>{E&&Z(window.getComputedStyle(E).zIndex)},[E]),d.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:F?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B,"--radix-popper-transform-origin":[(ae=M.transformOrigin)==null?void 0:ae.x,(fe=M.transformOrigin)==null?void 0:fe.y].join(" "),...((ce=M.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(uO,{scope:n,placedSide:z,onArrowChange:A,arrowX:U,arrowY:K,shouldHideArrow:ee,children:d.jsx(je.div,{"data-side":z,"data-align":Y,...w,ref:_,style:{...w.style,animation:F?void 0:"none"}})})})});w1.displayName=em;var S1="PopperArrow",fO={top:"bottom",right:"left",bottom:"top",left:"right"},b1=S.forwardRef(function(t,n){const{__scopePopper:i,...s}=t,l=dO(S1,i),a=fO[l.placedSide];return d.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:d.jsx(aO,{...s,ref:n,style:{...s.style,display:"block"}})})});b1.displayName=S1;function pO(e){return e!==null}var hO=e=>({name:"transformOrigin",options:e,fn(t){var N,E,P;const{placement:n,rects:i,middlewareData:s}=t,a=((N=s.arrow)==null?void 0:N.centerOffset)!==0,u=a?0:e.arrowWidth,f=a?0:e.arrowHeight,[h,v]=N1(n),m={start:"0%",center:"50%",end:"100%"}[v],g=(((E=s.arrow)==null?void 0:E.x)??0)+u/2,x=(((P=s.arrow)==null?void 0:P.y)??0)+f/2;let C="",w="";return h==="bottom"?(C=a?m:`${g}px`,w=`${-f}px`):h==="top"?(C=a?m:`${g}px`,w=`${i.floating.height+f}px`):h==="right"?(C=`${-f}px`,w=a?m:`${x}px`):h==="left"&&(C=`${i.floating.width+f}px`,w=a?m:`${x}px`),{data:{x:C,y:w}}}});function N1(e){const[t,n="center"]=e.split("-");return[t,n]}var tm=v1,$u=x1,nm=w1,rm=b1,mO="Portal",Jl=S.forwardRef((e,t)=>{var u;const{container:n,...i}=e,[s,l]=S.useState(!1);Pt(()=>l(!0),[]);const a=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return a?AT.createPortal(d.jsx(je.div,{...i,ref:t}),a):null});Jl.displayName=mO;var gO=pu[" useInsertionEffect ".trim().toString()]||Pt;function fn({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[s,l,a]=vO({defaultProp:t,onChange:n}),u=e!==void 0,f=u?e:s;{const v=S.useRef(e!==void 0);S.useEffect(()=>{const m=v.current;m!==u&&console.warn(`${i} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=u},[u,i])}const h=S.useCallback(v=>{var m;if(u){const g=yO(v)?v(e):v;g!==e&&((m=a.current)==null||m.call(a,g))}else l(v)},[u,e,l,a]);return[f,h]}function vO({defaultProp:e,onChange:t}){const[n,i]=S.useState(e),s=S.useRef(n),l=S.useRef(t);return gO(()=>{l.current=t},[t]),S.useEffect(()=>{var a;s.current!==n&&((a=l.current)==null||a.call(l,n),s.current=n)},[n,s]),[n,i,l]}function yO(e){return typeof e=="function"}function om(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var C1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xO="VisuallyHidden",_1=S.forwardRef((e,t)=>d.jsx(je.span,{...e,ref:t,style:{...C1,...e.style}}));_1.displayName=xO;var wO=_1,SO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ii=new WeakMap,jc=new WeakMap,Rc={},bp=0,E1=function(e){return e&&(e.host||E1(e.parentNode))},bO=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=E1(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},NO=function(e,t,n,i){var s=bO(t,Array.isArray(e)?e:[e]);Rc[n]||(Rc[n]=new WeakMap);var l=Rc[n],a=[],u=new Set,f=new Set(s),h=function(m){!m||u.has(m)||(u.add(m),h(m.parentNode))};s.forEach(h);var v=function(m){!m||f.has(m)||Array.prototype.forEach.call(m.children,function(g){if(u.has(g))v(g);else try{var x=g.getAttribute(i),C=x!==null&&x!=="false",w=(Ii.get(g)||0)+1,N=(l.get(g)||0)+1;Ii.set(g,w),l.set(g,N),a.push(g),w===1&&C&&jc.set(g,!0),N===1&&g.setAttribute(n,"true"),C||g.setAttribute(i,"true")}catch(E){console.error("aria-hidden: cannot operate on ",g,E)}})};return v(t),u.clear(),bp++,function(){a.forEach(function(m){var g=Ii.get(m)-1,x=l.get(m)-1;Ii.set(m,g),l.set(m,x),g||(jc.has(m)||m.removeAttribute(i),jc.delete(m)),x||m.removeAttribute(n)}),bp--,bp||(Ii=new WeakMap,Ii=new WeakMap,jc=new WeakMap,Rc={})}},im=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),s=SO(e);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live]"))),NO(i,s,n,"aria-hidden")):function(){return null}},Kn=function(){return Kn=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Kn.apply(this,arguments)};function k1(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function CO(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,l;i<s;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))}var Hc="right-scroll-bar-position",Wc="width-before-scroll-bar",_O="with-scroll-bars-hidden",EO="--removed-body-scroll-bar-size";function Np(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function kO(e,t){var n=S.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var s=n.value;s!==i&&(n.value=i,n.callback(i,s))}}}})[0];return n.callback=t,n.facade}var PO=typeof window<"u"?S.useLayoutEffect:S.useEffect,Yx=new WeakMap;function jO(e,t){var n=kO(null,function(i){return e.forEach(function(s){return Np(s,i)})});return PO(function(){var i=Yx.get(n);if(i){var s=new Set(i),l=new Set(e),a=n.current;s.forEach(function(u){l.has(u)||Np(u,null)}),l.forEach(function(u){s.has(u)||Np(u,a)})}Yx.set(n,e)},[e]),n}function RO(e){return e}function TO(e,t){t===void 0&&(t=RO);var n=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var a=t(l,i);return n.push(a),function(){n=n.filter(function(u){return u!==a})}},assignSyncMedium:function(l){for(i=!0;n.length;){var a=n;n=[],a.forEach(l)}n={push:function(u){return l(u)},filter:function(){return n}}},assignMedium:function(l){i=!0;var a=[];if(n.length){var u=n;n=[],u.forEach(l),a=n}var f=function(){var v=a;a=[],v.forEach(l)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(v){a.push(v),h()},filter:function(v){return a=a.filter(v),n}}}};return s}function AO(e){e===void 0&&(e={});var t=TO(null);return t.options=Kn({async:!0,ssr:!1},e),t}var P1=function(e){var t=e.sideCar,n=k1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return S.createElement(i,Kn({},n))};P1.isSideCarExport=!0;function MO(e,t){return e.useMedium(t),P1}var j1=AO(),Cp=function(){},Fu=S.forwardRef(function(e,t){var n=S.useRef(null),i=S.useState({onScrollCapture:Cp,onWheelCapture:Cp,onTouchMoveCapture:Cp}),s=i[0],l=i[1],a=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,v=e.enabled,m=e.shards,g=e.sideCar,x=e.noIsolation,C=e.inert,w=e.allowPinchZoom,N=e.as,E=N===void 0?"div":N,P=e.gapMode,_=k1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=g,A=jO([n,t]),D=Kn(Kn({},_),s);return S.createElement(S.Fragment,null,v&&S.createElement(k,{sideCar:j1,removeScrollBar:h,shards:m,noIsolation:x,inert:C,setCallbacks:l,allowPinchZoom:!!w,lockRef:n,gapMode:P}),a?S.cloneElement(S.Children.only(u),Kn(Kn({},D),{ref:A})):S.createElement(E,Kn({},D,{className:f,ref:A}),u))});Fu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fu.classNames={fullWidth:Wc,zeroRight:Hc};var IO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function DO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=IO();return t&&e.setAttribute("nonce",t),e}function OO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function LO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var zO=function(){var e=0,t=null;return{add:function(n){e==0&&(t=DO())&&(OO(t,n),LO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$O=function(){var e=zO();return function(t,n){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},R1=function(){var e=$O(),t=function(n){var i=n.styles,s=n.dynamic;return e(i,s),null};return t},FO={left:0,top:0,right:0,gap:0},_p=function(e){return parseInt(e||"",10)||0},BO=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[_p(n),_p(i),_p(s)]},VO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return FO;var t=BO(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},HO=R1(),qi="data-scroll-locked",WO=function(e,t,n,i){var s=e.left,l=e.top,a=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(_O,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(u,"px ").concat(i,`;
  }
  body[`).concat(qi,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hc,` {
    right: `).concat(u,"px ").concat(i,`;
  }
  
  .`).concat(Wc,` {
    margin-right: `).concat(u,"px ").concat(i,`;
  }
  
  .`).concat(Hc," .").concat(Hc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Wc," .").concat(Wc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(qi,`] {
    `).concat(EO,": ").concat(u,`px;
  }
`)},Xx=function(){var e=parseInt(document.body.getAttribute(qi)||"0",10);return isFinite(e)?e:0},UO=function(){S.useEffect(function(){return document.body.setAttribute(qi,(Xx()+1).toString()),function(){var e=Xx()-1;e<=0?document.body.removeAttribute(qi):document.body.setAttribute(qi,e.toString())}},[])},GO=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,s=i===void 0?"margin":i;UO();var l=S.useMemo(function(){return VO(s)},[s]);return S.createElement(HO,{styles:WO(l,!t,s,n?"":"!important")})},Jp=!1;if(typeof window<"u")try{var Tc=Object.defineProperty({},"passive",{get:function(){return Jp=!0,!0}});window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{Jp=!1}var Di=Jp?{passive:!1}:!1,YO=function(e){return e.tagName==="TEXTAREA"},T1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!YO(e)&&n[t]==="visible")},XO=function(e){return T1(e,"overflowY")},KO=function(e){return T1(e,"overflowX")},Kx=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=A1(e,i);if(s){var l=M1(e,i),a=l[1],u=l[2];if(a>u)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},qO=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},QO=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},A1=function(e,t){return e==="v"?XO(t):KO(t)},M1=function(e,t){return e==="v"?qO(t):QO(t)},ZO=function(e,t){return e==="h"&&t==="rtl"?-1:1},JO=function(e,t,n,i,s){var l=ZO(e,window.getComputedStyle(t).direction),a=l*i,u=n.target,f=t.contains(u),h=!1,v=a>0,m=0,g=0;do{var x=M1(e,u),C=x[0],w=x[1],N=x[2],E=w-N-l*C;(C||E)&&A1(e,u)&&(m+=E,g+=C),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(v&&Math.abs(m)<1||!v&&Math.abs(g)<1)&&(h=!0),h},Ac=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qx=function(e){return[e.deltaX,e.deltaY]},Qx=function(e){return e&&"current"in e?e.current:e},eL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},tL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},nL=0,Oi=[];function rL(e){var t=S.useRef([]),n=S.useRef([0,0]),i=S.useRef(),s=S.useState(nL++)[0],l=S.useState(R1)[0],a=S.useRef(e);S.useEffect(function(){a.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var w=CO([e.lockRef.current],(e.shards||[]).map(Qx),!0).filter(Boolean);return w.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=S.useCallback(function(w,N){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!a.current.allowPinchZoom;var E=Ac(w),P=n.current,_="deltaX"in w?w.deltaX:P[0]-E[0],k="deltaY"in w?w.deltaY:P[1]-E[1],A,D=w.target,R=Math.abs(_)>Math.abs(k)?"h":"v";if("touches"in w&&R==="h"&&D.type==="range")return!1;var O=Kx(R,D);if(!O)return!0;if(O?A=R:(A=R==="v"?"h":"v",O=Kx(R,D)),!O)return!1;if(!i.current&&"changedTouches"in w&&(_||k)&&(i.current=A),!A)return!0;var W=i.current||A;return JO(W,N,w,W==="h"?_:k)},[]),f=S.useCallback(function(w){var N=w;if(!(!Oi.length||Oi[Oi.length-1]!==l)){var E="deltaY"in N?qx(N):Ac(N),P=t.current.filter(function(A){return A.name===N.type&&(A.target===N.target||N.target===A.shadowParent)&&eL(A.delta,E)})[0];if(P&&P.should){N.cancelable&&N.preventDefault();return}if(!P){var _=(a.current.shards||[]).map(Qx).filter(Boolean).filter(function(A){return A.contains(N.target)}),k=_.length>0?u(N,_[0]):!a.current.noIsolation;k&&N.cancelable&&N.preventDefault()}}},[]),h=S.useCallback(function(w,N,E,P){var _={name:w,delta:N,target:E,should:P,shadowParent:oL(E)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(k){return k!==_})},1)},[]),v=S.useCallback(function(w){n.current=Ac(w),i.current=void 0},[]),m=S.useCallback(function(w){h(w.type,qx(w),w.target,u(w,e.lockRef.current))},[]),g=S.useCallback(function(w){h(w.type,Ac(w),w.target,u(w,e.lockRef.current))},[]);S.useEffect(function(){return Oi.push(l),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",f,Di),document.addEventListener("touchmove",f,Di),document.addEventListener("touchstart",v,Di),function(){Oi=Oi.filter(function(w){return w!==l}),document.removeEventListener("wheel",f,Di),document.removeEventListener("touchmove",f,Di),document.removeEventListener("touchstart",v,Di)}},[]);var x=e.removeScrollBar,C=e.inert;return S.createElement(S.Fragment,null,C?S.createElement(l,{styles:tL(s)}):null,x?S.createElement(GO,{gapMode:e.gapMode}):null)}function oL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const iL=MO(j1,rL);var Bu=S.forwardRef(function(e,t){return S.createElement(Fu,Kn({},e,{ref:t,sideCar:iL}))});Bu.classNames=Fu.classNames;var sL=[" ","Enter","ArrowUp","ArrowDown"],lL=[" ","Enter"],qo="Select",[Vu,Hu,aL]=Hh(qo),[ms,l4]=en(qo,[aL,hs]),Wu=hs(),[cL,po]=ms(qo),[uL,dL]=ms(qo),I1=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:s,onOpenChange:l,value:a,defaultValue:u,onValueChange:f,dir:h,name:v,autoComplete:m,disabled:g,required:x,form:C}=e,w=Wu(t),[N,E]=S.useState(null),[P,_]=S.useState(null),[k,A]=S.useState(!1),D=ei(h),[R,O]=fn({prop:i,defaultProp:s??!1,onChange:l,caller:qo}),[W,Q]=fn({prop:a,defaultProp:u,onChange:f,caller:qo}),X=S.useRef(null),J=N?C||!!N.closest("form"):!0,[te,T]=S.useState(new Set),V=Array.from(te).map(L=>L.props.value).join(";");return d.jsx(tm,{...w,children:d.jsxs(cL,{required:x,scope:t,trigger:N,onTriggerChange:E,valueNode:P,onValueNodeChange:_,valueNodeHasChildren:k,onValueNodeHasChildrenChange:A,contentId:On(),value:W,onValueChange:Q,open:R,onOpenChange:O,dir:D,triggerPointerDownPosRef:X,disabled:g,children:[d.jsx(Vu.Provider,{scope:t,children:d.jsx(uL,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(L=>{T(F=>new Set(F).add(L))},[]),onNativeOptionRemove:S.useCallback(L=>{T(F=>{const M=new Set(F);return M.delete(L),M})},[]),children:n})}),J?d.jsxs(nb,{"aria-hidden":!0,required:x,tabIndex:-1,name:v,autoComplete:m,value:W,onChange:L=>Q(L.target.value),disabled:g,form:C,children:[W===void 0?d.jsx("option",{value:""}):null,Array.from(te)]},V):null]})})};I1.displayName=qo;var D1="SelectTrigger",O1=S.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:i=!1,...s}=e,l=Wu(n),a=po(D1,n),u=a.disabled||i,f=ze(t,a.onTriggerChange),h=Hu(n),v=S.useRef("touch"),[m,g,x]=ob(w=>{const N=h().filter(_=>!_.disabled),E=N.find(_=>_.value===a.value),P=ib(N,w,E);P!==void 0&&a.onValueChange(P.value)}),C=w=>{u||(a.onOpenChange(!0),x()),w&&(a.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return d.jsx($u,{asChild:!0,...l,children:d.jsx(je.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":rb(a.value)?"":void 0,...s,ref:f,onClick:_e(s.onClick,w=>{w.currentTarget.focus(),v.current!=="mouse"&&C(w)}),onPointerDown:_e(s.onPointerDown,w=>{v.current=w.pointerType;const N=w.target;N.hasPointerCapture(w.pointerId)&&N.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(C(w),w.preventDefault())}),onKeyDown:_e(s.onKeyDown,w=>{const N=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(N&&w.key===" ")&&sL.includes(w.key)&&(C(),w.preventDefault())})})})});O1.displayName=D1;var L1="SelectValue",z1=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,children:l,placeholder:a="",...u}=e,f=po(L1,n),{onValueNodeHasChildrenChange:h}=f,v=l!==void 0,m=ze(t,f.onValueNodeChange);return Pt(()=>{h(v)},[h,v]),d.jsx(je.span,{...u,ref:m,style:{pointerEvents:"none"},children:rb(f.value)?d.jsx(d.Fragment,{children:a}):l})});z1.displayName=L1;var fL="SelectIcon",$1=S.forwardRef((e,t)=>{const{__scopeSelect:n,children:i,...s}=e;return d.jsx(je.span,{"aria-hidden":!0,...s,ref:t,children:i||"▼"})});$1.displayName=fL;var pL="SelectPortal",F1=e=>d.jsx(Jl,{asChild:!0,...e});F1.displayName=pL;var Qo="SelectContent",B1=S.forwardRef((e,t)=>{const n=po(Qo,e.__scopeSelect),[i,s]=S.useState();if(Pt(()=>{s(new DocumentFragment)},[]),!n.open){const l=i;return l?ds.createPortal(d.jsx(V1,{scope:e.__scopeSelect,children:d.jsx(Vu.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),l):null}return d.jsx(H1,{...e,ref:t})});B1.displayName=Qo;var kn=10,[V1,ho]=ms(Qo),hL="SelectContentImpl",mL=Xo("SelectContent.RemoveScroll"),H1=S.forwardRef((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:l,onPointerDownOutside:a,side:u,sideOffset:f,align:h,alignOffset:v,arrowPadding:m,collisionBoundary:g,collisionPadding:x,sticky:C,hideWhenDetached:w,avoidCollisions:N,...E}=e,P=po(Qo,n),[_,k]=S.useState(null),[A,D]=S.useState(null),R=ze(t,H=>k(H)),[O,W]=S.useState(null),[Q,X]=S.useState(null),J=Hu(n),[te,T]=S.useState(!1),V=S.useRef(!1);S.useEffect(()=>{if(_)return im(_)},[_]),Wh();const L=S.useCallback(H=>{const[re,...le]=J().map(ce=>ce.ref.current),[ae]=le.slice(-1),fe=document.activeElement;for(const ce of H)if(ce===fe||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===re&&A&&(A.scrollTop=0),ce===ae&&A&&(A.scrollTop=A.scrollHeight),ce==null||ce.focus(),document.activeElement!==fe))return},[J,A]),F=S.useCallback(()=>L([O,_]),[L,O,_]);S.useEffect(()=>{te&&F()},[te,F]);const{onOpenChange:M,triggerPointerDownPosRef:z}=P;S.useEffect(()=>{if(_){let H={x:0,y:0};const re=ae=>{var fe,ce;H={x:Math.abs(Math.round(ae.pageX)-(((fe=z.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((ce=z.current)==null?void 0:ce.y)??0))}},le=ae=>{H.x<=10&&H.y<=10?ae.preventDefault():_.contains(ae.target)||M(!1),document.removeEventListener("pointermove",re),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",le,{capture:!0})}}},[_,M,z]),S.useEffect(()=>{const H=()=>M(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[M]);const[Y,I]=ob(H=>{const re=J().filter(fe=>!fe.disabled),le=re.find(fe=>fe.ref.current===document.activeElement),ae=ib(re,H,le);ae&&setTimeout(()=>ae.ref.current.focus())}),U=S.useCallback((H,re,le)=>{const ae=!V.current&&!le;(P.value!==void 0&&P.value===re||ae)&&(W(H),ae&&(V.current=!0))},[P.value]),K=S.useCallback(()=>_==null?void 0:_.focus(),[_]),ee=S.useCallback((H,re,le)=>{const ae=!V.current&&!le;(P.value!==void 0&&P.value===re||ae)&&X(H)},[P.value]),B=i==="popper"?eh:W1,Z=B===eh?{side:u,sideOffset:f,align:h,alignOffset:v,arrowPadding:m,collisionBoundary:g,collisionPadding:x,sticky:C,hideWhenDetached:w,avoidCollisions:N}:{};return d.jsx(V1,{scope:n,content:_,viewport:A,onViewportChange:D,itemRefCallback:U,selectedItem:O,onItemLeave:K,itemTextRefCallback:ee,focusSelectedItem:F,selectedItemText:Q,position:i,isPositioned:te,searchRef:Y,children:d.jsx(Bu,{as:mL,allowPinchZoom:!0,children:d.jsx(Du,{asChild:!0,trapped:P.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:_e(s,H=>{var re;(re=P.trigger)==null||re.focus({preventScroll:!0}),H.preventDefault()}),children:d.jsx(Ql,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:a,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:d.jsx(B,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:H=>H.preventDefault(),...E,...Z,onPlaced:()=>T(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:_e(E.onKeyDown,H=>{const re=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!re&&H.key.length===1&&I(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let ae=J().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(H.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const fe=H.target,ce=ae.indexOf(fe);ae=ae.slice(ce+1)}setTimeout(()=>L(ae)),H.preventDefault()}})})})})})})});H1.displayName=hL;var gL="SelectItemAlignedPosition",W1=S.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:i,...s}=e,l=po(Qo,n),a=ho(Qo,n),[u,f]=S.useState(null),[h,v]=S.useState(null),m=ze(t,R=>v(R)),g=Hu(n),x=S.useRef(!1),C=S.useRef(!0),{viewport:w,selectedItem:N,selectedItemText:E,focusSelectedItem:P}=a,_=S.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&h&&w&&N&&E){const R=l.trigger.getBoundingClientRect(),O=h.getBoundingClientRect(),W=l.valueNode.getBoundingClientRect(),Q=E.getBoundingClientRect();if(l.dir!=="rtl"){const fe=Q.left-O.left,ce=W.left-fe,ve=R.left-ce,xe=R.width+ve,Be=Math.max(xe,O.width),he=window.innerWidth-kn,Re=zl(ce,[kn,Math.max(kn,he-Be)]);u.style.minWidth=xe+"px",u.style.left=Re+"px"}else{const fe=O.right-Q.right,ce=window.innerWidth-W.right-fe,ve=window.innerWidth-R.right-ce,xe=R.width+ve,Be=Math.max(xe,O.width),he=window.innerWidth-kn,Re=zl(ce,[kn,Math.max(kn,he-Be)]);u.style.minWidth=xe+"px",u.style.right=Re+"px"}const X=g(),J=window.innerHeight-kn*2,te=w.scrollHeight,T=window.getComputedStyle(h),V=parseInt(T.borderTopWidth,10),L=parseInt(T.paddingTop,10),F=parseInt(T.borderBottomWidth,10),M=parseInt(T.paddingBottom,10),z=V+L+te+M+F,Y=Math.min(N.offsetHeight*5,z),I=window.getComputedStyle(w),U=parseInt(I.paddingTop,10),K=parseInt(I.paddingBottom,10),ee=R.top+R.height/2-kn,B=J-ee,Z=N.offsetHeight/2,H=N.offsetTop+Z,re=V+L+H,le=z-re;if(re<=ee){const fe=X.length>0&&N===X[X.length-1].ref.current;u.style.bottom="0px";const ce=h.clientHeight-w.offsetTop-w.offsetHeight,ve=Math.max(B,Z+(fe?K:0)+ce+F),xe=re+ve;u.style.height=xe+"px"}else{const fe=X.length>0&&N===X[0].ref.current;u.style.top="0px";const ve=Math.max(ee,V+w.offsetTop+(fe?U:0)+Z)+le;u.style.height=ve+"px",w.scrollTop=re-ee+w.offsetTop}u.style.margin=`${kn}px 0`,u.style.minHeight=Y+"px",u.style.maxHeight=J+"px",i==null||i(),requestAnimationFrame(()=>x.current=!0)}},[g,l.trigger,l.valueNode,u,h,w,N,E,l.dir,i]);Pt(()=>_(),[_]);const[k,A]=S.useState();Pt(()=>{h&&A(window.getComputedStyle(h).zIndex)},[h]);const D=S.useCallback(R=>{R&&C.current===!0&&(_(),P==null||P(),C.current=!1)},[_,P]);return d.jsx(yL,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:D,children:d.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:d.jsx(je.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});W1.displayName=gL;var vL="SelectPopperPosition",eh=S.forwardRef((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:s=kn,...l}=e,a=Wu(n);return d.jsx(nm,{...a,...l,ref:t,align:i,collisionPadding:s,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});eh.displayName=vL;var[yL,sm]=ms(Qo,{}),th="SelectViewport",U1=S.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:i,...s}=e,l=ho(th,n),a=sm(th,n),u=ze(t,l.onViewportChange),f=S.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),d.jsx(Vu.Slot,{scope:n,children:d.jsx(je.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:_e(s.onScroll,h=>{const v=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=a;if(g!=null&&g.current&&m){const x=Math.abs(f.current-v.scrollTop);if(x>0){const C=window.innerHeight-kn*2,w=parseFloat(m.style.minHeight),N=parseFloat(m.style.height),E=Math.max(w,N);if(E<C){const P=E+x,_=Math.min(C,P),k=P-_;m.style.height=_+"px",m.style.bottom==="0px"&&(v.scrollTop=k>0?k:0,m.style.justifyContent="flex-end")}}}f.current=v.scrollTop})})})]})});U1.displayName=th;var G1="SelectGroup",[xL,wL]=ms(G1),SL=S.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=On();return d.jsx(xL,{scope:n,id:s,children:d.jsx(je.div,{role:"group","aria-labelledby":s,...i,ref:t})})});SL.displayName=G1;var Y1="SelectLabel",bL=S.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=wL(Y1,n);return d.jsx(je.div,{id:s.id,...i,ref:t})});bL.displayName=Y1;var uu="SelectItem",[NL,X1]=ms(uu),K1=S.forwardRef((e,t)=>{const{__scopeSelect:n,value:i,disabled:s=!1,textValue:l,...a}=e,u=po(uu,n),f=ho(uu,n),h=u.value===i,[v,m]=S.useState(l??""),[g,x]=S.useState(!1),C=ze(t,P=>{var _;return(_=f.itemRefCallback)==null?void 0:_.call(f,P,i,s)}),w=On(),N=S.useRef("touch"),E=()=>{s||(u.onValueChange(i),u.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(NL,{scope:n,value:i,disabled:s,textId:w,isSelected:h,onItemTextChange:S.useCallback(P=>{m(_=>_||((P==null?void 0:P.textContent)??"").trim())},[]),children:d.jsx(Vu.ItemSlot,{scope:n,value:i,disabled:s,textValue:v,children:d.jsx(je.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:C,onFocus:_e(a.onFocus,()=>x(!0)),onBlur:_e(a.onBlur,()=>x(!1)),onClick:_e(a.onClick,()=>{N.current!=="mouse"&&E()}),onPointerUp:_e(a.onPointerUp,()=>{N.current==="mouse"&&E()}),onPointerDown:_e(a.onPointerDown,P=>{N.current=P.pointerType}),onPointerMove:_e(a.onPointerMove,P=>{var _;N.current=P.pointerType,s?(_=f.onItemLeave)==null||_.call(f):N.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(a.onPointerLeave,P=>{var _;P.currentTarget===document.activeElement&&((_=f.onItemLeave)==null||_.call(f))}),onKeyDown:_e(a.onKeyDown,P=>{var k;((k=f.searchRef)==null?void 0:k.current)!==""&&P.key===" "||(lL.includes(P.key)&&E(),P.key===" "&&P.preventDefault())})})})})});K1.displayName=uu;var xl="SelectItemText",q1=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,...l}=e,a=po(xl,n),u=ho(xl,n),f=X1(xl,n),h=dL(xl,n),[v,m]=S.useState(null),g=ze(t,E=>m(E),f.onItemTextChange,E=>{var P;return(P=u.itemTextRefCallback)==null?void 0:P.call(u,E,f.value,f.disabled)}),x=v==null?void 0:v.textContent,C=S.useMemo(()=>d.jsx("option",{value:f.value,disabled:f.disabled,children:x},f.value),[f.disabled,f.value,x]),{onNativeOptionAdd:w,onNativeOptionRemove:N}=h;return Pt(()=>(w(C),()=>N(C)),[w,N,C]),d.jsxs(d.Fragment,{children:[d.jsx(je.span,{id:f.textId,...l,ref:g}),f.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ds.createPortal(l.children,a.valueNode):null]})});q1.displayName=xl;var Q1="SelectItemIndicator",Z1=S.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return X1(Q1,n).isSelected?d.jsx(je.span,{"aria-hidden":!0,...i,ref:t}):null});Z1.displayName=Q1;var nh="SelectScrollUpButton",J1=S.forwardRef((e,t)=>{const n=ho(nh,e.__scopeSelect),i=sm(nh,e.__scopeSelect),[s,l]=S.useState(!1),a=ze(t,i.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const h=f.scrollTop>0;l(h)};const f=n.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?d.jsx(tb,{...e,ref:a,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=n;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});J1.displayName=nh;var rh="SelectScrollDownButton",eb=S.forwardRef((e,t)=>{const n=ho(rh,e.__scopeSelect),i=sm(rh,e.__scopeSelect),[s,l]=S.useState(!1),a=ze(t,i.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const h=f.scrollHeight-f.clientHeight,v=Math.ceil(f.scrollTop)<h;l(v)};const f=n.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?d.jsx(tb,{...e,ref:a,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=n;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});eb.displayName=rh;var tb=S.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:i,...s}=e,l=ho("SelectScrollButton",n),a=S.useRef(null),u=Hu(n),f=S.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return S.useEffect(()=>()=>f(),[f]),Pt(()=>{var v;const h=u().find(m=>m.ref.current===document.activeElement);(v=h==null?void 0:h.ref.current)==null||v.scrollIntoView({block:"nearest"})},[u]),d.jsx(je.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:_e(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(i,50))}),onPointerMove:_e(s.onPointerMove,()=>{var h;(h=l.onItemLeave)==null||h.call(l),a.current===null&&(a.current=window.setInterval(i,50))}),onPointerLeave:_e(s.onPointerLeave,()=>{f()})})}),CL="SelectSeparator",_L=S.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return d.jsx(je.div,{"aria-hidden":!0,...i,ref:t})});_L.displayName=CL;var oh="SelectArrow",EL=S.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=Wu(n),l=po(oh,n),a=ho(oh,n);return l.open&&a.position==="popper"?d.jsx(rm,{...s,...i,ref:t}):null});EL.displayName=oh;var kL="SelectBubbleInput",nb=S.forwardRef(({__scopeSelect:e,value:t,...n},i)=>{const s=S.useRef(null),l=ze(i,s),a=om(t);return S.useEffect(()=>{const u=s.current;if(!u)return;const f=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(f,"value").set;if(a!==t&&v){const m=new Event("change",{bubbles:!0});v.call(u,t),u.dispatchEvent(m)}},[a,t]),d.jsx(je.select,{...n,style:{...C1,...n.style},ref:l,defaultValue:t})});nb.displayName=kL;function rb(e){return e===""||e===void 0}function ob(e){const t=Ht(e),n=S.useRef(""),i=S.useRef(0),s=S.useCallback(a=>{const u=n.current+a;t(u),function f(h){n.current=h,window.clearTimeout(i.current),h!==""&&(i.current=window.setTimeout(()=>f(""),1e3))}(u)},[t]),l=S.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,s,l]}function ib(e,t,n){const s=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let a=PL(e,Math.max(l,0));s.length===1&&(a=a.filter(h=>h!==n));const f=a.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==n?f:void 0}function PL(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var jL=I1,RL=O1,TL=z1,AL=$1,ML=F1,IL=B1,DL=U1,OL=K1,LL=q1,zL=Z1,$L=J1,FL=eb;function jn({...e}){return d.jsx(jL,{"data-slot":"select",...e})}function Rn({...e}){return d.jsx(TL,{"data-slot":"select-value",...e})}function Tn({className:e,size:t="default",children:n,...i}){return d.jsxs(RL,{"data-slot":"select-trigger","data-size":t,className:He("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[n,d.jsx(AL,{asChild:!0,children:d.jsx(Lo,{className:"size-4 opacity-50"})})]})}function An({className:e,children:t,position:n="popper",...i}){return d.jsx(ML,{children:d.jsxs(IL,{"data-slot":"select-content",className:He("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...i,children:[d.jsx(BL,{}),d.jsx(DL,{className:He("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),d.jsx(VL,{})]})})}function lt({className:e,children:t,...n}){return d.jsxs(OL,{"data-slot":"select-item",className:He("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[d.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:d.jsx(zL,{children:d.jsx(X_,{className:"size-4"})})}),d.jsx(LL,{children:t})]})}function BL({className:e,...t}){return d.jsx($L,{"data-slot":"select-scroll-up-button",className:He("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(Z_,{className:"size-4"})})}function VL({className:e,...t}){return d.jsx(FL,{"data-slot":"select-scroll-down-button",className:He("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(Lo,{className:"size-4"})})}const HL=({colorSets:e})=>{const t=Ce(a=>a.activePetriNetId),n=Ce(a=>{const u=a.activePetriNetId?a.petriNetsById[a.activePetriNetId]:null;return u==null?void 0:u.selectedElement}),i=Ce(a=>a.updateNodeData);if(!n||n.type!=="node"||!n.element)return d.jsx("div",{children:"No node selected"});const{id:s,data:l}=n.element;return"colorSet"in l?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[d.jsx(Ie,{htmlFor:"label",children:"Label"}),d.jsx(at,{id:"label",value:l.label||"",onChange:a=>{t&&i(t,s,{...l,label:a.target.value,isArcMode:l.isArcMode||!1,type:l.type||"defaultType",colorSet:l.colorSet||"defaultColorSet",initialMarking:l.initialMarking||"defaultMarking"})}})]}),d.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[d.jsx(Ie,{htmlFor:"colorSet",children:"Color Set"}),d.jsxs(jn,{value:l.colorSet||"INT",onValueChange:a=>{t&&i(t,s,{...l,label:l.label||"",colorSet:a,isArcMode:l.isArcMode||!1,type:l.type||"defaultType",initialMarking:l.initialMarking||"defaultMarking"})},children:[d.jsx(Tn,{children:d.jsx(Rn,{placeholder:"Select color set"})}),d.jsx(An,{children:e.map(a=>d.jsx(lt,{value:a.name,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:a.color||"#3b82f6"}}),a.name]})},a.id))})]})]}),d.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[d.jsx(Ie,{htmlFor:"initialMarking",children:"Initial Marking"}),d.jsx(at,{id:"initialMarking",value:l.initialMarking||"",onChange:a=>{t&&i(t,s,{...l,label:l.label||"",initialMarking:a.target.value,isArcMode:l.isArcMode||!1,type:l.type||"defaultType",colorSet:l.colorSet||"defaultColorSet"})}})]})]}):d.jsx("div",{children:"Invalid node type"})};function wr({className:e,...t}){return d.jsx("textarea",{"data-slot":"textarea",className:He("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var Ep="rovingFocusGroup.onEntryFocus",WL={bubbles:!1,cancelable:!0},ea="RovingFocusGroup",[ih,sb,UL]=Hh(ea),[GL,gs]=en(ea,[UL]),[YL,XL]=GL(ea),lb=S.forwardRef((e,t)=>d.jsx(ih.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(ih.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(KL,{...e,ref:t})})}));lb.displayName=ea;var KL=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:s=!1,dir:l,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:v=!1,...m}=e,g=S.useRef(null),x=ze(t,g),C=ei(l),[w,N]=fn({prop:a,defaultProp:u??null,onChange:f,caller:ea}),[E,P]=S.useState(!1),_=Ht(h),k=sb(n),A=S.useRef(!1),[D,R]=S.useState(0);return S.useEffect(()=>{const O=g.current;if(O)return O.addEventListener(Ep,_),()=>O.removeEventListener(Ep,_)},[_]),d.jsx(YL,{scope:n,orientation:i,dir:C,loop:s,currentTabStopId:w,onItemFocus:S.useCallback(O=>N(O),[N]),onItemShiftTab:S.useCallback(()=>P(!0),[]),onFocusableItemAdd:S.useCallback(()=>R(O=>O+1),[]),onFocusableItemRemove:S.useCallback(()=>R(O=>O-1),[]),children:d.jsx(je.div,{tabIndex:E||D===0?-1:0,"data-orientation":i,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:_e(e.onMouseDown,()=>{A.current=!0}),onFocus:_e(e.onFocus,O=>{const W=!A.current;if(O.target===O.currentTarget&&W&&!E){const Q=new CustomEvent(Ep,WL);if(O.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const X=k().filter(L=>L.focusable),J=X.find(L=>L.active),te=X.find(L=>L.id===w),V=[J,te,...X].filter(Boolean).map(L=>L.ref.current);ub(V,v)}}A.current=!1}),onBlur:_e(e.onBlur,()=>P(!1))})})}),ab="RovingFocusGroupItem",cb=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:s=!1,tabStopId:l,children:a,...u}=e,f=On(),h=l||f,v=XL(ab,n),m=v.currentTabStopId===h,g=sb(n),{onFocusableItemAdd:x,onFocusableItemRemove:C}=v;return S.useEffect(()=>{if(i)return x(),()=>C()},[i,x,C]),d.jsx(ih.ItemSlot,{scope:n,id:h,focusable:i,active:s,children:d.jsx(je.span,{tabIndex:m?0:-1,"data-orientation":v.orientation,...u,ref:t,onMouseDown:_e(e.onMouseDown,w=>{i?v.onItemFocus(h):w.preventDefault()}),onFocus:_e(e.onFocus,()=>v.onItemFocus(h)),onKeyDown:_e(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){v.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const N=ZL(w,v.orientation,v.dir);if(N!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let P=g().filter(_=>_.focusable).map(_=>_.ref.current);if(N==="last")P.reverse();else if(N==="prev"||N==="next"){N==="prev"&&P.reverse();const _=P.indexOf(w.currentTarget);P=v.loop?JL(P,_+1):P.slice(_+1)}setTimeout(()=>ub(P))}}),children:typeof a=="function"?a({isCurrentTabStop:m}):a})})});cb.displayName=ab;var qL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ZL(e,t,n){const i=QL(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return qL[i]}function ub(e,t=!1){const n=document.activeElement;for(const i of e)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function JL(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var lm=lb,am=cb,Uu="Tabs",[ez,a4]=en(Uu,[gs]),db=gs(),[tz,cm]=ez(Uu),fb=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,onValueChange:s,defaultValue:l,orientation:a="horizontal",dir:u,activationMode:f="automatic",...h}=e,v=ei(u),[m,g]=fn({prop:i,onChange:s,defaultProp:l??"",caller:Uu});return d.jsx(tz,{scope:n,baseId:On(),value:m,onValueChange:g,orientation:a,dir:v,activationMode:f,children:d.jsx(je.div,{dir:v,"data-orientation":a,...h,ref:t})})});fb.displayName=Uu;var pb="TabsList",hb=S.forwardRef((e,t)=>{const{__scopeTabs:n,loop:i=!0,...s}=e,l=cm(pb,n),a=db(n);return d.jsx(lm,{asChild:!0,...a,orientation:l.orientation,dir:l.dir,loop:i,children:d.jsx(je.div,{role:"tablist","aria-orientation":l.orientation,...s,ref:t})})});hb.displayName=pb;var mb="TabsTrigger",gb=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,disabled:s=!1,...l}=e,a=cm(mb,n),u=db(n),f=xb(a.baseId,i),h=wb(a.baseId,i),v=i===a.value;return d.jsx(am,{asChild:!0,...u,focusable:!s,active:v,children:d.jsx(je.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":h,"data-state":v?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...l,ref:t,onMouseDown:_e(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?a.onValueChange(i):m.preventDefault()}),onKeyDown:_e(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&a.onValueChange(i)}),onFocus:_e(e.onFocus,()=>{const m=a.activationMode!=="manual";!v&&!s&&m&&a.onValueChange(i)})})})});gb.displayName=mb;var vb="TabsContent",yb=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,forceMount:s,children:l,...a}=e,u=cm(vb,n),f=xb(u.baseId,i),h=wb(u.baseId,i),v=i===u.value,m=S.useRef(v);return S.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),d.jsx(Wt,{present:s||v,children:({present:g})=>d.jsx(je.div,{"data-state":v?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!g,id:h,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:g&&l})})});yb.displayName=vb;function xb(e,t){return`${e}-trigger-${t}`}function wb(e,t){return`${e}-content-${t}`}var nz=fb,rz=hb,oz=gb,iz=yb;function Gu({className:e,...t}){return d.jsx(nz,{"data-slot":"tabs",className:He("flex flex-col gap-2",e),...t})}function Yu({className:e,...t}){return d.jsx(rz,{"data-slot":"tabs-list",className:He("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Zo({className:e,...t}){return d.jsx(oz,{"data-slot":"tabs-trigger",className:He("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function ss({className:e,...t}){return d.jsx(iz,{"data-slot":"tabs-content",className:He("flex-1 outline-none",e),...t})}function sz({value:e,onChange:t}){const[n,i]=S.useState(""),[s,l]=S.useState(""),[a,u]=S.useState(""),[f,h]=S.useState(e||"");S.useEffect(()=>{if(!e){i(""),l(""),u(""),h(`input ();
output ();
action
();`);return}h(e);try{const N=e.match(/input\s*$$(.*?)$$;/s),E=e.match(/output\s*$$(.*?)$$;/s),P=e.match(/action\s*(.*?)(?:$$$$;|$$$$$)/s);i(N?N[1]:""),l(E?E[1]:""),u(P?P[1].trim():"")}catch(N){console.error("Error parsing code segment:",N)}},[e]);const v=()=>{const N=`input (${n});
output (${s});
action
${a}();`;h(N),t(N)},m=N=>{i(N.target.value)},g=N=>{l(N.target.value)},x=N=>{u(N.target.value)},C=N=>{h(N.target.value),t(N.target.value)},w=()=>{v()};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs(Gu,{defaultValue:"structured",className:"w-full",children:[d.jsxs(Yu,{className:"grid w-full grid-cols-2",children:[d.jsx(Zo,{value:"structured",children:"Structured Editor"}),d.jsx(Zo,{value:"raw",children:"Raw Code"})]}),d.jsxs(ss,{value:"structured",className:"space-y-4 pt-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:"input-pattern",children:"Input Pattern"}),d.jsx(wr,{id:"input-pattern",placeholder:"n, b",className:"font-mono h-[60px]",value:n,onChange:m,onBlur:w}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"List the CPN variables that can be used in the code action, separated by commas."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:"output-pattern",children:"Output Pattern"}),d.jsx(wr,{id:"output-pattern",placeholder:"result",className:"font-mono h-[60px]",value:s,onChange:g,onBlur:w}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"List the CPN variables to be changed as a result of the execution, separated by commas."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:"action-code",children:"Action Code"}),d.jsx(wr,{id:"action-code",placeholder:"let val result = n + 1 in result end",className:"font-mono h-[120px]",value:a,onChange:x,onBlur:w}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"ML code to execute when the transition fires. Can use variables from input pattern and must return a value matching the output pattern."})]})]}),d.jsx(ss,{value:"raw",className:"pt-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:"raw-code",children:"Code Segment"}),d.jsx(wr,{id:"raw-code",placeholder:"input (n, b);\\noutput (result);\\naction\\nlet val result = n + 1 in result end();",className:"font-mono h-[240px]",value:f,onChange:C})]})})]}),d.jsx("div",{className:"pt-2",children:d.jsx("p",{className:"text-xs text-muted-foreground",children:"Code segments may use CPN variables and can bind variables on output arcs. The action section is mandatory, while input and output are optional."})})]})}const lz=({priorities:e})=>{const t=Ce(a=>a.activePetriNetId),n=Ce(a=>{const u=a.activePetriNetId?a.petriNetsById[a.activePetriNetId]:null;return u==null?void 0:u.selectedElement}),i=Ce(a=>a.updateNodeData);if(!n||n.type!=="node"||!n.element)return d.jsx("div",{children:"No node selected"});const{id:s,data:l}=n.element;return"guard"in l?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[d.jsx(Ie,{htmlFor:"label",children:"Label"}),d.jsx(at,{id:"label",value:l.label??"",onChange:a=>{t&&i(t,s,{...l,label:a.target.value,isArcMode:l.isArcMode||!1,type:l.type||"defaultType",colorSet:l.colorSet||"defaultColorSet",initialMarking:l.initialMarking||"defaultMarking"})}})]}),d.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[d.jsx(Ie,{htmlFor:"guard",children:"Guard"}),d.jsx(at,{id:"guard",value:l.guard||"",onChange:a=>{t&&i(t,s,{...l,label:l.label||"",guard:a.target.value,isArcMode:l.isArcMode||!1,type:l.type||"defaultType",colorSet:l.colorSet||"defaultColorSet",initialMarking:l.initialMarking||"defaultMarking"})}})]}),d.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[d.jsx(Ie,{htmlFor:"time",children:"Time"}),d.jsx(at,{id:"time",value:l.time||"",onChange:a=>{t&&i(t,s,{...l,label:l.label||"",time:a.target.value,isArcMode:l.isArcMode||!1,type:l.type||"defaultType",colorSet:l.colorSet,initialMarking:l.initialMarking,priority:l.priority||"NONE",codeSegment:l.codeSegment||"",guard:l.guard||""})}})]}),d.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[d.jsx(Ie,{htmlFor:"priority",children:"Priority"}),d.jsxs(jn,{value:l.priority||"NONE",onValueChange:a=>{t&&i(t,s,{...l,label:l.label||"",priority:a,isArcMode:l.isArcMode||!1,type:l.type||"defaultType",colorSet:l.colorSet,initialMarking:l.initialMarking,guard:l.guard||"",time:l.time||"",codeSegment:l.codeSegment||""})},children:[d.jsx(Tn,{id:"priority",children:d.jsx(Rn,{placeholder:"Select priority"})}),d.jsxs(An,{children:[d.jsx(lt,{value:"NONE",children:"None"}),e.map(a=>d.jsxs(lt,{value:a.name,children:[a.name," (",a.level,")"]},a.id))]})]})]}),d.jsx(Au,{}),d.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[d.jsx(Ie,{htmlFor:"codeSegment",children:"Code Segment"}),d.jsx(sz,{value:l.codeSegment||"",onChange:a=>{t&&i(t,s,{...l,label:l.label||"",codeSegment:a,isArcMode:l.isArcMode||!1,type:l.type||"defaultType",colorSet:l.colorSet,initialMarking:l.initialMarking,guard:l.guard||"",time:l.time||"",priority:l.priority||"NONE"})}})]})]}):d.jsx("div",{children:"Invalid node type"})},az=()=>{const e=Ce(l=>l.activePetriNetId),t=Ce(l=>{const a=l.activePetriNetId?l.petriNetsById[l.activePetriNetId]:null;return a==null?void 0:a.selectedElement}),n=Ce(l=>l.updateNodeData);if(!t||t.type!=="node"||!t.element)return d.jsx("div",{children:"No node selected"});const{id:i,data:s}=t.element;return d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[d.jsx(Ie,{htmlFor:"label",children:"Annotation"}),d.jsx(wr,{id:"label",placeholder:"Annotation",className:"font-mono h-[100px]",value:s.label||"",onChange:l=>{e&&n(e,i,{...s,label:l.target.value,type:s.type||"auxText"})}})]})})},cz=()=>{const e=Ce(l=>l.activePetriNetId),t=Ce(l=>{const a=l.activePetriNetId?l.petriNetsById[l.activePetriNetId]:null;return a==null?void 0:a.selectedElement}),n=Ce(l=>l.updateEdgeLabel);if(!t||t.type!=="edge")return null;const{id:i,label:s}=t.element;return d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[d.jsx(Ie,{htmlFor:"inscription",children:"Inscription"}),d.jsx(at,{id:"inscription",value:s??"",onChange:l=>{e&&n(e,i,l.target.value)}})]})})},Zx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Jx=F0,Sb=(e,t)=>n=>{var i;if((t==null?void 0:t.variants)==null)return Jx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:l}=t,a=Object.keys(s).map(h=>{const v=n==null?void 0:n[h],m=l==null?void 0:l[h];if(v===null)return null;const g=Zx(v)||Zx(m);return s[h][g]}),u=n&&Object.entries(n).reduce((h,v)=>{let[m,g]=v;return g===void 0||(h[m]=g),h},{}),f=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((h,v)=>{let{class:m,className:g,...x}=v;return Object.entries(x).every(C=>{let[w,N]=C;return Array.isArray(N)?N.includes({...l,...u}[w]):{...l,...u}[w]===N})?[...h,m,g]:h},[]);return Jx(e,a,f,n==null?void 0:n.class,n==null?void 0:n.className)},uz=Sb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function dz({className:e,variant:t,size:n,asChild:i=!1,...s},l){const a=i?lI:"button";return d.jsx(a,{ref:l,"data-slot":"button",className:He(uz({variant:t,size:n,className:e})),...s})}const De=S.forwardRef(dz);De.displayName="Button";var Xu="Dialog",[bb,c4]=en(Xu),[fz,Fn]=bb(Xu),Nb=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:s,onOpenChange:l,modal:a=!0}=e,u=S.useRef(null),f=S.useRef(null),[h,v]=fn({prop:i,defaultProp:s??!1,onChange:l,caller:Xu});return d.jsx(fz,{scope:t,triggerRef:u,contentRef:f,contentId:On(),titleId:On(),descriptionId:On(),open:h,onOpenChange:v,onOpenToggle:S.useCallback(()=>v(m=>!m),[v]),modal:a,children:n})};Nb.displayName=Xu;var Cb="DialogTrigger",_b=S.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Fn(Cb,n),l=ze(t,s.triggerRef);return d.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":fm(s.open),...i,ref:l,onClick:_e(e.onClick,s.onOpenToggle)})});_b.displayName=Cb;var um="DialogPortal",[pz,Eb]=bb(um,{forceMount:void 0}),kb=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:s}=e,l=Fn(um,t);return d.jsx(pz,{scope:t,forceMount:n,children:S.Children.map(i,a=>d.jsx(Wt,{present:n||l.open,children:d.jsx(Jl,{asChild:!0,container:s,children:a})}))})};kb.displayName=um;var du="DialogOverlay",Pb=S.forwardRef((e,t)=>{const n=Eb(du,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,l=Fn(du,e.__scopeDialog);return l.modal?d.jsx(Wt,{present:i||l.open,children:d.jsx(mz,{...s,ref:t})}):null});Pb.displayName=du;var hz=Xo("DialogOverlay.RemoveScroll"),mz=S.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Fn(du,n);return d.jsx(Bu,{as:hz,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(je.div,{"data-state":fm(s.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Jo="DialogContent",jb=S.forwardRef((e,t)=>{const n=Eb(Jo,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,l=Fn(Jo,e.__scopeDialog);return d.jsx(Wt,{present:i||l.open,children:l.modal?d.jsx(gz,{...s,ref:t}):d.jsx(vz,{...s,ref:t})})});jb.displayName=Jo;var gz=S.forwardRef((e,t)=>{const n=Fn(Jo,e.__scopeDialog),i=S.useRef(null),s=ze(t,n.contentRef,i);return S.useEffect(()=>{const l=i.current;if(l)return im(l)},[]),d.jsx(Rb,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,l=>{var a;l.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,l=>{const a=l.detail.originalEvent,u=a.button===0&&a.ctrlKey===!0;(a.button===2||u)&&l.preventDefault()}),onFocusOutside:_e(e.onFocusOutside,l=>l.preventDefault())})}),vz=S.forwardRef((e,t)=>{const n=Fn(Jo,e.__scopeDialog),i=S.useRef(!1),s=S.useRef(!1);return d.jsx(Rb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var a,u;(a=e.onCloseAutoFocus)==null||a.call(e,l),l.defaultPrevented||(i.current||(u=n.triggerRef.current)==null||u.focus(),l.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:l=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=l.target;((h=n.triggerRef.current)==null?void 0:h.contains(a))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}})}),Rb=S.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:l,...a}=e,u=Fn(Jo,n),f=S.useRef(null),h=ze(t,f);return Wh(),d.jsxs(d.Fragment,{children:[d.jsx(Du,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:l,children:d.jsx(Ql,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":fm(u.open),...a,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(yz,{titleId:u.titleId}),d.jsx(wz,{contentRef:f,descriptionId:u.descriptionId})]})]})}),dm="DialogTitle",Tb=S.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Fn(dm,n);return d.jsx(je.h2,{id:s.titleId,...i,ref:t})});Tb.displayName=dm;var Ab="DialogDescription",Mb=S.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Fn(Ab,n);return d.jsx(je.p,{id:s.descriptionId,...i,ref:t})});Mb.displayName=Ab;var Ib="DialogClose",Db=S.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Fn(Ib,n);return d.jsx(je.button,{type:"button",...i,ref:t,onClick:_e(e.onClick,()=>s.onOpenChange(!1))})});Db.displayName=Ib;function fm(e){return e?"open":"closed"}var Ob="DialogTitleWarning",[u4,Lb]=EI(Ob,{contentName:Jo,titleName:dm,docsSlug:"dialog"}),yz=({titleId:e})=>{const t=Lb(Ob),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},xz="DialogDescriptionWarning",wz=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Lb(xz).contentName}}.`;return S.useEffect(()=>{var l;const s=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},Sz=Nb,bz=_b,Nz=kb,Cz=Pb,_z=jb,Ez=Tb,kz=Mb,Pz=Db;function ro({...e}){return d.jsx(Sz,{"data-slot":"dialog",...e})}function kp({...e}){return d.jsx(bz,{"data-slot":"dialog-trigger",...e})}function jz({...e}){return d.jsx(Nz,{"data-slot":"dialog-portal",...e})}function Rz({className:e,...t}){return d.jsx(Cz,{"data-slot":"dialog-overlay",className:He("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function oo({className:e,children:t,...n}){return d.jsxs(jz,{"data-slot":"dialog-portal",children:[d.jsx(Rz,{}),d.jsxs(_z,{"data-slot":"dialog-content",className:He("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,d.jsxs(Pz,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[d.jsx(_E,{}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function io({className:e,...t}){return d.jsx("div",{"data-slot":"dialog-header",className:He("flex flex-col gap-2 text-center sm:text-left",e),...t})}function zb({className:e,...t}){return d.jsx("div",{"data-slot":"dialog-footer",className:He("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function so({className:e,...t}){return d.jsx(Ez,{"data-slot":"dialog-title",className:He("text-lg leading-none font-semibold",e),...t})}function $b({className:e,...t}){return d.jsx(kz,{"data-slot":"dialog-description",className:He("text-muted-foreground text-sm",e),...t})}function Ku(){return(Ku=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Fb(e,t){if(e==null)return{};var n,i,s={},l=Object.keys(e);for(i=0;i<l.length;i++)t.indexOf(n=l[i])>=0||(s[n]=e[n]);return s}function sh(e){var t=S.useRef(e),n=S.useRef(function(i){t.current&&t.current(i)});return t.current=e,n.current}var Bl=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Nl=function(e){return"touches"in e},lh=function(e){return e&&e.ownerDocument.defaultView||self},e0=function(e,t,n){var i=e.getBoundingClientRect(),s=Nl(t)?function(l,a){for(var u=0;u<l.length;u++)if(l[u].identifier===a)return l[u];return l[0]}(t.touches,n):t;return{left:Bl((s.pageX-(i.left+lh(e).pageXOffset))/i.width),top:Bl((s.pageY-(i.top+lh(e).pageYOffset))/i.height)}},t0=function(e){!Nl(e)&&e.preventDefault()},Bb=Fe.memo(function(e){var t=e.onMove,n=e.onKey,i=Fb(e,["onMove","onKey"]),s=S.useRef(null),l=sh(t),a=sh(n),u=S.useRef(null),f=S.useRef(!1),h=S.useMemo(function(){var x=function(N){t0(N),(Nl(N)?N.touches.length>0:N.buttons>0)&&s.current?l(e0(s.current,N,u.current)):w(!1)},C=function(){return w(!1)};function w(N){var E=f.current,P=lh(s.current),_=N?P.addEventListener:P.removeEventListener;_(E?"touchmove":"mousemove",x),_(E?"touchend":"mouseup",C)}return[function(N){var E=N.nativeEvent,P=s.current;if(P&&(t0(E),!function(k,A){return A&&!Nl(k)}(E,f.current)&&P)){if(Nl(E)){f.current=!0;var _=E.changedTouches||[];_.length&&(u.current=_[0].identifier)}P.focus(),l(e0(P,E,u.current)),w(!0)}},function(N){var E=N.which||N.keyCode;E<37||E>40||(N.preventDefault(),a({left:E===39?.05:E===37?-.05:0,top:E===40?.05:E===38?-.05:0}))},w]},[a,l]),v=h[0],m=h[1],g=h[2];return S.useEffect(function(){return g},[g]),Fe.createElement("div",Ku({},i,{onTouchStart:v,onMouseDown:v,className:"react-colorful__interactive",ref:s,onKeyDown:m,tabIndex:0,role:"slider"}))}),pm=function(e){return e.filter(Boolean).join(" ")},Vb=function(e){var t=e.color,n=e.left,i=e.top,s=i===void 0?.5:i,l=pm(["react-colorful__pointer",e.className]);return Fe.createElement("div",{className:l,style:{top:100*s+"%",left:100*n+"%"}},Fe.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},It=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},Tz=function(e){return Oz(ah(e))},ah=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?It(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?It(parseInt(e.substring(6,8),16)/255,2):1}},Az=function(e){return Dz(Iz(e))},Mz=function(e){var t=e.s,n=e.v,i=e.a,s=(200-t)*n/100;return{h:It(e.h),s:It(s>0&&s<200?t*n/100/(s<=100?s:200-s)*100:0),l:It(s/2),a:It(i,2)}},ch=function(e){var t=Mz(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Iz=function(e){var t=e.h,n=e.s,i=e.v,s=e.a;t=t/360*6,n/=100,i/=100;var l=Math.floor(t),a=i*(1-n),u=i*(1-(t-l)*n),f=i*(1-(1-t+l)*n),h=l%6;return{r:It(255*[i,u,a,a,f,i][h]),g:It(255*[f,i,i,u,a,a][h]),b:It(255*[a,a,f,i,i,u][h]),a:It(s,2)}},Mc=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Dz=function(e){var t=e.r,n=e.g,i=e.b,s=e.a,l=s<1?Mc(It(255*s)):"";return"#"+Mc(t)+Mc(n)+Mc(i)+l},Oz=function(e){var t=e.r,n=e.g,i=e.b,s=e.a,l=Math.max(t,n,i),a=l-Math.min(t,n,i),u=a?l===t?(n-i)/a:l===n?2+(i-t)/a:4+(t-n)/a:0;return{h:It(60*(u<0?u+6:u)),s:It(l?a/l*100:0),v:It(l/255*100),a:s}},Lz=Fe.memo(function(e){var t=e.hue,n=e.onChange,i=pm(["react-colorful__hue",e.className]);return Fe.createElement("div",{className:i},Fe.createElement(Bb,{onMove:function(s){n({h:360*s.left})},onKey:function(s){n({h:Bl(t+360*s.left,0,360)})},"aria-label":"Hue","aria-valuenow":It(t),"aria-valuemax":"360","aria-valuemin":"0"},Fe.createElement(Vb,{className:"react-colorful__hue-pointer",left:t/360,color:ch({h:t,s:100,v:100,a:1})})))}),zz=Fe.memo(function(e){var t=e.hsva,n=e.onChange,i={backgroundColor:ch({h:t.h,s:100,v:100,a:1})};return Fe.createElement("div",{className:"react-colorful__saturation",style:i},Fe.createElement(Bb,{onMove:function(s){n({s:100*s.left,v:100-100*s.top})},onKey:function(s){n({s:Bl(t.s+100*s.left,0,100),v:Bl(t.v-100*s.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+It(t.s)+"%, Brightness "+It(t.v)+"%"},Fe.createElement(Vb,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:ch(t)})))}),Hb=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},$z=function(e,t){return e.toLowerCase()===t.toLowerCase()||Hb(ah(e),ah(t))};function Fz(e,t,n){var i=sh(n),s=S.useState(function(){return e.toHsva(t)}),l=s[0],a=s[1],u=S.useRef({color:t,hsva:l});S.useEffect(function(){if(!e.equal(t,u.current.color)){var h=e.toHsva(t);u.current={hsva:h,color:t},a(h)}},[t,e]),S.useEffect(function(){var h;Hb(l,u.current.hsva)||e.equal(h=e.fromHsva(l),u.current.color)||(u.current={hsva:l,color:h},i(h))},[l,e,i]);var f=S.useCallback(function(h){a(function(v){return Object.assign({},v,h)})},[]);return[l,f]}var Bz=typeof window<"u"?S.useLayoutEffect:S.useEffect,Vz=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},n0=new Map,Hz=function(e){Bz(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!n0.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,n0.set(t,n);var i=Vz();i&&n.setAttribute("nonce",i),t.head.appendChild(n)}},[])},Wz=function(e){var t=e.className,n=e.colorModel,i=e.color,s=i===void 0?n.defaultColor:i,l=e.onChange,a=Fb(e,["className","colorModel","color","onChange"]),u=S.useRef(null);Hz(u);var f=Fz(n,s,l),h=f[0],v=f[1],m=pm(["react-colorful",t]);return Fe.createElement("div",Ku({},a,{ref:u,className:m}),Fe.createElement(zz,{hsva:h,onChange:v}),Fe.createElement(Lz,{hue:h.h,onChange:v,className:"react-colorful__last-control"}))},Uz={defaultColor:"000",toHsva:Tz,fromHsva:function(e){return Az({h:e.h,s:e.s,v:e.v,a:1})},equal:$z},Gz=function(e){return Fe.createElement(Wz,Ku({},e,{colorModel:Uz}))};function Yz({colorSet:e,existingColorSets:t,onSave:n}){const[i,s]=S.useState((e==null?void 0:e.name)||""),[l,a]=S.useState((e==null?void 0:e.type)||"basic"),[u,f]=S.useState((e==null?void 0:e.definition)||""),[h,v]=S.useState((e==null?void 0:e.color)||"#3b82f6"),[m,g]=S.useState("int"),[x,C]=S.useState(!1),[w,N]=S.useState("1"),[E,P]=S.useState("100"),[_,k]=S.useState([{id:Le(),name:"value1",value:"1"}]),[A,D]=S.useState("INT"),[R,O]=S.useState([]),[W,Q]=S.useState([{id:Le(),name:"field1",type:"INT"}]),[X,J]=S.useState("INT"),[te,T]=S.useState("");S.useEffect(()=>{if(e){if(s(e.name),a(e.type),f(e.definition),e.type==="basic"){const B=e.definition.match(/colset\s+\w+\s*=\s*(\w+)(?:\s+with\s+(\d+)\.\.(\d+))?/);B&&(g(B[1]),B[2]&&B[3]&&(C(!0),N(B[2]),P(B[3])))}else if(e.type==="list"){const B=e.definition.match(/list\s+(\w+)/);if(B){const Z=B[1],H=t.find(re=>re.name===Z);H&&D(H.name)}}else if(e.type==="product"){const B=e.definition.match(/product\s+([\w\s\*]+)/);if(B){const Z=B[1].split("*").map(H=>H.trim());O(Z)}}else if(e.type==="record"){const B=e.definition.match(/record\s+([\w\s\:\*]+)/);if(B){const Z=B[1].split("*").map(H=>{const[re,le]=H.split(":").map(ae=>ae.trim());return{id:Le(),name:re,type:le}});Q(Z)}}else if(e.type==="subset"){const B=e.definition.match(/subset\s+(\w+)\s+by\s+(.+)/);B&&(J(B[1]),T(B[2]))}}},[e,t]);const V=()=>{k([..._,{id:Le(),name:`value${_.length+1}`,value:`${_.length+1}`}])},L=B=>{k(_.filter(Z=>Z.id!==B))},F=(B,Z,H)=>{k(_.map(re=>re.id===B?{...re,[Z]:H}:re))},M=B=>{B&&!R.includes(B)&&O([...R,B])},z=B=>{O(R.filter((Z,H)=>H!==B))},Y=()=>{Q([...W,{id:Le(),name:`field${W.length+1}`,type:"INT"}])},I=B=>{Q(W.filter(Z=>Z.id!==B))},U=(B,Z,H)=>{Q(W.map(re=>re.id===B?{...re,[Z]:H}:re))},K=()=>{let B=`colset ${i} = `;switch(l){case"basic":B+=m,x&&(B+=` with ${w}..${E}`);break;case"enum":B+=`with ${_.map(Z=>Z.name).join(" | ")}`;break;case"list":B+=`list ${A}`;break;case"product":B+=`product ${R.join(" * ")}`;break;case"record":B+=`record ${W.map(Z=>`${Z.name}: ${Z.type}`).join(" * ")}`;break;case"subset":B+=`subset ${X} by ${te}`;break;default:B+=l}return B+=";",B},ee=()=>{const B=u||K();n({name:i,type:l,definition:B,color:h})};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:"name",children:"Name"}),d.jsx(at,{id:"name",placeholder:"e.g., DATA",value:i,onChange:B=>s(B.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:"type",children:"Type"}),d.jsxs(jn,{value:l,onValueChange:a,children:[d.jsx(Tn,{id:"type",children:d.jsx(Rn,{placeholder:"Select type"})}),d.jsxs(An,{children:[d.jsx(lt,{value:"basic",children:"Basic"}),d.jsx(lt,{value:"enum",children:"Enumerated"}),d.jsx(lt,{value:"list",children:"List"}),d.jsx(lt,{value:"product",children:"Product"}),d.jsx(lt,{value:"record",children:"Record"}),d.jsx(lt,{value:"subset",children:"Subset"}),d.jsx(lt,{value:"union",children:"Union"})]})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:"color",children:"Color"}),d.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[d.jsx(Gz,{color:h,onChange:v}),d.jsx(at,{id:"color",type:"text",value:h,onChange:B=>v(B.target.value),className:"w-full mt-2"})]})]}),d.jsxs(Gu,{defaultValue:"visual",className:"w-full",children:[d.jsxs(Yu,{className:"grid w-full grid-cols-2",children:[d.jsx(Zo,{value:"visual",children:"Visual Editor"}),d.jsx(Zo,{value:"text",children:"Text Editor"})]}),d.jsxs(ss,{value:"visual",className:"space-y-4 pt-4",children:[l==="basic"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{children:"Basic Type"}),d.jsxs(jn,{value:m,onValueChange:g,children:[d.jsx(Tn,{children:d.jsx(Rn,{placeholder:"Select type"})}),d.jsxs(An,{children:[d.jsx(lt,{value:"int",children:"Integer"}),d.jsx(lt,{value:"bool",children:"Boolean"}),d.jsx(lt,{value:"string",children:"String"}),d.jsx(lt,{value:"unit",children:"Unit"}),d.jsx(lt,{value:"real",children:"Real"}),d.jsx(lt,{value:"time",children:"Time"})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"checkbox",id:"withRange",checked:x,onChange:B=>C(B.target.checked),className:"rounded border-gray-300"}),d.jsx(Ie,{htmlFor:"withRange",children:"With Range"})]}),x&&d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:"rangeStart",children:"Range Start"}),d.jsx(at,{id:"rangeStart",type:"number",value:w,onChange:B=>N(B.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:"rangeEnd",children:"Range End"}),d.jsx(at,{id:"rangeEnd",type:"number",value:E,onChange:B=>P(B.target.value)})]})]})]}),l==="enum"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx(Ie,{children:"Enumerated Values"}),_.map(B=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(at,{placeholder:"Name",value:B.name,onChange:Z=>F(B.id,"name",Z.target.value),className:"flex-1"}),d.jsx(at,{placeholder:"Value",value:B.value,onChange:Z=>F(B.id,"value",Z.target.value),className:"w-24"}),d.jsx(De,{variant:"ghost",size:"icon",onClick:()=>L(B.id),children:d.jsx(vr,{className:"h-4 w-4"})})]},B.id)),d.jsxs(De,{variant:"outline",size:"sm",onClick:V,className:"mt-2",children:[d.jsx(Rp,{className:"h-4 w-4 mr-2"}),"Add Value"]})]}),l==="list"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{children:"Base Color Set"}),d.jsxs(jn,{value:A||"INT",onValueChange:D,children:[d.jsx(Tn,{children:d.jsx(Rn,{placeholder:"Select base color set"})}),d.jsx(An,{children:t.map(B=>d.jsx(lt,{value:B.name,children:B.name},B.id))})]})]}),l==="product"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx(Ie,{children:"Product Color Sets"}),R.map((B,Z)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"flex-1 border rounded-md px-3 py-2",children:B}),d.jsx(De,{variant:"ghost",size:"icon",onClick:()=>z(Z),children:d.jsx(vr,{className:"h-4 w-4"})})]},Z)),d.jsx("div",{className:"flex items-center space-x-2",children:d.jsxs(jn,{defaultValue:"INT",onValueChange:M,children:[d.jsx(Tn,{children:d.jsx(Rn,{placeholder:"Add color set"})}),d.jsx(An,{children:t.map(B=>d.jsx(lt,{value:B.name,children:B.name},B.id))})]})})]}),l==="record"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx(Ie,{children:"Record Fields"}),W.map(B=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(at,{placeholder:"Field name",value:B.name,onChange:Z=>U(B.id,"name",Z.target.value),className:"flex-1"}),d.jsxs(jn,{value:B.type,onValueChange:Z=>U(B.id,"type",Z),children:[d.jsx(Tn,{className:"w-[140px]",children:d.jsx(Rn,{placeholder:"Type"})}),d.jsx(An,{children:t.map(Z=>d.jsx(lt,{value:Z.name,children:Z.name},Z.id))})]}),d.jsx(De,{variant:"ghost",size:"icon",onClick:()=>I(B.id),children:d.jsx(vr,{className:"h-4 w-4"})})]},B.id)),d.jsxs(De,{variant:"outline",size:"sm",onClick:Y,className:"mt-2",children:[d.jsx(Rp,{className:"h-4 w-4 mr-2"}),"Add Field"]})]}),l==="subset"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{children:"Subset of"}),d.jsxs(jn,{value:X||"INT",onValueChange:J,children:[d.jsx(Tn,{children:d.jsx(Rn,{placeholder:"Select parent color set"})}),d.jsx(An,{children:t.map(B=>d.jsx(lt,{value:B.name,children:B.name},B.id))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:"predicate",children:"Predicate"}),d.jsx(at,{id:"predicate",placeholder:"e.g., x => x > 0",value:te,onChange:B=>T(B.target.value)})]})]}),d.jsxs("div",{className:"pt-4",children:[d.jsx(Ie,{children:"Preview"}),d.jsx("div",{className:"font-mono text-sm mt-2 p-3 bg-muted rounded-md",children:K()})]})]}),d.jsx(ss,{value:"text",className:"pt-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:"definition",children:"Color Set Definition"}),d.jsx(wr,{id:"definition",placeholder:"colset DATA = int with 1..100;",className:"font-mono h-[200px]",value:u,onChange:B=>f(B.target.value)})]})})]}),d.jsx("div",{className:"pt-4",children:d.jsx(De,{onClick:ee,className:"w-full",children:"Save Color Set"})})]})}function Xz({variable:e,existingColorSets:t,onSave:n}){const[i,s]=S.useState((e==null?void 0:e.name)||""),[l,a]=S.useState((e==null?void 0:e.colorSet)||"INT");S.useEffect(()=>{e&&(s(e.name),a(e.colorSet))},[e]);const u=()=>{n({name:i,colorSet:l})};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"space-y-2 flex-1",children:[d.jsx(Ie,{htmlFor:"name",children:"Name"}),d.jsx(at,{id:"name",placeholder:"e.g., n",value:i,onChange:f=>s(f.target.value)})]}),d.jsx("div",{className:"space-y-2 flex-none mt-auto pb-2",children:":"}),d.jsxs("div",{className:"space-y-2 flex-1",children:[d.jsx(Ie,{htmlFor:"baseColorSet",children:"Type"}),d.jsxs(jn,{value:l||"INT",onValueChange:a,children:[d.jsx(Tn,{children:d.jsx(Rn,{placeholder:"Select color set"})}),d.jsx(An,{children:t.map(f=>d.jsx(lt,{value:f.name,children:f.name},f.id))})]})]})]}),d.jsx("div",{className:"pt-4",children:d.jsx(De,{onClick:u,className:"w-full",children:"Save Variable"})})]})}function Kz({priority:e,onSave:t}){const[n,i]=S.useState((e==null?void 0:e.name)||""),[s,l]=S.useState((e==null?void 0:e.level)||100);S.useEffect(()=>{e&&(i(e.name),l(e.level))},[e]);const a=()=>{t({name:n,level:s})};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"space-y-2 flex-1",children:[d.jsx(Ie,{htmlFor:"name",children:"Name"}),d.jsx(at,{placeholder:"Name (e.g., P_MEDIUM)",className:"flex-1",value:n,onChange:u=>i(u.target.value)})]}),d.jsxs("div",{className:"space-y-2 flex-none",children:[d.jsx(Ie,{htmlFor:"baseColorSet",children:"Level"}),d.jsx(at,{type:"number",placeholder:"Level (e.g., 250)",className:"w-[120px]",value:s||"",onChange:u=>l(Number(u.target.value))})]})]}),d.jsx("div",{className:"pt-4",children:d.jsx(De,{onClick:a,className:"w-full",children:"Save Priority"})})]})}function qz({existingFunction:e,onSave:t}){const[n,i]=S.useState(e||{id:Le(),name:"",patterns:[{id:Le(),pattern:"",expression:""}]}),[s,l]=S.useState(e?g(e):"fun functionName (param1, param2) = expression;"),a=()=>{i({...n,patterns:[...n.patterns,{id:Le(),pattern:"",expression:""}]})},u=N=>{n.patterns.length<=1||i({...n,patterns:n.patterns.filter(E=>E.id!==N)})},f=(N,E,P)=>{i({...n,patterns:n.patterns.map(_=>_.id===N?{..._,[E]:P}:_)})},h=N=>{i({...n,name:N})},v=N=>{l(N)},m=()=>{if(C==="text"){const N=x(s);t(N?{...N}:n)}else t(n)};function g(N){return!N.name||N.patterns.length===0?"fun functionName (param1, param2) = expression;":N.patterns.map((E,P)=>`${P===0?"fun ":"| "}${N.name} ${E.pattern} = ${E.expression}`).join(`
`)+";"}function x(N){try{N=N.trim().replace(/;$/,"");const E=N.split(`
`).map(k=>k.trim()).filter(k=>k);if(E.length===0)return null;const P=[];let _="";for(let k=0;k<E.length;k++){const A=E[k],D=k===0,R=D?/^fun\s+([a-zA-Z0-9_]+)\s*(.+?)\s*=\s*(.+)$/:/^\|\s*([a-zA-Z0-9_]+)\s*(.+?)\s*=\s*(.+)$/,O=A.match(R);if(!O)continue;const[,W,Q,X]=O;if(D)_=W;else if(W!==_)continue;P.push({id:Le(),pattern:Q,expression:X})}return!_||P.length===0?null:{id:Le(),name:_,patterns:P}}catch(E){return console.error("Error parsing function code:",E),null}}const[C,w]=S.useState("structured");return d.jsxs("div",{className:"space-y-4",children:[d.jsxs(Gu,{defaultValue:"structured",className:"w-full",onValueChange:w,children:[d.jsxs(Yu,{className:"grid w-full grid-cols-2",children:[d.jsx(Zo,{value:"structured",children:"Structured Editor"}),d.jsx(Zo,{value:"text",children:"Text Editor"})]}),d.jsxs(ss,{value:"structured",className:"space-y-4 pt-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:"function-name",children:"Function Name"}),d.jsx(at,{id:"function-name",placeholder:"e.g., listMult",value:n.name,onChange:N=>h(N.target.value)})]}),d.jsxs("div",{className:"space-y-4 max-h-[400px] overflow-y-auto",children:[d.jsx(Ie,{children:"Function Patterns"}),n.patterns.map((N,E)=>d.jsxs("div",{className:"space-y-2 border p-3 rounded-md",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs(Ie,{children:["Pattern ",E+1]}),d.jsx(De,{variant:"ghost",size:"icon",onClick:()=>u(N.id),disabled:n.patterns.length<=1,children:d.jsx(vr,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:`pattern-${N.id}`,children:"Pattern"}),d.jsx(at,{id:`pattern-${N.id}`,placeholder:"e.g., (c, x::xs)",value:N.pattern,onChange:P=>f(N.id,"pattern",P.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:`expression-${N.id}`,children:"Expression"}),d.jsx(wr,{id:`expression-${N.id}`,placeholder:"e.g., (c * x)::listMult(c, xs)",className:"font-mono h-[80px]",value:N.expression,onChange:P=>f(N.id,"expression",P.target.value)})]})]},N.id)),d.jsxs(De,{variant:"outline",size:"sm",onClick:a,className:"w-full",children:[d.jsx(Rp,{className:"h-4 w-4 mr-2"}),"Add Pattern"]})]}),d.jsxs("div",{className:"pt-4",children:[d.jsx(Ie,{children:"Preview"}),d.jsx("div",{className:"font-mono text-sm mt-2 p-3 bg-muted rounded-md whitespace-pre-wrap",children:g(n)})]})]}),d.jsx(ss,{value:"text",className:"pt-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:"raw-code",children:"Function Definition"}),d.jsx(wr,{id:"raw-code",placeholder:`fun listMult (c, x::xs) = (c * x)::listMult(c, xs)
| listMult (_, nil) = nil;`,className:"font-mono h-[240px]",value:s,onChange:N=>v(N.target.value)}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Define your function using ML-style syntax. Use multiple lines with | for pattern matching."})]})})]}),d.jsx("div",{className:"pt-4",children:d.jsx(De,{onClick:m,className:"w-full",children:"Save Function"})})]})}function Qz({existingUse:e,onSave:t}){const[n,i]=S.useState({name:(e==null?void 0:e.name)||"",content:(e==null?void 0:e.content)||""}),[s,l]=S.useState(!1),a=()=>{n.name.trim()&&t(n)},u=m=>{const g=new FileReader;if(g.onload=x=>{var w;const C=(w=x.target)==null?void 0:w.result;i(N=>({...N,content:C}))},g.readAsText(m),!n.name.trim()&&m.name){const x=m.name;i(C=>({...C,name:x}))}},f=m=>{m.preventDefault(),l(!0)},h=()=>{l(!1)},v=m=>{if(m.preventDefault(),l(!1),m.dataTransfer.files&&m.dataTransfer.files.length>0){const g=m.dataTransfer.files[0];u(g)}};return d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:"use-name",children:"Name"}),d.jsx(at,{id:"use-name",placeholder:"e.g., Utils.sml",value:n.name,onChange:m=>i({...n,name:m.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsx(Ie,{htmlFor:"use-content",children:"Content"})}),d.jsxs("div",{className:"relative",children:[d.jsx(wr,{id:"use-content",placeholder:"Enter the content of the external file or drag and drop a file here...",className:`font-mono h-[300px] max-w-[550px] transition-colors ${s?"border-primary bg-primary/5":""}`,value:n.content,onChange:m=>i({...n,content:m.target.value}),onDragOver:f,onDragLeave:h,onDrop:v}),s&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-primary/10 border-2 border-dashed border-primary rounded-md pointer-events-none",children:d.jsx("div",{className:"bg-background p-3 rounded-md shadow-md",children:d.jsx("p",{className:"text-sm font-medium",children:"Drop file to import content"})})})]}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["This content will be included as an external file reference in the CPN model. You can edit it manually or",d.jsx("strong",{children:" drag and drop a file"})," directly onto the text area to import its content."]})]}),d.jsx("div",{className:"pt-4",children:d.jsx(De,{className:"w-full",type:"submit",onClick:a,children:"Save Library"})})]})}var qu="Collapsible",[Zz,d4]=en(qu),[Jz,hm]=Zz(qu),Wb=S.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:i,defaultOpen:s,disabled:l,onOpenChange:a,...u}=e,[f,h]=fn({prop:i,defaultProp:s??!1,onChange:a,caller:qu});return d.jsx(Jz,{scope:n,disabled:l,contentId:On(),open:f,onOpenToggle:S.useCallback(()=>h(v=>!v),[h]),children:d.jsx(je.div,{"data-state":gm(f),"data-disabled":l?"":void 0,...u,ref:t})})});Wb.displayName=qu;var Ub="CollapsibleTrigger",Gb=S.forwardRef((e,t)=>{const{__scopeCollapsible:n,...i}=e,s=hm(Ub,n);return d.jsx(je.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":gm(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...i,ref:t,onClick:_e(e.onClick,s.onOpenToggle)})});Gb.displayName=Ub;var mm="CollapsibleContent",Yb=S.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=hm(mm,e.__scopeCollapsible);return d.jsx(Wt,{present:n||s.open,children:({present:l})=>d.jsx(e$,{...i,ref:t,present:l})})});Yb.displayName=mm;var e$=S.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:i,children:s,...l}=e,a=hm(mm,n),[u,f]=S.useState(i),h=S.useRef(null),v=ze(t,h),m=S.useRef(0),g=m.current,x=S.useRef(0),C=x.current,w=a.open||u,N=S.useRef(w),E=S.useRef(void 0);return S.useEffect(()=>{const P=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(P)},[]),Pt(()=>{const P=h.current;if(P){E.current=E.current||{transitionDuration:P.style.transitionDuration,animationName:P.style.animationName},P.style.transitionDuration="0s",P.style.animationName="none";const _=P.getBoundingClientRect();m.current=_.height,x.current=_.width,N.current||(P.style.transitionDuration=E.current.transitionDuration,P.style.animationName=E.current.animationName),f(i)}},[a.open,i]),d.jsx(je.div,{"data-state":gm(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!w,...l,ref:v,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...e.style},children:w&&s})});function gm(e){return e?"open":"closed"}var t$=Wb;function ul({...e}){return d.jsx(t$,{"data-slot":"collapsible",...e})}function dl({...e}){return d.jsx(Gb,{"data-slot":"collapsible-trigger",...e})}function fl({...e}){return d.jsx(Yb,{"data-slot":"collapsible-content",...e})}function n$(){const[e,t]=S.useState(!1),[n,i]=S.useState(!1),[s,l]=S.useState(!1),[a,u]=S.useState(!1),[f,h]=S.useState(!1),v=Ce(se=>se.colorSets),m=Ce(se=>se.setColorSets),g=Ce(se=>se.addColorSet),x=Ce(se=>se.deleteColorSet),C=Ce(se=>se.variables),w=Ce(se=>se.setVariables),N=Ce(se=>se.addVariable),E=Ce(se=>se.deleteVariable),P=Ce(se=>se.priorities),_=Ce(se=>se.setPriorities),k=Ce(se=>se.addPriority),A=Ce(se=>se.deletePriority),D=Ce(se=>se.functions),R=Ce(se=>se.setFunctions),O=Ce(se=>se.addFunction),W=Ce(se=>se.deleteFunction),Q=Ce(se=>se.uses),X=Ce(se=>se.setUses),J=Ce(se=>se.addUse),te=Ce(se=>se.deleteUse),[T,V]=S.useState({name:"",colorSet:"INT"}),[L,F]=S.useState({name:"",level:250}),[M,z]=S.useState(void 0),[Y,I]=S.useState(!1),[U,K]=S.useState(void 0),[ee,B]=S.useState(!1),[Z,H]=S.useState(void 0),[re,le]=S.useState(!1),[ae,fe]=S.useState(void 0),[ce,ve]=S.useState(!1),[xe,Be]=S.useState(void 0),[he,Re]=S.useState(!1),[Pe,Ue]=S.useState(null),[Xe,Je]=S.useState(null),Ge=()=>{T.name&&T.colorSet&&(N({name:T.name,colorSet:T.colorSet}),V({name:"",colorSet:"INT"}))},et=()=>{L.name&&L.level&&(k({name:L.name,level:Number(L.level)}),F({name:"",level:100}))},ht=se=>{z(se),I(!0)},mt=se=>{K(se),B(!0)},jt=se=>{H(se),le(!0)},Ft=se=>{fe(se),ve(!0)},Er=se=>{if(ae){const Te=D.map(qe=>qe.id===ae.id?{...qe,...se}:qe);R(Te)}else O(se);ve(!1),fe(void 0)},kr=se=>{Be(se),Re(!0)},rr=se=>{if(xe){const Te=Q.map(qe=>qe.id===xe.id?{...qe,...se}:qe);X(Te)}else J(se);Re(!1),Be(void 0)},or=se=>{if(M){const Te=v.map(qe=>qe.id===M.id?{...qe,...se}:qe);m(Te)}else g(se);I(!1),z(void 0)},ys=se=>{if(U){const Te=C.map(qe=>qe.id===U.id?{...qe,...se}:qe);w(Te)}else N(se);B(!1),K(void 0)},ti=se=>{if(Z){const Te=P.map(qe=>qe.id===Z.id?{...qe,...se}:qe);_(Te)}else k(se);le(!1),H(void 0)},ir=(se,Te,qe)=>{Ue(Te),Je(qe),se.dataTransfer.effectAllowed="move",se.dataTransfer.setData("text/plain",Te.id??"")},Pr=(se,Te)=>{se.preventDefault(),se.dataTransfer.dropEffect="move",Pe&&Pe.id!==Te.id&&se.currentTarget.classList.add("bg-muted")},Bn=se=>{se.currentTarget.classList.remove("bg-muted")},Vn=(se,Te)=>{if(se.preventDefault(),se.currentTarget.classList.remove("bg-muted"),!(!Pe||!Xe)&&Pe.id!==Te.id){if(Xe==="colorSet"){const Qe=[...v],Dt=Qe.findIndex(xt=>xt.id===Pe.id),Rt=Qe.findIndex(xt=>xt.id===Te.id);Dt!==-1&&Rt!==-1&&(Qe.splice(Dt,1),Qe.splice(Rt,0,Pe),m(Qe))}else if(Xe==="variable"){const Qe=[...C],Dt=Qe.findIndex(xt=>xt.id===Pe.id),Rt=Qe.findIndex(xt=>xt.id===Te.id);Dt!==-1&&Rt!==-1&&(Qe.splice(Dt,1),Qe.splice(Rt,0,Pe),w(Qe))}else if(Xe==="priority"){const Qe=[...P],Dt=Qe.findIndex(xt=>xt.id===Pe.id),Rt=Qe.findIndex(xt=>xt.id===Te.id);Dt!==-1&&Rt!==-1&&(Qe.splice(Dt,1),Qe.splice(Rt,0,Pe),_(Qe))}else if(Xe==="function"){const Qe=[...D],Dt=Qe.findIndex(xt=>xt.id===Pe.id),Rt=Qe.findIndex(xt=>xt.id===Te.id);Dt!==-1&&Rt!==-1&&(Qe.splice(Dt,1),Qe.splice(Rt,0,Pe),R(Qe))}Ue(null),Je(null)}},Hn=()=>{Ue(null),Je(null)};return d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"space-y-3",children:d.jsxs(ul,{open:e,onOpenChange:t,children:[d.jsx(dl,{asChild:!0,children:d.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[d.jsxs(De,{variant:"ghost",size:"sm",children:[e?d.jsx(Lo,{className:"h-4 w-4",strokeWidth:4}):d.jsx(ol,{className:"h-4 w-4",strokeWidth:4}),d.jsx("span",{className:"sr-only",children:"Toggle"})]}),d.jsx("h2",{className:"font-bold flex-1",children:"Priorities"})]})}),d.jsxs(fl,{className:"space-y-3 mb-8",children:[d.jsx("div",{className:"space-y-2",children:P.slice().sort((se,Te)=>se.level-Te.level).map(se=>d.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("div",{className:"font-mono text-sm",children:[se.name," = ",se.level]})}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(De,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>jt(se),children:d.jsx(il,{className:"h-3 w-3"})}),d.jsx(De,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>se.id&&A(se.id),children:d.jsx(vr,{className:"h-3 w-3"})})]})]})},se.id))}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(at,{placeholder:"Name (e.g., P_MEDIUM)",className:"flex-1",value:L.name,onChange:se=>F({...L,name:se.target.value})}),d.jsx(at,{type:"number",placeholder:"Level (e.g., 250)",className:"w-[120px]",value:L.level||"",onChange:se=>F({...L,level:Number.parseInt(se.target.value)||0})})]}),d.jsx(De,{size:"sm",variant:"outline",onClick:et,children:"Add Priority"}),d.jsx(ro,{open:re,onOpenChange:le,children:d.jsxs(oo,{className:"sm:max-w-[600px]",children:[d.jsx(io,{children:d.jsx(so,{children:Z?`Edit Priority: ${Z.name}`:"Create New Priority"})}),d.jsx(Kz,{priority:Z,onSave:ti})]})})]})]})}),d.jsx("div",{className:"space-y-3",children:d.jsxs(ul,{open:n,onOpenChange:i,children:[d.jsx(dl,{asChild:!0,children:d.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[d.jsxs(De,{variant:"ghost",size:"sm",children:[n?d.jsx(Lo,{className:"h-4 w-4",strokeWidth:4}):d.jsx(ol,{className:"h-4 w-4",strokeWidth:4}),d.jsx("span",{className:"sr-only",children:"Toggle"})]}),d.jsx("h2",{className:"font-bold flex-1",children:"Color Sets"})]})}),d.jsxs(fl,{className:"space-y-3",children:[d.jsx("div",{className:"space-y-2",children:v.map(se=>d.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Te=>ir(Te,se,"colorSet"),onDragOver:Te=>Pr(Te,se),onDragLeave:Bn,onDrop:Te=>Vn(Te,se),onDragEnd:Hn,children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:d.jsx(hl,{className:"h-4 w-4 text-muted-foreground"})}),d.jsx("div",{className:"font-mono text-sm",children:se.definition})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:se.color||"#3b82f6"}}),d.jsx(De,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>ht(se),children:d.jsx(il,{className:"h-3 w-3"})}),d.jsx(De,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>se.id&&x(se.id),children:d.jsx(vr,{className:"h-3 w-3"})})]})]})},se.id))}),d.jsxs(ro,{open:Y,onOpenChange:I,children:[d.jsx(kp,{asChild:!0,children:d.jsx(De,{className:"w-full",variant:"outline",onClick:()=>{z(void 0),I(!0)},children:"Create New Color Set"})}),d.jsxs(oo,{className:"sm:max-w-[600px]",children:[d.jsx(io,{children:d.jsx(so,{children:M?`Edit Color Set: ${M.name}`:"Create New Color Set"})}),d.jsx(Yz,{colorSet:M,existingColorSets:v,onSave:or})]})]})]})]})}),d.jsx("div",{className:"space-y-3",children:d.jsxs(ul,{open:s,onOpenChange:l,children:[d.jsx(dl,{asChild:!0,children:d.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[d.jsxs(De,{variant:"ghost",size:"sm",children:[s?d.jsx(Lo,{className:"h-4 w-4",strokeWidth:4}):d.jsx(ol,{className:"h-4 w-4",strokeWidth:4}),d.jsx("span",{className:"sr-only",children:"Toggle"})]}),d.jsx("h2",{className:"font-bold flex-1",children:"Variables"})]})}),d.jsxs(fl,{className:"space-y-3",children:[d.jsx("div",{className:"space-y-2",children:C.map(se=>d.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Te=>ir(Te,se,"variable"),onDragOver:Te=>Pr(Te,se),onDragLeave:Bn,onDrop:Te=>Vn(Te,se),onDragEnd:Hn,children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:d.jsx(hl,{className:"h-4 w-4 text-muted-foreground"})}),d.jsxs("div",{className:"font-mono text-sm",children:["var ",se.name,": ",se.colorSet,";"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(De,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>mt(se),children:d.jsx(il,{className:"h-3 w-3"})}),d.jsx(De,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>se.id&&E(se.id),children:d.jsx(vr,{className:"h-3 w-3"})})]})]})},se.id))}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(at,{placeholder:"Name (e.g., n)",className:"flex-1",value:T.name,onChange:se=>V({...T,name:se.target.value})})," :",d.jsxs(jn,{value:T.colorSet,onValueChange:se=>V({...T,colorSet:se}),children:[d.jsx(Tn,{className:"w-[180px]",children:d.jsx(Rn,{placeholder:"Color Set"})}),d.jsx(An,{children:v.map(se=>d.jsx(lt,{value:se.name,children:se.name},se.id))})]})]}),d.jsx(De,{size:"sm",variant:"outline",onClick:Ge,children:"Add Variable"}),d.jsx(ro,{open:ee,onOpenChange:B,children:d.jsxs(oo,{className:"sm:max-w-[600px]",children:[d.jsx(io,{children:d.jsx(so,{children:U?`Edit Variable: ${U.name}`:"Create New Variable"})}),d.jsx(Xz,{variable:U,existingColorSets:v,onSave:ys})]})})]})]})}),d.jsx("div",{className:"space-y-3",children:d.jsxs(ul,{open:a,onOpenChange:u,children:[d.jsx(dl,{asChild:!0,children:d.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[d.jsxs(De,{variant:"ghost",size:"sm",children:[a?d.jsx(Lo,{className:"h-4 w-4",strokeWidth:4}):d.jsx(ol,{className:"h-4 w-4",strokeWidth:4}),d.jsx("span",{className:"sr-only",children:"Toggle"})]}),d.jsx("h2",{className:"font-bold flex-1",children:"Functions"})]})}),d.jsxs(fl,{className:"space-y-3",children:[d.jsx("div",{className:"space-y-2",children:D.map(se=>d.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Te=>ir(Te,se,"function"),onDragOver:Te=>Pr(Te,se),onDragLeave:Bn,onDrop:Te=>Vn(Te,se),onDragEnd:Hn,children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:d.jsx(hl,{className:"h-4 w-4 text-muted-foreground"})}),d.jsxs("div",{className:"font-mono text-sm",children:["fun ",se.name]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(De,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>Ft(se),children:d.jsx(il,{className:"h-3 w-3"})}),d.jsx(De,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>se.id&&W(se.id),children:d.jsx(vr,{className:"h-3 w-3"})})]})]})},se.id))}),d.jsxs(ro,{open:ce,onOpenChange:ve,children:[d.jsx(kp,{asChild:!0,children:d.jsx(De,{className:"w-full",variant:"outline",onClick:()=>fe(void 0),children:"Create New Function"})}),d.jsxs(oo,{className:"sm:max-w-[600px]",children:[d.jsx(io,{children:d.jsx(so,{children:ae?`Edit Function: ${ae.name}`:"Create New Function"})}),d.jsx(qz,{existingFunction:ae,onSave:Er})]})]})]})]})}),d.jsx("div",{className:"space-y-3",children:d.jsxs(ul,{open:f,onOpenChange:h,children:[d.jsx(dl,{asChild:!0,children:d.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[d.jsxs(De,{variant:"ghost",size:"sm",children:[f?d.jsx(Lo,{className:"h-4 w-4",strokeWidth:4}):d.jsx(ol,{className:"h-4 w-4",strokeWidth:4}),d.jsx("span",{className:"sr-only",children:"Toggle"})]}),d.jsx("h2",{className:"font-bold flex-1",children:"Libraries"})]})}),d.jsxs(fl,{className:"space-y-3",children:[d.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:Q.map(se=>d.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Te=>ir(Te,se,"use"),onDragOver:Te=>Pr(Te,se),onDragLeave:Bn,onDrop:Te=>Vn(Te,se),onDragEnd:Hn,children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:d.jsx(hl,{className:"h-4 w-4 text-muted-foreground"})}),d.jsxs("div",{className:"font-mono text-sm",children:['use "',se.name,'";']})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(De,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>kr(se),children:d.jsx(il,{className:"h-3 w-3"})}),d.jsx(De,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>se.id&&te(se.id),children:d.jsx(vr,{className:"h-3 w-3"})})]})]})},se.id))}),d.jsxs(ro,{open:he,onOpenChange:Re,children:[d.jsx(kp,{asChild:!0,children:d.jsx(De,{className:"w-full",variant:"outline",onClick:()=>Be(void 0),children:"Add External Library"})}),d.jsxs(oo,{className:"sm:max-w-[600px]",children:[d.jsx(io,{children:d.jsx(so,{children:xe?"Edit External Library":"Add External Library"})}),d.jsx(Qz,{existingUse:xe,onSave:rr})]})]})]})]})})]})}const r$=()=>{const e=Ce(s=>{const l=s.activePetriNetId?s.petriNetsById[s.activePetriNetId]:null;return l==null?void 0:l.selectedElement}),t=Ce(s=>s.colorSets),n=Ce(s=>s.priorities),i=()=>{if(!e)return d.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Select an element to edit its properties"});if(e.type==="node"){const s=e.element.type;if(s==="place")return d.jsx(HL,{colorSets:t});if(s==="transition")return d.jsx(lz,{priorities:n});if(s==="auxText")return d.jsx(az,{})}else if(e.type==="edge")return d.jsx(cz,{});return null};return d.jsx(Q0,{defaultSize:20,className:"min-w-[400px]",children:d.jsx(HI,{className:"h-full",children:d.jsx("div",{className:"px-4 py-2",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-lg font-medium",children:"OCPN Tools"}),d.jsxs(xI,{children:[d.jsx(wI,{className:"px-4 pb-2",children:d.jsx(SI,{className:"text-md",children:e?e.type==="node"?e.element.type==="place"?"Place Properties":"Transition Properties":"Arc Properties":"Element Properties"})}),d.jsx(bI,{className:"p-4 pt-2",children:i()})]})]}),d.jsx(Au,{orientation:"horizontal",className:"mt-2"}),d.jsx("div",{className:"p-4",children:d.jsx(n$,{})})]})})})})},o$="modulepreload",i$=function(e){return"/ocpn-tools/"+e},r0={},o0=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){let a=function(h){return Promise.all(h.map(v=>Promise.resolve(v).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=a(n.map(h=>{if(h=i$(h),h in r0)return;r0[h]=!0;const v=h.endsWith(".css"),m=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const g=document.createElement("link");if(g.rel=v?"stylesheet":o$,v||(g.as="script"),g.crossOrigin="",g.href=h,f&&g.setAttribute("nonce",f),document.head.appendChild(g),v)return new Promise((x,C)=>{g.addEventListener("load",x),g.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return s.then(a=>{for(const u of a||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})};function s$(e){const t=Ce(a=>a.setNodes),n=Ce(a=>a.setEdges),i=S.useCallback(a=>{var h;const u=((h=Ce.getState().petriNetsById[e])==null?void 0:h.nodes)||[],f=lS(a,u);t(e,f)},[e,t]),s=S.useCallback(a=>{var h;const u=((h=Ce.getState().petriNetsById[e])==null?void 0:h.edges)||[],f=aS(a,u);n(e,f)},[e,n]),l=S.useCallback(a=>{var h;const u={...a,id:Le(),type:"floating",label:"",animated:!1},f=((h=Ce.getState().petriNetsById[e])==null?void 0:h.edges)||[];n(e,[...f,u])},[e,n]);return{onNodesChange:i,onEdgesChange:s,onConnect:l}}const i0=e=>Symbol.iterator in e,s0=e=>"entries"in e,l0=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),i=t instanceof Map?t:new Map(t.entries());if(n.size!==i.size)return!1;for(const[s,l]of n)if(!Object.is(l,i.get(s)))return!1;return!0},l$=(e,t)=>{const n=e[Symbol.iterator](),i=t[Symbol.iterator]();let s=n.next(),l=i.next();for(;!s.done&&!l.done;){if(!Object.is(s.value,l.value))return!1;s=n.next(),l=i.next()}return!!s.done&&!!l.done};function a$(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:!i0(e)||!i0(t)?l0({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)}):s0(e)&&s0(t)?l0(e,t):l$(e,t)}function c$(e){const t=Fe.useRef(void 0);return n=>{const i=e(n);return a$(t.current,i)?t.current:t.current=i}}var Xb="Toggle",vm=S.forwardRef((e,t)=>{const{pressed:n,defaultPressed:i,onPressedChange:s,...l}=e,[a,u]=fn({prop:n,onChange:s,defaultProp:i??!1,caller:Xb});return d.jsx(je.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":e.disabled?"":void 0,...l,ref:t,onClick:_e(e.onClick,()=>{e.disabled||u(!a)})})});vm.displayName=Xb;var u$=vm;const Kb=Sb("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function d$({className:e,variant:t,size:n,...i}){return d.jsx(u$,{"data-slot":"toggle",className:He(Kb({variant:t,size:n,className:e})),...i})}var[Qu,f4]=en("Tooltip",[hs]),Zu=hs(),qb="TooltipProvider",f$=700,uh="tooltip.open",[p$,ym]=Qu(qb),Qb=e=>{const{__scopeTooltip:t,delayDuration:n=f$,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:l}=e,a=S.useRef(!0),u=S.useRef(!1),f=S.useRef(0);return S.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),d.jsx(p$,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(f.current),a.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>a.current=!0,i)},[i]),isPointerInTransitRef:u,onPointerInTransitChange:S.useCallback(h=>{u.current=h},[]),disableHoverableContent:s,children:l})};Qb.displayName=qb;var Vl="Tooltip",[h$,ta]=Qu(Vl),Zb=e=>{const{__scopeTooltip:t,children:n,open:i,defaultOpen:s,onOpenChange:l,disableHoverableContent:a,delayDuration:u}=e,f=ym(Vl,e.__scopeTooltip),h=Zu(t),[v,m]=S.useState(null),g=On(),x=S.useRef(0),C=a??f.disableHoverableContent,w=u??f.delayDuration,N=S.useRef(!1),[E,P]=fn({prop:i,defaultProp:s??!1,onChange:R=>{R?(f.onOpen(),document.dispatchEvent(new CustomEvent(uh))):f.onClose(),l==null||l(R)},caller:Vl}),_=S.useMemo(()=>E?N.current?"delayed-open":"instant-open":"closed",[E]),k=S.useCallback(()=>{window.clearTimeout(x.current),x.current=0,N.current=!1,P(!0)},[P]),A=S.useCallback(()=>{window.clearTimeout(x.current),x.current=0,P(!1)},[P]),D=S.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{N.current=!0,P(!0),x.current=0},w)},[w,P]);return S.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),d.jsx(tm,{...h,children:d.jsx(h$,{scope:t,contentId:g,open:E,stateAttribute:_,trigger:v,onTriggerChange:m,onTriggerEnter:S.useCallback(()=>{f.isOpenDelayedRef.current?D():k()},[f.isOpenDelayedRef,D,k]),onTriggerLeave:S.useCallback(()=>{C?A():(window.clearTimeout(x.current),x.current=0)},[A,C]),onOpen:k,onClose:A,disableHoverableContent:C,children:n})})};Zb.displayName=Vl;var dh="TooltipTrigger",Jb=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=ta(dh,n),l=ym(dh,n),a=Zu(n),u=S.useRef(null),f=ze(t,u,s.onTriggerChange),h=S.useRef(!1),v=S.useRef(!1),m=S.useCallback(()=>h.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),d.jsx($u,{asChild:!0,...a,children:d.jsx(je.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:f,onPointerMove:_e(e.onPointerMove,g=>{g.pointerType!=="touch"&&!v.current&&!l.isPointerInTransitRef.current&&(s.onTriggerEnter(),v.current=!0)}),onPointerLeave:_e(e.onPointerLeave,()=>{s.onTriggerLeave(),v.current=!1}),onPointerDown:_e(e.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:_e(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:_e(e.onBlur,s.onClose),onClick:_e(e.onClick,s.onClose)})})});Jb.displayName=dh;var xm="TooltipPortal",[m$,g$]=Qu(xm,{forceMount:void 0}),eN=e=>{const{__scopeTooltip:t,forceMount:n,children:i,container:s}=e,l=ta(xm,t);return d.jsx(m$,{scope:t,forceMount:n,children:d.jsx(Wt,{present:n||l.open,children:d.jsx(Jl,{asChild:!0,container:s,children:i})})})};eN.displayName=xm;var ls="TooltipContent",tN=S.forwardRef((e,t)=>{const n=g$(ls,e.__scopeTooltip),{forceMount:i=n.forceMount,side:s="top",...l}=e,a=ta(ls,e.__scopeTooltip);return d.jsx(Wt,{present:i||a.open,children:a.disableHoverableContent?d.jsx(nN,{side:s,...l,ref:t}):d.jsx(v$,{side:s,...l,ref:t})})}),v$=S.forwardRef((e,t)=>{const n=ta(ls,e.__scopeTooltip),i=ym(ls,e.__scopeTooltip),s=S.useRef(null),l=ze(t,s),[a,u]=S.useState(null),{trigger:f,onClose:h}=n,v=s.current,{onPointerInTransitChange:m}=i,g=S.useCallback(()=>{u(null),m(!1)},[m]),x=S.useCallback((C,w)=>{const N=C.currentTarget,E={x:C.clientX,y:C.clientY},P=S$(E,N.getBoundingClientRect()),_=b$(E,P),k=N$(w.getBoundingClientRect()),A=_$([..._,...k]);u(A),m(!0)},[m]);return S.useEffect(()=>()=>g(),[g]),S.useEffect(()=>{if(f&&v){const C=N=>x(N,v),w=N=>x(N,f);return f.addEventListener("pointerleave",C),v.addEventListener("pointerleave",w),()=>{f.removeEventListener("pointerleave",C),v.removeEventListener("pointerleave",w)}}},[f,v,x,g]),S.useEffect(()=>{if(a){const C=w=>{const N=w.target,E={x:w.clientX,y:w.clientY},P=(f==null?void 0:f.contains(N))||(v==null?void 0:v.contains(N)),_=!C$(E,a);P?g():_&&(g(),h())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[f,v,a,h,g]),d.jsx(nN,{...e,ref:l})}),[y$,x$]=Qu(Vl,{isInside:!1}),w$=cI("TooltipContent"),nN=S.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":s,onEscapeKeyDown:l,onPointerDownOutside:a,...u}=e,f=ta(ls,n),h=Zu(n),{onClose:v}=f;return S.useEffect(()=>(document.addEventListener(uh,v),()=>document.removeEventListener(uh,v)),[v]),S.useEffect(()=>{if(f.trigger){const m=g=>{const x=g.target;x!=null&&x.contains(f.trigger)&&v()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[f.trigger,v]),d.jsx(Ql,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:v,children:d.jsxs(nm,{"data-state":f.stateAttribute,...h,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(w$,{children:i}),d.jsx(y$,{scope:n,isInside:!0,children:d.jsx(wO,{id:f.contentId,role:"tooltip",children:s||i})})]})})});tN.displayName=ls;var rN="TooltipArrow",oN=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=Zu(n);return x$(rN,n).isInside?null:d.jsx(rm,{...s,...i,ref:t})});oN.displayName=rN;function S$(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,i,s,l)){case l:return"left";case s:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function b$(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function N$(e){const{top:t,right:n,bottom:i,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:i},{x:s,y:i}]}function C$(e,t){const{x:n,y:i}=e;let s=!1;for(let l=0,a=t.length-1;l<t.length;a=l++){const u=t[l],f=t[a],h=u.x,v=u.y,m=f.x,g=f.y;v>i!=g>i&&n<(m-h)*(i-v)/(g-v)+h&&(s=!s)}return s}function _$(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),E$(t)}function E$(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(;t.length>=2;){const l=t[t.length-1],a=t[t.length-2];if((l.x-a.x)*(s.y-a.y)>=(l.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const s=e[i];for(;n.length>=2;){const l=n[n.length-1],a=n[n.length-2];if((l.x-a.x)*(s.y-a.y)>=(l.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var k$=Qb,P$=Zb,j$=Jb,R$=eN,T$=tN,A$=oN;function Fo({delayDuration:e=0,...t}){return d.jsx(k$,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Bi({...e}){return d.jsx(Fo,{children:d.jsx(P$,{"data-slot":"tooltip",...e})})}function Vi({...e}){return d.jsx(j$,{"data-slot":"tooltip-trigger",...e})}function Hi({className:e,sideOffset:t=0,children:n,...i}){return d.jsx(R$,{children:d.jsxs(T$,{"data-slot":"tooltip-content",sideOffset:t,className:He("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...i,children:[n,d.jsx(A$,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}var Ju="Popover",[iN,p4]=en(Ju,[hs]),na=hs(),[M$,mo]=iN(Ju),sN=e=>{const{__scopePopover:t,children:n,open:i,defaultOpen:s,onOpenChange:l,modal:a=!1}=e,u=na(t),f=S.useRef(null),[h,v]=S.useState(!1),[m,g]=fn({prop:i,defaultProp:s??!1,onChange:l,caller:Ju});return d.jsx(tm,{...u,children:d.jsx(M$,{scope:t,contentId:On(),triggerRef:f,open:m,onOpenChange:g,onOpenToggle:S.useCallback(()=>g(x=>!x),[g]),hasCustomAnchor:h,onCustomAnchorAdd:S.useCallback(()=>v(!0),[]),onCustomAnchorRemove:S.useCallback(()=>v(!1),[]),modal:a,children:n})})};sN.displayName=Ju;var lN="PopoverAnchor",I$=S.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,s=mo(lN,n),l=na(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:u}=s;return S.useEffect(()=>(a(),()=>u()),[a,u]),d.jsx($u,{...l,...i,ref:t})});I$.displayName=lN;var aN="PopoverTrigger",cN=S.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,s=mo(aN,n),l=na(n),a=ze(t,s.triggerRef),u=d.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hN(s.open),...i,ref:a,onClick:_e(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:d.jsx($u,{asChild:!0,...l,children:u})});cN.displayName=aN;var wm="PopoverPortal",[D$,O$]=iN(wm,{forceMount:void 0}),uN=e=>{const{__scopePopover:t,forceMount:n,children:i,container:s}=e,l=mo(wm,t);return d.jsx(D$,{scope:t,forceMount:n,children:d.jsx(Wt,{present:n||l.open,children:d.jsx(Jl,{asChild:!0,container:s,children:i})})})};uN.displayName=wm;var as="PopoverContent",dN=S.forwardRef((e,t)=>{const n=O$(as,e.__scopePopover),{forceMount:i=n.forceMount,...s}=e,l=mo(as,e.__scopePopover);return d.jsx(Wt,{present:i||l.open,children:l.modal?d.jsx(z$,{...s,ref:t}):d.jsx($$,{...s,ref:t})})});dN.displayName=as;var L$=Xo("PopoverContent.RemoveScroll"),z$=S.forwardRef((e,t)=>{const n=mo(as,e.__scopePopover),i=S.useRef(null),s=ze(t,i),l=S.useRef(!1);return S.useEffect(()=>{const a=i.current;if(a)return im(a)},[]),d.jsx(Bu,{as:L$,allowPinchZoom:!0,children:d.jsx(fN,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,a=>{var u;a.preventDefault(),l.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;l.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:_e(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),$$=S.forwardRef((e,t)=>{const n=mo(as,e.__scopePopover),i=S.useRef(!1),s=S.useRef(!1);return d.jsx(fN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var a,u;(a=e.onCloseAutoFocus)==null||a.call(e,l),l.defaultPrevented||(i.current||(u=n.triggerRef.current)==null||u.focus(),l.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:l=>{var f,h;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=l.target;((h=n.triggerRef.current)==null?void 0:h.contains(a))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}})}),fN=S.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:v,...m}=e,g=mo(as,n),x=na(n);return Wh(),d.jsx(Du,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:l,children:d.jsx(Ql,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:v,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>g.onOpenChange(!1),children:d.jsx(nm,{"data-state":hN(g.open),role:"dialog",id:g.contentId,...x,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),pN="PopoverClose",F$=S.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,s=mo(pN,n);return d.jsx(je.button,{type:"button",...i,ref:t,onClick:_e(e.onClick,()=>s.onOpenChange(!1))})});F$.displayName=pN;var B$="PopoverArrow",V$=S.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,s=na(n);return d.jsx(rm,{...s,...i,ref:t})});V$.displayName=B$;function hN(e){return e?"open":"closed"}var H$=sN,W$=cN,U$=uN,G$=dN;function Y$({...e}){return d.jsx(H$,{"data-slot":"popover",...e})}function X$({...e}){return d.jsx(W$,{"data-slot":"popover-trigger",...e})}function K$({className:e,align:t="center",sideOffset:n=4,...i}){return d.jsx(U$,{children:d.jsx(G$,{"data-slot":"popover-content",align:t,sideOffset:n,className:He("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...i})})}var mN=["PageUp","PageDown"],gN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],vN={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},vs="Slider",[fh,q$,Q$]=Hh(vs),[yN,h4]=en(vs,[Q$]),[Z$,ed]=yN(vs),xN=S.forwardRef((e,t)=>{const{name:n,min:i=0,max:s=100,step:l=1,orientation:a="horizontal",disabled:u=!1,minStepsBetweenThumbs:f=0,defaultValue:h=[i],value:v,onValueChange:m=()=>{},onValueCommit:g=()=>{},inverted:x=!1,form:C,...w}=e,N=S.useRef(new Set),E=S.useRef(0),_=a==="horizontal"?J$:e3,[k=[],A]=fn({prop:v,defaultProp:h,onChange:X=>{var te;(te=[...N.current][E.current])==null||te.focus(),m(X)}}),D=S.useRef(k);function R(X){const J=i3(k,X);Q(X,J)}function O(X){Q(X,E.current)}function W(){const X=D.current[E.current];k[E.current]!==X&&g(k)}function Q(X,J,{commit:te}={commit:!1}){const T=c3(l),V=u3(Math.round((X-i)/l)*l+i,T),L=zl(V,[i,s]);A((F=[])=>{const M=r3(F,L,J);if(a3(M,f*l)){E.current=M.indexOf(L);const z=String(M)!==String(F);return z&&te&&g(M),z?M:F}else return F})}return d.jsx(Z$,{scope:e.__scopeSlider,name:n,disabled:u,min:i,max:s,valueIndexToChangeRef:E,thumbs:N.current,values:k,orientation:a,form:C,children:d.jsx(fh.Provider,{scope:e.__scopeSlider,children:d.jsx(fh.Slot,{scope:e.__scopeSlider,children:d.jsx(_,{"aria-disabled":u,"data-disabled":u?"":void 0,...w,ref:t,onPointerDown:_e(w.onPointerDown,()=>{u||(D.current=k)}),min:i,max:s,inverted:x,onSlideStart:u?void 0:R,onSlideMove:u?void 0:O,onSlideEnd:u?void 0:W,onHomeKeyDown:()=>!u&&Q(i,0,{commit:!0}),onEndKeyDown:()=>!u&&Q(s,k.length-1,{commit:!0}),onStepKeyDown:({event:X,direction:J})=>{if(!u){const V=mN.includes(X.key)||X.shiftKey&&gN.includes(X.key)?10:1,L=E.current,F=k[L],M=l*V*J;Q(F+M,L,{commit:!0})}}})})})})});xN.displayName=vs;var[wN,SN]=yN(vs,{startEdge:"left",endEdge:"right",size:"width",direction:1}),J$=S.forwardRef((e,t)=>{const{min:n,max:i,dir:s,inverted:l,onSlideStart:a,onSlideMove:u,onSlideEnd:f,onStepKeyDown:h,...v}=e,[m,g]=S.useState(null),x=ze(t,_=>g(_)),C=S.useRef(void 0),w=ei(s),N=w==="ltr",E=N&&!l||!N&&l;function P(_){const k=C.current||m.getBoundingClientRect(),A=[0,k.width],R=Sm(A,E?[n,i]:[i,n]);return C.current=k,R(_-k.left)}return d.jsx(wN,{scope:e.__scopeSlider,startEdge:E?"left":"right",endEdge:E?"right":"left",direction:E?1:-1,size:"width",children:d.jsx(bN,{dir:w,"data-orientation":"horizontal",...v,ref:x,style:{...v.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const k=P(_.clientX);a==null||a(k)},onSlideMove:_=>{const k=P(_.clientX);u==null||u(k)},onSlideEnd:()=>{C.current=void 0,f==null||f()},onStepKeyDown:_=>{const A=vN[E?"from-left":"from-right"].includes(_.key);h==null||h({event:_,direction:A?-1:1})}})})}),e3=S.forwardRef((e,t)=>{const{min:n,max:i,inverted:s,onSlideStart:l,onSlideMove:a,onSlideEnd:u,onStepKeyDown:f,...h}=e,v=S.useRef(null),m=ze(t,v),g=S.useRef(void 0),x=!s;function C(w){const N=g.current||v.current.getBoundingClientRect(),E=[0,N.height],_=Sm(E,x?[i,n]:[n,i]);return g.current=N,_(w-N.top)}return d.jsx(wN,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:d.jsx(bN,{"data-orientation":"vertical",...h,ref:m,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const N=C(w.clientY);l==null||l(N)},onSlideMove:w=>{const N=C(w.clientY);a==null||a(N)},onSlideEnd:()=>{g.current=void 0,u==null||u()},onStepKeyDown:w=>{const E=vN[x?"from-bottom":"from-top"].includes(w.key);f==null||f({event:w,direction:E?-1:1})}})})}),bN=S.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:i,onSlideMove:s,onSlideEnd:l,onHomeKeyDown:a,onEndKeyDown:u,onStepKeyDown:f,...h}=e,v=ed(vs,n);return d.jsx(je.span,{...h,ref:t,onKeyDown:_e(e.onKeyDown,m=>{m.key==="Home"?(a(m),m.preventDefault()):m.key==="End"?(u(m),m.preventDefault()):mN.concat(gN).includes(m.key)&&(f(m),m.preventDefault())}),onPointerDown:_e(e.onPointerDown,m=>{const g=m.target;g.setPointerCapture(m.pointerId),m.preventDefault(),v.thumbs.has(g)?g.focus():i(m)}),onPointerMove:_e(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&s(m)}),onPointerUp:_e(e.onPointerUp,m=>{const g=m.target;g.hasPointerCapture(m.pointerId)&&(g.releasePointerCapture(m.pointerId),l(m))})})}),NN="SliderTrack",CN=S.forwardRef((e,t)=>{const{__scopeSlider:n,...i}=e,s=ed(NN,n);return d.jsx(je.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...i,ref:t})});CN.displayName=NN;var ph="SliderRange",_N=S.forwardRef((e,t)=>{const{__scopeSlider:n,...i}=e,s=ed(ph,n),l=SN(ph,n),a=S.useRef(null),u=ze(t,a),f=s.values.length,h=s.values.map(g=>PN(g,s.min,s.max)),v=f>1?Math.min(...h):0,m=100-Math.max(...h);return d.jsx(je.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...i,ref:u,style:{...e.style,[l.startEdge]:v+"%",[l.endEdge]:m+"%"}})});_N.displayName=ph;var hh="SliderThumb",EN=S.forwardRef((e,t)=>{const n=q$(e.__scopeSlider),[i,s]=S.useState(null),l=ze(t,u=>s(u)),a=S.useMemo(()=>i?n().findIndex(u=>u.ref.current===i):-1,[n,i]);return d.jsx(t3,{...e,ref:l,index:a})}),t3=S.forwardRef((e,t)=>{const{__scopeSlider:n,index:i,name:s,...l}=e,a=ed(hh,n),u=SN(hh,n),[f,h]=S.useState(null),v=ze(t,P=>h(P)),m=f?a.form||!!f.closest("form"):!0,g=Zh(f),x=a.values[i],C=x===void 0?0:PN(x,a.min,a.max),w=o3(i,a.values.length),N=g==null?void 0:g[u.size],E=N?s3(N,C,u.direction):0;return S.useEffect(()=>{if(f)return a.thumbs.add(f),()=>{a.thumbs.delete(f)}},[f,a.thumbs]),d.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${C}% + ${E}px)`},children:[d.jsx(fh.ItemSlot,{scope:e.__scopeSlider,children:d.jsx(je.span,{role:"slider","aria-label":e["aria-label"]||w,"aria-valuemin":a.min,"aria-valuenow":x,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...l,ref:v,style:x===void 0?{display:"none"}:e.style,onFocus:_e(e.onFocus,()=>{a.valueIndexToChangeRef.current=i})})}),m&&d.jsx(kN,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:x},i)]})});EN.displayName=hh;var n3="RadioBubbleInput",kN=S.forwardRef(({__scopeSlider:e,value:t,...n},i)=>{const s=S.useRef(null),l=ze(s,i),a=om(t);return S.useEffect(()=>{const u=s.current;if(!u)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"value").set;if(a!==t&&v){const m=new Event("input",{bubbles:!0});v.call(u,t),u.dispatchEvent(m)}},[a,t]),d.jsx(je.input,{style:{display:"none"},...n,ref:l,defaultValue:t})});kN.displayName=n3;function r3(e=[],t,n){const i=[...e];return i[n]=t,i.sort((s,l)=>s-l)}function PN(e,t,n){const l=100/(n-t)*(e-t);return zl(l,[0,100])}function o3(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function i3(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),i=Math.min(...n);return n.indexOf(i)}function s3(e,t,n){const i=e/2,l=Sm([0,50],[0,i]);return(i-l(t)*n)*n}function l3(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function a3(e,t){if(t>0){const n=l3(e);return Math.min(...n)>=t}return!0}function Sm(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function c3(e){return(String(e).split(".")[1]||"").length}function u3(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var d3=xN,f3=CN,p3=_N,h3=EN;function Ic({className:e,defaultValue:t,value:n,min:i=0,max:s=100,...l}){const a=S.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[i,s],[n,t,i,s]);return d.jsxs(d3,{"data-slot":"slider",defaultValue:t,value:n,min:i,max:s,className:He("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...l,children:[d.jsx(f3,{"data-slot":"slider-track",className:He("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:d.jsx(p3,{"data-slot":"slider-range",className:He("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(u,f)=>d.jsx(h3,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},f))]})}var go="ToggleGroup",[jN,m4]=en(go,[gs]),RN=gs(),bm=Fe.forwardRef((e,t)=>{const{type:n,...i}=e;if(n==="single"){const s=i;return d.jsx(m3,{...s,ref:t})}if(n==="multiple"){const s=i;return d.jsx(g3,{...s,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${go}\``)});bm.displayName=go;var[TN,AN]=jN(go),m3=Fe.forwardRef((e,t)=>{const{value:n,defaultValue:i,onValueChange:s=()=>{},...l}=e,[a,u]=fn({prop:n,defaultProp:i??"",onChange:s,caller:go});return d.jsx(TN,{scope:e.__scopeToggleGroup,type:"single",value:Fe.useMemo(()=>a?[a]:[],[a]),onItemActivate:u,onItemDeactivate:Fe.useCallback(()=>u(""),[u]),children:d.jsx(MN,{...l,ref:t})})}),g3=Fe.forwardRef((e,t)=>{const{value:n,defaultValue:i,onValueChange:s=()=>{},...l}=e,[a,u]=fn({prop:n,defaultProp:i??[],onChange:s,caller:go}),f=Fe.useCallback(v=>u((m=[])=>[...m,v]),[u]),h=Fe.useCallback(v=>u((m=[])=>m.filter(g=>g!==v)),[u]);return d.jsx(TN,{scope:e.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:f,onItemDeactivate:h,children:d.jsx(MN,{...l,ref:t})})});bm.displayName=go;var[v3,y3]=jN(go),MN=Fe.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:i=!1,rovingFocus:s=!0,orientation:l,dir:a,loop:u=!0,...f}=e,h=RN(n),v=ei(a),m={role:"group",dir:v,...f};return d.jsx(v3,{scope:n,rovingFocus:s,disabled:i,children:s?d.jsx(lm,{asChild:!0,...h,orientation:l,dir:v,loop:u,children:d.jsx(je.div,{...m,ref:t})}):d.jsx(je.div,{...m,ref:t})})}),fu="ToggleGroupItem",IN=Fe.forwardRef((e,t)=>{const n=AN(fu,e.__scopeToggleGroup),i=y3(fu,e.__scopeToggleGroup),s=RN(e.__scopeToggleGroup),l=n.value.includes(e.value),a=i.disabled||e.disabled,u={...e,pressed:l,disabled:a},f=Fe.useRef(null);return i.rovingFocus?d.jsx(am,{asChild:!0,...s,focusable:!a,active:l,ref:f,children:d.jsx(a0,{...u,ref:t})}):d.jsx(a0,{...u,ref:t})});IN.displayName=fu;var a0=Fe.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:i,...s}=e,l=AN(fu,n),a={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},u=l.type==="single"?a:void 0;return d.jsx(vm,{...u,...s,ref:t,onPressedChange:f=>{f?l.onItemActivate(i):l.onItemDeactivate(i)}})}),x3=bm,w3=IN;const DN=S.createContext({size:"default",variant:"default"});function S3({className:e,variant:t,size:n,children:i,...s}){return d.jsx(x3,{"data-slot":"toggle-group","data-variant":t,"data-size":n,className:He("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",e),...s,children:d.jsx(DN.Provider,{value:{variant:t,size:n},children:i})})}function c0({className:e,children:t,variant:n,size:i,...s}){const l=S.useContext(DN);return d.jsx(w3,{"data-slot":"toggle-group-item","data-variant":l.variant||n,"data-size":l.size||i,className:He(Kb({variant:l.variant||n,size:l.size||i}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",e),...s,children:t})}function b3({onApplyLayout:e}){const[t,n]=S.useState({algorithm:"dagre",direction:"TB",nodeSeparation:50,rankSeparation:100}),[i,s]=S.useState(!1),l=()=>{e(t),s(!1)};return d.jsxs(Y$,{open:i,onOpenChange:s,children:[d.jsx(X$,{asChild:!0,children:d.jsx(De,{variant:"ghost",size:"icon",title:"Layout",children:d.jsx(dE,{className:"h-5 w-5"})})}),d.jsx(K$,{className:"w-80",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"font-medium",children:"Layout Options"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{htmlFor:"algorithm",children:"Algorithm"}),d.jsxs(jn,{value:t.algorithm,onValueChange:a=>n({...t,algorithm:a}),children:[d.jsx(Tn,{id:"algorithm",children:d.jsx(Rn,{placeholder:"Select algorithm"})}),d.jsxs(An,{children:[d.jsx(lt,{value:"dagre",children:"Dagre"}),d.jsx(lt,{value:"elk",children:"ELK"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ie,{children:"Direction"}),d.jsxs(S3,{type:"single",value:t.direction,onValueChange:a=>{a&&n({...t,direction:a})},className:"justify-start",children:[d.jsx(c0,{value:"TB","aria-label":"Vertical Layout",title:"Vertical Layout",children:d.jsx(U_,{className:"h-4 w-4"})}),d.jsx(c0,{value:"LR","aria-label":"Horizontal Layout",title:"Horizontal Layout",children:d.jsx(h0,{className:"h-4 w-4"})})]})]}),d.jsx(Au,{}),t.algorithm==="dagre"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx(Ie,{htmlFor:"nodeSeparation",children:"Node Separation"}),d.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.nodeSeparation,"px"]})]}),d.jsx(Ic,{id:"nodeSeparation",min:20,max:200,step:5,value:[t.nodeSeparation],onValueChange:a=>n({...t,nodeSeparation:a[0]})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx(Ie,{htmlFor:"rankSeparation",children:"Rank Separation"}),d.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.rankSeparation,"px"]})]}),d.jsx(Ic,{id:"rankSeparation",min:20,max:300,step:10,value:[t.rankSeparation],onValueChange:a=>n({...t,rankSeparation:a[0]})})]})]}),t.algorithm==="elk"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx(Ie,{htmlFor:"nodeNodeSpacing",children:"Node-Node Spacing"}),d.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.nodeSeparation,"px"]})]}),d.jsx(Ic,{id:"nodeNodeSpacing",min:10,max:100,step:5,value:[t.nodeSeparation],onValueChange:a=>n({...t,nodeSeparation:a[0]})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx(Ie,{htmlFor:"layerSpacing",children:"Layer Spacing"}),d.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.rankSeparation,"px"]})]}),d.jsx(Ic,{id:"layerSpacing",min:20,max:200,step:10,value:[t.rankSeparation],onValueChange:a=>n({...t,rankSeparation:a[0]})})]})]}),d.jsx(De,{className:"w-full",onClick:l,children:"Apply Layout"})]})})]})}const ON=S.createContext([null,()=>{}]),N3=({children:e})=>{const[t,n]=S.useState(null);return d.jsx(ON.Provider,{value:[t,n],children:e})},LN=()=>S.useContext(ON);function C3({toggleArcMode:e,onApplyLayout:t}){const[,n]=LN(),i=(s,l)=>{n&&n(l),s.dataTransfer.effectAllowed="move"};return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"flex items-center gap-2 bg-background border rounded-lg p-2 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Fo,{children:d.jsxs(Bi,{children:[d.jsx(Vi,{asChild:!0,children:d.jsx("span",{children:d.jsx(De,{variant:"ghost",size:"icon",title:"Place",className:"cursor-grab",children:d.jsxs("div",{draggable:!0,onDragStart:s=>i(s,"place"),children:[d.jsx(m0,{className:"h-5 w-5"}),d.jsx("span",{className:"sr-only",children:"Drag a Place from Here"})]})})})}),d.jsx(Hi,{children:d.jsx("p",{children:"Drag a Place from Here"})})]})}),d.jsx(Fo,{children:d.jsxs(Bi,{children:[d.jsx(Vi,{asChild:!0,children:d.jsx("span",{children:d.jsx(De,{variant:"ghost",size:"icon",title:"Transition",className:"cursor-grab",children:d.jsxs("div",{draggable:!0,onDragStart:s=>i(s,"transition"),children:[d.jsx(wE,{className:"h-5 w-5"}),d.jsx("span",{className:"sr-only",children:"Drag a Transition from Here"})]})})})}),d.jsx(Hi,{children:d.jsx("p",{children:"Drag a Transition from Here"})})]})}),d.jsx(Fo,{children:d.jsxs(Bi,{children:[d.jsx(Vi,{asChild:!0,children:d.jsx("span",{children:d.jsxs(d$,{"aria-label":"Toggle Arc",onPressedChange:e,children:[d.jsx(h0,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Toggle Arc Mode"})]})})}),d.jsx(Hi,{children:d.jsx("p",{children:"Toggle Arc Mode"})})]})}),d.jsx(Fo,{children:d.jsxs(Bi,{children:[d.jsx(Vi,{asChild:!0,children:d.jsx("span",{children:d.jsx(De,{variant:"ghost",size:"icon",title:"Annotation",className:"cursor-grab",children:d.jsxs("div",{draggable:!0,onDragStart:s=>i(s,"auxText"),children:[d.jsx(cE,{className:"h-5 w-5"}),d.jsx("span",{className:"sr-only",children:"Drag a Text Annotation from Here"})]})})})}),d.jsx(Hi,{children:d.jsx("p",{children:"Drag a Text Annotation from Here"})})]})})]}),d.jsx("div",{className:"flex items-center gap-2 h-6",children:d.jsx(Au,{orientation:"vertical",className:"mx-1 h-6"})}),d.jsx("div",{className:"flex items-center gap-1",children:d.jsx(b3,{onApplyLayout:t})})]})})}function _3({slices:e,position:t,isOpen:n,onClose:i,onSliceClick:s,size:l=240}){const[a,u]=S.useState(null),f=S.useRef(null);return S.useEffect(()=>{const h=v=>{f.current&&!f.current.contains(v.target)&&n&&i()};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[n,i]),n?d.jsx("div",{className:"fixed z-50",style:{left:`${t.x}px`,top:`${t.y}px`,transform:"translate(-50%, -50%)"},ref:f,children:d.jsx("div",{className:"rounded-full bg-sky-100 overflow-visible shadow-lg",style:{width:`${l}px`,height:`${l}px`},children:d.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:e.map((h,v)=>{const m=(h.angle-30)*Math.PI/180,g=(h.angle+30)*Math.PI/180,x=50+50*Math.cos(m),C=50+50*Math.sin(m),w=50+50*Math.cos(g),N=50+50*Math.sin(g),E=`M 50 50 L ${x} ${C} A 50 50 0 0 1 ${w} ${N} Z`,P=38,_=50+P*Math.cos(h.angle*Math.PI/180),k=50+P*Math.sin(h.angle*Math.PI/180),A=v===a;return d.jsxs("g",{onClick:()=>s(v,h),onMouseEnter:()=>u(v),onMouseLeave:()=>u(null),style:{cursor:"pointer"},children:[d.jsx("path",{d:E,fill:A?"#6b9ac4":"transparent",stroke:"#e2e8f0",strokeWidth:"0.5"}),d.jsx("g",{transform:`translate(${_}, ${k}) rotate(${h.angle})`,children:h.label.map((D,R)=>d.jsx("text",{x:"0",y:R*8,textAnchor:"middle",fontSize:"5",fill:h.disabled?"#d3d3d3":"#333",transform:`rotate(-${h.angle})`,dominantBaseline:"middle",children:D},R))})]},v)})})})}):null}const E3=({fromX:e,fromY:t,toX:n,toY:i,connectionLineStyle:s,label:l})=>{const[a]=Eu({sourceX:e,sourceY:t,targetX:n,targetY:i}),u=(e+n)/2,f=(t+i)/2;return d.jsxs("g",{children:[d.jsx("path",{style:s||{stroke:"black",strokeWidth:1},fill:"none",d:a}),l&&d.jsx("text",{x:u,y:f,textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"12px",fill:"black"},children:l})]})};function k3({open:e,onOpenChange:t,onFileLoaded:n}){const[i,s]=S.useState(!1),l=S.useRef(null),a=g=>{g.preventDefault(),s(!0)},u=()=>{s(!1)},f=g=>{if(g.preventDefault(),s(!1),g.dataTransfer.files&&g.dataTransfer.files.length>0){const x=g.dataTransfer.files[0];v(x)}},h=g=>{if(g.target.files&&g.target.files.length>0){const x=g.target.files[0];v(x)}},v=g=>{const x=new FileReader;x.onload=C=>{var w;(w=C.target)!=null&&w.result&&(n(C.target.result,g.name),t(!1))},x.readAsText(g)},m=()=>{var g;(g=l.current)==null||g.click()};return d.jsx(ro,{open:e,onOpenChange:t,children:d.jsxs(oo,{className:"sm:max-w-[500px]",children:[d.jsxs(io,{children:[d.jsx(so,{children:"Open Petri Net"}),d.jsx($b,{children:"Load a CPN Tools .cpn or cpn-py JSON file to visualize your Petri Net."})]}),d.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${i?"border-primary bg-primary/10":"border-muted-foreground/25"}`,onDragOver:a,onDragLeave:u,onDrop:f,children:d.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[d.jsx(NE,{className:"h-10 w-10 text-muted-foreground"}),d.jsx("h3",{className:"text-lg font-semibold",children:"Drag & Drop"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drop your Petri Net file here, or click to browse"}),d.jsx("input",{ref:l,type:"file",accept:".xml,.json,.cpn",className:"hidden",onChange:h}),d.jsxs(De,{onClick:m,variant:"outline",children:[d.jsx(oE,{className:"mr-2 h-4 w-4"}),"Open File..."]})]})}),d.jsx(zb,{children:d.jsx(De,{variant:"outline",onClick:()=>t(!1),children:"Cancel"})})]})})}var Nm="Radio",[P3,zN]=en(Nm),[j3,R3]=P3(Nm),$N=S.forwardRef((e,t)=>{const{__scopeRadio:n,name:i,checked:s=!1,required:l,disabled:a,value:u="on",onCheck:f,form:h,...v}=e,[m,g]=S.useState(null),x=ze(t,N=>g(N)),C=S.useRef(!1),w=m?h||!!m.closest("form"):!0;return d.jsxs(j3,{scope:n,checked:s,disabled:a,children:[d.jsx(je.button,{type:"button",role:"radio","aria-checked":s,"data-state":HN(s),"data-disabled":a?"":void 0,disabled:a,value:u,...v,ref:x,onClick:_e(e.onClick,N=>{s||f==null||f(),w&&(C.current=N.isPropagationStopped(),C.current||N.stopPropagation())})}),w&&d.jsx(VN,{control:m,bubbles:!C.current,name:i,value:u,checked:s,required:l,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});$N.displayName=Nm;var FN="RadioIndicator",BN=S.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:i,...s}=e,l=R3(FN,n);return d.jsx(Wt,{present:i||l.checked,children:d.jsx(je.span,{"data-state":HN(l.checked),"data-disabled":l.disabled?"":void 0,...s,ref:t})})});BN.displayName=FN;var T3="RadioBubbleInput",VN=S.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:i=!0,...s},l)=>{const a=S.useRef(null),u=ze(a,l),f=om(n),h=Zh(t);return S.useEffect(()=>{const v=a.current;if(!v)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(f!==n&&x){const C=new Event("click",{bubbles:i});x.call(v,n),v.dispatchEvent(C)}},[f,n,i]),d.jsx(je.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:u,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});VN.displayName=T3;function HN(e){return e?"checked":"unchecked"}var A3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],td="RadioGroup",[M3,g4]=en(td,[gs,zN]),WN=gs(),UN=zN(),[I3,D3]=M3(td),GN=S.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:i,defaultValue:s,value:l,required:a=!1,disabled:u=!1,orientation:f,dir:h,loop:v=!0,onValueChange:m,...g}=e,x=WN(n),C=ei(h),[w,N]=fn({prop:l,defaultProp:s??"",onChange:m,caller:td});return d.jsx(I3,{scope:n,name:i,required:a,disabled:u,value:w,onValueChange:N,children:d.jsx(lm,{asChild:!0,...x,orientation:f,dir:C,loop:v,children:d.jsx(je.div,{role:"radiogroup","aria-required":a,"aria-orientation":f,"data-disabled":u?"":void 0,dir:C,...g,ref:t})})})});GN.displayName=td;var YN="RadioGroupItem",XN=S.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:i,...s}=e,l=D3(YN,n),a=l.disabled||i,u=WN(n),f=UN(n),h=S.useRef(null),v=ze(t,h),m=l.value===s.value,g=S.useRef(!1);return S.useEffect(()=>{const x=w=>{A3.includes(w.key)&&(g.current=!0)},C=()=>g.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",C),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",C)}},[]),d.jsx(am,{asChild:!0,...u,focusable:!a,active:m,children:d.jsx($N,{disabled:a,required:l.required,checked:m,...f,...s,name:l.name,ref:v,onCheck:()=>l.onValueChange(s.value),onKeyDown:_e(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:_e(s.onFocus,()=>{var x;g.current&&((x=h.current)==null||x.click())})})})});XN.displayName=YN;var O3="RadioGroupIndicator",KN=S.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...i}=e,s=UN(n);return d.jsx(BN,{...s,...i,ref:t})});KN.displayName=O3;var L3=GN,z3=XN,$3=KN;function F3({className:e,...t}){return d.jsx(L3,{"data-slot":"radio-group",className:He("grid gap-3",e),...t})}function Pp({className:e,...t}){return d.jsx(z3,{"data-slot":"radio-group-item",className:He("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:d.jsx($3,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:d.jsx(m0,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function B3({open:e,onOpenChange:t,onSave:n,petriNetName:i}){const[s,l]=S.useState("json"),a=()=>{n(s),t(!1)};return d.jsx(ro,{open:e,onOpenChange:t,children:d.jsxs(oo,{className:"sm:max-w-[425px]",children:[d.jsxs(io,{children:[d.jsx(so,{children:"Save Petri Net"}),d.jsxs($b,{children:['Choose a format to save your Petri Net "',i,'".']})]}),d.jsx("div",{className:"py-4",children:d.jsxs(F3,{value:s,onValueChange:l,className:"space-y-3",children:[d.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[d.jsx(Pp,{value:"json",id:"json"}),d.jsxs("div",{className:"grid gap-1.5",children:[d.jsx(Ie,{htmlFor:"json",className:"font-medium",children:"OCPN JSON"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Simple JSON format. Best for OCPN Tools."})]})]}),d.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[d.jsx(Pp,{value:"cpn-tools",id:"cpn-tools"}),d.jsxs("div",{className:"grid gap-1.5",children:[d.jsx(Ie,{htmlFor:"cpn-tools",className:"font-medium",children:"CPN Tools XML"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Standard format for CPN Tools. Best for compatibility with CPN Tools."})]})]}),d.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[d.jsx(Pp,{value:"cpn-py",id:"cpn-py"}),d.jsxs("div",{className:"grid gap-1.5",children:[d.jsx(Ie,{htmlFor:"cpn-py",className:"font-medium",children:"cpn-py JSON"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Format compatible with cpn-py library. Best for Python integration."})]})]})]})}),d.jsxs(zb,{children:[d.jsx(De,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),d.jsx(De,{onClick:a,children:"Save"})]})]})})}let rt,Hl=0,wl=null;function Cl(){return(wl===null||wl.byteLength===0)&&(wl=new Uint8Array(rt.memory.buffer)),wl}const Uc=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},V3=typeof Uc.encodeInto=="function"?function(e,t){return Uc.encodeInto(e,t)}:function(e,t){const n=Uc.encode(e);return t.set(n),{read:e.length,written:n.length}};function mh(e,t,n){if(n===void 0){const u=Uc.encode(e),f=t(u.length,1)>>>0;return Cl().subarray(f,f+u.length).set(u),Hl=u.length,f}let i=e.length,s=t(i,1)>>>0;const l=Cl();let a=0;for(;a<i;a++){const u=e.charCodeAt(a);if(u>127)break;l[s+a]=u}if(a!==i){a!==0&&(e=e.slice(a)),s=n(s,i,i=a+e.length*3,1)>>>0;const u=Cl().subarray(s+a,s+i),f=V3(e,u);a+=f.written,s=n(s,i,a,1)>>>0}return Hl=a,s}let Oo=null;function Dc(){return(Oo===null||Oo.buffer.detached===!0||Oo.buffer.detached===void 0&&Oo.buffer!==rt.memory.buffer)&&(Oo=new DataView(rt.memory.buffer)),Oo}function Sl(e){const t=rt.__externref_table_alloc();return rt.__wbindgen_export_4.set(t,e),t}function Zr(e,t){try{return e.apply(this,t)}catch(n){const i=Sl(n);rt.__wbindgen_exn_store(i)}}function H3(e,t){return e=e>>>0,Cl().subarray(e/1,e/1+t)}const qN=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&qN.decode();function pl(e,t){return e=e>>>0,qN.decode(Cl().subarray(e,e+t))}function Oc(e){return e==null}function gh(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const s=e.description;return s==null?"Symbol":`Symbol(${s})`}if(t=="function"){const s=e.name;return typeof s=="string"&&s.length>0?`Function(${s})`:"Function"}if(Array.isArray(e)){const s=e.length;let l="[";s>0&&(l+=gh(e[0]));for(let a=1;a<s;a++)l+=", "+gh(e[a]);return l+="]",l}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let i;if(n&&n.length>1)i=n[1];else return toString.call(e);if(i=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:i}function jp(e){const t=rt.__wbindgen_export_4.get(e);return rt.__externref_table_dealloc(e),t}const u0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>rt.__wbg_wasmsimulator_free(e>>>0,1));class d0{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,u0.unregister(this),t}free(){const t=this.__destroy_into_raw();rt.__wbg_wasmsimulator_free(t,0)}constructor(t){const n=mh(t,rt.__wbindgen_malloc,rt.__wbindgen_realloc),i=Hl,s=rt.wasmsimulator_new(n,i);if(s[2])throw jp(s[1]);return this.__wbg_ptr=s[0]>>>0,u0.register(this,this.__wbg_ptr,this),this}setEventListener(t){rt.wasmsimulator_setEventListener(this.__wbg_ptr,t)}run_step(){const t=rt.wasmsimulator_run_step(this.__wbg_ptr);if(t[2])throw jp(t[1]);return jp(t[0])}}async function W3(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(i){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",i);else throw i}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function U3(){const e={};return e.wbg={},e.wbg.__wbg_String_8f0eb39a4a4c2f66=function(t,n){const i=String(n),s=mh(i,rt.__wbindgen_malloc,rt.__wbindgen_realloc),l=Hl;Dc().setInt32(t+4*1,l,!0),Dc().setInt32(t+4*0,s,!0)},e.wbg.__wbg_buffer_609cc3eee51ed158=function(t){return t.buffer},e.wbg.__wbg_call_672a4d21634d4a24=function(){return Zr(function(t,n){return t.call(n)},arguments)},e.wbg.__wbg_call_7cccdd69e0791ae2=function(){return Zr(function(t,n,i){return t.call(n,i)},arguments)},e.wbg.__wbg_crypto_ed58b8e10a292839=function(t){return t.crypto},e.wbg.__wbg_fromCodePoint_f37c25c172f2e8b5=function(){return Zr(function(t){return String.fromCodePoint(t>>>0)},arguments)},e.wbg.__wbg_from_2a5d3e218e67aa85=function(t){return Array.from(t)},e.wbg.__wbg_getRandomValues_21a0191e74d0e1d3=function(){return Zr(function(t,n){globalThis.crypto.getRandomValues(H3(t,n))},arguments)},e.wbg.__wbg_getRandomValues_bcb4912f16000dc4=function(){return Zr(function(t,n){t.getRandomValues(n)},arguments)},e.wbg.__wbg_get_67b2ba62fc30de12=function(){return Zr(function(t,n){return Reflect.get(t,n)},arguments)},e.wbg.__wbg_log_5e46e5057e0d43bd=function(t,n){console.log(pl(t,n))},e.wbg.__wbg_msCrypto_0a36e2ec3a343d26=function(t){return t.msCrypto},e.wbg.__wbg_new_405e22f390576ce2=function(){return new Object},e.wbg.__wbg_new_5e0be73521bc8c17=function(){return new Map},e.wbg.__wbg_new_78feb108b6472713=function(){return new Array},e.wbg.__wbg_new_a12002a7f91c75be=function(t){return new Uint8Array(t)},e.wbg.__wbg_newnoargs_105ed471475aaf50=function(t,n){return new Function(pl(t,n))},e.wbg.__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a=function(t,n,i){return new Uint8Array(t,n>>>0,i>>>0)},e.wbg.__wbg_newwithlength_a381634e90c276d4=function(t){return new Uint8Array(t>>>0)},e.wbg.__wbg_node_02999533c4ea02e3=function(t){return t.node},e.wbg.__wbg_now_d18023d54d4e5500=function(t){return t.now()},e.wbg.__wbg_process_5c1d670bc53614b8=function(t){return t.process},e.wbg.__wbg_randomFillSync_ab2cfe79ebbf2740=function(){return Zr(function(t,n){t.randomFillSync(n)},arguments)},e.wbg.__wbg_require_79b1e9274cde3c87=function(){return Zr(function(){return module.require},arguments)},e.wbg.__wbg_set_37837023f3d740e8=function(t,n,i){t[n>>>0]=i},e.wbg.__wbg_set_3f1d0b984ed272ed=function(t,n,i){t[n]=i},e.wbg.__wbg_set_65595bdd868b3009=function(t,n,i){t.set(n,i>>>0)},e.wbg.__wbg_set_8fc6bf8a5b1071d1=function(t,n,i){return t.set(n,i)},e.wbg.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){const t=typeof global>"u"?null:global;return Oc(t)?0:Sl(t)},e.wbg.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){const t=typeof globalThis>"u"?null:globalThis;return Oc(t)?0:Sl(t)},e.wbg.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){const t=typeof self>"u"?null:self;return Oc(t)?0:Sl(t)},e.wbg.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){const t=typeof window>"u"?null:window;return Oc(t)?0:Sl(t)},e.wbg.__wbg_subarray_aa9065fa9dc5df96=function(t,n,i){return t.subarray(n>>>0,i>>>0)},e.wbg.__wbg_versions_c71aa1626a93e0a1=function(t){return t.versions},e.wbg.__wbindgen_bigint_from_i64=function(t){return t},e.wbg.__wbindgen_debug_string=function(t,n){const i=gh(n),s=mh(i,rt.__wbindgen_malloc,rt.__wbindgen_realloc),l=Hl;Dc().setInt32(t+4*1,l,!0),Dc().setInt32(t+4*0,s,!0)},e.wbg.__wbindgen_error_new=function(t,n){return new Error(pl(t,n))},e.wbg.__wbindgen_init_externref_table=function(){const t=rt.__wbindgen_export_4,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)},e.wbg.__wbindgen_is_function=function(t){return typeof t=="function"},e.wbg.__wbindgen_is_object=function(t){const n=t;return typeof n=="object"&&n!==null},e.wbg.__wbindgen_is_string=function(t){return typeof t=="string"},e.wbg.__wbindgen_is_undefined=function(t){return t===void 0},e.wbg.__wbindgen_memory=function(){return rt.memory},e.wbg.__wbindgen_number_new=function(t){return t},e.wbg.__wbindgen_string_new=function(t,n){return pl(t,n)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(pl(t,n))},e}function G3(e,t){return rt=e.exports,vh.__wbindgen_wasm_module=t,Oo=null,wl=null,rt.__wbindgen_start(),rt}async function vh(e){if(rt!==void 0)return rt;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof e>"u"&&(e=new URL("/ocpn-tools/assets/cpnsim_bg-BJBjBHwo.wasm",import.meta.url));const t=U3();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:i}=await W3(await e,t);return G3(n,i)}function Y3(e){const t=Object.values(e.petriNetsById).map(s=>{const l=s.nodes.filter(f=>f.type==="place").map(f=>`<place id="${f.id}">
            <posattr x="${f.position.x}" y="${f.position.y}"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="Solid"/>
            <textattr colour="Black" bold="false"/>
            <text>${f.data.label}</text>
            <ellipse w="60.000000" h="40.000000"/>
            <type id="${f.data.colorSet}">
              <text>${f.data.colorSet}</text>
            </type>
            <initmark id="${f.id}_initmark">
              <text>${f.data.initialMarking||""}</text>
            </initmark>
          </place>`).join(`
`),a=s.nodes.filter(f=>f.type==="transition").map(f=>`<trans id="${f.id}">
            <posattr x="${f.position.x}" y="${f.position.y}"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="solid"/>
            <textattr colour="Black" bold="false"/>
            <text>${f.data.label}</text>
            <box w="60.000000" h="40.000000"/>
            ${f.data.guard?`<cond id="${f.id}_guard">
                  <text>${f.data.guard}</text>
                </cond>`:""}
            ${f.data.time?`<time id="${f.id}_time">
                  <text>${f.data.time}</text>
                </time>`:""}
            ${f.data.priority?`<priority id="${f.id}_priority">
                  <text>${f.data.priority}</text>
                </priority>`:""}
          </trans>`).join(`
`),u=s.edges.map(f=>`<arc id="${f.id}" orientation="PtoT">
            <posattr x="0.000000" y="0.000000"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="Solid"/>
            <textattr colour="Black" bold="false"/>
            <arrowattr headsize="1.200000" currentcyckle="2"/>
            <transend idref="${f.target}"/>
            <placeend idref="${f.source}"/>
            <annot id="${f.id}_inscription">
              <text>${f.label||""}</text>
            </annot>
          </arc>`).join(`
`);return`<page id="${s.id}">
        <pageattr name="${s.name}"/>
        ${l}
        ${a}
        ${u}
        <constraints/>
      </page>`}).join(`
`);return`<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE workspaceElements PUBLIC "-//CPN//DTD CPNXML 1.0//EN" "http://cpntools.org/DTD/6/cpn.dtd">
<workspaceElements>
  <generator tool="CPN Tools" version="4.0.1" format="6"/>
  <cpnet>
    <globbox>
      ${e.uses.map(s=>`<use file="${s.name}"/>`).join(`
`)}
      <block id="ID2">
        <id>Standard priorities</id>
        ${e.priorities.map(s=>`<ml id="${s.id}">
          val ${s.name} = ${s.level};
          <layout>val ${s.name} = ${s.level};</layout>
        </ml>`).join(`
        `)}
      </block>
      <block id="ID1">
        <id>Standard declarations</id>
        ${e.colorSets.map(s=>{const l=["int","unit","bool","intinf","time","real","string"],a=s.definition.match(/colset\s+\w+\s*=\s*(\w+);$/),u=a?a[1].toLowerCase():null;return`<color id="${s.id}">
              <id>${s.name}</id>
              ${u&&l.includes(u)?`<${u}/>`:""}
              <layout>${s.definition}</layout>
            </color>`}).join(`
        `)}
        ${e.variables.map(s=>`<var id="${s.id}">
          <type>
            <id>${s.colorSet}</id>
          </type>
          <id>${s.name}</id>
          <layout>var ${s.name}:${s.colorSet};</layout>
        </var>`).join(`
        `)}
      </block>
    </globbox>
    ${t}
    <monitorblock name="Monitors"/>
  </cpnet>
</workspaceElements>`}function X3(e){const t=Object.values(e.petriNetsById).flatMap(s=>s.nodes),n=Object.values(e.petriNetsById).flatMap(s=>s.edges),i={$schema:"http://json-schema.org/draft-07/schema#",colorSets:e.colorSets.map(s=>s.definition),places:t.filter(s=>s.type==="place").map(s=>({name:s.data.label,colorSet:s.data.colorSet})),transitions:t.filter(s=>s.type==="transition").map(s=>({name:s.data.label,variables:s.data.variables||[],guard:s.data.guard||"True",inArcs:n.filter(l=>l.target===s.id).map(l=>{var a;return{place:((a=t.find(u=>u.id===l.source))==null?void 0:a.data.label)||"",expression:l.label||""}}),outArcs:n.filter(l=>l.source===s.id).map(l=>{var a;return{place:((a=t.find(u=>u.id===l.target))==null?void 0:a.data.label)||"",expression:l.label||""}})})),initialMarking:t.filter(s=>s.type==="place").reduce((s,l)=>{const a=l.data.initialMarking||[];return s[String(l.data.label)]=a&&Array.isArray(a)?{tokens:a.map(u=>Array.isArray(u)?u.map(f=>typeof f=="string"?f:Number(f)):[typeof u=="string"?u:Number(u)])}:{tokens:[]},s},{}),evaluationContext:null};return JSON.stringify(i,null,2)}function yh(e){const t={petriNets:e.petriNetOrder.map(n=>{const i=e.petriNetsById[n];return{id:i.id,name:i.name,places:i.nodes.filter(s=>s.type==="place").map(s=>({id:s.id,name:s.data.label,colorSet:s.data.colorSet,initialMarking:s.data.initialMarking||"",marking:s.data.marking||"",position:s.position,size:s.measured||{width:50,height:30}})),transitions:i.nodes.filter(s=>s.type==="transition").map(s=>({id:s.id,name:s.data.label,guard:s.data.guard||"",time:s.data.time||"",priority:s.data.priority||"",position:s.position,size:s.measured||{width:50,height:30}})),arcs:i.edges.map(s=>({id:s.id,source:s.source,target:s.target,inscription:s.label||""}))}}),colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses};return JSON.stringify(t,null,2)}function K3(e,t){const n=new Blob([e],{type:"text/plain;charset=utf-8"}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}function q3(e,t){var n;try{const i=(n=t.split(".").pop())==null?void 0:n.toLowerCase();if(i==="json")return Z3(e);if((i==="xml"||i==="cpn")&&(e.includes("<workspaceElements>")||e.includes("<cpnet>")))return Q3(e);throw new Error("Unsupported file format")}catch(i){return console.error("Error parsing file:",i),null}}function QN(){const e="0123456789ABCDEF";let t="#";for(let n=0;n<6;n++)t+=e[Math.floor(Math.random()*16)];return t}function Q3(e){const n=new DOMParser().parseFromString(e,"text/xml"),i={},s=[],l=Array.from(n.querySelectorAll("globbox color")).map(m=>{var E,P;const g=((E=m.querySelector("id"))==null?void 0:E.textContent)||"",x=Array.from(m.children).find(_=>{const k=_.tagName.toLowerCase();return["bool","int","string"].includes(k)&&_.children.length===0}),C=x?x.tagName.toLowerCase():null,w=((P=m.querySelector("layout"))==null?void 0:P.textContent)||"",N=C?`colset ${g} = ${C};`:w;return{id:g,name:g,type:C?"basic":"complex",definition:N,color:QN()}}),a=Array.from(n.querySelectorAll("globbox var")).map(m=>{var E,P;const g=m.getAttribute("id")||"",x=((E=m.querySelector("type > id"))==null?void 0:E.textContent)||"",w=(((P=m.querySelector("layout"))==null?void 0:P.textContent)||"").match(/var\s+(\w+)\s*:/),N=w?w[1]:"";return{id:g,name:N,colorSet:x}}),u=Array.from(n.querySelectorAll("globbox ml")).reduce((m,g)=>{var w;const C=(((w=g.querySelector("layout"))==null?void 0:w.textContent)||"").match(/val\s+(\w+)\s*=\s*(\d+);/);return C&&m.push({id:Le(),name:C[1],level:parseInt(C[2],10)}),m},[]),f=Array.from(n.querySelectorAll("globbox ml")).reduce((m,g)=>{var w;const C=(((w=g.querySelector("layout"))==null?void 0:w.textContent)||"").match(/^fun\s+([a-zA-Z0-9_]+)\s*(.+?)\s*=\s*(.+)$/);if(C){const N=C[1],E=[{id:Le(),pattern:C[2],expression:C[3]}];m.push({id:Le(),name:N,patterns:E})}return m},[]),h=Array.from(n.querySelectorAll("globbox use")).map(m=>{var N,E;const g=((N=m.querySelector("ml"))==null?void 0:N.textContent)||"",x=((E=m.querySelector("layout"))==null?void 0:E.textContent)||"",C=g.match(/"([^"]+)"/)||x.match(/"([^"]+)"/),w=C?C[1]:"";return{id:Le(),name:w,content:""}});return Array.from(n.querySelectorAll("page")).forEach(m=>{var P;const g=m.getAttribute("id")||Le(),x=((P=m.querySelector("pageattr"))==null?void 0:P.getAttribute("name"))||`Page ${g}`,C=Array.from(m.querySelectorAll("place")).map(_=>{var k,A,D,R,O;return{id:_.getAttribute("id")||Le(),type:"place",position:{x:parseFloat(((k=_.querySelector("posattr"))==null?void 0:k.getAttribute("x"))||"0"),y:-parseFloat(((A=_.querySelector("posattr"))==null?void 0:A.getAttribute("y"))||"0")},data:{label:((D=_.querySelector("text"))==null?void 0:D.textContent)||"",colorSet:((R=_.querySelector("type text"))==null?void 0:R.textContent)||"",initialMarking:((O=_.querySelector("initmark text"))==null?void 0:O.textContent)||""}}}),w=Array.from(m.querySelectorAll("trans")).map(_=>{var k,A,D,R,O,W;return{id:_.getAttribute("id")||Le(),type:"transition",position:{x:parseFloat(((k=_.querySelector("posattr"))==null?void 0:k.getAttribute("x"))||"0"),y:-parseFloat(((A=_.querySelector("posattr"))==null?void 0:A.getAttribute("y"))||"0")},data:{label:((D=_.querySelector("text"))==null?void 0:D.textContent)||"",guard:((R=_.querySelector("cond text"))==null?void 0:R.textContent)||"",time:((O=_.querySelector("time text"))==null?void 0:O.textContent)||"",priority:((W=_.querySelector("priority text"))==null?void 0:W.textContent)||""}}}),N=Array.from(m.querySelectorAll("arc")).map(_=>{var k,A,D;return{id:_.getAttribute("id")||Le(),source:((k=_.querySelector("placeend"))==null?void 0:k.getAttribute("idref"))||"",target:((A=_.querySelector("transend"))==null?void 0:A.getAttribute("idref"))||"",label:((D=_.querySelector("annot text"))==null?void 0:D.textContent)||""}}),E={id:g,name:x,nodes:[...C,...w],edges:N,selectedElement:null};i[g]=E,s.push(g)}),{petriNetsById:i,petriNetOrder:s,colorSets:l,variables:a,priorities:u,functions:f,uses:h}}function Z3(e){const t=JSON.parse(e),n=t.places.map(u=>{var f;return{id:Le(),type:"place",position:{x:0,y:0},data:{label:u.name,colorSet:u.colorSet,initialMarking:((f=t.initialMarking[u.name])==null?void 0:f.tokens.map(h=>Array.isArray(h)?h:[h]))||[]}}}),i=t.transitions.map(u=>({id:Le(),type:"transition",position:{x:0,y:0},data:{label:u.name,guard:u.guard,variables:u.variables}})),s=t.transitions.flatMap(u=>{const f=i.find(h=>h.data.label===u.name);return[...u.inArcs.map(h=>{var v;return{id:Le(),source:((v=n.find(m=>m.data.label===h.place))==null?void 0:v.id)||"",target:(f==null?void 0:f.id)||"",label:h.expression}}),...u.outArcs.map(h=>{var v;return{id:Le(),source:(f==null?void 0:f.id)||"",target:((v=n.find(m=>m.data.label===h.place))==null?void 0:v.id)||"",label:h.expression}})]}),l=Le(),a={id:l,name:"Default Petri Net",nodes:[...n,...i],edges:s,selectedElement:null};return{petriNetsById:{[l]:a},petriNetOrder:[l],colorSets:t.colorSets.map(u=>({id:Le(),name:u.split(" ")[1],type:"basic",definition:u,color:QN()})),variables:[],priorities:[],functions:[],uses:[]}}function J3(){const e=S.useRef(null),t=S.useRef(null),n=Ce(C=>C.petriNetOrder),i=Ce(C=>C.colorSets),s=Ce(C=>C.variables),l=Ce(C=>C.priorities),a=Ce(C=>C.functions),u=Ce(C=>C.uses),f=Ce(C=>C.updateNodeMarking),h=Ce(C=>C.applyInitialMarkings),v=S.useCallback(C=>{const w=Ce.getState().petriNetsById;C.consumed instanceof Map?C.consumed.forEach((N,E)=>{const P=Object.values(w).flatMap(_=>_.nodes).find(_=>_.id===E);if(P){let _=[];try{if(typeof P.data.marking=="string"&&P.data.marking.trim()!==""){const D=JSON.parse(P.data.marking);_=Array.isArray(D)?D:[]}else Array.isArray(P.data.marking)&&(_=P.data.marking)}catch(D){console.error(`Error parsing marking for node ${E}:`,P.data.marking,D),_=[]}const k=_.slice();N.forEach(D=>{const R=k.findIndex(O=>JSON.stringify(O)===JSON.stringify(D));R!==-1?k.splice(R,1):console.warn(`Token not found for removal in node ${E}:`,D,k)});const A=JSON.stringify(k);f(E,A)}else console.warn(`Node not found for consumed event: ${E}`)}):C.consumed&&console.warn("eventData.consumed is not a Map:",C.consumed),C.produced instanceof Map?C.produced.forEach((N,E)=>{const P=Object.values(w).flatMap(_=>_.nodes).find(_=>_.id===E);if(P){let _=[];try{if(typeof P.data.marking=="string"&&P.data.marking.trim()!==""){const D=JSON.parse(P.data.marking);_=Array.isArray(D)?D:[]}else Array.isArray(P.data.marking)&&(_=P.data.marking)}catch(D){console.error(`Error parsing marking for node ${E}:`,P.data.marking,D),_=[]}const k=_.slice();N.forEach(D=>{k.push(D)});const A=JSON.stringify(k);f(E,A)}else console.warn(`Node not found for produced event: ${E}`)}):C.produced&&console.warn("eventData.produced is not a Map:",C.produced)},[f]),m=async()=>{if(!e.current){e.current=await vh(),h();const C={petriNetsById:Ce.getState().petriNetsById,petriNetOrder:n,colorSets:i,variables:s,priorities:l,functions:a,uses:u},w=yh(C);t.current=new d0(w),t.current.setEventListener(v)}};return{runStep:async()=>{var C;await m(),(C=t.current)==null||C.run_step()},reset:async()=>{e.current=await vh(),h();const C={petriNetsById:Ce.getState().petriNetsById,petriNetOrder:n,colorSets:i,variables:s,priorities:l,functions:a,uses:u},w=yh(C);t.current=new d0(w),t.current.setEventListener(v)}}}function e4(){const{reset:e,runStep:t}=J3(),n=()=>{e()},i=()=>{t()};return d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs(De,{variant:"ghost",size:"icon",title:"Reset Simulation",onClick:n,children:[d.jsx(mE,{className:"h-5 w-5"}),d.jsx("span",{className:"sr-only",children:"Reset Simulation"})]}),d.jsxs(De,{variant:"ghost",size:"icon",title:"Run Simulation Step",onClick:i,children:[d.jsx(pE,{className:"h-5 w-5"}),d.jsx("span",{className:"sr-only",children:"Run Simulation Step"})]})]})}const t4=e=>({petriNetOrder:e.petriNetOrder,petriNetsById:e.petriNetsById,activePetriNetId:e.activePetriNetId,colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses,createPetriNet:e.createPetriNet,setActivePetriNet:e.setActivePetriNet,setNodes:e.setNodes,setEdges:e.setEdges,setColorSets:e.setColorSets,setVariables:e.setVariables,setPriorities:e.setPriorities,setFunctions:e.setFunctions,setUses:e.setUses,toggleArcMode:e.toggleArcMode,reset:e.reset}),n4={type:"floating",markerEnd:{type:Il.ArrowClosed,color:"#000",width:15,height:15}},r4=()=>{const[e,t]=S.useState(!1),[n,i]=S.useState(!1),[s,l]=S.useState(!1),[a,u]=S.useState(""),[f,h]=S.useState(!1),[v,m]=S.useState({x:0,y:0}),g=S.useRef(null),{petriNetOrder:x,petriNetsById:C,activePetriNetId:w,colorSets:N,variables:E,priorities:P,functions:_,uses:k,createPetriNet:A,setActivePetriNet:D,setNodes:R,setColorSets:O,setVariables:W,setPriorities:Q,setFunctions:X,setUses:J,toggleArcMode:te,reset:T}=Ce(c$(t4)),V=Ce(he=>w?he.petriNetsById[w]:null),L=s$(w||""),{onNodesChange:F,onEdgesChange:M,onConnect:z}=w?L:{onNodesChange:()=>{},onEdgesChange:()=>{},onConnect:()=>{}},{fitView:Y,screenToFlowPosition:I}=ju(),[U]=LN(),K=[{key:"bottom",label:[""],angle:90},{key:"undo",label:["Undo"],angle:150,disabled:!0},{key:"redo",label:["Redo"],angle:30,disabled:!0},{key:"new-place",label:["New","Place"],angle:210},{key:"create-aux",label:["Create aux","text"],angle:270,disabled:!0},{key:"new-transition",label:["New","Transition"],angle:330}],ee=(he,Re)=>{if(he)if(T(),Object.values(he.petriNetsById).forEach(Pe=>{Ce.getState().addPetriNet(Pe)}),he.petriNetOrder.length>0&&Ce.getState().setActivePetriNet(he.petriNetOrder[0]),he.colorSets&&O(he.colorSets),he.variables&&W(he.variables),he.priorities&&Q(he.priorities),he.functions&&X(he.functions),he.uses&&J(he.uses),Re.endsWith(".json")){const Pe={algorithm:"dagre",direction:"TB",nodeSeparation:150,rankSeparation:50};Object.values(he.petriNetsById).forEach(Ue=>{xe(Pe,Ue.nodes,Ue.edges)})}else setTimeout(()=>{Y({maxZoom:4})},50)},B=(he,Re)=>{const Pe=q3(he,Re);Pe?ee(Pe,Re):alert("Failed to parse the file. Please check the file format.")},Z=he=>{let Re,Pe;const Ue={petriNetsById:C,petriNetOrder:x,colorSets:N,variables:E,priorities:P,functions:_,uses:k};switch(he){case"cpn-tools":Re=Y3({...Ue,petriNetsById:Object.fromEntries(Object.entries(Ue.petriNetsById).map(([Xe,Je])=>[Xe,{...Je,nodes:Je.nodes.map(Ge=>({...Ge,position:{...Ge.position,y:-Ge.position.y}}))}]))}),Pe="PetriNet.cpn";break;case"cpn-py":Re=X3(Ue),Pe="PetriNet.json";break;case"json":default:Re=yh(Ue),Pe="PetriNet.ocpn";break}K3(Re,Pe)},H=S.useCallback(he=>{he.preventDefault(),he.dataTransfer.dropEffect="move"},[]),re=S.useCallback(he=>{if(he.preventDefault(),!U||typeof U!="string")return;const Re=I({x:he.clientX,y:he.clientY}),Pe={id:`node_${Date.now()}`,type:U,position:Re,width:U==="transition"?60:30,data:{label:U==="auxText"?"Annotation":`${U}`,...U==="place"?{colorSet:""}:U==="transition"?{guard:""}:{}}};w?Ce.getState().addNode(w,Pe):console.error("Cannot add node: activePetriNetId is null.")},[I,U,w]),le=S.useCallback((he,Re)=>{h(!1),w?Ce.getState().setSelectedElement(w,{type:"node",element:Re}):console.error("Cannot set selected element: activePetriNetId is null.")},[w]),ae=S.useCallback((he,Re)=>{h(!1),w?Ce.getState().setSelectedElement(w,{type:"edge",element:Re}):console.error("Cannot set selected element: activePetriNetId is null.")},[w]),fe=S.useCallback(()=>{w?Ce.getState().setSelectedElement(w,null):console.error("Cannot set selected element: activePetriNetId is null."),h(!1)},[w]),ce=S.useCallback(he=>{he.preventDefault();const Re=he,Pe={x:Re.clientX,y:Re.clientY};m(Pe),h(!0)},[]),ve=(he,Re)=>{const Pe=Re.key==="new-place"?50:60,Ue=Re.key==="new-place"?50:40,Xe={x:I(v).x-Pe/2,y:I(v).y-Ue/2};if(Re.key==="new-place"){const Je={id:`node_${Date.now()}`,type:"place",position:Xe,data:{label:"place",isArcMode:!1,colorSet:""}};w&&Ce.getState().addNode(w,Je)}else if(Re.key==="new-transition"){const Je={id:`node_${Date.now()}`,type:"transition",position:Xe,width:60,data:{label:"transition",isArcMode:!1,guard:""}};w&&Ce.getState().addNode(w,Je)}h(!1)},xe=S.useCallback(async(he,Re,Pe)=>{if(Re.length)try{if(he.algorithm==="dagre"){const Ue=await o0(()=>import("./index-BJMKvBiQ.js").then(Ge=>Ge.i),[]),Xe=new Ue.graphlib.Graph;Xe.setGraph({rankdir:he.direction,nodesep:he.nodeSeparation,ranksep:he.rankSeparation,ranker:"network-simplex"}),Xe.setDefaultEdgeLabel(()=>({})),Pe.forEach(Ge=>Xe.setEdge(Ge.source,Ge.target)),Re.forEach(Ge=>{var et,ht;return Xe.setNode(Ge.id,{...Ge,width:((et=Ge.measured)==null?void 0:et.width)??0,height:((ht=Ge.measured)==null?void 0:ht.height)??0})}),Ue.layout(Xe);const Je=Re.map(Ge=>{var jt,Ft;const et=Xe.node(Ge.id),ht=et.x-(((jt=Ge.measured)==null?void 0:jt.width)??0)/2,mt=et.y-(((Ft=Ge.measured)==null?void 0:Ft.height)??0)/2;return{...Ge,position:{x:ht,y:mt}}});w&&R(w,[...Je])}else if(he.algorithm==="elk"){const{default:Ue}=await o0(async()=>{const{default:et}=await import("./elk.bundled-c7Hgh1OX.js").then(ht=>ht.e);return{default:et}},[]),Xe=new Ue,Je={id:"root",layoutOptions:{"elk.algorithm":"layered","elk.direction":he.direction==="TB"?"DOWN":"RIGHT","elk.spacing.nodeNode":he.nodeSeparation.toString(),"elk.layered.spacing.nodeNodeBetweenLayers":he.rankSeparation.toString()},children:Re.map(et=>{var ht,mt;return{id:et.id,width:Number(((ht=et.style)==null?void 0:ht.width)||80),height:Number(((mt=et.style)==null?void 0:mt.height)||80)}}),edges:Pe.map(et=>({id:et.id,sources:[et.source],targets:[et.target]}))},Ge=await Xe.layout(Je);if(Ge.children){const et=Re.map(ht=>{var jt;const mt=(jt=Ge.children)==null?void 0:jt.find(Ft=>Ft.id===ht.id);return mt&&mt.x!==void 0&&mt.y!==void 0?{...ht,position:{x:mt.x,y:mt.y}}:ht});w&&R(w,[...et])}}setTimeout(()=>{Y({padding:.2})},50)}catch(Ue){console.error("Error applying layout:",Ue)}},[R,Y,w]),Be=he=>{he.preventDefault(),A(a),l(!1),u("")};return d.jsx("div",{className:"dndflow",children:d.jsxs("div",{className:"flex flex-col h-screen",children:[d.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Fo,{children:d.jsxs(Bi,{children:[d.jsx(Vi,{asChild:!0,children:d.jsx("span",{children:d.jsxs(De,{variant:"ghost",size:"icon",title:"Open",onClick:()=>i(!0),children:[d.jsx(sE,{className:"h-5 w-5"}),d.jsx("span",{className:"sr-only",children:"Open Petri Net"})]})})}),d.jsx(Hi,{children:d.jsx("p",{children:"Open Petri Net"})})]})}),d.jsx(Fo,{children:d.jsxs(Bi,{children:[d.jsx(Vi,{asChild:!0,children:d.jsx("span",{children:d.jsxs(De,{variant:"ghost",size:"icon",title:"Save",onClick:()=>t(!0),children:[d.jsx(vE,{className:"h-5 w-5"}),d.jsx("span",{className:"sr-only",children:"Save Petri Net"})]})})}),d.jsx(Hi,{children:d.jsx("p",{children:"Save Petri Net"})})]})})]}),d.jsx(e4,{}),d.jsx("div",{className:"flex items-center gap-1"})]}),d.jsx(k3,{open:n,onOpenChange:i,onFileLoaded:B}),d.jsx(B3,{open:e,onOpenChange:t,onSave:Z,petriNetName:"Petri Net"}),d.jsx("div",{className:"flex flex-col w-full mx-auto bg-muted",children:d.jsx(Gu,{defaultValue:w||x[0],value:w??void 0,onValueChange:he=>D(he),className:"flex flex-col gap-2 items-start",children:d.jsxs(Yu,{className:"flex gap-4 items-center",children:[x.map(he=>d.jsx(Zo,{value:he,children:C[he].name},he)),d.jsx(De,{variant:"ghost",onClick:()=>l(!0),children:"New Subnet"}),d.jsx(ro,{open:s,onOpenChange:l,children:d.jsxs(oo,{className:"p-4",children:[d.jsx(io,{children:d.jsx(so,{children:"Add New Subnet"})}),d.jsxs("form",{onSubmit:Be,className:"space-y-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(Ie,{htmlFor:"petri-net-name",children:"Subnet Name"}),d.jsx(at,{id:"petri-net-name",placeholder:"Enter Petri Net name",value:a,onChange:he=>u(he.target.value)})]}),d.jsx(De,{type:"submit",className:"w-full",children:"Add Petri Net"})]})]})})]})})}),d.jsx("div",{className:"flex-1 reactflow-wrapper",ref:g,children:d.jsxs(gM,{nodes:(V==null?void 0:V.nodes)||[],nodeTypes:qM,edges:(V==null?void 0:V.edges)||[],edgeTypes:eI,onNodesChange:F,onEdgesChange:M,onNodeDragStart:le,onNodeClick:le,onEdgeClick:ae,onPaneClick:fe,onPaneContextMenu:ce,onConnect:z,onDrop:re,onDragOver:H,fitView:!0,defaultEdgeOptions:n4,connectionLineComponent:E3,maxZoom:4,onInit:he=>{setTimeout(()=>{he.fitView({maxZoom:4})},0)},children:[d.jsx(NM,{}),d.jsx(HM,{}),d.jsx(RM,{}),d.jsx(ql,{position:"top-center",children:d.jsx(C3,{toggleArcMode:te,onApplyLayout:he=>V&&xe(he,V.nodes,V.edges)})}),d.jsx(_3,{slices:K,position:v,isOpen:f,onClose:()=>h(!1),onSliceClick:ve,size:200})]})})]})})};function o4(){return d.jsx("div",{className:"h-screen",children:d.jsxs(Ok,{direction:"horizontal",children:[d.jsx(r$,{}),d.jsx(Lk,{}),d.jsx(Q0,{children:d.jsx(MS,{children:d.jsx(N3,{children:d.jsx(r4,{})})})})]})})}$_.createRoot(document.getElementById("root")).render(d.jsx(Fe.StrictMode,{children:d.jsx(o4,{})}));export{i4 as c,xh as g};
