var Jr=Object.defineProperty;var Kr=(g,m,l)=>m in g?Jr(g,m,{enumerable:!0,configurable:!0,writable:!0,value:l}):g[m]=l;var F=(g,m,l)=>Kr(g,typeof m!="symbol"?m+"":m,l);import{g as Zr}from"./index-B4_XRz1b.js";function et(g,m){for(var l=0;l<m.length;l++){const u=m[l];if(typeof u!="string"&&!Array.isArray(u)){for(const a in u)if(a!=="default"&&!(a in g)){const i=Object.getOwnPropertyDescriptor(u,a);i&&Object.defineProperty(g,a,i.get?i:{enumerable:!0,get:()=>u[a]})}}}return Object.freeze(Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}))}var J,Xe;function Ye(){if(Xe)return J;Xe=1;var g="\0",m="\0",l="";class u{constructor(r){F(this,"_isDirected",!0);F(this,"_isMultigraph",!1);F(this,"_isCompound",!1);F(this,"_label");F(this,"_defaultNodeLabelFn",()=>{});F(this,"_defaultEdgeLabelFn",()=>{});F(this,"_nodes",{});F(this,"_in",{});F(this,"_preds",{});F(this,"_out",{});F(this,"_sucs",{});F(this,"_edgeObjs",{});F(this,"_edgeLabels",{});F(this,"_nodeCount",0);F(this,"_edgeCount",0);F(this,"_parent");F(this,"_children");r&&(this._isDirected=Object.hasOwn(r,"directed")?r.directed:!0,this._isMultigraph=Object.hasOwn(r,"multigraph")?r.multigraph:!1,this._isCompound=Object.hasOwn(r,"compound")?r.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[m]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(r){return this._label=r,this}graph(){return this._label}setDefaultNodeLabel(r){return this._defaultNodeLabelFn=r,typeof r!="function"&&(this._defaultNodeLabelFn=()=>r),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var r=this;return this.nodes().filter(t=>Object.keys(r._in[t]).length===0)}sinks(){var r=this;return this.nodes().filter(t=>Object.keys(r._out[t]).length===0)}setNodes(r,t){var d=arguments,h=this;return r.forEach(function(w){d.length>1?h.setNode(w,t):h.setNode(w)}),this}setNode(r,t){return Object.hasOwn(this._nodes,r)?(arguments.length>1&&(this._nodes[r]=t),this):(this._nodes[r]=arguments.length>1?t:this._defaultNodeLabelFn(r),this._isCompound&&(this._parent[r]=m,this._children[r]={},this._children[m][r]=!0),this._in[r]={},this._preds[r]={},this._out[r]={},this._sucs[r]={},++this._nodeCount,this)}node(r){return this._nodes[r]}hasNode(r){return Object.hasOwn(this._nodes,r)}removeNode(r){var t=this;if(Object.hasOwn(this._nodes,r)){var d=h=>t.removeEdge(t._edgeObjs[h]);delete this._nodes[r],this._isCompound&&(this._removeFromParentsChildList(r),delete this._parent[r],this.children(r).forEach(function(h){t.setParent(h)}),delete this._children[r]),Object.keys(this._in[r]).forEach(d),delete this._in[r],delete this._preds[r],Object.keys(this._out[r]).forEach(d),delete this._out[r],delete this._sucs[r],--this._nodeCount}return this}setParent(r,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t===void 0)t=m;else{t+="";for(var d=t;d!==void 0;d=this.parent(d))if(d===r)throw new Error("Setting "+t+" as parent of "+r+" would create a cycle");this.setNode(t)}return this.setNode(r),this._removeFromParentsChildList(r),this._parent[r]=t,this._children[t][r]=!0,this}_removeFromParentsChildList(r){delete this._children[this._parent[r]][r]}parent(r){if(this._isCompound){var t=this._parent[r];if(t!==m)return t}}children(r=m){if(this._isCompound){var t=this._children[r];if(t)return Object.keys(t)}else{if(r===m)return this.nodes();if(this.hasNode(r))return[]}}predecessors(r){var t=this._preds[r];if(t)return Object.keys(t)}successors(r){var t=this._sucs[r];if(t)return Object.keys(t)}neighbors(r){var t=this.predecessors(r);if(t){const h=new Set(t);for(var d of this.successors(r))h.add(d);return Array.from(h.values())}}isLeaf(r){var t;return this.isDirected()?t=this.successors(r):t=this.neighbors(r),t.length===0}filterNodes(r){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var d=this;Object.entries(this._nodes).forEach(function([C,c]){r(C)&&t.setNode(C,c)}),Object.values(this._edgeObjs).forEach(function(C){t.hasNode(C.v)&&t.hasNode(C.w)&&t.setEdge(C,d.edge(C))});var h={};function w(C){var c=d.parent(C);return c===void 0||t.hasNode(c)?(h[C]=c,c):c in h?h[c]:w(c)}return this._isCompound&&t.nodes().forEach(C=>t.setParent(C,w(C))),t}setDefaultEdgeLabel(r){return this._defaultEdgeLabelFn=r,typeof r!="function"&&(this._defaultEdgeLabelFn=()=>r),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(r,t){var d=this,h=arguments;return r.reduce(function(w,C){return h.length>1?d.setEdge(w,C,t):d.setEdge(w,C),C}),this}setEdge(){var r,t,d,h,w=!1,C=arguments[0];typeof C=="object"&&C!==null&&"v"in C?(r=C.v,t=C.w,d=C.name,arguments.length===2&&(h=arguments[1],w=!0)):(r=C,t=arguments[1],d=arguments[3],arguments.length>2&&(h=arguments[2],w=!0)),r=""+r,t=""+t,d!==void 0&&(d=""+d);var c=e(this._isDirected,r,t,d);if(Object.hasOwn(this._edgeLabels,c))return w&&(this._edgeLabels[c]=h),this;if(d!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(r),this.setNode(t),this._edgeLabels[c]=w?h:this._defaultEdgeLabelFn(r,t,d);var E=s(this._isDirected,r,t,d);return r=E.v,t=E.w,Object.freeze(E),this._edgeObjs[c]=E,a(this._preds[t],r),a(this._sucs[r],t),this._in[t][c]=E,this._out[r][c]=E,this._edgeCount++,this}edge(r,t,d){var h=arguments.length===1?n(this._isDirected,arguments[0]):e(this._isDirected,r,t,d);return this._edgeLabels[h]}edgeAsObj(){const r=this.edge(...arguments);return typeof r!="object"?{label:r}:r}hasEdge(r,t,d){var h=arguments.length===1?n(this._isDirected,arguments[0]):e(this._isDirected,r,t,d);return Object.hasOwn(this._edgeLabels,h)}removeEdge(r,t,d){var h=arguments.length===1?n(this._isDirected,arguments[0]):e(this._isDirected,r,t,d),w=this._edgeObjs[h];return w&&(r=w.v,t=w.w,delete this._edgeLabels[h],delete this._edgeObjs[h],i(this._preds[t],r),i(this._sucs[r],t),delete this._in[t][h],delete this._out[r][h],this._edgeCount--),this}inEdges(r,t){var d=this._in[r];if(d){var h=Object.values(d);return t?h.filter(w=>w.v===t):h}}outEdges(r,t){var d=this._out[r];if(d){var h=Object.values(d);return t?h.filter(w=>w.w===t):h}}nodeEdges(r,t){var d=this.inEdges(r,t);if(d)return d.concat(this.outEdges(r,t))}}function a(o,r){o[r]?o[r]++:o[r]=1}function i(o,r){--o[r]||delete o[r]}function e(o,r,t,d){var h=""+r,w=""+t;if(!o&&h>w){var C=h;h=w,w=C}return h+l+w+l+(d===void 0?g:d)}function s(o,r,t,d){var h=""+r,w=""+t;if(!o&&h>w){var C=h;h=w,w=C}var c={v:h,w};return d&&(c.name=d),c}function n(o,r){return e(o,r.v,r.w,r.name)}return J=u,J}var K,Qe;function rt(){return Qe||(Qe=1,K="2.2.4"),K}var Z,$e;function tt(){return $e||($e=1,Z={Graph:Ye(),version:rt()}),Z}var ee,Je;function nt(){if(Je)return ee;Je=1;var g=Ye();ee={write:m,read:a};function m(i){var e={options:{directed:i.isDirected(),multigraph:i.isMultigraph(),compound:i.isCompound()},nodes:l(i),edges:u(i)};return i.graph()!==void 0&&(e.value=structuredClone(i.graph())),e}function l(i){return i.nodes().map(function(e){var s=i.node(e),n=i.parent(e),o={v:e};return s!==void 0&&(o.value=s),n!==void 0&&(o.parent=n),o})}function u(i){return i.edges().map(function(e){var s=i.edge(e),n={v:e.v,w:e.w};return e.name!==void 0&&(n.name=e.name),s!==void 0&&(n.value=s),n})}function a(i){var e=new g(i.options).setGraph(i.value);return i.nodes.forEach(function(s){e.setNode(s.v,s.value),s.parent&&e.setParent(s.v,s.parent)}),i.edges.forEach(function(s){e.setEdge({v:s.v,w:s.w,name:s.name},s.value)}),e}return ee}var re,Ke;function it(){if(Ke)return re;Ke=1,re=g;function g(m){var l={},u=[],a;function i(e){Object.hasOwn(l,e)||(l[e]=!0,a.push(e),m.successors(e).forEach(i),m.predecessors(e).forEach(i))}return m.nodes().forEach(function(e){a=[],i(e),a.length&&u.push(a)}),u}return re}var te,Ze;function Vr(){if(Ze)return te;Ze=1;class g{constructor(){F(this,"_arr",[]);F(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(l){return l.key})}has(l){return Object.hasOwn(this._keyIndices,l)}priority(l){var u=this._keyIndices[l];if(u!==void 0)return this._arr[u].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(l,u){var a=this._keyIndices;if(l=String(l),!Object.hasOwn(a,l)){var i=this._arr,e=i.length;return a[l]=e,i.push({key:l,priority:u}),this._decrease(e),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var l=this._arr.pop();return delete this._keyIndices[l.key],this._heapify(0),l.key}decrease(l,u){var a=this._keyIndices[l];if(u>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+l+" Old: "+this._arr[a].priority+" New: "+u);this._arr[a].priority=u,this._decrease(a)}_heapify(l){var u=this._arr,a=2*l,i=a+1,e=l;a<u.length&&(e=u[a].priority<u[e].priority?a:e,i<u.length&&(e=u[i].priority<u[e].priority?i:e),e!==l&&(this._swap(l,e),this._heapify(e)))}_decrease(l){for(var u=this._arr,a=u[l].priority,i;l!==0&&(i=l>>1,!(u[i].priority<a));)this._swap(l,i),l=i}_swap(l,u){var a=this._arr,i=this._keyIndices,e=a[l],s=a[u];a[l]=s,a[u]=e,i[s.key]=l,i[e.key]=u}}return te=g,te}var ne,er;function Br(){if(er)return ne;er=1;var g=Vr();ne=l;var m=()=>1;function l(a,i,e,s){return u(a,String(i),e||m,s||function(n){return a.outEdges(n)})}function u(a,i,e,s){var n={},o=new g,r,t,d=function(h){var w=h.v!==r?h.v:h.w,C=n[w],c=e(h),E=t.distance+c;if(c<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+c);E<C.distance&&(C.distance=E,C.predecessor=r,o.decrease(w,E))};for(a.nodes().forEach(function(h){var w=h===i?0:Number.POSITIVE_INFINITY;n[h]={distance:w},o.add(h,w)});o.size()>0&&(r=o.removeMin(),t=n[r],t.distance!==Number.POSITIVE_INFINITY);)s(r).forEach(d);return n}return ne}var ie,rr;function at(){if(rr)return ie;rr=1;var g=Br();ie=m;function m(l,u,a){return l.nodes().reduce(function(i,e){return i[e]=g(l,e,u,a),i},{})}return ie}var ae,tr;function Wr(){if(tr)return ae;tr=1,ae=g;function g(m){var l=0,u=[],a={},i=[];function e(s){var n=a[s]={onStack:!0,lowlink:l,index:l++};if(u.push(s),m.successors(s).forEach(function(t){Object.hasOwn(a,t)?a[t].onStack&&(n.lowlink=Math.min(n.lowlink,a[t].index)):(e(t),n.lowlink=Math.min(n.lowlink,a[t].lowlink))}),n.lowlink===n.index){var o=[],r;do r=u.pop(),a[r].onStack=!1,o.push(r);while(s!==r);i.push(o)}}return m.nodes().forEach(function(s){Object.hasOwn(a,s)||e(s)}),i}return ae}var se,nr;function st(){if(nr)return se;nr=1;var g=Wr();se=m;function m(l){return g(l).filter(function(u){return u.length>1||u.length===1&&l.hasEdge(u[0],u[0])})}return se}var oe,ir;function ot(){if(ir)return oe;ir=1,oe=m;var g=()=>1;function m(u,a,i){return l(u,a||g,i||function(e){return u.outEdges(e)})}function l(u,a,i){var e={},s=u.nodes();return s.forEach(function(n){e[n]={},e[n][n]={distance:0},s.forEach(function(o){n!==o&&(e[n][o]={distance:Number.POSITIVE_INFINITY})}),i(n).forEach(function(o){var r=o.v===n?o.w:o.v,t=a(o);e[n][r]={distance:t,predecessor:n}})}),s.forEach(function(n){var o=e[n];s.forEach(function(r){var t=e[r];s.forEach(function(d){var h=t[n],w=o[d],C=t[d],c=h.distance+w.distance;c<C.distance&&(C.distance=c,C.predecessor=w.predecessor)})})}),e}return oe}var ue,ar;function Yr(){if(ar)return ue;ar=1;function g(l){var u={},a={},i=[];function e(s){if(Object.hasOwn(a,s))throw new m;Object.hasOwn(u,s)||(a[s]=!0,u[s]=!0,l.predecessors(s).forEach(e),delete a[s],i.push(s))}if(l.sinks().forEach(e),Object.keys(u).length!==l.nodeCount())throw new m;return i}class m extends Error{constructor(){super(...arguments)}}return ue=g,g.CycleException=m,ue}var de,sr;function ut(){if(sr)return de;sr=1;var g=Yr();de=m;function m(l){try{g(l)}catch(u){if(u instanceof g.CycleException)return!1;throw u}return!0}return de}var le,or;function zr(){if(or)return le;or=1,le=g;function g(a,i,e){Array.isArray(i)||(i=[i]);var s=a.isDirected()?t=>a.successors(t):t=>a.neighbors(t),n=e==="post"?m:l,o=[],r={};return i.forEach(t=>{if(!a.hasNode(t))throw new Error("Graph does not have node: "+t);n(t,s,r,o)}),o}function m(a,i,e,s){for(var n=[[a,!1]];n.length>0;){var o=n.pop();o[1]?s.push(o[0]):Object.hasOwn(e,o[0])||(e[o[0]]=!0,n.push([o[0],!0]),u(i(o[0]),r=>n.push([r,!1])))}}function l(a,i,e,s){for(var n=[a];n.length>0;){var o=n.pop();Object.hasOwn(e,o)||(e[o]=!0,s.push(o),u(i(o),r=>n.push(r)))}}function u(a,i){for(var e=a.length;e--;)i(a[e],e,a);return a}return le}var he,ur;function dt(){if(ur)return he;ur=1;var g=zr();he=m;function m(l,u){return g(l,u,"post")}return he}var fe,dr;function lt(){if(dr)return fe;dr=1;var g=zr();fe=m;function m(l,u){return g(l,u,"pre")}return fe}var ce,lr;function ht(){if(lr)return ce;lr=1;var g=Ye(),m=Vr();ce=l;function l(u,a){var i=new g,e={},s=new m,n;function o(t){var d=t.v===n?t.w:t.v,h=s.priority(d);if(h!==void 0){var w=a(t);w<h&&(e[d]=n,s.decrease(d,w))}}if(u.nodeCount()===0)return i;u.nodes().forEach(function(t){s.add(t,Number.POSITIVE_INFINITY),i.setNode(t)}),s.decrease(u.nodes()[0],0);for(var r=!1;s.size()>0;){if(n=s.removeMin(),Object.hasOwn(e,n))i.setEdge(n,e[n]);else{if(r)throw new Error("Input graph is not connected: "+u);r=!0}u.nodeEdges(n).forEach(o)}return i}return ce}var pe,hr;function ft(){return hr||(hr=1,pe={components:it(),dijkstra:Br(),dijkstraAll:at(),findCycles:st(),floydWarshall:ot(),isAcyclic:ut(),postorder:dt(),preorder:lt(),prim:ht(),tarjan:Wr(),topsort:Yr()}),pe}var me,fr;function Y(){if(fr)return me;fr=1;var g=tt();return me={Graph:g.Graph,json:nt(),alg:ft(),version:g.version},me}var be,cr;function ct(){if(cr)return be;cr=1;class g{constructor(){let a={};a._next=a._prev=a,this._sentinel=a}dequeue(){let a=this._sentinel,i=a._prev;if(i!==a)return m(i),i}enqueue(a){let i=this._sentinel;a._prev&&a._next&&m(a),a._next=i._next,i._next._prev=a,i._next=a,a._prev=i}toString(){let a=[],i=this._sentinel,e=i._prev;for(;e!==i;)a.push(JSON.stringify(e,l)),e=e._prev;return"["+a.join(", ")+"]"}}function m(u){u._prev._next=u._next,u._next._prev=u._prev,delete u._next,delete u._prev}function l(u,a){if(u!=="_next"&&u!=="_prev")return a}return be=g,be}var ve,pr;function pt(){if(pr)return ve;pr=1;let g=Y().Graph,m=ct();ve=u;let l=()=>1;function u(o,r){if(o.nodeCount()<=1)return[];let t=e(o,r||l);return a(t.graph,t.buckets,t.zeroIdx).flatMap(h=>o.outEdges(h.v,h.w))}function a(o,r,t){let d=[],h=r[r.length-1],w=r[0],C;for(;o.nodeCount();){for(;C=w.dequeue();)i(o,r,t,C);for(;C=h.dequeue();)i(o,r,t,C);if(o.nodeCount()){for(let c=r.length-2;c>0;--c)if(C=r[c].dequeue(),C){d=d.concat(i(o,r,t,C,!0));break}}}return d}function i(o,r,t,d,h){let w=h?[]:void 0;return o.inEdges(d.v).forEach(C=>{let c=o.edge(C),E=o.node(C.v);h&&w.push({v:C.v,w:C.w}),E.out-=c,s(r,t,E)}),o.outEdges(d.v).forEach(C=>{let c=o.edge(C),E=C.w,p=o.node(E);p.in-=c,s(r,t,p)}),o.removeNode(d.v),w}function e(o,r){let t=new g,d=0,h=0;o.nodes().forEach(c=>{t.setNode(c,{v:c,in:0,out:0})}),o.edges().forEach(c=>{let E=t.edge(c.v,c.w)||0,p=r(c),O=E+p;t.setEdge(c.v,c.w,O),h=Math.max(h,t.node(c.v).out+=p),d=Math.max(d,t.node(c.w).in+=p)});let w=n(h+d+3).map(()=>new m),C=d+1;return t.nodes().forEach(c=>{s(w,C,t.node(c))}),{graph:t,buckets:w,zeroIdx:C}}function s(o,r,t){t.out?t.in?o[t.out-t.in+r].enqueue(t):o[o.length-1].enqueue(t):o[0].enqueue(t)}function n(o){const r=[];for(let t=0;t<o;t++)r.push(t);return r}return ve}var we,mr;function A(){if(mr)return we;mr=1;let g=Y().Graph;we={addBorderNode:r,addDummyNode:m,applyWithChunking:h,asNonCompoundGraph:u,buildLayerMatrix:s,intersectRect:e,mapValues:I,maxRank:w,normalizeRanks:n,notime:E,partition:C,pick:R,predecessorWeights:i,range:x,removeEmptyRanks:o,simplify:l,successorWeights:a,time:c,uniqueId:O,zipObject:L};function m(f,b,_,k){for(var j=k;f.hasNode(j);)j=O(k);return _.dummy=b,f.setNode(j,_),j}function l(f){let b=new g().setGraph(f.graph());return f.nodes().forEach(_=>b.setNode(_,f.node(_))),f.edges().forEach(_=>{let k=b.edge(_.v,_.w)||{weight:0,minlen:1},j=f.edge(_);b.setEdge(_.v,_.w,{weight:k.weight+j.weight,minlen:Math.max(k.minlen,j.minlen)})}),b}function u(f){let b=new g({multigraph:f.isMultigraph()}).setGraph(f.graph());return f.nodes().forEach(_=>{f.children(_).length||b.setNode(_,f.node(_))}),f.edges().forEach(_=>{b.setEdge(_,f.edge(_))}),b}function a(f){let b=f.nodes().map(_=>{let k={};return f.outEdges(_).forEach(j=>{k[j.w]=(k[j.w]||0)+f.edge(j).weight}),k});return L(f.nodes(),b)}function i(f){let b=f.nodes().map(_=>{let k={};return f.inEdges(_).forEach(j=>{k[j.v]=(k[j.v]||0)+f.edge(j).weight}),k});return L(f.nodes(),b)}function e(f,b){let _=f.x,k=f.y,j=b.x-_,T=b.y-k,S=f.width/2,D=f.height/2;if(!j&&!T)throw new Error("Not possible to find intersection inside of the rectangle");let z,U;return Math.abs(T)*S>Math.abs(j)*D?(T<0&&(D=-D),z=D*j/T,U=D):(j<0&&(S=-S),z=S,U=S*T/j),{x:_+z,y:k+U}}function s(f){let b=x(w(f)+1).map(()=>[]);return f.nodes().forEach(_=>{let k=f.node(_),j=k.rank;j!==void 0&&(b[j][k.order]=_)}),b}function n(f){let b=f.nodes().map(k=>{let j=f.node(k).rank;return j===void 0?Number.MAX_VALUE:j}),_=h(Math.min,b);f.nodes().forEach(k=>{let j=f.node(k);Object.hasOwn(j,"rank")&&(j.rank-=_)})}function o(f){let b=f.nodes().map(S=>f.node(S).rank),_=h(Math.min,b),k=[];f.nodes().forEach(S=>{let D=f.node(S).rank-_;k[D]||(k[D]=[]),k[D].push(S)});let j=0,T=f.graph().nodeRankFactor;Array.from(k).forEach((S,D)=>{S===void 0&&D%T!==0?--j:S!==void 0&&j&&S.forEach(z=>f.node(z).rank+=j)})}function r(f,b,_,k){let j={width:0,height:0};return arguments.length>=4&&(j.rank=_,j.order=k),m(f,"border",j,b)}function t(f,b=d){const _=[];for(let k=0;k<f.length;k+=b){const j=f.slice(k,k+b);_.push(j)}return _}const d=65535;function h(f,b){if(b.length>d){const _=t(b);return f.apply(null,_.map(k=>f.apply(null,k)))}else return f.apply(null,b)}function w(f){const _=f.nodes().map(k=>{let j=f.node(k).rank;return j===void 0?Number.MIN_VALUE:j});return h(Math.max,_)}function C(f,b){let _={lhs:[],rhs:[]};return f.forEach(k=>{b(k)?_.lhs.push(k):_.rhs.push(k)}),_}function c(f,b){let _=Date.now();try{return b()}finally{console.log(f+" time: "+(Date.now()-_)+"ms")}}function E(f,b){return b()}let p=0;function O(f){var b=++p;return f+(""+b)}function x(f,b,_=1){b==null&&(b=f,f=0);let k=T=>T<b;_<0&&(k=T=>b<T);const j=[];for(let T=f;k(T);T+=_)j.push(T);return j}function R(f,b){const _={};for(const k of b)f[k]!==void 0&&(_[k]=f[k]);return _}function I(f,b){let _=b;return typeof b=="string"&&(_=k=>k[b]),Object.entries(f).reduce((k,[j,T])=>(k[j]=_(T,j),k),{})}function L(f,b){return f.reduce((_,k,j)=>(_[k]=b[j],_),{})}return we}var ge,br;function mt(){if(br)return ge;br=1;let g=pt(),m=A().uniqueId;ge={run:l,undo:a};function l(i){(i.graph().acyclicer==="greedy"?g(i,s(i)):u(i)).forEach(n=>{let o=i.edge(n);i.removeEdge(n),o.forwardName=n.name,o.reversed=!0,i.setEdge(n.w,n.v,o,m("rev"))});function s(n){return o=>n.edge(o).weight}}function u(i){let e=[],s={},n={};function o(r){Object.hasOwn(n,r)||(n[r]=!0,s[r]=!0,i.outEdges(r).forEach(t=>{Object.hasOwn(s,t.w)?e.push(t):o(t.w)}),delete s[r])}return i.nodes().forEach(o),e}function a(i){i.edges().forEach(e=>{let s=i.edge(e);if(s.reversed){i.removeEdge(e);let n=s.forwardName;delete s.reversed,delete s.forwardName,i.setEdge(e.w,e.v,s,n)}})}return ge}var Ee,vr;function bt(){if(vr)return Ee;vr=1;let g=A();Ee={run:m,undo:u};function m(a){a.graph().dummyChains=[],a.edges().forEach(i=>l(a,i))}function l(a,i){let e=i.v,s=a.node(e).rank,n=i.w,o=a.node(n).rank,r=i.name,t=a.edge(i),d=t.labelRank;if(o===s+1)return;a.removeEdge(i);let h,w,C;for(C=0,++s;s<o;++C,++s)t.points=[],w={width:0,height:0,edgeLabel:t,edgeObj:i,rank:s},h=g.addDummyNode(a,"edge",w,"_d"),s===d&&(w.width=t.width,w.height=t.height,w.dummy="edge-label",w.labelpos=t.labelpos),a.setEdge(e,h,{weight:t.weight},r),C===0&&a.graph().dummyChains.push(h),e=h;a.setEdge(e,n,{weight:t.weight},r)}function u(a){a.graph().dummyChains.forEach(i=>{let e=a.node(i),s=e.edgeLabel,n;for(a.setEdge(e.edgeObj,s);e.dummy;)n=a.successors(i)[0],a.removeNode(i),s.points.push({x:e.x,y:e.y}),e.dummy==="edge-label"&&(s.x=e.x,s.y=e.y,s.width=e.width,s.height=e.height),i=n,e=a.node(i)})}return Ee}var _e,wr;function X(){if(wr)return _e;wr=1;const{applyWithChunking:g}=A();_e={longestPath:m,slack:l};function m(u){var a={};function i(e){var s=u.node(e);if(Object.hasOwn(a,e))return s.rank;a[e]=!0;let n=u.outEdges(e).map(r=>r==null?Number.POSITIVE_INFINITY:i(r.w)-u.edge(r).minlen);var o=g(Math.min,n);return o===Number.POSITIVE_INFINITY&&(o=0),s.rank=o}u.sources().forEach(i)}function l(u,a){return u.node(a.w).rank-u.node(a.v).rank-u.edge(a).minlen}return _e}var ye,gr;function Ur(){if(gr)return ye;gr=1;var g=Y().Graph,m=X().slack;ye=l;function l(e){var s=new g({directed:!1}),n=e.nodes()[0],o=e.nodeCount();s.setNode(n,{});for(var r,t;u(s,e)<o;)r=a(s,e),t=s.hasNode(r.v)?m(e,r):-m(e,r),i(s,e,t);return s}function u(e,s){function n(o){s.nodeEdges(o).forEach(r=>{var t=r.v,d=o===t?r.w:t;!e.hasNode(d)&&!m(s,r)&&(e.setNode(d,{}),e.setEdge(o,d,{}),n(d))})}return e.nodes().forEach(n),e.nodeCount()}function a(e,s){return s.edges().reduce((o,r)=>{let t=Number.POSITIVE_INFINITY;return e.hasNode(r.v)!==e.hasNode(r.w)&&(t=m(s,r)),t<o[0]?[t,r]:o},[Number.POSITIVE_INFINITY,null])[1]}function i(e,s,n){e.nodes().forEach(o=>s.node(o).rank+=n)}return ye}var ke,Er;function vt(){if(Er)return ke;Er=1;var g=Ur(),m=X().slack,l=X().longestPath,u=Y().alg.preorder,a=Y().alg.postorder,i=A().simplify;ke=e,e.initLowLimValues=r,e.initCutValues=s,e.calcCutValue=o,e.leaveEdge=d,e.enterEdge=h,e.exchangeEdges=w;function e(p){p=i(p),l(p);var O=g(p);r(O),s(O,p);for(var x,R;x=d(O);)R=h(O,p,x),w(O,p,x,R)}function s(p,O){var x=a(p,p.nodes());x=x.slice(0,x.length-1),x.forEach(R=>n(p,O,R))}function n(p,O,x){var R=p.node(x),I=R.parent;p.edge(x,I).cutvalue=o(p,O,x)}function o(p,O,x){var R=p.node(x),I=R.parent,L=!0,f=O.edge(x,I),b=0;return f||(L=!1,f=O.edge(I,x)),b=f.weight,O.nodeEdges(x).forEach(_=>{var k=_.v===x,j=k?_.w:_.v;if(j!==I){var T=k===L,S=O.edge(_).weight;if(b+=T?S:-S,c(p,x,j)){var D=p.edge(x,j).cutvalue;b+=T?-D:D}}}),b}function r(p,O){arguments.length<2&&(O=p.nodes()[0]),t(p,{},1,O)}function t(p,O,x,R,I){var L=x,f=p.node(R);return O[R]=!0,p.neighbors(R).forEach(b=>{Object.hasOwn(O,b)||(x=t(p,O,x,b,R))}),f.low=L,f.lim=x++,I?f.parent=I:delete f.parent,x}function d(p){return p.edges().find(O=>p.edge(O).cutvalue<0)}function h(p,O,x){var R=x.v,I=x.w;O.hasEdge(R,I)||(R=x.w,I=x.v);var L=p.node(R),f=p.node(I),b=L,_=!1;L.lim>f.lim&&(b=f,_=!0);var k=O.edges().filter(j=>_===E(p,p.node(j.v),b)&&_!==E(p,p.node(j.w),b));return k.reduce((j,T)=>m(O,T)<m(O,j)?T:j)}function w(p,O,x,R){var I=x.v,L=x.w;p.removeEdge(I,L),p.setEdge(R.v,R.w,{}),r(p),s(p,O),C(p,O)}function C(p,O){var x=p.nodes().find(I=>!O.node(I).parent),R=u(p,x);R=R.slice(1),R.forEach(I=>{var L=p.node(I).parent,f=O.edge(I,L),b=!1;f||(f=O.edge(L,I),b=!0),O.node(I).rank=O.node(L).rank+(b?f.minlen:-f.minlen)})}function c(p,O,x){return p.hasEdge(O,x)}function E(p,O,x){return x.low<=O.lim&&O.lim<=x.lim}return ke}var Oe,_r;function wt(){if(_r)return Oe;_r=1;var g=X(),m=g.longestPath,l=Ur(),u=vt();Oe=a;function a(n){var o=n.graph().ranker;if(o instanceof Function)return o(n);switch(n.graph().ranker){case"network-simplex":s(n);break;case"tight-tree":e(n);break;case"longest-path":i(n);break;case"none":break;default:s(n)}}var i=m;function e(n){m(n),l(n)}function s(n){u(n)}return Oe}var Ne,yr;function gt(){if(yr)return Ne;yr=1,Ne=g;function g(u){let a=l(u);u.graph().dummyChains.forEach(i=>{let e=u.node(i),s=e.edgeObj,n=m(u,a,s.v,s.w),o=n.path,r=n.lca,t=0,d=o[t],h=!0;for(;i!==s.w;){if(e=u.node(i),h){for(;(d=o[t])!==r&&u.node(d).maxRank<e.rank;)t++;d===r&&(h=!1)}if(!h){for(;t<o.length-1&&u.node(d=o[t+1]).minRank<=e.rank;)t++;d=o[t]}u.setParent(i,d),i=u.successors(i)[0]}})}function m(u,a,i,e){let s=[],n=[],o=Math.min(a[i].low,a[e].low),r=Math.max(a[i].lim,a[e].lim),t,d;t=i;do t=u.parent(t),s.push(t);while(t&&(a[t].low>o||r>a[t].lim));for(d=t,t=e;(t=u.parent(t))!==d;)n.push(t);return{path:s.concat(n.reverse()),lca:d}}function l(u){let a={},i=0;function e(s){let n=i;u.children(s).forEach(e),a[s]={low:n,lim:i++}}return u.children().forEach(e),a}return Ne}var xe,kr;function Et(){if(kr)return xe;kr=1;let g=A();xe={run:m,cleanup:i};function m(e){let s=g.addDummyNode(e,"root",{},"_root"),n=u(e),o=Object.values(n),r=g.applyWithChunking(Math.max,o)-1,t=2*r+1;e.graph().nestingRoot=s,e.edges().forEach(h=>e.edge(h).minlen*=t);let d=a(e)+1;e.children().forEach(h=>l(e,s,t,d,r,n,h)),e.graph().nodeRankFactor=t}function l(e,s,n,o,r,t,d){let h=e.children(d);if(!h.length){d!==s&&e.setEdge(s,d,{weight:0,minlen:n});return}let w=g.addBorderNode(e,"_bt"),C=g.addBorderNode(e,"_bb"),c=e.node(d);e.setParent(w,d),c.borderTop=w,e.setParent(C,d),c.borderBottom=C,h.forEach(E=>{l(e,s,n,o,r,t,E);let p=e.node(E),O=p.borderTop?p.borderTop:E,x=p.borderBottom?p.borderBottom:E,R=p.borderTop?o:2*o,I=O!==x?1:r-t[d]+1;e.setEdge(w,O,{weight:R,minlen:I,nestingEdge:!0}),e.setEdge(x,C,{weight:R,minlen:I,nestingEdge:!0})}),e.parent(d)||e.setEdge(s,w,{weight:0,minlen:r+t[d]})}function u(e){var s={};function n(o,r){var t=e.children(o);t&&t.length&&t.forEach(d=>n(d,r+1)),s[o]=r}return e.children().forEach(o=>n(o,1)),s}function a(e){return e.edges().reduce((s,n)=>s+e.edge(n).weight,0)}function i(e){var s=e.graph();e.removeNode(s.nestingRoot),delete s.nestingRoot,e.edges().forEach(n=>{var o=e.edge(n);o.nestingEdge&&e.removeEdge(n)})}return xe}var Ce,Or;function _t(){if(Or)return Ce;Or=1;let g=A();Ce=m;function m(u){function a(i){let e=u.children(i),s=u.node(i);if(e.length&&e.forEach(a),Object.hasOwn(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(let n=s.minRank,o=s.maxRank+1;n<o;++n)l(u,"borderLeft","_bl",i,s,n),l(u,"borderRight","_br",i,s,n)}}u.children().forEach(a)}function l(u,a,i,e,s,n){let o={width:0,height:0,rank:n,borderType:a},r=s[a][n-1],t=g.addDummyNode(u,"border",o,i);s[a][n]=t,u.setParent(t,e),r&&u.setEdge(r,t,{weight:1})}return Ce}var je,Nr;function yt(){if(Nr)return je;Nr=1,je={adjust:g,undo:m};function g(n){let o=n.graph().rankdir.toLowerCase();(o==="lr"||o==="rl")&&l(n)}function m(n){let o=n.graph().rankdir.toLowerCase();(o==="bt"||o==="rl")&&a(n),(o==="lr"||o==="rl")&&(e(n),l(n))}function l(n){n.nodes().forEach(o=>u(n.node(o))),n.edges().forEach(o=>u(n.edge(o)))}function u(n){let o=n.width;n.width=n.height,n.height=o}function a(n){n.nodes().forEach(o=>i(n.node(o))),n.edges().forEach(o=>{let r=n.edge(o);r.points.forEach(i),Object.hasOwn(r,"y")&&i(r)})}function i(n){n.y=-n.y}function e(n){n.nodes().forEach(o=>s(n.node(o))),n.edges().forEach(o=>{let r=n.edge(o);r.points.forEach(s),Object.hasOwn(r,"x")&&s(r)})}function s(n){let o=n.x;n.x=n.y,n.y=o}return je}var Re,xr;function kt(){if(xr)return Re;xr=1;let g=A();Re=m;function m(l){let u={},a=l.nodes().filter(r=>!l.children(r).length),i=a.map(r=>l.node(r).rank),e=g.applyWithChunking(Math.max,i),s=g.range(e+1).map(()=>[]);function n(r){if(u[r])return;u[r]=!0;let t=l.node(r);s[t.rank].push(r),l.successors(r).forEach(n)}return a.sort((r,t)=>l.node(r).rank-l.node(t).rank).forEach(n),s}return Re}var Ie,Cr;function Ot(){if(Cr)return Ie;Cr=1;let g=A().zipObject;Ie=m;function m(u,a){let i=0;for(let e=1;e<a.length;++e)i+=l(u,a[e-1],a[e]);return i}function l(u,a,i){let e=g(i,i.map((d,h)=>h)),s=a.flatMap(d=>u.outEdges(d).map(h=>({pos:e[h.w],weight:u.edge(h).weight})).sort((h,w)=>h.pos-w.pos)),n=1;for(;n<i.length;)n<<=1;let o=2*n-1;n-=1;let r=new Array(o).fill(0),t=0;return s.forEach(d=>{let h=d.pos+n;r[h]+=d.weight;let w=0;for(;h>0;)h%2&&(w+=r[h+1]),h=h-1>>1,r[h]+=d.weight;t+=d.weight*w}),t}return Ie}var qe,jr;function Nt(){if(jr)return qe;jr=1,qe=g;function g(m,l=[]){return l.map(u=>{let a=m.inEdges(u);if(a.length){let i=a.reduce((e,s)=>{let n=m.edge(s),o=m.node(s.v);return{sum:e.sum+n.weight*o.order,weight:e.weight+n.weight}},{sum:0,weight:0});return{v:u,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:u}})}return qe}var Le,Rr;function xt(){if(Rr)return Le;Rr=1;let g=A();Le=m;function m(a,i){let e={};a.forEach((n,o)=>{let r=e[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:o};n.barycenter!==void 0&&(r.barycenter=n.barycenter,r.weight=n.weight)}),i.edges().forEach(n=>{let o=e[n.v],r=e[n.w];o!==void 0&&r!==void 0&&(r.indegree++,o.out.push(e[n.w]))});let s=Object.values(e).filter(n=>!n.indegree);return l(s)}function l(a){let i=[];function e(n){return o=>{o.merged||(o.barycenter===void 0||n.barycenter===void 0||o.barycenter>=n.barycenter)&&u(n,o)}}function s(n){return o=>{o.in.push(n),--o.indegree===0&&a.push(o)}}for(;a.length;){let n=a.pop();i.push(n),n.in.reverse().forEach(e(n)),n.out.forEach(s(n))}return i.filter(n=>!n.merged).map(n=>g.pick(n,["vs","i","barycenter","weight"]))}function u(a,i){let e=0,s=0;a.weight&&(e+=a.barycenter*a.weight,s+=a.weight),i.weight&&(e+=i.barycenter*i.weight,s+=i.weight),a.vs=i.vs.concat(a.vs),a.barycenter=e/s,a.weight=s,a.i=Math.min(i.i,a.i),i.merged=!0}return Le}var Te,Ir;function Ct(){if(Ir)return Te;Ir=1;let g=A();Te=m;function m(a,i){let e=g.partition(a,w=>Object.hasOwn(w,"barycenter")),s=e.lhs,n=e.rhs.sort((w,C)=>C.i-w.i),o=[],r=0,t=0,d=0;s.sort(u(!!i)),d=l(o,n,d),s.forEach(w=>{d+=w.vs.length,o.push(w.vs),r+=w.barycenter*w.weight,t+=w.weight,d=l(o,n,d)});let h={vs:o.flat(!0)};return t&&(h.barycenter=r/t,h.weight=t),h}function l(a,i,e){let s;for(;i.length&&(s=i[i.length-1]).i<=e;)i.pop(),a.push(s.vs),e++;return e}function u(a){return(i,e)=>i.barycenter<e.barycenter?-1:i.barycenter>e.barycenter?1:a?e.i-i.i:i.i-e.i}return Te}var Se,qr;function jt(){if(qr)return Se;qr=1;let g=Nt(),m=xt(),l=Ct();Se=u;function u(e,s,n,o){let r=e.children(s),t=e.node(s),d=t?t.borderLeft:void 0,h=t?t.borderRight:void 0,w={};d&&(r=r.filter(p=>p!==d&&p!==h));let C=g(e,r);C.forEach(p=>{if(e.children(p.v).length){let O=u(e,p.v,n,o);w[p.v]=O,Object.hasOwn(O,"barycenter")&&i(p,O)}});let c=m(C,n);a(c,w);let E=l(c,o);if(d&&(E.vs=[d,E.vs,h].flat(!0),e.predecessors(d).length)){let p=e.node(e.predecessors(d)[0]),O=e.node(e.predecessors(h)[0]);Object.hasOwn(E,"barycenter")||(E.barycenter=0,E.weight=0),E.barycenter=(E.barycenter*E.weight+p.order+O.order)/(E.weight+2),E.weight+=2}return E}function a(e,s){e.forEach(n=>{n.vs=n.vs.flatMap(o=>s[o]?s[o].vs:o)})}function i(e,s){e.barycenter!==void 0?(e.barycenter=(e.barycenter*e.weight+s.barycenter*s.weight)/(e.weight+s.weight),e.weight+=s.weight):(e.barycenter=s.barycenter,e.weight=s.weight)}return Se}var Me,Lr;function Rt(){if(Lr)return Me;Lr=1;let g=Y().Graph,m=A();Me=l;function l(a,i,e,s){s||(s=a.nodes());let n=u(a),o=new g({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(r=>a.node(r));return s.forEach(r=>{let t=a.node(r),d=a.parent(r);(t.rank===i||t.minRank<=i&&i<=t.maxRank)&&(o.setNode(r),o.setParent(r,d||n),a[e](r).forEach(h=>{let w=h.v===r?h.w:h.v,C=o.edge(w,r),c=C!==void 0?C.weight:0;o.setEdge(w,r,{weight:a.edge(h).weight+c})}),Object.hasOwn(t,"minRank")&&o.setNode(r,{borderLeft:t.borderLeft[i],borderRight:t.borderRight[i]}))}),o}function u(a){for(var i;a.hasNode(i=m.uniqueId("_root")););return i}return Me}var Pe,Tr;function It(){if(Tr)return Pe;Tr=1,Pe=g;function g(m,l,u){let a={},i;u.forEach(e=>{let s=m.parent(e),n,o;for(;s;){if(n=m.parent(s),n?(o=a[n],a[n]=s):(o=i,i=s),o&&o!==s){l.setEdge(o,s);return}s=n}})}return Pe}var De,Sr;function qt(){if(Sr)return De;Sr=1;let g=kt(),m=Ot(),l=jt(),u=Rt(),a=It(),i=Y().Graph,e=A();De=s;function s(t,d){if(d&&typeof d.customOrder=="function"){d.customOrder(t,s);return}let h=e.maxRank(t),w=n(t,e.range(1,h+1),"inEdges"),C=n(t,e.range(h-1,-1,-1),"outEdges"),c=g(t);if(r(t,c),d&&d.disableOptimalOrderHeuristic)return;let E=Number.POSITIVE_INFINITY,p;for(let O=0,x=0;x<4;++O,++x){o(O%2?w:C,O%4>=2),c=e.buildLayerMatrix(t);let R=m(t,c);R<E&&(x=0,p=Object.assign({},c),E=R)}r(t,p)}function n(t,d,h){const w=new Map,C=(c,E)=>{w.has(c)||w.set(c,[]),w.get(c).push(E)};for(const c of t.nodes()){const E=t.node(c);if(typeof E.rank=="number"&&C(E.rank,c),typeof E.minRank=="number"&&typeof E.maxRank=="number")for(let p=E.minRank;p<=E.maxRank;p++)p!==E.rank&&C(p,c)}return d.map(function(c){return u(t,c,h,w.get(c)||[])})}function o(t,d){let h=new i;t.forEach(function(w){let C=w.graph().root,c=l(w,C,h,d);c.vs.forEach((E,p)=>w.node(E).order=p),a(w,h,c.vs)})}function r(t,d){Object.values(d).forEach(h=>h.forEach((w,C)=>t.node(w).order=C))}return De}var Ge,Mr;function Lt(){if(Mr)return Ge;Mr=1;let g=Y().Graph,m=A();Ge={positionX:h,findType1Conflicts:l,findType2Conflicts:u,addConflict:i,hasConflict:e,verticalAlignment:s,horizontalCompaction:n,alignCoordinates:t,findSmallestWidthAlignment:r,balance:d};function l(c,E){let p={};function O(x,R){let I=0,L=0,f=x.length,b=R[R.length-1];return R.forEach((_,k)=>{let j=a(c,_),T=j?c.node(j).order:f;(j||_===b)&&(R.slice(L,k+1).forEach(S=>{c.predecessors(S).forEach(D=>{let z=c.node(D),U=z.order;(U<I||T<U)&&!(z.dummy&&c.node(S).dummy)&&i(p,D,S)})}),L=k+1,I=T)}),R}return E.length&&E.reduce(O),p}function u(c,E){let p={};function O(R,I,L,f,b){let _;m.range(I,L).forEach(k=>{_=R[k],c.node(_).dummy&&c.predecessors(_).forEach(j=>{let T=c.node(j);T.dummy&&(T.order<f||T.order>b)&&i(p,j,_)})})}function x(R,I){let L=-1,f,b=0;return I.forEach((_,k)=>{if(c.node(_).dummy==="border"){let j=c.predecessors(_);j.length&&(f=c.node(j[0]).order,O(I,b,k,L,f),b=k,L=f)}O(I,b,I.length,f,R.length)}),I}return E.length&&E.reduce(x),p}function a(c,E){if(c.node(E).dummy)return c.predecessors(E).find(p=>c.node(p).dummy)}function i(c,E,p){if(E>p){let x=E;E=p,p=x}let O=c[E];O||(c[E]=O={}),O[p]=!0}function e(c,E,p){if(E>p){let O=E;E=p,p=O}return!!c[E]&&Object.hasOwn(c[E],p)}function s(c,E,p,O){let x={},R={},I={};return E.forEach(L=>{L.forEach((f,b)=>{x[f]=f,R[f]=f,I[f]=b})}),E.forEach(L=>{let f=-1;L.forEach(b=>{let _=O(b);if(_.length){_=_.sort((j,T)=>I[j]-I[T]);let k=(_.length-1)/2;for(let j=Math.floor(k),T=Math.ceil(k);j<=T;++j){let S=_[j];R[b]===b&&f<I[S]&&!e(p,b,S)&&(R[S]=b,R[b]=x[b]=x[S],f=I[S])}}})}),{root:x,align:R}}function n(c,E,p,O,x){let R={},I=o(c,E,p,x),L=x?"borderLeft":"borderRight";function f(k,j){let T=I.nodes(),S=T.pop(),D={};for(;S;)D[S]?k(S):(D[S]=!0,T.push(S),T=T.concat(j(S))),S=T.pop()}function b(k){R[k]=I.inEdges(k).reduce((j,T)=>Math.max(j,R[T.v]+I.edge(T)),0)}function _(k){let j=I.outEdges(k).reduce((S,D)=>Math.min(S,R[D.w]-I.edge(D)),Number.POSITIVE_INFINITY),T=c.node(k);j!==Number.POSITIVE_INFINITY&&T.borderType!==L&&(R[k]=Math.max(R[k],j))}return f(b,I.predecessors.bind(I)),f(_,I.successors.bind(I)),Object.keys(O).forEach(k=>R[k]=R[p[k]]),R}function o(c,E,p,O){let x=new g,R=c.graph(),I=w(R.nodesep,R.edgesep,O);return E.forEach(L=>{let f;L.forEach(b=>{let _=p[b];if(x.setNode(_),f){var k=p[f],j=x.edge(k,_);x.setEdge(k,_,Math.max(I(c,b,f),j||0))}f=b})}),x}function r(c,E){return Object.values(E).reduce((p,O)=>{let x=Number.NEGATIVE_INFINITY,R=Number.POSITIVE_INFINITY;Object.entries(O).forEach(([L,f])=>{let b=C(c,L)/2;x=Math.max(f+b,x),R=Math.min(f-b,R)});const I=x-R;return I<p[0]&&(p=[I,O]),p},[Number.POSITIVE_INFINITY,null])[1]}function t(c,E){let p=Object.values(E),O=m.applyWithChunking(Math.min,p),x=m.applyWithChunking(Math.max,p);["u","d"].forEach(R=>{["l","r"].forEach(I=>{let L=R+I,f=c[L];if(f===E)return;let b=Object.values(f),_=O-m.applyWithChunking(Math.min,b);I!=="l"&&(_=x-m.applyWithChunking(Math.max,b)),_&&(c[L]=m.mapValues(f,k=>k+_))})})}function d(c,E){return m.mapValues(c.ul,(p,O)=>{if(E)return c[E.toLowerCase()][O];{let x=Object.values(c).map(R=>R[O]).sort((R,I)=>R-I);return(x[1]+x[2])/2}})}function h(c){let E=m.buildLayerMatrix(c),p=Object.assign(l(c,E),u(c,E)),O={},x;["u","d"].forEach(I=>{x=I==="u"?E:Object.values(E).reverse(),["l","r"].forEach(L=>{L==="r"&&(x=x.map(k=>Object.values(k).reverse()));let f=(I==="u"?c.predecessors:c.successors).bind(c),b=s(c,x,p,f),_=n(c,x,b.root,b.align,L==="r");L==="r"&&(_=m.mapValues(_,k=>-k)),O[I+L]=_})});let R=r(c,O);return t(O,R),d(O,c.graph().align)}function w(c,E,p){return(O,x,R)=>{let I=O.node(x),L=O.node(R),f=0,b;if(f+=I.width/2,Object.hasOwn(I,"labelpos"))switch(I.labelpos.toLowerCase()){case"l":b=-I.width/2;break;case"r":b=I.width/2;break}if(b&&(f+=p?b:-b),b=0,f+=(I.dummy?E:c)/2,f+=(L.dummy?E:c)/2,f+=L.width/2,Object.hasOwn(L,"labelpos"))switch(L.labelpos.toLowerCase()){case"l":b=L.width/2;break;case"r":b=-L.width/2;break}return b&&(f+=p?b:-b),b=0,f}}function C(c,E){return c.node(E).width}return Ge}var Fe,Pr;function Tt(){if(Pr)return Fe;Pr=1;let g=A(),m=Lt().positionX;Fe=l;function l(a){a=g.asNonCompoundGraph(a),u(a),Object.entries(m(a)).forEach(([i,e])=>a.node(i).x=e)}function u(a){let i=g.buildLayerMatrix(a),e=a.graph().ranksep,s=0;i.forEach(n=>{const o=n.reduce((r,t)=>{const d=a.node(t).height;return r>d?r:d},0);n.forEach(r=>a.node(r).y=s+o/2),s+=o+e})}return Fe}var Ae,Dr;function St(){if(Dr)return Ae;Dr=1;let g=mt(),m=bt(),l=wt(),u=A().normalizeRanks,a=gt(),i=A().removeEmptyRanks,e=Et(),s=_t(),n=yt(),o=qt(),r=Tt(),t=A(),d=Y().Graph;Ae=h;function h(v,y){let N=y&&y.debugTiming?t.time:t.notime;N("layout",()=>{let q=N("  buildLayoutGraph",()=>f(v));N("  runLayout",()=>w(q,N,y)),N("  updateInputGraph",()=>C(v,q))})}function w(v,y,N){y("    makeSpaceForEdgeLabels",()=>b(v)),y("    removeSelfEdges",()=>Xr(v)),y("    acyclic",()=>g.run(v)),y("    nestingGraph.run",()=>e.run(v)),y("    rank",()=>l(t.asNonCompoundGraph(v))),y("    injectEdgeLabelProxies",()=>_(v)),y("    removeEmptyRanks",()=>i(v)),y("    nestingGraph.cleanup",()=>e.cleanup(v)),y("    normalizeRanks",()=>u(v)),y("    assignRankMinMax",()=>k(v)),y("    removeEdgeLabelProxies",()=>j(v)),y("    normalize.run",()=>m.run(v)),y("    parentDummyChains",()=>a(v)),y("    addBorderSegments",()=>s(v)),y("    order",()=>o(v,N)),y("    insertSelfEdges",()=>Qr(v)),y("    adjustCoordinateSystem",()=>n.adjust(v)),y("    position",()=>r(v)),y("    positionSelfEdges",()=>$r(v)),y("    removeBorderNodes",()=>U(v)),y("    normalize.undo",()=>m.undo(v)),y("    fixupEdgeLabelCoords",()=>D(v)),y("    undoCoordinateSystem",()=>n.undo(v)),y("    translateGraph",()=>T(v)),y("    assignNodeIntersects",()=>S(v)),y("    reversePoints",()=>z(v)),y("    acyclic.undo",()=>g.undo(v))}function C(v,y){v.nodes().forEach(N=>{let q=v.node(N),M=y.node(N);q&&(q.x=M.x,q.y=M.y,q.rank=M.rank,y.children(N).length&&(q.width=M.width,q.height=M.height))}),v.edges().forEach(N=>{let q=v.edge(N),M=y.edge(N);q.points=M.points,Object.hasOwn(M,"x")&&(q.x=M.x,q.y=M.y)}),v.graph().width=y.graph().width,v.graph().height=y.graph().height}let c=["nodesep","edgesep","ranksep","marginx","marginy"],E={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},p=["acyclicer","ranker","rankdir","align"],O=["width","height","rank"],x={width:0,height:0},R=["minlen","weight","width","height","labeloffset"],I={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},L=["labelpos"];function f(v){let y=new d({multigraph:!0,compound:!0}),N=$(v.graph());return y.setGraph(Object.assign({},E,Q(N,c),t.pick(N,p))),v.nodes().forEach(q=>{let M=$(v.node(q));const P=Q(M,O);Object.keys(x).forEach(G=>{P[G]===void 0&&(P[G]=x[G])}),y.setNode(q,P),y.setParent(q,v.parent(q))}),v.edges().forEach(q=>{let M=$(v.edge(q));y.setEdge(q,Object.assign({},I,Q(M,R),t.pick(M,L)))}),y}function b(v){let y=v.graph();y.ranksep/=2,v.edges().forEach(N=>{let q=v.edge(N);q.minlen*=2,q.labelpos.toLowerCase()!=="c"&&(y.rankdir==="TB"||y.rankdir==="BT"?q.width+=q.labeloffset:q.height+=q.labeloffset)})}function _(v){v.edges().forEach(y=>{let N=v.edge(y);if(N.width&&N.height){let q=v.node(y.v),P={rank:(v.node(y.w).rank-q.rank)/2+q.rank,e:y};t.addDummyNode(v,"edge-proxy",P,"_ep")}})}function k(v){let y=0;v.nodes().forEach(N=>{let q=v.node(N);q.borderTop&&(q.minRank=v.node(q.borderTop).rank,q.maxRank=v.node(q.borderBottom).rank,y=Math.max(y,q.maxRank))}),v.graph().maxRank=y}function j(v){v.nodes().forEach(y=>{let N=v.node(y);N.dummy==="edge-proxy"&&(v.edge(N.e).labelRank=N.rank,v.removeNode(y))})}function T(v){let y=Number.POSITIVE_INFINITY,N=0,q=Number.POSITIVE_INFINITY,M=0,P=v.graph(),G=P.marginx||0,B=P.marginy||0;function ze(W){let V=W.x,H=W.y,Ue=W.width,He=W.height;y=Math.min(y,V-Ue/2),N=Math.max(N,V+Ue/2),q=Math.min(q,H-He/2),M=Math.max(M,H+He/2)}v.nodes().forEach(W=>ze(v.node(W))),v.edges().forEach(W=>{let V=v.edge(W);Object.hasOwn(V,"x")&&ze(V)}),y-=G,q-=B,v.nodes().forEach(W=>{let V=v.node(W);V.x-=y,V.y-=q}),v.edges().forEach(W=>{let V=v.edge(W);V.points.forEach(H=>{H.x-=y,H.y-=q}),Object.hasOwn(V,"x")&&(V.x-=y),Object.hasOwn(V,"y")&&(V.y-=q)}),P.width=N-y+G,P.height=M-q+B}function S(v){v.edges().forEach(y=>{let N=v.edge(y),q=v.node(y.v),M=v.node(y.w),P,G;N.points?(P=N.points[0],G=N.points[N.points.length-1]):(N.points=[],P=M,G=q),N.points.unshift(t.intersectRect(q,P)),N.points.push(t.intersectRect(M,G))})}function D(v){v.edges().forEach(y=>{let N=v.edge(y);if(Object.hasOwn(N,"x"))switch((N.labelpos==="l"||N.labelpos==="r")&&(N.width-=N.labeloffset),N.labelpos){case"l":N.x-=N.width/2+N.labeloffset;break;case"r":N.x+=N.width/2+N.labeloffset;break}})}function z(v){v.edges().forEach(y=>{let N=v.edge(y);N.reversed&&N.points.reverse()})}function U(v){v.nodes().forEach(y=>{if(v.children(y).length){let N=v.node(y),q=v.node(N.borderTop),M=v.node(N.borderBottom),P=v.node(N.borderLeft[N.borderLeft.length-1]),G=v.node(N.borderRight[N.borderRight.length-1]);N.width=Math.abs(G.x-P.x),N.height=Math.abs(M.y-q.y),N.x=P.x+N.width/2,N.y=q.y+N.height/2}}),v.nodes().forEach(y=>{v.node(y).dummy==="border"&&v.removeNode(y)})}function Xr(v){v.edges().forEach(y=>{if(y.v===y.w){var N=v.node(y.v);N.selfEdges||(N.selfEdges=[]),N.selfEdges.push({e:y,label:v.edge(y)}),v.removeEdge(y)}})}function Qr(v){var y=t.buildLayerMatrix(v);y.forEach(N=>{var q=0;N.forEach((M,P)=>{var G=v.node(M);G.order=P+q,(G.selfEdges||[]).forEach(B=>{t.addDummyNode(v,"selfedge",{width:B.label.width,height:B.label.height,rank:G.rank,order:P+ ++q,e:B.e,label:B.label},"_se")}),delete G.selfEdges})})}function $r(v){v.nodes().forEach(y=>{var N=v.node(y);if(N.dummy==="selfedge"){var q=v.node(N.e.v),M=q.x+q.width/2,P=q.y,G=N.x-M,B=q.height/2;v.setEdge(N.e,N.label),v.removeNode(y),N.label.points=[{x:M+2*G/3,y:P-B},{x:M+5*G/6,y:P-B},{x:M+G,y:P},{x:M+5*G/6,y:P+B},{x:M+2*G/3,y:P+B}],N.label.x=N.x,N.label.y=N.y}})}function Q(v,y){return t.mapValues(t.pick(v,y),Number)}function $(v){var y={};return v&&Object.entries(v).forEach(([N,q])=>{typeof N=="string"&&(N=N.toLowerCase()),y[N]=q}),y}return Ae}var Ve,Gr;function Mt(){if(Gr)return Ve;Gr=1;let g=A(),m=Y().Graph;Ve={debugOrdering:l};function l(u){let a=g.buildLayerMatrix(u),i=new m({compound:!0,multigraph:!0}).setGraph({});return u.nodes().forEach(e=>{i.setNode(e,{label:e}),i.setParent(e,"layer"+u.node(e).rank)}),u.edges().forEach(e=>i.setEdge(e.v,e.w,{},e.name)),a.forEach((e,s)=>{let n="layer"+s;i.setNode(n,{rank:"same"}),e.reduce((o,r)=>(i.setEdge(o,r,{style:"invis"}),r))}),i}return Ve}var Be,Fr;function Pt(){return Fr||(Fr=1,Be="1.1.8"),Be}var We,Ar;function Dt(){return Ar||(Ar=1,We={graphlib:Y(),layout:St(),debug:Mt(),util:{time:A().time,notime:A().notime},version:Pt()}),We}var Hr=Dt();const Gt=Zr(Hr),Vt=et({__proto__:null,default:Gt},[Hr]);export{Vt as i};
