function vA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Mq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mh={exports:{}},na={},Dh={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function wA(){if($0)return mt;$0=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function g(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function w(H,Y,T){this.props=H,this.context=Y,this.refs=v,this.updater=T||x}w.prototype.isReactComponent={},w.prototype.setState=function(H,Y){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Y,"setState")},w.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=w.prototype;function E(H,Y,T){this.props=H,this.context=Y,this.refs=v,this.updater=T||x}var C=E.prototype=new k;C.constructor=E,b(C,w.prototype),C.isPureReactComponent=!0;var _=Array.isArray,R=Object.prototype.hasOwnProperty,P={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function F(H,Y,T){var V,Z={},J=null,K=null;if(Y!=null)for(V in Y.ref!==void 0&&(K=Y.ref),Y.key!==void 0&&(J=""+Y.key),Y)R.call(Y,V)&&!I.hasOwnProperty(V)&&(Z[V]=Y[V]);var te=arguments.length-2;if(te===1)Z.children=T;else if(1<te){for(var Q=Array(te),ie=0;ie<te;ie++)Q[ie]=arguments[ie+2];Z.children=Q}if(H&&H.defaultProps)for(V in te=H.defaultProps,te)Z[V]===void 0&&(Z[V]=te[V]);return{$$typeof:e,type:H,key:J,ref:K,props:Z,_owner:P.current}}function W(H,Y){return{$$typeof:e,type:H.type,key:Y,ref:H.ref,props:H.props,_owner:H._owner}}function z(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function B(H){var Y={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(T){return Y[T]})}var X=/\/+/g;function G(H,Y){return typeof H=="object"&&H!==null&&H.key!=null?B(""+H.key):Y.toString(36)}function A(H,Y,T,V,Z){var J=typeof H;(J==="undefined"||J==="boolean")&&(H=null);var K=!1;if(H===null)K=!0;else switch(J){case"string":case"number":K=!0;break;case"object":switch(H.$$typeof){case e:case t:K=!0}}if(K)return K=H,Z=Z(K),H=V===""?"."+G(K,0):V,_(Z)?(T="",H!=null&&(T=H.replace(X,"$&/")+"/"),A(Z,Y,T,"",function(ie){return ie})):Z!=null&&(z(Z)&&(Z=W(Z,T+(!Z.key||K&&K.key===Z.key?"":(""+Z.key).replace(X,"$&/")+"/")+H)),Y.push(Z)),1;if(K=0,V=V===""?".":V+":",_(H))for(var te=0;te<H.length;te++){J=H[te];var Q=V+G(J,te);K+=A(J,Y,T,Q,Z)}else if(Q=g(H),typeof Q=="function")for(H=Q.call(H),te=0;!(J=H.next()).done;)J=J.value,Q=V+G(J,te++),K+=A(J,Y,T,Q,Z);else if(J==="object")throw Y=String(H),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return K}function O(H,Y,T){if(H==null)return H;var V=[],Z=0;return A(H,V,"","",function(J){return Y.call(T,J,Z++)}),V}function $(H){if(H._status===-1){var Y=H._result;Y=Y(),Y.then(function(T){(H._status===0||H._status===-1)&&(H._status=1,H._result=T)},function(T){(H._status===0||H._status===-1)&&(H._status=2,H._result=T)}),H._status===-1&&(H._status=0,H._result=Y)}if(H._status===1)return H._result.default;throw H._result}var q={current:null},D={transition:null},U={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:D,ReactCurrentOwner:P};function M(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:O,forEach:function(H,Y,T){O(H,function(){Y.apply(this,arguments)},T)},count:function(H){var Y=0;return O(H,function(){Y++}),Y},toArray:function(H){return O(H,function(Y){return Y})||[]},only:function(H){if(!z(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},mt.Component=w,mt.Fragment=n,mt.Profiler=o,mt.PureComponent=E,mt.StrictMode=r,mt.Suspense=d,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,mt.act=M,mt.cloneElement=function(H,Y,T){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var V=b({},H.props),Z=H.key,J=H.ref,K=H._owner;if(Y!=null){if(Y.ref!==void 0&&(J=Y.ref,K=P.current),Y.key!==void 0&&(Z=""+Y.key),H.type&&H.type.defaultProps)var te=H.type.defaultProps;for(Q in Y)R.call(Y,Q)&&!I.hasOwnProperty(Q)&&(V[Q]=Y[Q]===void 0&&te!==void 0?te[Q]:Y[Q])}var Q=arguments.length-2;if(Q===1)V.children=T;else if(1<Q){te=Array(Q);for(var ie=0;ie<Q;ie++)te[ie]=arguments[ie+2];V.children=te}return{$$typeof:e,type:H.type,key:Z,ref:J,props:V,_owner:K}},mt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:i,_context:H},H.Consumer=H},mt.createElement=F,mt.createFactory=function(H){var Y=F.bind(null,H);return Y.type=H,Y},mt.createRef=function(){return{current:null}},mt.forwardRef=function(H){return{$$typeof:c,render:H}},mt.isValidElement=z,mt.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:$}},mt.memo=function(H,Y){return{$$typeof:f,type:H,compare:Y===void 0?null:Y}},mt.startTransition=function(H){var Y=D.transition;D.transition={};try{H()}finally{D.transition=Y}},mt.unstable_act=M,mt.useCallback=function(H,Y){return q.current.useCallback(H,Y)},mt.useContext=function(H){return q.current.useContext(H)},mt.useDebugValue=function(){},mt.useDeferredValue=function(H){return q.current.useDeferredValue(H)},mt.useEffect=function(H,Y){return q.current.useEffect(H,Y)},mt.useId=function(){return q.current.useId()},mt.useImperativeHandle=function(H,Y,T){return q.current.useImperativeHandle(H,Y,T)},mt.useInsertionEffect=function(H,Y){return q.current.useInsertionEffect(H,Y)},mt.useLayoutEffect=function(H,Y){return q.current.useLayoutEffect(H,Y)},mt.useMemo=function(H,Y){return q.current.useMemo(H,Y)},mt.useReducer=function(H,Y,T){return q.current.useReducer(H,Y,T)},mt.useRef=function(H){return q.current.useRef(H)},mt.useState=function(H){return q.current.useState(H)},mt.useSyncExternalStore=function(H,Y,T){return q.current.useSyncExternalStore(H,Y,T)},mt.useTransition=function(){return q.current.useTransition()},mt.version="18.3.1",mt}var F0;function lc(){return F0||(F0=1,Dh.exports=wA()),Dh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function bA(){if(B0)return na;B0=1;var e=lc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var m,p={},g=null,x=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(x=d.ref);for(m in d)r.call(d,m)&&!i.hasOwnProperty(m)&&(p[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)p[m]===void 0&&(p[m]=d[m]);return{$$typeof:t,type:c,key:g,ref:x,props:p,_owner:o.current}}return na.Fragment=n,na.jsx=l,na.jsxs=l,na}var V0;function SA(){return V0||(V0=1,Mh.exports=bA()),Mh.exports}var u=SA(),S=lc();const Ye=sc(S),Gd=vA({__proto__:null,default:Ye},[S]);var Du={},Oh={exports:{}},Un={},Lh={exports:{}},zh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function kA(){return H0||(H0=1,(function(e){function t(D,U){var M=D.length;D.push(U);e:for(;0<M;){var H=M-1>>>1,Y=D[H];if(0<o(Y,U))D[H]=U,D[M]=Y,M=H;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var U=D[0],M=D.pop();if(M!==U){D[0]=M;e:for(var H=0,Y=D.length,T=Y>>>1;H<T;){var V=2*(H+1)-1,Z=D[V],J=V+1,K=D[J];if(0>o(Z,M))J<Y&&0>o(K,Z)?(D[H]=K,D[J]=M,H=J):(D[H]=Z,D[V]=M,H=V);else if(J<Y&&0>o(K,M))D[H]=K,D[J]=M,H=J;else break e}}return U}function o(D,U){var M=D.sortIndex-U.sortIndex;return M!==0?M:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,p=null,g=3,x=!1,b=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(D){for(var U=n(f);U!==null;){if(U.callback===null)r(f);else if(U.startTime<=D)r(f),U.sortIndex=U.expirationTime,t(d,U);else break;U=n(f)}}function _(D){if(v=!1,C(D),!b)if(n(d)!==null)b=!0,$(R);else{var U=n(f);U!==null&&q(_,U.startTime-D)}}function R(D,U){b=!1,v&&(v=!1,k(F),F=-1),x=!0;var M=g;try{for(C(U),p=n(d);p!==null&&(!(p.expirationTime>U)||D&&!B());){var H=p.callback;if(typeof H=="function"){p.callback=null,g=p.priorityLevel;var Y=H(p.expirationTime<=U);U=e.unstable_now(),typeof Y=="function"?p.callback=Y:p===n(d)&&r(d),C(U)}else r(d);p=n(d)}if(p!==null)var T=!0;else{var V=n(f);V!==null&&q(_,V.startTime-U),T=!1}return T}finally{p=null,g=M,x=!1}}var P=!1,I=null,F=-1,W=5,z=-1;function B(){return!(e.unstable_now()-z<W)}function X(){if(I!==null){var D=e.unstable_now();z=D;var U=!0;try{U=I(!0,D)}finally{U?G():(P=!1,I=null)}}else P=!1}var G;if(typeof E=="function")G=function(){E(X)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,O=A.port2;A.port1.onmessage=X,G=function(){O.postMessage(null)}}else G=function(){w(X,0)};function $(D){I=D,P||(P=!0,G())}function q(D,U){F=w(function(){D(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,$(R))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var M=g;g=U;try{return D()}finally{g=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var M=g;g=D;try{return U()}finally{g=M}},e.unstable_scheduleCallback=function(D,U,M){var H=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?H+M:H):M=H,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=M+Y,D={id:m++,callback:U,priorityLevel:D,startTime:M,expirationTime:Y,sortIndex:-1},M>H?(D.sortIndex=M,t(f,D),n(d)===null&&D===n(f)&&(v?(k(F),F=-1):v=!0,q(_,M-H))):(D.sortIndex=Y,t(d,D),b||x||(b=!0,$(R))),D},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(D){var U=g;return function(){var M=g;g=U;try{return D.apply(this,arguments)}finally{g=M}}}})(zh)),zh}var U0;function CA(){return U0||(U0=1,Lh.exports=kA()),Lh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function NA(){if(W0)return Un;W0=1;var e=lc(),t=CA();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function i(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(o[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function g(s){return d.call(p,s)?!0:d.call(m,s)?!1:f.test(s)?p[s]=!0:(m[s]=!0,!1)}function x(s,a,h,y){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return y?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,a,h,y){if(a===null||typeof a>"u"||x(s,a,h,y))return!0;if(y)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function v(s,a,h,y,N,j,L){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=y,this.attributeNamespace=N,this.mustUseProperty=h,this.propertyName=s,this.type=a,this.sanitizeURL=j,this.removeEmptyString=L}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new v(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];w[a]=new v(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new v(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new v(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new v(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new v(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new v(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new v(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new v(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(k,E);w[a]=new v(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(k,E);w[a]=new v(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(k,E);w[a]=new v(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new v(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new v(s,1,!1,s.toLowerCase(),null,!0,!0)});function C(s,a,h,y){var N=w.hasOwnProperty(a)?w[a]:null;(N!==null?N.type!==0:y||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,h,N,y)&&(h=null),y||N===null?g(a)&&(h===null?s.removeAttribute(a):s.setAttribute(a,""+h)):N.mustUseProperty?s[N.propertyName]=h===null?N.type===3?!1:"":h:(a=N.attributeName,y=N.attributeNamespace,h===null?s.removeAttribute(a):(N=N.type,h=N===3||N===4&&h===!0?"":""+h,y?s.setAttributeNS(y,a,h):s.setAttribute(a,h))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),P=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),B=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),D=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=D&&s[D]||s["@@iterator"],typeof s=="function"?s:null)}var M=Object.assign,H;function Y(s){if(H===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+s}var T=!1;function V(s,a){if(!s||T)return"";T=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ce){var y=ce}Reflect.construct(s,[],a)}else{try{a.call()}catch(ce){y=ce}s.call(a.prototype)}else{try{throw Error()}catch(ce){y=ce}s()}}catch(ce){if(ce&&y&&typeof ce.stack=="string"){for(var N=ce.stack.split(`
`),j=y.stack.split(`
`),L=N.length-1,ee=j.length-1;1<=L&&0<=ee&&N[L]!==j[ee];)ee--;for(;1<=L&&0<=ee;L--,ee--)if(N[L]!==j[ee]){if(L!==1||ee!==1)do if(L--,ee--,0>ee||N[L]!==j[ee]){var ne=`
`+N[L].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=L&&0<=ee);break}}}finally{T=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?Y(s):""}function Z(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=V(s.type,!1),s;case 11:return s=V(s.type.render,!1),s;case 1:return s=V(s.type,!0),s;default:return""}}function J(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case P:return"Portal";case W:return"Profiler";case F:return"StrictMode";case G:return"Suspense";case A:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case B:return(s.displayName||"Context")+".Consumer";case z:return(s._context.displayName||"Context")+".Provider";case X:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return a=s.displayName||null,a!==null?a:J(s.type)||"Memo";case $:a=s._payload,s=s._init;try{return J(s(a))}catch{}}return null}function K(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(a);case 8:return a===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function te(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Q(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ie(s){var a=Q(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),y=""+s[a];if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var N=h.get,j=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return N.call(this)},set:function(L){y=""+L,j.call(this,L)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function(L){y=""+L},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function le(s){s._valueTracker||(s._valueTracker=ie(s))}function de(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var h=a.getValue(),y="";return s&&(y=Q(s)?s.checked?"true":"false":s.value),s=y,s!==h?(a.setValue(s),!0):!1}function fe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ge(s,a){var h=a.checked;return M({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function De(s,a){var h=a.defaultValue==null?"":a.defaultValue,y=a.checked!=null?a.checked:a.defaultChecked;h=te(a.value!=null?a.value:h),s._wrapperState={initialChecked:y,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Me(s,a){a=a.checked,a!=null&&C(s,"checked",a,!1)}function ot(s,a){Me(s,a);var h=te(a.value),y=a.type;if(h!=null)y==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(y==="submit"||y==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?et(s,a.type,h):a.hasOwnProperty("defaultValue")&&et(s,a.type,te(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function tt(s,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var y=a.type;if(!(y!=="submit"&&y!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,h||a===s.value||(s.value=a),s.defaultValue=a}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function et(s,a,h){(a!=="number"||fe(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var ke=Array.isArray;function We(s,a,h,y){if(s=s.options,a){a={};for(var N=0;N<h.length;N++)a["$"+h[N]]=!0;for(h=0;h<s.length;h++)N=a.hasOwnProperty("$"+s[h].value),s[h].selected!==N&&(s[h].selected=N),N&&y&&(s[h].defaultSelected=!0)}else{for(h=""+te(h),a=null,N=0;N<s.length;N++){if(s[N].value===h){s[N].selected=!0,y&&(s[N].defaultSelected=!0);return}a!==null||s[N].disabled||(a=s[N])}a!==null&&(a.selected=!0)}}function lt(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function vt(s,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(n(92));if(ke(h)){if(1<h.length)throw Error(n(93));h=h[0]}a=h}a==null&&(a=""),h=a}s._wrapperState={initialValue:te(h)}}function Et(s,a){var h=te(a.value),y=te(a.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),a.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),y!=null&&(s.defaultValue=""+y)}function Tt(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ue(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ue(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Pe,je=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,y,N){MSApp.execUnsafeLocalFunction(function(){return s(a,h,y,N)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Pe=Pe||document.createElement("div"),Pe.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Pe.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Xe(s,a){if(a){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=a;return}}s.textContent=a}var ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];Object.keys(ut).forEach(function(s){bt.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),ut[a]=ut[s]})});function Ct(s,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||ut.hasOwnProperty(s)&&ut[s]?(""+a).trim():a+"px"}function It(s,a){s=s.style;for(var h in a)if(a.hasOwnProperty(h)){var y=h.indexOf("--")===0,N=Ct(h,a[h],y);h==="float"&&(h="cssFloat"),y?s.setProperty(h,N):s[h]=N}}var _t=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pt(s,a){if(a){if(_t[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Pt(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var he=null;function Ne(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var re=null,Ce=null,Be=null;function Ee(s){if(s=Bl(s)){if(typeof re!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Kc(a),re(s.stateNode,s.type,a))}}function Ze(s){Ce?Be?Be.push(s):Be=[s]:Ce=s}function Fe(){if(Ce){var s=Ce,a=Be;if(Be=Ce=null,Ee(s),a)for(s=0;s<a.length;s++)Ee(a[s])}}function Oe(s,a){return s(a)}function Ge(){}var dt=!1;function Rt(s,a,h){if(dt)return s(a,h);dt=!0;try{return Oe(s,a,h)}finally{dt=!1,(Ce!==null||Be!==null)&&(Ge(),Fe())}}function jt(s,a){var h=s.stateNode;if(h===null)return null;var y=Kc(h);if(y===null)return null;h=y[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(n(231,a,typeof h));return h}var zt=!1;if(c)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch{zt=!1}function lr(s,a,h,y,N,j,L,ee,ne){var ce=Array.prototype.slice.call(arguments,3);try{a.apply(h,ce)}catch(ve){this.onError(ve)}}var Zt=!1,oo=null,zn=!1,hi=null,io={onError:function(s){Zt=!0,oo=s}};function $r(s,a,h,y,N,j,L,ee,ne){Zt=!1,oo=null,lr.apply(io,arguments)}function vl(s,a,h,y,N,j,L,ee,ne){if($r.apply(this,arguments),Zt){if(Zt){var ce=oo;Zt=!1,oo=null}else throw Error(n(198));zn||(zn=!0,hi=ce)}}function Fr(s){var a=s,h=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(h=a.return),s=a.return;while(s)}return a.tag===3?h:null}function wl(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function bl(s){if(Fr(s)!==s)throw Error(n(188))}function qf(s){var a=s.alternate;if(!a){if(a=Fr(s),a===null)throw Error(n(188));return a!==s?null:s}for(var h=s,y=a;;){var N=h.return;if(N===null)break;var j=N.alternate;if(j===null){if(y=N.return,y!==null){h=y;continue}break}if(N.child===j.child){for(j=N.child;j;){if(j===h)return bl(N),s;if(j===y)return bl(N),a;j=j.sibling}throw Error(n(188))}if(h.return!==y.return)h=N,y=j;else{for(var L=!1,ee=N.child;ee;){if(ee===h){L=!0,h=N,y=j;break}if(ee===y){L=!0,y=N,h=j;break}ee=ee.sibling}if(!L){for(ee=j.child;ee;){if(ee===h){L=!0,h=j,y=N;break}if(ee===y){L=!0,y=j,h=N;break}ee=ee.sibling}if(!L)throw Error(n(189))}}if(h.alternate!==y)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?s:a}function Ec(s){return s=qf(s),s!==null?jc(s):null}function jc(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=jc(s);if(a!==null)return a;s=s.sibling}return null}var _c=t.unstable_scheduleCallback,Pc=t.unstable_cancelCallback,Gf=t.unstable_shouldYield,Ac=t.unstable_requestPaint,Ut=t.unstable_now,Kf=t.unstable_getCurrentPriorityLevel,Sl=t.unstable_ImmediatePriority,Tc=t.unstable_UserBlockingPriority,Zi=t.unstable_NormalPriority,Qf=t.unstable_LowPriority,Ic=t.unstable_IdlePriority,mi=null,ar=null;function Jf(s){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(mi,s,void 0,(s.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:tp,Zf=Math.log,ep=Math.LN2;function tp(s){return s>>>=0,s===0?32:31-(Zf(s)/ep|0)|0}var es=64,ts=4194304;function Br(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ns(s,a){var h=s.pendingLanes;if(h===0)return 0;var y=0,N=s.suspendedLanes,j=s.pingedLanes,L=h&268435455;if(L!==0){var ee=L&~N;ee!==0?y=Br(ee):(j&=L,j!==0&&(y=Br(j)))}else L=h&~N,L!==0?y=Br(L):j!==0&&(y=Br(j));if(y===0)return 0;if(a!==0&&a!==y&&(a&N)===0&&(N=y&-y,j=a&-a,N>=j||N===16&&(j&4194240)!==0))return a;if((y&4)!==0&&(y|=h&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=y;0<a;)h=31-qn(a),N=1<<h,y|=s[h],a&=~N;return y}function Rc(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function np(s,a){for(var h=s.suspendedLanes,y=s.pingedLanes,N=s.expirationTimes,j=s.pendingLanes;0<j;){var L=31-qn(j),ee=1<<L,ne=N[L];ne===-1?((ee&h)===0||(ee&y)!==0)&&(N[L]=Rc(ee,a)):ne<=a&&(s.expiredLanes|=ee),j&=~ee}}function kl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function rs(){var s=es;return es<<=1,(es&4194240)===0&&(es=64),s}function Cl(s){for(var a=[],h=0;31>h;h++)a.push(s);return a}function gi(s,a,h){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-qn(a),s[a]=h}function Mc(s,a){var h=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var y=s.eventTimes;for(s=s.expirationTimes;0<h;){var N=31-qn(h),j=1<<N;a[N]=0,y[N]=-1,s[N]=-1,h&=~j}}function rp(s,a){var h=s.entangledLanes|=a;for(s=s.entanglements;h;){var y=31-qn(h),N=1<<y;N&a|s[y]&a&&(s[y]|=a),h&=~N}}var At=0;function xy(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var yy,op,vy,wy,by,ip=!1,Dc=[],No=null,Eo=null,jo=null,Nl=new Map,El=new Map,_o=[],B2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sy(s,a){switch(s){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":Nl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(a.pointerId)}}function jl(s,a,h,y,N,j){return s===null||s.nativeEvent!==j?(s={blockedOn:a,domEventName:h,eventSystemFlags:y,nativeEvent:j,targetContainers:[N]},a!==null&&(a=Bl(a),a!==null&&op(a)),s):(s.eventSystemFlags|=y,a=s.targetContainers,N!==null&&a.indexOf(N)===-1&&a.push(N),s)}function V2(s,a,h,y,N){switch(a){case"focusin":return No=jl(No,s,a,h,y,N),!0;case"dragenter":return Eo=jl(Eo,s,a,h,y,N),!0;case"mouseover":return jo=jl(jo,s,a,h,y,N),!0;case"pointerover":var j=N.pointerId;return Nl.set(j,jl(Nl.get(j)||null,s,a,h,y,N)),!0;case"gotpointercapture":return j=N.pointerId,El.set(j,jl(El.get(j)||null,s,a,h,y,N)),!0}return!1}function ky(s){var a=xi(s.target);if(a!==null){var h=Fr(a);if(h!==null){if(a=h.tag,a===13){if(a=wl(h),a!==null){s.blockedOn=a,by(s.priority,function(){vy(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Oc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var h=lp(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var y=new h.constructor(h.type,h);he=y,h.target.dispatchEvent(y),he=null}else return a=Bl(h),a!==null&&op(a),s.blockedOn=h,!1;a.shift()}return!0}function Cy(s,a,h){Oc(s)&&h.delete(a)}function H2(){ip=!1,No!==null&&Oc(No)&&(No=null),Eo!==null&&Oc(Eo)&&(Eo=null),jo!==null&&Oc(jo)&&(jo=null),Nl.forEach(Cy),El.forEach(Cy)}function _l(s,a){s.blockedOn===a&&(s.blockedOn=null,ip||(ip=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,H2)))}function Pl(s){function a(N){return _l(N,s)}if(0<Dc.length){_l(Dc[0],s);for(var h=1;h<Dc.length;h++){var y=Dc[h];y.blockedOn===s&&(y.blockedOn=null)}}for(No!==null&&_l(No,s),Eo!==null&&_l(Eo,s),jo!==null&&_l(jo,s),Nl.forEach(a),El.forEach(a),h=0;h<_o.length;h++)y=_o[h],y.blockedOn===s&&(y.blockedOn=null);for(;0<_o.length&&(h=_o[0],h.blockedOn===null);)ky(h),h.blockedOn===null&&_o.shift()}var os=_.ReactCurrentBatchConfig,Lc=!0;function U2(s,a,h,y){var N=At,j=os.transition;os.transition=null;try{At=1,sp(s,a,h,y)}finally{At=N,os.transition=j}}function W2(s,a,h,y){var N=At,j=os.transition;os.transition=null;try{At=4,sp(s,a,h,y)}finally{At=N,os.transition=j}}function sp(s,a,h,y){if(Lc){var N=lp(s,a,h,y);if(N===null)Cp(s,a,y,zc,h),Sy(s,y);else if(V2(N,s,a,h,y))y.stopPropagation();else if(Sy(s,y),a&4&&-1<B2.indexOf(s)){for(;N!==null;){var j=Bl(N);if(j!==null&&yy(j),j=lp(s,a,h,y),j===null&&Cp(s,a,y,zc,h),j===N)break;N=j}N!==null&&y.stopPropagation()}else Cp(s,a,y,null,h)}}var zc=null;function lp(s,a,h,y){if(zc=null,s=Ne(y),s=xi(s),s!==null)if(a=Fr(s),a===null)s=null;else if(h=a.tag,h===13){if(s=wl(a),s!==null)return s;s=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return zc=s,null}function Ny(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kf()){case Sl:return 1;case Tc:return 4;case Zi:case Qf:return 16;case Ic:return 536870912;default:return 16}default:return 16}}var Po=null,ap=null,$c=null;function Ey(){if($c)return $c;var s,a=ap,h=a.length,y,N="value"in Po?Po.value:Po.textContent,j=N.length;for(s=0;s<h&&a[s]===N[s];s++);var L=h-s;for(y=1;y<=L&&a[h-y]===N[j-y];y++);return $c=N.slice(s,1<y?1-y:void 0)}function Fc(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Bc(){return!0}function jy(){return!1}function Gn(s){function a(h,y,N,j,L){this._reactName=h,this._targetInst=N,this.type=y,this.nativeEvent=j,this.target=L,this.currentTarget=null;for(var ee in s)s.hasOwnProperty(ee)&&(h=s[ee],this[ee]=h?h(j):j[ee]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Bc:jy,this.isPropagationStopped=jy,this}return M(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Bc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Bc)},persist:function(){},isPersistent:Bc}),a}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cp=Gn(is),Al=M({},is,{view:0,detail:0}),Y2=Gn(Al),up,dp,Tl,Vc=M({},Al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Tl&&(Tl&&s.type==="mousemove"?(up=s.screenX-Tl.screenX,dp=s.screenY-Tl.screenY):dp=up=0,Tl=s),up)},movementY:function(s){return"movementY"in s?s.movementY:dp}}),_y=Gn(Vc),X2=M({},Vc,{dataTransfer:0}),q2=Gn(X2),G2=M({},Al,{relatedTarget:0}),fp=Gn(G2),K2=M({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),Q2=Gn(K2),J2=M({},is,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Z2=Gn(J2),eP=M({},is,{data:0}),Py=Gn(eP),tP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oP(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=rP[s])?!!a[s]:!1}function pp(){return oP}var iP=M({},Al,{key:function(s){if(s.key){var a=tP[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Fc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?nP[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pp,charCode:function(s){return s.type==="keypress"?Fc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Fc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),sP=Gn(iP),lP=M({},Vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ay=Gn(lP),aP=M({},Al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pp}),cP=Gn(aP),uP=M({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),dP=Gn(uP),fP=M({},Vc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),pP=Gn(fP),hP=[9,13,27,32],hp=c&&"CompositionEvent"in window,Il=null;c&&"documentMode"in document&&(Il=document.documentMode);var mP=c&&"TextEvent"in window&&!Il,Ty=c&&(!hp||Il&&8<Il&&11>=Il),Iy=" ",Ry=!1;function My(s,a){switch(s){case"keyup":return hP.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ss=!1;function gP(s,a){switch(s){case"compositionend":return Dy(a);case"keypress":return a.which!==32?null:(Ry=!0,Iy);case"textInput":return s=a.data,s===Iy&&Ry?null:s;default:return null}}function xP(s,a){if(ss)return s==="compositionend"||!hp&&My(s,a)?(s=Ey(),$c=ap=Po=null,ss=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ty&&a.locale!=="ko"?null:a.data;default:return null}}var yP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oy(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!yP[s.type]:a==="textarea"}function Ly(s,a,h,y){Ze(y),a=Xc(a,"onChange"),0<a.length&&(h=new cp("onChange","change",null,h,y),s.push({event:h,listeners:a}))}var Rl=null,Ml=null;function vP(s){tv(s,0)}function Hc(s){var a=ds(s);if(de(a))return s}function wP(s,a){if(s==="change")return a}var zy=!1;if(c){var mp;if(c){var gp="oninput"in document;if(!gp){var $y=document.createElement("div");$y.setAttribute("oninput","return;"),gp=typeof $y.oninput=="function"}mp=gp}else mp=!1;zy=mp&&(!document.documentMode||9<document.documentMode)}function Fy(){Rl&&(Rl.detachEvent("onpropertychange",By),Ml=Rl=null)}function By(s){if(s.propertyName==="value"&&Hc(Ml)){var a=[];Ly(a,Ml,s,Ne(s)),Rt(vP,a)}}function bP(s,a,h){s==="focusin"?(Fy(),Rl=a,Ml=h,Rl.attachEvent("onpropertychange",By)):s==="focusout"&&Fy()}function SP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hc(Ml)}function kP(s,a){if(s==="click")return Hc(a)}function CP(s,a){if(s==="input"||s==="change")return Hc(a)}function NP(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var vr=typeof Object.is=="function"?Object.is:NP;function Dl(s,a){if(vr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var h=Object.keys(s),y=Object.keys(a);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var N=h[y];if(!d.call(a,N)||!vr(s[N],a[N]))return!1}return!0}function Vy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Hy(s,a){var h=Vy(s);s=0;for(var y;h;){if(h.nodeType===3){if(y=s+h.textContent.length,s<=a&&y>=a)return{node:h,offset:a-s};s=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Vy(h)}}function Uy(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Uy(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Wy(){for(var s=window,a=fe();a instanceof s.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)s=a.contentWindow;else break;a=fe(s.document)}return a}function xp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function EP(s){var a=Wy(),h=s.focusedElem,y=s.selectionRange;if(a!==h&&h&&h.ownerDocument&&Uy(h.ownerDocument.documentElement,h)){if(y!==null&&xp(h)){if(a=y.start,s=y.end,s===void 0&&(s=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(s,h.value.length);else if(s=(a=h.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var N=h.textContent.length,j=Math.min(y.start,N);y=y.end===void 0?j:Math.min(y.end,N),!s.extend&&j>y&&(N=y,y=j,j=N),N=Hy(h,j);var L=Hy(h,y);N&&L&&(s.rangeCount!==1||s.anchorNode!==N.node||s.anchorOffset!==N.offset||s.focusNode!==L.node||s.focusOffset!==L.offset)&&(a=a.createRange(),a.setStart(N.node,N.offset),s.removeAllRanges(),j>y?(s.addRange(a),s.extend(L.node,L.offset)):(a.setEnd(L.node,L.offset),s.addRange(a)))}}for(a=[],s=h;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)s=a[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var jP=c&&"documentMode"in document&&11>=document.documentMode,ls=null,yp=null,Ol=null,vp=!1;function Yy(s,a,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;vp||ls==null||ls!==fe(y)||(y=ls,"selectionStart"in y&&xp(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ol&&Dl(Ol,y)||(Ol=y,y=Xc(yp,"onSelect"),0<y.length&&(a=new cp("onSelect","select",null,a,h),s.push({event:a,listeners:y}),a.target=ls)))}function Uc(s,a){var h={};return h[s.toLowerCase()]=a.toLowerCase(),h["Webkit"+s]="webkit"+a,h["Moz"+s]="moz"+a,h}var as={animationend:Uc("Animation","AnimationEnd"),animationiteration:Uc("Animation","AnimationIteration"),animationstart:Uc("Animation","AnimationStart"),transitionend:Uc("Transition","TransitionEnd")},wp={},Xy={};c&&(Xy=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Wc(s){if(wp[s])return wp[s];if(!as[s])return s;var a=as[s],h;for(h in a)if(a.hasOwnProperty(h)&&h in Xy)return wp[s]=a[h];return s}var qy=Wc("animationend"),Gy=Wc("animationiteration"),Ky=Wc("animationstart"),Qy=Wc("transitionend"),Jy=new Map,Zy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ao(s,a){Jy.set(s,a),i(a,[s])}for(var bp=0;bp<Zy.length;bp++){var Sp=Zy[bp],_P=Sp.toLowerCase(),PP=Sp[0].toUpperCase()+Sp.slice(1);Ao(_P,"on"+PP)}Ao(qy,"onAnimationEnd"),Ao(Gy,"onAnimationIteration"),Ao(Ky,"onAnimationStart"),Ao("dblclick","onDoubleClick"),Ao("focusin","onFocus"),Ao("focusout","onBlur"),Ao(Qy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function ev(s,a,h){var y=s.type||"unknown-event";s.currentTarget=h,vl(y,a,void 0,s),s.currentTarget=null}function tv(s,a){a=(a&4)!==0;for(var h=0;h<s.length;h++){var y=s[h],N=y.event;y=y.listeners;e:{var j=void 0;if(a)for(var L=y.length-1;0<=L;L--){var ee=y[L],ne=ee.instance,ce=ee.currentTarget;if(ee=ee.listener,ne!==j&&N.isPropagationStopped())break e;ev(N,ee,ce),j=ne}else for(L=0;L<y.length;L++){if(ee=y[L],ne=ee.instance,ce=ee.currentTarget,ee=ee.listener,ne!==j&&N.isPropagationStopped())break e;ev(N,ee,ce),j=ne}}}if(zn)throw s=hi,zn=!1,hi=null,s}function $t(s,a){var h=a[Ap];h===void 0&&(h=a[Ap]=new Set);var y=s+"__bubble";h.has(y)||(nv(a,s,2,!1),h.add(y))}function kp(s,a,h){var y=0;a&&(y|=4),nv(h,s,y,a)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function zl(s){if(!s[Yc]){s[Yc]=!0,r.forEach(function(h){h!=="selectionchange"&&(AP.has(h)||kp(h,!1,s),kp(h,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Yc]||(a[Yc]=!0,kp("selectionchange",!1,a))}}function nv(s,a,h,y){switch(Ny(a)){case 1:var N=U2;break;case 4:N=W2;break;default:N=sp}h=N.bind(null,a,h,s),N=void 0,!zt||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(N=!0),y?N!==void 0?s.addEventListener(a,h,{capture:!0,passive:N}):s.addEventListener(a,h,!0):N!==void 0?s.addEventListener(a,h,{passive:N}):s.addEventListener(a,h,!1)}function Cp(s,a,h,y,N){var j=y;if((a&1)===0&&(a&2)===0&&y!==null)e:for(;;){if(y===null)return;var L=y.tag;if(L===3||L===4){var ee=y.stateNode.containerInfo;if(ee===N||ee.nodeType===8&&ee.parentNode===N)break;if(L===4)for(L=y.return;L!==null;){var ne=L.tag;if((ne===3||ne===4)&&(ne=L.stateNode.containerInfo,ne===N||ne.nodeType===8&&ne.parentNode===N))return;L=L.return}for(;ee!==null;){if(L=xi(ee),L===null)return;if(ne=L.tag,ne===5||ne===6){y=j=L;continue e}ee=ee.parentNode}}y=y.return}Rt(function(){var ce=j,ve=Ne(h),we=[];e:{var xe=Jy.get(s);if(xe!==void 0){var _e=cp,Le=s;switch(s){case"keypress":if(Fc(h)===0)break e;case"keydown":case"keyup":_e=sP;break;case"focusin":Le="focus",_e=fp;break;case"focusout":Le="blur",_e=fp;break;case"beforeblur":case"afterblur":_e=fp;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=_y;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=q2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=cP;break;case qy:case Gy:case Ky:_e=Q2;break;case Qy:_e=dP;break;case"scroll":_e=Y2;break;case"wheel":_e=pP;break;case"copy":case"cut":case"paste":_e=Z2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Ay}var Ve=(a&4)!==0,Gt=!Ve&&s==="scroll",se=Ve?xe!==null?xe+"Capture":null:xe;Ve=[];for(var oe=ce,ae;oe!==null;){ae=oe;var Se=ae.stateNode;if(ae.tag===5&&Se!==null&&(ae=Se,se!==null&&(Se=jt(oe,se),Se!=null&&Ve.push($l(oe,Se,ae)))),Gt)break;oe=oe.return}0<Ve.length&&(xe=new _e(xe,Le,null,h,ve),we.push({event:xe,listeners:Ve}))}}if((a&7)===0){e:{if(xe=s==="mouseover"||s==="pointerover",_e=s==="mouseout"||s==="pointerout",xe&&h!==he&&(Le=h.relatedTarget||h.fromElement)&&(xi(Le)||Le[so]))break e;if((_e||xe)&&(xe=ve.window===ve?ve:(xe=ve.ownerDocument)?xe.defaultView||xe.parentWindow:window,_e?(Le=h.relatedTarget||h.toElement,_e=ce,Le=Le?xi(Le):null,Le!==null&&(Gt=Fr(Le),Le!==Gt||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(_e=null,Le=ce),_e!==Le)){if(Ve=_y,Se="onMouseLeave",se="onMouseEnter",oe="mouse",(s==="pointerout"||s==="pointerover")&&(Ve=Ay,Se="onPointerLeave",se="onPointerEnter",oe="pointer"),Gt=_e==null?xe:ds(_e),ae=Le==null?xe:ds(Le),xe=new Ve(Se,oe+"leave",_e,h,ve),xe.target=Gt,xe.relatedTarget=ae,Se=null,xi(ve)===ce&&(Ve=new Ve(se,oe+"enter",Le,h,ve),Ve.target=ae,Ve.relatedTarget=Gt,Se=Ve),Gt=Se,_e&&Le)t:{for(Ve=_e,se=Le,oe=0,ae=Ve;ae;ae=cs(ae))oe++;for(ae=0,Se=se;Se;Se=cs(Se))ae++;for(;0<oe-ae;)Ve=cs(Ve),oe--;for(;0<ae-oe;)se=cs(se),ae--;for(;oe--;){if(Ve===se||se!==null&&Ve===se.alternate)break t;Ve=cs(Ve),se=cs(se)}Ve=null}else Ve=null;_e!==null&&rv(we,xe,_e,Ve,!1),Le!==null&&Gt!==null&&rv(we,Gt,Le,Ve,!0)}}e:{if(xe=ce?ds(ce):window,_e=xe.nodeName&&xe.nodeName.toLowerCase(),_e==="select"||_e==="input"&&xe.type==="file")var He=wP;else if(Oy(xe))if(zy)He=CP;else{He=SP;var Ke=bP}else(_e=xe.nodeName)&&_e.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(He=kP);if(He&&(He=He(s,ce))){Ly(we,He,h,ve);break e}Ke&&Ke(s,xe,ce),s==="focusout"&&(Ke=xe._wrapperState)&&Ke.controlled&&xe.type==="number"&&et(xe,"number",xe.value)}switch(Ke=ce?ds(ce):window,s){case"focusin":(Oy(Ke)||Ke.contentEditable==="true")&&(ls=Ke,yp=ce,Ol=null);break;case"focusout":Ol=yp=ls=null;break;case"mousedown":vp=!0;break;case"contextmenu":case"mouseup":case"dragend":vp=!1,Yy(we,h,ve);break;case"selectionchange":if(jP)break;case"keydown":case"keyup":Yy(we,h,ve)}var Qe;if(hp)e:{switch(s){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else ss?My(s,h)&&(nt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(nt="onCompositionStart");nt&&(Ty&&h.locale!=="ko"&&(ss||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&ss&&(Qe=Ey()):(Po=ve,ap="value"in Po?Po.value:Po.textContent,ss=!0)),Ke=Xc(ce,nt),0<Ke.length&&(nt=new Py(nt,s,null,h,ve),we.push({event:nt,listeners:Ke}),Qe?nt.data=Qe:(Qe=Dy(h),Qe!==null&&(nt.data=Qe)))),(Qe=mP?gP(s,h):xP(s,h))&&(ce=Xc(ce,"onBeforeInput"),0<ce.length&&(ve=new Py("onBeforeInput","beforeinput",null,h,ve),we.push({event:ve,listeners:ce}),ve.data=Qe))}tv(we,a)})}function $l(s,a,h){return{instance:s,listener:a,currentTarget:h}}function Xc(s,a){for(var h=a+"Capture",y=[];s!==null;){var N=s,j=N.stateNode;N.tag===5&&j!==null&&(N=j,j=jt(s,h),j!=null&&y.unshift($l(s,j,N)),j=jt(s,a),j!=null&&y.push($l(s,j,N))),s=s.return}return y}function cs(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function rv(s,a,h,y,N){for(var j=a._reactName,L=[];h!==null&&h!==y;){var ee=h,ne=ee.alternate,ce=ee.stateNode;if(ne!==null&&ne===y)break;ee.tag===5&&ce!==null&&(ee=ce,N?(ne=jt(h,j),ne!=null&&L.unshift($l(h,ne,ee))):N||(ne=jt(h,j),ne!=null&&L.push($l(h,ne,ee)))),h=h.return}L.length!==0&&s.push({event:a,listeners:L})}var TP=/\r\n?/g,IP=/\u0000|\uFFFD/g;function ov(s){return(typeof s=="string"?s:""+s).replace(TP,`
`).replace(IP,"")}function qc(s,a,h){if(a=ov(a),ov(s)!==a&&h)throw Error(n(425))}function Gc(){}var Np=null,Ep=null;function jp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var _p=typeof setTimeout=="function"?setTimeout:void 0,RP=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,MP=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(s){return iv.resolve(null).then(s).catch(DP)}:_p;function DP(s){setTimeout(function(){throw s})}function Pp(s,a){var h=a,y=0;do{var N=h.nextSibling;if(s.removeChild(h),N&&N.nodeType===8)if(h=N.data,h==="/$"){if(y===0){s.removeChild(N),Pl(a);return}y--}else h!=="$"&&h!=="$?"&&h!=="$!"||y++;h=N}while(h);Pl(a)}function To(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function sv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return s;a--}else h==="/$"&&a++}s=s.previousSibling}return null}var us=Math.random().toString(36).slice(2),Vr="__reactFiber$"+us,Fl="__reactProps$"+us,so="__reactContainer$"+us,Ap="__reactEvents$"+us,OP="__reactListeners$"+us,LP="__reactHandles$"+us;function xi(s){var a=s[Vr];if(a)return a;for(var h=s.parentNode;h;){if(a=h[so]||h[Vr]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(s=sv(s);s!==null;){if(h=s[Vr])return h;s=sv(s)}return a}s=h,h=s.parentNode}return null}function Bl(s){return s=s[Vr]||s[so],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ds(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Kc(s){return s[Fl]||null}var Tp=[],fs=-1;function Io(s){return{current:s}}function Ft(s){0>fs||(s.current=Tp[fs],Tp[fs]=null,fs--)}function Ot(s,a){fs++,Tp[fs]=s.current,s.current=a}var Ro={},kn=Io(Ro),$n=Io(!1),yi=Ro;function ps(s,a){var h=s.type.contextTypes;if(!h)return Ro;var y=s.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===a)return y.__reactInternalMemoizedMaskedChildContext;var N={},j;for(j in h)N[j]=a[j];return y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=N),N}function Fn(s){return s=s.childContextTypes,s!=null}function Qc(){Ft($n),Ft(kn)}function lv(s,a,h){if(kn.current!==Ro)throw Error(n(168));Ot(kn,a),Ot($n,h)}function av(s,a,h){var y=s.stateNode;if(a=a.childContextTypes,typeof y.getChildContext!="function")return h;y=y.getChildContext();for(var N in y)if(!(N in a))throw Error(n(108,K(s)||"Unknown",N));return M({},h,y)}function Jc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ro,yi=kn.current,Ot(kn,s),Ot($n,$n.current),!0}function cv(s,a,h){var y=s.stateNode;if(!y)throw Error(n(169));h?(s=av(s,a,yi),y.__reactInternalMemoizedMergedChildContext=s,Ft($n),Ft(kn),Ot(kn,s)):Ft($n),Ot($n,h)}var lo=null,Zc=!1,Ip=!1;function uv(s){lo===null?lo=[s]:lo.push(s)}function zP(s){Zc=!0,uv(s)}function Mo(){if(!Ip&&lo!==null){Ip=!0;var s=0,a=At;try{var h=lo;for(At=1;s<h.length;s++){var y=h[s];do y=y(!0);while(y!==null)}lo=null,Zc=!1}catch(N){throw lo!==null&&(lo=lo.slice(s+1)),_c(Sl,Mo),N}finally{At=a,Ip=!1}}return null}var hs=[],ms=0,eu=null,tu=0,cr=[],ur=0,vi=null,ao=1,co="";function wi(s,a){hs[ms++]=tu,hs[ms++]=eu,eu=s,tu=a}function dv(s,a,h){cr[ur++]=ao,cr[ur++]=co,cr[ur++]=vi,vi=s;var y=ao;s=co;var N=32-qn(y)-1;y&=~(1<<N),h+=1;var j=32-qn(a)+N;if(30<j){var L=N-N%5;j=(y&(1<<L)-1).toString(32),y>>=L,N-=L,ao=1<<32-qn(a)+N|h<<N|y,co=j+s}else ao=1<<j|h<<N|y,co=s}function Rp(s){s.return!==null&&(wi(s,1),dv(s,1,0))}function Mp(s){for(;s===eu;)eu=hs[--ms],hs[ms]=null,tu=hs[--ms],hs[ms]=null;for(;s===vi;)vi=cr[--ur],cr[ur]=null,co=cr[--ur],cr[ur]=null,ao=cr[--ur],cr[ur]=null}var Kn=null,Qn=null,Vt=!1,wr=null;function fv(s,a){var h=hr(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=s,a=s.deletions,a===null?(s.deletions=[h],s.flags|=16):a.push(h)}function pv(s,a){switch(s.tag){case 5:var h=s.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Kn=s,Qn=To(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Kn=s,Qn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=vi!==null?{id:ao,overflow:co}:null,s.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=hr(18,null,null,0),h.stateNode=a,h.return=s,s.child=h,Kn=s,Qn=null,!0):!1;default:return!1}}function Dp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Op(s){if(Vt){var a=Qn;if(a){var h=a;if(!pv(s,a)){if(Dp(s))throw Error(n(418));a=To(h.nextSibling);var y=Kn;a&&pv(s,a)?fv(y,h):(s.flags=s.flags&-4097|2,Vt=!1,Kn=s)}}else{if(Dp(s))throw Error(n(418));s.flags=s.flags&-4097|2,Vt=!1,Kn=s}}}function hv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Kn=s}function nu(s){if(s!==Kn)return!1;if(!Vt)return hv(s),Vt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!jp(s.type,s.memoizedProps)),a&&(a=Qn)){if(Dp(s))throw mv(),Error(n(418));for(;a;)fv(s,a),a=To(a.nextSibling)}if(hv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(a===0){Qn=To(s.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}s=s.nextSibling}Qn=null}}else Qn=Kn?To(s.stateNode.nextSibling):null;return!0}function mv(){for(var s=Qn;s;)s=To(s.nextSibling)}function gs(){Qn=Kn=null,Vt=!1}function Lp(s){wr===null?wr=[s]:wr.push(s)}var $P=_.ReactCurrentBatchConfig;function Vl(s,a,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var y=h.stateNode}if(!y)throw Error(n(147,s));var N=y,j=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===j?a.ref:(a=function(L){var ee=N.refs;L===null?delete ee[j]:ee[j]=L},a._stringRef=j,a)}if(typeof s!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,s))}return s}function ru(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function gv(s){var a=s._init;return a(s._payload)}function xv(s){function a(se,oe){if(s){var ae=se.deletions;ae===null?(se.deletions=[oe],se.flags|=16):ae.push(oe)}}function h(se,oe){if(!s)return null;for(;oe!==null;)a(se,oe),oe=oe.sibling;return null}function y(se,oe){for(se=new Map;oe!==null;)oe.key!==null?se.set(oe.key,oe):se.set(oe.index,oe),oe=oe.sibling;return se}function N(se,oe){return se=Vo(se,oe),se.index=0,se.sibling=null,se}function j(se,oe,ae){return se.index=ae,s?(ae=se.alternate,ae!==null?(ae=ae.index,ae<oe?(se.flags|=2,oe):ae):(se.flags|=2,oe)):(se.flags|=1048576,oe)}function L(se){return s&&se.alternate===null&&(se.flags|=2),se}function ee(se,oe,ae,Se){return oe===null||oe.tag!==6?(oe=_h(ae,se.mode,Se),oe.return=se,oe):(oe=N(oe,ae),oe.return=se,oe)}function ne(se,oe,ae,Se){var He=ae.type;return He===I?ve(se,oe,ae.props.children,Se,ae.key):oe!==null&&(oe.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===$&&gv(He)===oe.type)?(Se=N(oe,ae.props),Se.ref=Vl(se,oe,ae),Se.return=se,Se):(Se=ju(ae.type,ae.key,ae.props,null,se.mode,Se),Se.ref=Vl(se,oe,ae),Se.return=se,Se)}function ce(se,oe,ae,Se){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ae.containerInfo||oe.stateNode.implementation!==ae.implementation?(oe=Ph(ae,se.mode,Se),oe.return=se,oe):(oe=N(oe,ae.children||[]),oe.return=se,oe)}function ve(se,oe,ae,Se,He){return oe===null||oe.tag!==7?(oe=_i(ae,se.mode,Se,He),oe.return=se,oe):(oe=N(oe,ae),oe.return=se,oe)}function we(se,oe,ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=_h(""+oe,se.mode,ae),oe.return=se,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:return ae=ju(oe.type,oe.key,oe.props,null,se.mode,ae),ae.ref=Vl(se,null,oe),ae.return=se,ae;case P:return oe=Ph(oe,se.mode,ae),oe.return=se,oe;case $:var Se=oe._init;return we(se,Se(oe._payload),ae)}if(ke(oe)||U(oe))return oe=_i(oe,se.mode,ae,null),oe.return=se,oe;ru(se,oe)}return null}function xe(se,oe,ae,Se){var He=oe!==null?oe.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return He!==null?null:ee(se,oe,""+ae,Se);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case R:return ae.key===He?ne(se,oe,ae,Se):null;case P:return ae.key===He?ce(se,oe,ae,Se):null;case $:return He=ae._init,xe(se,oe,He(ae._payload),Se)}if(ke(ae)||U(ae))return He!==null?null:ve(se,oe,ae,Se,null);ru(se,ae)}return null}function _e(se,oe,ae,Se,He){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return se=se.get(ae)||null,ee(oe,se,""+Se,He);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case R:return se=se.get(Se.key===null?ae:Se.key)||null,ne(oe,se,Se,He);case P:return se=se.get(Se.key===null?ae:Se.key)||null,ce(oe,se,Se,He);case $:var Ke=Se._init;return _e(se,oe,ae,Ke(Se._payload),He)}if(ke(Se)||U(Se))return se=se.get(ae)||null,ve(oe,se,Se,He,null);ru(oe,Se)}return null}function Le(se,oe,ae,Se){for(var He=null,Ke=null,Qe=oe,nt=oe=0,sn=null;Qe!==null&&nt<ae.length;nt++){Qe.index>nt?(sn=Qe,Qe=null):sn=Qe.sibling;var Nt=xe(se,Qe,ae[nt],Se);if(Nt===null){Qe===null&&(Qe=sn);break}s&&Qe&&Nt.alternate===null&&a(se,Qe),oe=j(Nt,oe,nt),Ke===null?He=Nt:Ke.sibling=Nt,Ke=Nt,Qe=sn}if(nt===ae.length)return h(se,Qe),Vt&&wi(se,nt),He;if(Qe===null){for(;nt<ae.length;nt++)Qe=we(se,ae[nt],Se),Qe!==null&&(oe=j(Qe,oe,nt),Ke===null?He=Qe:Ke.sibling=Qe,Ke=Qe);return Vt&&wi(se,nt),He}for(Qe=y(se,Qe);nt<ae.length;nt++)sn=_e(Qe,se,nt,ae[nt],Se),sn!==null&&(s&&sn.alternate!==null&&Qe.delete(sn.key===null?nt:sn.key),oe=j(sn,oe,nt),Ke===null?He=sn:Ke.sibling=sn,Ke=sn);return s&&Qe.forEach(function(Ho){return a(se,Ho)}),Vt&&wi(se,nt),He}function Ve(se,oe,ae,Se){var He=U(ae);if(typeof He!="function")throw Error(n(150));if(ae=He.call(ae),ae==null)throw Error(n(151));for(var Ke=He=null,Qe=oe,nt=oe=0,sn=null,Nt=ae.next();Qe!==null&&!Nt.done;nt++,Nt=ae.next()){Qe.index>nt?(sn=Qe,Qe=null):sn=Qe.sibling;var Ho=xe(se,Qe,Nt.value,Se);if(Ho===null){Qe===null&&(Qe=sn);break}s&&Qe&&Ho.alternate===null&&a(se,Qe),oe=j(Ho,oe,nt),Ke===null?He=Ho:Ke.sibling=Ho,Ke=Ho,Qe=sn}if(Nt.done)return h(se,Qe),Vt&&wi(se,nt),He;if(Qe===null){for(;!Nt.done;nt++,Nt=ae.next())Nt=we(se,Nt.value,Se),Nt!==null&&(oe=j(Nt,oe,nt),Ke===null?He=Nt:Ke.sibling=Nt,Ke=Nt);return Vt&&wi(se,nt),He}for(Qe=y(se,Qe);!Nt.done;nt++,Nt=ae.next())Nt=_e(Qe,se,nt,Nt.value,Se),Nt!==null&&(s&&Nt.alternate!==null&&Qe.delete(Nt.key===null?nt:Nt.key),oe=j(Nt,oe,nt),Ke===null?He=Nt:Ke.sibling=Nt,Ke=Nt);return s&&Qe.forEach(function(yA){return a(se,yA)}),Vt&&wi(se,nt),He}function Gt(se,oe,ae,Se){if(typeof ae=="object"&&ae!==null&&ae.type===I&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case R:e:{for(var He=ae.key,Ke=oe;Ke!==null;){if(Ke.key===He){if(He=ae.type,He===I){if(Ke.tag===7){h(se,Ke.sibling),oe=N(Ke,ae.props.children),oe.return=se,se=oe;break e}}else if(Ke.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===$&&gv(He)===Ke.type){h(se,Ke.sibling),oe=N(Ke,ae.props),oe.ref=Vl(se,Ke,ae),oe.return=se,se=oe;break e}h(se,Ke);break}else a(se,Ke);Ke=Ke.sibling}ae.type===I?(oe=_i(ae.props.children,se.mode,Se,ae.key),oe.return=se,se=oe):(Se=ju(ae.type,ae.key,ae.props,null,se.mode,Se),Se.ref=Vl(se,oe,ae),Se.return=se,se=Se)}return L(se);case P:e:{for(Ke=ae.key;oe!==null;){if(oe.key===Ke)if(oe.tag===4&&oe.stateNode.containerInfo===ae.containerInfo&&oe.stateNode.implementation===ae.implementation){h(se,oe.sibling),oe=N(oe,ae.children||[]),oe.return=se,se=oe;break e}else{h(se,oe);break}else a(se,oe);oe=oe.sibling}oe=Ph(ae,se.mode,Se),oe.return=se,se=oe}return L(se);case $:return Ke=ae._init,Gt(se,oe,Ke(ae._payload),Se)}if(ke(ae))return Le(se,oe,ae,Se);if(U(ae))return Ve(se,oe,ae,Se);ru(se,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,oe!==null&&oe.tag===6?(h(se,oe.sibling),oe=N(oe,ae),oe.return=se,se=oe):(h(se,oe),oe=_h(ae,se.mode,Se),oe.return=se,se=oe),L(se)):h(se,oe)}return Gt}var xs=xv(!0),yv=xv(!1),ou=Io(null),iu=null,ys=null,zp=null;function $p(){zp=ys=iu=null}function Fp(s){var a=ou.current;Ft(ou),s._currentValue=a}function Bp(s,a,h){for(;s!==null;){var y=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,y!==null&&(y.childLanes|=a)):y!==null&&(y.childLanes&a)!==a&&(y.childLanes|=a),s===h)break;s=s.return}}function vs(s,a){iu=s,zp=ys=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Bn=!0),s.firstContext=null)}function dr(s){var a=s._currentValue;if(zp!==s)if(s={context:s,memoizedValue:a,next:null},ys===null){if(iu===null)throw Error(n(308));ys=s,iu.dependencies={lanes:0,firstContext:s}}else ys=ys.next=s;return a}var bi=null;function Vp(s){bi===null?bi=[s]:bi.push(s)}function vv(s,a,h,y){var N=a.interleaved;return N===null?(h.next=h,Vp(a)):(h.next=N.next,N.next=h),a.interleaved=h,uo(s,y)}function uo(s,a){s.lanes|=a;var h=s.alternate;for(h!==null&&(h.lanes|=a),h=s,s=s.return;s!==null;)s.childLanes|=a,h=s.alternate,h!==null&&(h.childLanes|=a),h=s,s=s.return;return h.tag===3?h.stateNode:null}var Do=!1;function Hp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function fo(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Oo(s,a,h){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(kt&2)!==0){var N=y.pending;return N===null?a.next=a:(a.next=N.next,N.next=a),y.pending=a,uo(s,h)}return N=y.interleaved,N===null?(a.next=a,Vp(y)):(a.next=N.next,N.next=a),y.interleaved=a,uo(s,h)}function su(s,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var y=a.lanes;y&=s.pendingLanes,h|=y,a.lanes=h,rp(s,h)}}function bv(s,a){var h=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var N=null,j=null;if(h=h.firstBaseUpdate,h!==null){do{var L={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};j===null?N=j=L:j=j.next=L,h=h.next}while(h!==null);j===null?N=j=a:j=j.next=a}else N=j=a;h={baseState:y.baseState,firstBaseUpdate:N,lastBaseUpdate:j,shared:y.shared,effects:y.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=a:s.next=a,h.lastBaseUpdate=a}function lu(s,a,h,y){var N=s.updateQueue;Do=!1;var j=N.firstBaseUpdate,L=N.lastBaseUpdate,ee=N.shared.pending;if(ee!==null){N.shared.pending=null;var ne=ee,ce=ne.next;ne.next=null,L===null?j=ce:L.next=ce,L=ne;var ve=s.alternate;ve!==null&&(ve=ve.updateQueue,ee=ve.lastBaseUpdate,ee!==L&&(ee===null?ve.firstBaseUpdate=ce:ee.next=ce,ve.lastBaseUpdate=ne))}if(j!==null){var we=N.baseState;L=0,ve=ce=ne=null,ee=j;do{var xe=ee.lane,_e=ee.eventTime;if((y&xe)===xe){ve!==null&&(ve=ve.next={eventTime:_e,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var Le=s,Ve=ee;switch(xe=a,_e=h,Ve.tag){case 1:if(Le=Ve.payload,typeof Le=="function"){we=Le.call(_e,we,xe);break e}we=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ve.payload,xe=typeof Le=="function"?Le.call(_e,we,xe):Le,xe==null)break e;we=M({},we,xe);break e;case 2:Do=!0}}ee.callback!==null&&ee.lane!==0&&(s.flags|=64,xe=N.effects,xe===null?N.effects=[ee]:xe.push(ee))}else _e={eventTime:_e,lane:xe,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},ve===null?(ce=ve=_e,ne=we):ve=ve.next=_e,L|=xe;if(ee=ee.next,ee===null){if(ee=N.shared.pending,ee===null)break;xe=ee,ee=xe.next,xe.next=null,N.lastBaseUpdate=xe,N.shared.pending=null}}while(!0);if(ve===null&&(ne=we),N.baseState=ne,N.firstBaseUpdate=ce,N.lastBaseUpdate=ve,a=N.shared.interleaved,a!==null){N=a;do L|=N.lane,N=N.next;while(N!==a)}else j===null&&(N.shared.lanes=0);Ci|=L,s.lanes=L,s.memoizedState=we}}function Sv(s,a,h){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var y=s[a],N=y.callback;if(N!==null){if(y.callback=null,y=h,typeof N!="function")throw Error(n(191,N));N.call(y)}}}var Hl={},Hr=Io(Hl),Ul=Io(Hl),Wl=Io(Hl);function Si(s){if(s===Hl)throw Error(n(174));return s}function Up(s,a){switch(Ot(Wl,a),Ot(Ul,s),Ot(Hr,Hl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:pe(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=pe(a,s)}Ft(Hr),Ot(Hr,a)}function ws(){Ft(Hr),Ft(Ul),Ft(Wl)}function kv(s){Si(Wl.current);var a=Si(Hr.current),h=pe(a,s.type);a!==h&&(Ot(Ul,s),Ot(Hr,h))}function Wp(s){Ul.current===s&&(Ft(Hr),Ft(Ul))}var Wt=Io(0);function au(s){for(var a=s;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Yp=[];function Xp(){for(var s=0;s<Yp.length;s++)Yp[s]._workInProgressVersionPrimary=null;Yp.length=0}var cu=_.ReactCurrentDispatcher,qp=_.ReactCurrentBatchConfig,ki=0,Yt=null,en=null,rn=null,uu=!1,Yl=!1,Xl=0,FP=0;function Cn(){throw Error(n(321))}function Gp(s,a){if(a===null)return!1;for(var h=0;h<a.length&&h<s.length;h++)if(!vr(s[h],a[h]))return!1;return!0}function Kp(s,a,h,y,N,j){if(ki=j,Yt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,cu.current=s===null||s.memoizedState===null?UP:WP,s=h(y,N),Yl){j=0;do{if(Yl=!1,Xl=0,25<=j)throw Error(n(301));j+=1,rn=en=null,a.updateQueue=null,cu.current=YP,s=h(y,N)}while(Yl)}if(cu.current=pu,a=en!==null&&en.next!==null,ki=0,rn=en=Yt=null,uu=!1,a)throw Error(n(300));return s}function Qp(){var s=Xl!==0;return Xl=0,s}function Ur(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Yt.memoizedState=rn=s:rn=rn.next=s,rn}function fr(){if(en===null){var s=Yt.alternate;s=s!==null?s.memoizedState:null}else s=en.next;var a=rn===null?Yt.memoizedState:rn.next;if(a!==null)rn=a,en=s;else{if(s===null)throw Error(n(310));en=s,s={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},rn===null?Yt.memoizedState=rn=s:rn=rn.next=s}return rn}function ql(s,a){return typeof a=="function"?a(s):a}function Jp(s){var a=fr(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var y=en,N=y.baseQueue,j=h.pending;if(j!==null){if(N!==null){var L=N.next;N.next=j.next,j.next=L}y.baseQueue=N=j,h.pending=null}if(N!==null){j=N.next,y=y.baseState;var ee=L=null,ne=null,ce=j;do{var ve=ce.lane;if((ki&ve)===ve)ne!==null&&(ne=ne.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),y=ce.hasEagerState?ce.eagerState:s(y,ce.action);else{var we={lane:ve,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};ne===null?(ee=ne=we,L=y):ne=ne.next=we,Yt.lanes|=ve,Ci|=ve}ce=ce.next}while(ce!==null&&ce!==j);ne===null?L=y:ne.next=ee,vr(y,a.memoizedState)||(Bn=!0),a.memoizedState=y,a.baseState=L,a.baseQueue=ne,h.lastRenderedState=y}if(s=h.interleaved,s!==null){N=s;do j=N.lane,Yt.lanes|=j,Ci|=j,N=N.next;while(N!==s)}else N===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function Zp(s){var a=fr(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var y=h.dispatch,N=h.pending,j=a.memoizedState;if(N!==null){h.pending=null;var L=N=N.next;do j=s(j,L.action),L=L.next;while(L!==N);vr(j,a.memoizedState)||(Bn=!0),a.memoizedState=j,a.baseQueue===null&&(a.baseState=j),h.lastRenderedState=j}return[j,y]}function Cv(){}function Nv(s,a){var h=Yt,y=fr(),N=a(),j=!vr(y.memoizedState,N);if(j&&(y.memoizedState=N,Bn=!0),y=y.queue,eh(_v.bind(null,h,y,s),[s]),y.getSnapshot!==a||j||rn!==null&&rn.memoizedState.tag&1){if(h.flags|=2048,Gl(9,jv.bind(null,h,y,N,a),void 0,null),on===null)throw Error(n(349));(ki&30)!==0||Ev(h,a,N)}return N}function Ev(s,a,h){s.flags|=16384,s={getSnapshot:a,value:h},a=Yt.updateQueue,a===null?(a={lastEffect:null,stores:null},Yt.updateQueue=a,a.stores=[s]):(h=a.stores,h===null?a.stores=[s]:h.push(s))}function jv(s,a,h,y){a.value=h,a.getSnapshot=y,Pv(a)&&Av(s)}function _v(s,a,h){return h(function(){Pv(a)&&Av(s)})}function Pv(s){var a=s.getSnapshot;s=s.value;try{var h=a();return!vr(s,h)}catch{return!0}}function Av(s){var a=uo(s,1);a!==null&&Cr(a,s,1,-1)}function Tv(s){var a=Ur();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:s},a.queue=s,s=s.dispatch=HP.bind(null,Yt,s),[a.memoizedState,s]}function Gl(s,a,h,y){return s={tag:s,create:a,destroy:h,deps:y,next:null},a=Yt.updateQueue,a===null?(a={lastEffect:null,stores:null},Yt.updateQueue=a,a.lastEffect=s.next=s):(h=a.lastEffect,h===null?a.lastEffect=s.next=s:(y=h.next,h.next=s,s.next=y,a.lastEffect=s)),s}function Iv(){return fr().memoizedState}function du(s,a,h,y){var N=Ur();Yt.flags|=s,N.memoizedState=Gl(1|a,h,void 0,y===void 0?null:y)}function fu(s,a,h,y){var N=fr();y=y===void 0?null:y;var j=void 0;if(en!==null){var L=en.memoizedState;if(j=L.destroy,y!==null&&Gp(y,L.deps)){N.memoizedState=Gl(a,h,j,y);return}}Yt.flags|=s,N.memoizedState=Gl(1|a,h,j,y)}function Rv(s,a){return du(8390656,8,s,a)}function eh(s,a){return fu(2048,8,s,a)}function Mv(s,a){return fu(4,2,s,a)}function Dv(s,a){return fu(4,4,s,a)}function Ov(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Lv(s,a,h){return h=h!=null?h.concat([s]):null,fu(4,4,Ov.bind(null,a,s),h)}function th(){}function zv(s,a){var h=fr();a=a===void 0?null:a;var y=h.memoizedState;return y!==null&&a!==null&&Gp(a,y[1])?y[0]:(h.memoizedState=[s,a],s)}function $v(s,a){var h=fr();a=a===void 0?null:a;var y=h.memoizedState;return y!==null&&a!==null&&Gp(a,y[1])?y[0]:(s=s(),h.memoizedState=[s,a],s)}function Fv(s,a,h){return(ki&21)===0?(s.baseState&&(s.baseState=!1,Bn=!0),s.memoizedState=h):(vr(h,a)||(h=rs(),Yt.lanes|=h,Ci|=h,s.baseState=!0),a)}function BP(s,a){var h=At;At=h!==0&&4>h?h:4,s(!0);var y=qp.transition;qp.transition={};try{s(!1),a()}finally{At=h,qp.transition=y}}function Bv(){return fr().memoizedState}function VP(s,a,h){var y=Fo(s);if(h={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null},Vv(s))Hv(a,h);else if(h=vv(s,a,h,y),h!==null){var N=Rn();Cr(h,s,y,N),Uv(h,a,y)}}function HP(s,a,h){var y=Fo(s),N={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null};if(Vv(s))Hv(a,N);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=a.lastRenderedReducer,j!==null))try{var L=a.lastRenderedState,ee=j(L,h);if(N.hasEagerState=!0,N.eagerState=ee,vr(ee,L)){var ne=a.interleaved;ne===null?(N.next=N,Vp(a)):(N.next=ne.next,ne.next=N),a.interleaved=N;return}}catch{}finally{}h=vv(s,a,N,y),h!==null&&(N=Rn(),Cr(h,s,y,N),Uv(h,a,y))}}function Vv(s){var a=s.alternate;return s===Yt||a!==null&&a===Yt}function Hv(s,a){Yl=uu=!0;var h=s.pending;h===null?a.next=a:(a.next=h.next,h.next=a),s.pending=a}function Uv(s,a,h){if((h&4194240)!==0){var y=a.lanes;y&=s.pendingLanes,h|=y,a.lanes=h,rp(s,h)}}var pu={readContext:dr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},UP={readContext:dr,useCallback:function(s,a){return Ur().memoizedState=[s,a===void 0?null:a],s},useContext:dr,useEffect:Rv,useImperativeHandle:function(s,a,h){return h=h!=null?h.concat([s]):null,du(4194308,4,Ov.bind(null,a,s),h)},useLayoutEffect:function(s,a){return du(4194308,4,s,a)},useInsertionEffect:function(s,a){return du(4,2,s,a)},useMemo:function(s,a){var h=Ur();return a=a===void 0?null:a,s=s(),h.memoizedState=[s,a],s},useReducer:function(s,a,h){var y=Ur();return a=h!==void 0?h(a):a,y.memoizedState=y.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},y.queue=s,s=s.dispatch=VP.bind(null,Yt,s),[y.memoizedState,s]},useRef:function(s){var a=Ur();return s={current:s},a.memoizedState=s},useState:Tv,useDebugValue:th,useDeferredValue:function(s){return Ur().memoizedState=s},useTransition:function(){var s=Tv(!1),a=s[0];return s=BP.bind(null,s[1]),Ur().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,h){var y=Yt,N=Ur();if(Vt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=a(),on===null)throw Error(n(349));(ki&30)!==0||Ev(y,a,h)}N.memoizedState=h;var j={value:h,getSnapshot:a};return N.queue=j,Rv(_v.bind(null,y,j,s),[s]),y.flags|=2048,Gl(9,jv.bind(null,y,j,h,a),void 0,null),h},useId:function(){var s=Ur(),a=on.identifierPrefix;if(Vt){var h=co,y=ao;h=(y&~(1<<32-qn(y)-1)).toString(32)+h,a=":"+a+"R"+h,h=Xl++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=FP++,a=":"+a+"r"+h.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},WP={readContext:dr,useCallback:zv,useContext:dr,useEffect:eh,useImperativeHandle:Lv,useInsertionEffect:Mv,useLayoutEffect:Dv,useMemo:$v,useReducer:Jp,useRef:Iv,useState:function(){return Jp(ql)},useDebugValue:th,useDeferredValue:function(s){var a=fr();return Fv(a,en.memoizedState,s)},useTransition:function(){var s=Jp(ql)[0],a=fr().memoizedState;return[s,a]},useMutableSource:Cv,useSyncExternalStore:Nv,useId:Bv,unstable_isNewReconciler:!1},YP={readContext:dr,useCallback:zv,useContext:dr,useEffect:eh,useImperativeHandle:Lv,useInsertionEffect:Mv,useLayoutEffect:Dv,useMemo:$v,useReducer:Zp,useRef:Iv,useState:function(){return Zp(ql)},useDebugValue:th,useDeferredValue:function(s){var a=fr();return en===null?a.memoizedState=s:Fv(a,en.memoizedState,s)},useTransition:function(){var s=Zp(ql)[0],a=fr().memoizedState;return[s,a]},useMutableSource:Cv,useSyncExternalStore:Nv,useId:Bv,unstable_isNewReconciler:!1};function br(s,a){if(s&&s.defaultProps){a=M({},a),s=s.defaultProps;for(var h in s)a[h]===void 0&&(a[h]=s[h]);return a}return a}function nh(s,a,h,y){a=s.memoizedState,h=h(y,a),h=h==null?a:M({},a,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var hu={isMounted:function(s){return(s=s._reactInternals)?Fr(s)===s:!1},enqueueSetState:function(s,a,h){s=s._reactInternals;var y=Rn(),N=Fo(s),j=fo(y,N);j.payload=a,h!=null&&(j.callback=h),a=Oo(s,j,N),a!==null&&(Cr(a,s,N,y),su(a,s,N))},enqueueReplaceState:function(s,a,h){s=s._reactInternals;var y=Rn(),N=Fo(s),j=fo(y,N);j.tag=1,j.payload=a,h!=null&&(j.callback=h),a=Oo(s,j,N),a!==null&&(Cr(a,s,N,y),su(a,s,N))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var h=Rn(),y=Fo(s),N=fo(h,y);N.tag=2,a!=null&&(N.callback=a),a=Oo(s,N,y),a!==null&&(Cr(a,s,y,h),su(a,s,y))}};function Wv(s,a,h,y,N,j,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,j,L):a.prototype&&a.prototype.isPureReactComponent?!Dl(h,y)||!Dl(N,j):!0}function Yv(s,a,h){var y=!1,N=Ro,j=a.contextType;return typeof j=="object"&&j!==null?j=dr(j):(N=Fn(a)?yi:kn.current,y=a.contextTypes,j=(y=y!=null)?ps(s,N):Ro),a=new a(h,j),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=hu,s.stateNode=a,a._reactInternals=s,y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=N,s.__reactInternalMemoizedMaskedChildContext=j),a}function Xv(s,a,h,y){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,y),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,y),a.state!==s&&hu.enqueueReplaceState(a,a.state,null)}function rh(s,a,h,y){var N=s.stateNode;N.props=h,N.state=s.memoizedState,N.refs={},Hp(s);var j=a.contextType;typeof j=="object"&&j!==null?N.context=dr(j):(j=Fn(a)?yi:kn.current,N.context=ps(s,j)),N.state=s.memoizedState,j=a.getDerivedStateFromProps,typeof j=="function"&&(nh(s,a,j,h),N.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(a=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),a!==N.state&&hu.enqueueReplaceState(N,N.state,null),lu(s,h,N,y),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=4194308)}function bs(s,a){try{var h="",y=a;do h+=Z(y),y=y.return;while(y);var N=h}catch(j){N=`
Error generating stack: `+j.message+`
`+j.stack}return{value:s,source:a,stack:N,digest:null}}function oh(s,a,h){return{value:s,source:null,stack:h??null,digest:a??null}}function ih(s,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var XP=typeof WeakMap=="function"?WeakMap:Map;function qv(s,a,h){h=fo(-1,h),h.tag=3,h.payload={element:null};var y=a.value;return h.callback=function(){bu||(bu=!0,wh=y),ih(s,a)},h}function Gv(s,a,h){h=fo(-1,h),h.tag=3;var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var N=a.value;h.payload=function(){return y(N)},h.callback=function(){ih(s,a)}}var j=s.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(h.callback=function(){ih(s,a),typeof y!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var L=a.stack;this.componentDidCatch(a.value,{componentStack:L!==null?L:""})}),h}function Kv(s,a,h){var y=s.pingCache;if(y===null){y=s.pingCache=new XP;var N=new Set;y.set(a,N)}else N=y.get(a),N===void 0&&(N=new Set,y.set(a,N));N.has(h)||(N.add(h),s=lA.bind(null,s,a,h),a.then(s,s))}function Qv(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Jv(s,a,h,y,N){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=fo(-1,1),a.tag=2,Oo(h,a,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=N,s)}var qP=_.ReactCurrentOwner,Bn=!1;function In(s,a,h,y){a.child=s===null?yv(a,null,h,y):xs(a,s.child,h,y)}function Zv(s,a,h,y,N){h=h.render;var j=a.ref;return vs(a,N),y=Kp(s,a,h,y,j,N),h=Qp(),s!==null&&!Bn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~N,po(s,a,N)):(Vt&&h&&Rp(a),a.flags|=1,In(s,a,y,N),a.child)}function e0(s,a,h,y,N){if(s===null){var j=h.type;return typeof j=="function"&&!jh(j)&&j.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=j,t0(s,a,j,y,N)):(s=ju(h.type,null,y,a,a.mode,N),s.ref=a.ref,s.return=a,a.child=s)}if(j=s.child,(s.lanes&N)===0){var L=j.memoizedProps;if(h=h.compare,h=h!==null?h:Dl,h(L,y)&&s.ref===a.ref)return po(s,a,N)}return a.flags|=1,s=Vo(j,y),s.ref=a.ref,s.return=a,a.child=s}function t0(s,a,h,y,N){if(s!==null){var j=s.memoizedProps;if(Dl(j,y)&&s.ref===a.ref)if(Bn=!1,a.pendingProps=y=j,(s.lanes&N)!==0)(s.flags&131072)!==0&&(Bn=!0);else return a.lanes=s.lanes,po(s,a,N)}return sh(s,a,h,y,N)}function n0(s,a,h){var y=a.pendingProps,N=y.children,j=s!==null?s.memoizedState:null;if(y.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(ks,Jn),Jn|=h;else{if((h&1073741824)===0)return s=j!==null?j.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Ot(ks,Jn),Jn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=j!==null?j.baseLanes:h,Ot(ks,Jn),Jn|=y}else j!==null?(y=j.baseLanes|h,a.memoizedState=null):y=h,Ot(ks,Jn),Jn|=y;return In(s,a,N,h),a.child}function r0(s,a){var h=a.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function sh(s,a,h,y,N){var j=Fn(h)?yi:kn.current;return j=ps(a,j),vs(a,N),h=Kp(s,a,h,y,j,N),y=Qp(),s!==null&&!Bn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~N,po(s,a,N)):(Vt&&y&&Rp(a),a.flags|=1,In(s,a,h,N),a.child)}function o0(s,a,h,y,N){if(Fn(h)){var j=!0;Jc(a)}else j=!1;if(vs(a,N),a.stateNode===null)gu(s,a),Yv(a,h,y),rh(a,h,y,N),y=!0;else if(s===null){var L=a.stateNode,ee=a.memoizedProps;L.props=ee;var ne=L.context,ce=h.contextType;typeof ce=="object"&&ce!==null?ce=dr(ce):(ce=Fn(h)?yi:kn.current,ce=ps(a,ce));var ve=h.getDerivedStateFromProps,we=typeof ve=="function"||typeof L.getSnapshotBeforeUpdate=="function";we||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ee!==y||ne!==ce)&&Xv(a,L,y,ce),Do=!1;var xe=a.memoizedState;L.state=xe,lu(a,y,L,N),ne=a.memoizedState,ee!==y||xe!==ne||$n.current||Do?(typeof ve=="function"&&(nh(a,h,ve,y),ne=a.memoizedState),(ee=Do||Wv(a,h,ee,y,xe,ne,ce))?(we||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(a.flags|=4194308)):(typeof L.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=y,a.memoizedState=ne),L.props=y,L.state=ne,L.context=ce,y=ee):(typeof L.componentDidMount=="function"&&(a.flags|=4194308),y=!1)}else{L=a.stateNode,wv(s,a),ee=a.memoizedProps,ce=a.type===a.elementType?ee:br(a.type,ee),L.props=ce,we=a.pendingProps,xe=L.context,ne=h.contextType,typeof ne=="object"&&ne!==null?ne=dr(ne):(ne=Fn(h)?yi:kn.current,ne=ps(a,ne));var _e=h.getDerivedStateFromProps;(ve=typeof _e=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ee!==we||xe!==ne)&&Xv(a,L,y,ne),Do=!1,xe=a.memoizedState,L.state=xe,lu(a,y,L,N);var Le=a.memoizedState;ee!==we||xe!==Le||$n.current||Do?(typeof _e=="function"&&(nh(a,h,_e,y),Le=a.memoizedState),(ce=Do||Wv(a,h,ce,y,xe,Le,ne)||!1)?(ve||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(y,Le,ne),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(y,Le,ne)),typeof L.componentDidUpdate=="function"&&(a.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof L.componentDidUpdate!="function"||ee===s.memoizedProps&&xe===s.memoizedState||(a.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ee===s.memoizedProps&&xe===s.memoizedState||(a.flags|=1024),a.memoizedProps=y,a.memoizedState=Le),L.props=y,L.state=Le,L.context=ne,y=ce):(typeof L.componentDidUpdate!="function"||ee===s.memoizedProps&&xe===s.memoizedState||(a.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ee===s.memoizedProps&&xe===s.memoizedState||(a.flags|=1024),y=!1)}return lh(s,a,h,y,j,N)}function lh(s,a,h,y,N,j){r0(s,a);var L=(a.flags&128)!==0;if(!y&&!L)return N&&cv(a,h,!1),po(s,a,j);y=a.stateNode,qP.current=a;var ee=L&&typeof h.getDerivedStateFromError!="function"?null:y.render();return a.flags|=1,s!==null&&L?(a.child=xs(a,s.child,null,j),a.child=xs(a,null,ee,j)):In(s,a,ee,j),a.memoizedState=y.state,N&&cv(a,h,!0),a.child}function i0(s){var a=s.stateNode;a.pendingContext?lv(s,a.pendingContext,a.pendingContext!==a.context):a.context&&lv(s,a.context,!1),Up(s,a.containerInfo)}function s0(s,a,h,y,N){return gs(),Lp(N),a.flags|=256,In(s,a,h,y),a.child}var ah={dehydrated:null,treeContext:null,retryLane:0};function ch(s){return{baseLanes:s,cachePool:null,transitions:null}}function l0(s,a,h){var y=a.pendingProps,N=Wt.current,j=!1,L=(a.flags&128)!==0,ee;if((ee=L)||(ee=s!==null&&s.memoizedState===null?!1:(N&2)!==0),ee?(j=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(N|=1),Ot(Wt,N&1),s===null)return Op(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(L=y.children,s=y.fallback,j?(y=a.mode,j=a.child,L={mode:"hidden",children:L},(y&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=L):j=_u(L,y,0,null),s=_i(s,y,h,null),j.return=a,s.return=a,j.sibling=s,a.child=j,a.child.memoizedState=ch(h),a.memoizedState=ah,s):uh(a,L));if(N=s.memoizedState,N!==null&&(ee=N.dehydrated,ee!==null))return GP(s,a,L,y,ee,N,h);if(j){j=y.fallback,L=a.mode,N=s.child,ee=N.sibling;var ne={mode:"hidden",children:y.children};return(L&1)===0&&a.child!==N?(y=a.child,y.childLanes=0,y.pendingProps=ne,a.deletions=null):(y=Vo(N,ne),y.subtreeFlags=N.subtreeFlags&14680064),ee!==null?j=Vo(ee,j):(j=_i(j,L,h,null),j.flags|=2),j.return=a,y.return=a,y.sibling=j,a.child=y,y=j,j=a.child,L=s.child.memoizedState,L=L===null?ch(h):{baseLanes:L.baseLanes|h,cachePool:null,transitions:L.transitions},j.memoizedState=L,j.childLanes=s.childLanes&~h,a.memoizedState=ah,y}return j=s.child,s=j.sibling,y=Vo(j,{mode:"visible",children:y.children}),(a.mode&1)===0&&(y.lanes=h),y.return=a,y.sibling=null,s!==null&&(h=a.deletions,h===null?(a.deletions=[s],a.flags|=16):h.push(s)),a.child=y,a.memoizedState=null,y}function uh(s,a){return a=_u({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function mu(s,a,h,y){return y!==null&&Lp(y),xs(a,s.child,null,h),s=uh(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function GP(s,a,h,y,N,j,L){if(h)return a.flags&256?(a.flags&=-257,y=oh(Error(n(422))),mu(s,a,L,y)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(j=y.fallback,N=a.mode,y=_u({mode:"visible",children:y.children},N,0,null),j=_i(j,N,L,null),j.flags|=2,y.return=a,j.return=a,y.sibling=j,a.child=y,(a.mode&1)!==0&&xs(a,s.child,null,L),a.child.memoizedState=ch(L),a.memoizedState=ah,j);if((a.mode&1)===0)return mu(s,a,L,null);if(N.data==="$!"){if(y=N.nextSibling&&N.nextSibling.dataset,y)var ee=y.dgst;return y=ee,j=Error(n(419)),y=oh(j,y,void 0),mu(s,a,L,y)}if(ee=(L&s.childLanes)!==0,Bn||ee){if(y=on,y!==null){switch(L&-L){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(y.suspendedLanes|L))!==0?0:N,N!==0&&N!==j.retryLane&&(j.retryLane=N,uo(s,N),Cr(y,s,N,-1))}return Eh(),y=oh(Error(n(421))),mu(s,a,L,y)}return N.data==="$?"?(a.flags|=128,a.child=s.child,a=aA.bind(null,s),N._reactRetry=a,null):(s=j.treeContext,Qn=To(N.nextSibling),Kn=a,Vt=!0,wr=null,s!==null&&(cr[ur++]=ao,cr[ur++]=co,cr[ur++]=vi,ao=s.id,co=s.overflow,vi=a),a=uh(a,y.children),a.flags|=4096,a)}function a0(s,a,h){s.lanes|=a;var y=s.alternate;y!==null&&(y.lanes|=a),Bp(s.return,a,h)}function dh(s,a,h,y,N){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:N}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=y,j.tail=h,j.tailMode=N)}function c0(s,a,h){var y=a.pendingProps,N=y.revealOrder,j=y.tail;if(In(s,a,y.children,h),y=Wt.current,(y&2)!==0)y=y&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&a0(s,h,a);else if(s.tag===19)a0(s,h,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}y&=1}if(Ot(Wt,y),(a.mode&1)===0)a.memoizedState=null;else switch(N){case"forwards":for(h=a.child,N=null;h!==null;)s=h.alternate,s!==null&&au(s)===null&&(N=h),h=h.sibling;h=N,h===null?(N=a.child,a.child=null):(N=h.sibling,h.sibling=null),dh(a,!1,N,h,j);break;case"backwards":for(h=null,N=a.child,a.child=null;N!==null;){if(s=N.alternate,s!==null&&au(s)===null){a.child=N;break}s=N.sibling,N.sibling=h,h=N,N=s}dh(a,!0,h,null,j);break;case"together":dh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function gu(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function po(s,a,h){if(s!==null&&(a.dependencies=s.dependencies),Ci|=a.lanes,(h&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,h=Vo(s,s.pendingProps),a.child=h,h.return=a;s.sibling!==null;)s=s.sibling,h=h.sibling=Vo(s,s.pendingProps),h.return=a;h.sibling=null}return a.child}function KP(s,a,h){switch(a.tag){case 3:i0(a),gs();break;case 5:kv(a);break;case 1:Fn(a.type)&&Jc(a);break;case 4:Up(a,a.stateNode.containerInfo);break;case 10:var y=a.type._context,N=a.memoizedProps.value;Ot(ou,y._currentValue),y._currentValue=N;break;case 13:if(y=a.memoizedState,y!==null)return y.dehydrated!==null?(Ot(Wt,Wt.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?l0(s,a,h):(Ot(Wt,Wt.current&1),s=po(s,a,h),s!==null?s.sibling:null);Ot(Wt,Wt.current&1);break;case 19:if(y=(h&a.childLanes)!==0,(s.flags&128)!==0){if(y)return c0(s,a,h);a.flags|=128}if(N=a.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Ot(Wt,Wt.current),y)break;return null;case 22:case 23:return a.lanes=0,n0(s,a,h)}return po(s,a,h)}var u0,fh,d0,f0;u0=function(s,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},fh=function(){},d0=function(s,a,h,y){var N=s.memoizedProps;if(N!==y){s=a.stateNode,Si(Hr.current);var j=null;switch(h){case"input":N=ge(s,N),y=ge(s,y),j=[];break;case"select":N=M({},N,{value:void 0}),y=M({},y,{value:void 0}),j=[];break;case"textarea":N=lt(s,N),y=lt(s,y),j=[];break;default:typeof N.onClick!="function"&&typeof y.onClick=="function"&&(s.onclick=Gc)}pt(h,y);var L;h=null;for(ce in N)if(!y.hasOwnProperty(ce)&&N.hasOwnProperty(ce)&&N[ce]!=null)if(ce==="style"){var ee=N[ce];for(L in ee)ee.hasOwnProperty(L)&&(h||(h={}),h[L]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?j||(j=[]):(j=j||[]).push(ce,null));for(ce in y){var ne=y[ce];if(ee=N!=null?N[ce]:void 0,y.hasOwnProperty(ce)&&ne!==ee&&(ne!=null||ee!=null))if(ce==="style")if(ee){for(L in ee)!ee.hasOwnProperty(L)||ne&&ne.hasOwnProperty(L)||(h||(h={}),h[L]="");for(L in ne)ne.hasOwnProperty(L)&&ee[L]!==ne[L]&&(h||(h={}),h[L]=ne[L])}else h||(j||(j=[]),j.push(ce,h)),h=ne;else ce==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ee=ee?ee.__html:void 0,ne!=null&&ee!==ne&&(j=j||[]).push(ce,ne)):ce==="children"?typeof ne!="string"&&typeof ne!="number"||(j=j||[]).push(ce,""+ne):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(ne!=null&&ce==="onScroll"&&$t("scroll",s),j||ee===ne||(j=[])):(j=j||[]).push(ce,ne))}h&&(j=j||[]).push("style",h);var ce=j;(a.updateQueue=ce)&&(a.flags|=4)}},f0=function(s,a,h,y){h!==y&&(a.flags|=4)};function Kl(s,a){if(!Vt)switch(s.tailMode){case"hidden":a=s.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function Nn(s){var a=s.alternate!==null&&s.alternate.child===s.child,h=0,y=0;if(a)for(var N=s.child;N!==null;)h|=N.lanes|N.childLanes,y|=N.subtreeFlags&14680064,y|=N.flags&14680064,N.return=s,N=N.sibling;else for(N=s.child;N!==null;)h|=N.lanes|N.childLanes,y|=N.subtreeFlags,y|=N.flags,N.return=s,N=N.sibling;return s.subtreeFlags|=y,s.childLanes=h,a}function QP(s,a,h){var y=a.pendingProps;switch(Mp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(a),null;case 1:return Fn(a.type)&&Qc(),Nn(a),null;case 3:return y=a.stateNode,ws(),Ft($n),Ft(kn),Xp(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(s===null||s.child===null)&&(nu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,wr!==null&&(kh(wr),wr=null))),fh(s,a),Nn(a),null;case 5:Wp(a);var N=Si(Wl.current);if(h=a.type,s!==null&&a.stateNode!=null)d0(s,a,h,y,N),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!y){if(a.stateNode===null)throw Error(n(166));return Nn(a),null}if(s=Si(Hr.current),nu(a)){y=a.stateNode,h=a.type;var j=a.memoizedProps;switch(y[Vr]=a,y[Fl]=j,s=(a.mode&1)!==0,h){case"dialog":$t("cancel",y),$t("close",y);break;case"iframe":case"object":case"embed":$t("load",y);break;case"video":case"audio":for(N=0;N<Ll.length;N++)$t(Ll[N],y);break;case"source":$t("error",y);break;case"img":case"image":case"link":$t("error",y),$t("load",y);break;case"details":$t("toggle",y);break;case"input":De(y,j),$t("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!j.multiple},$t("invalid",y);break;case"textarea":vt(y,j),$t("invalid",y)}pt(h,j),N=null;for(var L in j)if(j.hasOwnProperty(L)){var ee=j[L];L==="children"?typeof ee=="string"?y.textContent!==ee&&(j.suppressHydrationWarning!==!0&&qc(y.textContent,ee,s),N=["children",ee]):typeof ee=="number"&&y.textContent!==""+ee&&(j.suppressHydrationWarning!==!0&&qc(y.textContent,ee,s),N=["children",""+ee]):o.hasOwnProperty(L)&&ee!=null&&L==="onScroll"&&$t("scroll",y)}switch(h){case"input":le(y),tt(y,j,!0);break;case"textarea":le(y),Tt(y);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(y.onclick=Gc)}y=N,a.updateQueue=y,y!==null&&(a.flags|=4)}else{L=N.nodeType===9?N:N.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ue(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=L.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof y.is=="string"?s=L.createElement(h,{is:y.is}):(s=L.createElement(h),h==="select"&&(L=s,y.multiple?L.multiple=!0:y.size&&(L.size=y.size))):s=L.createElementNS(s,h),s[Vr]=a,s[Fl]=y,u0(s,a,!1,!1),a.stateNode=s;e:{switch(L=Pt(h,y),h){case"dialog":$t("cancel",s),$t("close",s),N=y;break;case"iframe":case"object":case"embed":$t("load",s),N=y;break;case"video":case"audio":for(N=0;N<Ll.length;N++)$t(Ll[N],s);N=y;break;case"source":$t("error",s),N=y;break;case"img":case"image":case"link":$t("error",s),$t("load",s),N=y;break;case"details":$t("toggle",s),N=y;break;case"input":De(s,y),N=ge(s,y),$t("invalid",s);break;case"option":N=y;break;case"select":s._wrapperState={wasMultiple:!!y.multiple},N=M({},y,{value:void 0}),$t("invalid",s);break;case"textarea":vt(s,y),N=lt(s,y),$t("invalid",s);break;default:N=y}pt(h,N),ee=N;for(j in ee)if(ee.hasOwnProperty(j)){var ne=ee[j];j==="style"?It(s,ne):j==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&je(s,ne)):j==="children"?typeof ne=="string"?(h!=="textarea"||ne!=="")&&Xe(s,ne):typeof ne=="number"&&Xe(s,""+ne):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?ne!=null&&j==="onScroll"&&$t("scroll",s):ne!=null&&C(s,j,ne,L))}switch(h){case"input":le(s),tt(s,y,!1);break;case"textarea":le(s),Tt(s);break;case"option":y.value!=null&&s.setAttribute("value",""+te(y.value));break;case"select":s.multiple=!!y.multiple,j=y.value,j!=null?We(s,!!y.multiple,j,!1):y.defaultValue!=null&&We(s,!!y.multiple,y.defaultValue,!0);break;default:typeof N.onClick=="function"&&(s.onclick=Gc)}switch(h){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Nn(a),null;case 6:if(s&&a.stateNode!=null)f0(s,a,s.memoizedProps,y);else{if(typeof y!="string"&&a.stateNode===null)throw Error(n(166));if(h=Si(Wl.current),Si(Hr.current),nu(a)){if(y=a.stateNode,h=a.memoizedProps,y[Vr]=a,(j=y.nodeValue!==h)&&(s=Kn,s!==null))switch(s.tag){case 3:qc(y.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&qc(y.nodeValue,h,(s.mode&1)!==0)}j&&(a.flags|=4)}else y=(h.nodeType===9?h:h.ownerDocument).createTextNode(y),y[Vr]=a,a.stateNode=y}return Nn(a),null;case 13:if(Ft(Wt),y=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Vt&&Qn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)mv(),gs(),a.flags|=98560,j=!1;else if(j=nu(a),y!==null&&y.dehydrated!==null){if(s===null){if(!j)throw Error(n(318));if(j=a.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Vr]=a}else gs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Nn(a),j=!1}else wr!==null&&(kh(wr),wr=null),j=!0;if(!j)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(y=y!==null,y!==(s!==null&&s.memoizedState!==null)&&y&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Wt.current&1)!==0?tn===0&&(tn=3):Eh())),a.updateQueue!==null&&(a.flags|=4),Nn(a),null);case 4:return ws(),fh(s,a),s===null&&zl(a.stateNode.containerInfo),Nn(a),null;case 10:return Fp(a.type._context),Nn(a),null;case 17:return Fn(a.type)&&Qc(),Nn(a),null;case 19:if(Ft(Wt),j=a.memoizedState,j===null)return Nn(a),null;if(y=(a.flags&128)!==0,L=j.rendering,L===null)if(y)Kl(j,!1);else{if(tn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(L=au(s),L!==null){for(a.flags|=128,Kl(j,!1),y=L.updateQueue,y!==null&&(a.updateQueue=y,a.flags|=4),a.subtreeFlags=0,y=h,h=a.child;h!==null;)j=h,s=y,j.flags&=14680066,L=j.alternate,L===null?(j.childLanes=0,j.lanes=s,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=L.childLanes,j.lanes=L.lanes,j.child=L.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=L.memoizedProps,j.memoizedState=L.memoizedState,j.updateQueue=L.updateQueue,j.type=L.type,s=L.dependencies,j.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return Ot(Wt,Wt.current&1|2),a.child}s=s.sibling}j.tail!==null&&Ut()>Cs&&(a.flags|=128,y=!0,Kl(j,!1),a.lanes=4194304)}else{if(!y)if(s=au(L),s!==null){if(a.flags|=128,y=!0,h=s.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),Kl(j,!0),j.tail===null&&j.tailMode==="hidden"&&!L.alternate&&!Vt)return Nn(a),null}else 2*Ut()-j.renderingStartTime>Cs&&h!==1073741824&&(a.flags|=128,y=!0,Kl(j,!1),a.lanes=4194304);j.isBackwards?(L.sibling=a.child,a.child=L):(h=j.last,h!==null?h.sibling=L:a.child=L,j.last=L)}return j.tail!==null?(a=j.tail,j.rendering=a,j.tail=a.sibling,j.renderingStartTime=Ut(),a.sibling=null,h=Wt.current,Ot(Wt,y?h&1|2:h&1),a):(Nn(a),null);case 22:case 23:return Nh(),y=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==y&&(a.flags|=8192),y&&(a.mode&1)!==0?(Jn&1073741824)!==0&&(Nn(a),a.subtreeFlags&6&&(a.flags|=8192)):Nn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function JP(s,a){switch(Mp(a),a.tag){case 1:return Fn(a.type)&&Qc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ws(),Ft($n),Ft(kn),Xp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Wp(a),null;case 13:if(Ft(Wt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));gs()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Ft(Wt),null;case 4:return ws(),null;case 10:return Fp(a.type._context),null;case 22:case 23:return Nh(),null;case 24:return null;default:return null}}var xu=!1,En=!1,ZP=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Ss(s,a){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(y){Xt(s,a,y)}else h.current=null}function ph(s,a,h){try{h()}catch(y){Xt(s,a,y)}}var p0=!1;function eA(s,a){if(Np=Lc,s=Wy(),xp(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var N=y.anchorOffset,j=y.focusNode;y=y.focusOffset;try{h.nodeType,j.nodeType}catch{h=null;break e}var L=0,ee=-1,ne=-1,ce=0,ve=0,we=s,xe=null;t:for(;;){for(var _e;we!==h||N!==0&&we.nodeType!==3||(ee=L+N),we!==j||y!==0&&we.nodeType!==3||(ne=L+y),we.nodeType===3&&(L+=we.nodeValue.length),(_e=we.firstChild)!==null;)xe=we,we=_e;for(;;){if(we===s)break t;if(xe===h&&++ce===N&&(ee=L),xe===j&&++ve===y&&(ne=L),(_e=we.nextSibling)!==null)break;we=xe,xe=we.parentNode}we=_e}h=ee===-1||ne===-1?null:{start:ee,end:ne}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ep={focusedElem:s,selectionRange:h},Lc=!1,Ie=a;Ie!==null;)if(a=Ie,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ie=s;else for(;Ie!==null;){a=Ie;try{var Le=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Ve=Le.memoizedProps,Gt=Le.memoizedState,se=a.stateNode,oe=se.getSnapshotBeforeUpdate(a.elementType===a.type?Ve:br(a.type,Ve),Gt);se.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var ae=a.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Se){Xt(a,a.return,Se)}if(s=a.sibling,s!==null){s.return=a.return,Ie=s;break}Ie=a.return}return Le=p0,p0=!1,Le}function Ql(s,a,h){var y=a.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var N=y=y.next;do{if((N.tag&s)===s){var j=N.destroy;N.destroy=void 0,j!==void 0&&ph(a,h,j)}N=N.next}while(N!==y)}}function yu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&s)===s){var y=h.create;h.destroy=y()}h=h.next}while(h!==a)}}function hh(s){var a=s.ref;if(a!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof a=="function"?a(s):a.current=s}}function h0(s){var a=s.alternate;a!==null&&(s.alternate=null,h0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Vr],delete a[Fl],delete a[Ap],delete a[OP],delete a[LP])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function m0(s){return s.tag===5||s.tag===3||s.tag===4}function g0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||m0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function mh(s,a,h){var y=s.tag;if(y===5||y===6)s=s.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(s,a):h.insertBefore(s,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(s,h)):(a=h,a.appendChild(s)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=Gc));else if(y!==4&&(s=s.child,s!==null))for(mh(s,a,h),s=s.sibling;s!==null;)mh(s,a,h),s=s.sibling}function gh(s,a,h){var y=s.tag;if(y===5||y===6)s=s.stateNode,a?h.insertBefore(s,a):h.appendChild(s);else if(y!==4&&(s=s.child,s!==null))for(gh(s,a,h),s=s.sibling;s!==null;)gh(s,a,h),s=s.sibling}var vn=null,Sr=!1;function Lo(s,a,h){for(h=h.child;h!==null;)x0(s,a,h),h=h.sibling}function x0(s,a,h){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(mi,h)}catch{}switch(h.tag){case 5:En||Ss(h,a);case 6:var y=vn,N=Sr;vn=null,Lo(s,a,h),vn=y,Sr=N,vn!==null&&(Sr?(s=vn,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):vn.removeChild(h.stateNode));break;case 18:vn!==null&&(Sr?(s=vn,h=h.stateNode,s.nodeType===8?Pp(s.parentNode,h):s.nodeType===1&&Pp(s,h),Pl(s)):Pp(vn,h.stateNode));break;case 4:y=vn,N=Sr,vn=h.stateNode.containerInfo,Sr=!0,Lo(s,a,h),vn=y,Sr=N;break;case 0:case 11:case 14:case 15:if(!En&&(y=h.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){N=y=y.next;do{var j=N,L=j.destroy;j=j.tag,L!==void 0&&((j&2)!==0||(j&4)!==0)&&ph(h,a,L),N=N.next}while(N!==y)}Lo(s,a,h);break;case 1:if(!En&&(Ss(h,a),y=h.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=h.memoizedProps,y.state=h.memoizedState,y.componentWillUnmount()}catch(ee){Xt(h,a,ee)}Lo(s,a,h);break;case 21:Lo(s,a,h);break;case 22:h.mode&1?(En=(y=En)||h.memoizedState!==null,Lo(s,a,h),En=y):Lo(s,a,h);break;default:Lo(s,a,h)}}function y0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new ZP),a.forEach(function(y){var N=cA.bind(null,s,y);h.has(y)||(h.add(y),y.then(N,N))})}}function kr(s,a){var h=a.deletions;if(h!==null)for(var y=0;y<h.length;y++){var N=h[y];try{var j=s,L=a,ee=L;e:for(;ee!==null;){switch(ee.tag){case 5:vn=ee.stateNode,Sr=!1;break e;case 3:vn=ee.stateNode.containerInfo,Sr=!0;break e;case 4:vn=ee.stateNode.containerInfo,Sr=!0;break e}ee=ee.return}if(vn===null)throw Error(n(160));x0(j,L,N),vn=null,Sr=!1;var ne=N.alternate;ne!==null&&(ne.return=null),N.return=null}catch(ce){Xt(N,a,ce)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)v0(a,s),a=a.sibling}function v0(s,a){var h=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(kr(a,s),Wr(s),y&4){try{Ql(3,s,s.return),yu(3,s)}catch(Ve){Xt(s,s.return,Ve)}try{Ql(5,s,s.return)}catch(Ve){Xt(s,s.return,Ve)}}break;case 1:kr(a,s),Wr(s),y&512&&h!==null&&Ss(h,h.return);break;case 5:if(kr(a,s),Wr(s),y&512&&h!==null&&Ss(h,h.return),s.flags&32){var N=s.stateNode;try{Xe(N,"")}catch(Ve){Xt(s,s.return,Ve)}}if(y&4&&(N=s.stateNode,N!=null)){var j=s.memoizedProps,L=h!==null?h.memoizedProps:j,ee=s.type,ne=s.updateQueue;if(s.updateQueue=null,ne!==null)try{ee==="input"&&j.type==="radio"&&j.name!=null&&Me(N,j),Pt(ee,L);var ce=Pt(ee,j);for(L=0;L<ne.length;L+=2){var ve=ne[L],we=ne[L+1];ve==="style"?It(N,we):ve==="dangerouslySetInnerHTML"?je(N,we):ve==="children"?Xe(N,we):C(N,ve,we,ce)}switch(ee){case"input":ot(N,j);break;case"textarea":Et(N,j);break;case"select":var xe=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!j.multiple;var _e=j.value;_e!=null?We(N,!!j.multiple,_e,!1):xe!==!!j.multiple&&(j.defaultValue!=null?We(N,!!j.multiple,j.defaultValue,!0):We(N,!!j.multiple,j.multiple?[]:"",!1))}N[Fl]=j}catch(Ve){Xt(s,s.return,Ve)}}break;case 6:if(kr(a,s),Wr(s),y&4){if(s.stateNode===null)throw Error(n(162));N=s.stateNode,j=s.memoizedProps;try{N.nodeValue=j}catch(Ve){Xt(s,s.return,Ve)}}break;case 3:if(kr(a,s),Wr(s),y&4&&h!==null&&h.memoizedState.isDehydrated)try{Pl(a.containerInfo)}catch(Ve){Xt(s,s.return,Ve)}break;case 4:kr(a,s),Wr(s);break;case 13:kr(a,s),Wr(s),N=s.child,N.flags&8192&&(j=N.memoizedState!==null,N.stateNode.isHidden=j,!j||N.alternate!==null&&N.alternate.memoizedState!==null||(vh=Ut())),y&4&&y0(s);break;case 22:if(ve=h!==null&&h.memoizedState!==null,s.mode&1?(En=(ce=En)||ve,kr(a,s),En=ce):kr(a,s),Wr(s),y&8192){if(ce=s.memoizedState!==null,(s.stateNode.isHidden=ce)&&!ve&&(s.mode&1)!==0)for(Ie=s,ve=s.child;ve!==null;){for(we=Ie=ve;Ie!==null;){switch(xe=Ie,_e=xe.child,xe.tag){case 0:case 11:case 14:case 15:Ql(4,xe,xe.return);break;case 1:Ss(xe,xe.return);var Le=xe.stateNode;if(typeof Le.componentWillUnmount=="function"){y=xe,h=xe.return;try{a=y,Le.props=a.memoizedProps,Le.state=a.memoizedState,Le.componentWillUnmount()}catch(Ve){Xt(y,h,Ve)}}break;case 5:Ss(xe,xe.return);break;case 22:if(xe.memoizedState!==null){S0(we);continue}}_e!==null?(_e.return=xe,Ie=_e):S0(we)}ve=ve.sibling}e:for(ve=null,we=s;;){if(we.tag===5){if(ve===null){ve=we;try{N=we.stateNode,ce?(j=N.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(ee=we.stateNode,ne=we.memoizedProps.style,L=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,ee.style.display=Ct("display",L))}catch(Ve){Xt(s,s.return,Ve)}}}else if(we.tag===6){if(ve===null)try{we.stateNode.nodeValue=ce?"":we.memoizedProps}catch(Ve){Xt(s,s.return,Ve)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===s)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===s)break e;for(;we.sibling===null;){if(we.return===null||we.return===s)break e;ve===we&&(ve=null),we=we.return}ve===we&&(ve=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:kr(a,s),Wr(s),y&4&&y0(s);break;case 21:break;default:kr(a,s),Wr(s)}}function Wr(s){var a=s.flags;if(a&2){try{e:{for(var h=s.return;h!==null;){if(m0(h)){var y=h;break e}h=h.return}throw Error(n(160))}switch(y.tag){case 5:var N=y.stateNode;y.flags&32&&(Xe(N,""),y.flags&=-33);var j=g0(s);gh(s,j,N);break;case 3:case 4:var L=y.stateNode.containerInfo,ee=g0(s);mh(s,ee,L);break;default:throw Error(n(161))}}catch(ne){Xt(s,s.return,ne)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function tA(s,a,h){Ie=s,w0(s)}function w0(s,a,h){for(var y=(s.mode&1)!==0;Ie!==null;){var N=Ie,j=N.child;if(N.tag===22&&y){var L=N.memoizedState!==null||xu;if(!L){var ee=N.alternate,ne=ee!==null&&ee.memoizedState!==null||En;ee=xu;var ce=En;if(xu=L,(En=ne)&&!ce)for(Ie=N;Ie!==null;)L=Ie,ne=L.child,L.tag===22&&L.memoizedState!==null?k0(N):ne!==null?(ne.return=L,Ie=ne):k0(N);for(;j!==null;)Ie=j,w0(j),j=j.sibling;Ie=N,xu=ee,En=ce}b0(s)}else(N.subtreeFlags&8772)!==0&&j!==null?(j.return=N,Ie=j):b0(s)}}function b0(s){for(;Ie!==null;){var a=Ie;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:En||yu(5,a);break;case 1:var y=a.stateNode;if(a.flags&4&&!En)if(h===null)y.componentDidMount();else{var N=a.elementType===a.type?h.memoizedProps:br(a.type,h.memoizedProps);y.componentDidUpdate(N,h.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var j=a.updateQueue;j!==null&&Sv(a,j,y);break;case 3:var L=a.updateQueue;if(L!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}Sv(a,L,h)}break;case 5:var ee=a.stateNode;if(h===null&&a.flags&4){h=ee;var ne=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&h.focus();break;case"img":ne.src&&(h.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ce=a.alternate;if(ce!==null){var ve=ce.memoizedState;if(ve!==null){var we=ve.dehydrated;we!==null&&Pl(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}En||a.flags&512&&hh(a)}catch(xe){Xt(a,a.return,xe)}}if(a===s){Ie=null;break}if(h=a.sibling,h!==null){h.return=a.return,Ie=h;break}Ie=a.return}}function S0(s){for(;Ie!==null;){var a=Ie;if(a===s){Ie=null;break}var h=a.sibling;if(h!==null){h.return=a.return,Ie=h;break}Ie=a.return}}function k0(s){for(;Ie!==null;){var a=Ie;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{yu(4,a)}catch(ne){Xt(a,h,ne)}break;case 1:var y=a.stateNode;if(typeof y.componentDidMount=="function"){var N=a.return;try{y.componentDidMount()}catch(ne){Xt(a,N,ne)}}var j=a.return;try{hh(a)}catch(ne){Xt(a,j,ne)}break;case 5:var L=a.return;try{hh(a)}catch(ne){Xt(a,L,ne)}}}catch(ne){Xt(a,a.return,ne)}if(a===s){Ie=null;break}var ee=a.sibling;if(ee!==null){ee.return=a.return,Ie=ee;break}Ie=a.return}}var nA=Math.ceil,vu=_.ReactCurrentDispatcher,xh=_.ReactCurrentOwner,pr=_.ReactCurrentBatchConfig,kt=0,on=null,Kt=null,wn=0,Jn=0,ks=Io(0),tn=0,Jl=null,Ci=0,wu=0,yh=0,Zl=null,Vn=null,vh=0,Cs=1/0,ho=null,bu=!1,wh=null,zo=null,Su=!1,$o=null,ku=0,ea=0,bh=null,Cu=-1,Nu=0;function Rn(){return(kt&6)!==0?Ut():Cu!==-1?Cu:Cu=Ut()}function Fo(s){return(s.mode&1)===0?1:(kt&2)!==0&&wn!==0?wn&-wn:$P.transition!==null?(Nu===0&&(Nu=rs()),Nu):(s=At,s!==0||(s=window.event,s=s===void 0?16:Ny(s.type)),s)}function Cr(s,a,h,y){if(50<ea)throw ea=0,bh=null,Error(n(185));gi(s,h,y),((kt&2)===0||s!==on)&&(s===on&&((kt&2)===0&&(wu|=h),tn===4&&Bo(s,wn)),Hn(s,y),h===1&&kt===0&&(a.mode&1)===0&&(Cs=Ut()+500,Zc&&Mo()))}function Hn(s,a){var h=s.callbackNode;np(s,a);var y=ns(s,s===on?wn:0);if(y===0)h!==null&&Pc(h),s.callbackNode=null,s.callbackPriority=0;else if(a=y&-y,s.callbackPriority!==a){if(h!=null&&Pc(h),a===1)s.tag===0?zP(N0.bind(null,s)):uv(N0.bind(null,s)),MP(function(){(kt&6)===0&&Mo()}),h=null;else{switch(xy(y)){case 1:h=Sl;break;case 4:h=Tc;break;case 16:h=Zi;break;case 536870912:h=Ic;break;default:h=Zi}h=R0(h,C0.bind(null,s))}s.callbackPriority=a,s.callbackNode=h}}function C0(s,a){if(Cu=-1,Nu=0,(kt&6)!==0)throw Error(n(327));var h=s.callbackNode;if(Ns()&&s.callbackNode!==h)return null;var y=ns(s,s===on?wn:0);if(y===0)return null;if((y&30)!==0||(y&s.expiredLanes)!==0||a)a=Eu(s,y);else{a=y;var N=kt;kt|=2;var j=j0();(on!==s||wn!==a)&&(ho=null,Cs=Ut()+500,Ei(s,a));do try{iA();break}catch(ee){E0(s,ee)}while(!0);$p(),vu.current=j,kt=N,Kt!==null?a=0:(on=null,wn=0,a=tn)}if(a!==0){if(a===2&&(N=kl(s),N!==0&&(y=N,a=Sh(s,N))),a===1)throw h=Jl,Ei(s,0),Bo(s,y),Hn(s,Ut()),h;if(a===6)Bo(s,y);else{if(N=s.current.alternate,(y&30)===0&&!rA(N)&&(a=Eu(s,y),a===2&&(j=kl(s),j!==0&&(y=j,a=Sh(s,j))),a===1))throw h=Jl,Ei(s,0),Bo(s,y),Hn(s,Ut()),h;switch(s.finishedWork=N,s.finishedLanes=y,a){case 0:case 1:throw Error(n(345));case 2:ji(s,Vn,ho);break;case 3:if(Bo(s,y),(y&130023424)===y&&(a=vh+500-Ut(),10<a)){if(ns(s,0)!==0)break;if(N=s.suspendedLanes,(N&y)!==y){Rn(),s.pingedLanes|=s.suspendedLanes&N;break}s.timeoutHandle=_p(ji.bind(null,s,Vn,ho),a);break}ji(s,Vn,ho);break;case 4:if(Bo(s,y),(y&4194240)===y)break;for(a=s.eventTimes,N=-1;0<y;){var L=31-qn(y);j=1<<L,L=a[L],L>N&&(N=L),y&=~j}if(y=N,y=Ut()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*nA(y/1960))-y,10<y){s.timeoutHandle=_p(ji.bind(null,s,Vn,ho),y);break}ji(s,Vn,ho);break;case 5:ji(s,Vn,ho);break;default:throw Error(n(329))}}}return Hn(s,Ut()),s.callbackNode===h?C0.bind(null,s):null}function Sh(s,a){var h=Zl;return s.current.memoizedState.isDehydrated&&(Ei(s,a).flags|=256),s=Eu(s,a),s!==2&&(a=Vn,Vn=h,a!==null&&kh(a)),s}function kh(s){Vn===null?Vn=s:Vn.push.apply(Vn,s)}function rA(s){for(var a=s;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var y=0;y<h.length;y++){var N=h[y],j=N.getSnapshot;N=N.value;try{if(!vr(j(),N))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Bo(s,a){for(a&=~yh,a&=~wu,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var h=31-qn(a),y=1<<h;s[h]=-1,a&=~y}}function N0(s){if((kt&6)!==0)throw Error(n(327));Ns();var a=ns(s,0);if((a&1)===0)return Hn(s,Ut()),null;var h=Eu(s,a);if(s.tag!==0&&h===2){var y=kl(s);y!==0&&(a=y,h=Sh(s,y))}if(h===1)throw h=Jl,Ei(s,0),Bo(s,a),Hn(s,Ut()),h;if(h===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,ji(s,Vn,ho),Hn(s,Ut()),null}function Ch(s,a){var h=kt;kt|=1;try{return s(a)}finally{kt=h,kt===0&&(Cs=Ut()+500,Zc&&Mo())}}function Ni(s){$o!==null&&$o.tag===0&&(kt&6)===0&&Ns();var a=kt;kt|=1;var h=pr.transition,y=At;try{if(pr.transition=null,At=1,s)return s()}finally{At=y,pr.transition=h,kt=a,(kt&6)===0&&Mo()}}function Nh(){Jn=ks.current,Ft(ks)}function Ei(s,a){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,RP(h)),Kt!==null)for(h=Kt.return;h!==null;){var y=h;switch(Mp(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Qc();break;case 3:ws(),Ft($n),Ft(kn),Xp();break;case 5:Wp(y);break;case 4:ws();break;case 13:Ft(Wt);break;case 19:Ft(Wt);break;case 10:Fp(y.type._context);break;case 22:case 23:Nh()}h=h.return}if(on=s,Kt=s=Vo(s.current,null),wn=Jn=a,tn=0,Jl=null,yh=wu=Ci=0,Vn=Zl=null,bi!==null){for(a=0;a<bi.length;a++)if(h=bi[a],y=h.interleaved,y!==null){h.interleaved=null;var N=y.next,j=h.pending;if(j!==null){var L=j.next;j.next=N,y.next=L}h.pending=y}bi=null}return s}function E0(s,a){do{var h=Kt;try{if($p(),cu.current=pu,uu){for(var y=Yt.memoizedState;y!==null;){var N=y.queue;N!==null&&(N.pending=null),y=y.next}uu=!1}if(ki=0,rn=en=Yt=null,Yl=!1,Xl=0,xh.current=null,h===null||h.return===null){tn=1,Jl=a,Kt=null;break}e:{var j=s,L=h.return,ee=h,ne=a;if(a=wn,ee.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ce=ne,ve=ee,we=ve.tag;if((ve.mode&1)===0&&(we===0||we===11||we===15)){var xe=ve.alternate;xe?(ve.updateQueue=xe.updateQueue,ve.memoizedState=xe.memoizedState,ve.lanes=xe.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var _e=Qv(L);if(_e!==null){_e.flags&=-257,Jv(_e,L,ee,j,a),_e.mode&1&&Kv(j,ce,a),a=_e,ne=ce;var Le=a.updateQueue;if(Le===null){var Ve=new Set;Ve.add(ne),a.updateQueue=Ve}else Le.add(ne);break e}else{if((a&1)===0){Kv(j,ce,a),Eh();break e}ne=Error(n(426))}}else if(Vt&&ee.mode&1){var Gt=Qv(L);if(Gt!==null){(Gt.flags&65536)===0&&(Gt.flags|=256),Jv(Gt,L,ee,j,a),Lp(bs(ne,ee));break e}}j=ne=bs(ne,ee),tn!==4&&(tn=2),Zl===null?Zl=[j]:Zl.push(j),j=L;do{switch(j.tag){case 3:j.flags|=65536,a&=-a,j.lanes|=a;var se=qv(j,ne,a);bv(j,se);break e;case 1:ee=ne;var oe=j.type,ae=j.stateNode;if((j.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(zo===null||!zo.has(ae)))){j.flags|=65536,a&=-a,j.lanes|=a;var Se=Gv(j,ee,a);bv(j,Se);break e}}j=j.return}while(j!==null)}P0(h)}catch(He){a=He,Kt===h&&h!==null&&(Kt=h=h.return);continue}break}while(!0)}function j0(){var s=vu.current;return vu.current=pu,s===null?pu:s}function Eh(){(tn===0||tn===3||tn===2)&&(tn=4),on===null||(Ci&268435455)===0&&(wu&268435455)===0||Bo(on,wn)}function Eu(s,a){var h=kt;kt|=2;var y=j0();(on!==s||wn!==a)&&(ho=null,Ei(s,a));do try{oA();break}catch(N){E0(s,N)}while(!0);if($p(),kt=h,vu.current=y,Kt!==null)throw Error(n(261));return on=null,wn=0,tn}function oA(){for(;Kt!==null;)_0(Kt)}function iA(){for(;Kt!==null&&!Gf();)_0(Kt)}function _0(s){var a=I0(s.alternate,s,Jn);s.memoizedProps=s.pendingProps,a===null?P0(s):Kt=a,xh.current=null}function P0(s){var a=s;do{var h=a.alternate;if(s=a.return,(a.flags&32768)===0){if(h=QP(h,a,Jn),h!==null){Kt=h;return}}else{if(h=JP(h,a),h!==null){h.flags&=32767,Kt=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{tn=6,Kt=null;return}}if(a=a.sibling,a!==null){Kt=a;return}Kt=a=s}while(a!==null);tn===0&&(tn=5)}function ji(s,a,h){var y=At,N=pr.transition;try{pr.transition=null,At=1,sA(s,a,h,y)}finally{pr.transition=N,At=y}return null}function sA(s,a,h,y){do Ns();while($o!==null);if((kt&6)!==0)throw Error(n(327));h=s.finishedWork;var N=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var j=h.lanes|h.childLanes;if(Mc(s,j),s===on&&(Kt=on=null,wn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Su||(Su=!0,R0(Zi,function(){return Ns(),null})),j=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||j){j=pr.transition,pr.transition=null;var L=At;At=1;var ee=kt;kt|=4,xh.current=null,eA(s,h),v0(h,s),EP(Ep),Lc=!!Np,Ep=Np=null,s.current=h,tA(h),Ac(),kt=ee,At=L,pr.transition=j}else s.current=h;if(Su&&(Su=!1,$o=s,ku=N),j=s.pendingLanes,j===0&&(zo=null),Jf(h.stateNode),Hn(s,Ut()),a!==null)for(y=s.onRecoverableError,h=0;h<a.length;h++)N=a[h],y(N.value,{componentStack:N.stack,digest:N.digest});if(bu)throw bu=!1,s=wh,wh=null,s;return(ku&1)!==0&&s.tag!==0&&Ns(),j=s.pendingLanes,(j&1)!==0?s===bh?ea++:(ea=0,bh=s):ea=0,Mo(),null}function Ns(){if($o!==null){var s=xy(ku),a=pr.transition,h=At;try{if(pr.transition=null,At=16>s?16:s,$o===null)var y=!1;else{if(s=$o,$o=null,ku=0,(kt&6)!==0)throw Error(n(331));var N=kt;for(kt|=4,Ie=s.current;Ie!==null;){var j=Ie,L=j.child;if((Ie.flags&16)!==0){var ee=j.deletions;if(ee!==null){for(var ne=0;ne<ee.length;ne++){var ce=ee[ne];for(Ie=ce;Ie!==null;){var ve=Ie;switch(ve.tag){case 0:case 11:case 15:Ql(8,ve,j)}var we=ve.child;if(we!==null)we.return=ve,Ie=we;else for(;Ie!==null;){ve=Ie;var xe=ve.sibling,_e=ve.return;if(h0(ve),ve===ce){Ie=null;break}if(xe!==null){xe.return=_e,Ie=xe;break}Ie=_e}}}var Le=j.alternate;if(Le!==null){var Ve=Le.child;if(Ve!==null){Le.child=null;do{var Gt=Ve.sibling;Ve.sibling=null,Ve=Gt}while(Ve!==null)}}Ie=j}}if((j.subtreeFlags&2064)!==0&&L!==null)L.return=j,Ie=L;else e:for(;Ie!==null;){if(j=Ie,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Ql(9,j,j.return)}var se=j.sibling;if(se!==null){se.return=j.return,Ie=se;break e}Ie=j.return}}var oe=s.current;for(Ie=oe;Ie!==null;){L=Ie;var ae=L.child;if((L.subtreeFlags&2064)!==0&&ae!==null)ae.return=L,Ie=ae;else e:for(L=oe;Ie!==null;){if(ee=Ie,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:yu(9,ee)}}catch(He){Xt(ee,ee.return,He)}if(ee===L){Ie=null;break e}var Se=ee.sibling;if(Se!==null){Se.return=ee.return,Ie=Se;break e}Ie=ee.return}}if(kt=N,Mo(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(mi,s)}catch{}y=!0}return y}finally{At=h,pr.transition=a}}return!1}function A0(s,a,h){a=bs(h,a),a=qv(s,a,1),s=Oo(s,a,1),a=Rn(),s!==null&&(gi(s,1,a),Hn(s,a))}function Xt(s,a,h){if(s.tag===3)A0(s,s,h);else for(;a!==null;){if(a.tag===3){A0(a,s,h);break}else if(a.tag===1){var y=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(zo===null||!zo.has(y))){s=bs(h,s),s=Gv(a,s,1),a=Oo(a,s,1),s=Rn(),a!==null&&(gi(a,1,s),Hn(a,s));break}}a=a.return}}function lA(s,a,h){var y=s.pingCache;y!==null&&y.delete(a),a=Rn(),s.pingedLanes|=s.suspendedLanes&h,on===s&&(wn&h)===h&&(tn===4||tn===3&&(wn&130023424)===wn&&500>Ut()-vh?Ei(s,0):yh|=h),Hn(s,a)}function T0(s,a){a===0&&((s.mode&1)===0?a=1:(a=ts,ts<<=1,(ts&130023424)===0&&(ts=4194304)));var h=Rn();s=uo(s,a),s!==null&&(gi(s,a,h),Hn(s,h))}function aA(s){var a=s.memoizedState,h=0;a!==null&&(h=a.retryLane),T0(s,h)}function cA(s,a){var h=0;switch(s.tag){case 13:var y=s.stateNode,N=s.memoizedState;N!==null&&(h=N.retryLane);break;case 19:y=s.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(a),T0(s,h)}var I0;I0=function(s,a,h){if(s!==null)if(s.memoizedProps!==a.pendingProps||$n.current)Bn=!0;else{if((s.lanes&h)===0&&(a.flags&128)===0)return Bn=!1,KP(s,a,h);Bn=(s.flags&131072)!==0}else Bn=!1,Vt&&(a.flags&1048576)!==0&&dv(a,tu,a.index);switch(a.lanes=0,a.tag){case 2:var y=a.type;gu(s,a),s=a.pendingProps;var N=ps(a,kn.current);vs(a,h),N=Kp(null,a,y,s,N,h);var j=Qp();return a.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Fn(y)?(j=!0,Jc(a)):j=!1,a.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Hp(a),N.updater=hu,a.stateNode=N,N._reactInternals=a,rh(a,y,s,h),a=lh(null,a,y,!0,j,h)):(a.tag=0,Vt&&j&&Rp(a),In(null,a,N,h),a=a.child),a;case 16:y=a.elementType;e:{switch(gu(s,a),s=a.pendingProps,N=y._init,y=N(y._payload),a.type=y,N=a.tag=dA(y),s=br(y,s),N){case 0:a=sh(null,a,y,s,h);break e;case 1:a=o0(null,a,y,s,h);break e;case 11:a=Zv(null,a,y,s,h);break e;case 14:a=e0(null,a,y,br(y.type,s),h);break e}throw Error(n(306,y,""))}return a;case 0:return y=a.type,N=a.pendingProps,N=a.elementType===y?N:br(y,N),sh(s,a,y,N,h);case 1:return y=a.type,N=a.pendingProps,N=a.elementType===y?N:br(y,N),o0(s,a,y,N,h);case 3:e:{if(i0(a),s===null)throw Error(n(387));y=a.pendingProps,j=a.memoizedState,N=j.element,wv(s,a),lu(a,y,null,h);var L=a.memoizedState;if(y=L.element,j.isDehydrated)if(j={element:y,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},a.updateQueue.baseState=j,a.memoizedState=j,a.flags&256){N=bs(Error(n(423)),a),a=s0(s,a,y,h,N);break e}else if(y!==N){N=bs(Error(n(424)),a),a=s0(s,a,y,h,N);break e}else for(Qn=To(a.stateNode.containerInfo.firstChild),Kn=a,Vt=!0,wr=null,h=yv(a,null,y,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(gs(),y===N){a=po(s,a,h);break e}In(s,a,y,h)}a=a.child}return a;case 5:return kv(a),s===null&&Op(a),y=a.type,N=a.pendingProps,j=s!==null?s.memoizedProps:null,L=N.children,jp(y,N)?L=null:j!==null&&jp(y,j)&&(a.flags|=32),r0(s,a),In(s,a,L,h),a.child;case 6:return s===null&&Op(a),null;case 13:return l0(s,a,h);case 4:return Up(a,a.stateNode.containerInfo),y=a.pendingProps,s===null?a.child=xs(a,null,y,h):In(s,a,y,h),a.child;case 11:return y=a.type,N=a.pendingProps,N=a.elementType===y?N:br(y,N),Zv(s,a,y,N,h);case 7:return In(s,a,a.pendingProps,h),a.child;case 8:return In(s,a,a.pendingProps.children,h),a.child;case 12:return In(s,a,a.pendingProps.children,h),a.child;case 10:e:{if(y=a.type._context,N=a.pendingProps,j=a.memoizedProps,L=N.value,Ot(ou,y._currentValue),y._currentValue=L,j!==null)if(vr(j.value,L)){if(j.children===N.children&&!$n.current){a=po(s,a,h);break e}}else for(j=a.child,j!==null&&(j.return=a);j!==null;){var ee=j.dependencies;if(ee!==null){L=j.child;for(var ne=ee.firstContext;ne!==null;){if(ne.context===y){if(j.tag===1){ne=fo(-1,h&-h),ne.tag=2;var ce=j.updateQueue;if(ce!==null){ce=ce.shared;var ve=ce.pending;ve===null?ne.next=ne:(ne.next=ve.next,ve.next=ne),ce.pending=ne}}j.lanes|=h,ne=j.alternate,ne!==null&&(ne.lanes|=h),Bp(j.return,h,a),ee.lanes|=h;break}ne=ne.next}}else if(j.tag===10)L=j.type===a.type?null:j.child;else if(j.tag===18){if(L=j.return,L===null)throw Error(n(341));L.lanes|=h,ee=L.alternate,ee!==null&&(ee.lanes|=h),Bp(L,h,a),L=j.sibling}else L=j.child;if(L!==null)L.return=j;else for(L=j;L!==null;){if(L===a){L=null;break}if(j=L.sibling,j!==null){j.return=L.return,L=j;break}L=L.return}j=L}In(s,a,N.children,h),a=a.child}return a;case 9:return N=a.type,y=a.pendingProps.children,vs(a,h),N=dr(N),y=y(N),a.flags|=1,In(s,a,y,h),a.child;case 14:return y=a.type,N=br(y,a.pendingProps),N=br(y.type,N),e0(s,a,y,N,h);case 15:return t0(s,a,a.type,a.pendingProps,h);case 17:return y=a.type,N=a.pendingProps,N=a.elementType===y?N:br(y,N),gu(s,a),a.tag=1,Fn(y)?(s=!0,Jc(a)):s=!1,vs(a,h),Yv(a,y,N),rh(a,y,N,h),lh(null,a,y,!0,s,h);case 19:return c0(s,a,h);case 22:return n0(s,a,h)}throw Error(n(156,a.tag))};function R0(s,a){return _c(s,a)}function uA(s,a,h,y){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(s,a,h,y){return new uA(s,a,h,y)}function jh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function dA(s){if(typeof s=="function")return jh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===X)return 11;if(s===O)return 14}return 2}function Vo(s,a){var h=s.alternate;return h===null?(h=hr(s.tag,a,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=a,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,a=s.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function ju(s,a,h,y,N,j){var L=2;if(y=s,typeof s=="function")jh(s)&&(L=1);else if(typeof s=="string")L=5;else e:switch(s){case I:return _i(h.children,N,j,a);case F:L=8,N|=8;break;case W:return s=hr(12,h,a,N|2),s.elementType=W,s.lanes=j,s;case G:return s=hr(13,h,a,N),s.elementType=G,s.lanes=j,s;case A:return s=hr(19,h,a,N),s.elementType=A,s.lanes=j,s;case q:return _u(h,N,j,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:L=10;break e;case B:L=9;break e;case X:L=11;break e;case O:L=14;break e;case $:L=16,y=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=hr(L,h,a,N),a.elementType=s,a.type=y,a.lanes=j,a}function _i(s,a,h,y){return s=hr(7,s,y,a),s.lanes=h,s}function _u(s,a,h,y){return s=hr(22,s,y,a),s.elementType=q,s.lanes=h,s.stateNode={isHidden:!1},s}function _h(s,a,h){return s=hr(6,s,null,a),s.lanes=h,s}function Ph(s,a,h){return a=hr(4,s.children!==null?s.children:[],s.key,a),a.lanes=h,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function fA(s,a,h,y,N){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=y,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Ah(s,a,h,y,N,j,L,ee,ne){return s=new fA(s,a,h,ee,ne),a===1?(a=1,j===!0&&(a|=8)):a=0,j=hr(3,null,null,a),s.current=j,j.stateNode=s,j.memoizedState={element:y,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hp(j),s}function pA(s,a,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:y==null?null:""+y,children:s,containerInfo:a,implementation:h}}function M0(s){if(!s)return Ro;s=s._reactInternals;e:{if(Fr(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Fn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var h=s.type;if(Fn(h))return av(s,h,a)}return a}function D0(s,a,h,y,N,j,L,ee,ne){return s=Ah(h,y,!0,s,N,j,L,ee,ne),s.context=M0(null),h=s.current,y=Rn(),N=Fo(h),j=fo(y,N),j.callback=a??null,Oo(h,j,N),s.current.lanes=N,gi(s,N,y),Hn(s,y),s}function Pu(s,a,h,y){var N=a.current,j=Rn(),L=Fo(N);return h=M0(h),a.context===null?a.context=h:a.pendingContext=h,a=fo(j,L),a.payload={element:s},y=y===void 0?null:y,y!==null&&(a.callback=y),s=Oo(N,a,L),s!==null&&(Cr(s,N,L,j),su(s,N,L)),L}function Au(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function O0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<a?h:a}}function Th(s,a){O0(s,a),(s=s.alternate)&&O0(s,a)}function hA(){return null}var L0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ih(s){this._internalRoot=s}Tu.prototype.render=Ih.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Pu(s,a,null,null)},Tu.prototype.unmount=Ih.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ni(function(){Pu(null,s,null,null)}),a[so]=null}};function Tu(s){this._internalRoot=s}Tu.prototype.unstable_scheduleHydration=function(s){if(s){var a=wy();s={blockedOn:null,target:s,priority:a};for(var h=0;h<_o.length&&a!==0&&a<_o[h].priority;h++);_o.splice(h,0,s),h===0&&ky(s)}};function Rh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Iu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function z0(){}function mA(s,a,h,y,N){if(N){if(typeof y=="function"){var j=y;y=function(){var ce=Au(L);j.call(ce)}}var L=D0(a,y,s,0,null,!1,!1,"",z0);return s._reactRootContainer=L,s[so]=L.current,zl(s.nodeType===8?s.parentNode:s),Ni(),L}for(;N=s.lastChild;)s.removeChild(N);if(typeof y=="function"){var ee=y;y=function(){var ce=Au(ne);ee.call(ce)}}var ne=Ah(s,0,!1,null,null,!1,!1,"",z0);return s._reactRootContainer=ne,s[so]=ne.current,zl(s.nodeType===8?s.parentNode:s),Ni(function(){Pu(a,ne,h,y)}),ne}function Ru(s,a,h,y,N){var j=h._reactRootContainer;if(j){var L=j;if(typeof N=="function"){var ee=N;N=function(){var ne=Au(L);ee.call(ne)}}Pu(a,L,s,N)}else L=mA(h,a,s,N,y);return Au(L)}yy=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var h=Br(a.pendingLanes);h!==0&&(rp(a,h|1),Hn(a,Ut()),(kt&6)===0&&(Cs=Ut()+500,Mo()))}break;case 13:Ni(function(){var y=uo(s,1);if(y!==null){var N=Rn();Cr(y,s,1,N)}}),Th(s,1)}},op=function(s){if(s.tag===13){var a=uo(s,134217728);if(a!==null){var h=Rn();Cr(a,s,134217728,h)}Th(s,134217728)}},vy=function(s){if(s.tag===13){var a=Fo(s),h=uo(s,a);if(h!==null){var y=Rn();Cr(h,s,a,y)}Th(s,a)}},wy=function(){return At},by=function(s,a){var h=At;try{return At=s,a()}finally{At=h}},re=function(s,a,h){switch(a){case"input":if(ot(s,h),a=h.name,h.type==="radio"&&a!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var y=h[a];if(y!==s&&y.form===s.form){var N=Kc(y);if(!N)throw Error(n(90));de(y),ot(y,N)}}}break;case"textarea":Et(s,h);break;case"select":a=h.value,a!=null&&We(s,!!h.multiple,a,!1)}},Oe=Ch,Ge=Ni;var gA={usingClientEntryPoint:!1,Events:[Bl,ds,Kc,Ze,Fe,Ch]},ta={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xA={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ec(s),s===null?null:s.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance||hA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{mi=Mu.inject(xA),ar=Mu}catch{}}return Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gA,Un.createPortal=function(s,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rh(a))throw Error(n(200));return pA(s,a,null,h)},Un.createRoot=function(s,a){if(!Rh(s))throw Error(n(299));var h=!1,y="",N=L0;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),a=Ah(s,1,!1,null,null,h,!1,y,N),s[so]=a.current,zl(s.nodeType===8?s.parentNode:s),new Ih(a)},Un.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ec(a),s=s===null?null:s.stateNode,s},Un.flushSync=function(s){return Ni(s)},Un.hydrate=function(s,a,h){if(!Iu(a))throw Error(n(200));return Ru(null,s,a,!0,h)},Un.hydrateRoot=function(s,a,h){if(!Rh(s))throw Error(n(405));var y=h!=null&&h.hydratedSources||null,N=!1,j="",L=L0;if(h!=null&&(h.unstable_strictMode===!0&&(N=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onRecoverableError!==void 0&&(L=h.onRecoverableError)),a=D0(a,null,s,1,h??null,N,!1,j,L),s[so]=a.current,zl(s),y)for(s=0;s<y.length;s++)h=y[s],N=h._getVersion,N=N(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,N]:a.mutableSourceEagerHydrationData.push(h,N);return new Tu(a)},Un.render=function(s,a,h){if(!Iu(a))throw Error(n(200));return Ru(null,s,a,!1,h)},Un.unmountComponentAtNode=function(s){if(!Iu(s))throw Error(n(40));return s._reactRootContainer?(Ni(function(){Ru(null,null,s,!1,function(){s._reactRootContainer=null,s[so]=null})}),!0):!1},Un.unstable_batchedUpdates=Ch,Un.unstable_renderSubtreeIntoContainer=function(s,a,h,y){if(!Iu(h))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Ru(s,a,h,!1,y)},Un.version="18.3.1-next-f1338f8080-20240426",Un}var Y0;function hS(){if(Y0)return Oh.exports;Y0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Oh.exports=NA(),Oh.exports}var X0;function EA(){if(X0)return Du;X0=1;var e=hS();return Du.createRoot=e.createRoot,Du.hydrateRoot=e.hydrateRoot,Du}var jA=EA();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),q0=e=>{const t=PA(e);return t.charAt(0).toUpperCase()+t.slice(1)},mS=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:l,...c},d)=>S.createElement("svg",{ref:d,...AA,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:mS("lucide",o),...c},[...l.map(([f,m])=>S.createElement(f,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(e,t)=>{const n=S.forwardRef(({className:r,...o},i)=>S.createElement(TA,{ref:i,iconNode:t,className:mS(`lucide-${_A(q0(e))}`,`lucide-${e}`,r),...o}));return n.displayName=q0(e),n};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],RA=st("arrow-down",IA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gS=st("arrow-right",MA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],OA=st("box",DA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xS=st("check",LA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Go=st("chevron-down",zA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yS=st("chevron-left",$A);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Mi=st("chevron-right",FA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],VA=st("chevron-up",BA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],vS=st("chevrons-left",HA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],wS=st("chevrons-right",UA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],YA=st("circle-help",WA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Lm=st("circle-plus",XA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bS=st("circle",qA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Og=st("clock",GA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],QA=st("database",KA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],SS=st("download",JA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],eT=st("eye-off",ZA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nT=st("eye",tT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]],oT=st("fast-forward",rT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],sT=st("file-up",iT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],aT=st("folder-open",lT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],uT=st("globe",cT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],xa=st("grip-vertical",dT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],pT=st("hash",fT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M15 12h6",key:"upa0zy"}],["path",{d:"M15 6h6",key:"1jlkvy"}],["path",{d:"m3 13 3.553-7.724a.5.5 0 0 1 .894 0L11 13",key:"blevx4"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M4 11h6",key:"olkgv1"}]],mT=st("letter-text",hT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],xT=st("network",gT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],vT=st("plane",yT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],bT=st("play",wT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kS=st("plus",ST);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],CT=st("redo-2",kT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ET=st("rotate-ccw",NT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_T=st("save",jT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],AT=st("search",PT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],IT=st("send",TT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CS=st("settings",RT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],DT=st("skip-forward",MT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],LT=st("sparkles",OT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ra=st("square-pen",zT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M4 10c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"4i38lg"}],["path",{d:"M10 16c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"mlte4a"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]],FT=st("square-stack",$T);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],NS=st("square",BT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],nr=st("trash-2",VT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],UT=st("trash",HT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],YT=st("undo-2",WT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Lg=st("upload",XT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],GT=st("x",qT),Kd=S.createContext(null);Kd.displayName="PanelGroupContext";const qt={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},zg=10,zi=S.useLayoutEffect,G0=Gd.useId,KT=typeof G0=="function"?G0:()=>null;let QT=0;function $g(e=null){const t=KT(),n=S.useRef(e||t||null);return n.current===null&&(n.current=""+QT++),e??n.current}function ES({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:o,forwardedRef:i,id:l,maxSize:c,minSize:d,onCollapse:f,onExpand:m,onResize:p,order:g,style:x,tagName:b="div",...v}){const w=S.useContext(Kd);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:k,expandPanel:E,getPanelSize:C,getPanelStyle:_,groupId:R,isPanelCollapsed:P,reevaluatePanelConstraints:I,registerPanel:F,resizePanel:W,unregisterPanel:z}=w,B=$g(l),X=S.useRef({callbacks:{onCollapse:f,onExpand:m,onResize:p},constraints:{collapsedSize:n,collapsible:r,defaultSize:o,maxSize:c,minSize:d},id:B,idIsFromProps:l!==void 0,order:g});S.useRef({didLogMissingDefaultSizeWarning:!1}),zi(()=>{const{callbacks:A,constraints:O}=X.current,$={...O};X.current.id=B,X.current.idIsFromProps=l!==void 0,X.current.order=g,A.onCollapse=f,A.onExpand=m,A.onResize=p,O.collapsedSize=n,O.collapsible=r,O.defaultSize=o,O.maxSize=c,O.minSize=d,($.collapsedSize!==O.collapsedSize||$.collapsible!==O.collapsible||$.maxSize!==O.maxSize||$.minSize!==O.minSize)&&I(X.current,$)}),zi(()=>{const A=X.current;return F(A),()=>{z(A)}},[g,B,F,z]),S.useImperativeHandle(i,()=>({collapse:()=>{k(X.current)},expand:A=>{E(X.current,A)},getId(){return B},getSize(){return C(X.current)},isCollapsed(){return P(X.current)},isExpanded(){return!P(X.current)},resize:A=>{W(X.current,A)}}),[k,E,C,P,B,W]);const G=_(X.current,o);return S.createElement(b,{...v,children:e,className:t,id:B,style:{...G,...x},[qt.groupId]:R,[qt.panel]:"",[qt.panelCollapsible]:r||void 0,[qt.panelId]:B,[qt.panelSize]:parseFloat(""+G.flexGrow).toFixed(1)})}const jS=S.forwardRef((e,t)=>S.createElement(ES,{...e,forwardedRef:t}));ES.displayName="Panel";jS.displayName="forwardRef(Panel)";let zm=null,sd=-1,Ko=null;function JT(e,t){if(t){const n=(t&IS)!==0,r=(t&RS)!==0,o=(t&MS)!==0,i=(t&DS)!==0;if(n)return o?"se-resize":i?"ne-resize":"e-resize";if(r)return o?"sw-resize":i?"nw-resize":"w-resize";if(o)return"s-resize";if(i)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function ZT(){Ko!==null&&(document.head.removeChild(Ko),zm=null,Ko=null,sd=-1)}function $h(e,t){var n,r;const o=JT(e,t);if(zm!==o){if(zm=o,Ko===null&&(Ko=document.createElement("style"),document.head.appendChild(Ko)),sd>=0){var i;(i=Ko.sheet)===null||i===void 0||i.removeRule(sd)}sd=(n=(r=Ko.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${o} !important;}`))!==null&&n!==void 0?n:-1}}function _S(e){return e.type==="keydown"}function PS(e){return e.type.startsWith("pointer")}function AS(e){return e.type.startsWith("mouse")}function Qd(e){if(PS(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(AS(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function eI(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function tI(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function nI(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:J0(e),b:J0(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;ft(r,"Stacking order can only be calculated for elements with a common ancestor");const o={a:Q0(K0(n.a)),b:Q0(K0(n.b))};if(o.a===o.b){const i=r.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)};let c=i.length;for(;c--;){const d=i[c];if(d===l.a)return 1;if(d===l.b)return-1}}return Math.sign(o.a-o.b)}const rI=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function oI(e){var t;const n=getComputedStyle((t=TS(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function iI(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||oI(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||rI.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function K0(e){let t=e.length;for(;t--;){const n=e[t];if(ft(n,"Missing node"),iI(n))return n}return null}function Q0(e){return e&&Number(getComputedStyle(e).zIndex)||0}function J0(e){const t=[];for(;e;)t.push(e),e=TS(e);return t}function TS(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const IS=1,RS=2,MS=4,DS=8,sI=eI()==="coarse";let Tr=[],Fs=!1,Di=new Map,Jd=new Map;const $a=new Set;function lI(e,t,n,r,o){var i;const{ownerDocument:l}=t,c={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:o},d=(i=Di.get(l))!==null&&i!==void 0?i:0;return Di.set(l,d+1),$a.add(c),vd(),function(){var m;Jd.delete(e),$a.delete(c);const p=(m=Di.get(l))!==null&&m!==void 0?m:1;if(Di.set(l,p-1),vd(),p===1&&Di.delete(l),Tr.includes(c)){const g=Tr.indexOf(c);g>=0&&Tr.splice(g,1),Bg(),o("up",!0,null)}}}function aI(e){const{target:t}=e,{x:n,y:r}=Qd(e);Fs=!0,Fg({target:t,x:n,y:r}),vd(),Tr.length>0&&(wd("down",e),e.preventDefault(),OS(t)||e.stopImmediatePropagation())}function Fh(e){const{x:t,y:n}=Qd(e);if(Fs&&e.buttons===0&&(Fs=!1,wd("up",e)),!Fs){const{target:r}=e;Fg({target:r,x:t,y:n})}wd("move",e),Bg(),Tr.length>0&&e.preventDefault()}function Bh(e){const{target:t}=e,{x:n,y:r}=Qd(e);Jd.clear(),Fs=!1,Tr.length>0&&(e.preventDefault(),OS(t)||e.stopImmediatePropagation()),wd("up",e),Fg({target:t,x:n,y:r}),Bg(),vd()}function OS(e){let t=e;for(;t;){if(t.hasAttribute(qt.resizeHandle))return!0;t=t.parentElement}return!1}function Fg({target:e,x:t,y:n}){Tr.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),$a.forEach(o=>{const{element:i,hitAreaMargins:l}=o,c=i.getBoundingClientRect(),{bottom:d,left:f,right:m,top:p}=c,g=sI?l.coarse:l.fine;if(t>=f-g&&t<=m+g&&n>=p-g&&n<=d+g){if(r!==null&&document.contains(r)&&i!==r&&!i.contains(r)&&!r.contains(i)&&nI(r,i)>0){let b=r,v=!1;for(;b&&!b.contains(i);){if(tI(b.getBoundingClientRect(),c)){v=!0;break}b=b.parentElement}if(v)return}Tr.push(o)}})}function Vh(e,t){Jd.set(e,t)}function Bg(){let e=!1,t=!1;Tr.forEach(r=>{const{direction:o}=r;o==="horizontal"?e=!0:t=!0});let n=0;Jd.forEach(r=>{n|=r}),e&&t?$h("intersection",n):e?$h("horizontal",n):t?$h("vertical",n):ZT()}let Hh=new AbortController;function vd(){Hh.abort(),Hh=new AbortController;const e={capture:!0,signal:Hh.signal};$a.size&&(Fs?(Tr.length>0&&Di.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("contextmenu",Bh,e),r.addEventListener("pointerleave",Fh,e),r.addEventListener("pointermove",Fh,e))}),window.addEventListener("pointerup",Bh,e),window.addEventListener("pointercancel",Bh,e)):Di.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("pointerdown",aI,e),r.addEventListener("pointermove",Fh,e))}))}function wd(e,t){$a.forEach(n=>{const{setResizeHandlerState:r}=n,o=Tr.includes(n);r(e,o,t)})}function cI(){const[e,t]=S.useState(0);return S.useCallback(()=>t(n=>n+1),[])}function ft(e,t){if(!e)throw console.error(t),Error(t)}function Bi(e,t,n=zg){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function yo(e,t,n=zg){return Bi(e,t,n)===0}function er(e,t,n){return Bi(e,t,n)===0}function uI(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const o=e[r],i=t[r];if(!er(o,i,n))return!1}return!0}function Os({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];ft(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:o=0,collapsible:i,maxSize:l=100,minSize:c=0}=r;if(Bi(n,c)<0)if(i){const d=(o+c)/2;Bi(n,d)<0?n=o:n=c}else n=c;return n=Math.min(l,n),n=parseFloat(n.toFixed(zg)),n}function ya({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:o,trigger:i}){if(er(e,0))return t;const l=[...t],[c,d]=r;ft(c!=null,"Invalid first pivot index"),ft(d!=null,"Invalid second pivot index");let f=0;if(i==="keyboard"){{const p=e<0?d:c,g=n[p];ft(g,`Panel constraints not found for index ${p}`);const{collapsedSize:x=0,collapsible:b,minSize:v=0}=g;if(b){const w=t[p];if(ft(w!=null,`Previous layout not found for panel index ${p}`),er(w,x)){const k=v-w;Bi(k,Math.abs(e))>0&&(e=e<0?0-k:k)}}}{const p=e<0?c:d,g=n[p];ft(g,`No panel constraints found for index ${p}`);const{collapsedSize:x=0,collapsible:b,minSize:v=0}=g;if(b){const w=t[p];if(ft(w!=null,`Previous layout not found for panel index ${p}`),er(w,v)){const k=w-x;Bi(k,Math.abs(e))>0&&(e=e<0?0-k:k)}}}}{const p=e<0?1:-1;let g=e<0?d:c,x=0;for(;;){const v=t[g];ft(v!=null,`Previous layout not found for panel index ${g}`);const k=Os({panelConstraints:n,panelIndex:g,size:100})-v;if(x+=k,g+=p,g<0||g>=n.length)break}const b=Math.min(Math.abs(e),Math.abs(x));e=e<0?0-b:b}{let g=e<0?c:d;for(;g>=0&&g<n.length;){const x=Math.abs(e)-Math.abs(f),b=t[g];ft(b!=null,`Previous layout not found for panel index ${g}`);const v=b-x,w=Os({panelConstraints:n,panelIndex:g,size:v});if(!er(b,w)&&(f+=b-w,l[g]=w,f.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?g--:g++}}if(uI(o,l))return o;{const p=e<0?d:c,g=t[p];ft(g!=null,`Previous layout not found for panel index ${p}`);const x=g+f,b=Os({panelConstraints:n,panelIndex:p,size:x});if(l[p]=b,!er(b,x)){let v=x-b,k=e<0?d:c;for(;k>=0&&k<n.length;){const E=l[k];ft(E!=null,`Previous layout not found for panel index ${k}`);const C=E+v,_=Os({panelConstraints:n,panelIndex:k,size:C});if(er(E,_)||(v-=_-E,l[k]=_),er(v,0))break;e>0?k--:k++}}}const m=l.reduce((p,g)=>g+p,0);return er(m,100)?l:o}function dI({layout:e,panelsArray:t,pivotIndices:n}){let r=0,o=100,i=0,l=0;const c=n[0];ft(c!=null,"No pivot index found"),t.forEach((p,g)=>{const{constraints:x}=p,{maxSize:b=100,minSize:v=0}=x;g===c?(r=v,o=b):(i+=v,l+=b)});const d=Math.min(o,100-i),f=Math.max(r,100-l),m=e[c];return{valueMax:d,valueMin:f,valueNow:m}}function Fa(e,t=document){return Array.from(t.querySelectorAll(`[${qt.resizeHandleId}][data-panel-group-id="${e}"]`))}function LS(e,t,n=document){const o=Fa(e,n).findIndex(i=>i.getAttribute(qt.resizeHandleId)===t);return o??null}function zS(e,t,n){const r=LS(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function $S(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function Zd(e,t=document){const n=t.querySelector(`[${qt.resizeHandleId}="${e}"]`);return n||null}function fI(e,t,n,r=document){var o,i,l,c;const d=Zd(t,r),f=Fa(e,r),m=d?f.indexOf(d):-1,p=(o=(i=n[m])===null||i===void 0?void 0:i.id)!==null&&o!==void 0?o:null,g=(l=(c=n[m+1])===null||c===void 0?void 0:c.id)!==null&&l!==void 0?l:null;return[p,g]}function pI({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:o,panelGroupElement:i,setLayout:l}){S.useRef({didWarnAboutMissingResizeHandle:!1}),zi(()=>{if(!i)return;const c=Fa(n,i);for(let d=0;d<o.length-1;d++){const{valueMax:f,valueMin:m,valueNow:p}=dI({layout:r,panelsArray:o,pivotIndices:[d,d+1]}),g=c[d];if(g!=null){const x=o[d];ft(x,`No panel data found for index "${d}"`),g.setAttribute("aria-controls",x.id),g.setAttribute("aria-valuemax",""+Math.round(f)),g.setAttribute("aria-valuemin",""+Math.round(m)),g.setAttribute("aria-valuenow",p!=null?""+Math.round(p):"")}}return()=>{c.forEach((d,f)=>{d.removeAttribute("aria-controls"),d.removeAttribute("aria-valuemax"),d.removeAttribute("aria-valuemin"),d.removeAttribute("aria-valuenow")})}},[n,r,o,i]),S.useEffect(()=>{if(!i)return;const c=t.current;ft(c,"Eager values not found");const{panelDataArray:d}=c,f=$S(n,i);ft(f!=null,`No group found for id "${n}"`);const m=Fa(n,i);ft(m,`No resize handles found for group id "${n}"`);const p=m.map(g=>{const x=g.getAttribute(qt.resizeHandleId);ft(x,"Resize handle element has no handle id attribute");const[b,v]=fI(n,x,d,i);if(b==null||v==null)return()=>{};const w=k=>{if(!k.defaultPrevented)switch(k.key){case"Enter":{k.preventDefault();const E=d.findIndex(C=>C.id===b);if(E>=0){const C=d[E];ft(C,`No panel data found for index ${E}`);const _=r[E],{collapsedSize:R=0,collapsible:P,minSize:I=0}=C.constraints;if(_!=null&&P){const F=ya({delta:er(_,R)?I-R:R-_,initialLayout:r,panelConstraints:d.map(W=>W.constraints),pivotIndices:zS(n,x,i),prevLayout:r,trigger:"keyboard"});r!==F&&l(F)}}break}}};return g.addEventListener("keydown",w),()=>{g.removeEventListener("keydown",w)}});return()=>{p.forEach(g=>g())}},[i,e,t,n,r,o,l])}function Z0(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function FS(e,t){const n=e==="horizontal",{x:r,y:o}=Qd(t);return n?r:o}function hI(e,t,n,r,o){const i=n==="horizontal",l=Zd(t,o);ft(l,`No resize handle element found for id "${t}"`);const c=l.getAttribute(qt.groupId);ft(c,"Resize handle element has no group id attribute");let{initialCursorPosition:d}=r;const f=FS(n,e),m=$S(c,o);ft(m,`No group element found for id "${c}"`);const p=m.getBoundingClientRect(),g=i?p.width:p.height;return(f-d)/g*100}function mI(e,t,n,r,o,i){if(_S(e)){const l=n==="horizontal";let c=0;e.shiftKey?c=100:o!=null?c=o:c=10;let d=0;switch(e.key){case"ArrowDown":d=l?0:c;break;case"ArrowLeft":d=l?-c:0;break;case"ArrowRight":d=l?c:0;break;case"ArrowUp":d=l?0:-c;break;case"End":d=100;break;case"Home":d=-100;break}return d}else return r==null?0:hI(e,t,n,r,i)}function gI({panelDataArray:e}){const t=Array(e.length),n=e.map(i=>i.constraints);let r=0,o=100;for(let i=0;i<e.length;i++){const l=n[i];ft(l,`Panel constraints not found for index ${i}`);const{defaultSize:c}=l;c!=null&&(r++,t[i]=c,o-=c)}for(let i=0;i<e.length;i++){const l=n[i];ft(l,`Panel constraints not found for index ${i}`);const{defaultSize:c}=l;if(c!=null)continue;const d=e.length-r,f=o/d;r++,t[i]=f,o-=f}return t}function Es(e,t,n){t.forEach((r,o)=>{const i=e[o];ft(i,`Panel data not found for index ${o}`);const{callbacks:l,constraints:c,id:d}=i,{collapsedSize:f=0,collapsible:m}=c,p=n[d];if(p==null||r!==p){n[d]=r;const{onCollapse:g,onExpand:x,onResize:b}=l;b&&b(r,p),m&&(g||x)&&(x&&(p==null||yo(p,f))&&!yo(r,f)&&x(),g&&(p==null||!yo(p,f))&&yo(r,f)&&g())}})}function Ou(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function xI({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:o,precision:i=3}){const l=n[o];let c;return l==null?c=e!=null?e.toPrecision(i):"1":r.length===1?c="1":c=l.toPrecision(i),{flexBasis:0,flexGrow:c,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function yI(e,t=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}function ew(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function BS(e){return`react-resizable-panels:${e}`}function VS(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:o,order:i}=t;return o?r:i?`${i}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function HS(e,t){try{const n=BS(e),r=t.getItem(n);if(r){const o=JSON.parse(r);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function vI(e,t,n){var r,o;const i=(r=HS(e,n))!==null&&r!==void 0?r:{},l=VS(t);return(o=i[l])!==null&&o!==void 0?o:null}function wI(e,t,n,r,o){var i;const l=BS(e),c=VS(t),d=(i=HS(e,o))!==null&&i!==void 0?i:{};d[c]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{o.setItem(l,JSON.stringify(d))}catch(f){console.error(f)}}function tw({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((i,l)=>i+l,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(i=>`${i}%`).join(", ")}`);if(!er(r,100)&&n.length>0)for(let i=0;i<t.length;i++){const l=n[i];ft(l!=null,`No layout data found for index ${i}`);const c=100/r*l;n[i]=c}let o=0;for(let i=0;i<t.length;i++){const l=n[i];ft(l!=null,`No layout data found for index ${i}`);const c=Os({panelConstraints:t,panelIndex:i,size:l});l!=c&&(o+=l-c,n[i]=c)}if(!er(o,0))for(let i=0;i<t.length;i++){const l=n[i];ft(l!=null,`No layout data found for index ${i}`);const c=l+o,d=Os({panelConstraints:t,panelIndex:i,size:c});if(l!==d&&(o-=d-l,n[i]=d,er(o,0)))break}return n}const bI=100,va={getItem:e=>(ew(va),va.getItem(e)),setItem:(e,t)=>{ew(va),va.setItem(e,t)}},nw={};function US({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:o,id:i=null,onLayout:l=null,keyboardResizeBy:c=null,storage:d=va,style:f,tagName:m="div",...p}){const g=$g(i),x=S.useRef(null),[b,v]=S.useState(null),[w,k]=S.useState([]),E=cI(),C=S.useRef({}),_=S.useRef(new Map),R=S.useRef(0),P=S.useRef({autoSaveId:e,direction:r,dragState:b,id:g,keyboardResizeBy:c,onLayout:l,storage:d}),I=S.useRef({layout:w,panelDataArray:[],panelDataArrayChanged:!1});S.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),S.useImperativeHandle(o,()=>({getId:()=>P.current.id,getLayout:()=>{const{layout:T}=I.current;return T},setLayout:T=>{const{onLayout:V}=P.current,{layout:Z,panelDataArray:J}=I.current,K=tw({layout:T,panelConstraints:J.map(te=>te.constraints)});Z0(Z,K)||(k(K),I.current.layout=K,V&&V(K),Es(J,K,C.current))}}),[]),zi(()=>{P.current.autoSaveId=e,P.current.direction=r,P.current.dragState=b,P.current.id=g,P.current.onLayout=l,P.current.storage=d}),pI({committedValuesRef:P,eagerValuesRef:I,groupId:g,layout:w,panelDataArray:I.current.panelDataArray,setLayout:k,panelGroupElement:x.current}),S.useEffect(()=>{const{panelDataArray:T}=I.current;if(e){if(w.length===0||w.length!==T.length)return;let V=nw[e];V==null&&(V=yI(wI,bI),nw[e]=V);const Z=[...T],J=new Map(_.current);V(e,Z,J,w,d)}},[e,w,d]),S.useEffect(()=>{});const F=S.useCallback(T=>{const{onLayout:V}=P.current,{layout:Z,panelDataArray:J}=I.current;if(T.constraints.collapsible){const K=J.map(le=>le.constraints),{collapsedSize:te=0,panelSize:Q,pivotIndices:ie}=Pi(J,T,Z);if(ft(Q!=null,`Panel size not found for panel "${T.id}"`),!yo(Q,te)){_.current.set(T.id,Q);const de=Ms(J,T)===J.length-1?Q-te:te-Q,fe=ya({delta:de,initialLayout:Z,panelConstraints:K,pivotIndices:ie,prevLayout:Z,trigger:"imperative-api"});Ou(Z,fe)||(k(fe),I.current.layout=fe,V&&V(fe),Es(J,fe,C.current))}}},[]),W=S.useCallback((T,V)=>{const{onLayout:Z}=P.current,{layout:J,panelDataArray:K}=I.current;if(T.constraints.collapsible){const te=K.map(ge=>ge.constraints),{collapsedSize:Q=0,panelSize:ie=0,minSize:le=0,pivotIndices:de}=Pi(K,T,J),fe=V??le;if(yo(ie,Q)){const ge=_.current.get(T.id),De=ge!=null&&ge>=fe?ge:fe,ot=Ms(K,T)===K.length-1?ie-De:De-ie,tt=ya({delta:ot,initialLayout:J,panelConstraints:te,pivotIndices:de,prevLayout:J,trigger:"imperative-api"});Ou(J,tt)||(k(tt),I.current.layout=tt,Z&&Z(tt),Es(K,tt,C.current))}}},[]),z=S.useCallback(T=>{const{layout:V,panelDataArray:Z}=I.current,{panelSize:J}=Pi(Z,T,V);return ft(J!=null,`Panel size not found for panel "${T.id}"`),J},[]),B=S.useCallback((T,V)=>{const{panelDataArray:Z}=I.current,J=Ms(Z,T);return xI({defaultSize:V,dragState:b,layout:w,panelData:Z,panelIndex:J})},[b,w]),X=S.useCallback(T=>{const{layout:V,panelDataArray:Z}=I.current,{collapsedSize:J=0,collapsible:K,panelSize:te}=Pi(Z,T,V);return ft(te!=null,`Panel size not found for panel "${T.id}"`),K===!0&&yo(te,J)},[]),G=S.useCallback(T=>{const{layout:V,panelDataArray:Z}=I.current,{collapsedSize:J=0,collapsible:K,panelSize:te}=Pi(Z,T,V);return ft(te!=null,`Panel size not found for panel "${T.id}"`),!K||Bi(te,J)>0},[]),A=S.useCallback(T=>{const{panelDataArray:V}=I.current;V.push(T),V.sort((Z,J)=>{const K=Z.order,te=J.order;return K==null&&te==null?0:K==null?-1:te==null?1:K-te}),I.current.panelDataArrayChanged=!0,E()},[E]);zi(()=>{if(I.current.panelDataArrayChanged){I.current.panelDataArrayChanged=!1;const{autoSaveId:T,onLayout:V,storage:Z}=P.current,{layout:J,panelDataArray:K}=I.current;let te=null;if(T){const ie=vI(T,K,Z);ie&&(_.current=new Map(Object.entries(ie.expandToSizes)),te=ie.layout)}te==null&&(te=gI({panelDataArray:K}));const Q=tw({layout:te,panelConstraints:K.map(ie=>ie.constraints)});Z0(J,Q)||(k(Q),I.current.layout=Q,V&&V(Q),Es(K,Q,C.current))}}),zi(()=>{const T=I.current;return()=>{T.layout=[]}},[]);const O=S.useCallback(T=>{let V=!1;const Z=x.current;return Z&&window.getComputedStyle(Z,null).getPropertyValue("direction")==="rtl"&&(V=!0),function(K){K.preventDefault();const te=x.current;if(!te)return()=>null;const{direction:Q,dragState:ie,id:le,keyboardResizeBy:de,onLayout:fe}=P.current,{layout:ge,panelDataArray:De}=I.current,{initialLayout:Me}=ie??{},ot=zS(le,T,te);let tt=mI(K,T,Q,ie,de,te);const et=Q==="horizontal";et&&V&&(tt=-tt);const ke=De.map(vt=>vt.constraints),We=ya({delta:tt,initialLayout:Me??ge,panelConstraints:ke,pivotIndices:ot,prevLayout:ge,trigger:_S(K)?"keyboard":"mouse-or-touch"}),lt=!Ou(ge,We);(PS(K)||AS(K))&&R.current!=tt&&(R.current=tt,!lt&&tt!==0?et?Vh(T,tt<0?IS:RS):Vh(T,tt<0?MS:DS):Vh(T,0)),lt&&(k(We),I.current.layout=We,fe&&fe(We),Es(De,We,C.current))}},[]),$=S.useCallback((T,V)=>{const{onLayout:Z}=P.current,{layout:J,panelDataArray:K}=I.current,te=K.map(ge=>ge.constraints),{panelSize:Q,pivotIndices:ie}=Pi(K,T,J);ft(Q!=null,`Panel size not found for panel "${T.id}"`);const de=Ms(K,T)===K.length-1?Q-V:V-Q,fe=ya({delta:de,initialLayout:J,panelConstraints:te,pivotIndices:ie,prevLayout:J,trigger:"imperative-api"});Ou(J,fe)||(k(fe),I.current.layout=fe,Z&&Z(fe),Es(K,fe,C.current))},[]),q=S.useCallback((T,V)=>{const{layout:Z,panelDataArray:J}=I.current,{collapsedSize:K=0,collapsible:te}=V,{collapsedSize:Q=0,collapsible:ie,maxSize:le=100,minSize:de=0}=T.constraints,{panelSize:fe}=Pi(J,T,Z);fe!=null&&(te&&ie&&yo(fe,K)?yo(K,Q)||$(T,Q):fe<de?$(T,de):fe>le&&$(T,le))},[$]),D=S.useCallback((T,V)=>{const{direction:Z}=P.current,{layout:J}=I.current;if(!x.current)return;const K=Zd(T,x.current);ft(K,`Drag handle element not found for id "${T}"`);const te=FS(Z,V);v({dragHandleId:T,dragHandleRect:K.getBoundingClientRect(),initialCursorPosition:te,initialLayout:J})},[]),U=S.useCallback(()=>{v(null)},[]),M=S.useCallback(T=>{const{panelDataArray:V}=I.current,Z=Ms(V,T);Z>=0&&(V.splice(Z,1),delete C.current[T.id],I.current.panelDataArrayChanged=!0,E())},[E]),H=S.useMemo(()=>({collapsePanel:F,direction:r,dragState:b,expandPanel:W,getPanelSize:z,getPanelStyle:B,groupId:g,isPanelCollapsed:X,isPanelExpanded:G,reevaluatePanelConstraints:q,registerPanel:A,registerResizeHandle:O,resizePanel:$,startDragging:D,stopDragging:U,unregisterPanel:M,panelGroupElement:x.current}),[F,b,r,W,z,B,g,X,G,q,A,O,$,D,U,M]),Y={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return S.createElement(Kd.Provider,{value:H},S.createElement(m,{...p,children:t,className:n,id:i,ref:x,style:{...Y,...f},[qt.group]:"",[qt.groupDirection]:r,[qt.groupId]:g}))}const WS=S.forwardRef((e,t)=>S.createElement(US,{...e,forwardedRef:t}));US.displayName="PanelGroup";WS.displayName="forwardRef(PanelGroup)";function Ms(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function Pi(e,t,n){const r=Ms(e,t),i=r===e.length-1?[r-1,r]:[r,r+1],l=n[r];return{...t.constraints,panelSize:l,pivotIndices:i}}function SI({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){S.useEffect(()=>{if(e||n==null||r==null)return;const o=Zd(t,r);if(o==null)return;const i=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),n(l);break}case"F6":{l.preventDefault();const c=o.getAttribute(qt.groupId);ft(c,`No group element found for id "${c}"`);const d=Fa(c,r),f=LS(c,t,r);ft(f!==null,`No resize element found for id "${t}"`);const m=l.shiftKey?f>0?f-1:d.length-1:f+1<d.length?f+1:0;d[m].focus();break}}};return o.addEventListener("keydown",i),()=>{o.removeEventListener("keydown",i)}},[r,e,t,n])}function YS({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:o,onBlur:i,onClick:l,onDragging:c,onFocus:d,onPointerDown:f,onPointerUp:m,style:p={},tabIndex:g=0,tagName:x="div",...b}){var v,w;const k=S.useRef(null),E=S.useRef({onClick:l,onDragging:c,onPointerDown:f,onPointerUp:m});S.useEffect(()=>{E.current.onClick=l,E.current.onDragging=c,E.current.onPointerDown=f,E.current.onPointerUp=m});const C=S.useContext(Kd);if(C===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:_,groupId:R,registerResizeHandle:P,startDragging:I,stopDragging:F,panelGroupElement:W}=C,z=$g(o),[B,X]=S.useState("inactive"),[G,A]=S.useState(!1),[O,$]=S.useState(null),q=S.useRef({state:B});zi(()=>{q.current.state=B}),S.useEffect(()=>{if(n)$(null);else{const H=P(z);$(()=>H)}},[n,z,P]);const D=(v=r==null?void 0:r.coarse)!==null&&v!==void 0?v:15,U=(w=r==null?void 0:r.fine)!==null&&w!==void 0?w:5;S.useEffect(()=>{if(n||O==null)return;const H=k.current;ft(H,"Element ref not attached");let Y=!1;return lI(z,H,_,{coarse:D,fine:U},(V,Z,J)=>{if(!Z){X("inactive");return}switch(V){case"down":{X("drag"),Y=!1,ft(J,'Expected event to be defined for "down" action'),I(z,J);const{onDragging:K,onPointerDown:te}=E.current;K==null||K(!0),te==null||te();break}case"move":{const{state:K}=q.current;Y=!0,K!=="drag"&&X("hover"),ft(J,'Expected event to be defined for "move" action'),O(J);break}case"up":{X("hover"),F();const{onClick:K,onDragging:te,onPointerUp:Q}=E.current;te==null||te(!1),Q==null||Q(),Y||K==null||K();break}}})},[D,_,n,U,P,z,O,I,F]),SI({disabled:n,handleId:z,resizeHandler:O,panelGroupElement:W});const M={touchAction:"none",userSelect:"none"};return S.createElement(x,{...b,children:e,className:t,id:o,onBlur:()=>{A(!1),i==null||i()},onFocus:()=>{A(!0),d==null||d()},ref:k,role:"separator",style:{...M,...p},tabIndex:g,[qt.groupDirection]:_,[qt.groupId]:R,[qt.resizeHandle]:"",[qt.resizeHandleActive]:B==="drag"?"pointer":G?"keyboard":void 0,[qt.resizeHandleEnabled]:!n,[qt.resizeHandleId]:z,[qt.resizeHandleState]:B})}YS.displayName="PanelResizeHandle";function XS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=XS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function qS(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=XS(e))&&(r&&(r+=" "),r+=t);return r}const kI=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},CI=(e,t)=>({classGroupId:e,validator:t}),GS=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),bd="-",rw=[],NI="arbitrary..",EI=e=>{const t=_I(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return jI(l);const c=l.split(bd),d=c[0]===""&&c.length>1?1:0;return KS(c,d,t)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=n[l];return d?f?kI(f,d):d:f||rw}return n[l]||rw}}},KS=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const o=e[t],i=n.nextPart.get(o);if(i){const f=KS(e,t+1,i);if(f)return f}const l=n.validators;if(l===null)return;const c=t===0?e.join(bd):e.slice(t).join(bd),d=l.length;for(let f=0;f<d;f++){const m=l[f];if(m.validator(c))return m.classGroupId}},jI=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?NI+r:void 0})(),_I=e=>{const{theme:t,classGroups:n}=e;return PI(n,t)},PI=(e,t)=>{const n=GS();for(const r in e){const o=e[r];Vg(o,n,r,t)}return n},Vg=(e,t,n,r)=>{const o=e.length;for(let i=0;i<o;i++){const l=e[i];AI(l,t,n,r)}},AI=(e,t,n,r)=>{if(typeof e=="string"){TI(e,t,n);return}if(typeof e=="function"){II(e,t,n,r);return}RI(e,t,n,r)},TI=(e,t,n)=>{const r=e===""?t:QS(t,e);r.classGroupId=n},II=(e,t,n,r)=>{if(MI(e)){Vg(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(CI(n,e))},RI=(e,t,n,r)=>{const o=Object.entries(e),i=o.length;for(let l=0;l<i;l++){const[c,d]=o[l];Vg(d,QS(t,c),n,r)}},QS=(e,t)=>{let n=e;const r=t.split(bd),o=r.length;for(let i=0;i<o;i++){const l=r[i];let c=n.nextPart.get(l);c||(c=GS(),n.nextPart.set(l,c)),n=c}return n},MI=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,DI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const o=(i,l)=>{n[i]=l,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(i){let l=n[i];if(l!==void 0)return l;if((l=r[i])!==void 0)return o(i,l),l},set(i,l){i in n?n[i]=l:o(i,l)}}},$m="!",ow=":",OI=[],iw=(e,t,n,r,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),LI=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const i=[];let l=0,c=0,d=0,f;const m=o.length;for(let v=0;v<m;v++){const w=o[v];if(l===0&&c===0){if(w===ow){i.push(o.slice(d,v)),d=v+1;continue}if(w==="/"){f=v;continue}}w==="["?l++:w==="]"?l--:w==="("?c++:w===")"&&c--}const p=i.length===0?o:o.slice(d);let g=p,x=!1;p.endsWith($m)?(g=p.slice(0,-1),x=!0):p.startsWith($m)&&(g=p.slice(1),x=!0);const b=f&&f>d?f-d:void 0;return iw(i,x,g,b)};if(t){const o=t+ow,i=r;r=l=>l.startsWith(o)?i(l.slice(o.length)):iw(OI,!1,l,void 0,!0)}if(n){const o=r;r=i=>n({className:i,parseClassName:o})}return r},zI=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let o=[];for(let i=0;i<n.length;i++){const l=n[i],c=l[0]==="[",d=t.has(l);c||d?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(l)):o.push(l)}return o.length>0&&(o.sort(),r.push(...o)),r}},$I=e=>({cache:DI(e.cacheSize),parseClassName:LI(e),sortModifiers:zI(e),...EI(e)}),FI=/\s+/,BI=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:i}=t,l=[],c=e.trim().split(FI);let d="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{isExternal:p,modifiers:g,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:v}=n(m);if(p){d=m+(d.length>0?" "+d:d);continue}let w=!!v,k=r(w?b.substring(0,v):b);if(!k){if(!w){d=m+(d.length>0?" "+d:d);continue}if(k=r(b),!k){d=m+(d.length>0?" "+d:d);continue}w=!1}const E=g.length===0?"":g.length===1?g[0]:i(g).join(":"),C=x?E+$m:E,_=C+k;if(l.indexOf(_)>-1)continue;l.push(_);const R=o(k,w);for(let P=0;P<R.length;++P){const I=R[P];l.push(C+I)}d=m+(d.length>0?" "+d:d)}return d},VI=(...e)=>{let t=0,n,r,o="";for(;t<e.length;)(n=e[t++])&&(r=JS(n))&&(o&&(o+=" "),o+=r);return o},JS=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=JS(e[r]))&&(n&&(n+=" "),n+=t);return n},HI=(e,...t)=>{let n,r,o,i;const l=d=>{const f=t.reduce((m,p)=>p(m),e());return n=$I(f),r=n.cache.get,o=n.cache.set,i=c,c(d)},c=d=>{const f=r(d);if(f)return f;const m=BI(d,n);return o(d,m),m};return i=l,(...d)=>i(VI(...d))},UI=[],nn=e=>{const t=n=>n[e]||UI;return t.isThemeGetter=!0,t},ZS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ek=/^\((?:(\w[\w-]*):)?(.+)\)$/i,WI=/^\d+\/\d+$/,YI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,GI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,js=e=>WI.test(e),ht=e=>!!e&&!Number.isNaN(Number(e)),Uo=e=>!!e&&Number.isInteger(Number(e)),Uh=e=>e.endsWith("%")&&ht(e.slice(0,-1)),mo=e=>YI.test(e),QI=()=>!0,JI=e=>XI.test(e)&&!qI.test(e),tk=()=>!1,ZI=e=>GI.test(e),eR=e=>KI.test(e),tR=e=>!ze(e)&&!$e(e),nR=e=>al(e,ok,tk),ze=e=>ZS.test(e),Ai=e=>al(e,ik,JI),Wh=e=>al(e,lR,ht),sw=e=>al(e,nk,tk),rR=e=>al(e,rk,eR),Lu=e=>al(e,sk,ZI),$e=e=>ek.test(e),oa=e=>cl(e,ik),oR=e=>cl(e,aR),lw=e=>cl(e,nk),iR=e=>cl(e,ok),sR=e=>cl(e,rk),zu=e=>cl(e,sk,!0),al=(e,t,n)=>{const r=ZS.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},cl=(e,t,n=!1)=>{const r=ek.exec(e);return r?r[1]?t(r[1]):n:!1},nk=e=>e==="position"||e==="percentage",rk=e=>e==="image"||e==="url",ok=e=>e==="length"||e==="size"||e==="bg-size",ik=e=>e==="length",lR=e=>e==="number",aR=e=>e==="family-name",sk=e=>e==="shadow",cR=()=>{const e=nn("color"),t=nn("font"),n=nn("text"),r=nn("font-weight"),o=nn("tracking"),i=nn("leading"),l=nn("breakpoint"),c=nn("container"),d=nn("spacing"),f=nn("radius"),m=nn("shadow"),p=nn("inset-shadow"),g=nn("text-shadow"),x=nn("drop-shadow"),b=nn("blur"),v=nn("perspective"),w=nn("aspect"),k=nn("ease"),E=nn("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[..._(),$e,ze],P=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],F=()=>[$e,ze,d],W=()=>[js,"full","auto",...F()],z=()=>[Uo,"none","subgrid",$e,ze],B=()=>["auto",{span:["full",Uo,$e,ze]},Uo,$e,ze],X=()=>[Uo,"auto",$e,ze],G=()=>["auto","min","max","fr",$e,ze],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],O=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...F()],q=()=>[js,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],D=()=>[e,$e,ze],U=()=>[..._(),lw,sw,{position:[$e,ze]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",iR,nR,{size:[$e,ze]}],Y=()=>[Uh,oa,Ai],T=()=>["","none","full",f,$e,ze],V=()=>["",ht,oa,Ai],Z=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[ht,Uh,lw,sw],te=()=>["","none",b,$e,ze],Q=()=>["none",ht,$e,ze],ie=()=>["none",ht,$e,ze],le=()=>[ht,$e,ze],de=()=>[js,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[mo],breakpoint:[mo],color:[QI],container:[mo],"drop-shadow":[mo],ease:["in","out","in-out"],font:[tR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[mo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[mo],shadow:[mo],spacing:["px",ht],text:[mo],"text-shadow":[mo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",js,ze,$e,w]}],container:["container"],columns:[{columns:[ht,ze,$e,c]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[Uo,"auto",$e,ze]}],basis:[{basis:[js,"full","auto",c,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ht,js,"auto","initial","none",ze]}],grow:[{grow:["",ht,$e,ze]}],shrink:[{shrink:["",ht,$e,ze]}],order:[{order:[Uo,"first","last","none",$e,ze]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...O(),"normal"]}],"justify-self":[{"justify-self":["auto",...O()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...O(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...O(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...O(),"baseline"]}],"place-self":[{"place-self":["auto",...O()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[c,"screen",...q()]}],"min-w":[{"min-w":[c,"screen","none",...q()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,oa,Ai]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,$e,Wh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Uh,ze]}],"font-family":[{font:[oR,ze,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,$e,ze]}],"line-clamp":[{"line-clamp":[ht,"none",$e,Wh]}],leading:[{leading:[i,...F()]}],"list-image":[{"list-image":["none",$e,ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",$e,ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[ht,"from-font","auto",$e,Ai]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[ht,"auto",$e,ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e,ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e,ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Uo,$e,ze],radial:["",$e,ze],conic:[Uo,$e,ze]},sR,rR]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:T()}],"rounded-s":[{"rounded-s":T()}],"rounded-e":[{"rounded-e":T()}],"rounded-t":[{"rounded-t":T()}],"rounded-r":[{"rounded-r":T()}],"rounded-b":[{"rounded-b":T()}],"rounded-l":[{"rounded-l":T()}],"rounded-ss":[{"rounded-ss":T()}],"rounded-se":[{"rounded-se":T()}],"rounded-ee":[{"rounded-ee":T()}],"rounded-es":[{"rounded-es":T()}],"rounded-tl":[{"rounded-tl":T()}],"rounded-tr":[{"rounded-tr":T()}],"rounded-br":[{"rounded-br":T()}],"rounded-bl":[{"rounded-bl":T()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ht,$e,ze]}],"outline-w":[{outline:["",ht,oa,Ai]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",m,zu,Lu]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",p,zu,Lu]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[ht,Ai]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",g,zu,Lu]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[ht,$e,ze]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ht]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[$e,ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[ht]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",$e,ze]}],filter:[{filter:["","none",$e,ze]}],blur:[{blur:te()}],brightness:[{brightness:[ht,$e,ze]}],contrast:[{contrast:[ht,$e,ze]}],"drop-shadow":[{"drop-shadow":["","none",x,zu,Lu]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",ht,$e,ze]}],"hue-rotate":[{"hue-rotate":[ht,$e,ze]}],invert:[{invert:["",ht,$e,ze]}],saturate:[{saturate:[ht,$e,ze]}],sepia:[{sepia:["",ht,$e,ze]}],"backdrop-filter":[{"backdrop-filter":["","none",$e,ze]}],"backdrop-blur":[{"backdrop-blur":te()}],"backdrop-brightness":[{"backdrop-brightness":[ht,$e,ze]}],"backdrop-contrast":[{"backdrop-contrast":[ht,$e,ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ht,$e,ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ht,$e,ze]}],"backdrop-invert":[{"backdrop-invert":["",ht,$e,ze]}],"backdrop-opacity":[{"backdrop-opacity":[ht,$e,ze]}],"backdrop-saturate":[{"backdrop-saturate":[ht,$e,ze]}],"backdrop-sepia":[{"backdrop-sepia":["",ht,$e,ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",$e,ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ht,"initial",$e,ze]}],ease:[{ease:["linear","initial",k,$e,ze]}],delay:[{delay:[ht,$e,ze]}],animate:[{animate:["none",E,$e,ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,$e,ze]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:Q()}],"rotate-x":[{"rotate-x":Q()}],"rotate-y":[{"rotate-y":Q()}],"rotate-z":[{"rotate-z":Q()}],scale:[{scale:ie()}],"scale-x":[{"scale-x":ie()}],"scale-y":[{"scale-y":ie()}],"scale-z":[{"scale-z":ie()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[$e,ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e,ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e,ze]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[ht,oa,Ai,Wh]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uR=HI(cR);function qe(...e){return uR(qS(e))}function aw({className:e,...t}){return u.jsx(WS,{"data-slot":"resizable-panel-group",className:qe("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function ja({...e}){return u.jsx(jS,{"data-slot":"resizable-panel",...e})}function cw({withHandle:e,className:t,...n}){return u.jsx(YS,{"data-slot":"resizable-handle",className:qe("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&u.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:u.jsx(xa,{className:"size-2.5"})})})}const uw=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const g=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,g))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,o,c);return c},lk=(e=>e?uw(e):uw),dR=e=>e;function fR(e,t=dR){const n=Ye.useSyncExternalStore(e.subscribe,Ye.useCallback(()=>t(e.getState()),[e,t]),Ye.useCallback(()=>t(e.getInitialState()),[e,t]));return Ye.useDebugValue(n),n}const dw=e=>{const t=lk(e),n=r=>fR(t,r);return Object.assign(n,t),n},pR=(e=>e?dw(e):dw);var fw=(e,t,n)=>(o,i)=>({pastStates:(n==null?void 0:n.pastStates)||[],futureStates:(n==null?void 0:n.futureStates)||[],undo:(l=1)=>{var c,d;if(i().pastStates.length){const f=((c=n==null?void 0:n.partialize)==null?void 0:c.call(n,t()))||t(),m=i().pastStates.splice(-l,l),p=m.shift();e(p),o({pastStates:i().pastStates,futureStates:i().futureStates.concat(((d=n==null?void 0:n.diff)==null?void 0:d.call(n,f,p))||f,m.reverse())})}},redo:(l=1)=>{var c,d;if(i().futureStates.length){const f=((c=n==null?void 0:n.partialize)==null?void 0:c.call(n,t()))||t(),m=i().futureStates.splice(-l,l),p=m.shift();e(p),o({pastStates:i().pastStates.concat(((d=n==null?void 0:n.diff)==null?void 0:d.call(n,f,p))||f,m.reverse()),futureStates:i().futureStates})}},clear:()=>o({pastStates:[],futureStates:[]}),isTracking:!0,pause:()=>o({isTracking:!1}),resume:()=>o({isTracking:!0}),setOnSave:l=>o({_onSave:l}),_onSave:n==null?void 0:n.onSave,_handleSet:(l,c,d,f)=>{var m,p;n!=null&&n.limit&&i().pastStates.length>=(n==null?void 0:n.limit)&&i().pastStates.shift(),(p=(m=i())._onSave)==null||p.call(m,l,d),o({pastStates:i().pastStates.concat(f||l),futureStates:[]})}}),hR=(e,t)=>(r,o,i)=>{var f,m;i.temporal=lk(((f=t==null?void 0:t.wrapTemporal)==null?void 0:f.call(t,fw(r,o,t)))||fw(r,o,t));const l=((m=t==null?void 0:t.handleSet)==null?void 0:m.call(t,i.temporal.getState()._handleSet))||i.temporal.getState()._handleSet,c=p=>{var b,v,w;if(!i.temporal.getState().isTracking)return;const g=((b=t==null?void 0:t.partialize)==null?void 0:b.call(t,o()))||o(),x=(v=t==null?void 0:t.diff)==null?void 0:v.call(t,p,g);x===null||(w=t==null?void 0:t.equality)!=null&&w.call(t,p,g)||l(p,void 0,g,x)},d=i.setState;return i.setState=(...p)=>{var x;const g=((x=t==null?void 0:t.partialize)==null?void 0:x.call(t,o()))||o();d(...p),c(g)},e((...p)=>{var x;const g=((x=t==null?void 0:t.partialize)==null?void 0:x.call(t,o()))||o();r(...p),c(g)},o,i)};const bn=[];for(let e=0;e<256;++e)bn.push((e+256).toString(16).slice(1));function mR(e,t=0){return(bn[e[t+0]]+bn[e[t+1]]+bn[e[t+2]]+bn[e[t+3]]+"-"+bn[e[t+4]]+bn[e[t+5]]+"-"+bn[e[t+6]]+bn[e[t+7]]+"-"+bn[e[t+8]]+bn[e[t+9]]+"-"+bn[e[t+10]]+bn[e[t+11]]+bn[e[t+12]]+bn[e[t+13]]+bn[e[t+14]]+bn[e[t+15]]).toLowerCase()}let Yh;const gR=new Uint8Array(16);function xR(){if(!Yh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Yh=crypto.getRandomValues.bind(crypto)}return Yh(gR)}const yR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),pw={randomUUID:yR};function vR(e,t,n){var o;e=e||{};const r=e.random??((o=e.rng)==null?void 0:o.call(e))??xR();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,mR(r)}function rt(e,t,n){return pw.randomUUID&&!e?pw.randomUUID():vR(e)}function Jt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Jt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var wR={value:()=>{}};function ef(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ld(n)}function ld(e){this._=e}function bR(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ld.prototype=ef.prototype={constructor:ld,on:function(e,t){var n=this._,r=bR(e+"",n),o,i=-1,l=r.length;if(arguments.length<2){for(;++i<l;)if((o=(e=r[i]).type)&&(o=SR(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<l;)if(o=(e=r[i]).type)n[o]=hw(n[o],e.name,t);else if(t==null)for(o in n)n[o]=hw(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ld(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function SR(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function hw(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=wR,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Fm="http://www.w3.org/1999/xhtml";const mw={svg:"http://www.w3.org/2000/svg",xhtml:Fm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tf(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),mw.hasOwnProperty(t)?{space:mw[t],local:e}:e}function kR(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Fm&&t.documentElement.namespaceURI===Fm?t.createElement(e):t.createElementNS(n,e)}}function CR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ak(e){var t=tf(e);return(t.local?CR:kR)(t)}function NR(){}function Hg(e){return e==null?NR:function(){return this.querySelector(e)}}function ER(e){typeof e!="function"&&(e=Hg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],l=i.length,c=r[o]=new Array(l),d,f,m=0;m<l;++m)(d=i[m])&&(f=e.call(d,d.__data__,m,i))&&("__data__"in d&&(f.__data__=d.__data__),c[m]=f);return new sr(r,this._parents)}function jR(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function _R(){return[]}function ck(e){return e==null?_R:function(){return this.querySelectorAll(e)}}function PR(e){return function(){return jR(e.apply(this,arguments))}}function AR(e){typeof e=="function"?e=PR(e):e=ck(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var l=t[i],c=l.length,d,f=0;f<c;++f)(d=l[f])&&(r.push(e.call(d,d.__data__,f,l)),o.push(d));return new sr(r,o)}function uk(e){return function(){return this.matches(e)}}function dk(e){return function(t){return t.matches(e)}}var TR=Array.prototype.find;function IR(e){return function(){return TR.call(this.children,e)}}function RR(){return this.firstElementChild}function MR(e){return this.select(e==null?RR:IR(typeof e=="function"?e:dk(e)))}var DR=Array.prototype.filter;function OR(){return Array.from(this.children)}function LR(e){return function(){return DR.call(this.children,e)}}function zR(e){return this.selectAll(e==null?OR:LR(typeof e=="function"?e:dk(e)))}function $R(e){typeof e!="function"&&(e=uk(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],l=i.length,c=r[o]=[],d,f=0;f<l;++f)(d=i[f])&&e.call(d,d.__data__,f,i)&&c.push(d);return new sr(r,this._parents)}function fk(e){return new Array(e.length)}function FR(){return new sr(this._enter||this._groups.map(fk),this._parents)}function Sd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Sd.prototype={constructor:Sd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function BR(e){return function(){return e}}function VR(e,t,n,r,o,i){for(var l=0,c,d=t.length,f=i.length;l<f;++l)(c=t[l])?(c.__data__=i[l],r[l]=c):n[l]=new Sd(e,i[l]);for(;l<d;++l)(c=t[l])&&(o[l]=c)}function HR(e,t,n,r,o,i,l){var c,d,f=new Map,m=t.length,p=i.length,g=new Array(m),x;for(c=0;c<m;++c)(d=t[c])&&(g[c]=x=l.call(d,d.__data__,c,t)+"",f.has(x)?o[c]=d:f.set(x,d));for(c=0;c<p;++c)x=l.call(e,i[c],c,i)+"",(d=f.get(x))?(r[c]=d,d.__data__=i[c],f.delete(x)):n[c]=new Sd(e,i[c]);for(c=0;c<m;++c)(d=t[c])&&f.get(g[c])===d&&(o[c]=d)}function UR(e){return e.__data__}function WR(e,t){if(!arguments.length)return Array.from(this,UR);var n=t?HR:VR,r=this._parents,o=this._groups;typeof e!="function"&&(e=BR(e));for(var i=o.length,l=new Array(i),c=new Array(i),d=new Array(i),f=0;f<i;++f){var m=r[f],p=o[f],g=p.length,x=YR(e.call(m,m&&m.__data__,f,r)),b=x.length,v=c[f]=new Array(b),w=l[f]=new Array(b),k=d[f]=new Array(g);n(m,p,v,w,k,x,t);for(var E=0,C=0,_,R;E<b;++E)if(_=v[E]){for(E>=C&&(C=E+1);!(R=w[C])&&++C<b;);_._next=R||null}}return l=new sr(l,r),l._enter=c,l._exit=d,l}function YR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function XR(){return new sr(this._exit||this._groups.map(fk),this._parents)}function qR(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function GR(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,l=Math.min(o,i),c=new Array(o),d=0;d<l;++d)for(var f=n[d],m=r[d],p=f.length,g=c[d]=new Array(p),x,b=0;b<p;++b)(x=f[b]||m[b])&&(g[b]=x);for(;d<o;++d)c[d]=n[d];return new sr(c,this._parents)}function KR(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],l;--o>=0;)(l=r[o])&&(i&&l.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(l,i),i=l);return this}function QR(e){e||(e=JR);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var l=n[i],c=l.length,d=o[i]=new Array(c),f,m=0;m<c;++m)(f=l[m])&&(d[m]=f);d.sort(t)}return new sr(o,this._parents).order()}function JR(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ZR(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function eM(){return Array.from(this)}function tM(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var l=r[o];if(l)return l}return null}function nM(){let e=0;for(const t of this)++e;return e}function rM(){return!this.node()}function oM(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,l=o.length,c;i<l;++i)(c=o[i])&&e.call(c,c.__data__,i,o);return this}function iM(e){return function(){this.removeAttribute(e)}}function sM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lM(e,t){return function(){this.setAttribute(e,t)}}function aM(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function cM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function uM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function dM(e,t){var n=tf(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?sM:iM:typeof t=="function"?n.local?uM:cM:n.local?aM:lM)(n,t))}function pk(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function fM(e){return function(){this.style.removeProperty(e)}}function pM(e,t,n){return function(){this.style.setProperty(e,t,n)}}function hM(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function mM(e,t,n){return arguments.length>1?this.each((t==null?fM:typeof t=="function"?hM:pM)(e,t,n??"")):Ks(this.node(),e)}function Ks(e,t){return e.style.getPropertyValue(t)||pk(e).getComputedStyle(e,null).getPropertyValue(t)}function gM(e){return function(){delete this[e]}}function xM(e,t){return function(){this[e]=t}}function yM(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function vM(e,t){return arguments.length>1?this.each((t==null?gM:typeof t=="function"?yM:xM)(e,t)):this.node()[e]}function hk(e){return e.trim().split(/^|\s+/)}function Ug(e){return e.classList||new mk(e)}function mk(e){this._node=e,this._names=hk(e.getAttribute("class")||"")}mk.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function gk(e,t){for(var n=Ug(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function xk(e,t){for(var n=Ug(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function wM(e){return function(){gk(this,e)}}function bM(e){return function(){xk(this,e)}}function SM(e,t){return function(){(t.apply(this,arguments)?gk:xk)(this,e)}}function kM(e,t){var n=hk(e+"");if(arguments.length<2){for(var r=Ug(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?SM:t?wM:bM)(n,t))}function CM(){this.textContent=""}function NM(e){return function(){this.textContent=e}}function EM(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function jM(e){return arguments.length?this.each(e==null?CM:(typeof e=="function"?EM:NM)(e)):this.node().textContent}function _M(){this.innerHTML=""}function PM(e){return function(){this.innerHTML=e}}function AM(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function TM(e){return arguments.length?this.each(e==null?_M:(typeof e=="function"?AM:PM)(e)):this.node().innerHTML}function IM(){this.nextSibling&&this.parentNode.appendChild(this)}function RM(){return this.each(IM)}function MM(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function DM(){return this.each(MM)}function OM(e){var t=typeof e=="function"?e:ak(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function LM(){return null}function zM(e,t){var n=typeof e=="function"?e:ak(e),r=t==null?LM:typeof t=="function"?t:Hg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function $M(){var e=this.parentNode;e&&e.removeChild(this)}function FM(){return this.each($M)}function BM(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function VM(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function HM(e){return this.select(e?VM:BM)}function UM(e){return arguments.length?this.property("__data__",e):this.node().__data__}function WM(e){return function(t){e.call(this,t,this.__data__)}}function YM(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function XM(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function qM(e,t,n){return function(){var r=this.__on,o,i=WM(t);if(r){for(var l=0,c=r.length;l<c;++l)if((o=r[l]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function GM(e,t,n){var r=YM(e+""),o,i=r.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var d=0,f=c.length,m;d<f;++d)for(o=0,m=c[d];o<i;++o)if((l=r[o]).type===m.type&&l.name===m.name)return m.value}return}for(c=t?qM:XM,o=0;o<i;++o)this.each(c(r[o],t,n));return this}function yk(e,t,n){var r=pk(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function KM(e,t){return function(){return yk(this,e,t)}}function QM(e,t){return function(){return yk(this,e,t.apply(this,arguments))}}function JM(e,t){return this.each((typeof t=="function"?QM:KM)(e,t))}function*ZM(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,l;o<i;++o)(l=r[o])&&(yield l)}var vk=[null];function sr(e,t){this._groups=e,this._parents=t}function ac(){return new sr([[document.documentElement]],vk)}function eD(){return this}sr.prototype=ac.prototype={constructor:sr,select:ER,selectAll:AR,selectChild:MR,selectChildren:zR,filter:$R,data:WR,enter:FR,exit:XR,join:qR,merge:GR,selection:eD,order:KR,sort:QR,call:ZR,nodes:eM,node:tM,size:nM,empty:rM,each:oM,attr:dM,style:mM,property:vM,classed:kM,text:jM,html:TM,raise:RM,lower:DM,append:OM,insert:zM,remove:FM,clone:HM,datum:UM,on:GM,dispatch:JM,[Symbol.iterator]:ZM};function rr(e){return typeof e=="string"?new sr([[document.querySelector(e)]],[document.documentElement]):new sr([[e]],vk)}function tD(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Er(e,t){if(e=tD(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const nD={passive:!1},Ba={capture:!0,passive:!1};function Xh(e){e.stopImmediatePropagation()}function Bs(e){e.preventDefault(),e.stopImmediatePropagation()}function wk(e){var t=e.document.documentElement,n=rr(e).on("dragstart.drag",Bs,Ba);"onselectstart"in t?n.on("selectstart.drag",Bs,Ba):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function bk(e,t){var n=e.document.documentElement,r=rr(e).on("dragstart.drag",null);t&&(r.on("click.drag",Bs,Ba),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const $u=e=>()=>e;function Bm(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:l,y:c,dx:d,dy:f,dispatch:m}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:m}})}Bm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function rD(e){return!e.ctrlKey&&!e.button}function oD(){return this.parentNode}function iD(e,t){return t??{x:e.x,y:e.y}}function sD(){return navigator.maxTouchPoints||"ontouchstart"in this}function Sk(){var e=rD,t=oD,n=iD,r=sD,o={},i=ef("start","drag","end"),l=0,c,d,f,m,p=0;function g(_){_.on("mousedown.drag",x).filter(r).on("touchstart.drag",w).on("touchmove.drag",k,nD).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(_,R){if(!(m||!e.call(this,_,R))){var P=C(this,t.call(this,_,R),_,R,"mouse");P&&(rr(_.view).on("mousemove.drag",b,Ba).on("mouseup.drag",v,Ba),wk(_.view),Xh(_),f=!1,c=_.clientX,d=_.clientY,P("start",_))}}function b(_){if(Bs(_),!f){var R=_.clientX-c,P=_.clientY-d;f=R*R+P*P>p}o.mouse("drag",_)}function v(_){rr(_.view).on("mousemove.drag mouseup.drag",null),bk(_.view,f),Bs(_),o.mouse("end",_)}function w(_,R){if(e.call(this,_,R)){var P=_.changedTouches,I=t.call(this,_,R),F=P.length,W,z;for(W=0;W<F;++W)(z=C(this,I,_,R,P[W].identifier,P[W]))&&(Xh(_),z("start",_,P[W]))}}function k(_){var R=_.changedTouches,P=R.length,I,F;for(I=0;I<P;++I)(F=o[R[I].identifier])&&(Bs(_),F("drag",_,R[I]))}function E(_){var R=_.changedTouches,P=R.length,I,F;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),I=0;I<P;++I)(F=o[R[I].identifier])&&(Xh(_),F("end",_,R[I]))}function C(_,R,P,I,F,W){var z=i.copy(),B=Er(W||P,R),X,G,A;if((A=n.call(_,new Bm("beforestart",{sourceEvent:P,target:g,identifier:F,active:l,x:B[0],y:B[1],dx:0,dy:0,dispatch:z}),I))!=null)return X=A.x-B[0]||0,G=A.y-B[1]||0,function O($,q,D){var U=B,M;switch($){case"start":o[F]=O,M=l++;break;case"end":delete o[F],--l;case"drag":B=Er(D||q,R),M=l;break}z.call($,_,new Bm($,{sourceEvent:q,subject:A,target:g,identifier:F,active:M,x:B[0]+X,y:B[1]+G,dx:B[0]-U[0],dy:B[1]-U[1],dispatch:z}),I)}}return g.filter=function(_){return arguments.length?(e=typeof _=="function"?_:$u(!!_),g):e},g.container=function(_){return arguments.length?(t=typeof _=="function"?_:$u(_),g):t},g.subject=function(_){return arguments.length?(n=typeof _=="function"?_:$u(_),g):n},g.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:$u(!!_),g):r},g.on=function(){var _=i.on.apply(i,arguments);return _===i?g:_},g.clickDistance=function(_){return arguments.length?(p=(_=+_)*_,g):Math.sqrt(p)},g}function Wg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function kk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function cc(){}var Va=.7,kd=1/Va,Vs="\\s*([+-]?\\d+)\\s*",Ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lD=/^#([0-9a-f]{3,8})$/,aD=new RegExp(`^rgb\\(${Vs},${Vs},${Vs}\\)$`),cD=new RegExp(`^rgb\\(${Kr},${Kr},${Kr}\\)$`),uD=new RegExp(`^rgba\\(${Vs},${Vs},${Vs},${Ha}\\)$`),dD=new RegExp(`^rgba\\(${Kr},${Kr},${Kr},${Ha}\\)$`),fD=new RegExp(`^hsl\\(${Ha},${Kr},${Kr}\\)$`),pD=new RegExp(`^hsla\\(${Ha},${Kr},${Kr},${Ha}\\)$`),gw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wg(cc,Vi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xw,formatHex:xw,formatHex8:hD,formatHsl:mD,formatRgb:yw,toString:yw});function xw(){return this.rgb().formatHex()}function hD(){return this.rgb().formatHex8()}function mD(){return Ck(this).formatHsl()}function yw(){return this.rgb().formatRgb()}function Vi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lD.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?vw(t):n===3?new Yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Fu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Fu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=aD.exec(e))?new Yn(t[1],t[2],t[3],1):(t=cD.exec(e))?new Yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uD.exec(e))?Fu(t[1],t[2],t[3],t[4]):(t=dD.exec(e))?Fu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fD.exec(e))?Sw(t[1],t[2]/100,t[3]/100,1):(t=pD.exec(e))?Sw(t[1],t[2]/100,t[3]/100,t[4]):gw.hasOwnProperty(e)?vw(gw[e]):e==="transparent"?new Yn(NaN,NaN,NaN,0):null}function vw(e){return new Yn(e>>16&255,e>>8&255,e&255,1)}function Fu(e,t,n,r){return r<=0&&(e=t=n=NaN),new Yn(e,t,n,r)}function gD(e){return e instanceof cc||(e=Vi(e)),e?(e=e.rgb(),new Yn(e.r,e.g,e.b,e.opacity)):new Yn}function Vm(e,t,n,r){return arguments.length===1?gD(e):new Yn(e,t,n,r??1)}function Yn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Wg(Yn,Vm,kk(cc,{brighter(e){return e=e==null?kd:Math.pow(kd,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Va:Math.pow(Va,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yn($i(this.r),$i(this.g),$i(this.b),Cd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ww,formatHex:ww,formatHex8:xD,formatRgb:bw,toString:bw}));function ww(){return`#${Oi(this.r)}${Oi(this.g)}${Oi(this.b)}`}function xD(){return`#${Oi(this.r)}${Oi(this.g)}${Oi(this.b)}${Oi((isNaN(this.opacity)?1:this.opacity)*255)}`}function bw(){const e=Cd(this.opacity);return`${e===1?"rgb(":"rgba("}${$i(this.r)}, ${$i(this.g)}, ${$i(this.b)}${e===1?")":`, ${e})`}`}function Cd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $i(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Oi(e){return e=$i(e),(e<16?"0":"")+e.toString(16)}function Sw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new _r(e,t,n,r)}function Ck(e){if(e instanceof _r)return new _r(e.h,e.s,e.l,e.opacity);if(e instanceof cc||(e=Vi(e)),!e)return new _r;if(e instanceof _r)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),l=NaN,c=i-o,d=(i+o)/2;return c?(t===i?l=(n-r)/c+(n<r)*6:n===i?l=(r-t)/c+2:l=(t-n)/c+4,c/=d<.5?i+o:2-i-o,l*=60):c=d>0&&d<1?0:l,new _r(l,c,d,e.opacity)}function yD(e,t,n,r){return arguments.length===1?Ck(e):new _r(e,t,n,r??1)}function _r(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Wg(_r,yD,kk(cc,{brighter(e){return e=e==null?kd:Math.pow(kd,e),new _r(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Va:Math.pow(Va,e),new _r(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Yn(qh(e>=240?e-240:e+120,o,r),qh(e,o,r),qh(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new _r(kw(this.h),Bu(this.s),Bu(this.l),Cd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cd(this.opacity);return`${e===1?"hsl(":"hsla("}${kw(this.h)}, ${Bu(this.s)*100}%, ${Bu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kw(e){return e=(e||0)%360,e<0?e+360:e}function Bu(e){return Math.max(0,Math.min(1,e||0))}function qh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Yg=e=>()=>e;function vD(e,t){return function(n){return e+n*t}}function wD(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bD(e){return(e=+e)==1?Nk:function(t,n){return n-t?wD(t,n,e):Yg(isNaN(t)?n:t)}}function Nk(e,t){var n=t-e;return n?vD(e,n):Yg(isNaN(e)?t:e)}const Nd=(function e(t){var n=bD(t);function r(o,i){var l=n((o=Vm(o)).r,(i=Vm(i)).r),c=n(o.g,i.g),d=n(o.b,i.b),f=Nk(o.opacity,i.opacity);return function(m){return o.r=l(m),o.g=c(m),o.b=d(m),o.opacity=f(m),o+""}}return r.gamma=e,r})(1);function SD(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function kD(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function CD(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),l;for(l=0;l<r;++l)o[l]=_a(e[l],t[l]);for(;l<n;++l)i[l]=t[l];return function(c){for(l=0;l<r;++l)i[l]=o[l](c);return i}}function ND(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Xr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ED(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=_a(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var Hm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gh=new RegExp(Hm.source,"g");function jD(e){return function(){return e}}function _D(e){return function(t){return e(t)+""}}function Ek(e,t){var n=Hm.lastIndex=Gh.lastIndex=0,r,o,i,l=-1,c=[],d=[];for(e=e+"",t=t+"";(r=Hm.exec(e))&&(o=Gh.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),c[l]?c[l]+=i:c[++l]=i),(r=r[0])===(o=o[0])?c[l]?c[l]+=o:c[++l]=o:(c[++l]=null,d.push({i:l,x:Xr(r,o)})),n=Gh.lastIndex;return n<t.length&&(i=t.slice(n),c[l]?c[l]+=i:c[++l]=i),c.length<2?d[0]?_D(d[0].x):jD(t):(t=d.length,function(f){for(var m=0,p;m<t;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function _a(e,t){var n=typeof t,r;return t==null||n==="boolean"?Yg(t):(n==="number"?Xr:n==="string"?(r=Vi(t))?(t=r,Nd):Ek:t instanceof Vi?Nd:t instanceof Date?ND:kD(t)?SD:Array.isArray(t)?CD:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ED:Xr)(e,t)}var Cw=180/Math.PI,Um={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jk(e,t,n,r,o,i){var l,c,d;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(d=e*n+t*r)&&(n-=e*d,r-=t*d),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,d/=c),e*r<t*n&&(e=-e,t=-t,d=-d,l=-l),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Cw,skewX:Math.atan(d)*Cw,scaleX:l,scaleY:c}}var Vu;function PD(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Um:jk(t.a,t.b,t.c,t.d,t.e,t.f)}function AD(e){return e==null||(Vu||(Vu=document.createElementNS("http://www.w3.org/2000/svg","g")),Vu.setAttribute("transform",e),!(e=Vu.transform.baseVal.consolidate()))?Um:(e=e.matrix,jk(e.a,e.b,e.c,e.d,e.e,e.f))}function _k(e,t,n,r){function o(f){return f.length?f.pop()+" ":""}function i(f,m,p,g,x,b){if(f!==p||m!==g){var v=x.push("translate(",null,t,null,n);b.push({i:v-4,x:Xr(f,p)},{i:v-2,x:Xr(m,g)})}else(p||g)&&x.push("translate("+p+t+g+n)}function l(f,m,p,g){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),g.push({i:p.push(o(p)+"rotate(",null,r)-2,x:Xr(f,m)})):m&&p.push(o(p)+"rotate("+m+r)}function c(f,m,p,g){f!==m?g.push({i:p.push(o(p)+"skewX(",null,r)-2,x:Xr(f,m)}):m&&p.push(o(p)+"skewX("+m+r)}function d(f,m,p,g,x,b){if(f!==p||m!==g){var v=x.push(o(x)+"scale(",null,",",null,")");b.push({i:v-4,x:Xr(f,p)},{i:v-2,x:Xr(m,g)})}else(p!==1||g!==1)&&x.push(o(x)+"scale("+p+","+g+")")}return function(f,m){var p=[],g=[];return f=e(f),m=e(m),i(f.translateX,f.translateY,m.translateX,m.translateY,p,g),l(f.rotate,m.rotate,p,g),c(f.skewX,m.skewX,p,g),d(f.scaleX,f.scaleY,m.scaleX,m.scaleY,p,g),f=m=null,function(x){for(var b=-1,v=g.length,w;++b<v;)p[(w=g[b]).i]=w.x(x);return p.join("")}}}var TD=_k(PD,"px, ","px)","deg)"),ID=_k(AD,", ",")",")"),RD=1e-12;function Nw(e){return((e=Math.exp(e))+1/e)/2}function MD(e){return((e=Math.exp(e))-1/e)/2}function DD(e){return((e=Math.exp(2*e))-1)/(e+1)}const ad=(function e(t,n,r){function o(i,l){var c=i[0],d=i[1],f=i[2],m=l[0],p=l[1],g=l[2],x=m-c,b=p-d,v=x*x+b*b,w,k;if(v<RD)k=Math.log(g/f)/t,w=function(I){return[c+I*x,d+I*b,f*Math.exp(t*I*k)]};else{var E=Math.sqrt(v),C=(g*g-f*f+r*v)/(2*f*n*E),_=(g*g-f*f-r*v)/(2*g*n*E),R=Math.log(Math.sqrt(C*C+1)-C),P=Math.log(Math.sqrt(_*_+1)-_);k=(P-R)/t,w=function(I){var F=I*k,W=Nw(R),z=f/(n*E)*(W*DD(t*F+R)-MD(R));return[c+z*x,d+z*b,f*W/Nw(t*F+R)]}}return w.duration=k*1e3*t/Math.SQRT2,w}return o.rho=function(i){var l=Math.max(.001,+i),c=l*l,d=c*c;return e(l,c,d)},o})(Math.SQRT2,2,4);var Qs=0,wa=0,ia=0,Pk=1e3,Ed,ba,jd=0,Hi=0,nf=0,Ua=typeof performance=="object"&&performance.now?performance:Date,Ak=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Xg(){return Hi||(Ak(OD),Hi=Ua.now()+nf)}function OD(){Hi=0}function _d(){this._call=this._time=this._next=null}_d.prototype=Tk.prototype={constructor:_d,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Xg():+n)+(t==null?0:+t),!this._next&&ba!==this&&(ba?ba._next=this:Ed=this,ba=this),this._call=e,this._time=n,Wm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wm())}};function Tk(e,t,n){var r=new _d;return r.restart(e,t,n),r}function LD(){Xg(),++Qs;for(var e=Ed,t;e;)(t=Hi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Qs}function Ew(){Hi=(jd=Ua.now())+nf,Qs=wa=0;try{LD()}finally{Qs=0,$D(),Hi=0}}function zD(){var e=Ua.now(),t=e-jd;t>Pk&&(nf-=t,jd=e)}function $D(){for(var e,t=Ed,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ed=n);ba=e,Wm(r)}function Wm(e){if(!Qs){wa&&(wa=clearTimeout(wa));var t=e-Hi;t>24?(e<1/0&&(wa=setTimeout(Ew,e-Ua.now()-nf)),ia&&(ia=clearInterval(ia))):(ia||(jd=Ua.now(),ia=setInterval(zD,Pk)),Qs=1,Ak(Ew))}}function jw(e,t,n){var r=new _d;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var FD=ef("start","end","cancel","interrupt"),BD=[],Ik=0,_w=1,Ym=2,cd=3,Pw=4,Xm=5,ud=6;function rf(e,t,n,r,o,i){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;VD(e,n,{name:t,index:r,group:o,on:FD,tween:BD,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Ik})}function qg(e,t){var n=Dr(e,t);if(n.state>Ik)throw new Error("too late; already scheduled");return n}function eo(e,t){var n=Dr(e,t);if(n.state>cd)throw new Error("too late; already running");return n}function Dr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function VD(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Tk(i,0,n.time);function i(f){n.state=_w,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var m,p,g,x;if(n.state!==_w)return d();for(m in r)if(x=r[m],x.name===n.name){if(x.state===cd)return jw(l);x.state===Pw?(x.state=ud,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete r[m]):+m<t&&(x.state=ud,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete r[m])}if(jw(function(){n.state===cd&&(n.state=Pw,n.timer.restart(c,n.delay,n.time),c(f))}),n.state=Ym,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ym){for(n.state=cd,o=new Array(g=n.tween.length),m=0,p=-1;m<g;++m)(x=n.tween[m].value.call(e,e.__data__,n.index,n.group))&&(o[++p]=x);o.length=p+1}}function c(f){for(var m=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=Xm,1),p=-1,g=o.length;++p<g;)o[p].call(e,m);n.state===Xm&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=ud,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function dd(e,t){var n=e.__transition,r,o,i=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){i=!1;continue}o=r.state>Ym&&r.state<Xm,r.state=ud,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}i&&delete e.__transition}}function HD(e){return this.each(function(){dd(this,e)})}function UD(e,t){var n,r;return function(){var o=eo(this,e),i=o.tween;if(i!==n){r=n=i;for(var l=0,c=r.length;l<c;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}o.tween=r}}function WD(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=eo(this,e),l=i.tween;if(l!==r){o=(r=l).slice();for(var c={name:t,value:n},d=0,f=o.length;d<f;++d)if(o[d].name===t){o[d]=c;break}d===f&&o.push(c)}i.tween=o}}function YD(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Dr(this.node(),n).tween,o=0,i=r.length,l;o<i;++o)if((l=r[o]).name===e)return l.value;return null}return this.each((t==null?UD:WD)(n,e,t))}function Gg(e,t,n){var r=e._id;return e.each(function(){var o=eo(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Dr(o,r).value[t]}}function Rk(e,t){var n;return(typeof t=="number"?Xr:t instanceof Vi?Nd:(n=Vi(t))?(t=n,Nd):Ek)(e,t)}function XD(e){return function(){this.removeAttribute(e)}}function qD(e){return function(){this.removeAttributeNS(e.space,e.local)}}function GD(e,t,n){var r,o=n+"",i;return function(){var l=this.getAttribute(e);return l===o?null:l===r?i:i=t(r=l,n)}}function KD(e,t,n){var r,o=n+"",i;return function(){var l=this.getAttributeNS(e.space,e.local);return l===o?null:l===r?i:i=t(r=l,n)}}function QD(e,t,n){var r,o,i;return function(){var l,c=n(this),d;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=c+"",l===d?null:l===r&&d===o?i:(o=d,i=t(r=l,c)))}}function JD(e,t,n){var r,o,i;return function(){var l,c=n(this),d;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=c+"",l===d?null:l===r&&d===o?i:(o=d,i=t(r=l,c)))}}function ZD(e,t){var n=tf(e),r=n==="transform"?ID:Rk;return this.attrTween(e,typeof t=="function"?(n.local?JD:QD)(n,r,Gg(this,"attr."+e,t)):t==null?(n.local?qD:XD)(n):(n.local?KD:GD)(n,r,t))}function eO(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function tO(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function nO(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&tO(e,i)),n}return o._value=t,o}function rO(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&eO(e,i)),n}return o._value=t,o}function oO(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=tf(e);return this.tween(n,(r.local?nO:rO)(r,t))}function iO(e,t){return function(){qg(this,e).delay=+t.apply(this,arguments)}}function sO(e,t){return t=+t,function(){qg(this,e).delay=t}}function lO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?iO:sO)(t,e)):Dr(this.node(),t).delay}function aO(e,t){return function(){eo(this,e).duration=+t.apply(this,arguments)}}function cO(e,t){return t=+t,function(){eo(this,e).duration=t}}function uO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?aO:cO)(t,e)):Dr(this.node(),t).duration}function dO(e,t){if(typeof t!="function")throw new Error;return function(){eo(this,e).ease=t}}function fO(e){var t=this._id;return arguments.length?this.each(dO(t,e)):Dr(this.node(),t).ease}function pO(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;eo(this,e).ease=n}}function hO(e){if(typeof e!="function")throw new Error;return this.each(pO(this._id,e))}function mO(e){typeof e!="function"&&(e=uk(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],l=i.length,c=r[o]=[],d,f=0;f<l;++f)(d=i[f])&&e.call(d,d.__data__,f,i)&&c.push(d);return new wo(r,this._parents,this._name,this._id)}function gO(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),l=new Array(r),c=0;c<i;++c)for(var d=t[c],f=n[c],m=d.length,p=l[c]=new Array(m),g,x=0;x<m;++x)(g=d[x]||f[x])&&(p[x]=g);for(;c<r;++c)l[c]=t[c];return new wo(l,this._parents,this._name,this._id)}function xO(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function yO(e,t,n){var r,o,i=xO(t)?qg:eo;return function(){var l=i(this,e),c=l.on;c!==r&&(o=(r=c).copy()).on(t,n),l.on=o}}function vO(e,t){var n=this._id;return arguments.length<2?Dr(this.node(),n).on.on(e):this.each(yO(n,e,t))}function wO(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function bO(){return this.on("end.remove",wO(this._id))}function SO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hg(e));for(var r=this._groups,o=r.length,i=new Array(o),l=0;l<o;++l)for(var c=r[l],d=c.length,f=i[l]=new Array(d),m,p,g=0;g<d;++g)(m=c[g])&&(p=e.call(m,m.__data__,g,c))&&("__data__"in m&&(p.__data__=m.__data__),f[g]=p,rf(f[g],t,n,g,f,Dr(m,n)));return new wo(i,this._parents,t,n)}function kO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ck(e));for(var r=this._groups,o=r.length,i=[],l=[],c=0;c<o;++c)for(var d=r[c],f=d.length,m,p=0;p<f;++p)if(m=d[p]){for(var g=e.call(m,m.__data__,p,d),x,b=Dr(m,n),v=0,w=g.length;v<w;++v)(x=g[v])&&rf(x,t,n,v,g,b);i.push(g),l.push(m)}return new wo(i,l,t,n)}var CO=ac.prototype.constructor;function NO(){return new CO(this._groups,this._parents)}function EO(e,t){var n,r,o;return function(){var i=Ks(this,e),l=(this.style.removeProperty(e),Ks(this,e));return i===l?null:i===n&&l===r?o:o=t(n=i,r=l)}}function Mk(e){return function(){this.style.removeProperty(e)}}function jO(e,t,n){var r,o=n+"",i;return function(){var l=Ks(this,e);return l===o?null:l===r?i:i=t(r=l,n)}}function _O(e,t,n){var r,o,i;return function(){var l=Ks(this,e),c=n(this),d=c+"";return c==null&&(d=c=(this.style.removeProperty(e),Ks(this,e))),l===d?null:l===r&&d===o?i:(o=d,i=t(r=l,c))}}function PO(e,t){var n,r,o,i="style."+t,l="end."+i,c;return function(){var d=eo(this,e),f=d.on,m=d.value[i]==null?c||(c=Mk(t)):void 0;(f!==n||o!==m)&&(r=(n=f).copy()).on(l,o=m),d.on=r}}function AO(e,t,n){var r=(e+="")=="transform"?TD:Rk;return t==null?this.styleTween(e,EO(e,r)).on("end.style."+e,Mk(e)):typeof t=="function"?this.styleTween(e,_O(e,r,Gg(this,"style."+e,t))).each(PO(this._id,e)):this.styleTween(e,jO(e,r,t),n).on("end.style."+e,null)}function TO(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function IO(e,t,n){var r,o;function i(){var l=t.apply(this,arguments);return l!==o&&(r=(o=l)&&TO(e,l,n)),r}return i._value=t,i}function RO(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,IO(e,t,n??""))}function MO(e){return function(){this.textContent=e}}function DO(e){return function(){var t=e(this);this.textContent=t??""}}function OO(e){return this.tween("text",typeof e=="function"?DO(Gg(this,"text",e)):MO(e==null?"":e+""))}function LO(e){return function(t){this.textContent=e.call(this,t)}}function zO(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&LO(o)),t}return r._value=e,r}function $O(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,zO(e))}function FO(){for(var e=this._name,t=this._id,n=Dk(),r=this._groups,o=r.length,i=0;i<o;++i)for(var l=r[i],c=l.length,d,f=0;f<c;++f)if(d=l[f]){var m=Dr(d,t);rf(d,e,n,f,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new wo(r,this._parents,e,n)}function BO(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,l){var c={value:l},d={value:function(){--o===0&&i()}};n.each(function(){var f=eo(this,r),m=f.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(d)),f.on=t}),o===0&&i()})}var VO=0;function wo(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Dk(){return++VO}var go=ac.prototype;wo.prototype={constructor:wo,select:SO,selectAll:kO,selectChild:go.selectChild,selectChildren:go.selectChildren,filter:mO,merge:gO,selection:NO,transition:FO,call:go.call,nodes:go.nodes,node:go.node,size:go.size,empty:go.empty,each:go.each,on:vO,attr:ZD,attrTween:oO,style:AO,styleTween:RO,text:OO,textTween:$O,remove:bO,tween:YD,delay:lO,duration:uO,ease:fO,easeVarying:hO,end:BO,[Symbol.iterator]:go[Symbol.iterator]};function HO(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var UO={time:null,delay:0,duration:250,ease:HO};function WO(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function YO(e){var t,n;e instanceof wo?(t=e._id,e=e._name):(t=Dk(),(n=UO).time=Xg(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var l=r[i],c=l.length,d,f=0;f<c;++f)(d=l[f])&&rf(d,e,t,f,l,n||WO(d,t));return new wo(r,this._parents,e,t)}ac.prototype.interrupt=HD;ac.prototype.transition=YO;const Hu=e=>()=>e;function XO(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function vo(e,t,n){this.k=e,this.x=t,this.y=n}vo.prototype={constructor:vo,scale:function(e){return e===1?this:new vo(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new vo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var of=new vo(1,0,0);Ok.prototype=vo.prototype;function Ok(e){for(;!e.__zoom;)if(!(e=e.parentNode))return of;return e.__zoom}function Kh(e){e.stopImmediatePropagation()}function sa(e){e.preventDefault(),e.stopImmediatePropagation()}function qO(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function GO(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Aw(){return this.__zoom||of}function KO(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function QO(){return navigator.maxTouchPoints||"ontouchstart"in this}function JO(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l))}function Lk(){var e=qO,t=GO,n=JO,r=KO,o=QO,i=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,d=ad,f=ef("start","zoom","end"),m,p,g,x=500,b=150,v=0,w=10;function k(A){A.property("__zoom",Aw).on("wheel.zoom",F,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",z).filter(o).on("touchstart.zoom",B).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(A,O,$,q){var D=A.selection?A.selection():A;D.property("__zoom",Aw),A!==D?R(A,O,$,q):D.interrupt().each(function(){P(this,arguments).event(q).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},k.scaleBy=function(A,O,$,q){k.scaleTo(A,function(){var D=this.__zoom.k,U=typeof O=="function"?O.apply(this,arguments):O;return D*U},$,q)},k.scaleTo=function(A,O,$,q){k.transform(A,function(){var D=t.apply(this,arguments),U=this.__zoom,M=$==null?_(D):typeof $=="function"?$.apply(this,arguments):$,H=U.invert(M),Y=typeof O=="function"?O.apply(this,arguments):O;return n(C(E(U,Y),M,H),D,l)},$,q)},k.translateBy=function(A,O,$,q){k.transform(A,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof $=="function"?$.apply(this,arguments):$),t.apply(this,arguments),l)},null,q)},k.translateTo=function(A,O,$,q,D){k.transform(A,function(){var U=t.apply(this,arguments),M=this.__zoom,H=q==null?_(U):typeof q=="function"?q.apply(this,arguments):q;return n(of.translate(H[0],H[1]).scale(M.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof $=="function"?-$.apply(this,arguments):-$),U,l)},q,D)};function E(A,O){return O=Math.max(i[0],Math.min(i[1],O)),O===A.k?A:new vo(O,A.x,A.y)}function C(A,O,$){var q=O[0]-$[0]*A.k,D=O[1]-$[1]*A.k;return q===A.x&&D===A.y?A:new vo(A.k,q,D)}function _(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function R(A,O,$,q){A.on("start.zoom",function(){P(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(q).end()}).tween("zoom",function(){var D=this,U=arguments,M=P(D,U).event(q),H=t.apply(D,U),Y=$==null?_(H):typeof $=="function"?$.apply(D,U):$,T=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),V=D.__zoom,Z=typeof O=="function"?O.apply(D,U):O,J=d(V.invert(Y).concat(T/V.k),Z.invert(Y).concat(T/Z.k));return function(K){if(K===1)K=Z;else{var te=J(K),Q=T/te[2];K=new vo(Q,Y[0]-te[0]*Q,Y[1]-te[1]*Q)}M.zoom(null,K)}})}function P(A,O,$){return!$&&A.__zooming||new I(A,O)}function I(A,O){this.that=A,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,O),this.taps=0}I.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,O){return this.mouse&&A!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var O=rr(this.that).datum();f.call(A,this.that,new XO(A,{sourceEvent:this.sourceEvent,target:k,transform:this.that.__zoom,dispatch:f}),O)}};function F(A,...O){if(!e.apply(this,arguments))return;var $=P(this,O).event(A),q=this.__zoom,D=Math.max(i[0],Math.min(i[1],q.k*Math.pow(2,r.apply(this,arguments)))),U=Er(A);if($.wheel)($.mouse[0][0]!==U[0]||$.mouse[0][1]!==U[1])&&($.mouse[1]=q.invert($.mouse[0]=U)),clearTimeout($.wheel);else{if(q.k===D)return;$.mouse=[U,q.invert(U)],dd(this),$.start()}sa(A),$.wheel=setTimeout(M,b),$.zoom("mouse",n(C(E(q,D),$.mouse[0],$.mouse[1]),$.extent,l));function M(){$.wheel=null,$.end()}}function W(A,...O){if(g||!e.apply(this,arguments))return;var $=A.currentTarget,q=P(this,O,!0).event(A),D=rr(A.view).on("mousemove.zoom",Y,!0).on("mouseup.zoom",T,!0),U=Er(A,$),M=A.clientX,H=A.clientY;wk(A.view),Kh(A),q.mouse=[U,this.__zoom.invert(U)],dd(this),q.start();function Y(V){if(sa(V),!q.moved){var Z=V.clientX-M,J=V.clientY-H;q.moved=Z*Z+J*J>v}q.event(V).zoom("mouse",n(C(q.that.__zoom,q.mouse[0]=Er(V,$),q.mouse[1]),q.extent,l))}function T(V){D.on("mousemove.zoom mouseup.zoom",null),bk(V.view,q.moved),sa(V),q.event(V).end()}}function z(A,...O){if(e.apply(this,arguments)){var $=this.__zoom,q=Er(A.changedTouches?A.changedTouches[0]:A,this),D=$.invert(q),U=$.k*(A.shiftKey?.5:2),M=n(C(E($,U),q,D),t.apply(this,O),l);sa(A),c>0?rr(this).transition().duration(c).call(R,M,q,A):rr(this).call(k.transform,M,q,A)}}function B(A,...O){if(e.apply(this,arguments)){var $=A.touches,q=$.length,D=P(this,O,A.changedTouches.length===q).event(A),U,M,H,Y;for(Kh(A),M=0;M<q;++M)H=$[M],Y=Er(H,this),Y=[Y,this.__zoom.invert(Y),H.identifier],D.touch0?!D.touch1&&D.touch0[2]!==Y[2]&&(D.touch1=Y,D.taps=0):(D.touch0=Y,U=!0,D.taps=1+!!m);m&&(m=clearTimeout(m)),U&&(D.taps<2&&(p=Y[0],m=setTimeout(function(){m=null},x)),dd(this),D.start())}}function X(A,...O){if(this.__zooming){var $=P(this,O).event(A),q=A.changedTouches,D=q.length,U,M,H,Y;for(sa(A),U=0;U<D;++U)M=q[U],H=Er(M,this),$.touch0&&$.touch0[2]===M.identifier?$.touch0[0]=H:$.touch1&&$.touch1[2]===M.identifier&&($.touch1[0]=H);if(M=$.that.__zoom,$.touch1){var T=$.touch0[0],V=$.touch0[1],Z=$.touch1[0],J=$.touch1[1],K=(K=Z[0]-T[0])*K+(K=Z[1]-T[1])*K,te=(te=J[0]-V[0])*te+(te=J[1]-V[1])*te;M=E(M,Math.sqrt(K/te)),H=[(T[0]+Z[0])/2,(T[1]+Z[1])/2],Y=[(V[0]+J[0])/2,(V[1]+J[1])/2]}else if($.touch0)H=$.touch0[0],Y=$.touch0[1];else return;$.zoom("touch",n(C(M,H,Y),$.extent,l))}}function G(A,...O){if(this.__zooming){var $=P(this,O).event(A),q=A.changedTouches,D=q.length,U,M;for(Kh(A),g&&clearTimeout(g),g=setTimeout(function(){g=null},x),U=0;U<D;++U)M=q[U],$.touch0&&$.touch0[2]===M.identifier?delete $.touch0:$.touch1&&$.touch1[2]===M.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(M=Er(M,this),Math.hypot(p[0]-M[0],p[1]-M[1])<w)){var H=rr(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return k.wheelDelta=function(A){return arguments.length?(r=typeof A=="function"?A:Hu(+A),k):r},k.filter=function(A){return arguments.length?(e=typeof A=="function"?A:Hu(!!A),k):e},k.touchable=function(A){return arguments.length?(o=typeof A=="function"?A:Hu(!!A),k):o},k.extent=function(A){return arguments.length?(t=typeof A=="function"?A:Hu([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),k):t},k.scaleExtent=function(A){return arguments.length?(i[0]=+A[0],i[1]=+A[1],k):[i[0],i[1]]},k.translateExtent=function(A){return arguments.length?(l[0][0]=+A[0][0],l[1][0]=+A[1][0],l[0][1]=+A[0][1],l[1][1]=+A[1][1],k):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},k.constrain=function(A){return arguments.length?(n=A,k):n},k.duration=function(A){return arguments.length?(c=+A,k):c},k.interpolate=function(A){return arguments.length?(d=A,k):d},k.on=function(){var A=f.on.apply(f,arguments);return A===f?k:A},k.clickDistance=function(A){return arguments.length?(v=(A=+A)*A,k):Math.sqrt(v)},k.tapDistance=function(A){return arguments.length?(w=+A,k):w},k}const Jr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Wa=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],zk=["Enter"," ","Escape"],$k={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Js;(function(e){e.Strict="strict",e.Loose="loose"})(Js||(Js={}));var Fi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Fi||(Fi={}));var Ya;(function(e){e.Partial="partial",e.Full="full"})(Ya||(Ya={}));const Fk={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Qo;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Qo||(Qo={}));var Xa;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Xa||(Xa={}));var Te;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Te||(Te={}));const Tw={[Te.Left]:Te.Right,[Te.Right]:Te.Left,[Te.Top]:Te.Bottom,[Te.Bottom]:Te.Top};function Bk(e){return e===null?null:e?"valid":"invalid"}const Vk=e=>"id"in e&&"source"in e&&"target"in e,ZO=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Kg=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),uc=(e,t=[0,0])=>{const{width:n,height:r}=ko(e),o=e.origin??t,i=n*o[0],l=r*o[1];return{x:e.position.x-i,y:e.position.y-l}},eL=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let l=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(l=i?t.nodeLookup.get(o):Kg(o)?o:t.nodeLookup.get(o.id));const c=l?Pd(l,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return sf(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return lf(n)},dc=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=sf(n,Pd(o)),r=!0)}),r?lf(n):{x:0,y:0,width:0,height:0}},Qg=(e,t,[n,r,o]=[0,0,1],i=!1,l=!1)=>{const c={...pc(t,[n,r,o]),width:t.width/o,height:t.height/o},d=[];for(const f of e.values()){const{measured:m,selectable:p=!0,hidden:g=!1}=f;if(l&&!p||g)continue;const x=m.width??f.width??f.initialWidth??null,b=m.height??f.height??f.initialHeight??null,v=qa(c,el(f)),w=(x??0)*(b??0),k=i&&v>0;(!f.internals.handleBounds||k||v>=w||f.dragging)&&d.push(f)}return d},tL=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function nL(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function rL({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},l){if(e.size===0)return Promise.resolve(!0);const c=nL(e,l),d=dc(c),f=Jg(d,t,n,(l==null?void 0:l.minZoom)??o,(l==null?void 0:l.maxZoom)??i,(l==null?void 0:l.padding)??.1);return await r.setViewport(f,{duration:l==null?void 0:l.duration,ease:l==null?void 0:l.ease,interpolate:l==null?void 0:l.interpolate}),Promise.resolve(!0)}function Hk({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const l=n.get(e),c=l.parentId?n.get(l.parentId):void 0,{x:d,y:f}=c?c.internals.positionAbsolute:{x:0,y:0},m=l.origin??r;let p=l.extent||o;if(l.extent==="parent"&&!l.expandParent)if(!c)i==null||i("005",Jr.error005());else{const x=c.measured.width,b=c.measured.height;x&&b&&(p=[[d,f],[d+x,f+b]])}else c&&tl(l.extent)&&(p=[[l.extent[0][0]+d,l.extent[0][1]+f],[l.extent[1][0]+d,l.extent[1][1]+f]]);const g=tl(p)?Ui(t,p,l.measured):t;return(l.measured.width===void 0||l.measured.height===void 0)&&(i==null||i("015",Jr.error015())),{position:{x:g.x-d+(l.measured.width??0)*m[0],y:g.y-f+(l.measured.height??0)*m[1]},positionAbsolute:g}}async function oL({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(g=>g.id)),l=[];for(const g of n){if(g.deletable===!1)continue;const x=i.has(g.id),b=!x&&g.parentId&&l.find(v=>v.id===g.parentId);(x||b)&&l.push(g)}const c=new Set(t.map(g=>g.id)),d=r.filter(g=>g.deletable!==!1),m=tL(l,d);for(const g of d)c.has(g.id)&&!m.find(b=>b.id===g.id)&&m.push(g);if(!o)return{edges:m,nodes:l};const p=await o({nodes:l,edges:m});return typeof p=="boolean"?p?{edges:m,nodes:l}:{edges:[],nodes:[]}:p}const Zs=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ui=(e={x:0,y:0},t,n)=>({x:Zs(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Zs(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Uk(e,t,n){const{width:r,height:o}=ko(n),{x:i,y:l}=n.internals.positionAbsolute;return Ui(e,[[i,l],[i+r,l+o]],t)}const Iw=(e,t,n)=>e<t?Zs(Math.abs(e-t),1,t)/t:e>n?-Zs(Math.abs(e-n),1,t)/t:0,Wk=(e,t,n=15,r=40)=>{const o=Iw(e.x,r,t.width-r)*n,i=Iw(e.y,r,t.height-r)*n;return[o,i]},sf=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),qm=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),lf=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),el=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Kg(e)?e.internals.positionAbsolute:uc(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Pd=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Kg(e)?e.internals.positionAbsolute:uc(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},Yk=(e,t)=>lf(sf(qm(e),qm(t))),qa=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Rw=e=>Pr(e.width)&&Pr(e.height)&&Pr(e.x)&&Pr(e.y),Pr=e=>!isNaN(e)&&isFinite(e),iL=(e,t)=>{},fc=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),pc=({x:e,y:t},[n,r,o],i=!1,l=[1,1])=>{const c={x:(e-n)/o,y:(t-r)/o};return i?fc(c,l):c},Ad=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function _s(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function sL(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=_s(e,n),o=_s(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=_s(e.top??e.y??0,n),o=_s(e.bottom??e.y??0,n),i=_s(e.left??e.x??0,t),l=_s(e.right??e.x??0,t);return{top:r,right:l,bottom:o,left:i,x:i+l,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function lL(e,t,n,r,o,i){const{x:l,y:c}=Ad(e,[t,n,r]),{x:d,y:f}=Ad({x:e.x+e.width,y:e.y+e.height},[t,n,r]),m=o-d,p=i-f;return{left:Math.floor(l),top:Math.floor(c),right:Math.floor(m),bottom:Math.floor(p)}}const Jg=(e,t,n,r,o,i)=>{const l=sL(i,t,n),c=(t-l.x)/e.width,d=(n-l.y)/e.height,f=Math.min(c,d),m=Zs(f,r,o),p=e.x+e.width/2,g=e.y+e.height/2,x=t/2-p*m,b=n/2-g*m,v=lL(e,x,b,m,t,n),w={left:Math.min(v.left-l.left,0),top:Math.min(v.top-l.top,0),right:Math.min(v.right-l.right,0),bottom:Math.min(v.bottom-l.bottom,0)};return{x:x-w.left+w.right,y:b-w.top+w.bottom,zoom:m}},Ga=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function tl(e){return e!=null&&e!=="parent"}function ko(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Zg(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Xk(e,t={width:0,height:0},n,r,o){const i={...e},l=r.get(n);if(l){const c=l.origin||o;i.x+=l.internals.positionAbsolute.x-(t.width??0)*c[0],i.y+=l.internals.positionAbsolute.y-(t.height??0)*c[1]}return i}function Mw(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function aL(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function cL(e){return{...$k,...e||{}}}function Pa(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:l}=Ar(e),c=pc({x:i-((o==null?void 0:o.left)??0),y:l-((o==null?void 0:o.top)??0)},r),{x:d,y:f}=n?fc(c,t):c;return{xSnapped:d,ySnapped:f,...c}}const ex=e=>({width:e.offsetWidth,height:e.offsetHeight}),qk=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},uL=["INPUT","SELECT","TEXTAREA"];function Gk(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:uL.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Kk=e=>"clientX"in e,Ar=(e,t)=>{var i,l;const n=Kk(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Dw=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:e,nodeId:o,position:l.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...ex(l)}})};function Qk({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:l,targetControlY:c}){const d=e*.125+o*.375+l*.375+n*.125,f=t*.125+i*.375+c*.375+r*.125,m=Math.abs(d-e),p=Math.abs(f-t);return[d,f,m,p]}function Uu(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Ow({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case Te.Left:return[t-Uu(t-r,i),n];case Te.Right:return[t+Uu(r-t,i),n];case Te.Top:return[t,n-Uu(n-o,i)];case Te.Bottom:return[t,n+Uu(o-n,i)]}}function Jk({sourceX:e,sourceY:t,sourcePosition:n=Te.Bottom,targetX:r,targetY:o,targetPosition:i=Te.Top,curvature:l=.25}){const[c,d]=Ow({pos:n,x1:e,y1:t,x2:r,y2:o,c:l}),[f,m]=Ow({pos:i,x1:r,y1:o,x2:e,y2:t,c:l}),[p,g,x,b]=Qk({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:c,sourceControlY:d,targetControlX:f,targetControlY:m});return[`M${e},${t} C${c},${d} ${f},${m} ${r},${o}`,p,g,x,b]}function Zk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,l=Math.abs(r-t)/2,c=r<t?r+l:r-l;return[i,c,o,l]}function dL({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const l=o&&n?r+1e3:r,c=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return l+c}function fL({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=sf(Pd(e),Pd(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const l={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return qa(l,lf(i))>0}const pL=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,hL=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),mL=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||pL;let o;return Vk(e)?o={...e}:o={...e,id:r(e)},hL(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function tx({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,l,c]=Zk({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,l,c]}const Lw={[Te.Left]:{x:-1,y:0},[Te.Right]:{x:1,y:0},[Te.Top]:{x:0,y:-1},[Te.Bottom]:{x:0,y:1}},gL=({source:e,sourcePosition:t=Te.Bottom,target:n})=>t===Te.Left||t===Te.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},zw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function xL({source:e,sourcePosition:t=Te.Bottom,target:n,targetPosition:r=Te.Top,center:o,offset:i,stepPosition:l}){const c=Lw[t],d=Lw[r],f={x:e.x+c.x*i,y:e.y+c.y*i},m={x:n.x+d.x*i,y:n.y+d.y*i},p=gL({source:f,sourcePosition:t,target:m}),g=p.x!==0?"x":"y",x=p[g];let b=[],v,w;const k={x:0,y:0},E={x:0,y:0},[,,C,_]=Zk({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(c[g]*d[g]===-1){g==="x"?(v=o.x??f.x+(m.x-f.x)*l,w=o.y??(f.y+m.y)/2):(v=o.x??(f.x+m.x)/2,w=o.y??f.y+(m.y-f.y)*l);const P=[{x:v,y:f.y},{x:v,y:m.y}],I=[{x:f.x,y:w},{x:m.x,y:w}];c[g]===x?b=g==="x"?P:I:b=g==="x"?I:P}else{const P=[{x:f.x,y:m.y}],I=[{x:m.x,y:f.y}];if(g==="x"?b=c.x===x?I:P:b=c.y===x?P:I,t===r){const X=Math.abs(e[g]-n[g]);if(X<=i){const G=Math.min(i-1,i-X);c[g]===x?k[g]=(f[g]>e[g]?-1:1)*G:E[g]=(m[g]>n[g]?-1:1)*G}}if(t!==r){const X=g==="x"?"y":"x",G=c[g]===d[X],A=f[X]>m[X],O=f[X]<m[X];(c[g]===1&&(!G&&A||G&&O)||c[g]!==1&&(!G&&O||G&&A))&&(b=g==="x"?P:I)}const F={x:f.x+k.x,y:f.y+k.y},W={x:m.x+E.x,y:m.y+E.y},z=Math.max(Math.abs(F.x-b[0].x),Math.abs(W.x-b[0].x)),B=Math.max(Math.abs(F.y-b[0].y),Math.abs(W.y-b[0].y));z>=B?(v=(F.x+W.x)/2,w=b[0].y):(v=b[0].x,w=(F.y+W.y)/2)}return[[e,{x:f.x+k.x,y:f.y+k.y},...b,{x:m.x+E.x,y:m.y+E.y},n],v,w,C,_]}function yL(e,t,n,r){const o=Math.min(zw(e,t)/2,zw(t,n)/2,r),{x:i,y:l}=t;if(e.x===i&&i===n.x||e.y===l&&l===n.y)return`L${i} ${l}`;if(e.y===l){const f=e.x<n.x?-1:1,m=e.y<n.y?1:-1;return`L ${i+o*f},${l}Q ${i},${l} ${i},${l+o*m}`}const c=e.x<n.x?1:-1,d=e.y<n.y?-1:1;return`L ${i},${l+o*d}Q ${i},${l} ${i+o*c},${l}`}function Gm({sourceX:e,sourceY:t,sourcePosition:n=Te.Bottom,targetX:r,targetY:o,targetPosition:i=Te.Top,borderRadius:l=5,centerX:c,centerY:d,offset:f=20,stepPosition:m=.5}){const[p,g,x,b,v]=xL({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:c,y:d},offset:f,stepPosition:m});return[p.reduce((k,E,C)=>{let _="";return C>0&&C<p.length-1?_=yL(p[C-1],E,p[C+1],l):_=`${C===0?"M":"L"}${E.x} ${E.y}`,k+=_,k},""),g,x,b,v]}function $w(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function vL(e){var p;const{sourceNode:t,targetNode:n}=e;if(!$w(t)||!$w(n))return null;const r=t.internals.handleBounds||Fw(t.handles),o=n.internals.handleBounds||Fw(n.handles),i=Bw((r==null?void 0:r.source)??[],e.sourceHandle),l=Bw(e.connectionMode===Js.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!l)return(p=e.onError)==null||p.call(e,"008",Jr.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const c=(i==null?void 0:i.position)||Te.Bottom,d=(l==null?void 0:l.position)||Te.Top,f=Wi(t,i,c),m=Wi(n,l,d);return{sourceX:f.x,sourceY:f.y,targetX:m.x,targetY:m.y,sourcePosition:c,targetPosition:d}}function Fw(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Wi(e,t,n=Te.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:l,height:c}=t??ko(e);if(r)return{x:o+l/2,y:i+c/2};switch((t==null?void 0:t.position)??n){case Te.Top:return{x:o+l/2,y:i};case Te.Right:return{x:o+l,y:i+c/2};case Te.Bottom:return{x:o+l/2,y:i+c};case Te.Left:return{x:o,y:i+c/2}}}function Bw(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Km(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function wL(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((l,c)=>([c.markerStart||r,c.markerEnd||o].forEach(d=>{if(d&&typeof d=="object"){const f=Km(d,t);i.has(f)||(l.push({id:f,color:d.color||n,...d}),i.add(f))}}),l),[]).sort((l,c)=>l.id.localeCompare(c.id))}const eC=1e3,bL=10,nx={nodeOrigin:[0,0],nodeExtent:Wa,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},SL={...nx,checkEquality:!0};function rx(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function kL(e,t,n){const r=rx(nx,n);for(const o of e.values())if(o.parentId)ix(o,e,t,r);else{const i=uc(o,r.nodeOrigin),l=tl(o.extent)?o.extent:r.nodeExtent,c=Ui(i,l,ko(o));o.internals.positionAbsolute=c}}function CL(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const i={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(i):o.type==="target"&&r.push(i)}return{source:n,target:r}}function ox(e){return e==="manual"}function Qm(e,t,n,r={}){var f,m;const o=rx(SL,r),i={i:0},l=new Map(t),c=o!=null&&o.elevateNodesOnSelect&&!ox(o.zIndexMode)?eC:0;let d=e.length>0;t.clear(),n.clear();for(const p of e){let g=l.get(p.id);if(o.checkEquality&&p===(g==null?void 0:g.internals.userNode))t.set(p.id,g);else{const x=uc(p,o.nodeOrigin),b=tl(p.extent)?p.extent:o.nodeExtent,v=Ui(x,b,ko(p));g={...o.defaults,...p,measured:{width:(f=p.measured)==null?void 0:f.width,height:(m=p.measured)==null?void 0:m.height},internals:{positionAbsolute:v,handleBounds:CL(p,g),z:tC(p,c,o.zIndexMode),userNode:p}},t.set(p.id,g)}(g.measured===void 0||g.measured.width===void 0||g.measured.height===void 0)&&!g.hidden&&(d=!1),p.parentId&&ix(g,t,n,r,i)}return d}function NL(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function ix(e,t,n,r,o){const{elevateNodesOnSelect:i,nodeOrigin:l,nodeExtent:c,zIndexMode:d}=rx(nx,r),f=e.parentId,m=t.get(f);if(!m){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}NL(e,n),o&&!m.parentId&&m.internals.rootParentIndex===void 0&&d==="auto"&&(m.internals.rootParentIndex=++o.i,m.internals.z=m.internals.z+o.i*bL),o&&m.internals.rootParentIndex!==void 0&&(o.i=m.internals.rootParentIndex);const p=i&&!ox(d)?eC:0,{x:g,y:x,z:b}=EL(e,m,l,c,p,d),{positionAbsolute:v}=e.internals,w=g!==v.x||x!==v.y;(w||b!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:w?{x:g,y:x}:v,z:b}})}function tC(e,t,n){const r=Pr(e.zIndex)?e.zIndex:0;return ox(n)?r:r+(e.selected?t:0)}function EL(e,t,n,r,o,i){const{x:l,y:c}=t.internals.positionAbsolute,d=ko(e),f=uc(e,n),m=tl(e.extent)?Ui(f,e.extent,d):f;let p=Ui({x:l+m.x,y:c+m.y},r,d);e.extent==="parent"&&(p=Uk(p,d,t));const g=tC(e,o,i),x=t.internals.z??0;return{x:p.x,y:p.y,z:x>=g?x+1:g}}function sx(e,t,n,r=[0,0]){var l;const o=[],i=new Map;for(const c of e){const d=t.get(c.parentId);if(!d)continue;const f=((l=i.get(c.parentId))==null?void 0:l.expandedRect)??el(d),m=Yk(f,c.rect);i.set(c.parentId,{expandedRect:m,parent:d})}return i.size>0&&i.forEach(({expandedRect:c,parent:d},f)=>{var C;const m=d.internals.positionAbsolute,p=ko(d),g=d.origin??r,x=c.x<m.x?Math.round(Math.abs(m.x-c.x)):0,b=c.y<m.y?Math.round(Math.abs(m.y-c.y)):0,v=Math.max(p.width,Math.round(c.width)),w=Math.max(p.height,Math.round(c.height)),k=(v-p.width)*g[0],E=(w-p.height)*g[1];(x>0||b>0||k||E)&&(o.push({id:f,type:"position",position:{x:d.position.x-x+k,y:d.position.y-b+E}}),(C=n.get(f))==null||C.forEach(_=>{e.some(R=>R.id===_.id)||o.push({id:_.id,type:"position",position:{x:_.position.x+x,y:_.position.y+b}})})),(p.width<c.width||p.height<c.height||x||b)&&o.push({id:f,type:"dimensions",setAttributes:!0,dimensions:{width:v+(x?g[0]*x-k:0),height:w+(b?g[1]*b-E:0)}})}),o}function jL(e,t,n,r,o,i,l){const c=r==null?void 0:r.querySelector(".xyflow__viewport");let d=!1;if(!c)return{changes:[],updatedInternals:d};const f=[],m=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(m.transform),g=[];for(const x of e.values()){const b=t.get(x.id);if(!b)continue;if(b.hidden){t.set(b.id,{...b,internals:{...b.internals,handleBounds:void 0}}),d=!0;continue}const v=ex(x.nodeElement),w=b.measured.width!==v.width||b.measured.height!==v.height;if(!!(v.width&&v.height&&(w||!b.internals.handleBounds||x.force))){const E=x.nodeElement.getBoundingClientRect(),C=tl(b.extent)?b.extent:i;let{positionAbsolute:_}=b.internals;b.parentId&&b.extent==="parent"?_=Uk(_,v,t.get(b.parentId)):C&&(_=Ui(_,C,v));const R={...b,measured:v,internals:{...b.internals,positionAbsolute:_,handleBounds:{source:Dw("source",x.nodeElement,E,p,b.id),target:Dw("target",x.nodeElement,E,p,b.id)}}};t.set(b.id,R),b.parentId&&ix(R,t,n,{nodeOrigin:o,zIndexMode:l}),d=!0,w&&(f.push({id:b.id,type:"dimensions",dimensions:v}),b.expandParent&&b.parentId&&g.push({id:b.id,parentId:b.parentId,rect:el(R,o)}))}}if(g.length>0){const x=sx(g,t,n,o);f.push(...x)}return{changes:f,updatedInternals:d}}async function _L({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const l=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),c=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(c)}function Vw(e,t,n,r,o,i){let l=o;const c=r.get(l)||new Map;r.set(l,c.set(n,t)),l=`${o}-${e}`;const d=r.get(l)||new Map;if(r.set(l,d.set(n,t)),i){l=`${o}-${e}-${i}`;const f=r.get(l)||new Map;r.set(l,f.set(n,t))}}function nC(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:l=null,targetHandle:c=null}=r,d={edgeId:r.id,source:o,target:i,sourceHandle:l,targetHandle:c},f=`${o}-${l}--${i}-${c}`,m=`${i}-${c}--${o}-${l}`;Vw("source",d,m,e,o,l),Vw("target",d,f,e,i,c),t.set(r.id,r)}}function rC(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:rC(n,t):!1}function Hw(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function PL(e,t,n,r){const o=new Map;for(const[i,l]of e)if((l.selected||l.id===r)&&(!l.parentId||!rC(l,e))&&(l.draggable||t&&typeof l.draggable>"u")){const c=e.get(i);c&&o.set(i,{id:i,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return o}function Qh({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var l,c,d;const o=[];for(const[f,m]of t){const p=(l=n.get(f))==null?void 0:l.internals.userNode;p&&o.push({...p,position:m.position,dragging:r})}if(!e)return[o[0],o];const i=(c=n.get(e))==null?void 0:c.internals.userNode;return[i?{...i,position:((d=t.get(e))==null?void 0:d.position)||i.position,dragging:r}:o[0],o]}function AL({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},l=fc(i,t);return{x:l.x-i.x,y:l.y-i.y}}function TL({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},l=0,c=new Map,d=!1,f={x:0,y:0},m=null,p=!1,g=null,x=!1,b=!1,v=null;function w({noDragClassName:E,handleSelector:C,domNode:_,isSelectable:R,nodeId:P,nodeClickDistance:I=0}){g=rr(_);function F({x:X,y:G}){const{nodeLookup:A,nodeExtent:O,snapGrid:$,snapToGrid:q,nodeOrigin:D,onNodeDrag:U,onSelectionDrag:M,onError:H,updateNodePositions:Y}=t();i={x:X,y:G};let T=!1;const V=c.size>1,Z=V&&O?qm(dc(c)):null,J=V&&q?AL({dragItems:c,snapGrid:$,x:X,y:G}):null;for(const[K,te]of c){if(!A.has(K))continue;let Q={x:X-te.distance.x,y:G-te.distance.y};q&&(Q=J?{x:Math.round(Q.x+J.x),y:Math.round(Q.y+J.y)}:fc(Q,$));let ie=null;if(V&&O&&!te.extent&&Z){const{positionAbsolute:fe}=te.internals,ge=fe.x-Z.x+O[0][0],De=fe.x+te.measured.width-Z.x2+O[1][0],Me=fe.y-Z.y+O[0][1],ot=fe.y+te.measured.height-Z.y2+O[1][1];ie=[[ge,Me],[De,ot]]}const{position:le,positionAbsolute:de}=Hk({nodeId:K,nextPosition:Q,nodeLookup:A,nodeExtent:ie||O,nodeOrigin:D,onError:H});T=T||te.position.x!==le.x||te.position.y!==le.y,te.position=le,te.internals.positionAbsolute=de}if(b=b||T,!!T&&(Y(c,!0),v&&(r||U||!P&&M))){const[K,te]=Qh({nodeId:P,dragItems:c,nodeLookup:A});r==null||r(v,c,K,te),U==null||U(v,K,te),P||M==null||M(v,te)}}async function W(){if(!m)return;const{transform:X,panBy:G,autoPanSpeed:A,autoPanOnNodeDrag:O}=t();if(!O){d=!1,cancelAnimationFrame(l);return}const[$,q]=Wk(f,m,A);($!==0||q!==0)&&(i.x=(i.x??0)-$/X[2],i.y=(i.y??0)-q/X[2],await G({x:$,y:q})&&F(i)),l=requestAnimationFrame(W)}function z(X){var V;const{nodeLookup:G,multiSelectionActive:A,nodesDraggable:O,transform:$,snapGrid:q,snapToGrid:D,selectNodesOnDrag:U,onNodeDragStart:M,onSelectionDragStart:H,unselectNodesAndEdges:Y}=t();p=!0,(!U||!R)&&!A&&P&&((V=G.get(P))!=null&&V.selected||Y()),R&&U&&P&&(e==null||e(P));const T=Pa(X.sourceEvent,{transform:$,snapGrid:q,snapToGrid:D,containerBounds:m});if(i=T,c=PL(G,O,T,P),c.size>0&&(n||M||!P&&H)){const[Z,J]=Qh({nodeId:P,dragItems:c,nodeLookup:G});n==null||n(X.sourceEvent,c,Z,J),M==null||M(X.sourceEvent,Z,J),P||H==null||H(X.sourceEvent,J)}}const B=Sk().clickDistance(I).on("start",X=>{const{domNode:G,nodeDragThreshold:A,transform:O,snapGrid:$,snapToGrid:q}=t();m=(G==null?void 0:G.getBoundingClientRect())||null,x=!1,b=!1,v=X.sourceEvent,A===0&&z(X),i=Pa(X.sourceEvent,{transform:O,snapGrid:$,snapToGrid:q,containerBounds:m}),f=Ar(X.sourceEvent,m)}).on("drag",X=>{const{autoPanOnNodeDrag:G,transform:A,snapGrid:O,snapToGrid:$,nodeDragThreshold:q,nodeLookup:D}=t(),U=Pa(X.sourceEvent,{transform:A,snapGrid:O,snapToGrid:$,containerBounds:m});if(v=X.sourceEvent,(X.sourceEvent.type==="touchmove"&&X.sourceEvent.touches.length>1||P&&!D.has(P))&&(x=!0),!x){if(!d&&G&&p&&(d=!0,W()),!p){const M=Ar(X.sourceEvent,m),H=M.x-f.x,Y=M.y-f.y;Math.sqrt(H*H+Y*Y)>q&&z(X)}(i.x!==U.xSnapped||i.y!==U.ySnapped)&&c&&p&&(f=Ar(X.sourceEvent,m),F(U))}}).on("end",X=>{if(!(!p||x)&&(d=!1,p=!1,cancelAnimationFrame(l),c.size>0)){const{nodeLookup:G,updateNodePositions:A,onNodeDragStop:O,onSelectionDragStop:$}=t();if(b&&(A(c,!1),b=!1),o||O||!P&&$){const[q,D]=Qh({nodeId:P,dragItems:c,nodeLookup:G,dragging:!1});o==null||o(X.sourceEvent,c,q,D),O==null||O(X.sourceEvent,q,D),P||$==null||$(X.sourceEvent,D)}}}).filter(X=>{const G=X.target;return!X.button&&(!E||!Hw(G,`.${E}`,_))&&(!C||Hw(G,C,_))});g.call(B)}function k(){g==null||g.on(".drag",null)}return{update:w,destroy:k}}function IL(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())qa(o,el(i))>0&&r.push(i);return r}const RL=250;function ML(e,t,n,r){var c,d;let o=[],i=1/0;const l=IL(e,n,t+RL);for(const f of l){const m=[...((c=f.internals.handleBounds)==null?void 0:c.source)??[],...((d=f.internals.handleBounds)==null?void 0:d.target)??[]];for(const p of m){if(r.nodeId===p.nodeId&&r.type===p.type&&r.id===p.id)continue;const{x:g,y:x}=Wi(f,p,p.position,!0),b=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(x-e.y,2));b>t||(b<i?(o=[{...p,x:g,y:x}],i=b):b===i&&o.push({...p,x:g,y:x}))}}if(!o.length)return null;if(o.length>1){const f=r.type==="source"?"target":"source";return o.find(m=>m.type===f)??o[0]}return o[0]}function oC(e,t,n,r,o,i=!1){var f,m,p;const l=r.get(e);if(!l)return null;const c=o==="strict"?(f=l.internals.handleBounds)==null?void 0:f[t]:[...((m=l.internals.handleBounds)==null?void 0:m.source)??[],...((p=l.internals.handleBounds)==null?void 0:p.target)??[]],d=(n?c==null?void 0:c.find(g=>g.id===n):c==null?void 0:c[0])??null;return d&&i?{...d,...Wi(l,d,d.position,!0)}:d}function iC(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function DL(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const sC=()=>!0;function OL(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:l,domNode:c,nodeLookup:d,lib:f,autoPanOnConnect:m,flowId:p,panBy:g,cancelConnection:x,onConnectStart:b,onConnect:v,onConnectEnd:w,isValidConnection:k=sC,onReconnectEnd:E,updateConnection:C,getTransform:_,getFromHandle:R,autoPanSpeed:P,dragThreshold:I=1,handleDomNode:F}){const W=qk(e.target);let z=0,B;const{x:X,y:G}=Ar(e),A=iC(i,F),O=c==null?void 0:c.getBoundingClientRect();let $=!1;if(!O||!A)return;const q=oC(o,A,r,d,t);if(!q)return;let D=Ar(e,O),U=!1,M=null,H=!1,Y=null;function T(){if(!m||!O)return;const[le,de]=Wk(D,O,P);g({x:le,y:de}),z=requestAnimationFrame(T)}const V={...q,nodeId:o,type:A,position:q.position},Z=d.get(o);let K={inProgress:!0,isValid:null,from:Wi(Z,V,Te.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:Z,to:D,toHandle:null,toPosition:Tw[V.position],toNode:null,pointer:D};function te(){$=!0,C(K),b==null||b(e,{nodeId:o,handleId:r,handleType:A})}I===0&&te();function Q(le){if(!$){const{x:ot,y:tt}=Ar(le),et=ot-X,ke=tt-G;if(!(et*et+ke*ke>I*I))return;te()}if(!R()||!V){ie(le);return}const de=_();D=Ar(le,O),B=ML(pc(D,de,!1,[1,1]),n,d,V),U||(T(),U=!0);const fe=lC(le,{handle:B,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:l?"target":"source",isValidConnection:k,doc:W,lib:f,flowId:p,nodeLookup:d});Y=fe.handleDomNode,M=fe.connection,H=DL(!!B,fe.isValid);const ge=d.get(o),De=ge?Wi(ge,V,Te.Left,!0):K.from,Me={...K,from:De,isValid:H,to:fe.toHandle&&H?Ad({x:fe.toHandle.x,y:fe.toHandle.y},de):D,toHandle:fe.toHandle,toPosition:H&&fe.toHandle?fe.toHandle.position:Tw[V.position],toNode:fe.toHandle?d.get(fe.toHandle.nodeId):null,pointer:D};C(Me),K=Me}function ie(le){if(!("touches"in le&&le.touches.length>0)){if($){(B||Y)&&M&&H&&(v==null||v(M));const{inProgress:de,...fe}=K,ge={...fe,toPosition:K.toHandle?K.toPosition:null};w==null||w(le,ge),i&&(E==null||E(le,ge))}x(),cancelAnimationFrame(z),U=!1,H=!1,M=null,Y=null,W.removeEventListener("mousemove",Q),W.removeEventListener("mouseup",ie),W.removeEventListener("touchmove",Q),W.removeEventListener("touchend",ie)}}W.addEventListener("mousemove",Q),W.addEventListener("mouseup",ie),W.addEventListener("touchmove",Q),W.addEventListener("touchend",ie)}function lC(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:l,lib:c,flowId:d,isValidConnection:f=sC,nodeLookup:m}){const p=i==="target",g=t?l.querySelector(`.${c}-flow__handle[data-id="${d}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x,y:b}=Ar(e),v=l.elementFromPoint(x,b),w=v!=null&&v.classList.contains(`${c}-flow__handle`)?v:g,k={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const E=iC(void 0,w),C=w.getAttribute("data-nodeid"),_=w.getAttribute("data-handleid"),R=w.classList.contains("connectable"),P=w.classList.contains("connectableend");if(!C||!E)return k;const I={source:p?C:r,sourceHandle:p?_:o,target:p?r:C,targetHandle:p?o:_};k.connection=I;const W=R&&P&&(n===Js.Strict?p&&E==="source"||!p&&E==="target":C!==r||_!==o);k.isValid=W&&f(I),k.toHandle=oC(C,E,_,m,n,!0)}return k}const Jm={onPointerDown:OL,isValid:lC};function LL({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=rr(e);function i({translateExtent:c,width:d,height:f,zoomStep:m=1,pannable:p=!0,zoomable:g=!0,inversePan:x=!1}){const b=C=>{if(C.sourceEvent.type!=="wheel"||!t)return;const _=n(),R=C.sourceEvent.ctrlKey&&Ga()?10:1,P=-C.sourceEvent.deltaY*(C.sourceEvent.deltaMode===1?.05:C.sourceEvent.deltaMode?1:.002)*m,I=_[2]*Math.pow(2,P*R);t.scaleTo(I)};let v=[0,0];const w=C=>{(C.sourceEvent.type==="mousedown"||C.sourceEvent.type==="touchstart")&&(v=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY])},k=C=>{const _=n();if(C.sourceEvent.type!=="mousemove"&&C.sourceEvent.type!=="touchmove"||!t)return;const R=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY],P=[R[0]-v[0],R[1]-v[1]];v=R;const I=r()*Math.max(_[2],Math.log(_[2]))*(x?-1:1),F={x:_[0]-P[0]*I,y:_[1]-P[1]*I},W=[[0,0],[d,f]];t.setViewportConstrained({x:F.x,y:F.y,zoom:_[2]},W,c)},E=Lk().on("start",w).on("zoom",p?k:null).on("zoom.wheel",g?b:null);o.call(E,{})}function l(){o.on("zoom",null)}return{update:i,destroy:l,pointer:Er}}const af=e=>({x:e.x,y:e.y,zoom:e.k}),Jh=({x:e,y:t,zoom:n})=>of.translate(e,t).scale(n),Ls=(e,t)=>e.target.closest(`.${t}`),aC=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),zL=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Zh=(e,t=0,n=zL,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},cC=e=>{const t=e.ctrlKey&&Ga()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function $L({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:l,onPanZoomStart:c,onPanZoom:d,onPanZoomEnd:f}){return m=>{if(Ls(m,t))return m.ctrlKey&&m.preventDefault(),!1;m.preventDefault(),m.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(m.ctrlKey&&l){const w=Er(m),k=cC(m),E=p*Math.pow(2,k);r.scaleTo(n,E,w,m);return}const g=m.deltaMode===1?20:1;let x=o===Fi.Vertical?0:m.deltaX*g,b=o===Fi.Horizontal?0:m.deltaY*g;!Ga()&&m.shiftKey&&o!==Fi.Vertical&&(x=m.deltaY*g,b=0),r.translateBy(n,-(x/p)*i,-(b/p)*i,{internal:!0});const v=af(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(d==null||d(m,v),e.panScrollTimeout=setTimeout(()=>{f==null||f(m,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,c==null||c(m,v))}}function FL({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",l=!t&&i&&!r.ctrlKey,c=Ls(r,e);if(r.ctrlKey&&i&&c&&r.preventDefault(),l||c)return null;r.preventDefault(),n.call(this,r,o)}}function BL({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,l,c;if((i=r.sourceEvent)!=null&&i.internal)return;const o=af(r.transform);e.mouseButton=((l=r.sourceEvent)==null?void 0:l.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((c=r.sourceEvent)==null?void 0:c.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function VL({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var l,c;e.usedRightMouseButton=!!(n&&aC(t,e.mouseButton??0)),(l=i.sourceEvent)!=null&&l.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((c=i.sourceEvent)!=null&&c.internal)&&(o==null||o(i.sourceEvent,af(i.transform)))}}function HL({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return l=>{var c;if(!((c=l.sourceEvent)!=null&&c.internal)&&(e.isZoomingOrPanning=!1,i&&aC(t,e.mouseButton??0)&&!e.usedRightMouseButton&&l.sourceEvent&&i(l.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const d=af(l.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(l.sourceEvent,d)},n?150:0)}}}function UL({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:l,noWheelClassName:c,noPanClassName:d,lib:f,connectionInProgress:m}){return p=>{var w;const g=e||t,x=n&&p.ctrlKey,b=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(Ls(p,`${f}-flow__node`)||Ls(p,`${f}-flow__edge`)))return!0;if(!r&&!g&&!o&&!i&&!n||l||m&&!b||Ls(p,c)&&b||Ls(p,d)&&(!b||o&&b&&!e)||!n&&p.ctrlKey&&b)return!1;if(!n&&p.type==="touchstart"&&((w=p.touches)==null?void 0:w.length)>1)return p.preventDefault(),!1;if(!g&&!o&&!x&&b||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||b)&&v}}function WL({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:i,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=e.getBoundingClientRect(),p=Lk().scaleExtent([t,n]).translateExtent(r),g=rr(e).call(p);E({x:o.x,y:o.y,zoom:Zs(o.zoom,t,n)},[[0,0],[m.width,m.height]],r);const x=g.on("wheel.zoom"),b=g.on("dblclick.zoom");p.wheelDelta(cC);function v(B,X){return g?new Promise(G=>{p==null||p.interpolate((X==null?void 0:X.interpolate)==="linear"?_a:ad).transform(Zh(g,X==null?void 0:X.duration,X==null?void 0:X.ease,()=>G(!0)),B)}):Promise.resolve(!1)}function w({noWheelClassName:B,noPanClassName:X,onPaneContextMenu:G,userSelectionActive:A,panOnScroll:O,panOnDrag:$,panOnScrollMode:q,panOnScrollSpeed:D,preventScrolling:U,zoomOnPinch:M,zoomOnScroll:H,zoomOnDoubleClick:Y,zoomActivationKeyPressed:T,lib:V,onTransformChange:Z,connectionInProgress:J,paneClickDistance:K,selectionOnDrag:te}){A&&!f.isZoomingOrPanning&&k();const Q=O&&!T&&!A;p.clickDistance(te?1/0:!Pr(K)||K<0?0:K);const ie=Q?$L({zoomPanValues:f,noWheelClassName:B,d3Selection:g,d3Zoom:p,panOnScrollMode:q,panOnScrollSpeed:D,zoomOnPinch:M,onPanZoomStart:l,onPanZoom:i,onPanZoomEnd:c}):FL({noWheelClassName:B,preventScrolling:U,d3ZoomHandler:x});if(g.on("wheel.zoom",ie,{passive:!1}),!A){const de=BL({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:l});p.on("start",de);const fe=VL({zoomPanValues:f,panOnDrag:$,onPaneContextMenu:!!G,onPanZoom:i,onTransformChange:Z});p.on("zoom",fe);const ge=HL({zoomPanValues:f,panOnDrag:$,panOnScroll:O,onPaneContextMenu:G,onPanZoomEnd:c,onDraggingChange:d});p.on("end",ge)}const le=UL({zoomActivationKeyPressed:T,panOnDrag:$,zoomOnScroll:H,panOnScroll:O,zoomOnDoubleClick:Y,zoomOnPinch:M,userSelectionActive:A,noPanClassName:X,noWheelClassName:B,lib:V,connectionInProgress:J});p.filter(le),Y?g.on("dblclick.zoom",b):g.on("dblclick.zoom",null)}function k(){p.on("zoom",null)}async function E(B,X,G){const A=Jh(B),O=p==null?void 0:p.constrain()(A,X,G);return O&&await v(O),new Promise($=>$(O))}async function C(B,X){const G=Jh(B);return await v(G,X),new Promise(A=>A(G))}function _(B){if(g){const X=Jh(B),G=g.property("__zoom");(G.k!==B.zoom||G.x!==B.x||G.y!==B.y)&&(p==null||p.transform(g,X,null,{sync:!0}))}}function R(){const B=g?Ok(g.node()):{x:0,y:0,k:1};return{x:B.x,y:B.y,zoom:B.k}}function P(B,X){return g?new Promise(G=>{p==null||p.interpolate((X==null?void 0:X.interpolate)==="linear"?_a:ad).scaleTo(Zh(g,X==null?void 0:X.duration,X==null?void 0:X.ease,()=>G(!0)),B)}):Promise.resolve(!1)}function I(B,X){return g?new Promise(G=>{p==null||p.interpolate((X==null?void 0:X.interpolate)==="linear"?_a:ad).scaleBy(Zh(g,X==null?void 0:X.duration,X==null?void 0:X.ease,()=>G(!0)),B)}):Promise.resolve(!1)}function F(B){p==null||p.scaleExtent(B)}function W(B){p==null||p.translateExtent(B)}function z(B){const X=!Pr(B)||B<0?0:B;p==null||p.clickDistance(X)}return{update:w,destroy:k,setViewport:C,setViewportConstrained:E,getViewport:R,scaleTo:P,scaleBy:I,setScaleExtent:F,setTranslateExtent:W,syncViewport:_,setClickDistance:z}}var Yi;(function(e){e.Line="line",e.Handle="handle"})(Yi||(Yi={}));const YL=["top-left","top-right","bottom-left","bottom-right"],XL=["top","right","bottom","left"];function qL({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const l=e-t,c=n-r,d=[l>0?1:l<0?-1:0,c>0?1:c<0?-1:0];return l&&o&&(d[0]=d[0]*-1),c&&i&&(d[1]=d[1]*-1),d}function Uw(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function Wo(e,t){return Math.max(0,t-e)}function Yo(e,t){return Math.max(0,e-t)}function Wu(e,t,n){return Math.max(0,t-e,e-n)}function Ww(e,t){return e?!t:t}function GL(e,t,n,r,o,i,l,c){let{affectsX:d,affectsY:f}=t;const{isHorizontal:m,isVertical:p}=t,g=m&&p,{xSnapped:x,ySnapped:b}=n,{minWidth:v,maxWidth:w,minHeight:k,maxHeight:E}=r,{x:C,y:_,width:R,height:P,aspectRatio:I}=e;let F=Math.floor(m?x-e.pointerX:0),W=Math.floor(p?b-e.pointerY:0);const z=R+(d?-F:F),B=P+(f?-W:W),X=-i[0]*R,G=-i[1]*P;let A=Wu(z,v,w),O=Wu(B,k,E);if(l){let D=0,U=0;d&&F<0?D=Wo(C+F+X,l[0][0]):!d&&F>0&&(D=Yo(C+z+X,l[1][0])),f&&W<0?U=Wo(_+W+G,l[0][1]):!f&&W>0&&(U=Yo(_+B+G,l[1][1])),A=Math.max(A,D),O=Math.max(O,U)}if(c){let D=0,U=0;d&&F>0?D=Yo(C+F,c[0][0]):!d&&F<0&&(D=Wo(C+z,c[1][0])),f&&W>0?U=Yo(_+W,c[0][1]):!f&&W<0&&(U=Wo(_+B,c[1][1])),A=Math.max(A,D),O=Math.max(O,U)}if(o){if(m){const D=Wu(z/I,k,E)*I;if(A=Math.max(A,D),l){let U=0;!d&&!f||d&&!f&&g?U=Yo(_+G+z/I,l[1][1])*I:U=Wo(_+G+(d?F:-F)/I,l[0][1])*I,A=Math.max(A,U)}if(c){let U=0;!d&&!f||d&&!f&&g?U=Wo(_+z/I,c[1][1])*I:U=Yo(_+(d?F:-F)/I,c[0][1])*I,A=Math.max(A,U)}}if(p){const D=Wu(B*I,v,w)/I;if(O=Math.max(O,D),l){let U=0;!d&&!f||f&&!d&&g?U=Yo(C+B*I+X,l[1][0])/I:U=Wo(C+(f?W:-W)*I+X,l[0][0])/I,O=Math.max(O,U)}if(c){let U=0;!d&&!f||f&&!d&&g?U=Wo(C+B*I,c[1][0])/I:U=Yo(C+(f?W:-W)*I,c[0][0])/I,O=Math.max(O,U)}}}W=W+(W<0?O:-O),F=F+(F<0?A:-A),o&&(g?z>B*I?W=(Ww(d,f)?-F:F)/I:F=(Ww(d,f)?-W:W)*I:m?(W=F/I,f=d):(F=W*I,d=f));const $=d?C+F:C,q=f?_+W:_;return{width:R+(d?-F:F),height:P+(f?-W:W),x:i[0]*F*(d?-1:1)+$,y:i[1]*W*(f?-1:1)+q}}const uC={width:0,height:0,x:0,y:0},KL={...uC,pointerX:0,pointerY:0,aspectRatio:1};function QL(e){return[[0,0],[e.measured.width,e.measured.height]]}function JL(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,l=e.measured.height??0,c=n[0]*i,d=n[1]*l;return[[r-c,o-d],[r+i-c,o+l-d]]}function ZL({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=rr(e);let l={controlDirection:Uw("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function c({controlPosition:f,boundaries:m,keepAspectRatio:p,resizeDirection:g,onResizeStart:x,onResize:b,onResizeEnd:v,shouldResize:w}){let k={...uC},E={...KL};l={boundaries:m,resizeDirection:g,keepAspectRatio:p,controlDirection:Uw(f)};let C,_=null,R=[],P,I,F,W=!1;const z=Sk().on("start",B=>{const{nodeLookup:X,transform:G,snapGrid:A,snapToGrid:O,nodeOrigin:$,paneDomNode:q}=n();if(C=X.get(t),!C)return;_=(q==null?void 0:q.getBoundingClientRect())??null;const{xSnapped:D,ySnapped:U}=Pa(B.sourceEvent,{transform:G,snapGrid:A,snapToGrid:O,containerBounds:_});k={width:C.measured.width??0,height:C.measured.height??0,x:C.position.x??0,y:C.position.y??0},E={...k,pointerX:D,pointerY:U,aspectRatio:k.width/k.height},P=void 0,C.parentId&&(C.extent==="parent"||C.expandParent)&&(P=X.get(C.parentId),I=P&&C.extent==="parent"?QL(P):void 0),R=[],F=void 0;for(const[M,H]of X)if(H.parentId===t&&(R.push({id:M,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const Y=JL(H,C,H.origin??$);F?F=[[Math.min(Y[0][0],F[0][0]),Math.min(Y[0][1],F[0][1])],[Math.max(Y[1][0],F[1][0]),Math.max(Y[1][1],F[1][1])]]:F=Y}x==null||x(B,{...k})}).on("drag",B=>{const{transform:X,snapGrid:G,snapToGrid:A,nodeOrigin:O}=n(),$=Pa(B.sourceEvent,{transform:X,snapGrid:G,snapToGrid:A,containerBounds:_}),q=[];if(!C)return;const{x:D,y:U,width:M,height:H}=k,Y={},T=C.origin??O,{width:V,height:Z,x:J,y:K}=GL(E,l.controlDirection,$,l.boundaries,l.keepAspectRatio,T,I,F),te=V!==M,Q=Z!==H,ie=J!==D&&te,le=K!==U&&Q;if(!ie&&!le&&!te&&!Q)return;if((ie||le||T[0]===1||T[1]===1)&&(Y.x=ie?J:k.x,Y.y=le?K:k.y,k.x=Y.x,k.y=Y.y,R.length>0)){const De=J-D,Me=K-U;for(const ot of R)ot.position={x:ot.position.x-De+T[0]*(V-M),y:ot.position.y-Me+T[1]*(Z-H)},q.push(ot)}if((te||Q)&&(Y.width=te&&(!l.resizeDirection||l.resizeDirection==="horizontal")?V:k.width,Y.height=Q&&(!l.resizeDirection||l.resizeDirection==="vertical")?Z:k.height,k.width=Y.width,k.height=Y.height),P&&C.expandParent){const De=T[0]*(Y.width??0);Y.x&&Y.x<De&&(k.x=De,E.x=E.x-(Y.x-De));const Me=T[1]*(Y.height??0);Y.y&&Y.y<Me&&(k.y=Me,E.y=E.y-(Y.y-Me))}const de=qL({width:k.width,prevWidth:M,height:k.height,prevHeight:H,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),fe={...k,direction:de};(w==null?void 0:w(B,fe))!==!1&&(W=!0,b==null||b(B,fe),r(Y,q))}).on("end",B=>{W&&(v==null||v(B,{...k}),o==null||o({...k}),W=!1)});i.call(z)}function d(){i.on(".drag",null)}return{update:c,destroy:d}}var em={exports:{}},tm={},nm={exports:{}},rm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw;function ez(){if(Yw)return rm;Yw=1;var e=lc();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function c(p,g){var x=g(),b=r({inst:{value:x,getSnapshot:g}}),v=b[0].inst,w=b[1];return i(function(){v.value=x,v.getSnapshot=g,d(v)&&w({inst:v})},[p,x,g]),o(function(){return d(v)&&w({inst:v}),p(function(){d(v)&&w({inst:v})})},[p]),l(x),x}function d(p){var g=p.getSnapshot;p=p.value;try{var x=g();return!n(p,x)}catch{return!0}}function f(p,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return rm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,rm}var Xw;function tz(){return Xw||(Xw=1,nm.exports=ez()),nm.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw;function nz(){if(qw)return tm;qw=1;var e=lc(),t=tz();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return tm.useSyncExternalStoreWithSelector=function(f,m,p,g,x){var b=i(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=c(function(){function k(P){if(!E){if(E=!0,C=P,P=g(P),x!==void 0&&v.hasValue){var I=v.value;if(x(I,P))return _=I}return _=P}if(I=_,r(C,P))return I;var F=g(P);return x!==void 0&&x(I,F)?(C=P,I):(C=P,_=F)}var E=!1,C,_,R=p===void 0?null:p;return[function(){return k(m())},R===null?void 0:function(){return k(R())}]},[m,p,g,x]);var w=o(f,b[0],b[1]);return l(function(){v.hasValue=!0,v.value=w},[w]),d(w),w},tm}var Gw;function rz(){return Gw||(Gw=1,em.exports=nz()),em.exports}var oz=rz();const iz=sc(oz),sz={},Kw=e=>{let t;const n=new Set,r=(m,p)=>{const g=typeof m=="function"?m(t):m;if(!Object.is(g,t)){const x=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(b=>b(t,x))}},o=()=>t,d={setState:r,getState:o,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(sz?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,o,d);return d},lz=e=>e?Kw(e):Kw,{useDebugValue:az}=Ye,{useSyncExternalStoreWithSelector:cz}=iz,uz=e=>e;function dC(e,t=uz,n){const r=cz(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return az(r),r}const Qw=(e,t)=>{const n=lz(e),r=(o,i=t)=>dC(n,o,i);return Object.assign(r,n),r},dz=(e,t)=>e?Qw(e,t):Qw;function Bt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var ul=hS();const fz=sc(ul),cf=S.createContext(null),pz=cf.Provider,fC=Jr.error001();function yt(e,t){const n=S.useContext(cf);if(n===null)throw new Error(fC);return dC(n,e,t)}function Ht(){const e=S.useContext(cf);if(e===null)throw new Error(fC);return S.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Jw={display:"none"},hz={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},pC="react-flow__node-desc",hC="react-flow__edge-desc",mz="react-flow__aria-live",gz=e=>e.ariaLiveMessage,xz=e=>e.ariaLabelConfig;function yz({rfId:e}){const t=yt(gz);return u.jsx("div",{id:`${mz}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:hz,children:t})}function vz({rfId:e,disableKeyboardA11y:t}){const n=yt(xz);return u.jsxs(u.Fragment,{children:[u.jsx("div",{id:`${pC}-${e}`,style:Jw,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),u.jsx("div",{id:`${hC}-${e}`,style:Jw,children:n["edge.a11yDescription.default"]}),!t&&u.jsx(yz,{rfId:e})]})}const hc=S.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const l=`${e}`.split("-");return u.jsx("div",{className:Jt(["react-flow__panel",n,...l]),style:r,ref:i,...o,children:t})});hc.displayName="Panel";function wz({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:u.jsx(hc,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:u.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const bz=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Yu=e=>e.id;function Sz(e,t){return Bt(e.selectedNodes.map(Yu),t.selectedNodes.map(Yu))&&Bt(e.selectedEdges.map(Yu),t.selectedEdges.map(Yu))}function kz({onSelectionChange:e}){const t=Ht(),{selectedNodes:n,selectedEdges:r}=yt(bz,Sz);return S.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const Cz=e=>!!e.onSelectionChangeHandlers;function Nz({onSelectionChange:e}){const t=yt(Cz);return e||t?u.jsx(kz,{onSelectionChange:e}):null}const mC=[0,0],Ez={x:0,y:0,zoom:1},jz=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Zw=[...jz,"rfId"],_z=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),eb={translateExtent:Wa,nodeOrigin:mC,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function Pz(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:l,reset:c,setDefaultNodesAndEdges:d}=yt(_z,Bt),f=Ht();S.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{m.current=eb,c()}),[]);const m=S.useRef(eb);return S.useEffect(()=>{for(const p of Zw){const g=e[p],x=m.current[p];g!==x&&(typeof e[p]>"u"||(p==="nodes"?t(g):p==="edges"?n(g):p==="minZoom"?r(g):p==="maxZoom"?o(g):p==="translateExtent"?i(g):p==="nodeExtent"?l(g):p==="ariaLabelConfig"?f.setState({ariaLabelConfig:cL(g)}):p==="fitView"?f.setState({fitViewQueued:g}):p==="fitViewOptions"?f.setState({fitViewOptions:g}):f.setState({[p]:g})))}m.current=e},Zw.map(p=>e[p])),null}function tb(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Az(e){var r;const[t,n]=S.useState(e==="system"?null:e);return S.useEffect(()=>{if(e!=="system"){n(e);return}const o=tb(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=tb())!=null&&r.matches?"dark":"light"}const nb=typeof document<"u"?document:null;function Ka(e=null,t={target:nb,actInsideInputWithModifier:!0}){const[n,r]=S.useState(!1),o=S.useRef(!1),i=S.useRef(new Set([])),[l,c]=S.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=f.reduce((p,g)=>p.concat(...g),[]);return[f,m]}return[[],[]]},[e]);return S.useEffect(()=>{const d=(t==null?void 0:t.target)??nb,f=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const m=x=>{var w,k;if(o.current=x.ctrlKey||x.metaKey||x.shiftKey||x.altKey,(!o.current||o.current&&!f)&&Gk(x))return!1;const v=ob(x.code,c);if(i.current.add(x[v]),rb(l,i.current,!1)){const E=((k=(w=x.composedPath)==null?void 0:w.call(x))==null?void 0:k[0])||x.target,C=(E==null?void 0:E.nodeName)==="BUTTON"||(E==null?void 0:E.nodeName)==="A";t.preventDefault!==!1&&(o.current||!C)&&x.preventDefault(),r(!0)}},p=x=>{const b=ob(x.code,c);rb(l,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(x[b]),x.key==="Meta"&&i.current.clear(),o.current=!1},g=()=>{i.current.clear(),r(!1)};return d==null||d.addEventListener("keydown",m),d==null||d.addEventListener("keyup",p),window.addEventListener("blur",g),window.addEventListener("contextmenu",g),()=>{d==null||d.removeEventListener("keydown",m),d==null||d.removeEventListener("keyup",p),window.removeEventListener("blur",g),window.removeEventListener("contextmenu",g)}}},[e,r]),n}function rb(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function ob(e,t){return t.includes(e)?"code":"key"}const Tz=()=>{const e=Ht();return S.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:l}=e.getState();return l?(await l.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:l,panZoom:c}=e.getState(),d=Jg(t,r,o,i,l,(n==null?void 0:n.padding)??.1);return c?(await c.setViewport(d,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:l}=e.getState();if(!l)return t;const{x:c,y:d}=l.getBoundingClientRect(),f={x:t.x-c,y:t.y-d},m=n.snapGrid??o,p=n.snapToGrid??i;return pc(f,r,p,m)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),l=Ad(t,n);return{x:l.x+o,y:l.y+i}}}),[])};function gC(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const l=r.get(i.id);l?l.push(i):r.set(i.id,[i])}for(const i of t){const l=r.get(i.id);if(!l){n.push(i);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const c={...i};for(const d of l)Iz(d,c);n.push(c)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function Iz(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function xC(e,t){return gC(e,t)}function yC(e,t){return gC(e,t)}function Ii(e,t){return{id:e,type:"select",selected:t}}function zs(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const l=t.has(o);!(i.selected===void 0&&!l)&&i.selected!==l&&(n&&(i.selected=l),r.push(Ii(i.id,l)))}return r}function ib({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,l]of e.entries()){const c=t.get(l.id),d=((o=c==null?void 0:c.internals)==null?void 0:o.userNode)??c;d!==void 0&&d!==l&&n.push({id:l.id,item:l,type:"replace"}),d===void 0&&n.push({item:l,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function sb(e){return{id:e.id,type:"remove"}}const lb=e=>ZO(e),Rz=e=>Vk(e);function vC(e){return S.forwardRef(e)}const Mz=typeof window<"u"?S.useLayoutEffect:S.useEffect;function ab(e){const[t,n]=S.useState(BigInt(0)),[r]=S.useState(()=>Dz(()=>n(o=>o+BigInt(1))));return Mz(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function Dz(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const wC=S.createContext(null);function Oz({children:e}){const t=Ht(),n=S.useCallback(c=>{const{nodes:d=[],setNodes:f,hasDefaultNodes:m,onNodesChange:p,nodeLookup:g,fitViewQueued:x,onNodesChangeMiddlewareMap:b}=t.getState();let v=d;for(const k of c)v=typeof k=="function"?k(v):k;let w=ib({items:v,lookup:g});for(const k of b.values())w=k(w);m&&f(v),w.length>0?p==null||p(w):x&&window.requestAnimationFrame(()=>{const{fitViewQueued:k,nodes:E,setNodes:C}=t.getState();k&&C(E)})},[]),r=ab(n),o=S.useCallback(c=>{const{edges:d=[],setEdges:f,hasDefaultEdges:m,onEdgesChange:p,edgeLookup:g}=t.getState();let x=d;for(const b of c)x=typeof b=="function"?b(x):b;m?f(x):p&&p(ib({items:x,lookup:g}))},[]),i=ab(o),l=S.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return u.jsx(wC.Provider,{value:l,children:e})}function Lz(){const e=S.useContext(wC);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const zz=e=>!!e.panZoom;function oi(){const e=Tz(),t=Ht(),n=Lz(),r=yt(zz),o=S.useMemo(()=>{const i=p=>t.getState().nodeLookup.get(p),l=p=>{n.nodeQueue.push(p)},c=p=>{n.edgeQueue.push(p)},d=p=>{var k,E;const{nodeLookup:g,nodeOrigin:x}=t.getState(),b=lb(p)?p:g.get(p.id),v=b.parentId?Xk(b.position,b.measured,b.parentId,g,x):b.position,w={...b,position:v,width:((k=b.measured)==null?void 0:k.width)??b.width,height:((E=b.measured)==null?void 0:E.height)??b.height};return el(w)},f=(p,g,x={replace:!1})=>{l(b=>b.map(v=>{if(v.id===p){const w=typeof g=="function"?g(v):g;return x.replace&&lb(w)?w:{...v,...w}}return v}))},m=(p,g,x={replace:!1})=>{c(b=>b.map(v=>{if(v.id===p){const w=typeof g=="function"?g(v):g;return x.replace&&Rz(w)?w:{...v,...w}}return v}))};return{getNodes:()=>t.getState().nodes.map(p=>({...p})),getNode:p=>{var g;return(g=i(p))==null?void 0:g.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:p=[]}=t.getState();return p.map(g=>({...g}))},getEdge:p=>t.getState().edgeLookup.get(p),setNodes:l,setEdges:c,addNodes:p=>{const g=Array.isArray(p)?p:[p];n.nodeQueue.push(x=>[...x,...g])},addEdges:p=>{const g=Array.isArray(p)?p:[p];n.edgeQueue.push(x=>[...x,...g])},toObject:()=>{const{nodes:p=[],edges:g=[],transform:x}=t.getState(),[b,v,w]=x;return{nodes:p.map(k=>({...k})),edges:g.map(k=>({...k})),viewport:{x:b,y:v,zoom:w}}},deleteElements:async({nodes:p=[],edges:g=[]})=>{const{nodes:x,edges:b,onNodesDelete:v,onEdgesDelete:w,triggerNodeChanges:k,triggerEdgeChanges:E,onDelete:C,onBeforeDelete:_}=t.getState(),{nodes:R,edges:P}=await oL({nodesToRemove:p,edgesToRemove:g,nodes:x,edges:b,onBeforeDelete:_}),I=P.length>0,F=R.length>0;if(I){const W=P.map(sb);w==null||w(P),E(W)}if(F){const W=R.map(sb);v==null||v(R),k(W)}return(F||I)&&(C==null||C({nodes:R,edges:P})),{deletedNodes:R,deletedEdges:P}},getIntersectingNodes:(p,g=!0,x)=>{const b=Rw(p),v=b?p:d(p),w=x!==void 0;return v?(x||t.getState().nodes).filter(k=>{const E=t.getState().nodeLookup.get(k.id);if(E&&!b&&(k.id===p.id||!E.internals.positionAbsolute))return!1;const C=el(w?k:E),_=qa(C,v);return g&&_>0||_>=C.width*C.height||_>=v.width*v.height}):[]},isNodeIntersecting:(p,g,x=!0)=>{const v=Rw(p)?p:d(p);if(!v)return!1;const w=qa(v,g);return x&&w>0||w>=g.width*g.height||w>=v.width*v.height},updateNode:f,updateNodeData:(p,g,x={replace:!1})=>{f(p,b=>{const v=typeof g=="function"?g(b):g;return x.replace?{...b,data:v}:{...b,data:{...b.data,...v}}},x)},updateEdge:m,updateEdgeData:(p,g,x={replace:!1})=>{m(p,b=>{const v=typeof g=="function"?g(b):g;return x.replace?{...b,data:v}:{...b,data:{...b.data,...v}}},x)},getNodesBounds:p=>{const{nodeLookup:g,nodeOrigin:x}=t.getState();return eL(p,{nodeLookup:g,nodeOrigin:x})},getHandleConnections:({type:p,id:g,nodeId:x})=>{var b;return Array.from(((b=t.getState().connectionLookup.get(`${x}-${p}${g?`-${g}`:""}`))==null?void 0:b.values())??[])},getNodeConnections:({type:p,handleId:g,nodeId:x})=>{var b;return Array.from(((b=t.getState().connectionLookup.get(`${x}${p?g?`-${p}-${g}`:`-${p}`:""}`))==null?void 0:b.values())??[])},fitView:async p=>{const g=t.getState().fitViewResolver??aL();return t.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:g}),n.nodeQueue.push(x=>[...x]),g.promise}}},[]);return S.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const cb=e=>e.selected,$z=typeof window<"u"?window:void 0;function Fz({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Ht(),{deleteElements:r}=oi(),o=Ka(e,{actInsideInputWithModifier:!1}),i=Ka(t,{target:$z});S.useEffect(()=>{if(o){const{edges:l,nodes:c}=n.getState();r({nodes:c.filter(cb),edges:l.filter(cb)}),n.setState({nodesSelectionActive:!1})}},[o]),S.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function Bz(e){const t=Ht();S.useEffect(()=>{const n=()=>{var o,i,l,c;if(!e.current||!(((i=(o=e.current).checkVisibility)==null?void 0:i.call(o))??!0))return!1;const r=ex(e.current);(r.height===0||r.width===0)&&((c=(l=t.getState()).onError)==null||c.call(l,"004",Jr.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const uf={position:"absolute",width:"100%",height:"100%",top:0,left:0},Vz=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function Hz({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=Fi.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:d,translateExtent:f,minZoom:m,maxZoom:p,zoomActivationKeyCode:g,preventScrolling:x=!0,children:b,noWheelClassName:v,noPanClassName:w,onViewportChange:k,isControlledViewport:E,paneClickDistance:C,selectionOnDrag:_}){const R=Ht(),P=S.useRef(null),{userSelectionActive:I,lib:F,connectionInProgress:W}=yt(Vz,Bt),z=Ka(g),B=S.useRef();Bz(P);const X=S.useCallback(G=>{k==null||k({x:G[0],y:G[1],zoom:G[2]}),E||R.setState({transform:G})},[k,E]);return S.useEffect(()=>{if(P.current){B.current=WL({domNode:P.current,minZoom:m,maxZoom:p,translateExtent:f,viewport:d,onDraggingChange:$=>R.setState({paneDragging:$}),onPanZoomStart:($,q)=>{const{onViewportChangeStart:D,onMoveStart:U}=R.getState();U==null||U($,q),D==null||D(q)},onPanZoom:($,q)=>{const{onViewportChange:D,onMove:U}=R.getState();U==null||U($,q),D==null||D(q)},onPanZoomEnd:($,q)=>{const{onViewportChangeEnd:D,onMoveEnd:U}=R.getState();U==null||U($,q),D==null||D(q)}});const{x:G,y:A,zoom:O}=B.current.getViewport();return R.setState({panZoom:B.current,transform:[G,A,O],domNode:P.current.closest(".react-flow")}),()=>{var $;($=B.current)==null||$.destroy()}}},[]),S.useEffect(()=>{var G;(G=B.current)==null||G.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:z,preventScrolling:x,noPanClassName:w,userSelectionActive:I,noWheelClassName:v,lib:F,onTransformChange:X,connectionInProgress:W,selectionOnDrag:_,paneClickDistance:C})},[e,t,n,r,o,i,l,c,z,x,w,I,v,F,X,W,_,C]),u.jsx("div",{className:"react-flow__renderer",ref:P,style:uf,children:b})}const Uz=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Wz(){const{userSelectionActive:e,userSelectionRect:t}=yt(Uz,Bt);return e&&t?u.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const om=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Yz=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Xz({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Ya.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:i,onSelectionStart:l,onSelectionEnd:c,onPaneClick:d,onPaneContextMenu:f,onPaneScroll:m,onPaneMouseEnter:p,onPaneMouseMove:g,onPaneMouseLeave:x,children:b}){const v=Ht(),{userSelectionActive:w,elementsSelectable:k,dragging:E,connectionInProgress:C}=yt(Yz,Bt),_=k&&(e||w),R=S.useRef(null),P=S.useRef(),I=S.useRef(new Set),F=S.useRef(new Set),W=S.useRef(!1),z=D=>{if(W.current||C){W.current=!1;return}d==null||d(D),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},B=D=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){D.preventDefault();return}f==null||f(D)},X=m?D=>m(D):void 0,G=D=>{W.current&&(D.stopPropagation(),W.current=!1)},A=D=>{var Z,J;const{domNode:U}=v.getState();if(P.current=U==null?void 0:U.getBoundingClientRect(),!P.current)return;const M=D.target===R.current;if(!M&&!!D.target.closest(".nokey")||!e||!(i&&M||t)||D.button!==0||!D.isPrimary)return;(J=(Z=D.target)==null?void 0:Z.setPointerCapture)==null||J.call(Z,D.pointerId),W.current=!1;const{x:T,y:V}=Ar(D.nativeEvent,P.current);v.setState({userSelectionRect:{width:0,height:0,startX:T,startY:V,x:T,y:V}}),M||(D.stopPropagation(),D.preventDefault())},O=D=>{const{userSelectionRect:U,transform:M,nodeLookup:H,edgeLookup:Y,connectionLookup:T,triggerNodeChanges:V,triggerEdgeChanges:Z,defaultEdgeOptions:J,resetSelectedElements:K}=v.getState();if(!P.current||!U)return;const{x:te,y:Q}=Ar(D.nativeEvent,P.current),{startX:ie,startY:le}=U;if(!W.current){const Me=t?0:o;if(Math.hypot(te-ie,Q-le)<=Me)return;K(),l==null||l(D)}W.current=!0;const de={startX:ie,startY:le,x:te<ie?te:ie,y:Q<le?Q:le,width:Math.abs(te-ie),height:Math.abs(Q-le)},fe=I.current,ge=F.current;I.current=new Set(Qg(H,de,M,n===Ya.Partial,!0).map(Me=>Me.id)),F.current=new Set;const De=(J==null?void 0:J.selectable)??!0;for(const Me of I.current){const ot=T.get(Me);if(ot)for(const{edgeId:tt}of ot.values()){const et=Y.get(tt);et&&(et.selectable??De)&&F.current.add(tt)}}if(!Mw(fe,I.current)){const Me=zs(H,I.current,!0);V(Me)}if(!Mw(ge,F.current)){const Me=zs(Y,F.current);Z(Me)}v.setState({userSelectionRect:de,userSelectionActive:!0,nodesSelectionActive:!1})},$=D=>{var U,M;D.button===0&&((M=(U=D.target)==null?void 0:U.releasePointerCapture)==null||M.call(U,D.pointerId),!w&&D.target===R.current&&v.getState().userSelectionRect&&(z==null||z(D)),v.setState({userSelectionActive:!1,userSelectionRect:null}),W.current&&(c==null||c(D),v.setState({nodesSelectionActive:I.current.size>0})))},q=r===!0||Array.isArray(r)&&r.includes(0);return u.jsxs("div",{className:Jt(["react-flow__pane",{draggable:q,dragging:E,selection:e}]),onClick:_?void 0:om(z,R),onContextMenu:om(B,R),onWheel:om(X,R),onPointerEnter:_?void 0:p,onPointerMove:_?O:g,onPointerUp:_?$:void 0,onPointerDownCapture:_?A:void 0,onClickCapture:_?G:void 0,onPointerLeave:x,ref:R,style:uf,children:[b,u.jsx(Wz,{})]})}function Zm({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:l,nodeLookup:c,onError:d}=t.getState(),f=c.get(e);if(!f){d==null||d("012",Jr.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&l)&&(i({nodes:[f],edges:[]}),requestAnimationFrame(()=>{var m;return(m=r==null?void 0:r.current)==null?void 0:m.blur()})):o([e])}function bC({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:l}){const c=Ht(),[d,f]=S.useState(!1),m=S.useRef();return S.useEffect(()=>{m.current=TL({getStoreItems:()=>c.getState(),onNodeMouseDown:p=>{Zm({id:p,store:c,nodeRef:e})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),S.useEffect(()=>{var p,g;if(t)(p=m.current)==null||p.destroy();else if(e.current)return(g=m.current)==null||g.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:l}),()=>{var x;(x=m.current)==null||x.destroy()}},[n,r,t,i,e,o]),d}const qz=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function SC(){const e=Ht();return S.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:l,onError:c,updateNodePositions:d,nodeLookup:f,nodeOrigin:m}=e.getState(),p=new Map,g=qz(l),x=o?i[0]:5,b=o?i[1]:5,v=n.direction.x*x*n.factor,w=n.direction.y*b*n.factor;for(const[,k]of f){if(!g(k))continue;let E={x:k.internals.positionAbsolute.x+v,y:k.internals.positionAbsolute.y+w};o&&(E=fc(E,i));const{position:C,positionAbsolute:_}=Hk({nodeId:k.id,nextPosition:E,nodeLookup:f,nodeExtent:r,nodeOrigin:m,onError:c});k.position=C,k.internals.positionAbsolute=_,p.set(k.id,k)}d(p)},[])}const lx=S.createContext(null),Gz=lx.Provider;lx.Consumer;const kC=()=>S.useContext(lx),Kz=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Qz=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:l}=r,{fromHandle:c,toHandle:d,isValid:f}=l,m=(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===n;return{connectingFrom:(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n,connectingTo:m,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===Js.Strict?(c==null?void 0:c.type)!==n:e!==(c==null?void 0:c.nodeId)||t!==(c==null?void 0:c.id),connectionInProcess:!!c,clickConnectionInProcess:!!o,valid:m&&f}};function Jz({type:e="source",position:t=Te.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:l,onConnect:c,children:d,className:f,onMouseDown:m,onTouchStart:p,...g},x){var O,$;const b=l||null,v=e==="target",w=Ht(),k=kC(),{connectOnClick:E,noPanClassName:C,rfId:_}=yt(Kz,Bt),{connectingFrom:R,connectingTo:P,clickConnecting:I,isPossibleEndHandle:F,connectionInProcess:W,clickConnectionInProcess:z,valid:B}=yt(Qz(k,b,e),Bt);k||($=(O=w.getState()).onError)==null||$.call(O,"010",Jr.error010());const X=q=>{const{defaultEdgeOptions:D,onConnect:U,hasDefaultEdges:M}=w.getState(),H={...D,...q};if(M){const{edges:Y,setEdges:T}=w.getState();T(mL(H,Y))}U==null||U(H),c==null||c(H)},G=q=>{if(!k)return;const D=Kk(q.nativeEvent);if(o&&(D&&q.button===0||!D)){const U=w.getState();Jm.onPointerDown(q.nativeEvent,{handleDomNode:q.currentTarget,autoPanOnConnect:U.autoPanOnConnect,connectionMode:U.connectionMode,connectionRadius:U.connectionRadius,domNode:U.domNode,nodeLookup:U.nodeLookup,lib:U.lib,isTarget:v,handleId:b,nodeId:k,flowId:U.rfId,panBy:U.panBy,cancelConnection:U.cancelConnection,onConnectStart:U.onConnectStart,onConnectEnd:U.onConnectEnd,updateConnection:U.updateConnection,onConnect:X,isValidConnection:n||U.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:U.autoPanSpeed,dragThreshold:U.connectionDragThreshold})}D?m==null||m(q):p==null||p(q)},A=q=>{const{onClickConnectStart:D,onClickConnectEnd:U,connectionClickStartHandle:M,connectionMode:H,isValidConnection:Y,lib:T,rfId:V,nodeLookup:Z,connection:J}=w.getState();if(!k||!M&&!o)return;if(!M){D==null||D(q.nativeEvent,{nodeId:k,handleId:b,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:k,type:e,id:b}});return}const K=qk(q.target),te=n||Y,{connection:Q,isValid:ie}=Jm.isValid(q.nativeEvent,{handle:{nodeId:k,id:b,type:e},connectionMode:H,fromNodeId:M.nodeId,fromHandleId:M.id||null,fromType:M.type,isValidConnection:te,flowId:V,doc:K,lib:T,nodeLookup:Z});ie&&Q&&X(Q);const le=structuredClone(J);delete le.inProgress,le.toPosition=le.toHandle?le.toHandle.position:null,U==null||U(q,le),w.setState({connectionClickStartHandle:null})};return u.jsx("div",{"data-handleid":b,"data-nodeid":k,"data-handlepos":t,"data-id":`${_}-${k}-${b}-${e}`,className:Jt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",C,f,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:i,clickconnecting:I,connectingfrom:R,connectingto:P,valid:B,connectionindicator:r&&(!W||F)&&(W||z?i:o)}]),onMouseDown:G,onTouchStart:G,onClick:E?A:void 0,ref:x,...g,children:d})}const ti=S.memo(vC(Jz));function Zz({data:e,isConnectable:t,sourcePosition:n=Te.Bottom}){return u.jsxs(u.Fragment,{children:[e==null?void 0:e.label,u.jsx(ti,{type:"source",position:n,isConnectable:t})]})}function e3({data:e,isConnectable:t,targetPosition:n=Te.Top,sourcePosition:r=Te.Bottom}){return u.jsxs(u.Fragment,{children:[u.jsx(ti,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,u.jsx(ti,{type:"source",position:r,isConnectable:t})]})}function t3(){return null}function n3({data:e,isConnectable:t,targetPosition:n=Te.Top}){return u.jsxs(u.Fragment,{children:[u.jsx(ti,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Td={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},ub={input:Zz,default:e3,output:n3,group:t3};function r3(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const o3=e=>{const{width:t,height:n,x:r,y:o}=dc(e.nodeLookup,{filter:i=>!!i.selected});return{width:Pr(t)?t:null,height:Pr(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function i3({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ht(),{width:o,height:i,transformString:l,userSelectionActive:c}=yt(o3,Bt),d=SC(),f=S.useRef(null);if(S.useEffect(()=>{var g;n||(g=f.current)==null||g.focus({preventScroll:!0})},[n]),bC({nodeRef:f}),c||!o||!i)return null;const m=e?g=>{const x=r.getState().nodes.filter(b=>b.selected);e(g,x)}:void 0,p=g=>{Object.prototype.hasOwnProperty.call(Td,g.key)&&(g.preventDefault(),d({direction:Td[g.key],factor:g.shiftKey?4:1}))};return u.jsx("div",{className:Jt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:u.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:o,height:i}})})}const db=typeof window<"u"?window:void 0,s3=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function CC({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:d,selectionKeyCode:f,selectionOnDrag:m,selectionMode:p,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:b,panActivationKeyCode:v,zoomActivationKeyCode:w,elementsSelectable:k,zoomOnScroll:E,zoomOnPinch:C,panOnScroll:_,panOnScrollSpeed:R,panOnScrollMode:P,zoomOnDoubleClick:I,panOnDrag:F,defaultViewport:W,translateExtent:z,minZoom:B,maxZoom:X,preventScrolling:G,onSelectionContextMenu:A,noWheelClassName:O,noPanClassName:$,disableKeyboardA11y:q,onViewportChange:D,isControlledViewport:U}){const{nodesSelectionActive:M,userSelectionActive:H}=yt(s3,Bt),Y=Ka(f,{target:db}),T=Ka(v,{target:db}),V=T||F,Z=T||_,J=m&&V!==!0,K=Y||H||J;return Fz({deleteKeyCode:d,multiSelectionKeyCode:b}),u.jsx(Hz,{onPaneContextMenu:i,elementsSelectable:k,zoomOnScroll:E,zoomOnPinch:C,panOnScroll:Z,panOnScrollSpeed:R,panOnScrollMode:P,zoomOnDoubleClick:I,panOnDrag:!Y&&V,defaultViewport:W,translateExtent:z,minZoom:B,maxZoom:X,zoomActivationKeyCode:w,preventScrolling:G,noWheelClassName:O,noPanClassName:$,onViewportChange:D,isControlledViewport:U,paneClickDistance:c,selectionOnDrag:J,children:u.jsxs(Xz,{onSelectionStart:g,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:l,panOnDrag:V,isSelecting:!!K,selectionMode:p,selectionKeyPressed:Y,paneClickDistance:c,selectionOnDrag:J,children:[e,M&&u.jsx(i3,{onSelectionContextMenu:A,noPanClassName:$,disableKeyboardA11y:q})]})})}CC.displayName="FlowRenderer";const l3=S.memo(CC),a3=e=>t=>e?Qg(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function c3(e){return yt(S.useCallback(a3(e),[e]),Bt)}const u3=e=>e.updateNodeInternals;function d3(){const e=yt(u3),[t]=S.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return S.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function f3({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=Ht(),i=S.useRef(null),l=S.useRef(null),c=S.useRef(e.sourcePosition),d=S.useRef(e.targetPosition),f=S.useRef(t),m=n&&!!e.internals.handleBounds;return S.useEffect(()=>{i.current&&!e.hidden&&(!m||l.current!==i.current)&&(l.current&&(r==null||r.unobserve(l.current)),r==null||r.observe(i.current),l.current=i.current)},[m,e.hidden]),S.useEffect(()=>()=>{l.current&&(r==null||r.unobserve(l.current),l.current=null)},[]),S.useEffect(()=>{if(i.current){const p=f.current!==t,g=c.current!==e.sourcePosition,x=d.current!==e.targetPosition;(p||g||x)&&(f.current=t,c.current=e.sourcePosition,d.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function p3({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:l,nodesDraggable:c,elementsSelectable:d,nodesConnectable:f,nodesFocusable:m,resizeObserver:p,noDragClassName:g,noPanClassName:x,disableKeyboardA11y:b,rfId:v,nodeTypes:w,nodeClickDistance:k,onError:E}){const{node:C,internals:_,isParent:R}=yt(te=>{const Q=te.nodeLookup.get(e),ie=te.parentLookup.has(e);return{node:Q,internals:Q.internals,isParent:ie}},Bt);let P=C.type||"default",I=(w==null?void 0:w[P])||ub[P];I===void 0&&(E==null||E("003",Jr.error003(P)),P="default",I=(w==null?void 0:w.default)||ub.default);const F=!!(C.draggable||c&&typeof C.draggable>"u"),W=!!(C.selectable||d&&typeof C.selectable>"u"),z=!!(C.connectable||f&&typeof C.connectable>"u"),B=!!(C.focusable||m&&typeof C.focusable>"u"),X=Ht(),G=Zg(C),A=f3({node:C,nodeType:P,hasDimensions:G,resizeObserver:p}),O=bC({nodeRef:A,disabled:C.hidden||!F,noDragClassName:g,handleSelector:C.dragHandle,nodeId:e,isSelectable:W,nodeClickDistance:k}),$=SC();if(C.hidden)return null;const q=ko(C),D=r3(C),U=W||F||t||n||r||o,M=n?te=>n(te,{..._.userNode}):void 0,H=r?te=>r(te,{..._.userNode}):void 0,Y=o?te=>o(te,{..._.userNode}):void 0,T=i?te=>i(te,{..._.userNode}):void 0,V=l?te=>l(te,{..._.userNode}):void 0,Z=te=>{const{selectNodesOnDrag:Q,nodeDragThreshold:ie}=X.getState();W&&(!Q||!F||ie>0)&&Zm({id:e,store:X,nodeRef:A}),t&&t(te,{..._.userNode})},J=te=>{if(!(Gk(te.nativeEvent)||b)){if(zk.includes(te.key)&&W){const Q=te.key==="Escape";Zm({id:e,store:X,unselect:Q,nodeRef:A})}else if(F&&C.selected&&Object.prototype.hasOwnProperty.call(Td,te.key)){te.preventDefault();const{ariaLabelConfig:Q}=X.getState();X.setState({ariaLiveMessage:Q["node.a11yDescription.ariaLiveMessage"]({direction:te.key.replace("Arrow","").toLowerCase(),x:~~_.positionAbsolute.x,y:~~_.positionAbsolute.y})}),$({direction:Td[te.key],factor:te.shiftKey?4:1})}}},K=()=>{var ge;if(b||!((ge=A.current)!=null&&ge.matches(":focus-visible")))return;const{transform:te,width:Q,height:ie,autoPanOnNodeFocus:le,setCenter:de}=X.getState();if(!le)return;Qg(new Map([[e,C]]),{x:0,y:0,width:Q,height:ie},te,!0).length>0||de(C.position.x+q.width/2,C.position.y+q.height/2,{zoom:te[2]})};return u.jsx("div",{className:Jt(["react-flow__node",`react-flow__node-${P}`,{[x]:F},C.className,{selected:C.selected,selectable:W,parent:R,draggable:F,dragging:O}]),ref:A,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:U?"all":"none",visibility:G?"visible":"hidden",...C.style,...D},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:M,onMouseMove:H,onMouseLeave:Y,onContextMenu:T,onClick:Z,onDoubleClick:V,onKeyDown:B?J:void 0,tabIndex:B?0:void 0,onFocus:B?K:void 0,role:C.ariaRole??(B?"group":void 0),"aria-roledescription":"node","aria-describedby":b?void 0:`${pC}-${v}`,"aria-label":C.ariaLabel,...C.domAttributes,children:u.jsx(Gz,{value:e,children:u.jsx(I,{id:e,data:C.data,type:P,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:C.selected??!1,selectable:W,draggable:F,deletable:C.deletable??!0,isConnectable:z,sourcePosition:C.sourcePosition,targetPosition:C.targetPosition,dragging:O,dragHandle:C.dragHandle,zIndex:_.z,parentId:C.parentId,...q})})})}var h3=S.memo(p3);const m3=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function NC(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=yt(m3,Bt),l=c3(e.onlyRenderVisibleElements),c=d3();return u.jsx("div",{className:"react-flow__nodes",style:uf,children:l.map(d=>u.jsx(h3,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:c,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},d))})}NC.displayName="NodeRenderer";const g3=S.memo(NC);function x3(e){return yt(S.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),l=n.nodeLookup.get(o.target);i&&l&&fL({sourceNode:i,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),Bt)}const y3=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return u.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},v3=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return u.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},fb={[Xa.Arrow]:y3,[Xa.ArrowClosed]:v3};function w3(e){const t=Ht();return S.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(fb,e)?fb[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",Jr.error009(e)),null)},[e])}const b3=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{const d=w3(t);return d?u.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:c,refX:"0",refY:"0",children:u.jsx(d,{color:n,strokeWidth:l})}):null},EC=({defaultColor:e,rfId:t})=>{const n=yt(i=>i.edges),r=yt(i=>i.defaultEdgeOptions),o=S.useMemo(()=>wL(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?u.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:u.jsx("defs",{children:o.map(i=>u.jsx(b3,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};EC.displayName="MarkerDefinitions";var S3=S.memo(EC);function jC({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:d,className:f,...m}){const[p,g]=S.useState({x:1,y:0,width:0,height:0}),x=Jt(["react-flow__edge-textwrapper",f]),b=S.useRef(null);return S.useEffect(()=>{if(b.current){const v=b.current.getBBox();g({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?u.jsxs("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:x,visibility:p.width?"visible":"hidden",...m,children:[o&&u.jsx("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:i,rx:c,ry:c}),u.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:b,style:r,children:n}),d]}):null}jC.displayName="EdgeText";const k3=S.memo(jC);function df({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,interactionWidth:f=20,...m}){return u.jsxs(u.Fragment,{children:[u.jsx("path",{...m,d:e,fill:"none",className:Jt(["react-flow__edge-path",m.className])}),f?u.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&Pr(t)&&Pr(n)?u.jsx(k3,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d}):null]})}function pb({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Te.Left||e===Te.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function _C({sourceX:e,sourceY:t,sourcePosition:n=Te.Bottom,targetX:r,targetY:o,targetPosition:i=Te.Top}){const[l,c]=pb({pos:n,x1:e,y1:t,x2:r,y2:o}),[d,f]=pb({pos:i,x1:r,y1:o,x2:e,y2:t}),[m,p,g,x]=Qk({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:f});return[`M${e},${t} C${l},${c} ${d},${f} ${r},${o}`,m,p,g,x]}function PC(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:l,targetPosition:c,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:v,markerStart:w,interactionWidth:k})=>{const[E,C,_]=_C({sourceX:n,sourceY:r,sourcePosition:l,targetX:o,targetY:i,targetPosition:c}),R=e.isInternal?void 0:t;return u.jsx(df,{id:R,path:E,labelX:C,labelY:_,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:v,markerStart:w,interactionWidth:k})})}const C3=PC({isInternal:!1}),AC=PC({isInternal:!0});C3.displayName="SimpleBezierEdge";AC.displayName="SimpleBezierEdgeInternal";function TC(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:g,sourcePosition:x=Te.Bottom,targetPosition:b=Te.Top,markerEnd:v,markerStart:w,pathOptions:k,interactionWidth:E})=>{const[C,_,R]=Gm({sourceX:n,sourceY:r,sourcePosition:x,targetX:o,targetY:i,targetPosition:b,borderRadius:k==null?void 0:k.borderRadius,offset:k==null?void 0:k.offset,stepPosition:k==null?void 0:k.stepPosition}),P=e.isInternal?void 0:t;return u.jsx(df,{id:P,path:C,labelX:_,labelY:R,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:g,markerEnd:v,markerStart:w,interactionWidth:E})})}const IC=TC({isInternal:!1}),RC=TC({isInternal:!0});IC.displayName="SmoothStepEdge";RC.displayName="SmoothStepEdgeInternal";function MC(e){return S.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return u.jsx(IC,{...n,id:r,pathOptions:S.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const N3=MC({isInternal:!1}),DC=MC({isInternal:!0});N3.displayName="StepEdge";DC.displayName="StepEdgeInternal";function OC(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:g,markerEnd:x,markerStart:b,interactionWidth:v})=>{const[w,k,E]=tx({sourceX:n,sourceY:r,targetX:o,targetY:i}),C=e.isInternal?void 0:t;return u.jsx(df,{id:C,path:w,labelX:k,labelY:E,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:g,markerEnd:x,markerStart:b,interactionWidth:v})})}const E3=OC({isInternal:!1}),LC=OC({isInternal:!0});E3.displayName="StraightEdge";LC.displayName="StraightEdgeInternal";function zC(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:l=Te.Bottom,targetPosition:c=Te.Top,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:v,markerStart:w,pathOptions:k,interactionWidth:E})=>{const[C,_,R]=Jk({sourceX:n,sourceY:r,sourcePosition:l,targetX:o,targetY:i,targetPosition:c,curvature:k==null?void 0:k.curvature}),P=e.isInternal?void 0:t;return u.jsx(df,{id:P,path:C,labelX:_,labelY:R,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:v,markerStart:w,interactionWidth:E})})}const j3=zC({isInternal:!1}),$C=zC({isInternal:!0});j3.displayName="BezierEdge";$C.displayName="BezierEdgeInternal";const hb={default:$C,straight:LC,step:DC,smoothstep:RC,simplebezier:AC},mb={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},_3=(e,t,n)=>n===Te.Left?e-t:n===Te.Right?e+t:e,P3=(e,t,n)=>n===Te.Top?e-t:n===Te.Bottom?e+t:e,gb="react-flow__edgeupdater";function xb({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:l,type:c}){return u.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:l,className:Jt([gb,`${gb}-${c}`]),cx:_3(t,r,e),cy:P3(n,r,e),r,stroke:"transparent",fill:"transparent"})}function A3({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:l,sourcePosition:c,targetPosition:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:p,setReconnecting:g,setUpdateHover:x}){const b=Ht(),v=(_,R)=>{if(_.button!==0)return;const{autoPanOnConnect:P,domNode:I,isValidConnection:F,connectionMode:W,connectionRadius:z,lib:B,onConnectStart:X,onConnectEnd:G,cancelConnection:A,nodeLookup:O,rfId:$,panBy:q,updateConnection:D}=b.getState(),U=R.type==="target",M=(T,V)=>{g(!1),p==null||p(T,n,R.type,V)},H=T=>f==null?void 0:f(n,T),Y=(T,V)=>{g(!0),m==null||m(_,n,R.type),X==null||X(T,V)};Jm.onPointerDown(_.nativeEvent,{autoPanOnConnect:P,connectionMode:W,connectionRadius:z,domNode:I,handleId:R.id,nodeId:R.nodeId,nodeLookup:O,isTarget:U,edgeUpdaterType:R.type,lib:B,flowId:$,cancelConnection:A,panBy:q,isValidConnection:F,onConnect:H,onConnectStart:Y,onConnectEnd:G,onReconnectEnd:M,updateConnection:D,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,dragThreshold:b.getState().connectionDragThreshold,handleDomNode:_.currentTarget})},w=_=>v(_,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),k=_=>v(_,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),E=()=>x(!0),C=()=>x(!1);return u.jsxs(u.Fragment,{children:[(e===!0||e==="source")&&u.jsx(xb,{position:c,centerX:r,centerY:o,radius:t,onMouseDown:w,onMouseEnter:E,onMouseOut:C,type:"source"}),(e===!0||e==="target")&&u.jsx(xb,{position:d,centerX:i,centerY:l,radius:t,onMouseDown:k,onMouseEnter:E,onMouseOut:C,type:"target"})]})}function T3({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:l,onMouseEnter:c,onMouseMove:d,onMouseLeave:f,reconnectRadius:m,onReconnect:p,onReconnectStart:g,onReconnectEnd:x,rfId:b,edgeTypes:v,noPanClassName:w,onError:k,disableKeyboardA11y:E}){let C=yt(de=>de.edgeLookup.get(e));const _=yt(de=>de.defaultEdgeOptions);C=_?{..._,...C}:C;let R=C.type||"default",P=(v==null?void 0:v[R])||hb[R];P===void 0&&(k==null||k("011",Jr.error011(R)),R="default",P=(v==null?void 0:v.default)||hb.default);const I=!!(C.focusable||t&&typeof C.focusable>"u"),F=typeof p<"u"&&(C.reconnectable||n&&typeof C.reconnectable>"u"),W=!!(C.selectable||r&&typeof C.selectable>"u"),z=S.useRef(null),[B,X]=S.useState(!1),[G,A]=S.useState(!1),O=Ht(),{zIndex:$,sourceX:q,sourceY:D,targetX:U,targetY:M,sourcePosition:H,targetPosition:Y}=yt(S.useCallback(de=>{const fe=de.nodeLookup.get(C.source),ge=de.nodeLookup.get(C.target);if(!fe||!ge)return{zIndex:C.zIndex,...mb};const De=vL({id:e,sourceNode:fe,targetNode:ge,sourceHandle:C.sourceHandle||null,targetHandle:C.targetHandle||null,connectionMode:de.connectionMode,onError:k});return{zIndex:dL({selected:C.selected,zIndex:C.zIndex,sourceNode:fe,targetNode:ge,elevateOnSelect:de.elevateEdgesOnSelect,zIndexMode:de.zIndexMode}),...De||mb}},[C.source,C.target,C.sourceHandle,C.targetHandle,C.selected,C.zIndex]),Bt),T=S.useMemo(()=>C.markerStart?`url('#${Km(C.markerStart,b)}')`:void 0,[C.markerStart,b]),V=S.useMemo(()=>C.markerEnd?`url('#${Km(C.markerEnd,b)}')`:void 0,[C.markerEnd,b]);if(C.hidden||q===null||D===null||U===null||M===null)return null;const Z=de=>{var Me;const{addSelectedEdges:fe,unselectNodesAndEdges:ge,multiSelectionActive:De}=O.getState();W&&(O.setState({nodesSelectionActive:!1}),C.selected&&De?(ge({nodes:[],edges:[C]}),(Me=z.current)==null||Me.blur()):fe([e])),o&&o(de,C)},J=i?de=>{i(de,{...C})}:void 0,K=l?de=>{l(de,{...C})}:void 0,te=c?de=>{c(de,{...C})}:void 0,Q=d?de=>{d(de,{...C})}:void 0,ie=f?de=>{f(de,{...C})}:void 0,le=de=>{var fe;if(!E&&zk.includes(de.key)&&W){const{unselectNodesAndEdges:ge,addSelectedEdges:De}=O.getState();de.key==="Escape"?((fe=z.current)==null||fe.blur(),ge({edges:[C]})):De([e])}};return u.jsx("svg",{style:{zIndex:$},children:u.jsxs("g",{className:Jt(["react-flow__edge",`react-flow__edge-${R}`,C.className,w,{selected:C.selected,animated:C.animated,inactive:!W&&!o,updating:B,selectable:W}]),onClick:Z,onDoubleClick:J,onContextMenu:K,onMouseEnter:te,onMouseMove:Q,onMouseLeave:ie,onKeyDown:I?le:void 0,tabIndex:I?0:void 0,role:C.ariaRole??(I?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":C.ariaLabel===null?void 0:C.ariaLabel||`Edge from ${C.source} to ${C.target}`,"aria-describedby":I?`${hC}-${b}`:void 0,ref:z,...C.domAttributes,children:[!G&&u.jsx(P,{id:e,source:C.source,target:C.target,type:C.type,selected:C.selected,animated:C.animated,selectable:W,deletable:C.deletable??!0,label:C.label,labelStyle:C.labelStyle,labelShowBg:C.labelShowBg,labelBgStyle:C.labelBgStyle,labelBgPadding:C.labelBgPadding,labelBgBorderRadius:C.labelBgBorderRadius,sourceX:q,sourceY:D,targetX:U,targetY:M,sourcePosition:H,targetPosition:Y,data:C.data,style:C.style,sourceHandleId:C.sourceHandle,targetHandleId:C.targetHandle,markerStart:T,markerEnd:V,pathOptions:"pathOptions"in C?C.pathOptions:void 0,interactionWidth:C.interactionWidth}),F&&u.jsx(A3,{edge:C,isReconnectable:F,reconnectRadius:m,onReconnect:p,onReconnectStart:g,onReconnectEnd:x,sourceX:q,sourceY:D,targetX:U,targetY:M,sourcePosition:H,targetPosition:Y,setUpdateHover:X,setReconnecting:A})]})})}var I3=S.memo(T3);const R3=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function FC({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:m,reconnectRadius:p,onEdgeDoubleClick:g,onReconnectStart:x,onReconnectEnd:b,disableKeyboardA11y:v}){const{edgesFocusable:w,edgesReconnectable:k,elementsSelectable:E,onError:C}=yt(R3,Bt),_=x3(t);return u.jsxs("div",{className:"react-flow__edges",children:[u.jsx(S3,{defaultColor:e,rfId:n}),_.map(R=>u.jsx(I3,{id:R,edgesFocusable:w,edgesReconnectable:k,elementsSelectable:E,noPanClassName:o,onReconnect:i,onContextMenu:l,onMouseEnter:c,onMouseMove:d,onMouseLeave:f,onClick:m,reconnectRadius:p,onDoubleClick:g,onReconnectStart:x,onReconnectEnd:b,rfId:n,onError:C,edgeTypes:r,disableKeyboardA11y:v},R))]})}FC.displayName="EdgeRenderer";const M3=S.memo(FC),D3=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function O3({children:e}){const t=yt(D3);return u.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function L3(e){const t=oi(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const z3=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function $3(e){const t=yt(z3),n=Ht();return S.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function F3(e){return e.connection.inProgress?{...e.connection,to:pc(e.connection.to,e.transform)}:{...e.connection}}function B3(e){return F3}function ax(e){const t=B3();return yt(t,Bt)}const V3=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function H3({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:l,isValid:c,inProgress:d}=yt(V3,Bt);return!(i&&o&&d)?null:u.jsx("svg",{style:e,width:i,height:l,className:"react-flow__connectionline react-flow__container",children:u.jsx("g",{className:Jt(["react-flow__connection",Bk(c)]),children:u.jsx(BC,{style:t,type:n,CustomComponent:r,isValid:c})})})}const BC=({style:e,type:t=Qo.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:l,fromHandle:c,fromPosition:d,to:f,toNode:m,toHandle:p,toPosition:g,pointer:x}=ax();if(!o)return;if(n)return u.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:c,fromX:i.x,fromY:i.y,toX:f.x,toY:f.y,fromPosition:d,toPosition:g,connectionStatus:Bk(r),toNode:m,toHandle:p,pointer:x});let b="";const v={sourceX:i.x,sourceY:i.y,sourcePosition:d,targetX:f.x,targetY:f.y,targetPosition:g};switch(t){case Qo.Bezier:[b]=Jk(v);break;case Qo.SimpleBezier:[b]=_C(v);break;case Qo.Step:[b]=Gm({...v,borderRadius:0});break;case Qo.SmoothStep:[b]=Gm(v);break;default:[b]=tx(v)}return u.jsx("path",{d:b,fill:"none",className:"react-flow__connection-path",style:e})};BC.displayName="ConnectionLine";const U3={};function yb(e=U3){S.useRef(e),Ht(),S.useEffect(()=>{},[e])}function W3(){Ht(),S.useRef(!1),S.useEffect(()=>{},[])}function VC({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:p,onSelectionStart:g,onSelectionEnd:x,connectionLineType:b,connectionLineStyle:v,connectionLineComponent:w,connectionLineContainerStyle:k,selectionKeyCode:E,selectionOnDrag:C,selectionMode:_,multiSelectionKeyCode:R,panActivationKeyCode:P,zoomActivationKeyCode:I,deleteKeyCode:F,onlyRenderVisibleElements:W,elementsSelectable:z,defaultViewport:B,translateExtent:X,minZoom:G,maxZoom:A,preventScrolling:O,defaultMarkerColor:$,zoomOnScroll:q,zoomOnPinch:D,panOnScroll:U,panOnScrollSpeed:M,panOnScrollMode:H,zoomOnDoubleClick:Y,panOnDrag:T,onPaneClick:V,onPaneMouseEnter:Z,onPaneMouseMove:J,onPaneMouseLeave:K,onPaneScroll:te,onPaneContextMenu:Q,paneClickDistance:ie,nodeClickDistance:le,onEdgeContextMenu:de,onEdgeMouseEnter:fe,onEdgeMouseMove:ge,onEdgeMouseLeave:De,reconnectRadius:Me,onReconnect:ot,onReconnectStart:tt,onReconnectEnd:et,noDragClassName:ke,noWheelClassName:We,noPanClassName:lt,disableKeyboardA11y:vt,nodeExtent:Et,rfId:Tt,viewport:ue,onViewportChange:pe}){return yb(e),yb(t),W3(),L3(n),$3(ue),u.jsx(l3,{onPaneClick:V,onPaneMouseEnter:Z,onPaneMouseMove:J,onPaneMouseLeave:K,onPaneContextMenu:Q,onPaneScroll:te,paneClickDistance:ie,deleteKeyCode:F,selectionKeyCode:E,selectionOnDrag:C,selectionMode:_,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:R,panActivationKeyCode:P,zoomActivationKeyCode:I,elementsSelectable:z,zoomOnScroll:q,zoomOnPinch:D,zoomOnDoubleClick:Y,panOnScroll:U,panOnScrollSpeed:M,panOnScrollMode:H,panOnDrag:T,defaultViewport:B,translateExtent:X,minZoom:G,maxZoom:A,onSelectionContextMenu:p,preventScrolling:O,noDragClassName:ke,noWheelClassName:We,noPanClassName:lt,disableKeyboardA11y:vt,onViewportChange:pe,isControlledViewport:!!ue,children:u.jsxs(O3,{children:[u.jsx(M3,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:l,onReconnect:ot,onReconnectStart:tt,onReconnectEnd:et,onlyRenderVisibleElements:W,onEdgeContextMenu:de,onEdgeMouseEnter:fe,onEdgeMouseMove:ge,onEdgeMouseLeave:De,reconnectRadius:Me,defaultMarkerColor:$,noPanClassName:lt,disableKeyboardA11y:vt,rfId:Tt}),u.jsx(H3,{style:v,type:b,component:w,containerStyle:k}),u.jsx("div",{className:"react-flow__edgelabel-renderer"}),u.jsx(g3,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,nodeClickDistance:le,onlyRenderVisibleElements:W,noPanClassName:lt,noDragClassName:ke,disableKeyboardA11y:vt,nodeExtent:Et,rfId:Tt}),u.jsx("div",{className:"react-flow__viewport-portal"})]})})}VC.displayName="GraphView";const Y3=S.memo(VC),vb=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:l,fitViewOptions:c,minZoom:d=.5,maxZoom:f=2,nodeOrigin:m,nodeExtent:p,zIndexMode:g="basic"}={})=>{const x=new Map,b=new Map,v=new Map,w=new Map,k=r??t??[],E=n??e??[],C=m??[0,0],_=p??Wa;nC(v,w,k);const R=Qm(E,x,b,{nodeOrigin:C,nodeExtent:_,zIndexMode:g});let P=[0,0,1];if(l&&o&&i){const I=dc(x,{filter:B=>!!((B.width||B.initialWidth)&&(B.height||B.initialHeight))}),{x:F,y:W,zoom:z}=Jg(I,o,i,d,f,(c==null?void 0:c.padding)??.1);P=[F,W,z]}return{rfId:"1",width:o??0,height:i??0,transform:P,nodes:E,nodesInitialized:R,nodeLookup:x,parentLookup:b,edges:k,edgeLookup:w,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:d,maxZoom:f,translateExtent:Wa,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Js.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:C,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:c,fitViewResolver:null,connection:{...Fk},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:iL,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:$k,zIndexMode:g,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},X3=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:f,nodeOrigin:m,nodeExtent:p,zIndexMode:g})=>dz((x,b)=>{async function v(){const{nodeLookup:w,panZoom:k,fitViewOptions:E,fitViewResolver:C,width:_,height:R,minZoom:P,maxZoom:I}=b();k&&(await rL({nodes:w,width:_,height:R,panZoom:k,minZoom:P,maxZoom:I},E),C==null||C.resolve(!0),x({fitViewResolver:null}))}return{...vb({nodes:e,edges:t,width:o,height:i,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:f,nodeOrigin:m,nodeExtent:p,defaultNodes:n,defaultEdges:r,zIndexMode:g}),setNodes:w=>{const{nodeLookup:k,parentLookup:E,nodeOrigin:C,elevateNodesOnSelect:_,fitViewQueued:R,zIndexMode:P}=b(),I=Qm(w,k,E,{nodeOrigin:C,nodeExtent:p,elevateNodesOnSelect:_,checkEquality:!0,zIndexMode:P});R&&I?(v(),x({nodes:w,nodesInitialized:I,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:w,nodesInitialized:I})},setEdges:w=>{const{connectionLookup:k,edgeLookup:E}=b();nC(k,E,w),x({edges:w})},setDefaultNodesAndEdges:(w,k)=>{if(w){const{setNodes:E}=b();E(w),x({hasDefaultNodes:!0})}if(k){const{setEdges:E}=b();E(k),x({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:k,nodeLookup:E,parentLookup:C,domNode:_,nodeOrigin:R,nodeExtent:P,debug:I,fitViewQueued:F,zIndexMode:W}=b(),{changes:z,updatedInternals:B}=jL(w,E,C,_,R,P,W);B&&(kL(E,C,{nodeOrigin:R,nodeExtent:P,zIndexMode:W}),F?(v(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),(z==null?void 0:z.length)>0&&(I&&console.log("React Flow: trigger node changes",z),k==null||k(z)))},updateNodePositions:(w,k=!1)=>{const E=[];let C=[];const{nodeLookup:_,triggerNodeChanges:R,connection:P,updateConnection:I,onNodesChangeMiddlewareMap:F}=b();for(const[W,z]of w){const B=_.get(W),X=!!(B!=null&&B.expandParent&&(B!=null&&B.parentId)&&(z!=null&&z.position)),G={id:W,type:"position",position:X?{x:Math.max(0,z.position.x),y:Math.max(0,z.position.y)}:z.position,dragging:k};if(B&&P.inProgress&&P.fromNode.id===B.id){const A=Wi(B,P.fromHandle,Te.Left,!0);I({...P,from:A})}X&&B.parentId&&E.push({id:W,parentId:B.parentId,rect:{...z.internals.positionAbsolute,width:z.measured.width??0,height:z.measured.height??0}}),C.push(G)}if(E.length>0){const{parentLookup:W,nodeOrigin:z}=b(),B=sx(E,_,W,z);C.push(...B)}for(const W of F.values())C=W(C);R(C)},triggerNodeChanges:w=>{const{onNodesChange:k,setNodes:E,nodes:C,hasDefaultNodes:_,debug:R}=b();if(w!=null&&w.length){if(_){const P=xC(w,C);E(P)}R&&console.log("React Flow: trigger node changes",w),k==null||k(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:k,setEdges:E,edges:C,hasDefaultEdges:_,debug:R}=b();if(w!=null&&w.length){if(_){const P=yC(w,C);E(P)}R&&console.log("React Flow: trigger edge changes",w),k==null||k(w)}},addSelectedNodes:w=>{const{multiSelectionActive:k,edgeLookup:E,nodeLookup:C,triggerNodeChanges:_,triggerEdgeChanges:R}=b();if(k){const P=w.map(I=>Ii(I,!0));_(P);return}_(zs(C,new Set([...w]),!0)),R(zs(E))},addSelectedEdges:w=>{const{multiSelectionActive:k,edgeLookup:E,nodeLookup:C,triggerNodeChanges:_,triggerEdgeChanges:R}=b();if(k){const P=w.map(I=>Ii(I,!0));R(P);return}R(zs(E,new Set([...w]))),_(zs(C,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:k}={})=>{const{edges:E,nodes:C,nodeLookup:_,triggerNodeChanges:R,triggerEdgeChanges:P}=b(),I=w||C,F=k||E,W=I.map(B=>{const X=_.get(B.id);return X&&(X.selected=!1),Ii(B.id,!1)}),z=F.map(B=>Ii(B.id,!1));R(W),P(z)},setMinZoom:w=>{const{panZoom:k,maxZoom:E}=b();k==null||k.setScaleExtent([w,E]),x({minZoom:w})},setMaxZoom:w=>{const{panZoom:k,minZoom:E}=b();k==null||k.setScaleExtent([E,w]),x({maxZoom:w})},setTranslateExtent:w=>{var k;(k=b().panZoom)==null||k.setTranslateExtent(w),x({translateExtent:w})},resetSelectedElements:()=>{const{edges:w,nodes:k,triggerNodeChanges:E,triggerEdgeChanges:C,elementsSelectable:_}=b();if(!_)return;const R=k.reduce((I,F)=>F.selected?[...I,Ii(F.id,!1)]:I,[]),P=w.reduce((I,F)=>F.selected?[...I,Ii(F.id,!1)]:I,[]);E(R),C(P)},setNodeExtent:w=>{const{nodes:k,nodeLookup:E,parentLookup:C,nodeOrigin:_,elevateNodesOnSelect:R,nodeExtent:P,zIndexMode:I}=b();w[0][0]===P[0][0]&&w[0][1]===P[0][1]&&w[1][0]===P[1][0]&&w[1][1]===P[1][1]||(Qm(k,E,C,{nodeOrigin:_,nodeExtent:w,elevateNodesOnSelect:R,checkEquality:!1,zIndexMode:I}),x({nodeExtent:w}))},panBy:w=>{const{transform:k,width:E,height:C,panZoom:_,translateExtent:R}=b();return _L({delta:w,panZoom:_,transform:k,translateExtent:R,width:E,height:C})},setCenter:async(w,k,E)=>{const{width:C,height:_,maxZoom:R,panZoom:P}=b();if(!P)return Promise.resolve(!1);const I=typeof(E==null?void 0:E.zoom)<"u"?E.zoom:R;return await P.setViewport({x:C/2-w*I,y:_/2-k*I,zoom:I},{duration:E==null?void 0:E.duration,ease:E==null?void 0:E.ease,interpolate:E==null?void 0:E.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{...Fk}})},updateConnection:w=>{x({connection:w})},reset:()=>x({...vb()})}},Object.is);function HC({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:d,fitView:f,nodeOrigin:m,nodeExtent:p,zIndexMode:g,children:x}){const[b]=S.useState(()=>X3({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:f,minZoom:l,maxZoom:c,fitViewOptions:d,nodeOrigin:m,nodeExtent:p,zIndexMode:g}));return u.jsx(pz,{value:b,children:u.jsx(Oz,{children:x})})}function q3({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:l,fitView:c,fitViewOptions:d,minZoom:f,maxZoom:m,nodeOrigin:p,nodeExtent:g,zIndexMode:x}){return S.useContext(cf)?u.jsx(u.Fragment,{children:e}):u.jsx(HC,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:l,fitView:c,initialFitViewOptions:d,initialMinZoom:f,initialMaxZoom:m,nodeOrigin:p,nodeExtent:g,zIndexMode:x,children:e})}const G3={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function K3({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:l,onNodeClick:c,onEdgeClick:d,onInit:f,onMove:m,onMoveStart:p,onMoveEnd:g,onConnect:x,onConnectStart:b,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:k,onNodeMouseEnter:E,onNodeMouseMove:C,onNodeMouseLeave:_,onNodeContextMenu:R,onNodeDoubleClick:P,onNodeDragStart:I,onNodeDrag:F,onNodeDragStop:W,onNodesDelete:z,onEdgesDelete:B,onDelete:X,onSelectionChange:G,onSelectionDragStart:A,onSelectionDrag:O,onSelectionDragStop:$,onSelectionContextMenu:q,onSelectionStart:D,onSelectionEnd:U,onBeforeDelete:M,connectionMode:H,connectionLineType:Y=Qo.Bezier,connectionLineStyle:T,connectionLineComponent:V,connectionLineContainerStyle:Z,deleteKeyCode:J="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:te=!1,selectionMode:Q=Ya.Full,panActivationKeyCode:ie="Space",multiSelectionKeyCode:le=Ga()?"Meta":"Control",zoomActivationKeyCode:de=Ga()?"Meta":"Control",snapToGrid:fe,snapGrid:ge,onlyRenderVisibleElements:De=!1,selectNodesOnDrag:Me,nodesDraggable:ot,autoPanOnNodeFocus:tt,nodesConnectable:et,nodesFocusable:ke,nodeOrigin:We=mC,edgesFocusable:lt,edgesReconnectable:vt,elementsSelectable:Et=!0,defaultViewport:Tt=Ez,minZoom:ue=.5,maxZoom:pe=2,translateExtent:Pe=Wa,preventScrolling:je=!0,nodeExtent:Xe,defaultMarkerColor:ut="#b1b1b7",zoomOnScroll:bt=!0,zoomOnPinch:Ct=!0,panOnScroll:It=!1,panOnScrollSpeed:_t=.5,panOnScrollMode:pt=Fi.Free,zoomOnDoubleClick:Pt=!0,panOnDrag:he=!0,onPaneClick:Ne,onPaneMouseEnter:re,onPaneMouseMove:Ce,onPaneMouseLeave:Be,onPaneScroll:Ee,onPaneContextMenu:Ze,paneClickDistance:Fe=1,nodeClickDistance:Oe=0,children:Ge,onReconnect:dt,onReconnectStart:Rt,onReconnectEnd:jt,onEdgeContextMenu:zt,onEdgeDoubleClick:Mt,onEdgeMouseEnter:lr,onEdgeMouseMove:Zt,onEdgeMouseLeave:oo,reconnectRadius:zn=10,onNodesChange:hi,onEdgesChange:io,noDragClassName:$r="nodrag",noWheelClassName:vl="nowheel",noPanClassName:Fr="nopan",fitView:wl,fitViewOptions:bl,connectOnClick:qf,attributionPosition:Ec,proOptions:jc,defaultEdgeOptions:_c,elevateNodesOnSelect:Pc=!0,elevateEdgesOnSelect:Gf=!1,disableKeyboardA11y:Ac=!1,autoPanOnConnect:Ut,autoPanOnNodeDrag:Kf,autoPanSpeed:Sl,connectionRadius:Tc,isValidConnection:Zi,onError:Qf,style:Ic,id:mi,nodeDragThreshold:ar,connectionDragThreshold:Jf,viewport:qn,onViewportChange:Zf,width:ep,height:tp,colorMode:es="light",debug:ts,onScroll:Br,ariaLabelConfig:ns,zIndexMode:Rc="basic",...np},kl){const rs=mi||"1",Cl=Az(es),gi=S.useCallback(Mc=>{Mc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Br==null||Br(Mc)},[Br]);return u.jsx("div",{"data-testid":"rf__wrapper",...np,onScroll:gi,style:{...Ic,...G3},ref:kl,className:Jt(["react-flow",o,Cl]),id:mi,role:"application",children:u.jsxs(q3,{nodes:e,edges:t,width:ep,height:tp,fitView:wl,fitViewOptions:bl,minZoom:ue,maxZoom:pe,nodeOrigin:We,nodeExtent:Xe,zIndexMode:Rc,children:[u.jsx(Y3,{onInit:f,onNodeClick:c,onEdgeClick:d,onNodeMouseEnter:E,onNodeMouseMove:C,onNodeMouseLeave:_,onNodeContextMenu:R,onNodeDoubleClick:P,nodeTypes:i,edgeTypes:l,connectionLineType:Y,connectionLineStyle:T,connectionLineComponent:V,connectionLineContainerStyle:Z,selectionKeyCode:K,selectionOnDrag:te,selectionMode:Q,deleteKeyCode:J,multiSelectionKeyCode:le,panActivationKeyCode:ie,zoomActivationKeyCode:de,onlyRenderVisibleElements:De,defaultViewport:Tt,translateExtent:Pe,minZoom:ue,maxZoom:pe,preventScrolling:je,zoomOnScroll:bt,zoomOnPinch:Ct,zoomOnDoubleClick:Pt,panOnScroll:It,panOnScrollSpeed:_t,panOnScrollMode:pt,panOnDrag:he,onPaneClick:Ne,onPaneMouseEnter:re,onPaneMouseMove:Ce,onPaneMouseLeave:Be,onPaneScroll:Ee,onPaneContextMenu:Ze,paneClickDistance:Fe,nodeClickDistance:Oe,onSelectionContextMenu:q,onSelectionStart:D,onSelectionEnd:U,onReconnect:dt,onReconnectStart:Rt,onReconnectEnd:jt,onEdgeContextMenu:zt,onEdgeDoubleClick:Mt,onEdgeMouseEnter:lr,onEdgeMouseMove:Zt,onEdgeMouseLeave:oo,reconnectRadius:zn,defaultMarkerColor:ut,noDragClassName:$r,noWheelClassName:vl,noPanClassName:Fr,rfId:rs,disableKeyboardA11y:Ac,nodeExtent:Xe,viewport:qn,onViewportChange:Zf}),u.jsx(Pz,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:b,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:k,nodesDraggable:ot,autoPanOnNodeFocus:tt,nodesConnectable:et,nodesFocusable:ke,edgesFocusable:lt,edgesReconnectable:vt,elementsSelectable:Et,elevateNodesOnSelect:Pc,elevateEdgesOnSelect:Gf,minZoom:ue,maxZoom:pe,nodeExtent:Xe,onNodesChange:hi,onEdgesChange:io,snapToGrid:fe,snapGrid:ge,connectionMode:H,translateExtent:Pe,connectOnClick:qf,defaultEdgeOptions:_c,fitView:wl,fitViewOptions:bl,onNodesDelete:z,onEdgesDelete:B,onDelete:X,onNodeDragStart:I,onNodeDrag:F,onNodeDragStop:W,onSelectionDrag:O,onSelectionDragStart:A,onSelectionDragStop:$,onMove:m,onMoveStart:p,onMoveEnd:g,noPanClassName:Fr,nodeOrigin:We,rfId:rs,autoPanOnConnect:Ut,autoPanOnNodeDrag:Kf,autoPanSpeed:Sl,onError:Qf,connectionRadius:Tc,isValidConnection:Zi,selectNodesOnDrag:Me,nodeDragThreshold:ar,connectionDragThreshold:Jf,onBeforeDelete:M,debug:ts,ariaLabelConfig:ns,zIndexMode:Rc}),u.jsx(Nz,{onSelectionChange:G}),Ge,u.jsx(wz,{proOptions:jc,position:Ec}),u.jsx(vz,{rfId:rs,disableKeyboardA11y:Ac})]})})}var Q3=vC(K3);const J3=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function Z3({children:e}){const t=yt(J3);return t?ul.createPortal(e,t):null}const e4=e=>t=>{if(!e.includeHiddenNodes)return t.nodesInitialized;if(t.nodeLookup.size===0)return!1;for(const[,{internals:n}]of t.nodeLookup)if(n.handleBounds===void 0||!Zg(n.userNode))return!1;return!0};function t4(e={includeHiddenNodes:!1}){return yt(e4(e))}function wb(e){return yt(S.useCallback(n=>n.nodeLookup.get(e),[e]),Bt)}function n4({dimensions:e,lineWidth:t,variant:n,className:r}){return u.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Jt(["react-flow__background-pattern",n,r])})}function r4({radius:e,className:t}){return u.jsx("circle",{cx:e,cy:e,r:e,className:Jt(["react-flow__background-pattern","dots",t])})}var Zo;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Zo||(Zo={}));const o4={[Zo.Dots]:1,[Zo.Lines]:1,[Zo.Cross]:6},i4=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function UC({id:e,variant:t=Zo.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:l,bgColor:c,style:d,className:f,patternClassName:m}){const p=S.useRef(null),{transform:g,patternId:x}=yt(i4,Bt),b=r||o4[t],v=t===Zo.Dots,w=t===Zo.Cross,k=Array.isArray(n)?n:[n,n],E=[k[0]*g[2]||1,k[1]*g[2]||1],C=b*g[2],_=Array.isArray(i)?i:[i,i],R=w?[C,C]:E,P=[_[0]*g[2]||1+R[0]/2,_[1]*g[2]||1+R[1]/2],I=`${x}${e||""}`;return u.jsxs("svg",{className:Jt(["react-flow__background",f]),style:{...d,...uf,"--xy-background-color-props":c,"--xy-background-pattern-color-props":l},ref:p,"data-testid":"rf__background",children:[u.jsx("pattern",{id:I,x:g[0]%E[0],y:g[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${P[0]},-${P[1]})`,children:v?u.jsx(r4,{radius:C/2,className:m}):u.jsx(n4,{dimensions:R,lineWidth:o,variant:t,className:m})}),u.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${I})`})]})}UC.displayName="Background";const s4=S.memo(UC);function l4(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:u.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function a4(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:u.jsx("path",{d:"M0 0h32v4.2H0z"})})}function c4(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:u.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function u4(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function d4(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Xu({children:e,className:t,...n}){return u.jsx("button",{type:"button",className:Jt(["react-flow__controls-button",t]),...n,children:e})}const f4=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function WC({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:l,onFitView:c,onInteractiveChange:d,className:f,children:m,position:p="bottom-left",orientation:g="vertical","aria-label":x}){const b=Ht(),{isInteractive:v,minZoomReached:w,maxZoomReached:k,ariaLabelConfig:E}=yt(f4,Bt),{zoomIn:C,zoomOut:_,fitView:R}=oi(),P=()=>{C(),i==null||i()},I=()=>{_(),l==null||l()},F=()=>{R(o),c==null||c()},W=()=>{b.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),d==null||d(!v)},z=g==="horizontal"?"horizontal":"vertical";return u.jsxs(hc,{className:Jt(["react-flow__controls",z,f]),position:p,style:e,"data-testid":"rf__controls","aria-label":x??E["controls.ariaLabel"],children:[t&&u.jsxs(u.Fragment,{children:[u.jsx(Xu,{onClick:P,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:k,children:u.jsx(l4,{})}),u.jsx(Xu,{onClick:I,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:w,children:u.jsx(a4,{})})]}),n&&u.jsx(Xu,{className:"react-flow__controls-fitview",onClick:F,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:u.jsx(c4,{})}),r&&u.jsx(Xu,{className:"react-flow__controls-interactive",onClick:W,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:v?u.jsx(d4,{}):u.jsx(u4,{})}),m]})}WC.displayName="Controls";const p4=S.memo(WC);function h4({id:e,x:t,y:n,width:r,height:o,style:i,color:l,strokeColor:c,strokeWidth:d,className:f,borderRadius:m,shapeRendering:p,selected:g,onClick:x}){const{background:b,backgroundColor:v}=i||{},w=l||b||v;return u.jsx("rect",{className:Jt(["react-flow__minimap-node",{selected:g},f]),x:t,y:n,rx:m,ry:m,width:r,height:o,style:{fill:w,stroke:c,strokeWidth:d},shapeRendering:p,onClick:x?k=>x(k,e):void 0})}const m4=S.memo(h4),g4=e=>e.nodes.map(t=>t.id),im=e=>e instanceof Function?e:()=>e;function x4({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=m4,onClick:l}){const c=yt(g4,Bt),d=im(t),f=im(e),m=im(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return u.jsx(u.Fragment,{children:c.map(g=>u.jsx(v4,{id:g,nodeColorFunc:d,nodeStrokeColorFunc:f,nodeClassNameFunc:m,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:l,shapeRendering:p},g))})}function y4({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:l,NodeComponent:c,onClick:d}){const{node:f,x:m,y:p,width:g,height:x}=yt(b=>{const{internals:v}=b.nodeLookup.get(e),w=v.userNode,{x:k,y:E}=v.positionAbsolute,{width:C,height:_}=ko(w);return{node:w,x:k,y:E,width:C,height:_}},Bt);return!f||f.hidden||!Zg(f)?null:u.jsx(c,{x:m,y:p,width:g,height:x,style:f.style,selected:!!f.selected,className:r(f),color:t(f),borderRadius:o,strokeColor:n(f),strokeWidth:i,shapeRendering:l,onClick:d,id:f.id})}const v4=S.memo(y4);var w4=S.memo(x4);const b4=200,S4=150,k4=e=>!e.hidden,C4=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Yk(dc(e.nodeLookup,{filter:k4}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},N4="react-flow__minimap-desc";function YC({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:l,nodeComponent:c,bgColor:d,maskColor:f,maskStrokeColor:m,maskStrokeWidth:p,position:g="bottom-right",onClick:x,onNodeClick:b,pannable:v=!1,zoomable:w=!1,ariaLabel:k,inversePan:E,zoomStep:C=1,offsetScale:_=5}){const R=Ht(),P=S.useRef(null),{boundingRect:I,viewBB:F,rfId:W,panZoom:z,translateExtent:B,flowWidth:X,flowHeight:G,ariaLabelConfig:A}=yt(C4,Bt),O=(e==null?void 0:e.width)??b4,$=(e==null?void 0:e.height)??S4,q=I.width/O,D=I.height/$,U=Math.max(q,D),M=U*O,H=U*$,Y=_*U,T=I.x-(M-I.width)/2-Y,V=I.y-(H-I.height)/2-Y,Z=M+Y*2,J=H+Y*2,K=`${N4}-${W}`,te=S.useRef(0),Q=S.useRef();te.current=U,S.useEffect(()=>{if(P.current&&z)return Q.current=LL({domNode:P.current,panZoom:z,getTransform:()=>R.getState().transform,getViewScale:()=>te.current}),()=>{var fe;(fe=Q.current)==null||fe.destroy()}},[z]),S.useEffect(()=>{var fe;(fe=Q.current)==null||fe.update({translateExtent:B,width:X,height:G,inversePan:E,pannable:v,zoomStep:C,zoomable:w})},[v,w,E,C,B,X,G]);const ie=x?fe=>{var Me;const[ge,De]=((Me=Q.current)==null?void 0:Me.pointer(fe))||[0,0];x(fe,{x:ge,y:De})}:void 0,le=b?S.useCallback((fe,ge)=>{const De=R.getState().nodeLookup.get(ge).internals.userNode;b(fe,De)},[]):void 0,de=k??A["minimap.ariaLabel"];return u.jsx(hc,{position:g,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*U:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:Jt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:u.jsxs("svg",{width:O,height:$,viewBox:`${T} ${V} ${Z} ${J}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":K,ref:P,onClick:ie,children:[de&&u.jsx("title",{id:K,children:de}),u.jsx(w4,{onClick:le,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:l,nodeComponent:c}),u.jsx("path",{className:"react-flow__minimap-mask",d:`M${T-Y},${V-Y}h${Z+Y*2}v${J+Y*2}h${-Z-Y*2}z
        M${F.x},${F.y}h${F.width}v${F.height}h${-F.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}YC.displayName="MiniMap";const E4=S.memo(YC),j4=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,_4={[Yi.Line]:"right",[Yi.Handle]:"bottom-right"};function P4({nodeId:e,position:t,variant:n=Yi.Handle,className:r,style:o=void 0,children:i,color:l,minWidth:c=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:g,autoScale:x=!0,shouldResize:b,onResizeStart:v,onResize:w,onResizeEnd:k}){const E=kC(),C=typeof e=="string"?e:E,_=Ht(),R=S.useRef(null),P=n===Yi.Handle,I=yt(S.useCallback(j4(P&&x),[P,x]),Bt),F=S.useRef(null),W=t??_4[n];S.useEffect(()=>{if(!(!R.current||!C))return F.current||(F.current=ZL({domNode:R.current,nodeId:C,getStoreItems:()=>{const{nodeLookup:B,transform:X,snapGrid:G,snapToGrid:A,nodeOrigin:O,domNode:$}=_.getState();return{nodeLookup:B,transform:X,snapGrid:G,snapToGrid:A,nodeOrigin:O,paneDomNode:$}},onChange:(B,X)=>{const{triggerNodeChanges:G,nodeLookup:A,parentLookup:O,nodeOrigin:$}=_.getState(),q=[],D={x:B.x,y:B.y},U=A.get(C);if(U&&U.expandParent&&U.parentId){const M=U.origin??$,H=B.width??U.measured.width??0,Y=B.height??U.measured.height??0,T={id:U.id,parentId:U.parentId,rect:{width:H,height:Y,...Xk({x:B.x??U.position.x,y:B.y??U.position.y},{width:H,height:Y},U.parentId,A,M)}},V=sx([T],A,O,$);q.push(...V),D.x=B.x?Math.max(M[0]*H,B.x):void 0,D.y=B.y?Math.max(M[1]*Y,B.y):void 0}if(D.x!==void 0&&D.y!==void 0){const M={id:C,type:"position",position:{...D}};q.push(M)}if(B.width!==void 0&&B.height!==void 0){const H={id:C,type:"dimensions",resizing:!0,setAttributes:g?g==="horizontal"?"width":"height":!0,dimensions:{width:B.width,height:B.height}};q.push(H)}for(const M of X){const H={...M,type:"position"};q.push(H)}G(q)},onEnd:({width:B,height:X})=>{const G={id:C,type:"dimensions",resizing:!1,dimensions:{width:B,height:X}};_.getState().triggerNodeChanges([G])}})),F.current.update({controlPosition:W,boundaries:{minWidth:c,minHeight:d,maxWidth:f,maxHeight:m},keepAspectRatio:p,resizeDirection:g,onResizeStart:v,onResize:w,onResizeEnd:k,shouldResize:b}),()=>{var B;(B=F.current)==null||B.destroy()}},[W,c,d,f,m,p,v,w,k,b]);const z=W.split("-");return u.jsx("div",{className:Jt(["react-flow__resize-control","nodrag",...z,n,r]),ref:R,style:{...o,scale:I,...l&&{[P?"backgroundColor":"borderColor"]:l}},children:i})}const bb=S.memo(P4);function XC({nodeId:e,isVisible:t=!0,handleClassName:n,handleStyle:r,lineClassName:o,lineStyle:i,color:l,minWidth:c=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:p=!1,autoScale:g=!0,shouldResize:x,onResizeStart:b,onResize:v,onResizeEnd:w}){return t?u.jsxs(u.Fragment,{children:[XL.map(k=>u.jsx(bb,{className:o,style:i,nodeId:e,position:k,variant:Yi.Line,color:l,minWidth:c,minHeight:d,maxWidth:f,maxHeight:m,onResizeStart:b,keepAspectRatio:p,autoScale:g,shouldResize:x,onResize:v,onResizeEnd:w},k)),YL.map(k=>u.jsx(bb,{className:n,style:r,nodeId:e,position:k,color:l,minWidth:c,minHeight:d,maxWidth:f,maxHeight:m,onResizeStart:b,keepAspectRatio:p,autoScale:g,shouldResize:x,onResize:v,onResizeEnd:w},k))]}):null}function eg(e){return e!==null&&typeof e=="object"&&"value"in e&&"timestamp"in e&&typeof e.timestamp=="number"}function sm({children:e,offset:t,onDragEnd:n,className:r,style:o}){const[i,l]=S.useState(!1),[c,d]=S.useState(t),f=S.useRef(c),m=S.useRef(null),{getZoom:p}=oi();f.current=c,Ye.useEffect(()=>{d(t)},[t]);const g=S.useCallback(x=>{x.stopPropagation(),l(!0),m.current={x:x.clientX,y:x.clientY,offsetX:f.current.x,offsetY:f.current.y};const b=w=>{if(!m.current)return;const k=p(),E=(w.clientX-m.current.x)/k,C=(w.clientY-m.current.y)/k,_={x:m.current.offsetX+E,y:m.current.offsetY+C};d(_),f.current=_},v=()=>{l(!1),m.current&&n(f.current),m.current=null,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",v)};document.addEventListener("mousemove",b),document.addEventListener("mouseup",v)},[p,n]);return u.jsx("div",{style:{position:"absolute",transform:`translate(${c.x}px, ${c.y}px)`,cursor:i?"grabbing":"grab",userSelect:"none",...o},className:`nodrag ${r||""}`,onMouseDown:g,children:e})}function $s(e,t=!1){if(e==null)return t?"":"()";if(e instanceof Map){const n=[];return e.forEach((r,o)=>{n.push(`${o}=${$s(r)}`)}),`{${n.join(", ")}}`}else return Array.isArray(e)?`(${e.map(n=>$s(n)).join(",")})`:typeof e=="object"?eg(e)?$s(e.value,t):`{${Object.entries(e).map(([r,o])=>`${r}=${$s(o)}`).join(", ")}}`:typeof e=="string"?`"${e}"`:String(e)}function A4(e,t){if(t)return new Date(t.getTime()+e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});if(e===0)return"@0";const n=e/1e3;if(n<60)return`@${n.toFixed(n%1===0?0:1)}s`;const r=n/60;if(r<60)return`@${r.toFixed(r%1===0?0:1)}m`;const o=r/60;if(o<24)return`@${o.toFixed(o%1===0?0:1)}h`;const i=o/24;return`@${i.toFixed(i%1===0?0:1)}d`}function T4(e,t=!1,n=!1,r=null){if(t&&!n)return[{count:e.length,value:"",timestamp:0,timeDisplay:""}];const o=new Map;for(const i of e){const l=eg(i)?i.timestamp:0,c=eg(i)?$s(i.value,t):$s(i,t),d=n?`${c}@${l}`:c,f=o.get(d);f?f.count++:o.set(d,{count:1,value:c,timestamp:l,timeDisplay:n?A4(l,r):""})}return Array.from(o.values())}const lm=10,I4=({id:e,data:t,selected:n})=>{var W;const r=ax(),o=me(z=>z.colorSets.find(B=>B.name===t.colorSet)),i=(o==null?void 0:o.color)||"#000000",l=(o==null?void 0:o.type)==="basic"&&((W=o==null?void 0:o.definition)==null?void 0:W.includes("= unit;")),c=(o==null?void 0:o.timed)===!0,d=me(z=>z.activePetriNetId),f=me(z=>z.updateNodeData),m=me(z=>z.showMarkingDisplay),p=me(z=>z.simulationEpoch),g=p?new Date(p):null,x=r.inProgress&&r.fromNode.id!==e&&r.fromNode.type==="transition",b=t.marking&&Array.isArray(t.marking)&&t.marking.length>0,v=b?t.marking.length:0,w=b?T4(t.marking,l,c,g):[],k=w.slice(0,lm),E=w.length>lm,C=t.colorSetOffset??{x:0,y:35},_=t.tokenCountOffset??{x:25,y:-5},R=t.markingOffset??{x:40,y:0},P=S.useCallback(z=>{d&&f(d,e,{...t,colorSetOffset:z})},[d,e,t,f]),I=S.useCallback(z=>{d&&f(d,e,{...t,tokenCountOffset:z})},[d,e,t,f]),F=S.useCallback(z=>{d&&f(d,e,{...t,markingOffset:z})},[d,e,t,f]);return u.jsxs("div",{className:"relative cpn-node place-node",style:{borderColor:i},children:[u.jsx(XC,{isVisible:n,minWidth:30,minHeight:30}),u.jsx("div",{className:"whitespace-pre-wrap leading-tight",children:t.label}),t.colorSet&&u.jsx(sm,{offset:C,onDragEnd:P,className:"text-[9px] font-mono whitespace-nowrap",style:{top:"50%",left:"50%"},children:t.colorSet}),b&&u.jsx(sm,{offset:_,onDragEnd:I,style:{top:"50%",left:"50%"},children:u.jsx("div",{className:"marking flex items-center justify-center text-[9px] text-black rounded-full min-w-[14px] h-[14px] px-0.5",children:v})}),b&&m&&u.jsx(sm,{offset:R,onDragEnd:F,style:{top:"50%",left:"50%"},children:u.jsx("table",{className:"marking text-[7px] font-mono text-black rounded-sm border-collapse",children:u.jsxs("tbody",{children:[k.map((z,B)=>u.jsxs("tr",{children:[u.jsxs("td",{className:"px-1 py-0.5 text-right",children:[z.count,"`"]}),u.jsx("td",{className:"px-1 py-0.5",children:z.value}),c&&u.jsx("td",{className:"px-1 py-0.5 text-muted-foreground whitespace-nowrap",children:z.timeDisplay})]},B)),E&&u.jsx("tr",{children:u.jsxs("td",{colSpan:c?3:2,className:"px-1 py-0.5 text-center text-muted-foreground",children:["...",w.length-lm," more"]})})]})})}),u.jsx(ti,{className:"custom-handle",type:"source",position:Te.Right,style:{visibility:t.isArcMode&&!r.inProgress?"visible":"hidden"}}),u.jsx(ti,{className:"custom-handle",type:"target",position:Te.Left,style:{visibility:t.isArcMode&&x?"visible":"hidden"},isConnectable:x})]})};function Sb({children:e,offset:t,onDragEnd:n,className:r,style:o}){const[i,l]=S.useState(!1),[c,d]=S.useState(t),f=S.useRef(c),m=S.useRef(null),{getZoom:p}=oi();f.current=c;const g=S.useRef(t);Ye.useEffect(()=>{g.current.x===t.x&&g.current.y===t.y||(g.current=t,d(t))},[t]);const x=S.useCallback(b=>{b.stopPropagation(),l(!0),m.current={x:b.clientX,y:b.clientY,offsetX:f.current.x,offsetY:f.current.y};const v=k=>{if(!m.current)return;const E=p(),C=(k.clientX-m.current.x)/E,_=(k.clientY-m.current.y)/E,R=m.current.offsetX+C,P=m.current.offsetY+_,I={x:R,y:P};d(I),f.current=I},w=()=>{l(!1),m.current&&n(f.current),m.current=null,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",w)},[p,n]);return u.jsx("div",{style:{position:"absolute",left:"50%",top:0,transform:`translate(calc(-50% + ${c.x}px), ${c.y}px)`,cursor:i?"grabbing":"grab",userSelect:"none",whiteSpace:"nowrap",...o},className:`nodrag ${r||""}`,onMouseDown:x,children:e})}const R4=({id:e,data:t,selected:n})=>{const r=ax(),o=me(p=>p.activePetriNetId),i=me(p=>p.updateNodeData),l=r.inProgress&&r.fromNode.id!==e&&r.fromNode.type==="place",c=t.guardOffset??{x:-45,y:-15},d=t.timeOffset??{x:45,y:-15},f=S.useCallback(p=>{o&&i(o,e,{...t,guardOffset:p})},[o,e,t,i]),m=S.useCallback(p=>{o&&i(o,e,{...t,timeOffset:p})},[o,e,t,i]);return u.jsxs("div",{className:"relative cpn-node transition-node",children:[u.jsx(XC,{isVisible:n,minWidth:15,minHeight:30}),u.jsx("div",{className:"whitespace-pre-wrap leading-tight",children:t.label}),t.guard&&u.jsx(Sb,{offset:c,onDragEnd:f,className:"text-[9px] font-mono whitespace-nowrap text-[#006400]",children:t.guard}),t.time&&u.jsxs(Sb,{offset:d,onDragEnd:m,className:"text-[9px] font-mono whitespace-nowrap text-[#8B4513]",children:["@+",t.time]}),u.jsx(ti,{className:"custom-handle",type:"source",position:Te.Right,style:{visibility:t.isArcMode&&!r.inProgress?"visible":"hidden"}}),u.jsx(ti,{className:"custom-handle",type:"target",position:Te.Left,style:{visibility:t.isArcMode&&l?"visible":"hidden"},isConnectable:l})]})},M4=S.memo(R4),D4=({data:e})=>{const t={color:e.color||"inherit",fontWeight:e.bold?"bold":"normal",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",whiteSpace:"pre-wrap",textAlign:"center",fontSize:"9px"};return u.jsx("div",{className:"cpn-node auxtext-node",style:t,children:e.label})},O4=({data:e})=>{const t=e.color||"inherit";return u.jsx("div",{className:"inscription-node font-mono text-[9px] whitespace-pre-wrap cursor-move select-none",style:{color:t},children:e.label})},L4=S.memo(O4),z4=[{id:"a",type:"place",position:{x:-200,y:0},data:{label:"start",colorSet:"INT",initialMarking:"[1, 5, 5, 10]"}},{id:"b",type:"transition",position:{x:-110,y:100},width:70,height:30,data:{label:"transition",guard:"var1>4",time:"",priority:"",codeSegment:""}},{id:"c",type:"place",position:{x:0,y:200},width:50,height:30,data:{label:"end place",colorSet:"INT"}}],$4={place:I4,transition:M4,auxText:D4,inscription:L4};function kb(e,t){var C,_;const{width:n=0,height:r=0}=e.measured||{},o=e.internals.positionAbsolute,i=t.internals.positionAbsolute,l=n/2,c=r/2,d=o.x+l,f=o.y+c,m=i.x+(((C=t.measured)==null?void 0:C.width)??0)/2,p=i.y+(((_=t.measured)==null?void 0:_.height)??0)/2;if(e.type==="place"){const R=m-d,P=p-f,I=Math.atan2(P,R),F=l,W=c,z=d+F*Math.cos(I),B=f+W*Math.sin(I);return{x:z,y:B}}const g=(m-d)/(2*l)-(p-f)/(2*c),x=(m-d)/(2*l)+(p-f)/(2*c),b=1/(Math.abs(g)+Math.abs(x)||1),v=b*g,w=b*x,k=l*(v+w)+d,E=c*(-v+w)+f;return{x:k,y:E}}function Cb(e,t){const{width:n=0,height:r=0}=e.measured||{},o=e.internals.positionAbsolute,i=n/2,l=r/2,c=o.x+i,d=o.y+l,f=t.x,m=t.y;if(e.type==="place"){const w=f-c,k=m-d,E=Math.atan2(k,w),C=i,_=l,R=c+C*Math.cos(E),P=d+_*Math.sin(E);return{x:R,y:P}}const p=f-c,g=m-d;if(p===0&&g===0)return{x:c,y:d};let x=1/0;if(p!==0){const w=i/Math.abs(p),k=i/Math.abs(p);x=Math.min(x,p>0?w:k)}if(g!==0){const w=l/Math.abs(g),k=l/Math.abs(g);x=Math.min(x,g>0?w:k)}const b=c+x*p,v=d+x*g;return{x:b,y:v}}function Nb(e,t){var c,d,f,m;const n={...e.internals.positionAbsolute,...e},r=Math.round(n.x),o=Math.round(n.y),i=Math.round(t.x),l=Math.round(t.y);if(e.type==="place"){const p=i-(r+(((c=n.measured)==null?void 0:c.width)??0)/2),g=l-(o+(((d=n.measured)==null?void 0:d.height)??0)/2),x=Math.atan2(g,p);return Math.abs(x)<Math.PI/4?Te.Right:Math.abs(x)>3*Math.PI/4?Te.Left:x>0?Te.Bottom:Te.Top}return i<=r+1?Te.Left:i>=r+(((f=n.measured)==null?void 0:f.width)??0)-1?Te.Right:l<=o+1?Te.Top:l>=n.y+((((m=n.measured)==null?void 0:m.height)??0)-1)?Te.Bottom:Te.Top}function F4(e,t){const n=kb(e,t),r=kb(t,e),o=Nb(e,n),i=Nb(t,r);return{sx:n.x,sy:n.y,tx:r.x,ty:r.y,sourcePos:o,targetPos:i}}function B4(e,t,n){const r=n.x-t.x,o=n.y-t.y,i=r*r+o*o;if(i===0)return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2);let l=((e.x-t.x)*r+(e.y-t.y)*o)/i;l=Math.max(0,Math.min(1,l));const c=t.x+l*r,d=t.y+l*o;return Math.sqrt((e.x-c)**2+(e.y-d)**2)}function Eb(e,t,n,r,o){if(!o||o.length===0)return{path:`M ${e},${t} L ${n},${r}`,labelX:(e+n)/2,labelY:(t+r)/2};let i=`M ${e},${t}`;for(const x of o)i+=` L ${x.x},${x.y}`;i+=` L ${n},${r}`;const l=[{x:e,y:t},...o,{x:n,y:r}],c=[];let d=0;for(let x=1;x<l.length;x++){const b=l[x].x-l[x-1].x,v=l[x].y-l[x-1].y,w=Math.sqrt(b*b+v*v);c.push(w),d+=w}const f=d/2;let m=0,p=(e+n)/2,g=(t+r)/2;for(let x=0;x<c.length;x++){const b=c[x];if(m+b>=f){const v=f-m,w=b>0?v/b:0;p=l[x].x+w*(l[x+1].x-l[x].x),g=l[x].y+w*(l[x+1].y-l[x].y);break}m+=b}return{path:i,labelX:p,labelY:g}}function V4({id:e,source:t,target:n,style:r,label:o,data:i}){const l=wb(t),c=wb(n),{getZoom:d}=oi(),[f,m]=S.useState(null),[p,g]=S.useState(null),x=S.useRef(null),b=S.useRef(null),v=me(ke=>ke.activePetriNetId),w=me(ke=>ke.updateEdgeData),k=me(ke=>ke.setSelectedElement),E=me(ke=>{const We=ke.activePetriNetId,lt=We?ke.petriNetsById[We]:null;return(lt==null?void 0:lt.edges)??[]}),{parallelArcIndex:C,totalParallelArcs:_}=S.useMemo(()=>{const ke=E.filter(vt=>vt.source===t&&vt.target===n||vt.source===n&&vt.target===t),We=ke.length;let lt=ke.findIndex(vt=>vt.id===e);return lt===-1&&(lt=0),{parallelArcIndex:lt,totalParallelArcs:We}},[E,e,t,n]),R=me(ke=>{var ue;const We=ke.activePetriNetId,lt=We?ke.petriNetsById[We]:null;if(!lt)return"#000";const vt=lt.nodes.find(pe=>pe.id===t),Et=lt.nodes.find(pe=>pe.id===n),Tt=(vt==null?void 0:vt.type)==="place"?vt:(Et==null?void 0:Et.type)==="place"?Et:null;if(Tt&&((ue=Tt.data)!=null&&ue.colorSet)){const pe=ke.colorSets.find(Pe=>Pe.name===Tt.data.colorSet);if(pe!=null&&pe.color)return pe.color}if(typeof o=="string"){const pe=ke.variables.find(Pe=>Pe.name===o.trim());if(pe){const Pe=ke.colorSets.find(je=>je.name===pe.colorSet);if(Pe!=null&&Pe.color)return Pe.color}}return"#000"}),P=S.useCallback(ke=>{v&&w(v,e,{...i,labelOffset:ke})},[v,e,i,w]),I=S.useCallback((ke,We)=>{ke.stopPropagation(),ke.preventDefault(),g(We),x.current={startX:ke.clientX,startY:ke.clientY,lastClientX:ke.clientX,lastClientY:ke.clientY,originalBendpoints:[...(i==null?void 0:i.bendpoints)??[]],hasDragged:!1,index:We};const lt=()=>{var _t,pt,Pt,he,Ne,re;const je=((_t=x.current)==null?void 0:_t.originalBendpoints)??[],Xe=l?{x:l.internals.positionAbsolute.x+(((pt=l.measured)==null?void 0:pt.width)??0)/2,y:l.internals.positionAbsolute.y+(((Pt=l.measured)==null?void 0:Pt.height)??0)/2}:null,ut=c?{x:c.internals.positionAbsolute.x+(((he=c.measured)==null?void 0:he.width)??0)/2,y:c.internals.positionAbsolute.y+(((Ne=c.measured)==null?void 0:Ne.height)??0)/2}:null,bt=((re=x.current)==null?void 0:re.index)??0,Ct=bt===0?Xe:je[bt-1],It=bt===je.length-1?ut:je[bt+1];return{prevPoint:Ct,nextPoint:It}},vt=(je,Xe)=>{const{prevPoint:ut,nextPoint:bt}=lt();if(!ut&&!bt)return{x:je,y:Xe};let Ct=je,It=Xe;if(ut){const _t=Math.abs(je-ut.x),pt=Math.abs(Xe-ut.y);_t<20&&(Ct=ut.x),pt<20&&(It=ut.y)}if(bt){const _t=Math.abs(je-bt.x),pt=Math.abs(Xe-bt.y);_t<20&&(Ct=bt.x),pt<20&&(It=bt.y)}return{x:Ct,y:It}},Et=(je,Xe,ut)=>{if(!x.current||!v)return;const bt=d(),Ct=(je-x.current.startX)/bt,It=(Xe-x.current.startY)/bt;(Math.abs(Ct)>3||Math.abs(It)>3)&&(x.current.hasDragged=!0);const _t=x.current.index,pt=x.current.originalBendpoints[_t];let Pt=pt.x+Ct,he=pt.y+It;if(ut){const re=vt(Pt,he);Pt=re.x,he=re.y}const Ne=x.current.originalBendpoints.map((re,Ce)=>Ce===_t?{x:Pt,y:he}:re);w(v,e,{bendpoints:Ne})},Tt=je=>{x.current&&(x.current.lastClientX=je.clientX,x.current.lastClientY=je.clientY,Et(je.clientX,je.clientY,je.shiftKey))},ue=je=>{je.key==="Shift"&&x.current&&Et(x.current.lastClientX,x.current.lastClientY,!0)},pe=je=>{je.key==="Shift"&&x.current&&Et(x.current.lastClientX,x.current.lastClientY,!1)},Pe=()=>{var Xe;const je=((Xe=x.current)==null?void 0:Xe.hasDragged)??!1;if(g(null),!je&&v&&(i!=null&&i.bendpoints)){const ut=i.bendpoints.filter((bt,Ct)=>Ct!==We);w(v,e,{bendpoints:ut.length>0?ut:void 0})}x.current=null,document.removeEventListener("mousemove",Tt),document.removeEventListener("mouseup",Pe),document.removeEventListener("keydown",ue),document.removeEventListener("keyup",pe)};document.addEventListener("mousemove",Tt),document.addEventListener("mouseup",Pe),document.addEventListener("keydown",ue),document.addEventListener("keyup",pe)},[v,e,i==null?void 0:i.bendpoints,l,c,w,d]),F=S.useCallback(ke=>{var _t,pt,Pt,he,Ne,re,Ce,Be;if(ke.button!==0||(ke.stopPropagation(),ke.preventDefault(),!v))return;const We=ke.target.closest("svg");if(!We)return;const lt=We.createSVGPoint();lt.x=ke.clientX,lt.y=ke.clientY;const vt=We.getScreenCTM();let Et;if(vt){const Ee=lt.matrixTransform(vt.inverse());Et={x:Ee.x,y:Ee.y}}else{const Ee=We.getBoundingClientRect(),Ze=d(),Fe=We.viewBox.baseVal;if(Fe&&Fe.width>0){const Oe=Fe.width/Ee.width,Ge=Fe.height/Ee.height;Et={x:Fe.x+(ke.clientX-Ee.left)*Oe,y:Fe.y+(ke.clientY-Ee.top)*Ge}}else Et={x:(ke.clientX-Ee.left)/Ze,y:(ke.clientY-Ee.top)/Ze}}const Tt={x:Et.x,y:Et.y},ue=(i==null?void 0:i.bendpoints)??[];let pe=0;if(ue.length>0){const Ee=l?{x:l.internals.positionAbsolute.x+(((_t=l.measured)==null?void 0:_t.width)??0)/2,y:l.internals.positionAbsolute.y+(((pt=l.measured)==null?void 0:pt.height)??0)/2}:{x:0,y:0},Ze=c?{x:c.internals.positionAbsolute.x+(((Pt=c.measured)==null?void 0:Pt.width)??0)/2,y:c.internals.positionAbsolute.y+(((he=c.measured)==null?void 0:he.height)??0)/2}:{x:0,y:0},Fe=[Ee,...ue,Ze];let Oe=1/0;for(let Ge=0;Ge<Fe.length-1;Ge++){const dt=Fe[Ge],Rt=Fe[Ge+1],jt=B4(Tt,dt,Rt);jt<Oe&&(Oe=jt,pe=Ge)}}b.current={startX:ke.clientX,startY:ke.clientY,insertIndex:pe,newBendpoint:Tt,hasDragged:!1};const Pe=l?{x:l.internals.positionAbsolute.x+(((Ne=l.measured)==null?void 0:Ne.width)??0)/2,y:l.internals.positionAbsolute.y+(((re=l.measured)==null?void 0:re.height)??0)/2}:{x:0,y:0},je=c?{x:c.internals.positionAbsolute.x+(((Ce=c.measured)==null?void 0:Ce.width)??0)/2,y:c.internals.positionAbsolute.y+(((Be=c.measured)==null?void 0:Be.height)??0)/2}:{x:0,y:0},Xe=(Ee,Ze,Fe,Oe)=>{const Ge=Oe===0?Pe:Fe[Oe-1],dt=Oe===Fe.length-1?je:Fe[Oe+1];let Rt=Ee,jt=Ze;return Ge&&(Math.abs(Ee-Ge.x)<20&&(Rt=Ge.x),Math.abs(Ze-Ge.y)<20&&(jt=Ge.y)),dt&&(Math.abs(Ee-dt.x)<20&&(Rt=dt.x),Math.abs(Ze-dt.y)<20&&(jt=dt.y)),{x:Rt,y:jt}},ut=Ee=>{if(!b.current||!v)return;const Ze=d(),Fe=(Ee.clientX-b.current.startX)/Ze,Oe=(Ee.clientY-b.current.startY)/Ze;if(!b.current.hasDragged&&(Math.abs(Fe)>3||Math.abs(Oe)>3)){b.current.hasDragged=!0;const Ge=[...ue.slice(0,pe),b.current.newBendpoint,...ue.slice(pe)];w(v,e,{bendpoints:Ge}),g(pe),x.current={startX:b.current.startX,startY:b.current.startY,lastClientX:Ee.clientX,lastClientY:Ee.clientY,originalBendpoints:Ge,hasDragged:!0,index:pe}}if(x.current){x.current.lastClientX=Ee.clientX,x.current.lastClientY=Ee.clientY;const Ge=x.current.index,dt=x.current.originalBendpoints[Ge];let Rt=dt.x+Fe,jt=dt.y+Oe;if(Ee.shiftKey){const Mt=Xe(Rt,jt,x.current.originalBendpoints,Ge);Rt=Mt.x,jt=Mt.y}const zt=x.current.originalBendpoints.map((Mt,lr)=>lr===Ge?{x:Rt,y:jt}:Mt);w(v,e,{bendpoints:zt})}},bt=Ee=>{if(Ee.key==="Shift"&&x.current&&v){const Ze=d(),Fe=(x.current.lastClientX-x.current.startX)/Ze,Oe=(x.current.lastClientY-x.current.startY)/Ze,Ge=x.current.index,dt=x.current.originalBendpoints[Ge],Rt=Xe(dt.x+Fe,dt.y+Oe,x.current.originalBendpoints,Ge),jt=x.current.originalBendpoints.map((zt,Mt)=>Mt===Ge?Rt:zt);w(v,e,{bendpoints:jt})}},Ct=Ee=>{if(Ee.key==="Shift"&&x.current&&v){const Ze=d(),Fe=(x.current.lastClientX-x.current.startX)/Ze,Oe=(x.current.lastClientY-x.current.startY)/Ze,Ge=x.current.index,dt=x.current.originalBendpoints[Ge],Rt=x.current.originalBendpoints.map((jt,zt)=>zt===Ge?{x:dt.x+Fe,y:dt.y+Oe}:jt);w(v,e,{bendpoints:Rt})}},It=()=>{if(b.current&&!b.current.hasDragged){const Ee=E.find(Ze=>Ze.id===e);Ee&&v&&k(v,{type:"edge",element:Ee})}g(null),b.current=null,x.current=null,document.removeEventListener("mousemove",ut),document.removeEventListener("mouseup",It),document.removeEventListener("keydown",bt),document.removeEventListener("keyup",Ct)};document.addEventListener("mousemove",ut),document.addEventListener("mouseup",It),document.addEventListener("keydown",bt),document.addEventListener("keyup",Ct)},[v,e,i==null?void 0:i.bendpoints,l,c,E,w,k,d]);if(!l||!c)return null;const W=i==null?void 0:i.bendpoints,z=(i==null?void 0:i.labelOffset)??{x:0,y:0},B=(i==null?void 0:i.isBidirectional)??!1,X=12;let G=0;if(_>1){const ke=(_-1)/2;G=(C-ke)*X}const A=F4(l,c),O=t<n?t:n,$=t===O,q=A.tx-A.sx,D=A.ty-A.sy,U=Math.sqrt(q*q+D*D);let M=U>0?-D/U:0,H=U>0?q/U:1;$||(M=-M,H=-H);let Y,T,V,Z,J,K,te;if(W&&W.length>0){const ke=G!==0?W.map(ue=>({x:ue.x+M*G,y:ue.y+H*G})):W,We=ke[0],lt=ke[ke.length-1],vt=Cb(l,We);Y=vt.x,T=vt.y;const Et=Cb(c,lt);V=Et.x,Z=Et.y;const Tt=Eb(Y,T,V,Z,ke);J=Tt.path,K=Tt.labelX,te=Tt.labelY}else{Y=A.sx+M*G,T=A.sy+H*G,V=A.tx+M*G,Z=A.ty+H*G;const ke=Eb(Y,T,V,Z,void 0);J=ke.path,K=ke.labelX,te=ke.labelY}const Q=V-Y,ie=Z-T,le=Math.sqrt(Q*Q+ie*ie),de=12;let fe=le>0?-ie/le:0,ge=le>0?Q/le:-1;ge>0&&(fe=-fe,ge=-ge);const De=K+fe*de,Me=te+ge*de,tt=typeof o=="string"&&(o.trim()==="1`()"||o.trim()==="()")?null:o,et=W&&G!==0?W.map(ke=>({x:ke.x+M*G,y:ke.y+H*G})):W;return u.jsxs(u.Fragment,{children:[H4(e,J,R,B,r,F),et&&et.length>0&&u.jsx("g",{className:"bendpoint-handles",children:et.map((ke,We)=>u.jsxs("g",{children:[u.jsx("circle",{cx:ke.x,cy:ke.y,r:12,fill:"transparent",style:{cursor:"grab",pointerEvents:"all"},onMouseEnter:()=>m(We),onMouseLeave:()=>{p!==We&&m(null)},onMouseDown:lt=>I(lt,We)}),(f===We||p===We)&&u.jsx("circle",{cx:ke.x,cy:ke.y,r:5,fill:R,stroke:"white",strokeWidth:1.5,style:{pointerEvents:"none",cursor:p===We?"grabbing":"grab"}})]},We))}),tt&&u.jsx(U4,{id:e,label:tt,baseLabelX:De,baseLabelY:Me,labelOffset:z,onLabelDragEnd:P})]})}function H4(e,t,n,r,o,i){return u.jsxs("g",{children:[u.jsxs("defs",{children:[u.jsx("marker",{id:`arrow-end-${e}`,markerWidth:"10",markerHeight:"10",refX:"10",refY:"5",orient:"auto",markerUnits:"userSpaceOnUse",children:u.jsx("polygon",{points:"0,0 10,5 0,10",fill:n})}),u.jsx("marker",{id:`arrow-start-${e}`,markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",orient:"auto",markerUnits:"userSpaceOnUse",children:u.jsx("polygon",{points:"10,0 0,5 10,10",fill:n})})]}),i&&u.jsx("path",{d:t,fill:"none",stroke:"transparent",strokeWidth:16,style:{cursor:"pointer",pointerEvents:"stroke"},onMouseDown:i}),u.jsx("path",{id:e,d:t,fill:"none",className:"stroke-[currentColor]",style:{stroke:n,...o},markerEnd:`url(#arrow-end-${e})`,markerStart:r?`url(#arrow-start-${e})`:void 0})]})}function U4({id:e,label:t,baseLabelX:n,baseLabelY:r,labelOffset:o,onLabelDragEnd:i}){const[l,c]=S.useState(!1),[d,f]=S.useState(o),m=S.useRef(null),p=S.useRef(d);p.current=d;const{getZoom:g}=oi(),x=me(_=>_.activePetriNetId),b=me(_=>_.setSelectedElement),v=me(_=>{const R=_.activePetriNetId?_.petriNetsById[_.activePetriNetId]:null;return(R==null?void 0:R.edges)||[]}),w=S.useCallback(_=>{_.stopPropagation(),c(!0),m.current={x:_.clientX,y:_.clientY,offsetX:p.current.x,offsetY:p.current.y};const R=I=>{if(!m.current)return;const F=g(),W=(I.clientX-m.current.x)/F,z=(I.clientY-m.current.y)/F,B={x:m.current.offsetX+W,y:m.current.offsetY+z};f(B),p.current=B},P=()=>{c(!1),m.current&&i(p.current),m.current=null,document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",P)};document.addEventListener("mousemove",R),document.addEventListener("mouseup",P)},[i,g]),k=S.useCallback(_=>{_.stopPropagation();const R=v.find(P=>P.id===e);R&&x&&b(x,{type:"edge",element:R})},[e,v,x,b]);Ye.useEffect(()=>{f(o)},[o]);const E=n+d.x,C=r+d.y;return u.jsx(Z3,{children:u.jsx("div",{style:{transform:`translate(-50%, -100%) translate(${E}px,${C}px)`,cursor:l?"grabbing":"grab",pointerEvents:"auto"},className:`nodrag nopan edge-label-renderer__custom-edge text-[10px] font-mono whitespace-pre-wrap ${l?"":"hover:bg-accent/50"} px-1 rounded`,onMouseDown:w,onClick:k,children:t})})}const W4=[{id:"a->b",source:"a",target:"b",label:"var1"},{id:"b->c",source:"b",target:"c",label:"var1"}],Y4={floating:V4},X4=[{id:rt(),name:"UNIT",type:"basic",definition:"colset UNIT = unit;",color:"#3b82f6"},{id:rt(),name:"BOOL",type:"basic",definition:"colset BOOL = bool;",color:"#10b981"},{id:rt(),name:"INT",type:"basic",definition:"colset INT = int;",color:"#3b82f6"},{id:rt(),name:"INTINF",type:"basic",definition:"colset INTINF = intinf;",color:"#3b82f6"},{id:rt(),name:"TIME",type:"basic",definition:"colset TIME = time;",color:"#8b5cf6"},{id:rt(),name:"REAL",type:"basic",definition:"colset REAL = real;",color:"#ef4444"},{id:rt(),name:"STRING",type:"basic",definition:"colset STRING = string;",color:"#f59e0b"}],q4=[{id:rt(),name:"var1",colorSet:"INT"}],G4=[{id:rt(),name:"P_HIGH",level:100},{id:rt(),name:"P_NORMAL",level:1e3},{id:rt(),name:"P_LOW",level:1e4}],K4=[],Q4={petriNetsById:{},petriNetOrder:[],activePetriNetId:null,colorSets:[],variables:[],priorities:[],functions:[],uses:[],simulationEpoch:null,showMarkingDisplay:!0},fd="ID6",J4={id:fd,name:"Petri Net",nodes:z4,edges:W4,selectedElement:null};let Aa=0,Ta,tg,ng;const jb=e=>{const t={};for(const[n,r]of Object.entries(e))t[n]={id:r.id,name:r.name,nodes:r.nodes.map(o=>({id:o.id,type:o.type,position:o.position,data:o.data})),edges:r.edges.map(o=>({id:o.id,source:o.source,target:o.target,label:o.label,data:o.data}))};return t},me=pR()(hR(e=>({petriNetsById:{[fd]:J4},petriNetOrder:[fd],activePetriNetId:fd,colorSets:X4,variables:q4,priorities:G4,functions:K4,uses:[],simulationEpoch:null,showMarkingDisplay:!0,setNodes:(t,n)=>{e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],nodes:n}}}))},setEdges:(t,n)=>{e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],edges:n}}}))},createPetriNet:t=>{const n=rt(),r={id:n,name:t,nodes:[],edges:[],selectedElement:null};e(o=>({petriNetsById:{...o.petriNetsById,[n]:r},petriNetOrder:[...o.petriNetOrder,n],activePetriNetId:n}))},addPetriNet:t=>{e(n=>({petriNetsById:{...n.petriNetsById,[t.id]:{...t,selectedElement:null}},petriNetOrder:[...n.petriNetOrder,t.id],activePetriNetId:t.id}))},setActivePetriNet:t=>{e(n=>({activePetriNetId:t,petriNetsById:{...n.petriNetsById,[t]:{...n.petriNetsById[t],selectedElement:null}}}))},renamePetriNet:(t,n)=>{e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],name:n}}}))},addNode:(t,n)=>{e(r=>{const o=r.petriNetsById[t],i=[...o.nodes,{...n,id:n.id??rt()}];return{petriNetsById:{...r.petriNetsById,[t]:{...o,nodes:i}}}})},addEdge:(t,n)=>{e(r=>{const o=r.petriNetsById[t],i=[...o.edges,{...n,id:n.id??rt()}];return{petriNetsById:{...r.petriNetsById,[t]:{...o,edges:i}}}})},updateNode:(t,n)=>{e(r=>{const o=r.petriNetsById[t],i=o.nodes.map(l=>l.id===n.id?{...n}:l);return{petriNetsById:{...r.petriNetsById,[t]:{...o,nodes:i}}}})},updateNodeMarking:(t,n)=>{e(r=>{const o=r.petriNetsById[r.activePetriNetId],i=o.nodes.map(l=>l.id===t?{...l,data:{...l.data,marking:n}}:l);return{petriNetsById:{...r.petriNetsById,[r.activePetriNetId]:{...o,nodes:i}}}})},updateNodeData:(t,n,r)=>{e(o=>{var f;const i=o.petriNetsById[t],l={initialMarking:"initialMarking",colorSet:"colorSet",guard:"guard",time:"time",priority:"priority",codeSegment:"codeSegment"};let c=i.nodes.map(m=>m.id===n?{...m,data:{...m.data,...r}}:m);c=c.map(m=>{var p,g;if(m.type==="inscription"&&m.parentId===n){const x=(p=m.data)==null?void 0:p.inscriptionType,b=(g=Object.entries(l).find(([,v])=>v===x))==null?void 0:g[0];if(b&&b in r){const v=r[b];return{...m,data:{...m.data,label:v||""}}}}return m});const d=((f=i.selectedElement)==null?void 0:f.type)==="node"&&i.selectedElement.element.id===n?{...i.selectedElement,element:{...i.selectedElement.element,data:{...r}}}:i.selectedElement;return{petriNetsById:{...o.petriNetsById,[t]:{...i,nodes:c,selectedElement:d}}}})},updateEdgeData:(t,n,r)=>{e(o=>{var d;const i=o.petriNetsById[t],l=i.edges.map(f=>f.id===n?{...f,data:{...f.data,...r}}:f),c=((d=i.selectedElement)==null?void 0:d.type)==="edge"&&i.selectedElement.element.id===n?{...i.selectedElement,element:{...i.selectedElement.element,data:{...i.selectedElement.element.data,...r}}}:i.selectedElement;return{petriNetsById:{...o.petriNetsById,[t]:{...i,edges:l,selectedElement:c}}}})},updateEdgeLabel:(t,n,r)=>{e(o=>{var d;const i=o.petriNetsById[t],l=i.edges.map(f=>f.id===n?{...f,label:r}:f),c=((d=i.selectedElement)==null?void 0:d.type)==="edge"&&i.selectedElement.element.id===n?{...i.selectedElement,element:{...i.selectedElement.element,label:r}}:i.selectedElement;return{petriNetsById:{...o.petriNetsById,[t]:{...i,edges:l,selectedElement:c}}}})},swapEdgeDirection:(t,n)=>{e(r=>{var d;const o=r.petriNetsById[t],i=o.edges.map(f=>f.id===n?{...f,source:f.target,target:f.source}:f),l=o.edges.find(f=>f.id===n),c=((d=o.selectedElement)==null?void 0:d.type)==="edge"&&o.selectedElement.element.id===n&&l?{...o.selectedElement,element:{...o.selectedElement.element,source:l.target,target:l.source}}:o.selectedElement;return{petriNetsById:{...r.petriNetsById,[t]:{...o,edges:i,selectedElement:c}}}})},applyInitialMarkings:()=>{e(t=>{const n=t.petriNetsById[t.activePetriNetId],r=n.nodes.map(o=>{if(o.type==="place"){let i=[];if(o.data.initialMarking)try{if(typeof o.data.initialMarking=="string"&&o.data.initialMarking.trim()!==""){let l=[];if(o.data.initialMarking.match(/^\s*\[\s*((?:\(\)\s*,?\s*)*)\s*\]\s*$/)){const d=(o.data.initialMarking.match(/\(\)/g)||[]).length;l=Array(d).fill(null)}else if(o.data.initialMarking.endsWith(".all()")){const d=o.data.initialMarking.substring(0,o.data.initialMarking.length-6).trim(),f=t.colorSets.find(m=>m.name===d);if(f&&f.definition.includes("int")){const m=f.definition.match(/with\s+(\d+)\.\.(\d+);/);if(m){const p=parseInt(m[1],10),g=parseInt(m[2],10);!isNaN(p)&&!isNaN(g)?l=Array.from({length:g-p+1},(x,b)=>p+b):console.warn(`Invalid range values in color set definition: "${f.definition}"`)}else console.warn(`No valid range found in color set definition: "${f.definition}"`)}else console.warn(`Cannot apply '.all()' to color set "${d}". It's either not found, not a 'basic' type, or doesn't contain 'int' in its definition.`),l=[]}else{const d=JSON.parse(o.data.initialMarking);Array.isArray(d)?l=d:l=[d]}i=l}}catch(l){console.error(`Error parsing initial marking for node ${o.id}:`,o.data.initialMarking,l),i=[]}return{...o,data:{...o.data,marking:i}}}return o});return{petriNetsById:{...t.petriNetsById,[t.activePetriNetId]:{...n,nodes:r}}}})},setSelectedElement:(t,n)=>e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],selectedElement:n}}})),setColorSets:t=>{e({colorSets:t})},setVariables:t=>{e({variables:t})},setPriorities:t=>{e({priorities:t})},setFunctions:t=>{e({functions:t})},setUses:t=>{e({uses:t})},addColorSet:t=>e(n=>({colorSets:[...n.colorSets,{...t,id:t.id??rt()}]})),addVariable:t=>e(n=>({variables:[...n.variables,{...t,id:t.id??rt()}]})),addPriority:t=>e(n=>({priorities:[...n.priorities,{...t,id:t.id??rt()}]})),addFunction:t=>e(n=>({functions:[...n.functions,{...t,id:t.id??rt()}]})),renameColorSet:(t,n)=>e(r=>{const o=r.colorSets.find(f=>f.id===t);if(!o)return r;const i=o.name;if(i===n)return r;const l=r.colorSets.map(f=>f.id===t?{...f,name:n}:f),c=r.variables.map(f=>f.colorSet===i?{...f,colorSet:n}:f),d={};for(const[f,m]of Object.entries(r.petriNetsById)){const p=m.nodes.map(g=>{var x;return g.type==="place"&&((x=g.data)==null?void 0:x.colorSet)===i?{...g,data:{...g.data,colorSet:n}}:g});d[f]={...m,nodes:p}}return{colorSets:l,variables:c,petriNetsById:d}}),deleteColorSet:t=>e(n=>({colorSets:n.colorSets.filter(r=>r.id!==t)})),deleteVariable:t=>e(n=>({variables:n.variables.filter(r=>r.id!==t)})),deletePriority:t=>e(n=>({priorities:n.priorities.filter(r=>r.id!==t)})),deleteFunction:t=>e(n=>({functions:n.functions.filter(r=>r.id!==t)})),addUse:t=>e(n=>({uses:[...n.uses,{...t,id:t.id??rt()}]})),updateUse:(t,n)=>e(r=>({uses:r.uses.map(o=>o.id===t?{name:n.name,content:n.content}:o)})),deleteUse:t=>e(n=>({uses:n.uses.filter(r=>r.id!==t)})),toggleArcMode:t=>e(n=>({petriNetsById:Object.fromEntries(Object.entries(n.petriNetsById).map(([r,o])=>[r,{...o,nodes:o.nodes.map(i=>({...i,data:{...i.data,isArcMode:t}}))}]))})),setSimulationEpoch:t=>e(()=>({simulationEpoch:t})),setShowMarkingDisplay:t=>e(()=>({showMarkingDisplay:t})),reset:()=>{e(Q4)}}),{handleSet:e=>(ng=e,(t,n)=>{if(Aa>0){Ta||(Ta=t,tg=n);return}e(t,n)}),partialize:e=>({petriNetsById:e.petriNetsById,petriNetOrder:e.petriNetOrder,activePetriNetId:e.activePetriNetId,colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses}),equality:(e,t)=>JSON.stringify({petriNetsById:jb(e.petriNetsById),petriNetOrder:e.petriNetOrder,activePetriNetId:e.activePetriNetId,colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses})===JSON.stringify({petriNetsById:jb(t.petriNetsById),petriNetOrder:t.petriNetOrder,activePetriNetId:t.activePetriNetId,colorSets:t.colorSets,variables:t.variables,priorities:t.priorities,functions:t.functions,uses:t.uses}),limit:100})),Qa=()=>{Aa++},Ja=()=>{Aa<=0||(Aa--,Aa===0&&Ta!==void 0&&ng&&(ng(Ta,tg),Ta=void 0,tg=void 0))};function _b(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cx(...e){return t=>{let n=!1;const r=e.map(o=>{const i=_b(o,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():_b(e[o],null)}}}}function it(...e){return S.useCallback(cx(...e),e)}var Z4=Symbol.for("react.lazy"),Id=Gd[" use ".trim().toString()];function e$(e){return typeof e=="object"&&e!==null&&"then"in e}function qC(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Z4&&"_payload"in e&&e$(e._payload)}function GC(e){const t=t$(e),n=S.forwardRef((r,o)=>{let{children:i,...l}=r;qC(i)&&typeof Id=="function"&&(i=Id(i._payload));const c=S.Children.toArray(i),d=c.find(r$);if(d){const f=d.props.children,m=c.map(p=>p===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:S.isValidElement(f)?S.cloneElement(f,void 0,m):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}var KC=GC("Slot");function t$(e){const t=S.forwardRef((n,r)=>{let{children:o,...i}=n;if(qC(o)&&typeof Id=="function"&&(o=Id(o._payload)),S.isValidElement(o)){const l=i$(o),c=o$(i,o.props);return o.type!==S.Fragment&&(c.ref=r?cx(r,l):l),S.cloneElement(o,c)}return S.Children.count(o)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var n$=Symbol("radix.slottable");function r$(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===n$}function o$(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function i$(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var s$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ux=s$.reduce((e,t)=>{const n=GC(`Primitive.${t}`),r=S.forwardRef((o,i)=>{const{asChild:l,...c}=o,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),l$="Separator",Pb="horizontal",a$=["horizontal","vertical"],QC=S.forwardRef((e,t)=>{const{decorative:n,orientation:r=Pb,...o}=e,i=c$(r)?r:Pb,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return u.jsx(ux.div,{"data-orientation":i,...c,...o,ref:t})});QC.displayName=l$;function c$(e){return a$.includes(e)}var u$=QC;function mc({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return u.jsx(u$,{"data-slot":"separator-root",decorative:n,orientation:t,className:qe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function Re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function d$(e,t){const n=S.createContext(t),r=i=>{const{children:l,...c}=i,d=S.useMemo(()=>c,Object.values(c));return u.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function o(i){const l=S.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,o]}function Pn(e,t=[]){let n=[];function r(i,l){const c=S.createContext(l),d=n.length;n=[...n,l];const f=p=>{var k;const{scope:g,children:x,...b}=p,v=((k=g==null?void 0:g[e])==null?void 0:k[d])||c,w=S.useMemo(()=>b,Object.values(b));return u.jsx(v.Provider,{value:w,children:x})};f.displayName=i+"Provider";function m(p,g){var v;const x=((v=g==null?void 0:g[e])==null?void 0:v[d])||c,b=S.useContext(x);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,m]}const o=()=>{const i=n.map(l=>S.createContext(l));return function(c){const d=(c==null?void 0:c[e])||i;return S.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return o.scopeName=e,[r,f$(o,...t)]}function f$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const p=d(i)[`__scope${f}`];return{...c,...p}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function nl(e){const t=p$(e),n=S.forwardRef((r,o)=>{const{children:i,...l}=r,c=S.Children.toArray(i),d=c.find(m$);if(d){const f=d.props.children,m=c.map(p=>p===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:S.isValidElement(f)?S.cloneElement(f,void 0,m):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function p$(e){const t=S.forwardRef((n,r)=>{const{children:o,...i}=n;if(S.isValidElement(o)){const l=x$(o),c=g$(i,o.props);return o.type!==S.Fragment&&(c.ref=r?cx(r,l):l),S.cloneElement(o,c)}return S.Children.count(o)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var JC=Symbol("radix.slottable");function h$(e){const t=({children:n})=>u.jsx(u.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=JC,t}function m$(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===JC}function g$(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function x$(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ff(e){const t=e+"CollectionProvider",[n,r]=Pn(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:w,children:k}=v,E=Ye.useRef(null),C=Ye.useRef(new Map).current;return u.jsx(o,{scope:w,itemMap:C,collectionRef:E,children:k})};l.displayName=t;const c=e+"CollectionSlot",d=nl(c),f=Ye.forwardRef((v,w)=>{const{scope:k,children:E}=v,C=i(c,k),_=it(w,C.collectionRef);return u.jsx(d,{ref:_,children:E})});f.displayName=c;const m=e+"CollectionItemSlot",p="data-radix-collection-item",g=nl(m),x=Ye.forwardRef((v,w)=>{const{scope:k,children:E,...C}=v,_=Ye.useRef(null),R=it(w,_),P=i(m,k);return Ye.useEffect(()=>(P.itemMap.set(_,{ref:_,...C}),()=>void P.itemMap.delete(_))),u.jsx(g,{[p]:"",ref:R,children:E})});x.displayName=m;function b(v){const w=i(e+"CollectionConsumer",v);return Ye.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const C=Array.from(E.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((P,I)=>C.indexOf(P.ref.current)-C.indexOf(I.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:f,ItemSlot:x},b,r]}var yn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},y$=Gd[" useId ".trim().toString()]||(()=>{}),v$=0;function gr(e){const[t,n]=S.useState(y$());return yn(()=>{n(r=>r??String(v$++))},[e]),e||(t?`radix-${t}`:"")}var w$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ue=w$.reduce((e,t)=>{const n=nl(`Primitive.${t}`),r=S.forwardRef((o,i)=>{const{asChild:l,...c}=o,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function b$(e,t){e&&ul.flushSync(()=>e.dispatchEvent(t))}function Mn(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var S$=Gd[" useInsertionEffect ".trim().toString()]||yn;function _n({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,i,l]=k$({defaultProp:t,onChange:n}),c=e!==void 0,d=c?e:o;{const m=S.useRef(e!==void 0);S.useEffect(()=>{const p=m.current;p!==c&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const f=S.useCallback(m=>{var p;if(c){const g=C$(m)?m(e):m;g!==e&&((p=l.current)==null||p.call(l,g))}else i(m)},[c,e,i,l]);return[d,f]}function k$({defaultProp:e,onChange:t}){const[n,r]=S.useState(e),o=S.useRef(n),i=S.useRef(t);return S$(()=>{i.current=t},[t]),S.useEffect(()=>{var l;o.current!==n&&((l=i.current)==null||l.call(i,n),o.current=n)},[n,o]),[n,r,i]}function C$(e){return typeof e=="function"}var N$=S.createContext(void 0);function ii(e){const t=S.useContext(N$);return e||t||"ltr"}var am="rovingFocusGroup.onEntryFocus",E$={bubbles:!1,cancelable:!0},gc="RovingFocusGroup",[rg,ZC,j$]=ff(gc),[_$,dl]=Pn(gc,[j$]),[P$,A$]=_$(gc),eN=S.forwardRef((e,t)=>u.jsx(rg.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(rg.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(T$,{...e,ref:t})})}));eN.displayName=gc;var T$=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...p}=e,g=S.useRef(null),x=it(t,g),b=ii(i),[v,w]=_n({prop:l,defaultProp:c??null,onChange:d,caller:gc}),[k,E]=S.useState(!1),C=Mn(f),_=ZC(n),R=S.useRef(!1),[P,I]=S.useState(0);return S.useEffect(()=>{const F=g.current;if(F)return F.addEventListener(am,C),()=>F.removeEventListener(am,C)},[C]),u.jsx(P$,{scope:n,orientation:r,dir:b,loop:o,currentTabStopId:v,onItemFocus:S.useCallback(F=>w(F),[w]),onItemShiftTab:S.useCallback(()=>E(!0),[]),onFocusableItemAdd:S.useCallback(()=>I(F=>F+1),[]),onFocusableItemRemove:S.useCallback(()=>I(F=>F-1),[]),children:u.jsx(Ue.div,{tabIndex:k||P===0?-1:0,"data-orientation":r,...p,ref:x,style:{outline:"none",...e.style},onMouseDown:Re(e.onMouseDown,()=>{R.current=!0}),onFocus:Re(e.onFocus,F=>{const W=!R.current;if(F.target===F.currentTarget&&W&&!k){const z=new CustomEvent(am,E$);if(F.currentTarget.dispatchEvent(z),!z.defaultPrevented){const B=_().filter($=>$.focusable),X=B.find($=>$.active),G=B.find($=>$.id===v),O=[X,G,...B].filter(Boolean).map($=>$.ref.current);rN(O,m)}}R.current=!1}),onBlur:Re(e.onBlur,()=>E(!1))})})}),tN="RovingFocusGroupItem",nN=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,children:l,...c}=e,d=gr(),f=i||d,m=A$(tN,n),p=m.currentTabStopId===f,g=ZC(n),{onFocusableItemAdd:x,onFocusableItemRemove:b,currentTabStopId:v}=m;return S.useEffect(()=>{if(r)return x(),()=>b()},[r,x,b]),u.jsx(rg.ItemSlot,{scope:n,id:f,focusable:r,active:o,children:u.jsx(Ue.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:Re(e.onMouseDown,w=>{r?m.onItemFocus(f):w.preventDefault()}),onFocus:Re(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:Re(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){m.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const k=M$(w,m.orientation,m.dir);if(k!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let C=g().filter(_=>_.focusable).map(_=>_.ref.current);if(k==="last")C.reverse();else if(k==="prev"||k==="next"){k==="prev"&&C.reverse();const _=C.indexOf(w.currentTarget);C=m.loop?D$(C,_+1):C.slice(_+1)}setTimeout(()=>rN(C))}}),children:typeof l=="function"?l({isCurrentTabStop:p,hasTabStop:v!=null}):l})})});nN.displayName=tN;var I$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function M$(e,t,n){const r=R$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return I$[r]}function rN(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function D$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var dx=eN,fx=nN;function O$(e,t){return S.useReducer((n,r)=>t[n][r]??n,e)}var An=e=>{const{present:t,children:n}=e,r=L$(t),o=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),i=it(r.ref,z$(o));return typeof n=="function"||r.isPresent?S.cloneElement(o,{ref:i}):null};An.displayName="Presence";function L$(e){const[t,n]=S.useState(),r=S.useRef(null),o=S.useRef(e),i=S.useRef("none"),l=e?"mounted":"unmounted",[c,d]=O$(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const f=qu(r.current);i.current=c==="mounted"?f:"none"},[c]),yn(()=>{const f=r.current,m=o.current;if(m!==e){const g=i.current,x=qu(f);e?d("MOUNT"):x==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(m&&g!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),yn(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,p=x=>{const v=qu(r.current).includes(CSS.escape(x.animationName));if(x.target===t&&v&&(d("ANIMATION_END"),!o.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},g=x=>{x.target===t&&(i.current=qu(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:S.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function qu(e){return(e==null?void 0:e.animationName)||"none"}function z$(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pf="Tabs",[$$]=Pn(pf,[dl]),oN=dl(),[F$,px]=$$(pf),iN=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:d="automatic",...f}=e,m=ii(c),[p,g]=_n({prop:r,onChange:o,defaultProp:i??"",caller:pf});return u.jsx(F$,{scope:n,baseId:gr(),value:p,onValueChange:g,orientation:l,dir:m,activationMode:d,children:u.jsx(Ue.div,{dir:m,"data-orientation":l,...f,ref:t})})});iN.displayName=pf;var sN="TabsList",lN=S.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,i=px(sN,n),l=oN(n);return u.jsx(dx,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(Ue.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:t})})});lN.displayName=sN;var aN="TabsTrigger",cN=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...i}=e,l=px(aN,n),c=oN(n),d=dN(l.baseId,r),f=fN(l.baseId,r),m=r===l.value;return u.jsx(fx,{asChild:!0,...c,focusable:!o,active:m,children:u.jsx(Ue.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...i,ref:t,onMouseDown:Re(e.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?l.onValueChange(r):p.preventDefault()}),onKeyDown:Re(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(r)}),onFocus:Re(e.onFocus,()=>{const p=l.activationMode!=="manual";!m&&!o&&p&&l.onValueChange(r)})})})});cN.displayName=aN;var uN="TabsContent",Rd=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:i,...l}=e,c=px(uN,n),d=dN(c.baseId,r),f=fN(c.baseId,r),m=r===c.value,p=S.useRef(m);return S.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),u.jsx(An,{present:o||m,children:({present:g})=>u.jsx(Ue.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:g&&i})})});Rd.displayName=uN;function dN(e,t){return`${e}-trigger-${t}`}function fN(e,t){return`${e}-content-${t}`}var B$=iN,V$=lN,H$=cN,U$=Rd;function si({className:e,...t}){return u.jsx(B$,{"data-slot":"tabs",className:qe("flex flex-col gap-2",e),...t})}function li({className:e,...t}){return u.jsx(V$,{"data-slot":"tabs-list",className:qe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Ln({className:e,...t}){return u.jsx(H$,{"data-slot":"tabs-trigger",className:qe("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function xr({className:e,...t}){return u.jsx(U$,{"data-slot":"tabs-content",className:qe("flex-1 outline-none",e),...t})}var W$="Label",pN=S.forwardRef((e,t)=>u.jsx(ux.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));pN.displayName=W$;var Y$=pN;function Ae({className:e,...t}){return u.jsx(Y$,{"data-slot":"label",className:qe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function ct({className:e,type:t,...n}){return u.jsx("input",{type:t,"data-slot":"input",className:qe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}const xc=S.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:qe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));xc.displayName="Textarea";const jr=S.forwardRef(({onFocus:e,onBlur:t,...n},r)=>u.jsx(ct,{ref:r,onFocus:o=>{Qa(),e==null||e(o)},onBlur:o=>{Ja(),t==null||t(o)},...n}));jr.displayName="UndoableInput";const Jo=S.forwardRef(({onFocus:e,onBlur:t,...n},r)=>u.jsx(xc,{ref:r,onFocus:o=>{Qa(),e==null||e(o)},onBlur:o=>{Ja(),t==null||t(o)},...n}));Jo.displayName="UndoableTextarea";function Za(e,[t,n]){return Math.min(n,Math.max(t,e))}function X$(e,t=globalThis==null?void 0:globalThis.document){const n=Mn(e);S.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var q$="DismissableLayer",og="dismissableLayer.update",G$="dismissableLayer.pointerDownOutside",K$="dismissableLayer.focusOutside",Ab,hN=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yc=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...d}=e,f=S.useContext(hN),[m,p]=S.useState(null),g=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=S.useState({}),b=it(t,I=>p(I)),v=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),k=v.indexOf(w),E=m?v.indexOf(m):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,_=E>=k,R=Z$(I=>{const F=I.target,W=[...f.branches].some(z=>z.contains(F));!_||W||(o==null||o(I),l==null||l(I),I.defaultPrevented||c==null||c())},g),P=e5(I=>{const F=I.target;[...f.branches].some(z=>z.contains(F))||(i==null||i(I),l==null||l(I),I.defaultPrevented||c==null||c())},g);return X$(I=>{E===f.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&c&&(I.preventDefault(),c()))},g),S.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Ab=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),Tb(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Ab)}},[m,g,n,f]),S.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),Tb())},[m,f]),S.useEffect(()=>{const I=()=>x({});return document.addEventListener(og,I),()=>document.removeEventListener(og,I)},[]),u.jsx(Ue.div,{...d,ref:b,style:{pointerEvents:C?_?"auto":"none":void 0,...e.style},onFocusCapture:Re(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Re(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Re(e.onPointerDownCapture,R.onPointerDownCapture)})});yc.displayName=q$;var Q$="DismissableLayerBranch",J$=S.forwardRef((e,t)=>{const n=S.useContext(hN),r=S.useRef(null),o=it(t,r);return S.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(Ue.div,{...e,ref:o})});J$.displayName=Q$;function Z$(e,t=globalThis==null?void 0:globalThis.document){const n=Mn(e),r=S.useRef(!1),o=S.useRef(()=>{});return S.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let d=function(){mN(G$,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function e5(e,t=globalThis==null?void 0:globalThis.document){const n=Mn(e),r=S.useRef(!1);return S.useEffect(()=>{const o=i=>{i.target&&!r.current&&mN(K$,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Tb(){const e=new CustomEvent(og);document.dispatchEvent(e)}function mN(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?b$(o,i):o.dispatchEvent(i)}var cm=0;function hx(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ib()),document.body.insertAdjacentElement("beforeend",e[1]??Ib()),cm++,()=>{cm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cm--}},[])}function Ib(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var um="focusScope.autoFocusOnMount",dm="focusScope.autoFocusOnUnmount",Rb={bubbles:!1,cancelable:!0},t5="FocusScope",hf=S.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...l}=e,[c,d]=S.useState(null),f=Mn(o),m=Mn(i),p=S.useRef(null),g=it(t,v=>d(v)),x=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let v=function(C){if(x.paused||!c)return;const _=C.target;c.contains(_)?p.current=_:qo(p.current,{select:!0})},w=function(C){if(x.paused||!c)return;const _=C.relatedTarget;_!==null&&(c.contains(_)||qo(p.current,{select:!0}))},k=function(C){if(document.activeElement===document.body)for(const R of C)R.removedNodes.length>0&&qo(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const E=new MutationObserver(k);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),E.disconnect()}}},[r,c,x.paused]),S.useEffect(()=>{if(c){Db.add(x);const v=document.activeElement;if(!c.contains(v)){const k=new CustomEvent(um,Rb);c.addEventListener(um,f),c.dispatchEvent(k),k.defaultPrevented||(n5(l5(gN(c)),{select:!0}),document.activeElement===v&&qo(c))}return()=>{c.removeEventListener(um,f),setTimeout(()=>{const k=new CustomEvent(dm,Rb);c.addEventListener(dm,m),c.dispatchEvent(k),k.defaultPrevented||qo(v??document.body,{select:!0}),c.removeEventListener(dm,m),Db.remove(x)},0)}}},[c,f,m,x]);const b=S.useCallback(v=>{if(!n&&!r||x.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,k=document.activeElement;if(w&&k){const E=v.currentTarget,[C,_]=r5(E);C&&_?!v.shiftKey&&k===_?(v.preventDefault(),n&&qo(C,{select:!0})):v.shiftKey&&k===C&&(v.preventDefault(),n&&qo(_,{select:!0})):k===E&&v.preventDefault()}},[n,r,x.paused]);return u.jsx(Ue.div,{tabIndex:-1,...l,ref:g,onKeyDown:b})});hf.displayName=t5;function n5(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(qo(r,{select:t}),document.activeElement!==n)return}function r5(e){const t=gN(e),n=Mb(t,e),r=Mb(t.reverse(),e);return[n,r]}function gN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Mb(e,t){for(const n of e)if(!o5(n,{upTo:t}))return n}function o5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function i5(e){return e instanceof HTMLInputElement&&"select"in e}function qo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&i5(e)&&t&&e.select()}}var Db=s5();function s5(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Ob(e,t),e.unshift(t)},remove(t){var n;e=Ob(e,t),(n=e[0])==null||n.resume()}}}function Ob(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function l5(e){return e.filter(t=>t.tagName!=="A")}const a5=["top","right","bottom","left"],ni=Math.min,tr=Math.max,Md=Math.round,Gu=Math.floor,Qr=e=>({x:e,y:e}),c5={left:"right",right:"left",bottom:"top",top:"bottom"},u5={start:"end",end:"start"};function ig(e,t,n){return tr(e,ni(t,n))}function bo(e,t){return typeof e=="function"?e(t):e}function So(e){return e.split("-")[0]}function fl(e){return e.split("-")[1]}function mx(e){return e==="x"?"y":"x"}function gx(e){return e==="y"?"height":"width"}const d5=new Set(["top","bottom"]);function Gr(e){return d5.has(So(e))?"y":"x"}function xx(e){return mx(Gr(e))}function f5(e,t,n){n===void 0&&(n=!1);const r=fl(e),o=xx(e),i=gx(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=Dd(l)),[l,Dd(l)]}function p5(e){const t=Dd(e);return[sg(e),t,sg(t)]}function sg(e){return e.replace(/start|end/g,t=>u5[t])}const Lb=["left","right"],zb=["right","left"],h5=["top","bottom"],m5=["bottom","top"];function g5(e,t,n){switch(e){case"top":case"bottom":return n?t?zb:Lb:t?Lb:zb;case"left":case"right":return t?h5:m5;default:return[]}}function x5(e,t,n,r){const o=fl(e);let i=g5(So(e),n==="start",r);return o&&(i=i.map(l=>l+"-"+o),t&&(i=i.concat(i.map(sg)))),i}function Dd(e){return e.replace(/left|right|bottom|top/g,t=>c5[t])}function y5(e){return{top:0,right:0,bottom:0,left:0,...e}}function xN(e){return typeof e!="number"?y5(e):{top:e,right:e,bottom:e,left:e}}function Od(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function $b(e,t,n){let{reference:r,floating:o}=e;const i=Gr(t),l=xx(t),c=gx(l),d=So(t),f=i==="y",m=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,g=r[c]/2-o[c]/2;let x;switch(d){case"top":x={x:m,y:r.y-o.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:p};break;case"left":x={x:r.x-o.width,y:p};break;default:x={x:r.x,y:r.y}}switch(fl(t)){case"start":x[l]-=g*(n&&f?-1:1);break;case"end":x[l]+=g*(n&&f?-1:1);break}return x}async function v5(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:l,elements:c,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:g=!1,padding:x=0}=bo(t,e),b=xN(x),w=c[g?p==="floating"?"reference":"floating":p],k=Od(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:m,strategy:d})),E=p==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),_=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},R=Od(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:C,strategy:d}):E);return{top:(k.top-R.top+b.top)/_.y,bottom:(R.bottom-k.bottom+b.bottom)/_.y,left:(k.left-R.left+b.left)/_.x,right:(R.right-k.right+b.right)/_.x}}const w5=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:l}=n,c=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:p}=$b(f,r,d),g=r,x={},b=0;for(let w=0;w<c.length;w++){var v;const{name:k,fn:E}=c[w],{x:C,y:_,data:R,reset:P}=await E({x:m,y:p,initialPlacement:r,placement:g,strategy:o,middlewareData:x,rects:f,platform:{...l,detectOverflow:(v=l.detectOverflow)!=null?v:v5},elements:{reference:e,floating:t}});m=C??m,p=_??p,x={...x,[k]:{...x[k],...R}},P&&b<=50&&(b++,typeof P=="object"&&(P.placement&&(g=P.placement),P.rects&&(f=P.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):P.rects),{x:m,y:p}=$b(f,g,d)),w=-1)}return{x:m,y:p,placement:g,strategy:o,middlewareData:x}},b5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:l,elements:c,middlewareData:d}=t,{element:f,padding:m=0}=bo(e,t)||{};if(f==null)return{};const p=xN(m),g={x:n,y:r},x=xx(o),b=gx(x),v=await l.getDimensions(f),w=x==="y",k=w?"top":"left",E=w?"bottom":"right",C=w?"clientHeight":"clientWidth",_=i.reference[b]+i.reference[x]-g[x]-i.floating[b],R=g[x]-i.reference[x],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let I=P?P[C]:0;(!I||!await(l.isElement==null?void 0:l.isElement(P)))&&(I=c.floating[C]||i.floating[b]);const F=_/2-R/2,W=I/2-v[b]/2-1,z=ni(p[k],W),B=ni(p[E],W),X=z,G=I-v[b]-B,A=I/2-v[b]/2+F,O=ig(X,A,G),$=!d.arrow&&fl(o)!=null&&A!==O&&i.reference[b]/2-(A<X?z:B)-v[b]/2<0,q=$?A<X?A-X:A-G:0;return{[x]:g[x]+q,data:{[x]:O,centerOffset:A-O-q,...$&&{alignmentOffset:q}},reset:$}}}),S5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:l,initialPlacement:c,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...w}=bo(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const k=So(o),E=Gr(c),C=So(c)===c,_=await(d.isRTL==null?void 0:d.isRTL(f.floating)),R=g||(C||!v?[Dd(c)]:p5(c)),P=b!=="none";!g&&P&&R.push(...x5(c,v,b,_));const I=[c,...R],F=await d.detectOverflow(t,w),W=[];let z=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&W.push(F[k]),p){const A=f5(o,l,_);W.push(F[A[0]],F[A[1]])}if(z=[...z,{placement:o,overflows:W}],!W.every(A=>A<=0)){var B,X;const A=(((B=i.flip)==null?void 0:B.index)||0)+1,O=I[A];if(O&&(!(p==="alignment"?E!==Gr(O):!1)||z.every(D=>Gr(D.placement)===E?D.overflows[0]>0:!0)))return{data:{index:A,overflows:z},reset:{placement:O}};let $=(X=z.filter(q=>q.overflows[0]<=0).sort((q,D)=>q.overflows[1]-D.overflows[1])[0])==null?void 0:X.placement;if(!$)switch(x){case"bestFit":{var G;const q=(G=z.filter(D=>{if(P){const U=Gr(D.placement);return U===E||U==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(U=>U>0).reduce((U,M)=>U+M,0)]).sort((D,U)=>D[1]-U[1])[0])==null?void 0:G[0];q&&($=q);break}case"initialPlacement":$=c;break}if(o!==$)return{reset:{placement:$}}}return{}}}};function Fb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Bb(e){return a5.some(t=>e[t]>=0)}const k5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:o="referenceHidden",...i}=bo(e,t);switch(o){case"referenceHidden":{const l=await r.detectOverflow(t,{...i,elementContext:"reference"}),c=Fb(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Bb(c)}}}case"escaped":{const l=await r.detectOverflow(t,{...i,altBoundary:!0}),c=Fb(l,n.floating);return{data:{escapedOffsets:c,escaped:Bb(c)}}}default:return{}}}}},yN=new Set(["left","top"]);async function C5(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=So(n),c=fl(n),d=Gr(n)==="y",f=yN.has(l)?-1:1,m=i&&d?-1:1,p=bo(t,e);let{mainAxis:g,crossAxis:x,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof b=="number"&&(x=c==="end"?b*-1:b),d?{x:x*m,y:g*f}:{x:g*f,y:x*m}}const N5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:l,middlewareData:c}=t,d=await C5(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+d.x,y:i+d.y,data:{...d,placement:l}}}}},E5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o,platform:i}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:k=>{let{x:E,y:C}=k;return{x:E,y:C}}},...f}=bo(e,t),m={x:n,y:r},p=await i.detectOverflow(t,f),g=Gr(So(o)),x=mx(g);let b=m[x],v=m[g];if(l){const k=x==="y"?"top":"left",E=x==="y"?"bottom":"right",C=b+p[k],_=b-p[E];b=ig(C,b,_)}if(c){const k=g==="y"?"top":"left",E=g==="y"?"bottom":"right",C=v+p[k],_=v-p[E];v=ig(C,v,_)}const w=d.fn({...t,[x]:b,[g]:v});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[x]:l,[g]:c}}}}}},j5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:l}=t,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=bo(e,t),m={x:n,y:r},p=Gr(o),g=mx(p);let x=m[g],b=m[p];const v=bo(c,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const C=g==="y"?"height":"width",_=i.reference[g]-i.floating[C]+w.mainAxis,R=i.reference[g]+i.reference[C]-w.mainAxis;x<_?x=_:x>R&&(x=R)}if(f){var k,E;const C=g==="y"?"width":"height",_=yN.has(So(o)),R=i.reference[p]-i.floating[C]+(_&&((k=l.offset)==null?void 0:k[p])||0)+(_?0:w.crossAxis),P=i.reference[p]+i.reference[C]+(_?0:((E=l.offset)==null?void 0:E[p])||0)-(_?w.crossAxis:0);b<R?b=R:b>P&&(b=P)}return{[g]:x,[p]:b}}}},_5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:l,elements:c}=t,{apply:d=()=>{},...f}=bo(e,t),m=await l.detectOverflow(t,f),p=So(o),g=fl(o),x=Gr(o)==="y",{width:b,height:v}=i.floating;let w,k;p==="top"||p==="bottom"?(w=p,k=g===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(k=p,w=g==="end"?"top":"bottom");const E=v-m.top-m.bottom,C=b-m.left-m.right,_=ni(v-m[w],E),R=ni(b-m[k],C),P=!t.middlewareData.shift;let I=_,F=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(F=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(I=E),P&&!g){const z=tr(m.left,0),B=tr(m.right,0),X=tr(m.top,0),G=tr(m.bottom,0);x?F=b-2*(z!==0||B!==0?z+B:tr(m.left,m.right)):I=v-2*(X!==0||G!==0?X+G:tr(m.top,m.bottom))}await d({...t,availableWidth:F,availableHeight:I});const W=await l.getDimensions(c.floating);return b!==W.width||v!==W.height?{reset:{rects:!0}}:{}}}};function mf(){return typeof window<"u"}function pl(e){return vN(e)?(e.nodeName||"").toLowerCase():"#document"}function or(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function to(e){var t;return(t=(vN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vN(e){return mf()?e instanceof Node||e instanceof or(e).Node:!1}function Rr(e){return mf()?e instanceof Element||e instanceof or(e).Element:!1}function Zr(e){return mf()?e instanceof HTMLElement||e instanceof or(e).HTMLElement:!1}function Vb(e){return!mf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof or(e).ShadowRoot}const P5=new Set(["inline","contents"]);function vc(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Mr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!P5.has(o)}const A5=new Set(["table","td","th"]);function T5(e){return A5.has(pl(e))}const I5=[":popover-open",":modal"];function gf(e){return I5.some(t=>{try{return e.matches(t)}catch{return!1}})}const R5=["transform","translate","scale","rotate","perspective"],M5=["transform","translate","scale","rotate","perspective","filter"],D5=["paint","layout","strict","content"];function yx(e){const t=vx(),n=Rr(e)?Mr(e):e;return R5.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||M5.some(r=>(n.willChange||"").includes(r))||D5.some(r=>(n.contain||"").includes(r))}function O5(e){let t=ri(e);for(;Zr(t)&&!rl(t);){if(yx(t))return t;if(gf(t))return null;t=ri(t)}return null}function vx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const L5=new Set(["html","body","#document"]);function rl(e){return L5.has(pl(e))}function Mr(e){return or(e).getComputedStyle(e)}function xf(e){return Rr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ri(e){if(pl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Vb(e)&&e.host||to(e);return Vb(t)?t.host:t}function wN(e){const t=ri(e);return rl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zr(t)&&vc(t)?t:wN(t)}function ec(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=wN(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),l=or(o);if(i){const c=lg(l);return t.concat(l,l.visualViewport||[],vc(o)?o:[],c&&n?ec(c):[])}return t.concat(o,ec(o,[],n))}function lg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function bN(e){const t=Mr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Zr(e),i=o?e.offsetWidth:n,l=o?e.offsetHeight:r,c=Md(n)!==i||Md(r)!==l;return c&&(n=i,r=l),{width:n,height:r,$:c}}function wx(e){return Rr(e)?e:e.contextElement}function Hs(e){const t=wx(e);if(!Zr(t))return Qr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=bN(t);let l=(i?Md(n.width):n.width)/r,c=(i?Md(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const z5=Qr(0);function SN(e){const t=or(e);return!vx()||!t.visualViewport?z5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==or(e)?!1:t}function Xi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=wx(e);let l=Qr(1);t&&(r?Rr(r)&&(l=Hs(r)):l=Hs(e));const c=$5(i,n,r)?SN(i):Qr(0);let d=(o.left+c.x)/l.x,f=(o.top+c.y)/l.y,m=o.width/l.x,p=o.height/l.y;if(i){const g=or(i),x=r&&Rr(r)?or(r):r;let b=g,v=lg(b);for(;v&&r&&x!==b;){const w=Hs(v),k=v.getBoundingClientRect(),E=Mr(v),C=k.left+(v.clientLeft+parseFloat(E.paddingLeft))*w.x,_=k.top+(v.clientTop+parseFloat(E.paddingTop))*w.y;d*=w.x,f*=w.y,m*=w.x,p*=w.y,d+=C,f+=_,b=or(v),v=lg(b)}}return Od({width:m,height:p,x:d,y:f})}function yf(e,t){const n=xf(e).scrollLeft;return t?t.left+n:Xi(to(e)).left+n}function kN(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-yf(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function F5(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",l=to(r),c=t?gf(t.floating):!1;if(r===l||c&&i)return n;let d={scrollLeft:0,scrollTop:0},f=Qr(1);const m=Qr(0),p=Zr(r);if((p||!p&&!i)&&((pl(r)!=="body"||vc(l))&&(d=xf(r)),Zr(r))){const x=Xi(r);f=Hs(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const g=l&&!p&&!i?kN(l,d):Qr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+m.x+g.x,y:n.y*f.y-d.scrollTop*f.y+m.y+g.y}}function B5(e){return Array.from(e.getClientRects())}function V5(e){const t=to(e),n=xf(e),r=e.ownerDocument.body,o=tr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=tr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+yf(e);const c=-n.scrollTop;return Mr(r).direction==="rtl"&&(l+=tr(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:l,y:c}}const Hb=25;function H5(e,t){const n=or(e),r=to(e),o=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,c=0,d=0;if(o){i=o.width,l=o.height;const m=vx();(!m||m&&t==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}const f=yf(r);if(f<=0){const m=r.ownerDocument,p=m.body,g=getComputedStyle(p),x=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(r.clientWidth-p.clientWidth-x);b<=Hb&&(i-=b)}else f<=Hb&&(i+=f);return{width:i,height:l,x:c,y:d}}const U5=new Set(["absolute","fixed"]);function W5(e,t){const n=Xi(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Zr(e)?Hs(e):Qr(1),l=e.clientWidth*i.x,c=e.clientHeight*i.y,d=o*i.x,f=r*i.y;return{width:l,height:c,x:d,y:f}}function Ub(e,t,n){let r;if(t==="viewport")r=H5(e,n);else if(t==="document")r=V5(to(e));else if(Rr(t))r=W5(t,n);else{const o=SN(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Od(r)}function CN(e,t){const n=ri(e);return n===t||!Rr(n)||rl(n)?!1:Mr(n).position==="fixed"||CN(n,t)}function Y5(e,t){const n=t.get(e);if(n)return n;let r=ec(e,[],!1).filter(c=>Rr(c)&&pl(c)!=="body"),o=null;const i=Mr(e).position==="fixed";let l=i?ri(e):e;for(;Rr(l)&&!rl(l);){const c=Mr(l),d=yx(l);!d&&c.position==="fixed"&&(o=null),(i?!d&&!o:!d&&c.position==="static"&&!!o&&U5.has(o.position)||vc(l)&&!d&&CN(e,l))?r=r.filter(m=>m!==l):o=c,l=ri(l)}return t.set(e,r),r}function X5(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const l=[...n==="clippingAncestors"?gf(t)?[]:Y5(t,this._c):[].concat(n),r],c=l[0],d=l.reduce((f,m)=>{const p=Ub(t,m,o);return f.top=tr(p.top,f.top),f.right=ni(p.right,f.right),f.bottom=ni(p.bottom,f.bottom),f.left=tr(p.left,f.left),f},Ub(t,c,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function q5(e){const{width:t,height:n}=bN(e);return{width:t,height:n}}function G5(e,t,n){const r=Zr(t),o=to(t),i=n==="fixed",l=Xi(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=Qr(0);function f(){d.x=yf(o)}if(r||!r&&!i)if((pl(t)!=="body"||vc(o))&&(c=xf(t)),r){const x=Xi(t,!0,i,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else o&&f();i&&!r&&o&&f();const m=o&&!r&&!i?kN(o,c):Qr(0),p=l.left+c.scrollLeft-d.x-m.x,g=l.top+c.scrollTop-d.y-m.y;return{x:p,y:g,width:l.width,height:l.height}}function fm(e){return Mr(e).position==="static"}function Wb(e,t){if(!Zr(e)||Mr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return to(e)===n&&(n=n.ownerDocument.body),n}function NN(e,t){const n=or(e);if(gf(e))return n;if(!Zr(e)){let o=ri(e);for(;o&&!rl(o);){if(Rr(o)&&!fm(o))return o;o=ri(o)}return n}let r=Wb(e,t);for(;r&&T5(r)&&fm(r);)r=Wb(r,t);return r&&rl(r)&&fm(r)&&!yx(r)?n:r||O5(e)||n}const K5=async function(e){const t=this.getOffsetParent||NN,n=this.getDimensions,r=await n(e.floating);return{reference:G5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Q5(e){return Mr(e).direction==="rtl"}const J5={convertOffsetParentRelativeRectToViewportRelativeRect:F5,getDocumentElement:to,getClippingRect:X5,getOffsetParent:NN,getElementRects:K5,getClientRects:B5,getDimensions:q5,getScale:Hs,isElement:Rr,isRTL:Q5};function EN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Z5(e,t){let n=null,r;const o=to(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:m,top:p,width:g,height:x}=f;if(c||t(),!g||!x)return;const b=Gu(p),v=Gu(o.clientWidth-(m+g)),w=Gu(o.clientHeight-(p+x)),k=Gu(m),C={rootMargin:-b+"px "+-v+"px "+-w+"px "+-k+"px",threshold:tr(0,ni(1,d))||1};let _=!0;function R(P){const I=P[0].intersectionRatio;if(I!==d){if(!_)return l();I?l(!1,I):r=setTimeout(()=>{l(!1,1e-7)},1e3)}I===1&&!EN(f,e.getBoundingClientRect())&&l(),_=!1}try{n=new IntersectionObserver(R,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(R,C)}n.observe(e)}return l(!0),i}function eF(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=wx(e),m=o||i?[...f?ec(f):[],...ec(t)]:[];m.forEach(k=>{o&&k.addEventListener("scroll",n,{passive:!0}),i&&k.addEventListener("resize",n)});const p=f&&c?Z5(f,n):null;let g=-1,x=null;l&&(x=new ResizeObserver(k=>{let[E]=k;E&&E.target===f&&x&&(x.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=x)==null||C.observe(t)})),n()}),f&&!d&&x.observe(f),x.observe(t));let b,v=d?Xi(e):null;d&&w();function w(){const k=Xi(e);v&&!EN(v,k)&&n(),v=k,b=requestAnimationFrame(w)}return n(),()=>{var k;m.forEach(E=>{o&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),p==null||p(),(k=x)==null||k.disconnect(),x=null,d&&cancelAnimationFrame(b)}}const tF=N5,nF=E5,rF=S5,oF=_5,iF=k5,Yb=b5,sF=j5,lF=(e,t,n)=>{const r=new Map,o={platform:J5,...n},i={...o.platform,_c:r};return w5(e,t,{...o,platform:i})};var aF=typeof document<"u",cF=function(){},pd=aF?S.useLayoutEffect:cF;function Ld(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ld(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Ld(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function jN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Xb(e,t){const n=jN(e);return Math.round(t*n)/n}function pm(e){const t=S.useRef(e);return pd(()=>{t.current=e}),t}function uF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:l}={},transform:c=!0,whileElementsMounted:d,open:f}=e,[m,p]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,x]=S.useState(r);Ld(g,r)||x(r);const[b,v]=S.useState(null),[w,k]=S.useState(null),E=S.useCallback(D=>{D!==P.current&&(P.current=D,v(D))},[]),C=S.useCallback(D=>{D!==I.current&&(I.current=D,k(D))},[]),_=i||b,R=l||w,P=S.useRef(null),I=S.useRef(null),F=S.useRef(m),W=d!=null,z=pm(d),B=pm(o),X=pm(f),G=S.useCallback(()=>{if(!P.current||!I.current)return;const D={placement:t,strategy:n,middleware:g};B.current&&(D.platform=B.current),lF(P.current,I.current,D).then(U=>{const M={...U,isPositioned:X.current!==!1};A.current&&!Ld(F.current,M)&&(F.current=M,ul.flushSync(()=>{p(M)}))})},[g,t,n,B,X]);pd(()=>{f===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,p(D=>({...D,isPositioned:!1})))},[f]);const A=S.useRef(!1);pd(()=>(A.current=!0,()=>{A.current=!1}),[]),pd(()=>{if(_&&(P.current=_),R&&(I.current=R),_&&R){if(z.current)return z.current(_,R,G);G()}},[_,R,G,z,W]);const O=S.useMemo(()=>({reference:P,floating:I,setReference:E,setFloating:C}),[E,C]),$=S.useMemo(()=>({reference:_,floating:R}),[_,R]),q=S.useMemo(()=>{const D={position:n,left:0,top:0};if(!$.floating)return D;const U=Xb($.floating,m.x),M=Xb($.floating,m.y);return c?{...D,transform:"translate("+U+"px, "+M+"px)",...jN($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:M}},[n,c,$.floating,m.x,m.y]);return S.useMemo(()=>({...m,update:G,refs:O,elements:$,floatingStyles:q}),[m,G,O,$,q])}const dF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Yb({element:r.current,padding:o}).fn(n):{}:r?Yb({element:r,padding:o}).fn(n):{}}}},fF=(e,t)=>({...tF(e),options:[e,t]}),pF=(e,t)=>({...nF(e),options:[e,t]}),hF=(e,t)=>({...sF(e),options:[e,t]}),mF=(e,t)=>({...rF(e),options:[e,t]}),gF=(e,t)=>({...oF(e),options:[e,t]}),xF=(e,t)=>({...iF(e),options:[e,t]}),yF=(e,t)=>({...dF(e),options:[e,t]});var vF="Arrow",_N=S.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return u.jsx(Ue.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});_N.displayName=vF;var wF=_N;function vf(e){const[t,n]=S.useState(void 0);return yn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let l,c;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,c=f.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var bx="Popper",[PN,hl]=Pn(bx),[bF,AN]=PN(bx),TN=e=>{const{__scopePopper:t,children:n}=e,[r,o]=S.useState(null);return u.jsx(bF,{scope:t,anchor:r,onAnchorChange:o,children:n})};TN.displayName=bx;var IN="PopperAnchor",RN=S.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=AN(IN,n),l=S.useRef(null),c=it(t,l),d=S.useRef(null);return S.useEffect(()=>{const f=d.current;d.current=(r==null?void 0:r.current)||l.current,f!==d.current&&i.onAnchorChange(d.current)}),r?null:u.jsx(Ue.div,{...o,ref:c})});RN.displayName=IN;var Sx="PopperContent",[SF,kF]=PN(Sx),MN=S.forwardRef((e,t)=>{var K,te,Q,ie,le,de;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:b,...v}=e,w=AN(Sx,n),[k,E]=S.useState(null),C=it(t,fe=>E(fe)),[_,R]=S.useState(null),P=vf(_),I=(P==null?void 0:P.width)??0,F=(P==null?void 0:P.height)??0,W=r+(i!=="center"?"-"+i:""),z=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},B=Array.isArray(f)?f:[f],X=B.length>0,G={padding:z,boundary:B.filter(NF),altBoundary:X},{refs:A,floatingStyles:O,placement:$,isPositioned:q,middlewareData:D}=uF({strategy:"fixed",placement:W,whileElementsMounted:(...fe)=>eF(...fe,{animationFrame:x==="always"}),elements:{reference:w.anchor},middleware:[fF({mainAxis:o+F,alignmentAxis:l}),d&&pF({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?hF():void 0,...G}),d&&mF({...G}),gF({...G,apply:({elements:fe,rects:ge,availableWidth:De,availableHeight:Me})=>{const{width:ot,height:tt}=ge.reference,et=fe.floating.style;et.setProperty("--radix-popper-available-width",`${De}px`),et.setProperty("--radix-popper-available-height",`${Me}px`),et.setProperty("--radix-popper-anchor-width",`${ot}px`),et.setProperty("--radix-popper-anchor-height",`${tt}px`)}}),_&&yF({element:_,padding:c}),EF({arrowWidth:I,arrowHeight:F}),g&&xF({strategy:"referenceHidden",...G})]}),[U,M]=LN($),H=Mn(b);yn(()=>{q&&(H==null||H())},[q,H]);const Y=(K=D.arrow)==null?void 0:K.x,T=(te=D.arrow)==null?void 0:te.y,V=((Q=D.arrow)==null?void 0:Q.centerOffset)!==0,[Z,J]=S.useState();return yn(()=>{k&&J(window.getComputedStyle(k).zIndex)},[k]),u.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:q?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(ie=D.transformOrigin)==null?void 0:ie.x,(le=D.transformOrigin)==null?void 0:le.y].join(" "),...((de=D.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(SF,{scope:n,placedSide:U,onArrowChange:R,arrowX:Y,arrowY:T,shouldHideArrow:V,children:u.jsx(Ue.div,{"data-side":U,"data-align":M,...v,ref:C,style:{...v.style,animation:q?void 0:"none"}})})})});MN.displayName=Sx;var DN="PopperArrow",CF={top:"bottom",right:"left",bottom:"top",left:"right"},ON=S.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=kF(DN,r),l=CF[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(wF,{...o,ref:n,style:{...o.style,display:"block"}})})});ON.displayName=DN;function NF(e){return e!==null}var EF=e=>({name:"transformOrigin",options:e,fn(t){var w,k,E;const{placement:n,rects:r,middlewareData:o}=t,l=((w=o.arrow)==null?void 0:w.centerOffset)!==0,c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,m]=LN(n),p={start:"0%",center:"50%",end:"100%"}[m],g=(((k=o.arrow)==null?void 0:k.x)??0)+c/2,x=(((E=o.arrow)==null?void 0:E.y)??0)+d/2;let b="",v="";return f==="bottom"?(b=l?p:`${g}px`,v=`${-d}px`):f==="top"?(b=l?p:`${g}px`,v=`${r.floating.height+d}px`):f==="right"?(b=`${-d}px`,v=l?p:`${x}px`):f==="left"&&(b=`${r.floating.width+d}px`,v=l?p:`${x}px`),{data:{x:b,y:v}}}});function LN(e){const[t,n="center"]=e.split("-");return[t,n]}var kx=TN,wf=RN,Cx=MN,Nx=ON,jF="Portal",wc=S.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[o,i]=S.useState(!1);yn(()=>i(!0),[]);const l=n||o&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?fz.createPortal(u.jsx(Ue.div,{...r,ref:t}),l):null});wc.displayName=jF;function bf(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var zN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_F="VisuallyHidden",$N=S.forwardRef((e,t)=>u.jsx(Ue.span,{...e,ref:t,style:{...zN,...e.style}}));$N.displayName=_F;var PF=$N,AF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ps=new WeakMap,Ku=new WeakMap,Qu={},hm=0,FN=function(e){return e&&(e.host||FN(e.parentNode))},TF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=FN(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},IF=function(e,t,n,r){var o=TF(t,Array.isArray(e)?e:[e]);Qu[n]||(Qu[n]=new WeakMap);var i=Qu[n],l=[],c=new Set,d=new Set(o),f=function(p){!p||c.has(p)||(c.add(p),f(p.parentNode))};o.forEach(f);var m=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(g){if(c.has(g))m(g);else try{var x=g.getAttribute(r),b=x!==null&&x!=="false",v=(Ps.get(g)||0)+1,w=(i.get(g)||0)+1;Ps.set(g,v),i.set(g,w),l.push(g),v===1&&b&&Ku.set(g,!0),w===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",g,k)}})};return m(t),c.clear(),hm++,function(){l.forEach(function(p){var g=Ps.get(p)-1,x=i.get(p)-1;Ps.set(p,g),i.set(p,x),g||(Ku.has(p)||p.removeAttribute(r),Ku.delete(p)),x||p.removeAttribute(n)}),hm--,hm||(Ps=new WeakMap,Ps=new WeakMap,Ku=new WeakMap,Qu={})}},Ex=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=AF(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),IF(r,o,n,"aria-hidden")):function(){return null}},qr=function(){return qr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},qr.apply(this,arguments)};function BN(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function RF(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var hd="right-scroll-bar-position",md="width-before-scroll-bar",MF="with-scroll-bars-hidden",DF="--removed-body-scroll-bar-size";function mm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function OF(e,t){var n=S.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var LF=typeof window<"u"?S.useLayoutEffect:S.useEffect,qb=new WeakMap;function zF(e,t){var n=OF(null,function(r){return e.forEach(function(o){return mm(o,r)})});return LF(function(){var r=qb.get(n);if(r){var o=new Set(r),i=new Set(e),l=n.current;o.forEach(function(c){i.has(c)||mm(c,null)}),i.forEach(function(c){o.has(c)||mm(c,l)})}qb.set(n,e)},[e]),n}function $F(e){return e}function FF(e,t){t===void 0&&(t=$F);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=t(i,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(i),l=n}var d=function(){var m=l;l=[],m.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(m){l.push(m),f()},filter:function(m){return l=l.filter(m),n}}}};return o}function BF(e){e===void 0&&(e={});var t=FF(null);return t.options=qr({async:!0,ssr:!1},e),t}var VN=function(e){var t=e.sideCar,n=BN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,qr({},n))};VN.isSideCarExport=!0;function VF(e,t){return e.useMedium(t),VN}var HN=BF(),gm=function(){},Sf=S.forwardRef(function(e,t){var n=S.useRef(null),r=S.useState({onScrollCapture:gm,onWheelCapture:gm,onTouchMoveCapture:gm}),o=r[0],i=r[1],l=e.forwardProps,c=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,p=e.shards,g=e.sideCar,x=e.noRelative,b=e.noIsolation,v=e.inert,w=e.allowPinchZoom,k=e.as,E=k===void 0?"div":k,C=e.gapMode,_=BN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,P=zF([n,t]),I=qr(qr({},_),o);return S.createElement(S.Fragment,null,m&&S.createElement(R,{sideCar:HN,removeScrollBar:f,shards:p,noRelative:x,noIsolation:b,inert:v,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:C}),l?S.cloneElement(S.Children.only(c),qr(qr({},I),{ref:P})):S.createElement(E,qr({},I,{className:d,ref:P}),c))});Sf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sf.classNames={fullWidth:md,zeroRight:hd};var HF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function UF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=HF();return t&&e.setAttribute("nonce",t),e}function WF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function YF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var XF=function(){var e=0,t=null;return{add:function(n){e==0&&(t=UF())&&(WF(t,n),YF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qF=function(){var e=XF();return function(t,n){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},UN=function(){var e=qF(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},GF={left:0,top:0,right:0,gap:0},xm=function(e){return parseInt(e||"",10)||0},KF=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[xm(n),xm(r),xm(o)]},QF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return GF;var t=KF(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},JF=UN(),Us="data-scroll-locked",ZF=function(e,t,n,r){var o=e.left,i=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(MF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Us,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hd,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(md,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(hd," .").concat(hd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(md," .").concat(md,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Us,`] {
    `).concat(DF,": ").concat(c,`px;
  }
`)},Gb=function(){var e=parseInt(document.body.getAttribute(Us)||"0",10);return isFinite(e)?e:0},eB=function(){S.useEffect(function(){return document.body.setAttribute(Us,(Gb()+1).toString()),function(){var e=Gb()-1;e<=0?document.body.removeAttribute(Us):document.body.setAttribute(Us,e.toString())}},[])},tB=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;eB();var i=S.useMemo(function(){return QF(o)},[o]);return S.createElement(JF,{styles:ZF(i,!t,o,n?"":"!important")})},ag=!1;if(typeof window<"u")try{var Ju=Object.defineProperty({},"passive",{get:function(){return ag=!0,!0}});window.addEventListener("test",Ju,Ju),window.removeEventListener("test",Ju,Ju)}catch{ag=!1}var As=ag?{passive:!1}:!1,nB=function(e){return e.tagName==="TEXTAREA"},WN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!nB(e)&&n[t]==="visible")},rB=function(e){return WN(e,"overflowY")},oB=function(e){return WN(e,"overflowX")},Kb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=YN(e,r);if(o){var i=XN(e,r),l=i[1],c=i[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},iB=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},sB=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},YN=function(e,t){return e==="v"?rB(t):oB(t)},XN=function(e,t){return e==="v"?iB(t):sB(t)},lB=function(e,t){return e==="h"&&t==="rtl"?-1:1},aB=function(e,t,n,r,o){var i=lB(e,window.getComputedStyle(t).direction),l=i*r,c=n.target,d=t.contains(c),f=!1,m=l>0,p=0,g=0;do{if(!c)break;var x=XN(e,c),b=x[0],v=x[1],w=x[2],k=v-w-i*b;(b||k)&&YN(e,c)&&(p+=k,g+=b);var E=c.parentNode;c=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(m&&Math.abs(p)<1||!m&&Math.abs(g)<1)&&(f=!0),f},Zu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qb=function(e){return[e.deltaX,e.deltaY]},Jb=function(e){return e&&"current"in e?e.current:e},cB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},uB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dB=0,Ts=[];function fB(e){var t=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),o=S.useState(dB++)[0],i=S.useState(UN)[0],l=S.useRef(e);S.useEffect(function(){l.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var v=RF([e.lockRef.current],(e.shards||[]).map(Jb),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=S.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var k=Zu(v),E=n.current,C="deltaX"in v?v.deltaX:E[0]-k[0],_="deltaY"in v?v.deltaY:E[1]-k[1],R,P=v.target,I=Math.abs(C)>Math.abs(_)?"h":"v";if("touches"in v&&I==="h"&&P.type==="range")return!1;var F=window.getSelection(),W=F&&F.anchorNode,z=W?W===P||W.contains(P):!1;if(z)return!1;var B=Kb(I,P);if(!B)return!0;if(B?R=I:(R=I==="v"?"h":"v",B=Kb(I,P)),!B)return!1;if(!r.current&&"changedTouches"in v&&(C||_)&&(r.current=R),!R)return!0;var X=r.current||R;return aB(X,w,v,X==="h"?C:_)},[]),d=S.useCallback(function(v){var w=v;if(!(!Ts.length||Ts[Ts.length-1]!==i)){var k="deltaY"in w?Qb(w):Zu(w),E=t.current.filter(function(R){return R.name===w.type&&(R.target===w.target||w.target===R.shadowParent)&&cB(R.delta,k)})[0];if(E&&E.should){w.cancelable&&w.preventDefault();return}if(!E){var C=(l.current.shards||[]).map(Jb).filter(Boolean).filter(function(R){return R.contains(w.target)}),_=C.length>0?c(w,C[0]):!l.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),f=S.useCallback(function(v,w,k,E){var C={name:v,delta:w,target:k,should:E,shadowParent:pB(k)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(_){return _!==C})},1)},[]),m=S.useCallback(function(v){n.current=Zu(v),r.current=void 0},[]),p=S.useCallback(function(v){f(v.type,Qb(v),v.target,c(v,e.lockRef.current))},[]),g=S.useCallback(function(v){f(v.type,Zu(v),v.target,c(v,e.lockRef.current))},[]);S.useEffect(function(){return Ts.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",d,As),document.addEventListener("touchmove",d,As),document.addEventListener("touchstart",m,As),function(){Ts=Ts.filter(function(v){return v!==i}),document.removeEventListener("wheel",d,As),document.removeEventListener("touchmove",d,As),document.removeEventListener("touchstart",m,As)}},[]);var x=e.removeScrollBar,b=e.inert;return S.createElement(S.Fragment,null,b?S.createElement(i,{styles:uB(o)}):null,x?S.createElement(tB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function pB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const hB=VF(HN,fB);var kf=S.forwardRef(function(e,t){return S.createElement(Sf,qr({},e,{ref:t,sideCar:hB}))});kf.classNames=Sf.classNames;var mB=[" ","Enter","ArrowUp","ArrowDown"],gB=[" ","Enter"],qi="Select",[Cf,Nf,xB]=ff(qi),[ml]=Pn(qi,[xB,hl]),Ef=hl(),[yB,ai]=ml(qi),[vB,wB]=ml(qi),qN=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:l,defaultValue:c,onValueChange:d,dir:f,name:m,autoComplete:p,disabled:g,required:x,form:b}=e,v=Ef(t),[w,k]=S.useState(null),[E,C]=S.useState(null),[_,R]=S.useState(!1),P=ii(f),[I,F]=_n({prop:r,defaultProp:o??!1,onChange:i,caller:qi}),[W,z]=_n({prop:l,defaultProp:c,onChange:d,caller:qi}),B=S.useRef(null),X=w?b||!!w.closest("form"):!0,[G,A]=S.useState(new Set),O=Array.from(G).map($=>$.props.value).join(";");return u.jsx(kx,{...v,children:u.jsxs(yB,{required:x,scope:t,trigger:w,onTriggerChange:k,valueNode:E,onValueNodeChange:C,valueNodeHasChildren:_,onValueNodeHasChildrenChange:R,contentId:gr(),value:W,onValueChange:z,open:I,onOpenChange:F,dir:P,triggerPointerDownPosRef:B,disabled:g,children:[u.jsx(Cf.Provider,{scope:t,children:u.jsx(vB,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback($=>{A(q=>new Set(q).add($))},[]),onNativeOptionRemove:S.useCallback($=>{A(q=>{const D=new Set(q);return D.delete($),D})},[]),children:n})}),X?u.jsxs(gE,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:p,value:W,onChange:$=>z($.target.value),disabled:g,form:b,children:[W===void 0?u.jsx("option",{value:""}):null,Array.from(G)]},O):null]})})};qN.displayName=qi;var GN="SelectTrigger",KN=S.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=Ef(n),l=ai(GN,n),c=l.disabled||r,d=it(t,l.onTriggerChange),f=Nf(n),m=S.useRef("touch"),[p,g,x]=yE(v=>{const w=f().filter(C=>!C.disabled),k=w.find(C=>C.value===l.value),E=vE(w,v,k);E!==void 0&&l.onValueChange(E.value)}),b=v=>{c||(l.onOpenChange(!0),x()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return u.jsx(wf,{asChild:!0,...i,children:u.jsx(Ue.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":xE(l.value)?"":void 0,...o,ref:d,onClick:Re(o.onClick,v=>{v.currentTarget.focus(),m.current!=="mouse"&&b(v)}),onPointerDown:Re(o.onPointerDown,v=>{m.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(b(v),v.preventDefault())}),onKeyDown:Re(o.onKeyDown,v=>{const w=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(w&&v.key===" ")&&mB.includes(v.key)&&(b(),v.preventDefault())})})})});KN.displayName=GN;var QN="SelectValue",JN=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:l="",...c}=e,d=ai(QN,n),{onValueNodeHasChildrenChange:f}=d,m=i!==void 0,p=it(t,d.onValueNodeChange);return yn(()=>{f(m)},[f,m]),u.jsx(Ue.span,{...c,ref:p,style:{pointerEvents:"none"},children:xE(d.value)?u.jsx(u.Fragment,{children:l}):i})});JN.displayName=QN;var bB="SelectIcon",ZN=S.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return u.jsx(Ue.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});ZN.displayName=bB;var SB="SelectPortal",eE=e=>u.jsx(wc,{asChild:!0,...e});eE.displayName=SB;var Gi="SelectContent",tE=S.forwardRef((e,t)=>{const n=ai(Gi,e.__scopeSelect),[r,o]=S.useState();if(yn(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?ul.createPortal(u.jsx(nE,{scope:e.__scopeSelect,children:u.jsx(Cf.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),i):null}return u.jsx(rE,{...e,ref:t})});tE.displayName=Gi;var Nr=10,[nE,ci]=ml(Gi),kB="SelectContentImpl",CB=nl("SelectContent.RemoveScroll"),rE=S.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:b,hideWhenDetached:v,avoidCollisions:w,...k}=e,E=ai(Gi,n),[C,_]=S.useState(null),[R,P]=S.useState(null),I=it(t,K=>_(K)),[F,W]=S.useState(null),[z,B]=S.useState(null),X=Nf(n),[G,A]=S.useState(!1),O=S.useRef(!1);S.useEffect(()=>{if(C)return Ex(C)},[C]),hx();const $=S.useCallback(K=>{const[te,...Q]=X().map(de=>de.ref.current),[ie]=Q.slice(-1),le=document.activeElement;for(const de of K)if(de===le||(de==null||de.scrollIntoView({block:"nearest"}),de===te&&R&&(R.scrollTop=0),de===ie&&R&&(R.scrollTop=R.scrollHeight),de==null||de.focus(),document.activeElement!==le))return},[X,R]),q=S.useCallback(()=>$([F,C]),[$,F,C]);S.useEffect(()=>{G&&q()},[G,q]);const{onOpenChange:D,triggerPointerDownPosRef:U}=E;S.useEffect(()=>{if(C){let K={x:0,y:0};const te=ie=>{var le,de;K={x:Math.abs(Math.round(ie.pageX)-(((le=U.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((de=U.current)==null?void 0:de.y)??0))}},Q=ie=>{K.x<=10&&K.y<=10?ie.preventDefault():C.contains(ie.target)||D(!1),document.removeEventListener("pointermove",te),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",Q,{capture:!0})}}},[C,D,U]),S.useEffect(()=>{const K=()=>D(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[D]);const[M,H]=yE(K=>{const te=X().filter(le=>!le.disabled),Q=te.find(le=>le.ref.current===document.activeElement),ie=vE(te,K,Q);ie&&setTimeout(()=>ie.ref.current.focus())}),Y=S.useCallback((K,te,Q)=>{const ie=!O.current&&!Q;(E.value!==void 0&&E.value===te||ie)&&(W(K),ie&&(O.current=!0))},[E.value]),T=S.useCallback(()=>C==null?void 0:C.focus(),[C]),V=S.useCallback((K,te,Q)=>{const ie=!O.current&&!Q;(E.value!==void 0&&E.value===te||ie)&&B(K)},[E.value]),Z=r==="popper"?cg:oE,J=Z===cg?{side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:b,hideWhenDetached:v,avoidCollisions:w}:{};return u.jsx(nE,{scope:n,content:C,viewport:R,onViewportChange:P,itemRefCallback:Y,selectedItem:F,onItemLeave:T,itemTextRefCallback:V,focusSelectedItem:q,selectedItemText:z,position:r,isPositioned:G,searchRef:M,children:u.jsx(kf,{as:CB,allowPinchZoom:!0,children:u.jsx(hf,{asChild:!0,trapped:E.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:Re(o,K=>{var te;(te=E.trigger)==null||te.focus({preventScroll:!0}),K.preventDefault()}),children:u.jsx(yc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:u.jsx(Z,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:K=>K.preventDefault(),...k,...J,onPlaced:()=>A(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Re(k.onKeyDown,K=>{const te=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!te&&K.key.length===1&&H(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let ie=X().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(K.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const le=K.target,de=ie.indexOf(le);ie=ie.slice(de+1)}setTimeout(()=>$(ie)),K.preventDefault()}})})})})})})});rE.displayName=kB;var NB="SelectItemAlignedPosition",oE=S.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=ai(Gi,n),l=ci(Gi,n),[c,d]=S.useState(null),[f,m]=S.useState(null),p=it(t,I=>m(I)),g=Nf(n),x=S.useRef(!1),b=S.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:k,focusSelectedItem:E}=l,C=S.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&f&&v&&w&&k){const I=i.trigger.getBoundingClientRect(),F=f.getBoundingClientRect(),W=i.valueNode.getBoundingClientRect(),z=k.getBoundingClientRect();if(i.dir!=="rtl"){const le=z.left-F.left,de=W.left-le,fe=I.left-de,ge=I.width+fe,De=Math.max(ge,F.width),Me=window.innerWidth-Nr,ot=Za(de,[Nr,Math.max(Nr,Me-De)]);c.style.minWidth=ge+"px",c.style.left=ot+"px"}else{const le=F.right-z.right,de=window.innerWidth-W.right-le,fe=window.innerWidth-I.right-de,ge=I.width+fe,De=Math.max(ge,F.width),Me=window.innerWidth-Nr,ot=Za(de,[Nr,Math.max(Nr,Me-De)]);c.style.minWidth=ge+"px",c.style.right=ot+"px"}const B=g(),X=window.innerHeight-Nr*2,G=v.scrollHeight,A=window.getComputedStyle(f),O=parseInt(A.borderTopWidth,10),$=parseInt(A.paddingTop,10),q=parseInt(A.borderBottomWidth,10),D=parseInt(A.paddingBottom,10),U=O+$+G+D+q,M=Math.min(w.offsetHeight*5,U),H=window.getComputedStyle(v),Y=parseInt(H.paddingTop,10),T=parseInt(H.paddingBottom,10),V=I.top+I.height/2-Nr,Z=X-V,J=w.offsetHeight/2,K=w.offsetTop+J,te=O+$+K,Q=U-te;if(te<=V){const le=B.length>0&&w===B[B.length-1].ref.current;c.style.bottom="0px";const de=f.clientHeight-v.offsetTop-v.offsetHeight,fe=Math.max(Z,J+(le?T:0)+de+q),ge=te+fe;c.style.height=ge+"px"}else{const le=B.length>0&&w===B[0].ref.current;c.style.top="0px";const fe=Math.max(V,O+v.offsetTop+(le?Y:0)+J)+Q;c.style.height=fe+"px",v.scrollTop=te-V+v.offsetTop}c.style.margin=`${Nr}px 0`,c.style.minHeight=M+"px",c.style.maxHeight=X+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[g,i.trigger,i.valueNode,c,f,v,w,k,i.dir,r]);yn(()=>C(),[C]);const[_,R]=S.useState();yn(()=>{f&&R(window.getComputedStyle(f).zIndex)},[f]);const P=S.useCallback(I=>{I&&b.current===!0&&(C(),E==null||E(),b.current=!1)},[C,E]);return u.jsx(jB,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:P,children:u.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(Ue.div,{...o,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});oE.displayName=NB;var EB="SelectPopperPosition",cg=S.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Nr,...i}=e,l=Ef(n);return u.jsx(Cx,{...l,...i,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cg.displayName=EB;var[jB,jx]=ml(Gi,{}),ug="SelectViewport",iE=S.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,i=ci(ug,n),l=jx(ug,n),c=it(t,i.onViewportChange),d=S.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Cf.Slot,{scope:n,children:u.jsx(Ue.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Re(o.onScroll,f=>{const m=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=l;if(g!=null&&g.current&&p){const x=Math.abs(d.current-m.scrollTop);if(x>0){const b=window.innerHeight-Nr*2,v=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),k=Math.max(v,w);if(k<b){const E=k+x,C=Math.min(b,E),_=E-C;p.style.height=C+"px",p.style.bottom==="0px"&&(m.scrollTop=_>0?_:0,p.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});iE.displayName=ug;var sE="SelectGroup",[_B,PB]=ml(sE),AB=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=gr();return u.jsx(_B,{scope:n,id:o,children:u.jsx(Ue.div,{role:"group","aria-labelledby":o,...r,ref:t})})});AB.displayName=sE;var lE="SelectLabel",TB=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=PB(lE,n);return u.jsx(Ue.div,{id:o.id,...r,ref:t})});TB.displayName=lE;var zd="SelectItem",[IB,aE]=ml(zd),cE=S.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...l}=e,c=ai(zd,n),d=ci(zd,n),f=c.value===r,[m,p]=S.useState(i??""),[g,x]=S.useState(!1),b=it(t,E=>{var C;return(C=d.itemRefCallback)==null?void 0:C.call(d,E,r,o)}),v=gr(),w=S.useRef("touch"),k=()=>{o||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(IB,{scope:n,value:r,disabled:o,textId:v,isSelected:f,onItemTextChange:S.useCallback(E=>{p(C=>C||((E==null?void 0:E.textContent)??"").trim())},[]),children:u.jsx(Cf.ItemSlot,{scope:n,value:r,disabled:o,textValue:m,children:u.jsx(Ue.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:b,onFocus:Re(l.onFocus,()=>x(!0)),onBlur:Re(l.onBlur,()=>x(!1)),onClick:Re(l.onClick,()=>{w.current!=="mouse"&&k()}),onPointerUp:Re(l.onPointerUp,()=>{w.current==="mouse"&&k()}),onPointerDown:Re(l.onPointerDown,E=>{w.current=E.pointerType}),onPointerMove:Re(l.onPointerMove,E=>{var C;w.current=E.pointerType,o?(C=d.onItemLeave)==null||C.call(d):w.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(l.onPointerLeave,E=>{var C;E.currentTarget===document.activeElement&&((C=d.onItemLeave)==null||C.call(d))}),onKeyDown:Re(l.onKeyDown,E=>{var _;((_=d.searchRef)==null?void 0:_.current)!==""&&E.key===" "||(gB.includes(E.key)&&k(),E.key===" "&&E.preventDefault())})})})})});cE.displayName=zd;var Sa="SelectItemText",uE=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,l=ai(Sa,n),c=ci(Sa,n),d=aE(Sa,n),f=wB(Sa,n),[m,p]=S.useState(null),g=it(t,k=>p(k),d.onItemTextChange,k=>{var E;return(E=c.itemTextRefCallback)==null?void 0:E.call(c,k,d.value,d.disabled)}),x=m==null?void 0:m.textContent,b=S.useMemo(()=>u.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=f;return yn(()=>(v(b),()=>w(b)),[v,w,b]),u.jsxs(u.Fragment,{children:[u.jsx(Ue.span,{id:d.textId,...i,ref:g}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?ul.createPortal(i.children,l.valueNode):null]})});uE.displayName=Sa;var dE="SelectItemIndicator",fE=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return aE(dE,n).isSelected?u.jsx(Ue.span,{"aria-hidden":!0,...r,ref:t}):null});fE.displayName=dE;var dg="SelectScrollUpButton",pE=S.forwardRef((e,t)=>{const n=ci(dg,e.__scopeSelect),r=jx(dg,e.__scopeSelect),[o,i]=S.useState(!1),l=it(t,r.onScrollButtonChange);return yn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollTop>0;i(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?u.jsx(mE,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});pE.displayName=dg;var fg="SelectScrollDownButton",hE=S.forwardRef((e,t)=>{const n=ci(fg,e.__scopeSelect),r=jx(fg,e.__scopeSelect),[o,i]=S.useState(!1),l=it(t,r.onScrollButtonChange);return yn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;i(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?u.jsx(mE,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});hE.displayName=fg;var mE=S.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,i=ci("SelectScrollButton",n),l=S.useRef(null),c=Nf(n),d=S.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return S.useEffect(()=>()=>d(),[d]),yn(()=>{var m;const f=c().find(p=>p.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),u.jsx(Ue.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Re(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Re(o.onPointerMove,()=>{var f;(f=i.onItemLeave)==null||f.call(i),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Re(o.onPointerLeave,()=>{d()})})}),RB="SelectSeparator",MB=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(Ue.div,{"aria-hidden":!0,...r,ref:t})});MB.displayName=RB;var pg="SelectArrow",DB=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Ef(n),i=ai(pg,n),l=ci(pg,n);return i.open&&l.position==="popper"?u.jsx(Nx,{...o,...r,ref:t}):null});DB.displayName=pg;var OB="SelectBubbleInput",gE=S.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=S.useRef(null),i=it(r,o),l=bf(t);return S.useEffect(()=>{const c=o.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const p=new Event("change",{bubbles:!0});m.call(c,t),c.dispatchEvent(p)}},[l,t]),u.jsx(Ue.select,{...n,style:{...zN,...n.style},ref:i,defaultValue:t})});gE.displayName=OB;function xE(e){return e===""||e===void 0}function yE(e){const t=Mn(e),n=S.useRef(""),r=S.useRef(0),o=S.useCallback(l=>{const c=n.current+l;t(c),(function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),i=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function vE(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let l=LB(e,Math.max(i,0));o.length===1&&(l=l.filter(f=>f!==n));const d=l.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function LB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var zB=qN,$B=KN,FB=JN,BB=ZN,VB=eE,HB=tE,UB=iE,WB=cE,YB=uE,XB=fE,qB=pE,GB=hE;function ln({...e}){return u.jsx(zB,{"data-slot":"select",...e})}function an({...e}){return u.jsx(FB,{"data-slot":"select-value",...e})}function cn({className:e,size:t="default",children:n,...r}){return u.jsxs($B,{"data-slot":"select-trigger","data-size":t,className:qe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,u.jsx(BB,{asChild:!0,children:u.jsx(Go,{className:"size-4 opacity-50"})})]})}function un({className:e,children:t,position:n="popper",...r}){return u.jsx(VB,{children:u.jsxs(HB,{"data-slot":"select-content",className:qe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(KB,{}),u.jsx(UB,{className:qe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),u.jsx(QB,{})]})})}function gt({className:e,children:t,...n}){return u.jsxs(WB,{"data-slot":"select-item",className:qe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[u.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:u.jsx(XB,{children:u.jsx(xS,{className:"size-4"})})}),u.jsx(YB,{children:t})]})}function KB({className:e,...t}){return u.jsx(qB,{"data-slot":"select-scroll-up-button",className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(VA,{className:"size-4"})})}function QB({className:e,...t}){return u.jsx(GB,{"data-slot":"select-scroll-down-button",className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(Go,{className:"size-4"})})}const Zb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,e1=qS,jf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return e1(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=t,l=Object.keys(o).map(f=>{const m=n==null?void 0:n[f],p=i==null?void 0:i[f];if(m===null)return null;const g=Zb(m)||Zb(p);return o[f][g]}),c=n&&Object.entries(n).reduce((f,m)=>{let[p,g]=m;return g===void 0||(f[p]=g),f},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,m)=>{let{class:p,className:g,...x}=m;return Object.entries(x).every(b=>{let[v,w]=b;return Array.isArray(w)?w.includes({...i,...c}[v]):{...i,...c}[v]===w})?[...f,p,g]:f},[]);return e1(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)},JB=jf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all cursor-pointer disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ZB({className:e,variant:t,size:n,asChild:r=!1,...o},i){const l=r?KC:"button";return u.jsx(l,{ref:i,"data-slot":"button",className:qe(JB({variant:t,size:n,className:e})),...o})}const ye=S.forwardRef(ZB);ye.displayName="Button";var _f="Dialog",[wE]=Pn(_f),[e6,Or]=wE(_f),bE=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=S.useRef(null),d=S.useRef(null),[f,m]=_n({prop:r,defaultProp:o??!1,onChange:i,caller:_f});return u.jsx(e6,{scope:t,triggerRef:c,contentRef:d,contentId:gr(),titleId:gr(),descriptionId:gr(),open:f,onOpenChange:m,onOpenToggle:S.useCallback(()=>m(p=>!p),[m]),modal:l,children:n})};bE.displayName=_f;var SE="DialogTrigger",kE=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Or(SE,n),i=it(t,o.triggerRef);return u.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Ax(o.open),...r,ref:i,onClick:Re(e.onClick,o.onOpenToggle)})});kE.displayName=SE;var _x="DialogPortal",[t6,CE]=wE(_x,{forceMount:void 0}),NE=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,i=Or(_x,t);return u.jsx(t6,{scope:t,forceMount:n,children:S.Children.map(r,l=>u.jsx(An,{present:n||i.open,children:u.jsx(wc,{asChild:!0,container:o,children:l})}))})};NE.displayName=_x;var $d="DialogOverlay",EE=S.forwardRef((e,t)=>{const n=CE($d,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Or($d,e.__scopeDialog);return i.modal?u.jsx(An,{present:r||i.open,children:u.jsx(r6,{...o,ref:t})}):null});EE.displayName=$d;var n6=nl("DialogOverlay.RemoveScroll"),r6=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Or($d,n);return u.jsx(kf,{as:n6,allowPinchZoom:!0,shards:[o.contentRef],children:u.jsx(Ue.div,{"data-state":Ax(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ki="DialogContent",jE=S.forwardRef((e,t)=>{const n=CE(Ki,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Or(Ki,e.__scopeDialog);return u.jsx(An,{present:r||i.open,children:i.modal?u.jsx(o6,{...o,ref:t}):u.jsx(i6,{...o,ref:t})})});jE.displayName=Ki;var o6=S.forwardRef((e,t)=>{const n=Or(Ki,e.__scopeDialog),r=S.useRef(null),o=it(t,n.contentRef,r);return S.useEffect(()=>{const i=r.current;if(i)return Ex(i)},[]),u.jsx(_E,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Re(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:Re(e.onFocusOutside,i=>i.preventDefault())})}),i6=S.forwardRef((e,t)=>{const n=Or(Ki,e.__scopeDialog),r=S.useRef(!1),o=S.useRef(!1);return u.jsx(_E,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),_E=S.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...l}=e,c=Or(Ki,n),d=S.useRef(null),f=it(t,d);return hx(),u.jsxs(u.Fragment,{children:[u.jsx(hf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:u.jsx(yc,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Ax(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(s6,{titleId:c.titleId}),u.jsx(a6,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Px="DialogTitle",PE=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Or(Px,n);return u.jsx(Ue.h2,{id:o.titleId,...r,ref:t})});PE.displayName=Px;var AE="DialogDescription",TE=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Or(AE,n);return u.jsx(Ue.p,{id:o.descriptionId,...r,ref:t})});TE.displayName=AE;var IE="DialogClose",RE=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Or(IE,n);return u.jsx(Ue.button,{type:"button",...r,ref:t,onClick:Re(e.onClick,()=>o.onOpenChange(!1))})});RE.displayName=IE;function Ax(e){return e?"open":"closed"}var ME="DialogTitleWarning",[Dq,DE]=d$(ME,{contentName:Ki,titleName:Px,docsSlug:"dialog"}),s6=({titleId:e})=>{const t=DE(ME),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},l6="DialogDescriptionWarning",a6=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${DE(l6).contentName}}.`;return S.useEffect(()=>{var i;const o=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},c6=bE,u6=kE,d6=NE,OE=EE,f6=jE,p6=PE,LE=TE,h6=RE,m6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),g6="VisuallyHidden",zE=S.forwardRef((e,t)=>u.jsx(ux.span,{...e,ref:t,style:{...m6,...e.style}}));zE.displayName=g6;var x6=zE;function dn({...e}){return u.jsx(c6,{"data-slot":"dialog",...e})}function ym({...e}){return u.jsx(u6,{"data-slot":"dialog-trigger",...e})}function y6({...e}){return u.jsx(d6,{"data-slot":"dialog-portal",...e})}const $E=S.forwardRef(({className:e,...t},n)=>u.jsx(OE,{ref:n,"data-slot":"dialog-overlay",className:qe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));$E.displayName=OE.displayName;function fn({className:e,children:t,...n}){return u.jsxs(y6,{"data-slot":"dialog-portal",children:[u.jsx($E,{}),u.jsxs(f6,{"data-slot":"dialog-content",className:qe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg max-h-[85vh] overflow-y-auto",e),...n,children:[u.jsx(x6,{asChild:!0,children:u.jsx(LE,{children:"Dialog content"})}),t,u.jsxs(h6,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(GT,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function pn({className:e,...t}){return u.jsx("div",{"data-slot":"dialog-header",className:qe("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Lr({className:e,...t}){return u.jsx("div",{"data-slot":"dialog-footer",className:qe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function hn({className:e,...t}){return u.jsx(p6,{"data-slot":"dialog-title",className:qe("text-lg leading-none font-semibold",e),...t})}function ui({className:e,...t}){return u.jsx(LE,{"data-slot":"dialog-description",className:qe("text-muted-foreground text-sm",e),...t})}function FE({className:e,...t}){return u.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:u.jsx("table",{"data-slot":"table",className:qe("w-full caption-bottom text-sm",e),...t})})}function BE({className:e,...t}){return u.jsx("thead",{"data-slot":"table-header",className:qe("[&_tr]:border-b",e),...t})}function VE({className:e,...t}){return u.jsx("tbody",{"data-slot":"table-body",className:qe("[&_tr:last-child]:border-0",e),...t})}function Ws({className:e,...t}){return u.jsx("tr",{"data-slot":"table-row",className:qe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Ia({className:e,...t}){return u.jsx("th",{"data-slot":"table-head",className:qe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Li({className:e,...t}){return u.jsx("td",{"data-slot":"table-cell",className:qe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}const v6=jf("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function w6({className:e,variant:t,...n}){return u.jsx("div",{"data-slot":"alert",role:"alert",className:qe(v6({variant:t}),e),...n})}function b6({className:e,...t}){return u.jsx("div",{"data-slot":"alert-description",className:qe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function S6({open:e,onOpenChange:t,colorSetName:n,attributes:r,initialData:o,onSave:i}){const[l,c]=S.useState("visual"),[d,f]=S.useState([]),[m,p]=S.useState([]),[g,x]=S.useState(""),[b,v]=S.useState(null),[w,k]=S.useState(1),[E,C]=S.useState(10),_=r.length>0;S.useEffect(()=>{o&&Array.isArray(o)?(_?f(o):p(o),x(JSON.stringify(o,null,2))):(f([]),p([]),x("[]")),k(1)},[o,_]);const R=_?d.length:m.length,P=Math.max(1,Math.ceil(R/E)),I=S.useMemo(()=>{const V=(w-1)*E;return d.slice(V,V+E)},[d,w,E]),F=S.useMemo(()=>{const V=(w-1)*E;return m.slice(V,V+E)},[m,w,E]),W=V=>(w-1)*E+V,z=V=>{C(V),k(1)};S.useEffect(()=>{l==="visual"&&x(JSON.stringify(_?d:m,null,2))},[d,m,l,_]);const B=()=>{const V=[...m,""];p(V),k(Math.ceil(V.length/E))},X=V=>{const Z=[...m];Z.splice(V,1),p(Z);const J=Math.max(1,Math.ceil(Z.length/E));w>J&&k(J)},G=(V,Z)=>{const J=[...m];try{Z.startsWith("[")&&Z.endsWith("]")||Z.startsWith("{")&&Z.endsWith("}")?J[V]=JSON.parse(Z):!isNaN(Number(Z))&&Z.trim()!==""?J[V]=Number(Z):Z.toLowerCase()==="true"?J[V]=!0:Z.toLowerCase()==="false"?J[V]=!1:J[V]=Z}catch{J[V]=Z}p(J)},A=V=>typeof V=="object"?JSON.stringify(V):String(V),O=()=>{const V={};r.forEach(J=>{J.type==="INT"||J.type==="REAL"?V[J.name]=0:J.type==="BOOL"?V[J.name]=!1:V[J.name]=""});const Z=[...d,V];f(Z),k(Math.ceil(Z.length/E))},$=V=>{const Z=[...d];Z.splice(V,1),f(Z);const J=Math.max(1,Math.ceil(Z.length/E));w>J&&k(J)},q=(V,Z,J)=>{const K=[...d];K[V]={...K[V],[Z]:J},f(K)},D=(V,Z)=>{try{if(Z==="INT"){const J=Number.parseInt(V,10);return isNaN(J)?0:J}else if(Z==="REAL"){const J=Number.parseFloat(V);return isNaN(J)?0:J}else if(Z==="BOOL")return V.toLowerCase()==="true";return V}catch{return Z==="INT"||Z==="REAL"?0:Z==="BOOL"?!1:V}},U=V=>{x(V),v(null);try{const Z=JSON.parse(V);Array.isArray(Z)||v("JSON must be an array")}catch{v("Invalid JSON format")}},M=V=>{if(V==="json"&&l==="visual")x(JSON.stringify(_?d:m,null,2));else if(V==="visual"&&l==="json")try{const Z=JSON.parse(g);Array.isArray(Z)?(_?f(Z):p(Z),v(null)):v("JSON must be an array")}catch{v("Invalid JSON format")}c(V)},H=()=>{if(l==="json")try{const V=JSON.parse(g);Array.isArray(V)?(i(V),t(!1)):v("JSON must be an array")}catch{v("Invalid JSON format")}else i(_?d:m),t(!1)},Y=V=>{var K;const Z=(K=V.target.files)==null?void 0:K[0];if(!Z)return;const J=new FileReader;J.onload=te=>{var ie;const Q=(ie=te.target)==null?void 0:ie.result;try{const le=JSON.parse(Q);Array.isArray(le)?(_?f(le):p(le),x(JSON.stringify(le,null,2)),c("visual"),v(null)):v("Uploaded file must contain an array")}catch{try{const le=Q.split(`
`),de=le[0].split(",").map(ge=>ge.trim()),fe=[];for(let ge=1;ge<le.length;ge++){if(!le[ge].trim())continue;const De=le[ge].split(",").map(ot=>ot.trim()),Me={};de.forEach((ot,tt)=>{const et=r.find(ke=>ke.name===ot);et&&tt<De.length&&(Me[ot]=D(De[tt],et.type))}),fe.push(Me)}f(fe),x(JSON.stringify(fe,null,2)),c("visual"),v(null)}catch{v("Failed to parse file as JSON or CSV")}}},J.readAsText(Z)},T=()=>{const Z=`data:text/csv;charset=utf-8,${r.map(te=>te.name).join(",")}
`,J=encodeURI(Z),K=document.createElement("a");K.setAttribute("href",J),K.setAttribute("download",`${n}_template.csv`),document.body.appendChild(K),K.click(),document.body.removeChild(K)};return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:"max-w-3xl",children:[u.jsx(pn,{children:u.jsxs(hn,{children:["Edit Initial Marking for ",n]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"space-x-2",children:[u.jsxs(ye,{variant:"outline",size:"sm",onClick:_?O:B,children:[u.jsx(Lm,{className:"h-4 w-4 mr-2"}),_?"Add Record":"Add Entry"]}),_&&u.jsxs(ye,{variant:"outline",size:"sm",onClick:T,children:[u.jsx(SS,{className:"h-4 w-4 mr-2"}),"CSV Template"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ct,{type:"file",id:"file-upload",className:"hidden",accept:".json,.csv",onChange:Y}),u.jsx(Ae,{htmlFor:"file-upload",className:"cursor-pointer",children:u.jsx(ye,{variant:"outline",size:"sm",asChild:!0,children:u.jsxs("span",{children:[u.jsx(Lg,{className:"h-4 w-4 mr-2"}),"Import"]})})})]})]}),b&&u.jsx(w6,{variant:"destructive",children:u.jsx(b6,{children:b})}),u.jsxs(si,{value:l,onValueChange:M,children:[u.jsxs(li,{className:"grid w-full grid-cols-2",children:[u.jsx(Ln,{value:"visual",children:"Visual Editor"}),u.jsx(Ln,{value:"json",children:"JSON Editor"})]}),u.jsxs(xr,{value:"visual",className:"space-y-4",children:[_?u.jsxs(FE,{children:[u.jsx(BE,{children:u.jsxs(Ws,{children:[r.map(V=>u.jsx(Ia,{children:V.name},V.name)),u.jsx(Ia,{className:"w-[80px]",children:"Actions"})]})}),u.jsx(VE,{children:I.length===0?u.jsx(Ws,{children:u.jsx(Li,{colSpan:r.length+1,className:"text-center",children:'No records. Click "Add Record" to create one.'})}):I.map((V,Z)=>{const J=W(Z);return u.jsxs(Ws,{children:[r.map(K=>{var te;return u.jsx(Li,{children:u.jsx(ct,{value:((te=V[K.name])==null?void 0:te.toString())??"",onChange:Q=>q(J,K.name,D(Q.target.value,K.type))})},`${J}-${K.name}`)}),u.jsx(Li,{children:u.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>$(J),className:"h-8 w-8",children:u.jsx(nr,{className:"h-4 w-4"})})})]},J)})})]}):u.jsx("div",{className:"space-y-2",children:F.length===0?u.jsx("div",{className:"text-center text-muted-foreground py-4",children:'No entries. Click "Add Entry" to create one.'}):F.map((V,Z)=>{const J=W(Z);return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-muted-foreground w-8 text-right",children:[J+1,"."]}),u.jsx(ct,{className:"flex-1 font-mono",value:A(V),onChange:K=>G(J,K.target.value),placeholder:'e.g., [1, "Modellin"] or 42 or "text"'}),u.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>X(J),className:"h-8 w-8",children:u.jsx(nr,{className:"h-4 w-4"})})]},J)})}),R>10&&u.jsxs("div",{className:"flex items-center justify-between pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsxs("span",{children:[R===0?0:(w-1)*E+1,"",Math.min(w*E,R)," of ",R]}),u.jsxs(ln,{value:String(E),onValueChange:V=>z(Number(V)),children:[u.jsx(cn,{className:"h-7 w-[70px] text-xs",children:u.jsx(an,{})}),u.jsx(un,{children:[10,25,50,100].map(V=>u.jsx(gt,{value:String(V),children:V},V))})]}),u.jsx("span",{className:"text-xs",children:"per page"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(1),disabled:w<=1,children:u.jsx(vS,{className:"h-3 w-3"})}),u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(w-1),disabled:w<=1,children:u.jsx(yS,{className:"h-3 w-3"})}),u.jsxs("span",{className:"text-sm px-2",children:[w," / ",P]}),u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(w+1),disabled:w>=P,children:u.jsx(Mi,{className:"h-3 w-3"})}),u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(P),disabled:w>=P,children:u.jsx(wS,{className:"h-3 w-3"})})]})]})]}),u.jsx(xr,{value:"json",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"json-editor",children:"JSON Editor"}),u.jsx("textarea",{id:"json-editor",className:"w-full h-[300px] font-mono text-sm p-2 border rounded-md",value:g,onChange:V=>U(V.target.value)})]})})]})]}),u.jsxs(Lr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ye,{onClick:H,children:"Save"})]})]})})}function HE(e,t,n,r,o){return e+t*1e3+n*60*1e3+r*60*60*1e3+o*24*60*60*1e3}function tc(e){let t=e;const n=Math.floor(t/(1440*60*1e3));t%=1440*60*1e3;const r=Math.floor(t/(3600*1e3));t%=3600*1e3;const o=Math.floor(t/(60*1e3));t%=60*1e3;const i=Math.floor(t/1e3);return{ms:t%1e3,s:i,m:o,h:r,d:n}}function t1(e){const{d:t,h:n,m:r,s:o,ms:i}=tc(e),l=[];return t>0&&l.push(`${t}d`),n>0&&l.push(`${n}h`),r>0&&l.push(`${r}m`),o>0&&l.push(`${o}s`),i>0&&l.push(`${i}ms`),l.length>0?l.join(" "):"0"}function Fd(e,t){return new Date(t.getTime()+e).toISOString().slice(0,16)}function UE(e,t){return new Date(e).getTime()-t.getTime()}function n1(e,t){const n=t.toUpperCase();if(n==="INT"){const r=parseInt(e,10);return isNaN(r)?0:r}else if(n==="REAL"){const r=parseFloat(e);return isNaN(r)?0:r}else if(n==="BOOL")return e.toLowerCase()==="true";return e}function k6(e){const t={};return e.forEach(n=>{const r=n.type.toUpperCase();r==="INT"||r==="REAL"?t[n.name]=0:r==="BOOL"?t[n.name]=!1:t[n.name]=""}),t}function C6({token:e,index:t,colorSetType:n,epoch:r,onChange:o,onRemove:i}){const[l,c]=S.useState("relative"),d=tc(e.timestamp),[f,m]=S.useState(d),[p,g]=S.useState(r?Fd(e.timestamp,r):"");S.useEffect(()=>{const k=tc(e.timestamp);m(k),r&&g(Fd(e.timestamp,r))},[e.timestamp,r]);const x=k=>{o(t,{...e,value:k})},b=(k,E)=>{const C={...f,[k]:E};m(C);const _=HE(C.ms,C.s,C.m,C.h,C.d);o(t,{...e,timestamp:_})},v=k=>{if(g(k),r){const E=UE(k,r);o(t,{...e,timestamp:E})}},w=()=>{switch(n){case"int":return u.jsx(ct,{type:"number",value:e.value,onChange:k=>x(parseInt(k.target.value,10)||0),className:"w-24"});case"bool":return u.jsxs("select",{value:String(e.value),onChange:k=>x(k.target.value==="true"),className:"h-9 rounded-md border border-input bg-background px-3 py-1 text-sm",children:[u.jsx("option",{value:"true",children:"true"}),u.jsx("option",{value:"false",children:"false"})]});case"string":return u.jsx(ct,{type:"text",value:e.value,onChange:k=>x(k.target.value),className:"w-32"});case"unit":return u.jsx("span",{className:"px-2 py-1 text-muted-foreground",children:"()"});default:return u.jsx(ct,{type:"text",value:JSON.stringify(e.value),onChange:k=>{try{x(JSON.parse(k.target.value))}catch{x(k.target.value)}},className:"w-32"})}};return u.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md bg-muted/30",children:[u.jsxs("span",{className:"text-sm text-muted-foreground w-6",children:["#",t+1]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Ae,{className:"text-xs",children:"Value:"}),w()]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx(Ae,{className:"text-xs",children:"Time:"}),u.jsxs(si,{value:l,onValueChange:k=>c(k),className:"flex-1",children:[u.jsxs(li,{className:"h-7",children:[u.jsx(Ln,{value:"relative",className:"text-xs px-2 py-1",children:"Relative"}),u.jsx(Ln,{value:"absolute",className:"text-xs px-2 py-1",disabled:!r,children:"Absolute"})]}),u.jsx(xr,{value:"relative",className:"mt-1",children:u.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[["d","h","m","s"].map(k=>u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(ct,{type:"number",min:"0",max:k==="h"?23:k==="m"||k==="s"?59:void 0,value:f[k],onChange:E=>b(k,parseInt(E.target.value,10)||0),className:"w-12 h-7 text-xs"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:k})]},k)),u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(ct,{type:"number",min:"0",max:"999",value:f.ms,onChange:k=>b("ms",parseInt(k.target.value,10)||0),className:"w-14 h-7 text-xs"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})]})}),u.jsx(xr,{value:"absolute",className:"mt-1",children:r?u.jsx(ct,{type:"datetime-local",value:p,onChange:k=>v(k.target.value),className:"h-7 text-xs"}):u.jsx("p",{className:"text-xs text-muted-foreground",children:"Set simulation epoch in Settings to use absolute time"})})]})]}),u.jsx(ye,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>i(t),children:u.jsx(nr,{className:"h-3 w-3"})})]})}const N6=[10,25,50,100];function E6({currentPage:e,totalPages:t,pageSize:n,totalItems:r,onPageChange:o,onPageSizeChange:i}){const l=r===0?0:(e-1)*n+1,c=Math.min(e*n,r);return u.jsxs("div",{className:"flex items-center justify-between pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsxs("span",{children:[l,"",c," of ",r]}),u.jsxs(ln,{value:String(n),onValueChange:d=>i(Number(d)),children:[u.jsx(cn,{className:"h-7 w-[70px] text-xs",children:u.jsx(an,{})}),u.jsx(un,{children:N6.map(d=>u.jsx(gt,{value:String(d),children:d},d))})]}),u.jsx("span",{className:"text-xs",children:"per page"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(1),disabled:e<=1,children:u.jsx(vS,{className:"h-3 w-3"})}),u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(e-1),disabled:e<=1,children:u.jsx(yS,{className:"h-3 w-3"})}),u.jsxs("span",{className:"text-sm px-2",children:[e," / ",t||1]}),u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(e+1),disabled:e>=t,children:u.jsx(Mi,{className:"h-3 w-3"})}),u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(t),disabled:e>=t,children:u.jsx(wS,{className:"h-3 w-3"})})]})]})}function j6({timestamp:e,epoch:t,onChange:n}){const[r,o]=S.useState(!1),[i,l]=S.useState("relative"),[c,d]=S.useState(tc(e)),[f,m]=S.useState(t?Fd(e,t):"");S.useEffect(()=>{d(tc(e)),t&&m(Fd(e,t))},[e,t]);const p=(v,w)=>{const k={...c,[v]:w};d(k),n(HE(k.ms,k.s,k.m,k.h,k.d))},g=v=>{m(v),t&&n(UE(v,t))},x=i==="absolute"&&t?new Date(t.getTime()+e).toLocaleString():t1(e),b=i==="absolute"?t1(e):t?new Date(t.getTime()+e).toLocaleString():`${e}ms`;return r?u.jsxs("div",{className:"space-y-1",onBlur:v=>{v.currentTarget.contains(v.relatedTarget)||o(!1)},children:[u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("button",{className:`text-[10px] px-1.5 py-0.5 rounded ${i==="relative"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,onClick:()=>l("relative"),children:"Rel"}),u.jsx("button",{className:`text-[10px] px-1.5 py-0.5 rounded ${i==="absolute"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"} ${t?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>{t&&l("absolute")},disabled:!t,children:"Abs"})]}),i==="absolute"&&t?u.jsx(ct,{type:"datetime-local",value:f,onChange:v=>g(v.target.value),className:"h-7 text-xs",autoFocus:!0}):u.jsx("div",{className:"flex items-center gap-0.5 flex-wrap",children:["d","h","m","s"].map(v=>u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(ct,{type:"number",min:"0",max:v==="h"?23:v==="m"||v==="s"?59:void 0,value:c[v],onChange:w=>p(v,parseInt(w.target.value,10)||0),className:"w-10 h-6 text-xs p-1",autoFocus:v==="d"}),u.jsx("span",{className:"text-[10px] text-muted-foreground",children:v})]},v))})]}):u.jsx("button",{className:"text-left text-sm font-mono hover:bg-muted/50 rounded px-1 py-0.5 w-full",onClick:()=>o(!0),title:b,children:x})}function _6({open:e,onOpenChange:t,colorSetName:n,colorSetType:r,recordAttributes:o,initialData:i,onSave:l}){const[c,d]=S.useState(i),[f,m]=S.useState(1),[p,g]=S.useState(10),[x,b]=S.useState(""),[v,w]=S.useState("visual"),[k,E]=S.useState(null),C=me(Y=>Y.simulationEpoch),_=C?new Date(C):null,R=o&&o.length>0;S.useEffect(()=>{d(i),m(1)},[i,e]),S.useEffect(()=>{v==="visual"&&b(JSON.stringify(c,null,2))},[c,v]);const P=Math.max(1,Math.ceil(c.length/p)),I=S.useMemo(()=>{const Y=(f-1)*p;return c.slice(Y,Y+p)},[c,f,p]),F=Y=>(f-1)*p+Y,W=()=>{let Y;R?Y=k6(o):Y=r==="int"?0:r==="bool"?!0:r==="string"?"":r==="unit"?null:"";const T=[...c,{value:Y,timestamp:0}];d(T),m(Math.ceil(T.length/p))},z=(Y,T)=>{const V=[...c];V[Y]=T,d(V)},B=Y=>{const T=c.filter((Z,J)=>J!==Y);d(T);const V=Math.max(1,Math.ceil(T.length/p));f>V&&m(V)},X=(Y,T,V,Z)=>{const J=[...c],K=J[Y].value;J[Y]={...J[Y],value:{...K,[T]:n1(Z,V)}},d(J)},G=(Y,T)=>{const V=[...c];V[Y]={...V[Y],timestamp:T},d(V)},A=Y=>{g(Y),m(1)},O=()=>{if(!R)return;const T=`data:text/csv;charset=utf-8,${[...o.map(J=>J.name),"Timestamp"].join(",")}
`,V=encodeURI(T),Z=document.createElement("a");Z.setAttribute("href",V),Z.setAttribute("download",`${n}_timed_template.csv`),document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)},$=Y=>{var Z;const T=(Z=Y.target.files)==null?void 0:Z[0];if(!T)return;const V=new FileReader;V.onload=J=>{var te;const K=(te=J.target)==null?void 0:te.result;try{const Q=JSON.parse(K);Array.isArray(Q)?(d(Q),m(1),w("visual"),E(null)):E("Uploaded file must contain an array")}catch{if(!R){E("Non-record types only support JSON import");return}try{const Q=K.split(`
`),ie=Q[0].split(",").map(ge=>ge.trim()),le=ie.findIndex(ge=>ge.toLowerCase()==="timestamp"),de=ie.filter((ge,De)=>De!==le),fe=[];for(let ge=1;ge<Q.length;ge++){if(!Q[ge].trim())continue;const De=Q[ge].split(",").map(tt=>tt.trim()),Me={};de.forEach(tt=>{const et=ie.indexOf(tt),ke=o.find(We=>We.name===tt);ke&&et>=0&&et<De.length&&(Me[tt]=n1(De[et],ke.type))});const ot=le>=0&&le<De.length&&parseInt(De[le],10)||0;fe.push({value:Me,timestamp:ot})}d(fe),m(1),w("visual"),E(null)}catch{E("Failed to parse file as JSON or CSV")}}},V.readAsText(T),Y.target.value=""},q=Y=>{if(Y==="json"&&v==="visual")b(JSON.stringify(c,null,2));else if(Y==="visual"&&v==="json")try{const T=JSON.parse(x);Array.isArray(T)?(d(T),E(null)):E("JSON must be an array")}catch{E("Invalid JSON format")}w(Y)},D=()=>{if(v==="json")try{const Y=JSON.parse(x);Array.isArray(Y)?(l(Y),t(!1)):E("JSON must be an array")}catch{E("Invalid JSON format")}else l(c),t(!1)},U=()=>c.length>10?u.jsx(E6,{currentPage:f,totalPages:P,pageSize:p,totalItems:c.length,onPageChange:m,onPageSizeChange:A}):null,M=()=>u.jsxs("div",{children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(FE,{children:[u.jsx(BE,{children:u.jsxs(Ws,{children:[o.map(Y=>u.jsx(Ia,{children:Y.name},Y.name)),u.jsx(Ia,{className:"min-w-[160px]",children:"Timestamp"}),u.jsx(Ia,{className:"w-[50px]"})]})}),u.jsx(VE,{children:I.length===0?u.jsx(Ws,{children:u.jsx(Li,{colSpan:o.length+2,className:"text-center text-muted-foreground py-8",children:'No tokens. Click "Add Token" to add one.'})}):I.map((Y,T)=>{const V=F(T),Z=Y.value||{};return u.jsxs(Ws,{children:[o.map(J=>{var K;return u.jsx(Li,{className:"p-1",children:u.jsx(ct,{value:((K=Z[J.name])==null?void 0:K.toString())??"",onChange:te=>X(V,J.name,J.type,te.target.value),className:"h-7 text-xs"})},J.name)}),u.jsx(Li,{className:"p-1",children:u.jsx(j6,{timestamp:Y.timestamp,epoch:_,onChange:J=>G(V,J)})}),u.jsx(Li,{className:"p-1",children:u.jsx(ye,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>B(V),children:u.jsx(nr,{className:"h-3 w-3"})})})]},V)})})]})}),U()]}),H=()=>u.jsxs("div",{children:[u.jsx("div",{className:"space-y-2",children:I.length===0?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No tokens. Click "Add Token" to add a timed token.'}):I.map((Y,T)=>{const V=F(T);return u.jsx(C6,{token:Y,index:V,colorSetType:r,epoch:_,onChange:z,onRemove:B},V)})}),U()]});return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:R?"max-w-[90vw] xl:max-w-6xl":"max-w-3xl",children:[u.jsx(pn,{children:u.jsxs(hn,{children:["Edit Timed Marking for ",n]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.length," token",c.length!==1?"s":"",_&&u.jsxs("span",{className:"ml-2",children:["(Epoch: ",_.toLocaleString(),")"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[R&&u.jsxs(ye,{variant:"outline",size:"sm",onClick:O,children:[u.jsx(SS,{className:"h-4 w-4 mr-1"}),"CSV Template"]}),u.jsxs("div",{children:[u.jsx(ct,{type:"file",id:"timed-file-upload",className:"hidden",accept:".json,.csv",onChange:$}),u.jsx(Ae,{htmlFor:"timed-file-upload",className:"cursor-pointer",children:u.jsx(ye,{variant:"outline",size:"sm",asChild:!0,children:u.jsxs("span",{children:[u.jsx(Lg,{className:"h-4 w-4 mr-1"}),"Import"]})})})]}),u.jsxs(ye,{variant:"outline",size:"sm",onClick:W,children:[u.jsx(kS,{className:"h-4 w-4 mr-1"}),"Add Token"]})]})]}),u.jsxs(si,{value:v,onValueChange:q,children:[u.jsxs(li,{className:"grid w-full grid-cols-2",children:[u.jsx(Ln,{value:"visual",children:"Visual Editor"}),u.jsx(Ln,{value:"json",children:"JSON Editor"})]}),u.jsx(xr,{value:"visual",className:"space-y-2",children:R?M():H()}),u.jsx(xr,{value:"json",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"timed-json-editor",children:"JSON Editor"}),u.jsx("textarea",{id:"timed-json-editor",className:"w-full h-[300px] font-mono text-sm p-2 border rounded-md",value:x,onChange:Y=>{b(Y.target.value),E(null);try{const T=JSON.parse(Y.target.value);Array.isArray(T)||E("JSON must be an array")}catch{E("Invalid JSON format")}}}),k&&u.jsx("p",{className:"text-sm text-destructive",children:k})]})})]})]}),u.jsxs(Lr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ye,{onClick:D,children:"Save"})]})]})})}const P6=({colorSets:e})=>{var I,F,W,z,B,X,G;const[t,n]=S.useState(!1),[r,o]=S.useState(!1),[i,l]=S.useState(null),c=me(A=>A.activePetriNetId),d=me(A=>{const O=A.activePetriNetId?A.petriNetsById[A.activePetriNetId]:null;return O==null?void 0:O.selectedElement}),f=me(A=>A.updateNodeData);if(!d||d.type!=="node"||!d.element)return u.jsx("div",{children:"No node selected"});const{id:m,data:p}=d.element;if(!("colorSet"in p))return u.jsx("div",{children:"Invalid node type"});const g=e.find(A=>A.name===p.colorSet),x=(g==null?void 0:g.type)==="basic"&&((I=g==null?void 0:g.definition)==null?void 0:I.includes("= unit;")),b=(g==null?void 0:g.timed)===!0,v=()=>{var O;if(!g)return"other";const A=((O=g.definition)==null?void 0:O.toLowerCase())||"";return A.includes("= unit")?"unit":A.includes("= int")?"int":A.includes("= bool")?"bool":A.includes("= string")?"string":"other"},w=A=>{if(!A)return[];try{const O=JSON.parse(A);if(Array.isArray(O))return O.map($=>typeof $=="object"&&$!==null&&"value"in $&&"timestamp"in $?{value:$.value,timestamp:Number($.timestamp)||0}:{value:$,timestamp:0})}catch{try{const O=JSON.parse(A);if(Array.isArray(O))return O.map($=>({value:$,timestamp:0}))}catch{}}return[]},k=A=>A.length===0?"":JSON.stringify(A.map(O=>({value:O.value,timestamp:O.timestamp}))),E=A=>{if(!A)return 0;const O=A.trim();if(/^\d+$/.test(O))return parseInt(O,10);if(O.startsWith("["))try{const $=O.match(/\(\)/g);return $?$.length:0}catch{return 0}return 0},C=A=>A<=0?"":`[${Array(A).fill("()").join(", ")}]`,_=A=>{const O=e.find($=>$.name===A);if(!O||O.type!=="record")return[];if(A==="Product")return[{name:"id",type:"INT"},{name:"name",type:"STRING"},{name:"price",type:"REAL"}];if(A==="Order")return[{name:"orderId",type:"STRING"},{name:"status",type:"STRING"},{name:"amount",type:"INT"}];try{const $=/colset\s+(\w+)\s*=\s*record\s+([^;]+);/i,q=/(\w+)\s*:\s*(\w+)/g,D=O.definition.match($);if(!D)return[];const U=D[2],M=[];let H;for(;(H=q.exec(U))!==null;)M.push({name:H[1],type:H[2].toUpperCase()});return M}catch($){return console.error("Failed to parse record definition:",$),[]}},R=A=>{if(!A)return[];try{if(A.trim().startsWith("["))return JSON.parse(A);const O=/(\d+)`\{([^}]+)\}/g,$=[];let q;for(;(q=O.exec(A))!==null;){const D=Number.parseInt(q[1],10),U=q[2],M=/(\w+)=([^,]+)(?:,|$)/g,H={};let Y;for(;(Y=M.exec(U))!==null;){let T=Y[2].trim();const V=Y[1];isNaN(Number(T))?T.toLowerCase()==="true"||T.toLowerCase()==="false"?H[V]=T.toLowerCase()==="true":((T.startsWith('"')&&T.endsWith('"')||T.startsWith("'")&&T.endsWith("'"))&&(T=T.substring(1,T.length-1)),H[V]=T):T.includes(".")?H[V]=Number.parseFloat(T):H[V]=Number.parseInt(T,10)}for(let T=0;T<D;T++)$.push({...H})}return $}catch(O){return console.error("Failed to parse initial marking:",O),[]}},P=A=>{if(!A||A.length===0)return"";try{return JSON.stringify(A)}catch(O){return console.error("Failed to format record marking:",O),""}};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(Ae,{htmlFor:"label",children:"Label"}),u.jsx(jr,{id:"label",value:p.label||"",onChange:A=>{c&&f(c,m,{...p,label:A.target.value,isArcMode:p.isArcMode||!1,type:p.type||"node",colorSet:p.colorSet||"INT",initialMarking:p.initialMarking||""})}})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(Ae,{htmlFor:"colorSet",children:"Color Set"}),u.jsxs(ln,{value:p.colorSet||"INT",onValueChange:A=>{c&&f(c,m,{...p,label:p.label||"",colorSet:A,isArcMode:p.isArcMode||!1,type:p.type||"node",initialMarking:p.initialMarking||""})},children:[u.jsx(cn,{children:u.jsx(an,{placeholder:"Select color set"})}),u.jsx(un,{children:e.map(A=>u.jsx(gt,{value:A.name,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:A.color||"#3b82f6"}}),A.name]})},A.id))})]})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(Ae,{htmlFor:"initialMarking",children:"Initial Marking"}),x&&!b?u.jsx(jr,{id:"initialMarking",type:"number",min:"0",value:E(p.initialMarking||""),onChange:A=>{if(c){const O=parseInt(A.target.value,10)||0;f(c,m,{...p,label:p.label||"",initialMarking:C(O),isArcMode:p.isArcMode||!1,type:p.type||"defaultType",colorSet:p.colorSet||"defaultColorSet"})}}}):b?u.jsx("div",{className:"flex flex-col gap-2",children:u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsxs("div",{className:"flex-1 text-sm text-muted-foreground border rounded-md px-3 py-2 bg-muted/30",children:[w(p.initialMarking||"").length," timed token(s)"]}),u.jsx(ye,{variant:"outline",onClick:()=>{l({id:m,data:{...p}}),o(!0)},children:"Edit"})]})}):u.jsx("div",{className:"flex flex-col gap-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(jr,{id:"initialMarking",value:p.initialMarking||"",placeholder:"e.g., [1, 2, 3]",onChange:A=>{c&&f(c,m,{...p,label:p.label||"",initialMarking:A.target.value,isArcMode:p.isArcMode||!1,type:p.type||"defaultType",colorSet:p.colorSet||"defaultColorSet"})}}),u.jsx(ye,{variant:"outline",onClick:()=>{l({id:m,data:{...p}}),n(!0)},children:"Edit"})]})})]}),i&&u.jsxs(u.Fragment,{children:[u.jsx(S6,{open:t,onOpenChange:A=>{A?Qa():Ja(),n(A)},colorSetName:((F=i.data)==null?void 0:F.colorSet)||"",attributes:_(((W=i.data)==null?void 0:W.colorSet)||""),initialData:R(((z=i.data)==null?void 0:z.initialMarking)||""),onSave:A=>{const O=P(A);c&&i&&f(c,i.id,{label:i.data.label||"",isArcMode:i.data.isArcMode||!1,type:i.data.type||"place",colorSet:i.data.colorSet||"INT",initialMarking:O,marking:A})}}),u.jsx(_6,{open:r,onOpenChange:A=>{A?Qa():Ja(),o(A)},colorSetName:((B=i.data)==null?void 0:B.colorSet)||"",colorSetType:v(),recordAttributes:_(((X=i.data)==null?void 0:X.colorSet)||""),initialData:w(((G=i.data)==null?void 0:G.initialMarking)||""),onSave:A=>{const O=k(A);c&&i&&f(c,i.id,{label:i.data.label||"",isArcMode:i.data.isArcMode||!1,type:i.data.type||"place",colorSet:i.data.colorSet||"INT",initialMarking:O,marking:A})}})]})]})};function A6({value:e,onChange:t}){const[n,r]=S.useState(""),[o,i]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(e||"");S.useEffect(()=>{if(!e){r(""),i(""),c(""),f(`input ();
output ();
action
();`);return}f(e);try{const w=e.match(/input\s*$$(.*?)$$;/s),k=e.match(/output\s*$$(.*?)$$;/s),E=e.match(/action\s*(.*?)(?:$$$$;|$$$$$)/s);r(w?w[1]:""),i(k?k[1]:""),c(E?E[1].trim():"")}catch(w){console.error("Error parsing code segment:",w)}},[e]);const m=()=>{const w=`input (${n});
output (${o});
action
${l}();`;f(w),t(w)},p=w=>{r(w.target.value)},g=w=>{i(w.target.value)},x=w=>{c(w.target.value)},b=w=>{f(w.target.value),t(w.target.value)},v=()=>{m()};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs(si,{defaultValue:"structured",className:"w-full",children:[u.jsxs(li,{className:"grid w-full grid-cols-2",children:[u.jsx(Ln,{value:"structured",children:"Structured Editor"}),u.jsx(Ln,{value:"raw",children:"Raw Code"})]}),u.jsxs(xr,{value:"structured",className:"space-y-4 pt-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"input-pattern",children:"Input Pattern"}),u.jsx(Jo,{id:"input-pattern",placeholder:"n, b",className:"font-mono h-[60px]",value:n,onChange:p,onBlur:v}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"List the CPN variables that can be used in the code action, separated by commas."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"output-pattern",children:"Output Pattern"}),u.jsx(Jo,{id:"output-pattern",placeholder:"result",className:"font-mono h-[60px]",value:o,onChange:g,onBlur:v}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"List the CPN variables to be changed as a result of the execution, separated by commas."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"action-code",children:"Action Code"}),u.jsx(Jo,{id:"action-code",placeholder:"let val result = n + 1 in result end",className:"font-mono h-[120px]",value:l,onChange:x,onBlur:v}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"ML code to execute when the transition fires. Can use variables from input pattern and must return a value matching the output pattern."})]})]}),u.jsx(xr,{value:"raw",className:"pt-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"raw-code",children:"Code Segment"}),u.jsx(Jo,{id:"raw-code",placeholder:"input (n, b);\\noutput (result);\\naction\\nlet val result = n + 1 in result end();",className:"font-mono h-[240px]",value:d,onChange:b})]})})]}),u.jsx("div",{className:"pt-2",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:"Code segments may use CPN variables and can bind variables on output arcs. The action section is mandatory, while input and output are optional."})})]})}function T6(e){let t=Math.abs(e);const n=Math.floor(t/(1440*60*1e3));t%=1440*60*1e3;const r=Math.floor(t/(3600*1e3));t%=3600*1e3;const o=Math.floor(t/(60*1e3));t%=60*1e3;const i=Math.floor(t/1e3);return{ms:t%1e3,s:i,m:o,h:r,d:n}}function la(e){const t=[];return e.d>0&&t.push(`delay_days(${e.d})`),e.h>0&&t.push(`delay_hours(${e.h})`),e.m>0&&t.push(`delay_min(${e.m})`),e.s>0&&t.push(`delay_sec(${e.s})`),e.ms>0&&t.push(`delay_ms(${e.ms})`),t.length>0?t.join(" + "):""}function I6(e){if(!e||e.trim()==="")return{ms:0,s:0,m:0,h:0,d:0};const t=/delay_(days|hours|min|sec|ms)\s*\(\s*(\d+)\s*\)/g;let n=0,r=!1,o;if(e.replace(t,"").replace(/\+/g,"").trim()!=="")return null;for(t.lastIndex=0;(o=t.exec(e))!==null;){r=!0;const l=o[1],c=parseInt(o[2],10);switch(l){case"days":n+=c*24*60*60*1e3;break;case"hours":n+=c*60*60*1e3;break;case"min":n+=c*60*1e3;break;case"sec":n+=c*1e3;break;case"ms":n+=c;break}}return!r&&e.trim()!==""?null:T6(n)}const R6=({priorities:e})=>{const t=me(k=>k.activePetriNetId),n=me(k=>{const E=k.activePetriNetId?k.petriNetsById[k.activePetriNetId]:null;return E==null?void 0:E.selectedElement}),r=me(k=>k.updateNodeData),[o,i]=S.useState("relative"),[l,c]=S.useState({ms:0,s:0,m:0,h:0,d:0}),[d,f]=S.useState(""),[m,p]=S.useState(null),g=n&&n.type==="node"&&n.element,x=g?n.element.id:null,b=g?n.element.data:null;if(S.useEffect(()=>{if(x&&x!==m&&b){p(x);const k=b.time||"",E=I6(k);E!==null?(i("relative"),c(E),f(k)):(i("expression"),f(k),c({ms:0,s:0,m:0,h:0,d:0}))}},[x,m,b]),!g||!b)return u.jsx("div",{children:"No node selected"});const v=x,w=b;return"guard"in w?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(Ae,{htmlFor:"label",children:"Label"}),u.jsx(jr,{id:"label",value:w.label??"",onChange:k=>{t&&r(t,v,{...w,label:k.target.value,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet||"defaultColorSet",initialMarking:w.initialMarking||"defaultMarking"})}})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(Ae,{htmlFor:"guard",children:"Guard"}),u.jsx(jr,{id:"guard",value:w.guard||"",onChange:k=>{t&&r(t,v,{...w,label:w.label||"",guard:k.target.value,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet||"defaultColorSet",initialMarking:w.initialMarking||"defaultMarking"})}})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(Ae,{children:"Time"}),u.jsxs(si,{value:o,onValueChange:k=>i(k),className:"w-full",children:[u.jsxs(li,{className:"grid w-full grid-cols-2",children:[u.jsx(Ln,{value:"relative",children:"Relative"}),u.jsx(Ln,{value:"expression",children:"Expression"})]}),u.jsx(xr,{value:"relative",className:"mt-2",children:u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(jr,{type:"number",min:"0",value:l.d,onChange:k=>{const E={...l,d:parseInt(k.target.value,10)||0};c(E);const C=la(E);f(C),t&&r(t,v,{...w,label:w.label||"",time:C,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"d"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(jr,{type:"number",min:"0",max:"23",value:l.h,onChange:k=>{const E={...l,h:parseInt(k.target.value,10)||0};c(E);const C=la(E);f(C),t&&r(t,v,{...w,label:w.label||"",time:C,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"h"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(jr,{type:"number",min:"0",max:"59",value:l.m,onChange:k=>{const E={...l,m:parseInt(k.target.value,10)||0};c(E);const C=la(E);f(C),t&&r(t,v,{...w,label:w.label||"",time:C,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"m"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(jr,{type:"number",min:"0",max:"59",value:l.s,onChange:k=>{const E={...l,s:parseInt(k.target.value,10)||0};c(E);const C=la(E);f(C),t&&r(t,v,{...w,label:w.label||"",time:C,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"s"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(jr,{type:"number",min:"0",max:"999",value:l.ms,onChange:k=>{const E={...l,ms:parseInt(k.target.value,10)||0};c(E);const C=la(E);f(C),t&&r(t,v,{...w,label:w.label||"",time:C,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"w-16 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})]})}),u.jsxs(xr,{value:"expression",className:"mt-2",children:[u.jsx(Jo,{placeholder:"Rhai expression, e.g.: delay_hours(2) + delay_min(30)",value:d,onChange:k=>{const E=k.target.value;f(E),t&&r(t,v,{...w,label:w.label||"",time:E,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"min-h-[80px] font-mono text-sm"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available: delay_ms(), delay_sec(), delay_min(), delay_hours(), delay_days()"})]})]})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(Ae,{htmlFor:"priority",children:"Priority"}),u.jsxs(ln,{value:w.priority||"NONE",onValueChange:k=>{t&&r(t,v,{...w,label:w.label||"",priority:k,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,guard:w.guard||"",time:w.time||"",codeSegment:w.codeSegment||""})},children:[u.jsx(cn,{id:"priority",children:u.jsx(an,{placeholder:"Select priority"})}),u.jsxs(un,{children:[u.jsx(gt,{value:"NONE",children:"None"}),e.map(k=>u.jsxs(gt,{value:k.name,children:[k.name," (",k.level,")"]},k.id))]})]})]}),u.jsx(mc,{}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(Ae,{htmlFor:"codeSegment",children:"Code Segment"}),u.jsx(A6,{value:w.codeSegment||"",onChange:k=>{t&&r(t,v,{...w,label:w.label||"",codeSegment:k,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,guard:w.guard||"",time:w.time||"",priority:w.priority||"NONE"})}})]})]}):u.jsx("div",{children:"Invalid node type"})},M6=()=>{const e=me(i=>i.activePetriNetId),t=me(i=>{const l=i.activePetriNetId?i.petriNetsById[i.activePetriNetId]:null;return l==null?void 0:l.selectedElement}),n=me(i=>i.updateNodeData);if(!t||t.type!=="node"||!t.element)return u.jsx("div",{children:"No node selected"});const{id:r,data:o}=t.element;return u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(Ae,{htmlFor:"label",children:"Annotation"}),u.jsx(Jo,{id:"label",placeholder:"Annotation",className:"font-mono h-[100px]",value:o.label||"",onChange:i=>{e&&n(e,r,{...o,label:i.target.value,type:o.type||"auxText"})}})]})})},D6=()=>{const e=me(C=>C.activePetriNetId),t=me(C=>C.petriNetsById),n=me(C=>{const _=C.activePetriNetId?C.petriNetsById[C.activePetriNetId]:null;return _==null?void 0:_.selectedElement}),r=me(C=>C.updateEdgeLabel),o=me(C=>C.updateEdgeData),i=me(C=>C.swapEdgeDirection);if(!n||n.type!=="edge")return null;const{id:l,label:c,source:d,target:f,data:m}=n.element,p=(m==null?void 0:m.isBidirectional)??!1,g=C=>{var P;if(!e)return C;const _=t[e];if(!_)return C;const R=_.nodes.find(I=>I.id===C);return((P=R==null?void 0:R.data)==null?void 0:P.label)||C},x=C=>{if(!e)return"unknown";const _=t[e];if(!_)return"unknown";const R=_.nodes.find(P=>P.id===C);return(R==null?void 0:R.type)||"unknown"},b=g(d),v=g(f),w=x(d),k=()=>p?"bidirectional":"source-to-target",E=C=>{if(!e)return;const _=k();C!==_&&(C==="bidirectional"?o(e,l,{isBidirectional:!0}):_==="bidirectional"?(o(e,l,{isBidirectional:!1}),C==="target-to-source"&&i(e,l)):i(e,l))};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(Ae,{htmlFor:"direction",children:"Direction"}),u.jsxs(ln,{value:k(),onValueChange:C=>E(C),children:[u.jsx(cn,{id:"direction",children:u.jsx(an,{})}),u.jsxs(un,{children:[u.jsxs(gt,{value:"source-to-target",children:[b,"  ",v]}),u.jsxs(gt,{value:"target-to-source",children:[v,"  ",b]}),u.jsx(gt,{value:"bidirectional",children:"Bidirectional"})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:w==="place"?"Place  Transition":"Transition  Place"})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(Ae,{htmlFor:"inscription",children:"Inscription"}),u.jsx(Jo,{id:"inscription",value:c??"",rows:3,className:"font-mono text-sm",onChange:C=>{e&&r(e,l,C.target.value)}})]})]})};function O6({elementType:e,elementId:t,elementLabel:n}){const[r,o]=S.useState(!1),i=me(g=>g.activePetriNetId),l=me(g=>g.setNodes),c=me(g=>g.setEdges),d=me(g=>g.setSelectedElement),f=n||t,m=e==="node"?"element":"arc",p=()=>{if(!i)return;const x=me.getState().petriNetsById[i];if(x){if(e==="node"){const b=x.nodes.filter(w=>w.id!==t),v=x.edges.filter(w=>w.source!==t&&w.target!==t);l(i,b),c(i,v)}else{const b=x.edges.filter(v=>v.id!==t);c(i,b)}d(i,null),o(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx(ye,{variant:"outline",size:"icon",className:"text-muted-foreground hover:text-destructive",onClick:()=>o(!0),title:`Delete ${m}`,children:u.jsx(nr,{className:"h-4 w-4"})}),u.jsx(dn,{open:r,onOpenChange:o,children:u.jsxs(fn,{className:"max-w-sm",children:[u.jsxs(pn,{children:[u.jsxs(hn,{children:["Delete ",m]}),u.jsxs(ui,{children:["Are you sure you want to delete ",m==="arc"?"the arc":`"${f}"`,"?",e==="node"&&" All connected arcs will also be removed."," ","This action cannot be undone."]})]}),u.jsxs(Lr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),u.jsx(ye,{variant:"destructive",onClick:p,children:"Delete"})]})]})})]})}function WE({className:e,...t}){return u.jsx("div",{"data-slot":"card",className:qe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function YE({className:e,...t}){return u.jsx("div",{"data-slot":"card-header",className:qe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function L6({className:e,...t}){return u.jsx("div",{"data-slot":"card-title",className:qe("leading-none font-semibold",e),...t})}function XE({className:e,...t}){return u.jsx("div",{"data-slot":"card-content",className:qe("px-6",e),...t})}function z6(e,t){return S.useReducer((n,r)=>t[n][r]??n,e)}var Tx="ScrollArea",[qE]=Pn(Tx),[$6,yr]=qE(Tx),GE=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:i=600,...l}=e,[c,d]=S.useState(null),[f,m]=S.useState(null),[p,g]=S.useState(null),[x,b]=S.useState(null),[v,w]=S.useState(null),[k,E]=S.useState(0),[C,_]=S.useState(0),[R,P]=S.useState(!1),[I,F]=S.useState(!1),W=it(t,B=>d(B)),z=ii(o);return u.jsx($6,{scope:n,type:r,dir:z,scrollHideDelay:i,scrollArea:c,viewport:f,onViewportChange:m,content:p,onContentChange:g,scrollbarX:x,onScrollbarXChange:b,scrollbarXEnabled:R,onScrollbarXEnabledChange:P,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:I,onScrollbarYEnabledChange:F,onCornerWidthChange:E,onCornerHeightChange:_,children:u.jsx(Ue.div,{dir:z,...l,ref:W,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});GE.displayName=Tx;var KE="ScrollAreaViewport",QE=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...i}=e,l=yr(KE,n),c=S.useRef(null),d=it(t,c,l.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),u.jsx(Ue.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});QE.displayName=KE;var no="ScrollAreaScrollbar",JE=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=yr(no,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=o,c=e.orientation==="horizontal";return S.useEffect(()=>(c?i(!0):l(!0),()=>{c?i(!1):l(!1)}),[c,i,l]),o.type==="hover"?u.jsx(F6,{...r,ref:t,forceMount:n}):o.type==="scroll"?u.jsx(B6,{...r,ref:t,forceMount:n}):o.type==="auto"?u.jsx(ZE,{...r,ref:t,forceMount:n}):o.type==="always"?u.jsx(Ix,{...r,ref:t}):null});JE.displayName=no;var F6=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=yr(no,e.__scopeScrollArea),[i,l]=S.useState(!1);return S.useEffect(()=>{const c=o.scrollArea;let d=0;if(c){const f=()=>{window.clearTimeout(d),l(!0)},m=()=>{d=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",m)}}},[o.scrollArea,o.scrollHideDelay]),u.jsx(An,{present:n||i,children:u.jsx(ZE,{"data-state":i?"visible":"hidden",...r,ref:t})})}),B6=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=yr(no,e.__scopeScrollArea),i=e.orientation==="horizontal",l=Af(()=>d("SCROLL_END"),100),[c,d]=z6("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,o.scrollHideDelay,d]),S.useEffect(()=>{const f=o.viewport,m=i?"scrollLeft":"scrollTop";if(f){let p=f[m];const g=()=>{const x=f[m];p!==x&&(d("SCROLL"),l()),p=x};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[o.viewport,i,d,l]),u.jsx(An,{present:n||c!=="hidden",children:u.jsx(Ix,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Re(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Re(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),ZE=S.forwardRef((e,t)=>{const n=yr(no,e.__scopeScrollArea),{forceMount:r,...o}=e,[i,l]=S.useState(!1),c=e.orientation==="horizontal",d=Af(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;l(c?f:m)}},10);return ol(n.viewport,d),ol(n.content,d),u.jsx(An,{present:r||i,children:u.jsx(Ix,{"data-state":i?"visible":"hidden",...o,ref:t})})}),Ix=S.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=yr(no,e.__scopeScrollArea),i=S.useRef(null),l=S.useRef(0),[c,d]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=oj(c.viewport,c.content),m={...r,sizes:c,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:g=>l.current=g};function p(g,x){return X6(g,l.current,c,x)}return n==="horizontal"?u.jsx(V6,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const g=o.viewport.scrollLeft,x=r1(g,c,o.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollLeft=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollLeft=p(g,o.dir))}}):n==="vertical"?u.jsx(H6,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const g=o.viewport.scrollTop,x=r1(g,c);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollTop=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollTop=p(g))}}):null}),V6=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=yr(no,e.__scopeScrollArea),[l,c]=S.useState(),d=S.useRef(null),f=it(t,d,i.onScrollbarXChange);return S.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),u.jsx(tj,{"data-orientation":"horizontal",...o,ref:f,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Pf(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,p)=>{if(i.viewport){const g=i.viewport.scrollLeft+m.deltaX;e.onWheelScroll(g),sj(g,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Vd(l.paddingLeft),paddingEnd:Vd(l.paddingRight)}})}})}),H6=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=yr(no,e.__scopeScrollArea),[l,c]=S.useState(),d=S.useRef(null),f=it(t,d,i.onScrollbarYChange);return S.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),u.jsx(tj,{"data-orientation":"vertical",...o,ref:f,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Pf(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,p)=>{if(i.viewport){const g=i.viewport.scrollTop+m.deltaY;e.onWheelScroll(g),sj(g,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Vd(l.paddingTop),paddingEnd:Vd(l.paddingBottom)}})}})}),[U6,ej]=qE(no),tj=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:m,onResize:p,...g}=e,x=yr(no,n),[b,v]=S.useState(null),w=it(t,W=>v(W)),k=S.useRef(null),E=S.useRef(""),C=x.viewport,_=r.content-r.viewport,R=Mn(m),P=Mn(d),I=Af(p,10);function F(W){if(k.current){const z=W.clientX-k.current.left,B=W.clientY-k.current.top;f({x:z,y:B})}}return S.useEffect(()=>{const W=z=>{const B=z.target;(b==null?void 0:b.contains(B))&&R(z,_)};return document.addEventListener("wheel",W,{passive:!1}),()=>document.removeEventListener("wheel",W,{passive:!1})},[C,b,_,R]),S.useEffect(P,[r,P]),ol(b,I),ol(x.content,I),u.jsx(U6,{scope:n,scrollbar:b,hasThumb:o,onThumbChange:Mn(i),onThumbPointerUp:Mn(l),onThumbPositionChange:P,onThumbPointerDown:Mn(c),children:u.jsx(Ue.div,{...g,ref:w,style:{position:"absolute",...g.style},onPointerDown:Re(e.onPointerDown,W=>{W.button===0&&(W.target.setPointerCapture(W.pointerId),k.current=b.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),F(W))}),onPointerMove:Re(e.onPointerMove,F),onPointerUp:Re(e.onPointerUp,W=>{const z=W.target;z.hasPointerCapture(W.pointerId)&&z.releasePointerCapture(W.pointerId),document.body.style.webkitUserSelect=E.current,x.viewport&&(x.viewport.style.scrollBehavior=""),k.current=null})})})}),Bd="ScrollAreaThumb",nj=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ej(Bd,e.__scopeScrollArea);return u.jsx(An,{present:n||o.hasThumb,children:u.jsx(W6,{ref:t,...r})})}),W6=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,i=yr(Bd,n),l=ej(Bd,n),{onThumbPositionChange:c}=l,d=it(t,p=>l.onThumbChange(p)),f=S.useRef(void 0),m=Af(()=>{f.current&&(f.current(),f.current=void 0)},100);return S.useEffect(()=>{const p=i.viewport;if(p){const g=()=>{if(m(),!f.current){const x=q6(p,c);f.current=x,c()}};return c(),p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[i.viewport,m,c]),u.jsx(Ue.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Re(e.onPointerDownCapture,p=>{const x=p.target.getBoundingClientRect(),b=p.clientX-x.left,v=p.clientY-x.top;l.onThumbPointerDown({x:b,y:v})}),onPointerUp:Re(e.onPointerUp,l.onThumbPointerUp)})});nj.displayName=Bd;var Rx="ScrollAreaCorner",rj=S.forwardRef((e,t)=>{const n=yr(Rx,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(Y6,{...e,ref:t}):null});rj.displayName=Rx;var Y6=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=yr(Rx,n),[i,l]=S.useState(0),[c,d]=S.useState(0),f=!!(i&&c);return ol(o.scrollbarX,()=>{var p;const m=((p=o.scrollbarX)==null?void 0:p.offsetHeight)||0;o.onCornerHeightChange(m),d(m)}),ol(o.scrollbarY,()=>{var p;const m=((p=o.scrollbarY)==null?void 0:p.offsetWidth)||0;o.onCornerWidthChange(m),l(m)}),f?u.jsx(Ue.div,{...r,ref:t,style:{width:i,height:c,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Vd(e){return e?parseInt(e,10):0}function oj(e,t){const n=e/t;return isNaN(n)?0:n}function Pf(e){const t=oj(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function X6(e,t,n,r="ltr"){const o=Pf(n),i=o/2,l=t||i,c=o-l,d=n.scrollbar.paddingStart+l,f=n.scrollbar.size-n.scrollbar.paddingEnd-c,m=n.content-n.viewport,p=r==="ltr"?[0,m]:[m*-1,0];return ij([d,f],p)(e)}function r1(e,t,n="ltr"){const r=Pf(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,l=t.content-t.viewport,c=i-r,d=n==="ltr"?[0,l]:[l*-1,0],f=Za(e,d);return ij([0,l],[0,c])(f)}function ij(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function sj(e,t){return e>0&&e<t}var q6=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function o(){const i={left:e.scrollLeft,top:e.scrollTop},l=n.left!==i.left,c=n.top!==i.top;(l||c)&&t(),n=i,r=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(r)};function Af(e,t){const n=Mn(e),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ol(e,t){const n=Mn(t);yn(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var G6=GE,K6=QE,Q6=rj;function Tf({className:e,children:t,...n}){return u.jsxs(G6,{"data-slot":"scroll-area",className:qe("relative",e),...n,children:[u.jsx(K6,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),u.jsx(J6,{}),u.jsx(Q6,{})]})}function J6({className:e,orientation:t="vertical",...n}){return u.jsx(JE,{"data-slot":"scroll-area-scrollbar",orientation:t,className:qe("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:u.jsx(nj,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const Z6=jf("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function eV({className:e,variant:t,asChild:n=!1,...r}){const o=n?KC:"span";return u.jsx(o,{"data-slot":"badge",className:qe(Z6({variant:t}),e),...r})}function tV({events:e,onClearLog:t,onExport:n,canExport:r,exportDisabledReason:o}){const[i,l]=S.useState(""),[c,d]=S.useState(new Set),f=me(b=>b.simulationEpoch),m=f?new Date(f):null,p=b=>{const v=new Set(c);v.has(b)?v.delete(b):v.add(b),d(v)},g=e.filter(b=>b.transitionName.toLowerCase().includes(i.toLowerCase())||b.tokens.consumed.some(v=>v.placeName.toLowerCase().includes(i.toLowerCase()))||b.tokens.produced.some(v=>v.placeName.toLowerCase().includes(i.toLowerCase()))),x=b=>{if(m){const C=new Date(m.getTime()+b),_=C.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"}),R=C.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),P=C.getMilliseconds().toString().padStart(3,"0");return{date:_,time:`${R}.${P}`}}if(b===0)return{time:"0"};const v=b/1e3;if(v<60)return{time:`${v.toFixed(v%1===0?0:1)}s`};const w=v/60;if(w<60)return{time:`${w.toFixed(w%1===0?0:1)}m`};const k=w/60;if(k<24)return{time:`${k.toFixed(k%1===0?0:1)}h`};const E=k/24;return{time:`${E.toFixed(E%1===0?0:1)}d`}};return u.jsxs(WE,{className:"w-full h-full flex flex-col overflow-hidden",children:[u.jsxs(YE,{className:"pb-3 flex-shrink-0",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm font-semibold leading-none tracking-tight",children:"Event Log"}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(ye,{variant:"outline",size:"icon",onClick:t,title:"Clear Log",children:u.jsx(UT,{className:"h-4 w-4"})}),n&&u.jsxs(ye,{variant:"outline",onClick:n,disabled:!r,title:o||"Export as OCEL 2.0",className:"flex items-center gap-1 h-9 px-3",children:[u.jsx(QA,{className:"h-4 w-4"}),"Export OCEL"]})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx(AT,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),u.jsx(ct,{placeholder:"Search events...",className:"pl-8",value:i,onChange:b=>l(b.target.value)})]})]}),u.jsx(XE,{className:"flex-1 overflow-hidden min-h-0",children:u.jsx(Tf,{className:"h-full",children:g.length===0?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.length===0?"No events recorded yet":"No events match your search"}):u.jsx("div",{className:"space-y-2",children:g.map(b=>u.jsxs("div",{className:"border rounded-md p-3 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>p(b.id),children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(eV,{variant:"outline",children:b.step}),u.jsx("span",{className:"font-medium",children:b.transitionName})]}),u.jsxs("div",{className:"flex items-center space-x-1.5 text-muted-foreground",children:[u.jsx(Og,{className:"h-3 w-3 flex-shrink-0"}),(()=>{const v=x(b.time);return v.date?u.jsxs("div",{className:"text-right text-xs leading-tight",children:[u.jsx("div",{children:v.date}),u.jsx("div",{children:v.time})]}):u.jsx("span",{className:"text-sm",children:v.time})})()]})]}),c.has(b.id)&&u.jsxs("div",{className:"mt-2 pt-2 border-t text-sm space-y-3 overflow-hidden",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("h4",{className:"font-medium mb-1",children:"Consumed Tokens:"}),b.tokens.consumed.length===0?u.jsx("p",{className:"text-muted-foreground text-xs pl-2",children:"None"}):u.jsx("ul",{className:"space-y-1 pl-2 text-xs",children:b.tokens.consumed.map((v,w)=>u.jsxs("li",{className:"min-w-0",children:[u.jsxs("span",{className:"text-muted-foreground",children:[v.placeName,":"]}),u.jsx("span",{className:"font-mono bg-muted px-1 rounded ml-2 break-all whitespace-pre-wrap",children:v.tokens})]},`consumed-${w}`))})]}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("h4",{className:"font-medium mb-1",children:"Produced Tokens:"}),b.tokens.produced.length===0?u.jsx("p",{className:"text-muted-foreground text-xs pl-2",children:"None"}):u.jsx("ul",{className:"space-y-1 pl-2 text-xs",children:b.tokens.produced.map((v,w)=>u.jsxs("li",{className:"min-w-0",children:[u.jsxs("span",{className:"text-muted-foreground",children:[v.placeName,":"]}),u.jsx("span",{className:"font-mono bg-muted px-1 rounded ml-2 break-all whitespace-pre-wrap",children:v.tokens})]},`produced-${w}`))})]})]})]},b.id))})})})]})}var Mx="Radio",[nV,lj]=Pn(Mx),[rV,oV]=nV(Mx),aj=S.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:o=!1,required:i,disabled:l,value:c="on",onCheck:d,form:f,...m}=e,[p,g]=S.useState(null),x=it(t,w=>g(w)),b=S.useRef(!1),v=p?f||!!p.closest("form"):!0;return u.jsxs(rV,{scope:n,checked:o,disabled:l,children:[u.jsx(Ue.button,{type:"button",role:"radio","aria-checked":o,"data-state":fj(o),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:x,onClick:Re(e.onClick,w=>{o||d==null||d(),v&&(b.current=w.isPropagationStopped(),b.current||w.stopPropagation())})}),v&&u.jsx(dj,{control:p,bubbles:!b.current,name:r,value:c,checked:o,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});aj.displayName=Mx;var cj="RadioIndicator",uj=S.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...o}=e,i=oV(cj,n);return u.jsx(An,{present:r||i.checked,children:u.jsx(Ue.span,{"data-state":fj(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t})})});uj.displayName=cj;var iV="RadioBubbleInput",dj=S.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...o},i)=>{const l=S.useRef(null),c=it(l,i),d=bf(n),f=vf(t);return S.useEffect(()=>{const m=l.current;if(!m)return;const p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==n&&x){const b=new Event("click",{bubbles:r});x.call(m,n),m.dispatchEvent(b)}},[d,n,r]),u.jsx(Ue.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:c,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});dj.displayName=iV;function fj(e){return e?"checked":"unchecked"}var sV=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],If="RadioGroup",[lV]=Pn(If,[dl,lj]),pj=dl(),hj=lj(),[aV,cV]=lV(If),mj=S.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:o,value:i,required:l=!1,disabled:c=!1,orientation:d,dir:f,loop:m=!0,onValueChange:p,...g}=e,x=pj(n),b=ii(f),[v,w]=_n({prop:i,defaultProp:o??null,onChange:p,caller:If});return u.jsx(aV,{scope:n,name:r,required:l,disabled:c,value:v,onValueChange:w,children:u.jsx(dx,{asChild:!0,...x,orientation:d,dir:b,loop:m,children:u.jsx(Ue.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":c?"":void 0,dir:b,...g,ref:t})})})});mj.displayName=If;var gj="RadioGroupItem",xj=S.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...o}=e,i=cV(gj,n),l=i.disabled||r,c=pj(n),d=hj(n),f=S.useRef(null),m=it(t,f),p=i.value===o.value,g=S.useRef(!1);return S.useEffect(()=>{const x=v=>{sV.includes(v.key)&&(g.current=!0)},b=()=>g.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",b)}},[]),u.jsx(fx,{asChild:!0,...c,focusable:!l,active:p,children:u.jsx(aj,{disabled:l,required:i.required,checked:p,...d,...o,name:i.name,ref:m,onCheck:()=>i.onValueChange(o.value),onKeyDown:Re(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:Re(o.onFocus,()=>{var x;g.current&&((x=f.current)==null||x.click())})})})});xj.displayName=gj;var uV="RadioGroupIndicator",yj=S.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,o=hj(n);return u.jsx(uj,{...o,...r,ref:t})});yj.displayName=uV;var dV=mj,fV=xj,pV=yj;function vj({className:e,...t}){return u.jsx(dV,{"data-slot":"radio-group",className:qe("grid gap-3",e),...t})}function Ys({className:e,...t}){return u.jsx(fV,{"data-slot":"radio-group-item",className:qe("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(pV,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:u.jsx(bS,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function hV({open:e,onOpenChange:t,onExport:n}){const[r,o]=S.useState("json"),i=()=>{n(r),t(!1)};return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:"sm:max-w-[425px]",children:[u.jsxs(pn,{children:[u.jsx(hn,{children:"Export as OCEL 2.0"}),u.jsx(ui,{children:"Choose a format to export your simulation data as an Object-Centric Event Log (OCEL 2.0)."})]}),u.jsx("div",{className:"py-4",children:u.jsxs(vj,{value:r,onValueChange:l=>o(l),className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Ys,{value:"json",id:"json"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Ae,{htmlFor:"json",className:"font-medium",children:"JSON"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Standard JSON format for OCEL 2.0. Best for web applications and analysis tools."})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Ys,{value:"xml",id:"xml",disabled:!0}),u.jsxs("div",{className:"grid gap-1.5 opacity-50",children:[u.jsx(Ae,{htmlFor:"xml",className:"font-medium",children:"XML"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"XML format for OCEL 2.0. Good for compatibility with legacy systems. (Coming soon)"})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Ys,{value:"sqlite",id:"sqlite",disabled:!0}),u.jsxs("div",{className:"grid gap-1.5 opacity-50",children:[u.jsx(Ae,{htmlFor:"sqlite",className:"font-medium",children:"SQLite"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"SQLite database format. Best for large event logs and direct database queries. (Coming soon)"})]})]})]})}),u.jsxs(Lr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ye,{onClick:i,children:"Export"})]})]})})}const mV={stepsPerRun:50,animationDelayMs:500},Rf=S.createContext(null);function gV(e){if(e&&typeof e=="object"){const t=e;if("id"in t)return t.id;if("ID"in t)return t.ID}return null}function o1(e,t){const n=t.toLowerCase(),r=gV(e);if(r!==null)return`${n}_${r}`;const o=JSON.stringify(e).split("").reduce((i,l)=>(i=(i<<5)-i+l.charCodeAt(0),i&i),0);return`${n}_${Math.abs(o)}`}function xV(e,t,n,r,o){const i=[],l=t.filter(g=>g.type==="record");for(const g of l){const x=[],b=g.definition.match(/=\s*record\s+(.+);/);if(b){const w=b[1].split("*").map(k=>k.trim());for(const k of w){const[E,C]=k.split(":").map(_=>_.trim());E&&C&&E.toLowerCase()!=="id"&&x.push({name:E.toLowerCase(),type:C.toLowerCase()})}}i.push({name:g.name,attributes:x})}const c=n.map(g=>({name:g.name||g.id,attributes:[]})),d=new Map;for(const g of r)d.set(g.id,g.colorSet);const f=new Map,m=[],p=o?new Date(o):null;for(const g of e){const x=`e${g.step}`,b=g.transitionName,v=p?new Date(p.getTime()+g.time).toISOString():g.timestamp.toISOString(),w=new Map;for(const E of g.tokens.consumed){const C=d.get(E.placeId);if(l.some(R=>R.name===C)&&C)try{const R=JSON.parse(E.tokens);if(Array.isArray(R))for(const P of R){const I=o1(P,C);if(!f.has(I)){const F=[];if(P&&typeof P=="object")for(const[W,z]of Object.entries(P))W.toLowerCase()!=="id"&&F.push({name:W.toLowerCase(),time:v,value:String(z)});f.set(I,{id:I,type:C,attributes:F,relationships:[]})}w.set(I,C)}}catch{}}for(const E of g.tokens.produced){const C=d.get(E.placeId);if(l.some(R=>R.name===C)&&C)try{const R=JSON.parse(E.tokens);if(Array.isArray(R))for(const P of R){const I=o1(P,C);if(!f.has(I)){const F=[];if(P&&typeof P=="object")for(const[W,z]of Object.entries(P))W.toLowerCase()!=="id"&&F.push({name:W.toLowerCase(),time:v,value:String(z)});f.set(I,{id:I,type:C,attributes:F,relationships:[]})}w.set(I,C)}}catch{}}const k=Array.from(w.entries()).map(([E,C])=>({objectId:E,qualifier:C.toLowerCase()}));m.push({id:x,type:b,time:v,attributes:[],relationships:k})}return{objectTypes:i,eventTypes:c,objects:Array.from(f.values()),events:m}}function yV(){const e=S.useContext(Rf);if(!e)throw new Error("SimulationPanel must be used within a SimulationProvider");const{events:t,clearEvents:n,isInitialized:r,stepCounter:o,simulationTime:i,simulationConfig:l,setSimulationConfig:c}=e,d=me(G=>G.colorSets),f=me(G=>G.petriNetsById),m=me(G=>G.activePetriNetId),p=me(G=>G.simulationEpoch),g=me(G=>G.setSimulationEpoch),[x,b]=S.useState(!1),[v,w]=S.useState(!1),[k,E]=S.useState(l),C=G=>{if(!G)return"";const A=new Date(G);if(isNaN(A.getTime()))return G;const O=($,q=2)=>String($).padStart(q,"0");return`${A.getFullYear()}-${O(A.getMonth()+1)}-${O(A.getDate())}T${O(A.getHours())}:${O(A.getMinutes())}:${O(A.getSeconds())}.${O(A.getMilliseconds(),3)}`},[_,R]=S.useState(C(p)),P=G=>{G&&(E(l),R(C(p))),w(G)},I=()=>{if(c(k),_){const G=new Date(_);isNaN(G.getTime())?g(_):g(G.toISOString())}else g(null);w(!1)},F=S.useCallback(()=>{if(!m)return{transitions:[],places:[]};const G=f[m];if(!G)return{transitions:[],places:[]};const A=G.nodes.filter($=>$.type==="transition").map($=>{var q;return{id:$.id,name:((q=$.data)==null?void 0:q.label)||$.id}}),O=G.nodes.filter($=>$.type==="place").map($=>{var q,D;return{id:$.id,name:((q=$.data)==null?void 0:q.label)||$.id,colorSet:((D=$.data)==null?void 0:D.colorSet)||""}});return{transitions:A,places:O}},[m,f]),W=G=>{const{transitions:A,places:O}=F(),$=xV(t,d,A,O,p||null);let q="",D=`simulation_ocel2_${o}_events`,U="application/octet-stream";switch(G){case"json":q=JSON.stringify($,null,2),D+=".json",U="application/json";break;case"xml":q=`<?xml version="1.0" encoding="UTF-8"?>
<ocel>
  <objectTypes>
${$.objectTypes.map(T=>`    <objectType name="${T.name}">
${T.attributes.map(V=>`      <attribute name="${V.name}" type="${V.type}"/>`).join(`
`)}
    </objectType>`).join(`
`)}
  </objectTypes>
  <eventTypes>
${$.eventTypes.map(T=>`    <eventType name="${T.name}">
${T.attributes.map(V=>`      <attribute name="${V.name}" type="${V.type}"/>`).join(`
`)}
    </eventType>`).join(`
`)}
  </eventTypes>
  <objects>
${$.objects.map(T=>`    <object id="${T.id}" type="${T.type}">
${T.attributes.map(V=>`      <attribute name="${V.name}" time="${V.time}" value="${V.value}"/>`).join(`
`)}
    </object>`).join(`
`)}
  </objects>
  <events>
${$.events.map(T=>`    <event id="${T.id}" type="${T.type}" time="${T.time}">
${T.relationships.map(V=>`      <relationship objectId="${V.objectId}" qualifier="${V.qualifier}"/>`).join(`
`)}
    </event>`).join(`
`)}
  </events>
</ocel>`,D+=".xml",U="application/xml";break;case"sqlite":q="SQLite format not yet implemented - please use JSON or XML format",D+=".txt",U="text/plain";break}const M=new Blob([q],{type:U}),H=URL.createObjectURL(M),Y=document.createElement("a");Y.href=H,Y.download=D,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(H),b(!1)},z=r&&t.length>0,B=p?new Date(p):null,X=G=>{if(G==null&&(G=0),B){const A=new Date(B.getTime()+G),O=A.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"}),$=A.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),q=A.getMilliseconds().toString().padStart(3,"0");return`${O}, ${$}.${q}`}if(G===0)return"0ms";if(G<1e3)return`${G}ms`;if(G<6e4)return`${(G/1e3).toFixed(1)}s`;if(G<36e5){const A=Math.floor(G/6e4),O=Math.floor(G%6e4/1e3);return`${A}m ${O}s`}else{const A=Math.floor(G/36e5),O=Math.floor(G%36e5/6e4),$=Math.floor(G%6e4/1e3);return`${A}h ${O}m ${$}s`}};return u.jsxs("div",{className:"flex flex-col h-full gap-3 overflow-hidden",children:[u.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card flex-shrink-0",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("span",{className:"text-sm font-semibold leading-none tracking-tight",children:"Simulation Status"}),u.jsx(ye,{variant:"outline",size:"icon",onClick:()=>w(!0),title:"Simulation Settings",children:u.jsx(CS,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pT,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Step"}),u.jsx("div",{className:"text-lg font-mono font-semibold",children:o??0})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Og,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Time"}),u.jsx("div",{className:"text-lg font-mono font-semibold",children:X(i)})]})]})]})]}),u.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:u.jsx(tV,{events:t,onClearLog:n,onExport:()=>b(!0),canExport:z,exportDisabledReason:r?t.length===0?"No simulation events to export":void 0:"Simulation not initialized"})}),u.jsx(hV,{open:x,onOpenChange:b,onExport:W}),u.jsx(dn,{open:v,onOpenChange:P,children:u.jsxs(fn,{className:"sm:max-w-[480px]",children:[u.jsx(pn,{children:u.jsx(hn,{children:"Simulation Settings"})}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(Ae,{htmlFor:"stepsPerRun",className:"text-right col-span-2",children:"Steps per run"}),u.jsx(ct,{id:"stepsPerRun",type:"number",min:1,max:1e3,value:k.stepsPerRun,onChange:G=>E({...k,stepsPerRun:parseInt(G.target.value)||1}),className:"col-span-2"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(Ae,{htmlFor:"animationDelay",className:"text-right col-span-2",children:"Animation delay (ms)"}),u.jsx(ct,{id:"animationDelay",type:"number",min:0,max:5e3,step:50,value:k.animationDelayMs,onChange:G=>E({...k,animationDelayMs:parseInt(G.target.value)||0}),className:"col-span-2"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(Ae,{htmlFor:"simulationEpoch",className:"text-right col-span-2",children:"Simulation epoch"}),u.jsx(ct,{id:"simulationEpoch",type:"datetime-local",step:"0.001",value:_,onChange:G=>R(G.target.value),className:"col-span-2"}),u.jsxs("div",{className:"col-span-2 col-start-3 flex gap-2",children:[u.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:()=>{const G=new Date,A=($,q=2)=>String($).padStart(q,"0"),O=`${G.getFullYear()}-${A(G.getMonth()+1)}-${A(G.getDate())}T${A(G.getHours())}:${A(G.getMinutes())}:${A(G.getSeconds())}.${A(G.getMilliseconds(),3)}`;R(O)},children:"Now"}),u.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:()=>R(""),children:"Reset"})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"The simulation epoch is the real-world datetime that corresponds to simulation time 0. When set, simulation times will be displayed relative to this epoch."})]}),u.jsxs(Lr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),u.jsx(ye,{onClick:I,children:"Save"})]})]})})]})}var Mf="Checkbox",[vV]=Pn(Mf),[wV,Dx]=vV(Mf);function bV(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:o,disabled:i,form:l,name:c,onCheckedChange:d,required:f,value:m="on",internal_do_not_use_render:p}=e,[g,x]=_n({prop:n,defaultProp:o??!1,onChange:d,caller:Mf}),[b,v]=S.useState(null),[w,k]=S.useState(null),E=S.useRef(!1),C=b?!!l||!!b.closest("form"):!0,_={checked:g,disabled:i,setChecked:x,control:b,setControl:v,name:c,form:l,value:m,hasConsumerStoppedPropagationRef:E,required:f,defaultChecked:ei(o)?!1:o,isFormControl:C,bubbleInput:w,setBubbleInput:k};return u.jsx(wV,{scope:t,..._,children:SV(p)?p(_):r})}var wj="CheckboxTrigger",bj=S.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},o)=>{const{control:i,value:l,disabled:c,checked:d,required:f,setControl:m,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:b}=Dx(wj,e),v=it(o,m),w=S.useRef(d);return S.useEffect(()=>{const k=i==null?void 0:i.form;if(k){const E=()=>p(w.current);return k.addEventListener("reset",E),()=>k.removeEventListener("reset",E)}},[i,p]),u.jsx(Ue.button,{type:"button",role:"checkbox","aria-checked":ei(d)?"mixed":d,"aria-required":f,"data-state":Ej(d),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:v,onKeyDown:Re(t,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:Re(n,k=>{p(E=>ei(E)?!0:!E),b&&x&&(g.current=k.isPropagationStopped(),g.current||k.stopPropagation())})})});bj.displayName=wj;var Ox=S.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:i,required:l,disabled:c,value:d,onCheckedChange:f,form:m,...p}=e;return u.jsx(bV,{__scopeCheckbox:n,checked:o,defaultChecked:i,disabled:c,required:l,onCheckedChange:f,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:g})=>u.jsxs(u.Fragment,{children:[u.jsx(bj,{...p,ref:t,__scopeCheckbox:n}),g&&u.jsx(Nj,{__scopeCheckbox:n})]})})});Ox.displayName=Mf;var Sj="CheckboxIndicator",kj=S.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,i=Dx(Sj,n);return u.jsx(An,{present:r||ei(i.checked)||i.checked===!0,children:u.jsx(Ue.span,{"data-state":Ej(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});kj.displayName=Sj;var Cj="CheckboxBubbleInput",Nj=S.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:o,checked:i,defaultChecked:l,required:c,disabled:d,name:f,value:m,form:p,bubbleInput:g,setBubbleInput:x}=Dx(Cj,e),b=it(n,x),v=bf(i),w=vf(r);S.useEffect(()=>{const E=g;if(!E)return;const C=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(C,"checked").set,P=!o.current;if(v!==i&&R){const I=new Event("click",{bubbles:P});E.indeterminate=ei(i),R.call(E,ei(i)?!1:i),E.dispatchEvent(I)}},[g,v,i,o]);const k=S.useRef(ei(i)?!1:i);return u.jsx(Ue.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??k.current,required:c,disabled:d,name:f,value:m,form:p,...t,tabIndex:-1,ref:b,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Nj.displayName=Cj;function SV(e){return typeof e=="function"}function ei(e){return e==="indeterminate"}function Ej(e){return ei(e)?"indeterminate":e?"checked":"unchecked"}const jj=S.forwardRef(({className:e,...t},n)=>u.jsx(Ox,{ref:n,className:qe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:u.jsx(kj,{className:qe("flex items-center justify-center text-current"),children:u.jsx(xS,{className:"h-4 w-4"})})}));jj.displayName=Ox.displayName;function Df(){return(Df=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _j(e,t){if(e==null)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function hg(e){var t=S.useRef(e),n=S.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var nc=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Ra=function(e){return"touches"in e},mg=function(e){return e&&e.ownerDocument.defaultView||self},i1=function(e,t,n){var r=e.getBoundingClientRect(),o=Ra(t)?(function(i,l){for(var c=0;c<i.length;c++)if(i[c].identifier===l)return i[c];return i[0]})(t.touches,n):t;return{left:nc((o.pageX-(r.left+mg(e).pageXOffset))/r.width),top:nc((o.pageY-(r.top+mg(e).pageYOffset))/r.height)}},s1=function(e){!Ra(e)&&e.preventDefault()},Pj=Ye.memo(function(e){var t=e.onMove,n=e.onKey,r=_j(e,["onMove","onKey"]),o=S.useRef(null),i=hg(t),l=hg(n),c=S.useRef(null),d=S.useRef(!1),f=S.useMemo(function(){var x=function(w){s1(w),(Ra(w)?w.touches.length>0:w.buttons>0)&&o.current?i(i1(o.current,w,c.current)):v(!1)},b=function(){return v(!1)};function v(w){var k=d.current,E=mg(o.current),C=w?E.addEventListener:E.removeEventListener;C(k?"touchmove":"mousemove",x),C(k?"touchend":"mouseup",b)}return[function(w){var k=w.nativeEvent,E=o.current;if(E&&(s1(k),!(function(_,R){return R&&!Ra(_)})(k,d.current)&&E)){if(Ra(k)){d.current=!0;var C=k.changedTouches||[];C.length&&(c.current=C[0].identifier)}E.focus(),i(i1(E,k,c.current)),v(!0)}},function(w){var k=w.which||w.keyCode;k<37||k>40||(w.preventDefault(),l({left:k===39?.05:k===37?-.05:0,top:k===40?.05:k===38?-.05:0}))},v]},[l,i]),m=f[0],p=f[1],g=f[2];return S.useEffect(function(){return g},[g]),Ye.createElement("div",Df({},r,{onTouchStart:m,onMouseDown:m,className:"react-colorful__interactive",ref:o,onKeyDown:p,tabIndex:0,role:"slider"}))}),Lx=function(e){return e.filter(Boolean).join(" ")},Aj=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,i=Lx(["react-colorful__pointer",e.className]);return Ye.createElement("div",{className:i,style:{top:100*o+"%",left:100*n+"%"}},Ye.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Sn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},kV=function(e){return _V(gg(e))},gg=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Sn(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Sn(parseInt(e.substring(6,8),16)/255,2):1}},CV=function(e){return jV(EV(e))},NV=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Sn(e.h),s:Sn(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Sn(o/2),a:Sn(r,2)}},xg=function(e){var t=NV(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},EV=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),l=r*(1-n),c=r*(1-(t-i)*n),d=r*(1-(1-t+i)*n),f=i%6;return{r:Sn(255*[r,c,l,l,d,r][f]),g:Sn(255*[d,r,r,c,l,l][f]),b:Sn(255*[l,l,d,r,r,c][f]),a:Sn(o,2)}},ed=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},jV=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=o<1?ed(Sn(255*o)):"";return"#"+ed(t)+ed(n)+ed(r)+i},_V=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),l=i-Math.min(t,n,r),c=l?i===t?(n-r)/l:i===n?2+(r-t)/l:4+(t-n)/l:0;return{h:Sn(60*(c<0?c+6:c)),s:Sn(i?l/i*100:0),v:Sn(i/255*100),a:o}},PV=Ye.memo(function(e){var t=e.hue,n=e.onChange,r=Lx(["react-colorful__hue",e.className]);return Ye.createElement("div",{className:r},Ye.createElement(Pj,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:nc(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":Sn(t),"aria-valuemax":"360","aria-valuemin":"0"},Ye.createElement(Aj,{className:"react-colorful__hue-pointer",left:t/360,color:xg({h:t,s:100,v:100,a:1})})))}),AV=Ye.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:xg({h:t.h,s:100,v:100,a:1})};return Ye.createElement("div",{className:"react-colorful__saturation",style:r},Ye.createElement(Pj,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:nc(t.s+100*o.left,0,100),v:nc(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Sn(t.s)+"%, Brightness "+Sn(t.v)+"%"},Ye.createElement(Aj,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:xg(t)})))}),Tj=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},TV=function(e,t){return e.toLowerCase()===t.toLowerCase()||Tj(gg(e),gg(t))};function IV(e,t,n){var r=hg(n),o=S.useState(function(){return e.toHsva(t)}),i=o[0],l=o[1],c=S.useRef({color:t,hsva:i});S.useEffect(function(){if(!e.equal(t,c.current.color)){var f=e.toHsva(t);c.current={hsva:f,color:t},l(f)}},[t,e]),S.useEffect(function(){var f;Tj(i,c.current.hsva)||e.equal(f=e.fromHsva(i),c.current.color)||(c.current={hsva:i,color:f},r(f))},[i,e,r]);var d=S.useCallback(function(f){l(function(m){return Object.assign({},m,f)})},[]);return[i,d]}var RV=typeof window<"u"?S.useLayoutEffect:S.useEffect,MV=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},l1=new Map,DV=function(e){RV(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!l1.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,l1.set(t,n);var r=MV();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},OV=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,i=e.onChange,l=_j(e,["className","colorModel","color","onChange"]),c=S.useRef(null);DV(c);var d=IV(n,o,i),f=d[0],m=d[1],p=Lx(["react-colorful",t]);return Ye.createElement("div",Df({},l,{ref:c,className:p}),Ye.createElement(AV,{hsva:f,onChange:m}),Ye.createElement(PV,{hue:f.h,onChange:m,className:"react-colorful__last-control"}))},LV={defaultColor:"000",toHsva:kV,fromHsva:function(e){return CV({h:e.h,s:e.s,v:e.v,a:1})},equal:TV},zV=function(e){return Ye.createElement(OV,Df({},e,{colorModel:LV}))};function $V({colorSet:e,existingColorSets:t,onSave:n}){const[r,o]=S.useState((e==null?void 0:e.name)||""),[i,l]=S.useState((e==null?void 0:e.type)||"basic"),[c,d]=S.useState((e==null?void 0:e.definition)||""),[f,m]=S.useState((e==null?void 0:e.color)||"#3b82f6"),[p,g]=S.useState((e==null?void 0:e.timed)||!1),[x,b]=S.useState("visual"),[v,w]=S.useState("int"),[k,E]=S.useState(!1),[C,_]=S.useState("1"),[R,P]=S.useState("100"),[I,F]=S.useState([{id:rt(),name:"value1",value:"1"}]),[W,z]=S.useState("INT"),[B,X]=S.useState([]),[G,A]=S.useState([{id:rt(),name:"field1",type:"INT"}]),[O,$]=S.useState("INT"),[q,D]=S.useState("");S.useEffect(()=>{if(e){if(o(e.name),l(e.type),d(e.definition),g(e.timed||!1),e.type==="basic"){const Q=e.definition.match(/colset\s+\w+\s*=\s*(\w+)(?:\s+with\s+(\d+)\.\.(\d+))?/);Q&&(w(Q[1]),Q[2]&&Q[3]&&(E(!0),_(Q[2]),P(Q[3])))}else if(e.type==="list"){const Q=e.definition.match(/list\s+(\w+)/);if(Q){const ie=Q[1],le=t.find(de=>de.name===ie);le&&z(le.name)}}else if(e.type==="product"){const Q=e.definition.match(/product\s+([\w\s\*]+)/);if(Q){const ie=Q[1].split("*").map(le=>le.trim());X(ie)}}else if(e.type==="record"){const Q=e.definition.match(/record\s+([\w\s\:\*]+)/);if(Q){const ie=Q[1].split("*").map(le=>{const[de,fe]=le.split(":").map(ge=>ge.trim());return{id:rt(),name:de,type:fe}});A(ie)}}else if(e.type==="subset"){const Q=e.definition.match(/subset\s+(\w+)\s+by\s+(.+)/);Q&&($(Q[1]),D(Q[2]))}}},[e,t]);const U=()=>{F([...I,{id:rt(),name:`value${I.length+1}`,value:`${I.length+1}`}])},M=Q=>{F(I.filter(ie=>ie.id!==Q))},H=(Q,ie,le)=>{F(I.map(de=>de.id===Q?{...de,[ie]:le}:de))},Y=Q=>{Q&&!B.includes(Q)&&X([...B,Q])},T=Q=>{X(B.filter((ie,le)=>le!==Q))},V=()=>{A([...G,{id:rt(),name:`field${G.length+1}`,type:"INT"}])},Z=Q=>{A(G.filter(ie=>ie.id!==Q))},J=(Q,ie,le)=>{A(G.map(de=>de.id===Q?{...de,[ie]:le}:de))},K=()=>{let Q=`colset ${r} = `;switch(i){case"basic":Q+=v,k&&(Q+=` with ${C}..${R}`);break;case"enum":Q+=`with ${I.map(ie=>ie.name).join(" | ")}`;break;case"list":Q+=`list ${W}`;break;case"product":Q+=`product ${B.join(" * ")}`;break;case"record":Q+=`record ${G.map(ie=>`${ie.name}: ${ie.type}`).join(" * ")}`;break;case"subset":Q+=`subset ${O} by ${q}`;break;default:Q+=i}return p&&(Q+=" timed"),Q+=";",Q},te=()=>{const Q=x==="text"?c:K();n({name:r,type:i,definition:Q,color:f,timed:p})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"name",children:"Name"}),u.jsx(ct,{id:"name",placeholder:"e.g., DATA",value:r,onChange:Q=>o(Q.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"type",children:"Type"}),u.jsxs(ln,{value:i,onValueChange:l,children:[u.jsx(cn,{id:"type",children:u.jsx(an,{placeholder:"Select type"})}),u.jsxs(un,{children:[u.jsx(gt,{value:"basic",children:"Basic"}),u.jsx(gt,{value:"enum",children:"Enumerated"}),u.jsx(gt,{value:"list",children:"List"}),u.jsx(gt,{value:"product",children:"Product"}),u.jsx(gt,{value:"record",children:"Record"}),u.jsx(gt,{value:"subset",children:"Subset"}),u.jsx(gt,{value:"union",children:"Union"})]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"color",children:"Color"}),u.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[u.jsx(zV,{color:f,onChange:m}),u.jsx(ct,{id:"color",type:"text",value:f,onChange:Q=>m(Q.target.value),className:"w-full mt-2"})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(jj,{id:"timed",checked:p,onCheckedChange:Q=>g(Q===!0)}),u.jsx(Ae,{htmlFor:"timed",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Timed color set"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"(tokens carry timestamps for timed simulations)"})]}),u.jsxs(si,{defaultValue:"visual",className:"w-full",onValueChange:b,children:[u.jsxs(li,{className:"grid w-full grid-cols-2",children:[u.jsx(Ln,{value:"visual",children:"Visual Editor"}),u.jsx(Ln,{value:"text",children:"Text Editor"})]}),u.jsxs(xr,{value:"visual",className:"space-y-4 pt-4",children:[i==="basic"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{children:"Basic Type"}),u.jsxs(ln,{value:v,onValueChange:w,children:[u.jsx(cn,{children:u.jsx(an,{placeholder:"Select type"})}),u.jsxs(un,{children:[u.jsx(gt,{value:"int",children:"Integer"}),u.jsx(gt,{value:"bool",children:"Boolean"}),u.jsx(gt,{value:"string",children:"String"}),u.jsx(gt,{value:"unit",children:"Unit"}),u.jsx(gt,{value:"real",children:"Real"}),u.jsx(gt,{value:"time",children:"Time"})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",id:"withRange",checked:k,onChange:Q=>E(Q.target.checked),className:"rounded border-gray-300"}),u.jsx(Ae,{htmlFor:"withRange",children:"With Range"})]}),k&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"rangeStart",children:"Range Start"}),u.jsx(ct,{id:"rangeStart",type:"number",value:C,onChange:Q=>_(Q.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"rangeEnd",children:"Range End"}),u.jsx(ct,{id:"rangeEnd",type:"number",value:R,onChange:Q=>P(Q.target.value)})]})]})]}),i==="enum"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(Ae,{children:"Enumerated Values"}),I.map(Q=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ct,{placeholder:"Name",value:Q.name,onChange:ie=>H(Q.id,"name",ie.target.value),className:"flex-1"}),u.jsx(ct,{placeholder:"Value",value:Q.value,onChange:ie=>H(Q.id,"value",ie.target.value),className:"w-24"}),u.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>M(Q.id),children:u.jsx(nr,{className:"h-4 w-4"})})]},Q.id)),u.jsxs(ye,{variant:"outline",size:"sm",onClick:U,className:"mt-2",children:[u.jsx(Lm,{className:"h-4 w-4 mr-2"}),"Add Value"]})]}),i==="list"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{children:"Base Color Set"}),u.jsxs(ln,{value:W||"INT",onValueChange:z,children:[u.jsx(cn,{children:u.jsx(an,{placeholder:"Select base color set"})}),u.jsx(un,{children:t.map(Q=>u.jsx(gt,{value:Q.name,children:Q.name},Q.id))})]})]}),i==="product"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(Ae,{children:"Product Color Sets"}),B.map((Q,ie)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"flex-1 border rounded-md px-3 py-2",children:Q}),u.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>T(ie),children:u.jsx(nr,{className:"h-4 w-4"})})]},ie)),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsxs(ln,{defaultValue:"INT",onValueChange:Y,children:[u.jsx(cn,{children:u.jsx(an,{placeholder:"Add color set"})}),u.jsx(un,{children:t.map(Q=>u.jsx(gt,{value:Q.name,children:Q.name},Q.id))})]})})]}),i==="record"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(Ae,{children:"Record Fields"}),G.map(Q=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ct,{placeholder:"Field name",value:Q.name,onChange:ie=>J(Q.id,"name",ie.target.value),className:"flex-1"}),u.jsxs(ln,{value:Q.type,onValueChange:ie=>J(Q.id,"type",ie),children:[u.jsx(cn,{className:"w-[140px]",children:u.jsx(an,{placeholder:"Type"})}),u.jsx(un,{children:t.map(ie=>u.jsx(gt,{value:ie.name,children:ie.name},ie.id))})]}),u.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>Z(Q.id),children:u.jsx(nr,{className:"h-4 w-4"})})]},Q.id)),u.jsxs(ye,{variant:"outline",size:"sm",onClick:V,className:"mt-2",children:[u.jsx(Lm,{className:"h-4 w-4 mr-2"}),"Add Field"]})]}),i==="subset"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{children:"Subset of"}),u.jsxs(ln,{value:O||"INT",onValueChange:$,children:[u.jsx(cn,{children:u.jsx(an,{placeholder:"Select parent color set"})}),u.jsx(un,{children:t.map(Q=>u.jsx(gt,{value:Q.name,children:Q.name},Q.id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"predicate",children:"Predicate"}),u.jsx(ct,{id:"predicate",placeholder:"e.g., x => x > 0",value:q,onChange:Q=>D(Q.target.value)})]})]}),u.jsxs("div",{className:"pt-4",children:[u.jsx(Ae,{children:"Preview"}),u.jsx("div",{className:"font-mono text-sm mt-2 p-3 bg-muted rounded-md",children:K()})]})]}),u.jsx(xr,{value:"text",className:"pt-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"definition",children:"Color Set Definition"}),u.jsx(xc,{id:"definition",placeholder:"colset DATA = int with 1..100;",className:"font-mono h-[200px]",value:c,onChange:Q=>d(Q.target.value)})]})})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ye,{onClick:te,className:"w-full",children:"Save Color Set"})})]})}function FV({variable:e,existingColorSets:t,onSave:n}){const[r,o]=S.useState((e==null?void 0:e.name)||""),[i,l]=S.useState((e==null?void 0:e.colorSet)||"INT");S.useEffect(()=>{e&&(o(e.name),l(e.colorSet))},[e]);const c=()=>{n({name:r,colorSet:i})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(Ae,{htmlFor:"name",children:"Name"}),u.jsx(ct,{id:"name",placeholder:"e.g., n",value:r,onChange:d=>o(d.target.value)})]}),u.jsx("div",{className:"space-y-2 flex-none mt-auto pb-2",children:":"}),u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(Ae,{htmlFor:"baseColorSet",children:"Type"}),u.jsxs(ln,{value:i||"INT",onValueChange:l,children:[u.jsx(cn,{children:u.jsx(an,{placeholder:"Select color set"})}),u.jsx(un,{children:t.map(d=>u.jsx(gt,{value:d.name,children:d.name},d.id))})]})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ye,{onClick:c,className:"w-full",children:"Save Variable"})})]})}function BV({priority:e,onSave:t}){const[n,r]=S.useState((e==null?void 0:e.name)||""),[o,i]=S.useState((e==null?void 0:e.level)||100);S.useEffect(()=>{e&&(r(e.name),i(e.level))},[e]);const l=()=>{t({name:n,level:o})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(Ae,{htmlFor:"name",children:"Name"}),u.jsx(ct,{placeholder:"Name (e.g., P_MEDIUM)",className:"flex-1",value:n,onChange:c=>r(c.target.value)})]}),u.jsxs("div",{className:"space-y-2 flex-none",children:[u.jsx(Ae,{htmlFor:"baseColorSet",children:"Level"}),u.jsx(ct,{type:"number",placeholder:"Level (e.g., 250)",className:"w-[120px]",value:o||"",onChange:c=>i(Number(c.target.value))})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ye,{onClick:l,className:"w-full",children:"Save Priority"})})]})}function VV({existingFunction:e,onSave:t}){const[n,r]=S.useState(e||{id:rt(),name:"",code:""}),[o,i]=S.useState(e?e.code:"fn add(x,y) {x+y}"),l=d=>{i(d)},c=()=>{const d=o.split(" ")[1].split("(")[0].trim(),m={...n,name:d,code:o};r(m),t(m)};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"raw-code",children:"Function Definition"}),u.jsx(xc,{id:"raw-code",ref:d=>{d&&d.focus()},onFocus:d=>d.currentTarget.setSelectionRange(d.currentTarget.value.length,d.currentTarget.value.length),placeholder:"fn add(x,y) {x+y}",className:"font-mono h-[240px]",value:o,onChange:d=>l(d.target.value)})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ye,{onClick:c,className:"w-full",children:"Save Function"})})]})}function HV({existingUse:e,onSave:t}){const[n,r]=S.useState({name:(e==null?void 0:e.name)||"",content:(e==null?void 0:e.content)||""}),[o,i]=S.useState(!1),l=()=>{n.name.trim()&&t(n)},c=p=>{const g=new FileReader;if(g.onload=x=>{var v;const b=(v=x.target)==null?void 0:v.result;r(w=>({...w,content:b}))},g.readAsText(p),!n.name.trim()&&p.name){const x=p.name;r(b=>({...b,name:x}))}},d=p=>{p.preventDefault(),i(!0)},f=()=>{i(!1)},m=p=>{if(p.preventDefault(),i(!1),p.dataTransfer.files&&p.dataTransfer.files.length>0){const g=p.dataTransfer.files[0];c(g)}};return u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"use-name",children:"Name"}),u.jsx(ct,{id:"use-name",placeholder:"e.g., Utils.sml",value:n.name,onChange:p=>r({...n,name:p.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx(Ae,{htmlFor:"use-content",children:"Content"})}),u.jsxs("div",{className:"relative",children:[u.jsx(xc,{id:"use-content",placeholder:"Enter the content of the external file or drag and drop a file here...",className:`font-mono h-[300px] max-w-[550px] transition-colors ${o?"border-primary bg-primary/5":""}`,value:n.content,onChange:p=>r({...n,content:p.target.value}),onDragOver:d,onDragLeave:f,onDrop:m}),o&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-primary/10 border-2 border-dashed border-primary rounded-md pointer-events-none",children:u.jsx("div",{className:"bg-background p-3 rounded-md shadow-md",children:u.jsx("p",{className:"text-sm font-medium",children:"Drop file to import content"})})})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["This content will be included as an external file reference in the CPN model. You can edit it manually or",u.jsx("strong",{children:" drag and drop a file"})," directly onto the text area to import its content."]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ye,{className:"w-full",type:"submit",onClick:l,children:"Save Library"})})]})}var Of="Collapsible",[UV,Ij]=Pn(Of),[WV,zx]=UV(Of),Rj=S.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:i,onOpenChange:l,...c}=e,[d,f]=_n({prop:r,defaultProp:o??!1,onChange:l,caller:Of});return u.jsx(WV,{scope:n,disabled:i,contentId:gr(),open:d,onOpenToggle:S.useCallback(()=>f(m=>!m),[f]),children:u.jsx(Ue.div,{"data-state":Vx(d),"data-disabled":i?"":void 0,...c,ref:t})})});Rj.displayName=Of;var Mj="CollapsibleTrigger",$x=S.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,o=zx(Mj,n);return u.jsx(Ue.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Vx(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:t,onClick:Re(e.onClick,o.onOpenToggle)})});$x.displayName=Mj;var Fx="CollapsibleContent",Bx=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=zx(Fx,e.__scopeCollapsible);return u.jsx(An,{present:n||o.open,children:({present:i})=>u.jsx(YV,{...r,ref:t,present:i})})});Bx.displayName=Fx;var YV=S.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:o,...i}=e,l=zx(Fx,n),[c,d]=S.useState(r),f=S.useRef(null),m=it(t,f),p=S.useRef(0),g=p.current,x=S.useRef(0),b=x.current,v=l.open||c,w=S.useRef(v),k=S.useRef(void 0);return S.useEffect(()=>{const E=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(E)},[]),yn(()=>{const E=f.current;if(E){k.current=k.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const C=E.getBoundingClientRect();p.current=C.height,x.current=C.width,w.current||(E.style.transitionDuration=k.current.transitionDuration,E.style.animationName=k.current.animationName),d(r)}},[l.open,r]),u.jsx(Ue.div,{"data-state":Vx(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!v,...i,ref:m,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:v&&o})});function Vx(e){return e?"open":"closed"}var Dj=Rj,XV=$x,qV=Bx;function aa({...e}){return u.jsx(Dj,{"data-slot":"collapsible",...e})}function ca({...e}){return u.jsx($x,{"data-slot":"collapsible-trigger",...e})}function ua({...e}){return u.jsx(Bx,{"data-slot":"collapsible-content",...e})}function GV(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),[o,i]=S.useState(!1),[l,c]=S.useState(!1),[d,f]=S.useState(!1),m=me(re=>re.colorSets),p=me(re=>re.setColorSets),g=me(re=>re.addColorSet),x=me(re=>re.deleteColorSet),b=me(re=>re.renameColorSet),v=me(re=>re.variables),w=me(re=>re.setVariables),k=me(re=>re.addVariable),E=me(re=>re.deleteVariable),C=me(re=>re.priorities),_=me(re=>re.setPriorities),R=me(re=>re.addPriority),P=me(re=>re.deletePriority),I=me(re=>re.functions),F=me(re=>re.setFunctions),W=me(re=>re.addFunction),z=me(re=>re.deleteFunction),B=me(re=>re.uses),X=me(re=>re.setUses),G=me(re=>re.addUse),A=me(re=>re.deleteUse),[O,$]=S.useState({name:"",colorSet:"INT"}),[q,D]=S.useState({name:"",level:250}),[U,M]=S.useState(void 0),[H,Y]=S.useState(!1),[T,V]=S.useState(void 0),[Z,J]=S.useState(!1),[K,te]=S.useState(void 0),[Q,ie]=S.useState(!1),[le,de]=S.useState(void 0),[fe,ge]=S.useState(!1),[De,Me]=S.useState(void 0),[ot,tt]=S.useState(!1),[et,ke]=S.useState(null),[We,lt]=S.useState(null),vt=()=>{O.name&&O.colorSet&&(k({name:O.name,colorSet:O.colorSet}),$({name:"",colorSet:"INT"}))},Et=()=>{q.name&&q.level&&(R({name:q.name,level:Number(q.level)}),D({name:"",level:100}))},Tt=re=>{M(re),Y(!0)},ue=re=>{V(re),J(!0)},pe=re=>{te(re),ie(!0)},Pe=re=>{de(re),ge(!0)},je=re=>{if(le){const Ce=I.map(Be=>Be.id===le.id?{...Be,...re}:Be);F(Ce)}else W(re);ge(!1),de(void 0)},Xe=re=>{Me(re),tt(!0)},ut=re=>{if(De){const Ce=B.map(Be=>Be.id===De.id?{...Be,...re}:Be);X(Ce)}else G(re);tt(!1),Me(void 0)},bt=re=>{if(U){U.name!==re.name&&U.id&&b(U.id,re.name);const Ce=m.map(Be=>Be.id===U.id?{...Be,...re}:Be);p(Ce)}else g(re);Y(!1),M(void 0)},Ct=re=>{if(T){const Ce=v.map(Be=>Be.id===T.id?{...Be,...re}:Be);w(Ce)}else k(re);J(!1),V(void 0)},It=re=>{if(K){const Ce=C.map(Be=>Be.id===K.id?{...Be,...re}:Be);_(Ce)}else R(re);ie(!1),te(void 0)},_t=(re,Ce,Be)=>{ke(Ce),lt(Be),re.dataTransfer.effectAllowed="move",re.dataTransfer.setData("text/plain",Ce.id??"")},pt=(re,Ce)=>{re.preventDefault(),re.dataTransfer.dropEffect="move",et&&et.id!==Ce.id&&re.currentTarget.classList.add("bg-muted")},Pt=re=>{re.currentTarget.classList.remove("bg-muted")},he=(re,Ce)=>{if(re.preventDefault(),re.currentTarget.classList.remove("bg-muted"),!(!et||!We)&&et.id!==Ce.id){if(We==="colorSet"){const Ee=[...m],Ze=Ee.findIndex(Oe=>Oe.id===et.id),Fe=Ee.findIndex(Oe=>Oe.id===Ce.id);Ze!==-1&&Fe!==-1&&(Ee.splice(Ze,1),Ee.splice(Fe,0,et),p(Ee))}else if(We==="variable"){const Ee=[...v],Ze=Ee.findIndex(Oe=>Oe.id===et.id),Fe=Ee.findIndex(Oe=>Oe.id===Ce.id);Ze!==-1&&Fe!==-1&&(Ee.splice(Ze,1),Ee.splice(Fe,0,et),w(Ee))}else if(We==="priority"){const Ee=[...C],Ze=Ee.findIndex(Oe=>Oe.id===et.id),Fe=Ee.findIndex(Oe=>Oe.id===Ce.id);Ze!==-1&&Fe!==-1&&(Ee.splice(Ze,1),Ee.splice(Fe,0,et),_(Ee))}else if(We==="function"){const Ee=[...I],Ze=Ee.findIndex(Oe=>Oe.id===et.id),Fe=Ee.findIndex(Oe=>Oe.id===Ce.id);Ze!==-1&&Fe!==-1&&(Ee.splice(Ze,1),Ee.splice(Fe,0,et),F(Ee))}ke(null),lt(null)}},Ne=()=>{ke(null),lt(null)};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"space-y-3",children:u.jsxs(aa,{open:n,onOpenChange:r,children:[u.jsx(ca,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ye,{variant:"ghost",size:"sm",children:[n?u.jsx(Go,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Mi,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Color Sets"})]})}),u.jsxs(ua,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:m.map(re=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Ce=>_t(Ce,re,"colorSet"),onDragOver:Ce=>pt(Ce,re),onDragLeave:Pt,onDrop:Ce=>he(Ce,re),onDragEnd:Ne,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(xa,{className:"h-4 w-4 text-muted-foreground"})}),u.jsx("div",{className:"font-mono text-sm",children:re.definition.replace(/^colset\s+/i,"").replace(/;$/,"")}),re.timed&&u.jsx("span",{title:"Timed color set",children:u.jsx(Og,{className:"h-3.5 w-3.5 text-muted-foreground"})})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:re.color||"#3b82f6"}}),u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>Tt(re),children:u.jsx(ra,{className:"h-3 w-3"})}),u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>re.id&&x(re.id),children:u.jsx(nr,{className:"h-3 w-3"})})]})]})},re.id))}),u.jsxs(dn,{open:H,onOpenChange:Y,children:[u.jsx(ym,{asChild:!0,children:u.jsx(ye,{className:"w-full",variant:"outline",onClick:()=>{M(void 0),Y(!0)},children:"Create New Color Set"})}),u.jsxs(fn,{className:"sm:max-w-[600px]",children:[u.jsx(pn,{children:u.jsx(hn,{children:U?`Edit Color Set: ${U.name}`:"Create New Color Set"})}),u.jsx($V,{colorSet:U,existingColorSets:m,onSave:bt})]})]})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(aa,{open:o,onOpenChange:i,children:[u.jsx(ca,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ye,{variant:"ghost",size:"sm",children:[o?u.jsx(Go,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Mi,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Variables"})]})}),u.jsxs(ua,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:v.map(re=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Ce=>_t(Ce,re,"variable"),onDragOver:Ce=>pt(Ce,re),onDragLeave:Pt,onDrop:Ce=>he(Ce,re),onDragEnd:Ne,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(xa,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"font-mono text-sm",children:["var ",re.name,": ",re.colorSet,";"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>ue(re),children:u.jsx(ra,{className:"h-3 w-3"})}),u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>re.id&&E(re.id),children:u.jsx(nr,{className:"h-3 w-3"})})]})]})},re.id))}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ct,{placeholder:"Name (e.g., n)",className:"flex-1",value:O.name,onChange:re=>$({...O,name:re.target.value})})," :",u.jsxs(ln,{value:O.colorSet,onValueChange:re=>$({...O,colorSet:re}),children:[u.jsx(cn,{className:"w-[180px]",children:u.jsx(an,{placeholder:"Color Set"})}),u.jsx(un,{children:m.map(re=>u.jsx(gt,{value:re.name,children:re.name},re.id))})]})]}),u.jsx(ye,{size:"sm",variant:"outline",onClick:vt,children:"Add Variable"}),u.jsx(dn,{open:Z,onOpenChange:J,children:u.jsxs(fn,{className:"sm:max-w-[600px]",children:[u.jsx(pn,{children:u.jsx(hn,{children:T?`Edit Variable: ${T.name}`:"Create New Variable"})}),u.jsx(FV,{variable:T,existingColorSets:m,onSave:Ct})]})})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(aa,{open:l,onOpenChange:c,children:[u.jsx(ca,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ye,{variant:"ghost",size:"sm",children:[l?u.jsx(Go,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Mi,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Functions"})]})}),u.jsxs(ua,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:I.map(re=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Ce=>_t(Ce,re,"function"),onDragOver:Ce=>pt(Ce,re),onDragLeave:Pt,onDrop:Ce=>he(Ce,re),onDragEnd:Ne,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(xa,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"font-mono text-sm",children:["fn ",re.name]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>Pe(re),children:u.jsx(ra,{className:"h-3 w-3"})}),u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>re.id&&z(re.id),children:u.jsx(nr,{className:"h-3 w-3"})})]})]})},re.id))}),u.jsxs(dn,{open:fe,onOpenChange:ge,children:[u.jsx(ym,{asChild:!0,children:u.jsx(ye,{className:"w-full",variant:"outline",onClick:()=>de(void 0),children:"Create New Function"})}),u.jsxs(fn,{className:"sm:max-w-[600px]",children:[u.jsx(pn,{children:u.jsx(hn,{children:le?`Edit Function: ${le.name}`:"Create New Function"})}),u.jsx(VV,{existingFunction:le,onSave:je})]})]})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(aa,{open:d,onOpenChange:f,children:[u.jsx(ca,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ye,{variant:"ghost",size:"sm",children:[d?u.jsx(Go,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Mi,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Libraries"})]})}),u.jsxs(ua,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:B.map(re=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Ce=>_t(Ce,re,"use"),onDragOver:Ce=>pt(Ce,re),onDragLeave:Pt,onDrop:Ce=>he(Ce,re),onDragEnd:Ne,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(xa,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"font-mono text-sm",children:['use "',re.name,'";']})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>Xe(re),children:u.jsx(ra,{className:"h-3 w-3"})}),u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>re.id&&A(re.id),children:u.jsx(nr,{className:"h-3 w-3"})})]})]})},re.id))}),u.jsxs(dn,{open:ot,onOpenChange:tt,children:[u.jsx(ym,{asChild:!0,children:u.jsx(ye,{className:"w-full",variant:"outline",onClick:()=>Me(void 0),children:"Add External Library"})}),u.jsxs(fn,{className:"sm:max-w-[600px]",children:[u.jsx(pn,{children:u.jsx(hn,{children:De?"Edit External Library":"Add External Library"})}),u.jsx(HV,{existingUse:De,onSave:ut})]})]})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(aa,{open:e,onOpenChange:t,children:[u.jsx(ca,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ye,{variant:"ghost",size:"sm",children:[e?u.jsx(Go,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Mi,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Priorities"})]})}),u.jsxs(ua,{className:"space-y-3 mb-8",children:[u.jsx("div",{className:"space-y-2",children:C.slice().sort((re,Ce)=>re.level-Ce.level).map(re=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{className:"font-mono text-sm",children:[re.name," = ",re.level]})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>pe(re),children:u.jsx(ra,{className:"h-3 w-3"})}),u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>re.id&&P(re.id),children:u.jsx(nr,{className:"h-3 w-3"})})]})]})},re.id))}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ct,{placeholder:"Name (e.g., P_MEDIUM)",className:"flex-1",value:q.name,onChange:re=>D({...q,name:re.target.value})}),u.jsx(ct,{type:"number",placeholder:"Level (e.g., 250)",className:"w-[120px]",value:q.level||"",onChange:re=>D({...q,level:Number.parseInt(re.target.value)||0})})]}),u.jsx(ye,{size:"sm",variant:"outline",onClick:Et,children:"Add Priority"}),u.jsx(dn,{open:Q,onOpenChange:ie,children:u.jsxs(fn,{className:"sm:max-w-[600px]",children:[u.jsx(pn,{children:u.jsx(hn,{children:K?`Edit Priority: ${K.name}`:"Create New Priority"})}),u.jsx(BV,{priority:K,onSave:It})]})})]})]})})]})}const KV=()=>{var o;const e=me(i=>{const l=i.activePetriNetId?i.petriNetsById[i.activePetriNetId]:null;return l==null?void 0:l.selectedElement}),t=me(i=>i.colorSets),n=me(i=>i.priorities),r=()=>{if(!e)return u.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Select an element to edit its properties"});if(e.type==="node"){const i=e.element.type;if(i==="place")return u.jsx(P6,{colorSets:t});if(i==="transition")return u.jsx(R6,{priorities:n});if(i==="auxText")return u.jsx(M6,{})}else if(e.type==="edge")return u.jsx(D6,{});return null};return u.jsxs(ja,{defaultSize:20,className:"min-w-[400px] flex flex-col h-full overflow-hidden",children:[u.jsx("div",{className:"px-4 py-2 flex-shrink-0",children:u.jsx("h3",{className:"text-lg font-medium",children:"OCPN Tools"})}),u.jsx("div",{className:"px-4 py-2 flex-1 flex flex-col overflow-hidden",children:u.jsxs(si,{defaultValue:"model",className:"flex flex-col flex-1 overflow-hidden",children:[u.jsxs(li,{className:"grid w-full grid-cols-2 flex-shrink-0",children:[u.jsx(Ln,{value:"model",children:"Model"}),u.jsx(Ln,{value:"simulation",children:"Simulation"})]}),u.jsx(Rd,{value:"model",className:"space-y-4 mt-2 flex-1 overflow-auto",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"space-y-2",children:u.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("span",{className:"text-sm font-semibold leading-none tracking-tight",children:e?e.type==="node"?e.element.type==="place"?"Place Properties":e.element.type==="auxText"?"Text Properties":"Transition Properties":"Arc Properties":"Element Properties"}),e&&u.jsx(O6,{elementType:e.type==="node"?"node":"edge",elementId:e.element.id,elementLabel:(o=e.element.data)==null?void 0:o.label})]}),u.jsx("div",{children:r()})]})}),u.jsx(mc,{orientation:"horizontal",className:"mt-2"}),u.jsx("div",{className:"p-4",children:u.jsx(GV,{})})]})}),u.jsx(Rd,{value:"simulation",className:"mt-2 flex-1 overflow-hidden",children:u.jsx(yV,{})})]})})]})},QV="modulepreload",JV=function(e){return"/ocpn-tools/"+e},a1={},c1=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=l(n.map(f=>{if(f=JV(f),f in a1)return;a1[f]=!0;const m=f.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":QV,m||(g.as="script"),g.crossOrigin="",g.href=f,d&&g.setAttribute("nonce",d),document.head.appendChild(g),m)return new Promise((x,b)=>{g.addEventListener("load",x),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};function ZV(e){const t=me(l=>l.setNodes),n=me(l=>l.setEdges),r=S.useCallback(l=>{var f;const c=((f=me.getState().petriNetsById[e])==null?void 0:f.nodes)||[],d=xC(l,c);t(e,d)},[e,t]),o=S.useCallback(l=>{var f;const c=((f=me.getState().petriNetsById[e])==null?void 0:f.edges)||[],d=yC(l,c);n(e,d)},[e,n]),i=S.useCallback(l=>{var f;const c={...l,id:rt(),type:"floating",label:"",animated:!1},d=((f=me.getState().petriNetsById[e])==null?void 0:f.edges)||[];n(e,[...d,c])},[e,n]);return{onNodesChange:r,onEdgesChange:o,onConnect:i}}const u1=e=>Symbol.iterator in e,d1=e=>"entries"in e,f1=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[o,i]of n)if(!r.has(o)||!Object.is(i,r.get(o)))return!1;return!0},eH=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let o=n.next(),i=r.next();for(;!o.done&&!i.done;){if(!Object.is(o.value,i.value))return!1;o=n.next(),i=r.next()}return!!o.done&&!!i.done};function tH(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:u1(e)&&u1(t)?d1(e)&&d1(t)?f1(e,t):eH(e,t):f1({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function nH(e){const t=Ye.useRef(void 0);return n=>{const r=e(n);return tH(t.current,r)?t.current:t.current=r}}var Oj="Toggle",Hx=S.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:o,...i}=e,[l,c]=_n({prop:n,onChange:o,defaultProp:r??!1,caller:Oj});return u.jsx(Ue.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:Re(e.onClick,()=>{e.disabled||c(!l)})})});Hx.displayName=Oj;var rH=Hx;const Lj=jf("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function p1({className:e,variant:t,size:n,...r}){return u.jsx(rH,{"data-slot":"toggle",className:qe(Lj({variant:t,size:n,className:e})),...r})}var[Lf]=Pn("Tooltip",[hl]),zf=hl(),zj="TooltipProvider",oH=700,yg="tooltip.open",[iH,Ux]=Lf(zj),$j=e=>{const{__scopeTooltip:t,delayDuration:n=oH,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=e,l=S.useRef(!0),c=S.useRef(!1),d=S.useRef(0);return S.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),u.jsx(iH,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:S.useCallback(f=>{c.current=f},[]),disableHoverableContent:o,children:i})};$j.displayName=zj;var rc="Tooltip",[sH,bc]=Lf(rc),Fj=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o,onOpenChange:i,disableHoverableContent:l,delayDuration:c}=e,d=Ux(rc,e.__scopeTooltip),f=zf(t),[m,p]=S.useState(null),g=gr(),x=S.useRef(0),b=l??d.disableHoverableContent,v=c??d.delayDuration,w=S.useRef(!1),[k,E]=_n({prop:r,defaultProp:o??!1,onChange:I=>{I?(d.onOpen(),document.dispatchEvent(new CustomEvent(yg))):d.onClose(),i==null||i(I)},caller:rc}),C=S.useMemo(()=>k?w.current?"delayed-open":"instant-open":"closed",[k]),_=S.useCallback(()=>{window.clearTimeout(x.current),x.current=0,w.current=!1,E(!0)},[E]),R=S.useCallback(()=>{window.clearTimeout(x.current),x.current=0,E(!1)},[E]),P=S.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{w.current=!0,E(!0),x.current=0},v)},[v,E]);return S.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),u.jsx(kx,{...f,children:u.jsx(sH,{scope:t,contentId:g,open:k,stateAttribute:C,trigger:m,onTriggerChange:p,onTriggerEnter:S.useCallback(()=>{d.isOpenDelayedRef.current?P():_()},[d.isOpenDelayedRef,P,_]),onTriggerLeave:S.useCallback(()=>{b?R():(window.clearTimeout(x.current),x.current=0)},[R,b]),onOpen:_,onClose:R,disableHoverableContent:b,children:n})})};Fj.displayName=rc;var vg="TooltipTrigger",Bj=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=bc(vg,n),i=Ux(vg,n),l=zf(n),c=S.useRef(null),d=it(t,c,o.onTriggerChange),f=S.useRef(!1),m=S.useRef(!1),p=S.useCallback(()=>f.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),u.jsx(wf,{asChild:!0,...l,children:u.jsx(Ue.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:d,onPointerMove:Re(e.onPointerMove,g=>{g.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:Re(e.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:Re(e.onPointerDown,()=>{o.open&&o.onClose(),f.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Re(e.onFocus,()=>{f.current||o.onOpen()}),onBlur:Re(e.onBlur,o.onClose),onClick:Re(e.onClick,o.onClose)})})});Bj.displayName=vg;var Wx="TooltipPortal",[lH,aH]=Lf(Wx,{forceMount:void 0}),Vj=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:o}=e,i=bc(Wx,t);return u.jsx(lH,{scope:t,forceMount:n,children:u.jsx(An,{present:n||i.open,children:u.jsx(wc,{asChild:!0,container:o,children:r})})})};Vj.displayName=Wx;var il="TooltipContent",Hj=S.forwardRef((e,t)=>{const n=aH(il,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=e,l=bc(il,e.__scopeTooltip);return u.jsx(An,{present:r||l.open,children:l.disableHoverableContent?u.jsx(Uj,{side:o,...i,ref:t}):u.jsx(cH,{side:o,...i,ref:t})})}),cH=S.forwardRef((e,t)=>{const n=bc(il,e.__scopeTooltip),r=Ux(il,e.__scopeTooltip),o=S.useRef(null),i=it(t,o),[l,c]=S.useState(null),{trigger:d,onClose:f}=n,m=o.current,{onPointerInTransitChange:p}=r,g=S.useCallback(()=>{c(null),p(!1)},[p]),x=S.useCallback((b,v)=>{const w=b.currentTarget,k={x:b.clientX,y:b.clientY},E=pH(k,w.getBoundingClientRect()),C=hH(k,E),_=mH(v.getBoundingClientRect()),R=xH([...C,..._]);c(R),p(!0)},[p]);return S.useEffect(()=>()=>g(),[g]),S.useEffect(()=>{if(d&&m){const b=w=>x(w,m),v=w=>x(w,d);return d.addEventListener("pointerleave",b),m.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",b),m.removeEventListener("pointerleave",v)}}},[d,m,x,g]),S.useEffect(()=>{if(l){const b=v=>{const w=v.target,k={x:v.clientX,y:v.clientY},E=(d==null?void 0:d.contains(w))||(m==null?void 0:m.contains(w)),C=!gH(k,l);E?g():C&&(g(),f())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[d,m,l,f,g]),u.jsx(Uj,{...e,ref:i})}),[uH,dH]=Lf(rc,{isInside:!1}),fH=h$("TooltipContent"),Uj=S.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:l,...c}=e,d=bc(il,n),f=zf(n),{onClose:m}=d;return S.useEffect(()=>(document.addEventListener(yg,m),()=>document.removeEventListener(yg,m)),[m]),S.useEffect(()=>{if(d.trigger){const p=g=>{const x=g.target;x!=null&&x.contains(d.trigger)&&m()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,m]),u.jsx(yc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:p=>p.preventDefault(),onDismiss:m,children:u.jsxs(Cx,{"data-state":d.stateAttribute,...f,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(fH,{children:r}),u.jsx(uH,{scope:n,isInside:!0,children:u.jsx(PF,{id:d.contentId,role:"tooltip",children:o||r})})]})})});Hj.displayName=il;var Wj="TooltipArrow",Yj=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=zf(n);return dH(Wj,n).isInside?null:u.jsx(Nx,{...o,...r,ref:t})});Yj.displayName=Wj;function pH(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function hH(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function mH(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function gH(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const c=t[i],d=t[l],f=c.x,m=c.y,p=d.x,g=d.y;m>r!=g>r&&n<(p-f)*(r-m)/(g-m)+f&&(o=!o)}return o}function xH(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),yH(t)}function yH(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(o.y-l.y)>=(i.y-l.y)*(o.x-l.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const i=n[n.length-1],l=n[n.length-2];if((i.x-l.x)*(o.y-l.y)>=(i.y-l.y)*(o.x-l.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var vH=$j,wH=Fj,bH=Bj,SH=Vj,kH=Hj,CH=Yj;function Dn({delayDuration:e=0,...t}){return u.jsx(vH,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function mn({...e}){return u.jsx(Dn,{children:u.jsx(wH,{"data-slot":"tooltip",...e})})}function gn({...e}){return u.jsx(bH,{"data-slot":"tooltip-trigger",...e})}function xn({className:e,sideOffset:t=0,children:n,...r}){return u.jsx(SH,{children:u.jsxs(kH,{"data-slot":"tooltip-content",sideOffset:t,className:qe("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,u.jsx(CH,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}var $f="Popover",[Xj]=Pn($f,[hl]),Sc=hl(),[NH,di]=Xj($f),qj=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:l=!1}=e,c=Sc(t),d=S.useRef(null),[f,m]=S.useState(!1),[p,g]=_n({prop:r,defaultProp:o??!1,onChange:i,caller:$f});return u.jsx(kx,{...c,children:u.jsx(NH,{scope:t,contentId:gr(),triggerRef:d,open:p,onOpenChange:g,onOpenToggle:S.useCallback(()=>g(x=>!x),[g]),hasCustomAnchor:f,onCustomAnchorAdd:S.useCallback(()=>m(!0),[]),onCustomAnchorRemove:S.useCallback(()=>m(!1),[]),modal:l,children:n})})};qj.displayName=$f;var Gj="PopoverAnchor",EH=S.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=di(Gj,n),i=Sc(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=o;return S.useEffect(()=>(l(),()=>c()),[l,c]),u.jsx(wf,{...i,...r,ref:t})});EH.displayName=Gj;var Kj="PopoverTrigger",Qj=S.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=di(Kj,n),i=Sc(n),l=it(t,o.triggerRef),c=u.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":n_(o.open),...r,ref:l,onClick:Re(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?c:u.jsx(wf,{asChild:!0,...i,children:c})});Qj.displayName=Kj;var Yx="PopoverPortal",[jH,_H]=Xj(Yx,{forceMount:void 0}),Jj=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,i=di(Yx,t);return u.jsx(jH,{scope:t,forceMount:n,children:u.jsx(An,{present:n||i.open,children:u.jsx(wc,{asChild:!0,container:o,children:r})})})};Jj.displayName=Yx;var sl="PopoverContent",Zj=S.forwardRef((e,t)=>{const n=_H(sl,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,i=di(sl,e.__scopePopover);return u.jsx(An,{present:r||i.open,children:i.modal?u.jsx(AH,{...o,ref:t}):u.jsx(TH,{...o,ref:t})})});Zj.displayName=sl;var PH=nl("PopoverContent.RemoveScroll"),AH=S.forwardRef((e,t)=>{const n=di(sl,e.__scopePopover),r=S.useRef(null),o=it(t,r),i=S.useRef(!1);return S.useEffect(()=>{const l=r.current;if(l)return Ex(l)},[]),u.jsx(kf,{as:PH,allowPinchZoom:!0,children:u.jsx(e_,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),i.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Re(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Re(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),TH=S.forwardRef((e,t)=>{const n=di(sl,e.__scopePopover),r=S.useRef(!1),o=S.useRef(!1);return u.jsx(e_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),e_=S.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,...p}=e,g=di(sl,n),x=Sc(n);return hx(),u.jsx(hf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:u.jsx(yc,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:u.jsx(Cx,{"data-state":n_(g.open),role:"dialog",id:g.contentId,...x,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),t_="PopoverClose",IH=S.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=di(t_,n);return u.jsx(Ue.button,{type:"button",...r,ref:t,onClick:Re(e.onClick,()=>o.onOpenChange(!1))})});IH.displayName=t_;var RH="PopoverArrow",MH=S.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Sc(n);return u.jsx(Nx,{...o,...r,ref:t})});MH.displayName=RH;function n_(e){return e?"open":"closed"}var DH=qj,OH=Qj,LH=Jj,zH=Zj;function $H({...e}){return u.jsx(DH,{"data-slot":"popover",...e})}function FH({...e}){return u.jsx(OH,{"data-slot":"popover-trigger",...e})}function BH({className:e,align:t="center",sideOffset:n=4,...r}){return u.jsx(LH,{children:u.jsx(zH,{"data-slot":"popover-content",align:t,sideOffset:n,className:qe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}var r_=["PageUp","PageDown"],o_=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],i_={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},gl="Slider",[wg,VH,HH]=ff(gl),[s_]=Pn(gl,[HH]),[UH,Ff]=s_(gl),l_=S.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:i=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[r],value:m,onValueChange:p=()=>{},onValueCommit:g=()=>{},inverted:x=!1,form:b,...v}=e,w=S.useRef(new Set),k=S.useRef(0),C=l==="horizontal"?WH:YH,[_=[],R]=_n({prop:m,defaultProp:f,onChange:B=>{var G;(G=[...w.current][k.current])==null||G.focus(),p(B)}}),P=S.useRef(_);function I(B){const X=QH(_,B);z(B,X)}function F(B){z(B,k.current)}function W(){const B=P.current[k.current];_[k.current]!==B&&g(_)}function z(B,X,{commit:G}={commit:!1}){const A=t8(i),O=n8(Math.round((B-r)/i)*i+r,A),$=Za(O,[r,o]);R((q=[])=>{const D=GH(q,$,X);if(e8(D,d*i)){k.current=D.indexOf($);const U=String(D)!==String(q);return U&&G&&g(D),U?D:q}else return q})}return u.jsx(UH,{scope:e.__scopeSlider,name:n,disabled:c,min:r,max:o,valueIndexToChangeRef:k,thumbs:w.current,values:_,orientation:l,form:b,children:u.jsx(wg.Provider,{scope:e.__scopeSlider,children:u.jsx(wg.Slot,{scope:e.__scopeSlider,children:u.jsx(C,{"aria-disabled":c,"data-disabled":c?"":void 0,...v,ref:t,onPointerDown:Re(v.onPointerDown,()=>{c||(P.current=_)}),min:r,max:o,inverted:x,onSlideStart:c?void 0:I,onSlideMove:c?void 0:F,onSlideEnd:c?void 0:W,onHomeKeyDown:()=>!c&&z(r,0,{commit:!0}),onEndKeyDown:()=>!c&&z(o,_.length-1,{commit:!0}),onStepKeyDown:({event:B,direction:X})=>{if(!c){const O=r_.includes(B.key)||B.shiftKey&&o_.includes(B.key)?10:1,$=k.current,q=_[$],D=i*O*X;z(q+D,$,{commit:!0})}}})})})})});l_.displayName=gl;var[a_,c_]=s_(gl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),WH=S.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:i,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:f,...m}=e,[p,g]=S.useState(null),x=it(t,C=>g(C)),b=S.useRef(void 0),v=ii(o),w=v==="ltr",k=w&&!i||!w&&i;function E(C){const _=b.current||p.getBoundingClientRect(),R=[0,_.width],I=Xx(R,k?[n,r]:[r,n]);return b.current=_,I(C-_.left)}return u.jsx(a_,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:u.jsx(u_,{dir:v,"data-orientation":"horizontal",...m,ref:x,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const _=E(C.clientX);l==null||l(_)},onSlideMove:C=>{const _=E(C.clientX);c==null||c(_)},onSlideEnd:()=>{b.current=void 0,d==null||d()},onStepKeyDown:C=>{const R=i_[k?"from-left":"from-right"].includes(C.key);f==null||f({event:C,direction:R?-1:1})}})})}),YH=S.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=e,m=S.useRef(null),p=it(t,m),g=S.useRef(void 0),x=!o;function b(v){const w=g.current||m.current.getBoundingClientRect(),k=[0,w.height],C=Xx(k,x?[r,n]:[n,r]);return g.current=w,C(v-w.top)}return u.jsx(a_,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:u.jsx(u_,{"data-orientation":"vertical",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const w=b(v.clientY);i==null||i(w)},onSlideMove:v=>{const w=b(v.clientY);l==null||l(w)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:v=>{const k=i_[x?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:k?-1:1})}})})}),u_=S.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:d,...f}=e,m=Ff(gl,n);return u.jsx(Ue.span,{...f,ref:t,onKeyDown:Re(e.onKeyDown,p=>{p.key==="Home"?(l(p),p.preventDefault()):p.key==="End"?(c(p),p.preventDefault()):r_.concat(o_).includes(p.key)&&(d(p),p.preventDefault())}),onPointerDown:Re(e.onPointerDown,p=>{const g=p.target;g.setPointerCapture(p.pointerId),p.preventDefault(),m.thumbs.has(g)?g.focus():r(p)}),onPointerMove:Re(e.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&o(p)}),onPointerUp:Re(e.onPointerUp,p=>{const g=p.target;g.hasPointerCapture(p.pointerId)&&(g.releasePointerCapture(p.pointerId),i(p))})})}),d_="SliderTrack",f_=S.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Ff(d_,n);return u.jsx(Ue.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});f_.displayName=d_;var bg="SliderRange",p_=S.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Ff(bg,n),i=c_(bg,n),l=S.useRef(null),c=it(t,l),d=o.values.length,f=o.values.map(g=>g_(g,o.min,o.max)),m=d>1?Math.min(...f):0,p=100-Math.max(...f);return u.jsx(Ue.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:c,style:{...e.style,[i.startEdge]:m+"%",[i.endEdge]:p+"%"}})});p_.displayName=bg;var Sg="SliderThumb",h_=S.forwardRef((e,t)=>{const n=VH(e.__scopeSlider),[r,o]=S.useState(null),i=it(t,c=>o(c)),l=S.useMemo(()=>r?n().findIndex(c=>c.ref.current===r):-1,[n,r]);return u.jsx(XH,{...e,ref:i,index:l})}),XH=S.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...i}=e,l=Ff(Sg,n),c=c_(Sg,n),[d,f]=S.useState(null),m=it(t,E=>f(E)),p=d?l.form||!!d.closest("form"):!0,g=vf(d),x=l.values[r],b=x===void 0?0:g_(x,l.min,l.max),v=KH(r,l.values.length),w=g==null?void 0:g[c.size],k=w?JH(w,b,c.direction):0;return S.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${b}% + ${k}px)`},children:[u.jsx(wg.ItemSlot,{scope:e.__scopeSlider,children:u.jsx(Ue.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":l.min,"aria-valuenow":x,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...i,ref:m,style:x===void 0?{display:"none"}:e.style,onFocus:Re(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),p&&u.jsx(m_,{name:o??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:x},r)]})});h_.displayName=Sg;var qH="RadioBubbleInput",m_=S.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const o=S.useRef(null),i=it(o,r),l=bf(t);return S.useEffect(()=>{const c=o.current;if(!c)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const p=new Event("input",{bubbles:!0});m.call(c,t),c.dispatchEvent(p)}},[l,t]),u.jsx(Ue.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});m_.displayName=qH;function GH(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,i)=>o-i)}function g_(e,t,n){const i=100/(n-t)*(e-t);return Za(i,[0,100])}function KH(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function QH(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function JH(e,t,n){const r=e/2,i=Xx([0,50],[0,r]);return(r-i(t)*n)*n}function ZH(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function e8(e,t){if(t>0){const n=ZH(e);return Math.min(...n)>=t}return!0}function Xx(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function t8(e){return(String(e).split(".")[1]||"").length}function n8(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var r8=l_,o8=f_,i8=p_,s8=h_;function td({className:e,defaultValue:t,value:n,min:r=0,max:o=100,...i}){const l=S.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,o],[n,t,r,o]);return u.jsxs(r8,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:o,className:qe("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...i,children:[u.jsx(o8,{"data-slot":"slider-track",className:qe("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:u.jsx(i8,{"data-slot":"slider-range",className:qe("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(c,d)=>u.jsx(s8,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},d))]})}var fi="ToggleGroup",[x_]=Pn(fi,[dl]),y_=dl(),qx=Ye.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return u.jsx(l8,{...o,ref:t})}if(n==="multiple"){const o=r;return u.jsx(a8,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${fi}\``)});qx.displayName=fi;var[v_,w_]=x_(fi),l8=Ye.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[l,c]=_n({prop:n,defaultProp:r??"",onChange:o,caller:fi});return u.jsx(v_,{scope:e.__scopeToggleGroup,type:"single",value:Ye.useMemo(()=>l?[l]:[],[l]),onItemActivate:c,onItemDeactivate:Ye.useCallback(()=>c(""),[c]),children:u.jsx(b_,{...i,ref:t})})}),a8=Ye.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[l,c]=_n({prop:n,defaultProp:r??[],onChange:o,caller:fi}),d=Ye.useCallback(m=>c((p=[])=>[...p,m]),[c]),f=Ye.useCallback(m=>c((p=[])=>p.filter(g=>g!==m)),[c]);return u.jsx(v_,{scope:e.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:d,onItemDeactivate:f,children:u.jsx(b_,{...i,ref:t})})});qx.displayName=fi;var[c8,u8]=x_(fi),b_=Ye.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:i,dir:l,loop:c=!0,...d}=e,f=y_(n),m=ii(l),p={role:"group",dir:m,...d};return u.jsx(c8,{scope:n,rovingFocus:o,disabled:r,children:o?u.jsx(dx,{asChild:!0,...f,orientation:i,dir:m,loop:c,children:u.jsx(Ue.div,{...p,ref:t})}):u.jsx(Ue.div,{...p,ref:t})})}),Hd="ToggleGroupItem",S_=Ye.forwardRef((e,t)=>{const n=w_(Hd,e.__scopeToggleGroup),r=u8(Hd,e.__scopeToggleGroup),o=y_(e.__scopeToggleGroup),i=n.value.includes(e.value),l=r.disabled||e.disabled,c={...e,pressed:i,disabled:l},d=Ye.useRef(null);return r.rovingFocus?u.jsx(fx,{asChild:!0,...o,focusable:!l,active:i,ref:d,children:u.jsx(h1,{...c,ref:t})}):u.jsx(h1,{...c,ref:t})});S_.displayName=Hd;var h1=Ye.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,i=w_(Hd,n),l={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},c=i.type==="single"?l:void 0;return u.jsx(Hx,{...c,...o,ref:t,onPressedChange:d=>{d?i.onItemActivate(r):i.onItemDeactivate(r)}})}),d8=qx,f8=S_;const k_=S.createContext({size:"default",variant:"default"});function p8({className:e,variant:t,size:n,children:r,...o}){return u.jsx(d8,{"data-slot":"toggle-group","data-variant":t,"data-size":n,className:qe("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",e),...o,children:u.jsx(k_.Provider,{value:{variant:t,size:n},children:r})})}function m1({className:e,children:t,variant:n,size:r,...o}){const i=S.useContext(k_);return u.jsx(f8,{"data-slot":"toggle-group-item","data-variant":i.variant||n,"data-size":i.size||r,className:qe(Lj({variant:i.variant||n,size:i.size||r}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",e),...o,children:t})}function h8({onApplyLayout:e}){const[t,n]=S.useState({algorithm:"dagre",direction:"TB",nodeSeparation:50,rankSeparation:100}),[r,o]=S.useState(!1),i=()=>{e(t),o(!1)};return u.jsxs($H,{open:r,onOpenChange:o,children:[u.jsx(Dn,{children:u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsx(FH,{asChild:!0,children:u.jsxs(ye,{variant:"ghost",size:"icon",children:[u.jsx(xT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Layout"})]})})})}),u.jsx(xn,{children:u.jsx("p",{children:"Layout Options"})})]})}),u.jsx(BH,{className:"w-80",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium",children:"Layout Options"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"algorithm",children:"Algorithm"}),u.jsxs(ln,{value:t.algorithm,onValueChange:l=>n({...t,algorithm:l}),children:[u.jsx(cn,{id:"algorithm",children:u.jsx(an,{placeholder:"Select algorithm"})}),u.jsxs(un,{children:[u.jsx(gt,{value:"dagre",children:"Dagre"}),u.jsx(gt,{value:"elk",children:"ELK"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{children:"Direction"}),u.jsxs(p8,{type:"single",value:t.direction,onValueChange:l=>{l&&n({...t,direction:l})},className:"justify-start",children:[u.jsx(m1,{value:"TB","aria-label":"Vertical Layout",title:"Vertical Layout",children:u.jsx(RA,{className:"h-4 w-4"})}),u.jsx(m1,{value:"LR","aria-label":"Horizontal Layout",title:"Horizontal Layout",children:u.jsx(gS,{className:"h-4 w-4"})})]})]}),u.jsx(mc,{}),t.algorithm==="dagre"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(Ae,{htmlFor:"nodeSeparation",children:"Node Separation"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.nodeSeparation,"px"]})]}),u.jsx(td,{id:"nodeSeparation",min:20,max:200,step:5,value:[t.nodeSeparation],onValueChange:l=>n({...t,nodeSeparation:l[0]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(Ae,{htmlFor:"rankSeparation",children:"Rank Separation"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.rankSeparation,"px"]})]}),u.jsx(td,{id:"rankSeparation",min:20,max:300,step:10,value:[t.rankSeparation],onValueChange:l=>n({...t,rankSeparation:l[0]})})]})]}),t.algorithm==="elk"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(Ae,{htmlFor:"nodeNodeSpacing",children:"Node-Node Spacing"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.nodeSeparation,"px"]})]}),u.jsx(td,{id:"nodeNodeSpacing",min:10,max:100,step:5,value:[t.nodeSeparation],onValueChange:l=>n({...t,nodeSeparation:l[0]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(Ae,{htmlFor:"layerSpacing",children:"Layer Spacing"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.rankSeparation,"px"]})]}),u.jsx(td,{id:"layerSpacing",min:20,max:200,step:10,value:[t.rankSeparation],onValueChange:l=>n({...t,rankSeparation:l[0]})})]})]}),u.jsx(ye,{className:"w-full",onClick:i,children:"Apply Layout"})]})})]})}const C_=S.createContext([null,()=>{}]),m8=({children:e})=>{const[t,n]=S.useState(null);return u.jsx(C_.Provider,{value:[t,n],children:e})},N_=()=>S.useContext(C_);function g8({toggleArcMode:e,onApplyLayout:t}){const[,n]=N_(),r=me(l=>l.showMarkingDisplay),o=me(l=>l.setShowMarkingDisplay),i=(l,c)=>{n&&n(c),l.dataTransfer.effectAllowed="move"};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"flex items-center gap-2 bg-background border rounded-lg p-2 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Dn,{children:u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsx(ye,{variant:"ghost",size:"icon",title:"Place",className:"cursor-grab",children:u.jsxs("div",{draggable:!0,onDragStart:l=>i(l,"place"),children:[u.jsx(bS,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Drag a Place from Here"})]})})})}),u.jsx(xn,{children:u.jsx("p",{children:"Drag a Place from Here"})})]})}),u.jsx(Dn,{children:u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsx(ye,{variant:"ghost",size:"icon",title:"Transition",className:"cursor-grab",children:u.jsxs("div",{draggable:!0,onDragStart:l=>i(l,"transition"),children:[u.jsx(NS,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Drag a Transition from Here"})]})})})}),u.jsx(xn,{children:u.jsx("p",{children:"Drag a Transition from Here"})})]})}),u.jsx(Dn,{children:u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(p1,{"aria-label":"Toggle Arc",onPressedChange:e,children:[u.jsx(gS,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Toggle Arc Mode"})]})})}),u.jsx(xn,{children:u.jsx("p",{children:"Toggle Arc Mode"})})]})}),u.jsx(Dn,{children:u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsx(ye,{variant:"ghost",size:"icon",title:"Annotation",className:"cursor-grab",children:u.jsxs("div",{draggable:!0,onDragStart:l=>i(l,"auxText"),children:[u.jsx(mT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Drag a Text Annotation from Here"})]})})})}),u.jsx(xn,{children:u.jsx("p",{children:"Drag a Text Annotation from Here"})})]})})]}),u.jsx("div",{className:"flex items-center gap-2 h-6",children:u.jsx(mc,{orientation:"vertical",className:"mx-1 h-6"})}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Dn,{children:u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(p1,{"aria-label":"Toggle Marking Display",pressed:r,onPressedChange:o,children:[u.jsx(FT,{className:"h-4 w-4 text-green-600"}),u.jsx("span",{className:"sr-only",children:"Toggle Marking Display"})]})})}),u.jsx(xn,{children:u.jsx("p",{children:"Toggle Marking Display"})})]})}),u.jsx(h8,{onApplyLayout:t})]})]})})}function x8({slices:e,position:t,isOpen:n,onClose:r,onSliceClick:o,size:i=240}){const[l,c]=S.useState(null),d=S.useRef(null);return S.useEffect(()=>{const f=m=>{d.current&&!d.current.contains(m.target)&&n&&r()};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[n,r]),n?u.jsx("div",{className:"fixed z-50",style:{left:`${t.x}px`,top:`${t.y}px`,transform:"translate(-50%, -50%)"},ref:d,children:u.jsx("div",{className:"rounded-full bg-sky-100 overflow-visible shadow-lg",style:{width:`${i}px`,height:`${i}px`},children:u.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:e.map((f,m)=>{const p=(f.angle-30)*Math.PI/180,g=(f.angle+30)*Math.PI/180,x=50+50*Math.cos(p),b=50+50*Math.sin(p),v=50+50*Math.cos(g),w=50+50*Math.sin(g),k=`M 50 50 L ${x} ${b} A 50 50 0 0 1 ${v} ${w} Z`,E=38,C=50+E*Math.cos(f.angle*Math.PI/180),_=50+E*Math.sin(f.angle*Math.PI/180),R=m===l;return u.jsxs("g",{onClick:()=>o(m,f),onMouseEnter:()=>c(m),onMouseLeave:()=>c(null),style:{cursor:"pointer"},children:[u.jsx("path",{d:k,fill:R?"#6b9ac4":"transparent",stroke:"#e2e8f0",strokeWidth:"0.5"}),u.jsx("g",{transform:`translate(${C}, ${_}) rotate(${f.angle})`,children:f.label.map((P,I)=>u.jsx("text",{x:"0",y:I*8,textAnchor:"middle",fontSize:"5",fill:f.disabled?"#d3d3d3":"#333",transform:`rotate(-${f.angle})`,dominantBaseline:"middle",children:P},I))})]},m)})})})}):null}const y8=({fromX:e,fromY:t,toX:n,toY:r,connectionLineStyle:o,label:i})=>{const[l]=tx({sourceX:e,sourceY:t,targetX:n,targetY:r}),c=(e+n)/2,d=(t+r)/2;return u.jsxs("g",{children:[u.jsx("path",{style:o||{stroke:"black",strokeWidth:1},fill:"none",d:l}),i&&u.jsx("text",{x:c,y:d,textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"12px",fill:"black"},children:i})]})};function v8({open:e,onOpenChange:t,onFileLoaded:n}){const[r,o]=S.useState(!1),[i,l]=S.useState(!1),c=S.useRef(null),d=v=>{v.preventDefault(),o(!0)},f=()=>{o(!1)},m=v=>{if(v.preventDefault(),o(!1),v.dataTransfer.files&&v.dataTransfer.files.length>0){const w=v.dataTransfer.files[0];g(w)}},p=v=>{if(v.target.files&&v.target.files.length>0){const w=v.target.files[0];g(w)}},g=v=>{const w=new FileReader;w.onload=k=>{var E;(E=k.target)!=null&&E.result&&(n(k.target.result,v.name),t(!1))},w.readAsText(v)},x=()=>{var v;(v=c.current)==null||v.click()},b=async()=>{l(!0);try{const v=await fetch("/ocpn-tools/examples/airport.ocpn");if(!v.ok)throw new Error("Failed to load example file");const w=await v.text();n(w,"airport.ocpn"),t(!1)}catch(v){console.error("Error loading example:",v)}finally{l(!1)}};return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:"sm:max-w-[500px]",children:[u.jsxs(pn,{children:[u.jsx(hn,{children:"Open Petri Net"}),u.jsx(ui,{children:"Load a CPN Tools .cpn or cpn-py JSON file to visualize your Petri Net."})]}),u.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-primary bg-primary/10":"border-muted-foreground/25"}`,onDragOver:d,onDragLeave:f,onDrop:m,children:u.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[u.jsx(Lg,{className:"h-10 w-10 text-muted-foreground"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Drag & Drop"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drop your Petri Net file here, or click to browse"}),u.jsx("input",{ref:c,type:"file",accept:".xml,.json,.cpn,.ocpn",className:"hidden",onChange:p}),u.jsxs(ye,{onClick:x,variant:"outline",children:[u.jsx(sT,{className:"mr-2 h-4 w-4"}),"Open File..."]})]})}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx("span",{children:"Or try an example:"}),u.jsxs(ye,{variant:"link",className:"p-0 h-auto text-sm",onClick:b,disabled:i,children:[u.jsx(vT,{className:"mr-1 h-3 w-3"}),"Airport Ground Handling"]})]}),u.jsx(Lr,{children:u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"})})]})})}function w8({open:e,onOpenChange:t,onSave:n,petriNetName:r}){const[o,i]=S.useState("json"),l=()=>{n(o),t(!1)};return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:"sm:max-w-[425px]",children:[u.jsxs(pn,{children:[u.jsx(hn,{children:"Save Petri Net"}),u.jsxs(ui,{children:['Choose a format to save your Petri Net "',r,'".']})]}),u.jsx("div",{className:"py-4",children:u.jsxs(vj,{value:o,onValueChange:i,className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Ys,{value:"json",id:"json"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Ae,{htmlFor:"json",className:"font-medium",children:"OCPN JSON"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Simple JSON format. Best for OCPN Tools."})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Ys,{value:"cpn-tools",id:"cpn-tools"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Ae,{htmlFor:"cpn-tools",className:"font-medium",children:"CPN Tools XML"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Standard format for CPN Tools. Best for compatibility with CPN Tools."})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Ys,{value:"cpn-py",id:"cpn-py"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Ae,{htmlFor:"cpn-py",className:"font-medium",children:"cpn-py JSON"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Format compatible with cpn-py library. Best for Python integration."})]})]})]})}),u.jsxs(Lr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ye,{onClick:l,children:"Save"})]})]})})}function b8(){const e=S.useContext(Rf);if(!e)throw new Error("SimulationToolbar must be used within a SimulationProvider");const{reset:t,runStep:n,runMultipleStepsAnimated:r,runMultipleStepsFast:o,stop:i,isRunning:l,simulationConfig:c}=e,d=()=>{t()},f=()=>{i()},m=()=>{n()},p=()=>{r(c.stepsPerRun,c.animationDelayMs)},g=()=>{o(c.stepsPerRun)};return u.jsx("div",{className:"flex items-center gap-1",children:u.jsxs(Dn,{children:[u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",onClick:d,disabled:l,children:[u.jsx(ET,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Reset Simulation"})]})})}),u.jsx(xn,{children:u.jsx("p",{children:"Reset Simulation"})})]}),u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",onClick:f,disabled:!l,children:[u.jsx(NS,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Stop Simulation"})]})})}),u.jsx(xn,{children:u.jsx("p",{children:"Stop Simulation"})})]}),u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",onClick:m,disabled:l,children:[u.jsx(DT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Execute One Step"})]})})}),u.jsx(xn,{children:u.jsx("p",{children:"Execute One Step"})})]}),u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",onClick:p,disabled:l,className:"relative",children:[u.jsx(bT,{className:"h-5 w-5"}),u.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] text-primary-foreground font-medium",children:c.stepsPerRun}),u.jsxs("span",{className:"sr-only",children:["Run ",c.stepsPerRun," Steps (Animated)"]})]})})}),u.jsx(xn,{children:u.jsxs("p",{children:["Run ",c.stepsPerRun," Steps (with intermediate markings)"]})})]}),u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",onClick:g,disabled:l,className:"relative",children:[u.jsx(oT,{className:"h-5 w-5"}),u.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] text-primary-foreground font-medium",children:c.stepsPerRun}),u.jsxs("span",{className:"sr-only",children:["Run ",c.stepsPerRun," Steps (Fast)"]})]})})}),u.jsx(xn,{children:u.jsxs("p",{children:["Run ",c.stepsPerRun," Steps (without intermediate markings)"]})})]})]})})}function S8(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const k8=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,C8=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,N8={};function g1(e,t){return(N8.jsx?C8:k8).test(e)}const E8=/[ \t\n\f\r]/g;function j8(e){return typeof e=="object"?e.type==="text"?x1(e.value):!1:x1(e)}function x1(e){return e.replace(E8,"")===""}class kc{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}kc.prototype.normal={};kc.prototype.property={};kc.prototype.space=void 0;function E_(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new kc(n,r,t)}function kg(e){return e.toLowerCase()}class Xn{constructor(t,n){this.attribute=n,this.property=t}}Xn.prototype.attribute="";Xn.prototype.booleanish=!1;Xn.prototype.boolean=!1;Xn.prototype.commaOrSpaceSeparated=!1;Xn.prototype.commaSeparated=!1;Xn.prototype.defined=!1;Xn.prototype.mustUseProperty=!1;Xn.prototype.number=!1;Xn.prototype.overloadedBoolean=!1;Xn.prototype.property="";Xn.prototype.spaceSeparated=!1;Xn.prototype.space=void 0;let _8=0;const at=Ji(),Qt=Ji(),Cg=Ji(),be=Ji(),Lt=Ji(),Xs=Ji(),Zn=Ji();function Ji(){return 2**++_8}const Ng=Object.freeze(Object.defineProperty({__proto__:null,boolean:at,booleanish:Qt,commaOrSpaceSeparated:Zn,commaSeparated:Xs,number:be,overloadedBoolean:Cg,spaceSeparated:Lt},Symbol.toStringTag,{value:"Module"})),vm=Object.keys(Ng);class Gx extends Xn{constructor(t,n,r,o){let i=-1;if(super(t,n),y1(this,"space",o),typeof r=="number")for(;++i<vm.length;){const l=vm[i];y1(this,vm[i],(r&Ng[l])===Ng[l])}}}Gx.prototype.defined=!0;function y1(e,t,n){n&&(e[t]=n)}function xl(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const i=new Gx(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[kg(r)]=r,n[kg(i.attribute)]=r}return new kc(t,n,e.space)}const j_=xl({properties:{ariaActiveDescendant:null,ariaAtomic:Qt,ariaAutoComplete:null,ariaBusy:Qt,ariaChecked:Qt,ariaColCount:be,ariaColIndex:be,ariaColSpan:be,ariaControls:Lt,ariaCurrent:null,ariaDescribedBy:Lt,ariaDetails:null,ariaDisabled:Qt,ariaDropEffect:Lt,ariaErrorMessage:null,ariaExpanded:Qt,ariaFlowTo:Lt,ariaGrabbed:Qt,ariaHasPopup:null,ariaHidden:Qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Lt,ariaLevel:be,ariaLive:null,ariaModal:Qt,ariaMultiLine:Qt,ariaMultiSelectable:Qt,ariaOrientation:null,ariaOwns:Lt,ariaPlaceholder:null,ariaPosInSet:be,ariaPressed:Qt,ariaReadOnly:Qt,ariaRelevant:null,ariaRequired:Qt,ariaRoleDescription:Lt,ariaRowCount:be,ariaRowIndex:be,ariaRowSpan:be,ariaSelected:Qt,ariaSetSize:be,ariaSort:null,ariaValueMax:be,ariaValueMin:be,ariaValueNow:be,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function __(e,t){return t in e?e[t]:t}function P_(e,t){return __(e,t.toLowerCase())}const P8=xl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Xs,acceptCharset:Lt,accessKey:Lt,action:null,allow:null,allowFullScreen:at,allowPaymentRequest:at,allowUserMedia:at,alt:null,as:null,async:at,autoCapitalize:null,autoComplete:Lt,autoFocus:at,autoPlay:at,blocking:Lt,capture:null,charSet:null,checked:at,cite:null,className:Lt,cols:be,colSpan:null,content:null,contentEditable:Qt,controls:at,controlsList:Lt,coords:be|Xs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:at,defer:at,dir:null,dirName:null,disabled:at,download:Cg,draggable:Qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:at,formTarget:null,headers:Lt,height:be,hidden:Cg,high:be,href:null,hrefLang:null,htmlFor:Lt,httpEquiv:Lt,id:null,imageSizes:null,imageSrcSet:null,inert:at,inputMode:null,integrity:null,is:null,isMap:at,itemId:null,itemProp:Lt,itemRef:Lt,itemScope:at,itemType:Lt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:at,low:be,manifest:null,max:null,maxLength:be,media:null,method:null,min:null,minLength:be,multiple:at,muted:at,name:null,nonce:null,noModule:at,noValidate:at,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:at,optimum:be,pattern:null,ping:Lt,placeholder:null,playsInline:at,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:at,referrerPolicy:null,rel:Lt,required:at,reversed:at,rows:be,rowSpan:be,sandbox:Lt,scope:null,scoped:at,seamless:at,selected:at,shadowRootClonable:at,shadowRootDelegatesFocus:at,shadowRootMode:null,shape:null,size:be,sizes:null,slot:null,span:be,spellCheck:Qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:be,step:null,style:null,tabIndex:be,target:null,title:null,translate:null,type:null,typeMustMatch:at,useMap:null,value:Qt,width:be,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Lt,axis:null,background:null,bgColor:null,border:be,borderColor:null,bottomMargin:be,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:at,declare:at,event:null,face:null,frame:null,frameBorder:null,hSpace:be,leftMargin:be,link:null,longDesc:null,lowSrc:null,marginHeight:be,marginWidth:be,noResize:at,noHref:at,noShade:at,noWrap:at,object:null,profile:null,prompt:null,rev:null,rightMargin:be,rules:null,scheme:null,scrolling:Qt,standby:null,summary:null,text:null,topMargin:be,valueType:null,version:null,vAlign:null,vLink:null,vSpace:be,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:at,disableRemotePlayback:at,prefix:null,property:null,results:be,security:null,unselectable:null},space:"html",transform:P_}),A8=xl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Zn,accentHeight:be,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:be,amplitude:be,arabicForm:null,ascent:be,attributeName:null,attributeType:null,azimuth:be,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:be,by:null,calcMode:null,capHeight:be,className:Lt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:be,diffuseConstant:be,direction:null,display:null,dur:null,divisor:be,dominantBaseline:null,download:at,dx:null,dy:null,edgeMode:null,editable:null,elevation:be,enableBackground:null,end:null,event:null,exponent:be,externalResourcesRequired:null,fill:null,fillOpacity:be,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Xs,g2:Xs,glyphName:Xs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:be,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:be,horizOriginX:be,horizOriginY:be,id:null,ideographic:be,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:be,k:be,k1:be,k2:be,k3:be,k4:be,kernelMatrix:Zn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:be,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:be,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:be,overlineThickness:be,paintOrder:null,panose1:null,path:null,pathLength:be,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Lt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:be,pointsAtY:be,pointsAtZ:be,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zn,rev:Zn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zn,requiredFeatures:Zn,requiredFonts:Zn,requiredFormats:Zn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:be,specularExponent:be,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:be,strikethroughThickness:be,string:null,stroke:null,strokeDashArray:Zn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:be,strokeOpacity:be,strokeWidth:null,style:null,surfaceScale:be,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zn,tabIndex:be,tableValues:null,target:null,targetX:be,targetY:be,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:be,underlineThickness:be,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:be,values:null,vAlphabetic:be,vMathematical:be,vectorEffect:null,vHanging:be,vIdeographic:be,version:null,vertAdvY:be,vertOriginX:be,vertOriginY:be,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:be,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:__}),A_=xl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),T_=xl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:P_}),I_=xl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),T8={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},I8=/[A-Z]/g,v1=/-[a-z]/g,R8=/^data[-\w.:]+$/i;function M8(e,t){const n=kg(t);let r=t,o=Xn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&R8.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(v1,O8);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!v1.test(i)){let l=i.replace(I8,D8);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}o=Gx}return new o(r,t)}function D8(e){return"-"+e.toLowerCase()}function O8(e){return e.charAt(1).toUpperCase()}const L8=E_([j_,P8,A_,T_,I_],"html"),Kx=E_([j_,A8,A_,T_,I_],"svg");function z8(e){return e.join(" ").trim()}var Is={},wm,w1;function $8(){if(w1)return wm;w1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,f="/",m="*",p="",g="comment",x="declaration";function b(w,k){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];k=k||{};var E=1,C=1;function _(A){var O=A.match(t);O&&(E+=O.length);var $=A.lastIndexOf(d);C=~$?A.length-$:C+A.length}function R(){var A={line:E,column:C};return function(O){return O.position=new P(A),W(),O}}function P(A){this.start=A,this.end={line:E,column:C},this.source=k.source}P.prototype.content=w;function I(A){var O=new Error(k.source+":"+E+":"+C+": "+A);if(O.reason=A,O.filename=k.source,O.line=E,O.column=C,O.source=w,!k.silent)throw O}function F(A){var O=A.exec(w);if(O){var $=O[0];return _($),w=w.slice($.length),O}}function W(){F(n)}function z(A){var O;for(A=A||[];O=B();)O!==!1&&A.push(O);return A}function B(){var A=R();if(!(f!=w.charAt(0)||m!=w.charAt(1))){for(var O=2;p!=w.charAt(O)&&(m!=w.charAt(O)||f!=w.charAt(O+1));)++O;if(O+=2,p===w.charAt(O-1))return I("End of comment missing");var $=w.slice(2,O-2);return C+=2,_($),w=w.slice(O),C+=2,A({type:g,comment:$})}}function X(){var A=R(),O=F(r);if(O){if(B(),!F(o))return I("property missing ':'");var $=F(i),q=A({type:x,property:v(O[0].replace(e,p)),value:$?v($[0].replace(e,p)):p});return F(l),q}}function G(){var A=[];z(A);for(var O;O=X();)O!==!1&&(A.push(O),z(A));return A}return W(),G()}function v(w){return w?w.replace(c,p):p}return wm=b,wm}var b1;function F8(){if(b1)return Is;b1=1;var e=Is&&Is.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Is,"__esModule",{value:!0}),Is.default=n;const t=e($8());function n(r,o){let i=null;if(!r||typeof r!="string")return i;const l=(0,t.default)(r),c=typeof o=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:f,value:m}=d;c?o(f,m,d):m&&(i=i||{},i[f]=m)}),i}return Is}var da={},S1;function B8(){if(S1)return da;S1=1,Object.defineProperty(da,"__esModule",{value:!0}),da.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,i=function(f){return!f||n.test(f)||e.test(f)},l=function(f,m){return m.toUpperCase()},c=function(f,m){return"".concat(m,"-")},d=function(f,m){return m===void 0&&(m={}),i(f)?f:(f=f.toLowerCase(),m.reactCompat?f=f.replace(o,c):f=f.replace(r,c),f.replace(t,l))};return da.camelCase=d,da}var fa,k1;function V8(){if(k1)return fa;k1=1;var e=fa&&fa.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(F8()),n=B8();function r(o,i){var l={};return!o||typeof o!="string"||(0,t.default)(o,function(c,d){c&&d&&(l[(0,n.camelCase)(c,i)]=d)}),l}return r.default=r,fa=r,fa}var H8=V8();const U8=sc(H8),R_=M_("end"),Qx=M_("start");function M_(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function W8(e){const t=Qx(e),n=R_(e);if(t&&n)return{start:t,end:n}}function Ma(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?C1(e.position):"start"in e||"end"in e?C1(e):"line"in e||"column"in e?Eg(e):""}function Eg(e){return N1(e&&e.line)+":"+N1(e&&e.column)}function C1(e){return Eg(e&&e.start)+"-"+Eg(e&&e.end)}function N1(e){return e&&typeof e=="number"?e:1}class Tn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",i={},l=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?o=t:!i.cause&&t&&(l=!0,o=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?i.ruleId=r:(i.source=r.slice(0,d),i.ruleId=r.slice(d+1))}if(!i.place&&i.ancestors&&i.ancestors){const d=i.ancestors[i.ancestors.length-1];d&&(i.place=d.position)}const c=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=c?c.line:void 0,this.name=Ma(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=l&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Tn.prototype.file="";Tn.prototype.name="";Tn.prototype.reason="";Tn.prototype.message="";Tn.prototype.stack="";Tn.prototype.column=void 0;Tn.prototype.line=void 0;Tn.prototype.ancestors=void 0;Tn.prototype.cause=void 0;Tn.prototype.fatal=void 0;Tn.prototype.place=void 0;Tn.prototype.ruleId=void 0;Tn.prototype.source=void 0;const Jx={}.hasOwnProperty,Y8=new Map,X8=/[A-Z]/g,q8=new Set(["table","tbody","thead","tfoot","tr"]),G8=new Set(["td","th"]),D_="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function K8(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=o9(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=r9(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Kx:L8,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=O_(o,e,void 0);return i&&typeof i!="string"?i:o.create(e,o.Fragment,{children:i||void 0},void 0)}function O_(e,t,n){if(t.type==="element")return Q8(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return J8(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return e9(e,t,n);if(t.type==="mdxjsEsm")return Z8(e,t);if(t.type==="root")return t9(e,t,n);if(t.type==="text")return n9(e,t)}function Q8(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=Kx,e.schema=o),e.ancestors.push(t);const i=z_(e,t.tagName,!1),l=i9(e,t);let c=ey(e,t);return q8.has(t.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!j8(d):!0})),L_(e,l,i,t),Zx(l,c),e.ancestors.pop(),e.schema=r,e.create(t,i,l,n)}function J8(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}oc(e,t.position)}function Z8(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);oc(e,t.position)}function e9(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=Kx,e.schema=o),e.ancestors.push(t);const i=t.name===null?e.Fragment:z_(e,t.name,!0),l=s9(e,t),c=ey(e,t);return L_(e,l,i,t),Zx(l,c),e.ancestors.pop(),e.schema=r,e.create(t,i,l,n)}function t9(e,t,n){const r={};return Zx(r,ey(e,t)),e.create(t,e.Fragment,r,n)}function n9(e,t){return t.value}function L_(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Zx(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function r9(e,t,n){return r;function r(o,i,l,c){const f=Array.isArray(l.children)?n:t;return c?f(i,l,c):f(i,l)}}function o9(e,t){return n;function n(r,o,i,l){const c=Array.isArray(i.children),d=Qx(r);return t(o,i,l,c,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function i9(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&Jx.call(t.properties,o)){const i=l9(e,o,t.properties[o]);if(i){const[l,c]=i;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&G8.has(t.tagName)?r=c:n[l]=c}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function s9(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const l=i.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else oc(e,t.position);else{const o=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,i=e.evaluater.evaluateExpression(c.expression)}else oc(e,t.position);else i=r.value===null?!0:r.value;n[o]=i}return n}function ey(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:Y8;for(;++r<t.children.length;){const i=t.children[r];let l;if(e.passKeys){const d=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(d){const f=o.get(d)||0;l=d+"-"+f,o.set(d,f+1)}}const c=O_(e,i,l);c!==void 0&&n.push(c)}return n}function l9(e,t,n){const r=M8(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?S8(n):z8(n)),r.property==="style"){let o=typeof n=="object"?n:a9(e,String(n));return e.stylePropertyNameCase==="css"&&(o=c9(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?T8[r.property]||r.property:r.attribute,n]}}function a9(e,t){try{return U8(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new Tn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=D_+"#cannot-parse-style-attribute",o}}function z_(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let i=-1,l;for(;++i<o.length;){const c=g1(o[i])?{type:"Identifier",name:o[i]}:{type:"Literal",value:o[i]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(i&&c.type==="Literal"),optional:!1}:c}r=l}else r=g1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return Jx.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);oc(e)}function oc(e,t){const n=new Tn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=D_+"#cannot-handle-mdx-estrees-without-createevaluater",n}function c9(e){const t={};let n;for(n in e)Jx.call(e,n)&&(t[u9(n)]=e[n]);return t}function u9(e){let t=e.replace(X8,d9);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function d9(e){return"-"+e.toLowerCase()}const bm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},f9={};function ty(e,t){const n=f9,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return $_(e,r,o)}function $_(e,t,n){if(p9(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return E1(e.children,t,n)}return Array.isArray(e)?E1(e,t,n):""}function E1(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=$_(e[o],t,n);return r.join("")}function p9(e){return!!(e&&typeof e=="object")}const j1=document.createElement("i");function ny(e){const t="&"+e+";";j1.innerHTML=t;const n=j1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ir(e,t,n,r){const o=e.length;let i=0,l;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);i<r.length;)l=r.slice(i,i+1e4),l.unshift(t,0),e.splice(...l),i+=1e4,t+=1e4}function mr(e,t){return e.length>0?(ir(e,e.length,0,t),e):t}const _1={}.hasOwnProperty;function F_(e){const t={};let n=-1;for(;++n<e.length;)h9(t,e[n]);return t}function h9(e,t){let n;for(n in t){const o=(_1.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let l;if(i)for(l in i){_1.call(o,l)||(o[l]=[]);const c=i[l];m9(o[l],Array.isArray(c)?c:c?[c]:[])}}}function m9(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ir(e,0,0,r)}function B_(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ir(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const On=pi(/[A-Za-z]/),jn=pi(/[\dA-Za-z]/),g9=pi(/[#-'*+\--9=?A-Z^-~]/);function Ud(e){return e!==null&&(e<32||e===127)}const jg=pi(/\d/),x9=pi(/[\dA-Fa-f]/),y9=pi(/[!-/:-@[-`{-~]/);function Je(e){return e!==null&&e<-2}function Dt(e){return e!==null&&(e<0||e===32)}function xt(e){return e===-2||e===-1||e===32}const Bf=pi(new RegExp("\\p{P}|\\p{S}","u")),Qi=pi(/\s/);function pi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function yl(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const i=e.charCodeAt(n);let l="";if(i===37&&jn(e.charCodeAt(n+1))&&jn(e.charCodeAt(n+2)))o=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(l=String.fromCharCode(i));else if(i>55295&&i<57344){const c=e.charCodeAt(n+1);i<56320&&c>56319&&c<57344?(l=String.fromCharCode(i,c),o=1):l=""}else l=String.fromCharCode(i);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+o+1,l=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function St(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return l;function l(d){return xt(d)?(e.enter(n),c(d)):t(d)}function c(d){return xt(d)&&i++<o?(e.consume(d),c):(e.exit(n),t(d))}}const v9={tokenize:w9};function w9(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),St(e,t,"linePrefix")}function o(c){return e.enter("paragraph"),i(c)}function i(c){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Je(c)?(e.consume(c),e.exit("chunkText"),i):(e.consume(c),l)}}const b9={tokenize:S9},P1={tokenize:k9};function S9(e){const t=this,n=[];let r=0,o,i,l;return c;function c(C){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,d,f)(C)}return f(C)}function d(C){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&E();const _=t.events.length;let R=_,P;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){P=t.events[R][1].end;break}k(r);let I=_;for(;I<t.events.length;)t.events[I][1].end={...P},I++;return ir(t.events,R+1,0,t.events.slice(_)),t.events.length=I,f(C)}return c(C)}function f(C){if(r===n.length){if(!o)return g(C);if(o.currentConstruct&&o.currentConstruct.concrete)return b(C);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(P1,m,p)(C)}function m(C){return o&&E(),k(r),g(C)}function p(C){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,b(C)}function g(C){return t.containerState={},e.attempt(P1,x,b)(C)}function x(C){return r++,n.push([t.currentConstruct,t.containerState]),g(C)}function b(C){if(C===null){o&&E(),k(0),e.consume(C);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:i}),v(C)}function v(C){if(C===null){w(e.exit("chunkFlow"),!0),k(0),e.consume(C);return}return Je(C)?(e.consume(C),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(C),v)}function w(C,_){const R=t.sliceStream(C);if(_&&R.push(null),C.previous=i,i&&(i.next=C),i=C,o.defineSkip(C.start),o.write(R),t.parser.lazy[C.start.line]){let P=o.events.length;for(;P--;)if(o.events[P][1].start.offset<l&&(!o.events[P][1].end||o.events[P][1].end.offset>l))return;const I=t.events.length;let F=I,W,z;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){if(W){z=t.events[F][1].end;break}W=!0}for(k(r),P=I;P<t.events.length;)t.events[P][1].end={...z},P++;ir(t.events,F+1,0,t.events.slice(I)),t.events.length=P}}function k(C){let _=n.length;for(;_-- >C;){const R=n[_];t.containerState=R[1],R[0].exit.call(t,e)}n.length=C}function E(){o.write([null]),i=void 0,o=void 0,t.containerState._closeFlow=void 0}}function k9(e,t,n){return St(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ll(e){if(e===null||Dt(e)||Qi(e))return 1;if(Bf(e))return 2}function Vf(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const _g={name:"attention",resolveAll:C9,tokenize:N9};function C9(e,t){let n=-1,r,o,i,l,c,d,f,m;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};A1(p,-d),A1(g,d),l={type:d>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},i={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[r][1].end={...l.start},e[n][1].start={...c.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=mr(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=mr(f,[["enter",o,t],["enter",l,t],["exit",l,t],["enter",i,t]]),f=mr(f,Vf(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=mr(f,[["exit",i,t],["enter",c,t],["exit",c,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(m=2,f=mr(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):m=0,ir(e,r-1,n-r+3,f),n=r+f.length-m-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function N9(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=ll(r);let i;return l;function l(d){return i=d,e.enter("attentionSequence"),c(d)}function c(d){if(d===i)return e.consume(d),c;const f=e.exit("attentionSequence"),m=ll(d),p=!m||m===2&&o||n.includes(d),g=!o||o===2&&m||n.includes(r);return f._open=!!(i===42?p:p&&(o||!g)),f._close=!!(i===42?g:g&&(m||!p)),t(d)}}function A1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const E9={name:"autolink",tokenize:j9};function j9(e,t,n){let r=0;return o;function o(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(x){return On(x)?(e.consume(x),l):x===64?n(x):f(x)}function l(x){return x===43||x===45||x===46||jn(x)?(r=1,c(x)):f(x)}function c(x){return x===58?(e.consume(x),r=0,d):(x===43||x===45||x===46||jn(x))&&r++<32?(e.consume(x),c):(r=0,f(x))}function d(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||Ud(x)?n(x):(e.consume(x),d)}function f(x){return x===64?(e.consume(x),m):g9(x)?(e.consume(x),f):n(x)}function m(x){return jn(x)?p(x):n(x)}function p(x){return x===46?(e.consume(x),r=0,m):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):g(x)}function g(x){if((x===45||jn(x))&&r++<63){const b=x===45?g:p;return e.consume(x),b}return n(x)}}const Cc={partial:!0,tokenize:_9};function _9(e,t,n){return r;function r(i){return xt(i)?St(e,o,"linePrefix")(i):o(i)}function o(i){return i===null||Je(i)?t(i):n(i)}}const V_={continuation:{tokenize:A9},exit:T9,name:"blockQuote",tokenize:P9};function P9(e,t,n){const r=this;return o;function o(l){if(l===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),i}return n(l)}function i(l){return xt(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function A9(e,t,n){const r=this;return o;function o(l){return xt(l)?St(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):i(l)}function i(l){return e.attempt(V_,t,n)(l)}}function T9(e){e.exit("blockQuote")}const H_={name:"characterEscape",tokenize:I9};function I9(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),o}function o(i){return y9(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const U_={name:"characterReference",tokenize:R9};function R9(e,t,n){const r=this;let o=0,i,l;return c;function c(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),d}function d(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),i=31,l=jn,m(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,l=x9,m):(e.enter("characterReferenceValue"),i=7,l=jg,m(p))}function m(p){if(p===59&&o){const g=e.exit("characterReferenceValue");return l===jn&&!ny(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(p)&&o++<i?(e.consume(p),m):n(p)}}const T1={partial:!0,tokenize:D9},I1={concrete:!0,name:"codeFenced",tokenize:M9};function M9(e,t,n){const r=this,o={partial:!0,tokenize:R};let i=0,l=0,c;return d;function d(P){return f(P)}function f(P){const I=r.events[r.events.length-1];return i=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,c=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(P)}function m(P){return P===c?(l++,e.consume(P),m):l<3?n(P):(e.exit("codeFencedFenceSequence"),xt(P)?St(e,p,"whitespace")(P):p(P))}function p(P){return P===null||Je(P)?(e.exit("codeFencedFence"),r.interrupt?t(P):e.check(T1,v,_)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(P))}function g(P){return P===null||Je(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(P)):xt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),St(e,x,"whitespace")(P)):P===96&&P===c?n(P):(e.consume(P),g)}function x(P){return P===null||Je(P)?p(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(P))}function b(P){return P===null||Je(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(P)):P===96&&P===c?n(P):(e.consume(P),b)}function v(P){return e.attempt(o,_,w)(P)}function w(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),k}function k(P){return i>0&&xt(P)?St(e,E,"linePrefix",i+1)(P):E(P)}function E(P){return P===null||Je(P)?e.check(T1,v,_)(P):(e.enter("codeFlowValue"),C(P))}function C(P){return P===null||Je(P)?(e.exit("codeFlowValue"),E(P)):(e.consume(P),C)}function _(P){return e.exit("codeFenced"),t(P)}function R(P,I,F){let W=0;return z;function z(O){return P.enter("lineEnding"),P.consume(O),P.exit("lineEnding"),B}function B(O){return P.enter("codeFencedFence"),xt(O)?St(P,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):X(O)}function X(O){return O===c?(P.enter("codeFencedFenceSequence"),G(O)):F(O)}function G(O){return O===c?(W++,P.consume(O),G):W>=l?(P.exit("codeFencedFenceSequence"),xt(O)?St(P,A,"whitespace")(O):A(O)):F(O)}function A(O){return O===null||Je(O)?(P.exit("codeFencedFence"),I(O)):F(O)}}}function D9(e,t,n){const r=this;return o;function o(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i)}function i(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const Sm={name:"codeIndented",tokenize:L9},O9={partial:!0,tokenize:z9};function L9(e,t,n){const r=this;return o;function o(f){return e.enter("codeIndented"),St(e,i,"linePrefix",5)(f)}function i(f){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?d(f):Je(f)?e.attempt(O9,l,d)(f):(e.enter("codeFlowValue"),c(f))}function c(f){return f===null||Je(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),c)}function d(f){return e.exit("codeIndented"),t(f)}}function z9(e,t,n){const r=this;return o;function o(l){return r.parser.lazy[r.now().line]?n(l):Je(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):St(e,i,"linePrefix",5)(l)}function i(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):Je(l)?o(l):n(l)}}const $9={name:"codeText",previous:B9,resolve:F9,tokenize:V9};function F9(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function B9(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function V9(e,t,n){let r=0,o,i;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),c(p)}function c(p){return p===96?(e.consume(p),r++,c):(e.exit("codeTextSequence"),d(p))}function d(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),d):p===96?(i=e.enter("codeTextSequence"),o=0,m(p)):Je(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||Je(p)?(e.exit("codeTextData"),d(p)):(e.consume(p),f)}function m(p){return p===96?(e.consume(p),o++,m):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(i.type="codeTextData",f(p))}}class H9{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&pa(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),pa(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),pa(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);pa(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);pa(this.left,n.reverse())}}}function pa(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function W_(e){const t={};let n=-1,r,o,i,l,c,d,f;const m=new H9(e);for(;++n<m.length;){for(;n in t;)n=t[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,i=0,i<d.length&&d[i][1].type==="lineEndingBlank"&&(i+=2),i<d.length&&d[i][1].type==="content"))for(;++i<d.length&&d[i][1].type!=="content";)d[i][1].type==="chunkText"&&(d[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,U9(m,n)),n=t[n],f=!0);else if(r[1]._container){for(i=n,o=void 0;i--;)if(l=m.get(i),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(m.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=i);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(r[1].end={...m.get(o)[1].start},c=m.slice(o,n),c.unshift(r),m.splice(o,n-o+1,c))}}return ir(e,0,Number.POSITIVE_INFINITY,m.slice(0)),!f}function U9(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const i=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,d=[],f={};let m,p,g=-1,x=n,b=0,v=0;const w=[v];for(;x;){for(;e.get(++o)[1]!==x;);i.push(o),x._tokenizer||(m=r.sliceStream(x),x.next||m.push(null),p&&l.defineSkip(x.start),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=x,x=x.next}for(x=n;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(v=g+1,w.push(v),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(l.events=[],x?(x._tokenizer=void 0,x.previous=void 0):w.pop(),g=w.length;g--;){const k=c.slice(w[g],w[g+1]),E=i.pop();d.push([E,E+k.length-1]),e.splice(E,2,k)}for(d.reverse(),g=-1;++g<d.length;)f[b+d[g][0]]=b+d[g][1],b+=d[g][1]-d[g][0]-1;return f}const W9={resolve:X9,tokenize:q9},Y9={partial:!0,tokenize:G9};function X9(e){return W_(e),e}function q9(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(c)}function o(c){return c===null?i(c):Je(c)?e.check(Y9,l,i)(c):(e.consume(c),o)}function i(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function l(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function G9(e,t,n){const r=this;return o;function o(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),St(e,i,"linePrefix")}function i(l){if(l===null||Je(l))return n(l);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function Y_(e,t,n,r,o,i,l,c,d){const f=d||Number.POSITIVE_INFINITY;let m=0;return p;function p(k){return k===60?(e.enter(r),e.enter(o),e.enter(i),e.consume(k),e.exit(i),g):k===null||k===32||k===41||Ud(k)?n(k):(e.enter(r),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),v(k))}function g(k){return k===62?(e.enter(i),e.consume(k),e.exit(i),e.exit(o),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),x(k))}function x(k){return k===62?(e.exit("chunkString"),e.exit(c),g(k)):k===null||k===60||Je(k)?n(k):(e.consume(k),k===92?b:x)}function b(k){return k===60||k===62||k===92?(e.consume(k),x):x(k)}function v(k){return!m&&(k===null||k===41||Dt(k))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(r),t(k)):m<f&&k===40?(e.consume(k),m++,v):k===41?(e.consume(k),m--,v):k===null||k===32||k===40||Ud(k)?n(k):(e.consume(k),k===92?w:v)}function w(k){return k===40||k===41||k===92?(e.consume(k),v):v(k)}}function X_(e,t,n,r,o,i){const l=this;let c=0,d;return f;function f(x){return e.enter(r),e.enter(o),e.consume(x),e.exit(o),e.enter(i),m}function m(x){return c>999||x===null||x===91||x===93&&!d||x===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(x):x===93?(e.exit(i),e.enter(o),e.consume(x),e.exit(o),e.exit(r),t):Je(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===null||x===91||x===93||Je(x)||c++>999?(e.exit("chunkString"),m(x)):(e.consume(x),d||(d=!xt(x)),x===92?g:p)}function g(x){return x===91||x===92||x===93?(e.consume(x),c++,p):p(x)}}function q_(e,t,n,r,o,i){let l;return c;function c(g){return g===34||g===39||g===40?(e.enter(r),e.enter(o),e.consume(g),e.exit(o),l=g===40?41:g,d):n(g)}function d(g){return g===l?(e.enter(o),e.consume(g),e.exit(o),e.exit(r),t):(e.enter(i),f(g))}function f(g){return g===l?(e.exit(i),d(l)):g===null?n(g):Je(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),St(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===l||g===null||Je(g)?(e.exit("chunkString"),f(g)):(e.consume(g),g===92?p:m)}function p(g){return g===l||g===92?(e.consume(g),m):m(g)}}function Da(e,t){let n;return r;function r(o){return Je(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):xt(o)?St(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const K9={name:"definition",tokenize:J9},Q9={partial:!0,tokenize:Z9};function J9(e,t,n){const r=this;let o;return i;function i(x){return e.enter("definition"),l(x)}function l(x){return X_.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function c(x){return o=Ir(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),d):n(x)}function d(x){return Dt(x)?Da(e,f)(x):f(x)}function f(x){return Y_(e,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function m(x){return e.attempt(Q9,p,p)(x)}function p(x){return xt(x)?St(e,g,"whitespace")(x):g(x)}function g(x){return x===null||Je(x)?(e.exit("definition"),r.parser.defined.push(o),t(x)):n(x)}}function Z9(e,t,n){return r;function r(c){return Dt(c)?Da(e,o)(c):n(c)}function o(c){return q_(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function i(c){return xt(c)?St(e,l,"whitespace")(c):l(c)}function l(c){return c===null||Je(c)?t(c):n(c)}}const e7={name:"hardBreakEscape",tokenize:t7};function t7(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),o}function o(i){return Je(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const n7={name:"headingAtx",resolve:r7,tokenize:o7};function r7(e,t){let n=e.length-2,r=3,o,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ir(e,r,n-r+1,[["enter",o,t],["enter",i,t],["exit",i,t],["exit",o,t]])),e}function o7(e,t,n){let r=0;return o;function o(m){return e.enter("atxHeading"),i(m)}function i(m){return e.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&r++<6?(e.consume(m),l):m===null||Dt(m)?(e.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(e.enter("atxHeadingSequence"),d(m)):m===null||Je(m)?(e.exit("atxHeading"),t(m)):xt(m)?St(e,c,"whitespace")(m):(e.enter("atxHeadingText"),f(m))}function d(m){return m===35?(e.consume(m),d):(e.exit("atxHeadingSequence"),c(m))}function f(m){return m===null||m===35||Dt(m)?(e.exit("atxHeadingText"),c(m)):(e.consume(m),f)}}const i7=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],R1=["pre","script","style","textarea"],s7={concrete:!0,name:"htmlFlow",resolveTo:c7,tokenize:u7},l7={partial:!0,tokenize:f7},a7={partial:!0,tokenize:d7};function c7(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function u7(e,t,n){const r=this;let o,i,l,c,d;return f;function f(T){return m(T)}function m(T){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(T),p}function p(T){return T===33?(e.consume(T),g):T===47?(e.consume(T),i=!0,v):T===63?(e.consume(T),o=3,r.interrupt?t:M):On(T)?(e.consume(T),l=String.fromCharCode(T),w):n(T)}function g(T){return T===45?(e.consume(T),o=2,x):T===91?(e.consume(T),o=5,c=0,b):On(T)?(e.consume(T),o=4,r.interrupt?t:M):n(T)}function x(T){return T===45?(e.consume(T),r.interrupt?t:M):n(T)}function b(T){const V="CDATA[";return T===V.charCodeAt(c++)?(e.consume(T),c===V.length?r.interrupt?t:X:b):n(T)}function v(T){return On(T)?(e.consume(T),l=String.fromCharCode(T),w):n(T)}function w(T){if(T===null||T===47||T===62||Dt(T)){const V=T===47,Z=l.toLowerCase();return!V&&!i&&R1.includes(Z)?(o=1,r.interrupt?t(T):X(T)):i7.includes(l.toLowerCase())?(o=6,V?(e.consume(T),k):r.interrupt?t(T):X(T)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(T):i?E(T):C(T))}return T===45||jn(T)?(e.consume(T),l+=String.fromCharCode(T),w):n(T)}function k(T){return T===62?(e.consume(T),r.interrupt?t:X):n(T)}function E(T){return xt(T)?(e.consume(T),E):z(T)}function C(T){return T===47?(e.consume(T),z):T===58||T===95||On(T)?(e.consume(T),_):xt(T)?(e.consume(T),C):z(T)}function _(T){return T===45||T===46||T===58||T===95||jn(T)?(e.consume(T),_):R(T)}function R(T){return T===61?(e.consume(T),P):xt(T)?(e.consume(T),R):C(T)}function P(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),d=T,I):xt(T)?(e.consume(T),P):F(T)}function I(T){return T===d?(e.consume(T),d=null,W):T===null||Je(T)?n(T):(e.consume(T),I)}function F(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||Dt(T)?R(T):(e.consume(T),F)}function W(T){return T===47||T===62||xt(T)?C(T):n(T)}function z(T){return T===62?(e.consume(T),B):n(T)}function B(T){return T===null||Je(T)?X(T):xt(T)?(e.consume(T),B):n(T)}function X(T){return T===45&&o===2?(e.consume(T),$):T===60&&o===1?(e.consume(T),q):T===62&&o===4?(e.consume(T),H):T===63&&o===3?(e.consume(T),M):T===93&&o===5?(e.consume(T),U):Je(T)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(l7,Y,G)(T)):T===null||Je(T)?(e.exit("htmlFlowData"),G(T)):(e.consume(T),X)}function G(T){return e.check(a7,A,Y)(T)}function A(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),O}function O(T){return T===null||Je(T)?G(T):(e.enter("htmlFlowData"),X(T))}function $(T){return T===45?(e.consume(T),M):X(T)}function q(T){return T===47?(e.consume(T),l="",D):X(T)}function D(T){if(T===62){const V=l.toLowerCase();return R1.includes(V)?(e.consume(T),H):X(T)}return On(T)&&l.length<8?(e.consume(T),l+=String.fromCharCode(T),D):X(T)}function U(T){return T===93?(e.consume(T),M):X(T)}function M(T){return T===62?(e.consume(T),H):T===45&&o===2?(e.consume(T),M):X(T)}function H(T){return T===null||Je(T)?(e.exit("htmlFlowData"),Y(T)):(e.consume(T),H)}function Y(T){return e.exit("htmlFlow"),t(T)}}function d7(e,t,n){const r=this;return o;function o(l){return Je(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):n(l)}function i(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function f7(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Cc,t,n)}}const p7={name:"htmlText",tokenize:h7};function h7(e,t,n){const r=this;let o,i,l;return c;function c(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),d}function d(M){return M===33?(e.consume(M),f):M===47?(e.consume(M),R):M===63?(e.consume(M),C):On(M)?(e.consume(M),F):n(M)}function f(M){return M===45?(e.consume(M),m):M===91?(e.consume(M),i=0,b):On(M)?(e.consume(M),E):n(M)}function m(M){return M===45?(e.consume(M),x):n(M)}function p(M){return M===null?n(M):M===45?(e.consume(M),g):Je(M)?(l=p,q(M)):(e.consume(M),p)}function g(M){return M===45?(e.consume(M),x):p(M)}function x(M){return M===62?$(M):M===45?g(M):p(M)}function b(M){const H="CDATA[";return M===H.charCodeAt(i++)?(e.consume(M),i===H.length?v:b):n(M)}function v(M){return M===null?n(M):M===93?(e.consume(M),w):Je(M)?(l=v,q(M)):(e.consume(M),v)}function w(M){return M===93?(e.consume(M),k):v(M)}function k(M){return M===62?$(M):M===93?(e.consume(M),k):v(M)}function E(M){return M===null||M===62?$(M):Je(M)?(l=E,q(M)):(e.consume(M),E)}function C(M){return M===null?n(M):M===63?(e.consume(M),_):Je(M)?(l=C,q(M)):(e.consume(M),C)}function _(M){return M===62?$(M):C(M)}function R(M){return On(M)?(e.consume(M),P):n(M)}function P(M){return M===45||jn(M)?(e.consume(M),P):I(M)}function I(M){return Je(M)?(l=I,q(M)):xt(M)?(e.consume(M),I):$(M)}function F(M){return M===45||jn(M)?(e.consume(M),F):M===47||M===62||Dt(M)?W(M):n(M)}function W(M){return M===47?(e.consume(M),$):M===58||M===95||On(M)?(e.consume(M),z):Je(M)?(l=W,q(M)):xt(M)?(e.consume(M),W):$(M)}function z(M){return M===45||M===46||M===58||M===95||jn(M)?(e.consume(M),z):B(M)}function B(M){return M===61?(e.consume(M),X):Je(M)?(l=B,q(M)):xt(M)?(e.consume(M),B):W(M)}function X(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),o=M,G):Je(M)?(l=X,q(M)):xt(M)?(e.consume(M),X):(e.consume(M),A)}function G(M){return M===o?(e.consume(M),o=void 0,O):M===null?n(M):Je(M)?(l=G,q(M)):(e.consume(M),G)}function A(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||Dt(M)?W(M):(e.consume(M),A)}function O(M){return M===47||M===62||Dt(M)?W(M):n(M)}function $(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):n(M)}function q(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),D}function D(M){return xt(M)?St(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):U(M)}function U(M){return e.enter("htmlTextData"),l(M)}}const ry={name:"labelEnd",resolveAll:y7,resolveTo:v7,tokenize:w7},m7={tokenize:b7},g7={tokenize:S7},x7={tokenize:k7};function y7(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&ir(e,0,e.length,n),e}function v7(e,t){let n=e.length,r=0,o,i,l,c;for(;n--;)if(o=e[n][1],i){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(i=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(l=n);const d={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[i][1].start},end:{...e[l][1].end}},m={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[l-2][1].start}};return c=[["enter",d,t],["enter",f,t]],c=mr(c,e.slice(i+1,i+r+3)),c=mr(c,[["enter",m,t]]),c=mr(c,Vf(t.parser.constructs.insideSpan.null,e.slice(i+r+4,l-3),t)),c=mr(c,[["exit",m,t],e[l-2],e[l-1],["exit",f,t]]),c=mr(c,e.slice(l+1)),c=mr(c,[["exit",d,t]]),ir(e,i,e.length,c),e}function w7(e,t,n){const r=this;let o=r.events.length,i,l;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){i=r.events[o][1];break}return c;function c(g){return i?i._inactive?p(g):(l=r.parser.defined.includes(Ir(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),d):n(g)}function d(g){return g===40?e.attempt(m7,m,l?m:p)(g):g===91?e.attempt(g7,m,l?f:p)(g):l?m(g):p(g)}function f(g){return e.attempt(x7,m,p)(g)}function m(g){return t(g)}function p(g){return i._balanced=!0,n(g)}}function b7(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),o}function o(p){return Dt(p)?Da(e,i)(p):i(p)}function i(p){return p===41?m(p):Y_(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return Dt(p)?Da(e,d)(p):m(p)}function c(p){return n(p)}function d(p){return p===34||p===39||p===40?q_(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):m(p)}function f(p){return Dt(p)?Da(e,m)(p):m(p)}function m(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function S7(e,t,n){const r=this;return o;function o(c){return X_.call(r,e,i,l,"reference","referenceMarker","referenceString")(c)}function i(c){return r.parser.defined.includes(Ir(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function l(c){return n(c)}}function k7(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),o}function o(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const C7={name:"labelStartImage",resolveAll:ry.resolveAll,tokenize:N7};function N7(e,t,n){const r=this;return o;function o(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),i}function i(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const E7={name:"labelStartLink",resolveAll:ry.resolveAll,tokenize:j7};function j7(e,t,n){const r=this;return o;function o(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),i}function i(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const km={name:"lineEnding",tokenize:_7};function _7(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),St(e,t,"linePrefix")}}const gd={name:"thematicBreak",tokenize:P7};function P7(e,t,n){let r=0,o;return i;function i(f){return e.enter("thematicBreak"),l(f)}function l(f){return o=f,c(f)}function c(f){return f===o?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Je(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===o?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),xt(f)?St(e,c,"whitespace")(f):c(f))}}const Wn={continuation:{tokenize:R7},exit:D7,name:"list",tokenize:I7},A7={partial:!0,tokenize:O7},T7={partial:!0,tokenize:M7};function I7(e,t,n){const r=this,o=r.events[r.events.length-1];let i=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return c;function c(x){const b=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:jg(x)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(gd,n,f)(x):f(x);if(!r.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(x)}return n(x)}function d(x){return jg(x)&&++l<10?(e.consume(x),d):(!r.interrupt||l<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),f(x)):n(x)}function f(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,e.check(Cc,r.interrupt?n:m,e.attempt(A7,g,p))}function m(x){return r.containerState.initialBlankLine=!0,i++,g(x)}function p(x){return xt(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),g):n(x)}function g(x){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function R7(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Cc,o,i);function o(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,St(e,t,"listItemIndent",r.containerState.size+1)(c)}function i(c){return r.containerState.furtherBlankLines||!xt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(T7,t,l)(c))}function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,St(e,e.attempt(Wn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function M7(e,t,n){const r=this;return St(e,o,"listItemIndent",r.containerState.size+1);function o(i){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(i):n(i)}}function D7(e){e.exit(this.containerState.type)}function O7(e,t,n){const r=this;return St(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(i){const l=r.events[r.events.length-1];return!xt(i)&&l&&l[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const M1={name:"setextUnderline",resolveTo:L7,tokenize:z7};function L7(e,t){let n=e.length,r,o,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",i?(e.splice(o,0,["enter",l,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function z7(e,t,n){const r=this;let o;return i;function i(f){let m=r.events.length,p;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){p=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),o=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===o?(e.consume(f),c):(e.exit("setextHeadingLineSequence"),xt(f)?St(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Je(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const $7={tokenize:F7};function F7(e){const t=this,n=e.attempt(Cc,r,e.attempt(this.parser.constructs.flowInitial,o,St(e,e.attempt(this.parser.constructs.flow,o,e.attempt(W9,o)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const B7={resolveAll:K_()},V7=G_("string"),H7=G_("text");function G_(e){return{resolveAll:K_(e==="text"?U7:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],i=n.attempt(o,l,c);return l;function l(m){return f(m)?i(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),d}function d(m){return f(m)?(n.exit("data"),i(m)):(n.consume(m),d)}function f(m){if(m===null)return!0;const p=o[m];let g=-1;if(p)for(;++g<p.length;){const x=p[g];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function K_(e){return t;function t(n,r){let o=-1,i;for(;++o<=n.length;)i===void 0?n[o]&&n[o][1].type==="data"&&(i=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==i+2&&(n[i][1].end=n[o-1][1].end,n.splice(i+2,o-i-2),o=i+2),i=void 0);return e?e(n,r):n}}function U7(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let i=o.length,l=-1,c=0,d;for(;i--;){const f=o[i];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(f===-2)d=!0,c++;else if(f!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const f={type:n===e.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?l:r.start._bufferIndex+l,_index:r.start._index+i,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const W7={42:Wn,43:Wn,45:Wn,48:Wn,49:Wn,50:Wn,51:Wn,52:Wn,53:Wn,54:Wn,55:Wn,56:Wn,57:Wn,62:V_},Y7={91:K9},X7={[-2]:Sm,[-1]:Sm,32:Sm},q7={35:n7,42:gd,45:[M1,gd],60:s7,61:M1,95:gd,96:I1,126:I1},G7={38:U_,92:H_},K7={[-5]:km,[-4]:km,[-3]:km,33:C7,38:U_,42:_g,60:[E9,p7],91:E7,92:[e7,H_],93:ry,95:_g,96:$9},Q7={null:[_g,B7]},J7={null:[42,95]},Z7={null:[]},eU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:J7,contentInitial:Y7,disable:Z7,document:W7,flow:q7,flowInitial:X7,insideSpan:Q7,string:G7,text:K7},Symbol.toStringTag,{value:"Module"}));function tU(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},i=[];let l=[],c=[];const d={attempt:I(R),check:I(P),consume:E,enter:C,exit:_,interrupt:I(P,{interrupt:!0})},f={code:null,containerState:{},defineSkip:v,events:[],now:b,parser:e,previous:null,sliceSerialize:g,sliceStream:x,write:p};let m=t.tokenize.call(f,d);return t.resolveAll&&i.push(t),f;function p(B){return l=mr(l,B),w(),l[l.length-1]!==null?[]:(F(t,0),f.events=Vf(i,f.events,f),f.events)}function g(B,X){return rU(x(B),X)}function x(B){return nU(l,B)}function b(){const{_bufferIndex:B,_index:X,line:G,column:A,offset:O}=r;return{_bufferIndex:B,_index:X,line:G,column:A,offset:O}}function v(B){o[B.line]=B.column,z()}function w(){let B;for(;r._index<l.length;){const X=l[r._index];if(typeof X=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<X.length;)k(X.charCodeAt(r._bufferIndex));else k(X)}}function k(B){m=m(B)}function E(B){Je(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,z()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=B}function C(B,X){const G=X||{};return G.type=B,G.start=b(),f.events.push(["enter",G,f]),c.push(G),G}function _(B){const X=c.pop();return X.end=b(),f.events.push(["exit",X,f]),X}function R(B,X){F(B,X.from)}function P(B,X){X.restore()}function I(B,X){return G;function G(A,O,$){let q,D,U,M;return Array.isArray(A)?Y(A):"tokenize"in A?Y([A]):H(A);function H(J){return K;function K(te){const Q=te!==null&&J[te],ie=te!==null&&J.null,le=[...Array.isArray(Q)?Q:Q?[Q]:[],...Array.isArray(ie)?ie:ie?[ie]:[]];return Y(le)(te)}}function Y(J){return q=J,D=0,J.length===0?$:T(J[D])}function T(J){return K;function K(te){return M=W(),U=J,J.partial||(f.currentConstruct=J),J.name&&f.parser.constructs.disable.null.includes(J.name)?Z():J.tokenize.call(X?Object.assign(Object.create(f),X):f,d,V,Z)(te)}}function V(J){return B(U,M),O}function Z(J){return M.restore(),++D<q.length?T(q[D]):$}}}function F(B,X){B.resolveAll&&!i.includes(B)&&i.push(B),B.resolve&&ir(f.events,X,f.events.length-X,B.resolve(f.events.slice(X),f)),B.resolveTo&&(f.events=B.resolveTo(f.events,f))}function W(){const B=b(),X=f.previous,G=f.currentConstruct,A=f.events.length,O=Array.from(c);return{from:A,restore:$};function $(){r=B,f.previous=X,f.currentConstruct=G,f.events.length=A,c=O,z()}}function z(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function nU(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,i=t.end._bufferIndex;let l;if(n===o)l=[e[n].slice(r,i)];else{if(l=e.slice(n,o),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}i>0&&l.push(e[o].slice(0,i))}return l}function rU(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const i=e[n];let l;if(typeof i=="string")l=i;else switch(i){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&o)continue;l=" ";break}default:l=String.fromCharCode(i)}o=i===-2,r.push(l)}return r.join("")}function oU(e){const r={constructs:F_([eU,...(e||{}).extensions||[]]),content:o(v9),defined:[],document:o(b9),flow:o($7),lazy:{},string:o(V7),text:o(H7)};return r;function o(i){return l;function l(c){return tU(r,i,c)}}}function iU(e){for(;!W_(e););return e}const D1=/[\0\t\n\r]/g;function sU(){let e=1,t="",n=!0,r;return o;function o(i,l,c){const d=[];let f,m,p,g,x;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(l||void 0).decode(i)),p=0,t="",n&&(i.charCodeAt(0)===65279&&p++,n=void 0);p<i.length;){if(D1.lastIndex=p,f=D1.exec(i),g=f&&f.index!==void 0?f.index:i.length,x=i.charCodeAt(g),!f){t=i.slice(p);break}if(x===10&&p===g&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),p<g&&(d.push(i.slice(p,g)),e+=g-p),x){case 0:{d.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,d.push(-2);e++<m;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return c&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const lU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function aU(e){return e.replace(lU,cU)}function cU(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),i=o===120||o===88;return B_(n.slice(i?2:1),i?16:10)}return ny(n)||e}const Q_={}.hasOwnProperty;function uU(e,t,n){return typeof t!="string"&&(n=t,t=void 0),dU(n)(iU(oU(n).document().write(sU()(e,t,!0))))}function dU(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(et),autolinkProtocol:W,autolinkEmail:W,atxHeading:i(De),blockQuote:i(ie),characterEscape:W,characterReference:W,codeFenced:i(le),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:i(le,l),codeText:i(de,l),codeTextData:W,data:W,codeFlowValue:W,definition:i(fe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:i(ge),hardBreakEscape:i(Me),hardBreakTrailing:i(Me),htmlFlow:i(ot,l),htmlFlowData:W,htmlText:i(ot,l),htmlTextData:W,image:i(tt),label:l,link:i(et),listItem:i(We),listItemValue:g,listOrdered:i(ke,p),listUnordered:i(ke),paragraph:i(lt),reference:T,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:i(De),strong:i(vt),thematicBreak:i(Tt)},exit:{atxHeading:d(),atxHeadingSequence:R,autolink:d(),autolinkEmail:Q,autolinkProtocol:te,blockQuote:d(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:J,characterReference:K,codeFenced:d(w),codeFencedFence:v,codeFencedFenceInfo:x,codeFencedFenceMeta:b,codeFlowValue:z,codeIndented:d(k),codeText:d(O),codeTextData:z,data:z,definition:d(),definitionDestinationString:_,definitionLabelString:E,definitionTitleString:C,emphasis:d(),hardBreakEscape:d(X),hardBreakTrailing:d(X),htmlFlow:d(G),htmlFlowData:z,htmlText:d(A),htmlTextData:z,image:d(q),label:U,labelText:D,lineEnding:B,link:d($),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:V,resourceDestinationString:M,resourceTitleString:H,resource:Y,setextHeading:d(F),setextHeadingLineSequence:I,setextHeadingText:P,strong:d(),thematicBreak:d()}};J_(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ue){let pe={type:"root",children:[]};const Pe={stack:[pe],tokenStack:[],config:t,enter:c,exit:f,buffer:l,resume:m,data:n},je=[];let Xe=-1;for(;++Xe<ue.length;)if(ue[Xe][1].type==="listOrdered"||ue[Xe][1].type==="listUnordered")if(ue[Xe][0]==="enter")je.push(Xe);else{const ut=je.pop();Xe=o(ue,ut,Xe)}for(Xe=-1;++Xe<ue.length;){const ut=t[ue[Xe][0]];Q_.call(ut,ue[Xe][1].type)&&ut[ue[Xe][1].type].call(Object.assign({sliceSerialize:ue[Xe][2].sliceSerialize},Pe),ue[Xe][1])}if(Pe.tokenStack.length>0){const ut=Pe.tokenStack[Pe.tokenStack.length-1];(ut[1]||O1).call(Pe,void 0,ut[0])}for(pe.position={start:Xo(ue.length>0?ue[0][1].start:{line:1,column:1,offset:0}),end:Xo(ue.length>0?ue[ue.length-2][1].end:{line:1,column:1,offset:0})},Xe=-1;++Xe<t.transforms.length;)pe=t.transforms[Xe](pe)||pe;return pe}function o(ue,pe,Pe){let je=pe-1,Xe=-1,ut=!1,bt,Ct,It,_t;for(;++je<=Pe;){const pt=ue[je];switch(pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{pt[0]==="enter"?Xe++:Xe--,_t=void 0;break}case"lineEndingBlank":{pt[0]==="enter"&&(bt&&!_t&&!Xe&&!It&&(It=je),_t=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_t=void 0}if(!Xe&&pt[0]==="enter"&&pt[1].type==="listItemPrefix"||Xe===-1&&pt[0]==="exit"&&(pt[1].type==="listUnordered"||pt[1].type==="listOrdered")){if(bt){let Pt=je;for(Ct=void 0;Pt--;){const he=ue[Pt];if(he[1].type==="lineEnding"||he[1].type==="lineEndingBlank"){if(he[0]==="exit")continue;Ct&&(ue[Ct][1].type="lineEndingBlank",ut=!0),he[1].type="lineEnding",Ct=Pt}else if(!(he[1].type==="linePrefix"||he[1].type==="blockQuotePrefix"||he[1].type==="blockQuotePrefixWhitespace"||he[1].type==="blockQuoteMarker"||he[1].type==="listItemIndent"))break}It&&(!Ct||It<Ct)&&(bt._spread=!0),bt.end=Object.assign({},Ct?ue[Ct][1].start:pt[1].end),ue.splice(Ct||je,0,["exit",bt,pt[2]]),je++,Pe++}if(pt[1].type==="listItemPrefix"){const Pt={type:"listItem",_spread:!1,start:Object.assign({},pt[1].start),end:void 0};bt=Pt,ue.splice(je,0,["enter",Pt,pt[2]]),je++,Pe++,It=void 0,_t=!0}}}return ue[pe][1]._spread=ut,Pe}function i(ue,pe){return Pe;function Pe(je){c.call(this,ue(je),je),pe&&pe.call(this,je)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ue,pe,Pe){this.stack[this.stack.length-1].children.push(ue),this.stack.push(ue),this.tokenStack.push([pe,Pe||void 0]),ue.position={start:Xo(pe.start),end:void 0}}function d(ue){return pe;function pe(Pe){ue&&ue.call(this,Pe),f.call(this,Pe)}}function f(ue,pe){const Pe=this.stack.pop(),je=this.tokenStack.pop();if(je)je[0].type!==ue.type&&(pe?pe.call(this,ue,je[0]):(je[1]||O1).call(this,ue,je[0]));else throw new Error("Cannot close `"+ue.type+"` ("+Ma({start:ue.start,end:ue.end})+"): its not open");Pe.position.end=Xo(ue.end)}function m(){return ty(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(ue){if(this.data.expectingFirstListItemValue){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(ue),10),this.data.expectingFirstListItemValue=void 0}}function x(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=ue}function b(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=ue}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ue.replace(/(\r?\n|\r)$/g,"")}function E(ue){const pe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=pe,Pe.identifier=Ir(this.sliceSerialize(ue)).toLowerCase()}function C(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ue}function _(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ue}function R(ue){const pe=this.stack[this.stack.length-1];if(!pe.depth){const Pe=this.sliceSerialize(ue).length;pe.depth=Pe}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function I(ue){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(ue).codePointAt(0)===61?1:2}function F(){this.data.setextHeadingSlurpLineEnding=void 0}function W(ue){const Pe=this.stack[this.stack.length-1].children;let je=Pe[Pe.length-1];(!je||je.type!=="text")&&(je=Et(),je.position={start:Xo(ue.start),end:void 0},Pe.push(je)),this.stack.push(je)}function z(ue){const pe=this.stack.pop();pe.value+=this.sliceSerialize(ue),pe.position.end=Xo(ue.end)}function B(ue){const pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Pe=pe.children[pe.children.length-1];Pe.position.end=Xo(ue.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(pe.type)&&(W.call(this,ue),z.call(this,ue))}function X(){this.data.atHardBreak=!0}function G(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ue}function A(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ue}function O(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ue}function $(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=pe,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function q(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=pe,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function D(ue){const pe=this.sliceSerialize(ue),Pe=this.stack[this.stack.length-2];Pe.label=aU(pe),Pe.identifier=Ir(pe).toLowerCase()}function U(){const ue=this.stack[this.stack.length-1],pe=this.resume(),Pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Pe.type==="link"){const je=ue.children;Pe.children=je}else Pe.alt=pe}function M(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ue}function H(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ue}function Y(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function V(ue){const pe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=pe,Pe.identifier=Ir(this.sliceSerialize(ue)).toLowerCase(),this.data.referenceType="full"}function Z(ue){this.data.characterReferenceType=ue.type}function J(ue){const pe=this.sliceSerialize(ue),Pe=this.data.characterReferenceType;let je;Pe?(je=B_(pe,Pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):je=ny(pe);const Xe=this.stack[this.stack.length-1];Xe.value+=je}function K(ue){const pe=this.stack.pop();pe.position.end=Xo(ue.end)}function te(ue){z.call(this,ue);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(ue)}function Q(ue){z.call(this,ue);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(ue)}function ie(){return{type:"blockquote",children:[]}}function le(){return{type:"code",lang:null,meta:null,value:""}}function de(){return{type:"inlineCode",value:""}}function fe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ge(){return{type:"emphasis",children:[]}}function De(){return{type:"heading",depth:0,children:[]}}function Me(){return{type:"break"}}function ot(){return{type:"html",value:""}}function tt(){return{type:"image",title:null,url:"",alt:null}}function et(){return{type:"link",title:null,url:"",children:[]}}function ke(ue){return{type:"list",ordered:ue.type==="listOrdered",start:null,spread:ue._spread,children:[]}}function We(ue){return{type:"listItem",spread:ue._spread,checked:null,children:[]}}function lt(){return{type:"paragraph",children:[]}}function vt(){return{type:"strong",children:[]}}function Et(){return{type:"text",value:""}}function Tt(){return{type:"thematicBreak"}}}function Xo(e){return{line:e.line,column:e.column,offset:e.offset}}function J_(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?J_(e,r):fU(e,r)}}function fU(e,t){let n;for(n in t)if(Q_.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function O1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ma({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ma({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ma({start:t.start,end:t.end})+") is still open")}function pU(e){const t=this;t.parser=n;function n(r){return uU(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function hU(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function mU(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function gU(e,t){const n=t.value?t.value+`
`:"",r={},o=t.lang?t.lang.split(/\s+/):[];o.length>0&&(r.className=["language-"+o[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function xU(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yU(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vU(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=yl(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let l,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=i+1,c+=1,e.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function wU(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bU(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Z_(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),i=o[0];i&&i.type==="text"?i.value="["+i.value:o.unshift({type:"text",value:"["});const l=o[o.length-1];return l&&l.type==="text"?l.value+=r:o.push({type:"text",value:r}),o}function SU(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Z_(e,t);const o={src:yl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const i={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,i),e.applyData(t,i)}function kU(e,t){const n={src:yl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function CU(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function NU(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Z_(e,t);const o={href:yl(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const i={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function EU(e,t){const n={href:yl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function jU(e,t,n){const r=e.all(t),o=n?_U(n):e2(t),i={},l=[];if(typeof t.checked=="boolean"){const m=r[0];let p;m&&m.type==="element"&&m.tagName==="p"?p=m:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(o||c!==0||m.type!=="element"||m.tagName!=="p")&&l.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!o?l.push(...m.children):l.push(m)}const d=r[r.length-1];d&&(o||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:i,children:l};return e.patch(t,f),e.applyData(t,f)}function _U(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=e2(n[r])}return t}function e2(e){const t=e.spread;return t??e.children.length>1}function PU(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const l=r[o];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function AU(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function TU(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function IU(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function RU(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),o.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=Qx(t.children[1]),d=R_(t.children[t.children.length-1]);c&&d&&(l.position={start:c,end:d}),o.push(l)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,i),e.applyData(t,i)}function MU(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:t.children.length;let d=-1;const f=[];for(;++d<c;){const p=t.children[d],g={},x=l?l[d]:void 0;x&&(g.align=x);let b={type:"element",tagName:i,properties:g,children:[]};p&&(b.children=e.all(p),e.patch(p,b),b=e.applyData(p,b)),f.push(b)}const m={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,m),e.applyData(t,m)}function DU(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const L1=9,z1=32;function OU(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const i=[];for(;r;)i.push($1(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return i.push($1(t.slice(o),o>0,!1)),i.join("")}function $1(e,t,n){let r=0,o=e.length;if(t){let i=e.codePointAt(r);for(;i===L1||i===z1;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(o-1);for(;i===L1||i===z1;)o--,i=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function LU(e,t){const n={type:"text",value:OU(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function zU(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const $U={blockquote:hU,break:mU,code:gU,delete:xU,emphasis:yU,footnoteReference:vU,heading:wU,html:bU,imageReference:SU,image:kU,inlineCode:CU,linkReference:NU,link:EU,listItem:jU,list:PU,paragraph:AU,root:TU,strong:IU,table:RU,tableCell:DU,tableRow:MU,text:LU,thematicBreak:zU,toml:nd,yaml:nd,definition:nd,footnoteDefinition:nd};function nd(){}const t2=-1,Hf=0,Oa=1,Wd=2,oy=3,iy=4,sy=5,ly=6,n2=7,r2=8,F1=typeof self=="object"?self:globalThis,FU=(e,t)=>{const n=(o,i)=>(e.set(i,o),o),r=o=>{if(e.has(o))return e.get(o);const[i,l]=t[o];switch(i){case Hf:case t2:return n(l,o);case Oa:{const c=n([],o);for(const d of l)c.push(r(d));return c}case Wd:{const c=n({},o);for(const[d,f]of l)c[r(d)]=r(f);return c}case oy:return n(new Date(l),o);case iy:{const{source:c,flags:d}=l;return n(new RegExp(c,d),o)}case sy:{const c=n(new Map,o);for(const[d,f]of l)c.set(r(d),r(f));return c}case ly:{const c=n(new Set,o);for(const d of l)c.add(r(d));return c}case n2:{const{name:c,message:d}=l;return n(new F1[c](d),o)}case r2:return n(BigInt(l),o);case"BigInt":return n(Object(BigInt(l)),o);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new F1[i](l),o)};return r},B1=e=>FU(new Map,e)(0),Rs="",{toString:BU}={},{keys:VU}=Object,ha=e=>{const t=typeof e;if(t!=="object"||!e)return[Hf,t];const n=BU.call(e).slice(8,-1);switch(n){case"Array":return[Oa,Rs];case"Object":return[Wd,Rs];case"Date":return[oy,Rs];case"RegExp":return[iy,Rs];case"Map":return[sy,Rs];case"Set":return[ly,Rs];case"DataView":return[Oa,n]}return n.includes("Array")?[Oa,n]:n.includes("Error")?[n2,n]:[Wd,n]},rd=([e,t])=>e===Hf&&(t==="function"||t==="symbol"),HU=(e,t,n,r)=>{const o=(l,c)=>{const d=r.push(l)-1;return n.set(c,d),d},i=l=>{if(n.has(l))return n.get(l);let[c,d]=ha(l);switch(c){case Hf:{let m=l;switch(d){case"bigint":c=r2,m=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);m=null;break;case"undefined":return o([t2],l)}return o([c,m],l)}case Oa:{if(d){let g=l;return d==="DataView"?g=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(g=new Uint8Array(l)),o([d,[...g]],l)}const m=[],p=o([c,m],l);for(const g of l)m.push(i(g));return p}case Wd:{if(d)switch(d){case"BigInt":return o([d,l.toString()],l);case"Boolean":case"Number":case"String":return o([d,l.valueOf()],l)}if(t&&"toJSON"in l)return i(l.toJSON());const m=[],p=o([c,m],l);for(const g of VU(l))(e||!rd(ha(l[g])))&&m.push([i(g),i(l[g])]);return p}case oy:return o([c,l.toISOString()],l);case iy:{const{source:m,flags:p}=l;return o([c,{source:m,flags:p}],l)}case sy:{const m=[],p=o([c,m],l);for(const[g,x]of l)(e||!(rd(ha(g))||rd(ha(x))))&&m.push([i(g),i(x)]);return p}case ly:{const m=[],p=o([c,m],l);for(const g of l)(e||!rd(ha(g)))&&m.push(i(g));return p}}const{message:f}=l;return o([c,{name:d,message:f}],l)};return i},V1=(e,{json:t,lossy:n}={})=>{const r=[];return HU(!(t||n),!!t,new Map,r)(e),r},Yd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?B1(V1(e,t)):structuredClone(e):(e,t)=>B1(V1(e,t));function UU(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function WU(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function YU(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||UU,r=e.options.footnoteBackLabel||WU,o=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const m=e.all(f),p=String(f.identifier).toUpperCase(),g=yl(p.toLowerCase());let x=0;const b=[],v=e.footnoteCounts.get(p);for(;v!==void 0&&++x<=v;){b.length>0&&b.push({type:"text",value:" "});let E=typeof n=="string"?n:n(d,x);typeof E=="string"&&(E={type:"text",value:E}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,x),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const w=m[m.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const E=w.children[w.children.length-1];E&&E.type==="text"?E.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...b)}else m.push(...b);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(m,!0)};e.patch(f,k),c.push(k)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Yd(l),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const Uf=(function(e){if(e==null)return KU;if(typeof e=="function")return Wf(e);if(typeof e=="object")return Array.isArray(e)?XU(e):qU(e);if(typeof e=="string")return GU(e);throw new Error("Expected function, string, or object as test")});function XU(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Uf(e[n]);return Wf(r);function r(...o){let i=-1;for(;++i<t.length;)if(t[i].apply(this,o))return!0;return!1}}function qU(e){const t=e;return Wf(n);function n(r){const o=r;let i;for(i in e)if(o[i]!==t[i])return!1;return!0}}function GU(e){return Wf(t);function t(n){return n&&n.type===e}}function Wf(e){return t;function t(n,r,o){return!!(QU(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function KU(){return!0}function QU(e){return e!==null&&typeof e=="object"&&"type"in e}const o2=[],JU=!0,Pg=!1,ZU="skip";function i2(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const i=Uf(o),l=r?-1:1;c(e,void 0,[])();function c(d,f,m){const p=d&&typeof d=="object"?d:{};if(typeof p.type=="string"){const x=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(d.type+(x?"<"+x+">":""))+")"})}return g;function g(){let x=o2,b,v,w;if((!t||i(d,f,m[m.length-1]||void 0))&&(x=eW(n(d,m)),x[0]===Pg))return x;if("children"in d&&d.children){const k=d;if(k.children&&x[0]!==ZU)for(v=(r?k.children.length:-1)+l,w=m.concat(k);v>-1&&v<k.children.length;){const E=k.children[v];if(b=c(E,v,w)(),b[0]===Pg)return b;v=typeof b[1]=="number"?b[1]:v+l}}return x}}}function eW(e){return Array.isArray(e)?e:typeof e=="number"?[JU,e]:e==null?o2:[e]}function ay(e,t,n,r){let o,i,l;typeof t=="function"&&typeof n!="function"?(i=void 0,l=t,o=n):(i=t,l=n,o=r),i2(e,i,c,o);function c(d,f){const m=f[f.length-1],p=m?m.children.indexOf(d):void 0;return l(d,p,m)}}const Ag={}.hasOwnProperty,tW={};function nW(e,t){const n=t||tW,r=new Map,o=new Map,i=new Map,l={...$U,...n.handlers},c={all:f,applyData:oW,definitionById:r,footnoteById:o,footnoteCounts:i,footnoteOrder:[],handlers:l,one:d,options:n,patch:rW,wrap:sW};return ay(e,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const p=m.type==="definition"?r:o,g=String(m.identifier).toUpperCase();p.has(g)||p.set(g,m)}}),c;function d(m,p){const g=m.type,x=c.handlers[g];if(Ag.call(c.handlers,g)&&x)return x(c,m,p);if(c.options.passThrough&&c.options.passThrough.includes(g)){if("children"in m){const{children:v,...w}=m,k=Yd(w);return k.children=c.all(m),k}return Yd(m)}return(c.options.unknownHandler||iW)(c,m,p)}function f(m){const p=[];if("children"in m){const g=m.children;let x=-1;for(;++x<g.length;){const b=c.one(g[x],m);if(b){if(x&&g[x-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=H1(b.value)),!Array.isArray(b)&&b.type==="element")){const v=b.children[0];v&&v.type==="text"&&(v.value=H1(v.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function rW(e,t){e.position&&(t.position=W8(e))}function oW(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&i&&Object.assign(n.properties,Yd(i)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function iW(e,t){const n=t.data||{},r="value"in t&&!(Ag.call(n,"hProperties")||Ag.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function sW(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function H1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function U1(e,t){const n=nW(e,t),r=n.one(e,void 0),o=YU(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&i.children.push({type:"text",value:`
`},o),i}function lW(e,t){return e&&"run"in e?async function(n,r){const o=U1(n,{file:r,...t});await e.run(o,r)}:function(n,r){return U1(n,{file:r,...e||t})}}function W1(e){if(e)throw e}var Cm,Y1;function aW(){if(Y1)return Cm;Y1=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},i=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var m=e.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!m&&!p)return!1;var g;for(g in f);return typeof g>"u"||e.call(f,g)},l=function(f,m){n&&m.name==="__proto__"?n(f,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):f[m.name]=m.newValue},c=function(f,m){if(m==="__proto__")if(e.call(f,m)){if(r)return r(f,m).value}else return;return f[m]};return Cm=function d(){var f,m,p,g,x,b,v=arguments[0],w=1,k=arguments.length,E=!1;for(typeof v=="boolean"&&(E=v,v=arguments[1]||{},w=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});w<k;++w)if(f=arguments[w],f!=null)for(m in f)p=c(v,m),g=c(f,m),v!==g&&(E&&g&&(i(g)||(x=o(g)))?(x?(x=!1,b=p&&o(p)?p:[]):b=p&&i(p)?p:{},l(v,{name:m,newValue:d(E,b,g)})):typeof g<"u"&&l(v,{name:m,newValue:g}));return v},Cm}var cW=aW();const Nm=sc(cW);function Tg(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function uW(){const e=[],t={run:n,use:r};return t;function n(...o){let i=-1;const l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...o);function c(d,...f){const m=e[++i];let p=-1;if(d){l(d);return}for(;++p<o.length;)(f[p]===null||f[p]===void 0)&&(f[p]=o[p]);o=f,m?dW(m,c)(...f):l(null,...f)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function dW(e,t){let n;return r;function r(...l){const c=e.length>l.length;let d;c&&l.push(o);try{d=e.apply(this,l)}catch(f){const m=f;if(c&&n)throw m;return o(m)}c||(d&&d.then&&typeof d.then=="function"?d.then(i,o):d instanceof Error?o(d):i(d))}function o(l,...c){n||(n=!0,t(l,...c))}function i(l){o(null,l)}}const Yr={basename:fW,dirname:pW,extname:hW,join:mW,sep:"/"};function fW(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Nc(e);let n=0,r=-1,o=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(i){n=o+1;break}}else r<0&&(i=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,c=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(i){n=o+1;break}}else l<0&&(i=!0,l=o+1),c>-1&&(e.codePointAt(o)===t.codePointAt(c--)?c<0&&(r=o):(c=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function pW(e){if(Nc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function hW(e){Nc(e);let t=e.length,n=-1,r=0,o=-1,i=0,l;for(;t--;){const c=e.codePointAt(t);if(c===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),c===46?o<0?o=t:i!==1&&(i=1):o>-1&&(i=-1)}return o<0||n<0||i===0||i===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function mW(...e){let t=-1,n;for(;++t<e.length;)Nc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":gW(n)}function gW(e){Nc(e);const t=e.codePointAt(0)===47;let n=xW(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function xW(e,t){let n="",r=0,o=-1,i=0,l=-1,c,d;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(o===l-1||i===1))if(o!==l-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),o=l,i=0;continue}}else if(n.length>0){n="",r=0,o=l,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,l):n=e.slice(o+1,l),r=l-o-1;o=l,i=0}else c===46&&i>-1?i++:i=-1}return n}function Nc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const yW={cwd:vW};function vW(){return"/"}function Ig(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function wW(e){if(typeof e=="string")e=new URL(e);else if(!Ig(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return bW(e)}function bW(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const Em=["history","path","basename","stem","extname","dirname"];class s2{constructor(t){let n;t?Ig(t)?n={path:t}:typeof t=="string"||SW(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":yW.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Em.length;){const i=Em[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let o;for(o in n)Em.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Yr.basename(this.path):void 0}set basename(t){_m(t,"basename"),jm(t,"basename"),this.path=Yr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Yr.dirname(this.path):void 0}set dirname(t){X1(this.basename,"dirname"),this.path=Yr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Yr.extname(this.path):void 0}set extname(t){if(jm(t,"extname"),X1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Yr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Ig(t)&&(t=wW(t)),_m(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Yr.basename(this.path,this.extname):void 0}set stem(t){_m(t,"stem"),jm(t,"stem"),this.path=Yr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new Tn(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function jm(e,t){if(e&&e.includes(Yr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Yr.sep+"`")}function _m(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function X1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function SW(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const kW=(function(e){const r=this.constructor.prototype,o=r[e],i=function(){return o.apply(i,arguments)};return Object.setPrototypeOf(i,r),i}),CW={}.hasOwnProperty;class cy extends kW{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=uW()}copy(){const t=new cy;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Nm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Tm("data",this.frozen),this.namespace[t]=n,this):CW.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Tm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=od(t),r=this.parser||this.Parser;return Pm("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Pm("process",this.parser||this.Parser),Am("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(i,l){const c=od(t),d=r.parse(c);r.run(d,c,function(m,p,g){if(m||!p||!g)return f(m);const x=p,b=r.stringify(x,g);jW(b)?g.value=b:g.result=b,f(m,g)});function f(m,p){m||!p?l(m):i?i(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),Pm("processSync",this.parser||this.Parser),Am("processSync",this.compiler||this.Compiler),this.process(t,o),G1("processSync","process",n),r;function o(i,l){n=!0,W1(i),r=l}}run(t,n,r){q1(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(l,c){const d=od(n);o.run(t,d,f);function f(m,p,g){const x=p||t;m?c(m):l?l(x):r(void 0,x,g)}}}runSync(t,n){let r=!1,o;return this.run(t,n,i),G1("runSync","run",r),o;function i(l,c){W1(l),o=c,r=!0}}stringify(t,n){this.freeze();const r=od(n),o=this.compiler||this.Compiler;return Am("stringify",o),q1(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(Tm("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[m,...p]=f;d(m,p)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(o.settings=Nm(!0,o.settings,f.settings))}function c(f){let m=-1;if(f!=null)if(Array.isArray(f))for(;++m<f.length;){const p=f[m];i(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,m){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===f){g=p;break}if(g===-1)r.push([f,...m]);else if(m.length>0){let[x,...b]=m;const v=r[g][1];Tg(v)&&Tg(x)&&(x=Nm(!0,v,x)),r[g]=[f,x,...b]}}}}const NW=new cy().freeze();function Pm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Am(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Tm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function q1(e){if(!Tg(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function G1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function od(e){return EW(e)?e:new s2(e)}function EW(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function jW(e){return typeof e=="string"||_W(e)}function _W(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const PW="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",K1=[],Q1={allowDangerousHtml:!0},AW=/^(https?|ircs?|mailto|xmpp)$/i,TW=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function IW(e){const t=RW(e),n=MW(e);return DW(t.runSync(t.parse(n),n),e)}function RW(e){const t=e.rehypePlugins||K1,n=e.remarkPlugins||K1,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Q1}:Q1;return NW().use(pU).use(n).use(lW,r).use(t)}function MW(e){const t=e.children||"",n=new s2;return typeof t=="string"&&(n.value=t),n}function DW(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,i=t.disallowedElements,l=t.skipHtml,c=t.unwrapDisallowed,d=t.urlTransform||OW;for(const m of TW)Object.hasOwn(t,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+PW+m.id,void 0);return ay(e,f),K8(e,{Fragment:u.Fragment,components:o,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function f(m,p,g){if(m.type==="raw"&&g&&typeof p=="number")return l?g.children.splice(p,1):g.children[p]={type:"text",value:m.value},p;if(m.type==="element"){let x;for(x in bm)if(Object.hasOwn(bm,x)&&Object.hasOwn(m.properties,x)){const b=m.properties[x],v=bm[x];(v===null||v.includes(m.tagName))&&(m.properties[x]=d(String(b||""),x,m))}}if(m.type==="element"){let x=n?!n.includes(m.tagName):i?i.includes(m.tagName):!1;if(!x&&r&&typeof p=="number"&&(x=!r(m,p,g)),x&&g&&typeof p=="number")return c&&m.children?g.children.splice(p,1,...m.children):g.children.splice(p,1),p}}}function OW(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||AW.test(e.slice(0,t))?e:""}function J1(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}function LW(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function zW(e,t,n){const o=Uf((n||{}).ignore||[]),i=$W(t);let l=-1;for(;++l<i.length;)i2(e,"text",c);function c(f,m){let p=-1,g;for(;++p<m.length;){const x=m[p],b=g?g.children:void 0;if(o(x,b?b.indexOf(x):void 0,g))return;g=x}if(g)return d(f,m)}function d(f,m){const p=m[m.length-1],g=i[l][0],x=i[l][1];let b=0;const w=p.children.indexOf(f);let k=!1,E=[];g.lastIndex=0;let C=g.exec(f.value);for(;C;){const _=C.index,R={index:C.index,input:C.input,stack:[...m,f]};let P=x(...C,R);if(typeof P=="string"&&(P=P.length>0?{type:"text",value:P}:void 0),P===!1?g.lastIndex=_+1:(b!==_&&E.push({type:"text",value:f.value.slice(b,_)}),Array.isArray(P)?E.push(...P):P&&E.push(P),b=_+C[0].length,k=!0),!g.global)break;C=g.exec(f.value)}return k?(b<f.value.length&&E.push({type:"text",value:f.value.slice(b)}),p.children.splice(w,1,...E)):E=[f],w+E.length}}function $W(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const o=n[r];t.push([FW(o[0]),BW(o[1])])}return t}function FW(e){return typeof e=="string"?new RegExp(LW(e),"g"):e}function BW(e){return typeof e=="function"?e:function(){return e}}const Im="phrasing",Rm=["autolink","link","image","label"];function VW(){return{transforms:[GW],enter:{literalAutolink:UW,literalAutolinkEmail:Mm,literalAutolinkHttp:Mm,literalAutolinkWww:Mm},exit:{literalAutolink:qW,literalAutolinkEmail:XW,literalAutolinkHttp:WW,literalAutolinkWww:YW}}}function HW(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Im,notInConstruct:Rm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Im,notInConstruct:Rm},{character:":",before:"[ps]",after:"\\/",inConstruct:Im,notInConstruct:Rm}]}}function UW(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Mm(e){this.config.enter.autolinkProtocol.call(this,e)}function WW(e){this.config.exit.autolinkProtocol.call(this,e)}function YW(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function XW(e){this.config.exit.autolinkEmail.call(this,e)}function qW(e){this.exit(e)}function GW(e){zW(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,KW],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),QW]],{ignore:["link","linkReference"]})}function KW(e,t,n,r,o){let i="";if(!l2(o)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!JW(n)))return!1;const l=ZW(n+r);if(!l[0])return!1;const c={type:"link",title:null,url:i+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function QW(e,t,n,r){return!l2(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function JW(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function ZW(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=J1(e,"(");let i=J1(e,")");for(;r!==-1&&o>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function l2(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Qi(n)||Bf(n))&&(!t||n!==47)}a2.peek=aY;function eY(){this.buffer()}function tY(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function nY(){this.buffer()}function rY(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function oY(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ir(this.sliceSerialize(e)).toLowerCase(),n.label=t}function iY(e){this.exit(e)}function sY(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ir(this.sliceSerialize(e)).toLowerCase(),n.label=t}function lY(e){this.exit(e)}function aY(){return"["}function a2(e,t,n,r){const o=n.createTracker(r);let i=o.move("[^");const l=n.enter("footnoteReference"),c=n.enter("reference");return i+=o.move(n.safe(n.associationId(e),{after:"]",before:i})),c(),l(),i+=o.move("]"),i}function cY(){return{enter:{gfmFootnoteCallString:eY,gfmFootnoteCall:tY,gfmFootnoteDefinitionLabelString:nY,gfmFootnoteDefinition:rY},exit:{gfmFootnoteCallString:oY,gfmFootnoteCall:iY,gfmFootnoteDefinitionLabelString:sY,gfmFootnoteDefinition:lY}}}function uY(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:a2},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,o,i,l){const c=i.createTracker(l);let d=c.move("[^");const f=i.enter("footnoteDefinition"),m=i.enter("label");return d+=c.move(i.safe(i.associationId(r),{before:d,after:"]"})),m(),d+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),d+=c.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,c.current()),t?c2:dY))),f(),d}}function dY(e,t,n){return t===0?e:c2(e,t,n)}function c2(e,t,n){return(n?"":"    ")+e}const fY=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];u2.peek=xY;function pY(){return{canContainEols:["delete"],enter:{strikethrough:mY},exit:{strikethrough:gY}}}function hY(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:fY}],handlers:{delete:u2}}}function mY(e){this.enter({type:"delete",children:[]},e)}function gY(e){this.exit(e)}function u2(e,t,n,r){const o=n.createTracker(r),i=n.enter("strikethrough");let l=o.move("~~");return l+=n.containerPhrasing(e,{...o.current(),before:l,after:"~"}),l+=o.move("~~"),i(),l}function xY(){return"~"}function yY(e){return e.length}function vY(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||yY,i=[],l=[],c=[],d=[];let f=0,m=-1;for(;++m<e.length;){const v=[],w=[];let k=-1;for(e[m].length>f&&(f=e[m].length);++k<e[m].length;){const E=wY(e[m][k]);if(n.alignDelimiters!==!1){const C=o(E);w[k]=C,(d[k]===void 0||C>d[k])&&(d[k]=C)}v.push(E)}l[m]=v,c[m]=w}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<f;)i[p]=Z1(r[p]);else{const v=Z1(r);for(;++p<f;)i[p]=v}p=-1;const g=[],x=[];for(;++p<f;){const v=i[p];let w="",k="";v===99?(w=":",k=":"):v===108?w=":":v===114&&(k=":");let E=n.alignDelimiters===!1?1:Math.max(1,d[p]-w.length-k.length);const C=w+"-".repeat(E)+k;n.alignDelimiters!==!1&&(E=w.length+E+k.length,E>d[p]&&(d[p]=E),x[p]=E),g[p]=C}l.splice(1,0,g),c.splice(1,0,x),m=-1;const b=[];for(;++m<l.length;){const v=l[m],w=c[m];p=-1;const k=[];for(;++p<f;){const E=v[p]||"";let C="",_="";if(n.alignDelimiters!==!1){const R=d[p]-(w[p]||0),P=i[p];P===114?C=" ".repeat(R):P===99?R%2?(C=" ".repeat(R/2+.5),_=" ".repeat(R/2-.5)):(C=" ".repeat(R/2),_=C):_=" ".repeat(R)}n.delimiterStart!==!1&&!p&&k.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&E==="")&&(n.delimiterStart!==!1||p)&&k.push(" "),n.alignDelimiters!==!1&&k.push(C),k.push(E),n.alignDelimiters!==!1&&k.push(_),n.padding!==!1&&k.push(" "),(n.delimiterEnd!==!1||p!==f-1)&&k.push("|")}b.push(n.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return b.join(`
`)}function wY(e){return e==null?"":String(e)}function Z1(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function bY(e,t,n,r){const o=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const l=n.indentLines(n.containerFlow(e,i.current()),SY);return o(),l}function SY(e,t,n){return">"+(n?"":" ")+e}function kY(e,t){return eS(e,t.inConstruct,!0)&&!eS(e,t.notInConstruct,!1)}function eS(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function tS(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&kY(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function CY(e,t){const n=String(e);let r=n.indexOf(t),o=r,i=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++i>l&&(l=i):i=1,o=r+t.length,r=n.indexOf(t,o);return l}function NY(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function EY(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function jY(e,t,n,r){const o=EY(n),i=e.value||"",l=o==="`"?"GraveAccent":"Tilde";if(NY(e,n)){const p=n.enter("codeIndented"),g=n.indentLines(i,_Y);return p(),g}const c=n.createTracker(r),d=o.repeat(Math.max(CY(i,o)+1,3)),f=n.enter("codeFenced");let m=c.move(d);if(e.lang){const p=n.enter(`codeFencedLang${l}`);m+=c.move(n.safe(e.lang,{before:m,after:" ",encode:["`"],...c.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${l}`);m+=c.move(" "),m+=c.move(n.safe(e.meta,{before:m,after:`
`,encode:["`"],...c.current()})),p()}return m+=c.move(`
`),i&&(m+=c.move(i+`
`)),m+=c.move(d),f(),m}function _Y(e,t,n){return(n?"":"    ")+e}function uy(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function PY(e,t,n,r){const o=uy(n),i=o==='"'?"Quote":"Apostrophe",l=n.enter("definition");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("[");return f+=d.move(n.safe(n.associationId(e),{before:f,after:"]",...d.current()})),f+=d.move("]: "),c(),!e.url||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...d.current()}))),c(),e.title&&(c=n.enter(`title${i}`),f+=d.move(" "+o),f+=d.move(n.safe(e.title,{before:f,after:o,...d.current()})),f+=d.move(o),c()),l(),f}function AY(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ic(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Xd(e,t,n){const r=ll(e),o=ll(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}d2.peek=TY;function d2(e,t,n,r){const o=AY(n),i=n.enter("emphasis"),l=n.createTracker(r),c=l.move(o);let d=l.move(n.containerPhrasing(e,{after:o,before:c,...l.current()}));const f=d.charCodeAt(0),m=Xd(r.before.charCodeAt(r.before.length-1),f,o);m.inside&&(d=ic(f)+d.slice(1));const p=d.charCodeAt(d.length-1),g=Xd(r.after.charCodeAt(0),p,o);g.inside&&(d=d.slice(0,-1)+ic(p));const x=l.move(o);return i(),n.attentionEncodeSurroundingInfo={after:g.outside,before:m.outside},c+d+x}function TY(e,t,n){return n.options.emphasis||"*"}function IY(e,t){let n=!1;return ay(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Pg}),!!((!e.depth||e.depth<3)&&ty(e)&&(t.options.setext||n))}function RY(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(IY(e,n)){const m=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return p(),m(),g+`
`+(o===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const l="#".repeat(o),c=n.enter("headingAtx"),d=n.enter("phrasing");i.move(l+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(f)&&(f=ic(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),d(),c(),f}f2.peek=MY;function f2(e){return e.value||""}function MY(){return"<"}p2.peek=DY;function p2(e,t,n,r){const o=uy(n),i=o==='"'?"Quote":"Apostrophe",l=n.enter("image");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("![");return f+=d.move(n.safe(e.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":")",...d.current()}))),c(),e.title&&(c=n.enter(`title${i}`),f+=d.move(" "+o),f+=d.move(n.safe(e.title,{before:f,after:o,...d.current()})),f+=d.move(o),c()),f+=d.move(")"),l(),f}function DY(){return"!"}h2.peek=OY;function h2(e,t,n,r){const o=e.referenceType,i=n.enter("imageReference");let l=n.enter("label");const c=n.createTracker(r);let d=c.move("![");const f=n.safe(e.alt,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),l();const m=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return l(),n.stack=m,i(),o==="full"||!f||f!==p?d+=c.move(p+"]"):o==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function OY(){return"!"}m2.peek=LY;function m2(e,t,n){let r=e.value||"",o="`",i=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const l=n.unsafe[i],c=n.compilePattern(l);let d;if(l.atBreak)for(;d=c.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return o+r+o}function LY(){return"`"}function g2(e,t){const n=ty(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}x2.peek=zY;function x2(e,t,n,r){const o=uy(n),i=o==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let c,d;if(g2(e,n)){const m=n.stack;n.stack=[],c=n.enter("autolink");let p=l.move("<");return p+=l.move(n.containerPhrasing(e,{before:p,after:">",...l.current()})),p+=l.move(">"),c(),n.stack=m,p}c=n.enter("link"),d=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(e,{before:f,after:"](",...l.current()})),f+=l.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(e.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(d=n.enter("destinationRaw"),f+=l.move(n.safe(e.url,{before:f,after:e.title?" ":")",...l.current()}))),d(),e.title&&(d=n.enter(`title${i}`),f+=l.move(" "+o),f+=l.move(n.safe(e.title,{before:f,after:o,...l.current()})),f+=l.move(o),d()),f+=l.move(")"),c(),f}function zY(e,t,n){return g2(e,n)?"<":"["}y2.peek=$Y;function y2(e,t,n,r){const o=e.referenceType,i=n.enter("linkReference");let l=n.enter("label");const c=n.createTracker(r);let d=c.move("[");const f=n.containerPhrasing(e,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),l();const m=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return l(),n.stack=m,i(),o==="full"||!f||f!==p?d+=c.move(p+"]"):o==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function $Y(){return"["}function dy(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function FY(e){const t=dy(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function BY(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function v2(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function VY(e,t,n,r){const o=n.enter("list"),i=n.bulletCurrent;let l=e.ordered?BY(n):dy(n);const c=e.ordered?l==="."?")":".":FY(n);let d=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const m=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),v2(n)===l&&m){let p=-1;for(;++p<e.children.length;){const g=e.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=c),n.bulletCurrent=l;const f=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=i,o(),f}function HY(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function UY(e,t,n,r){const o=HY(n);let i=n.bulletCurrent||dy(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let l=i.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const c=n.createTracker(r);c.move(i+" ".repeat(l-i.length)),c.shift(l);const d=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,c.current()),m);return d(),f;function m(p,g,x){return g?(x?"":" ".repeat(l))+p:(x?i:i+" ".repeat(l-i.length))+p}}function WY(e,t,n,r){const o=n.enter("paragraph"),i=n.enter("phrasing"),l=n.containerPhrasing(e,r);return i(),o(),l}const YY=Uf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function XY(e,t,n,r){return(e.children.some(function(l){return YY(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function qY(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}w2.peek=GY;function w2(e,t,n,r){const o=qY(n),i=n.enter("strong"),l=n.createTracker(r),c=l.move(o+o);let d=l.move(n.containerPhrasing(e,{after:o,before:c,...l.current()}));const f=d.charCodeAt(0),m=Xd(r.before.charCodeAt(r.before.length-1),f,o);m.inside&&(d=ic(f)+d.slice(1));const p=d.charCodeAt(d.length-1),g=Xd(r.after.charCodeAt(0),p,o);g.inside&&(d=d.slice(0,-1)+ic(p));const x=l.move(o+o);return i(),n.attentionEncodeSurroundingInfo={after:g.outside,before:m.outside},c+d+x}function GY(e,t,n){return n.options.strong||"*"}function KY(e,t,n,r){return n.safe(e.value,r)}function QY(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function JY(e,t,n){const r=(v2(n)+(n.options.ruleSpaces?" ":"")).repeat(QY(n));return n.options.ruleSpaces?r.slice(0,-1):r}const b2={blockquote:bY,break:tS,code:jY,definition:PY,emphasis:d2,hardBreak:tS,heading:RY,html:f2,image:p2,imageReference:h2,inlineCode:m2,link:x2,linkReference:y2,list:VY,listItem:UY,paragraph:WY,root:XY,strong:w2,text:KY,thematicBreak:JY};function ZY(){return{enter:{table:eX,tableData:nS,tableHeader:nS,tableRow:nX},exit:{codeText:rX,table:tX,tableData:Dm,tableHeader:Dm,tableRow:Dm}}}function eX(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function tX(e){this.exit(e),this.data.inTable=void 0}function nX(e){this.enter({type:"tableRow",children:[]},e)}function Dm(e){this.exit(e)}function nS(e){this.enter({type:"tableCell",children:[]},e)}function rX(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,oX));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function oX(e,t){return t==="|"?t:e}function iX(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:l,tableCell:d,tableRow:c}};function l(x,b,v,w){return f(m(x,v,w),x.align)}function c(x,b,v,w){const k=p(x,v,w),E=f([k]);return E.slice(0,E.indexOf(`
`))}function d(x,b,v,w){const k=v.enter("tableCell"),E=v.enter("phrasing"),C=v.containerPhrasing(x,{...w,before:i,after:i});return E(),k(),C}function f(x,b){return vY(x,{align:b,alignDelimiters:r,padding:n,stringLength:o})}function m(x,b,v){const w=x.children;let k=-1;const E=[],C=b.enter("table");for(;++k<w.length;)E[k]=p(w[k],b,v);return C(),E}function p(x,b,v){const w=x.children;let k=-1;const E=[],C=b.enter("tableRow");for(;++k<w.length;)E[k]=d(w[k],x,b,v);return C(),E}function g(x,b,v){let w=b2.inlineCode(x,b,v);return v.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function sX(){return{exit:{taskListCheckValueChecked:rS,taskListCheckValueUnchecked:rS,paragraph:aX}}}function lX(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:cX}}}function rS(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function aX(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const o=t.children;let i=-1,l;for(;++i<o.length;){const c=o[i];if(c.type==="paragraph"){l=c;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function cX(e,t,n,r){const o=e.children[0],i=typeof e.checked=="boolean"&&o&&o.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",c=n.createTracker(r);i&&c.move(l);let d=b2.listItem(e,t,n,{...r,...c.current()});return i&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),d;function f(m){return m+l}}function uX(){return[VW(),cY(),pY(),ZY(),sX()]}function dX(e){return{extensions:[HW(),uY(e),hY(),iX(e),lX()]}}const fX={tokenize:yX,partial:!0},S2={tokenize:vX,partial:!0},k2={tokenize:wX,partial:!0},C2={tokenize:bX,partial:!0},pX={tokenize:SX,partial:!0},N2={name:"wwwAutolink",tokenize:gX,previous:j2},E2={name:"protocolAutolink",tokenize:xX,previous:_2},Co={name:"emailAutolink",tokenize:mX,previous:P2},ro={};function hX(){return{text:ro}}let Ti=48;for(;Ti<123;)ro[Ti]=Co,Ti++,Ti===58?Ti=65:Ti===91&&(Ti=97);ro[43]=Co;ro[45]=Co;ro[46]=Co;ro[95]=Co;ro[72]=[Co,E2];ro[104]=[Co,E2];ro[87]=[Co,N2];ro[119]=[Co,N2];function mX(e,t,n){const r=this;let o,i;return l;function l(p){return!Rg(p)||!P2.call(r,r.previous)||fy(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),c(p))}function c(p){return Rg(p)?(e.consume(p),c):p===64?(e.consume(p),d):n(p)}function d(p){return p===46?e.check(pX,m,f)(p):p===45||p===95||jn(p)?(i=!0,e.consume(p),d):m(p)}function f(p){return e.consume(p),o=!0,d}function m(p){return i&&o&&On(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function gX(e,t,n){const r=this;return o;function o(l){return l!==87&&l!==119||!j2.call(r,r.previous)||fy(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(fX,e.attempt(S2,e.attempt(k2,i),n),n)(l))}function i(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function xX(e,t,n){const r=this;let o="",i=!1;return l;function l(p){return(p===72||p===104)&&_2.call(r,r.previous)&&!fy(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(p),e.consume(p),c):n(p)}function c(p){if(On(p)&&o.length<5)return o+=String.fromCodePoint(p),e.consume(p),c;if(p===58){const g=o.toLowerCase();if(g==="http"||g==="https")return e.consume(p),d}return n(p)}function d(p){return p===47?(e.consume(p),i?f:(i=!0,d)):n(p)}function f(p){return p===null||Ud(p)||Dt(p)||Qi(p)||Bf(p)?n(p):e.attempt(S2,e.attempt(k2,m),n)(p)}function m(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function yX(e,t,n){let r=0;return o;function o(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),o):l===46&&r===3?(e.consume(l),i):n(l)}function i(l){return l===null?n(l):t(l)}}function vX(e,t,n){let r,o,i;return l;function l(f){return f===46||f===95?e.check(C2,d,c)(f):f===null||Dt(f)||Qi(f)||f!==45&&Bf(f)?d(f):(i=!0,e.consume(f),l)}function c(f){return f===95?r=!0:(o=r,r=void 0),e.consume(f),l}function d(f){return o||r||!i?n(f):t(f)}}function wX(e,t){let n=0,r=0;return o;function o(l){return l===40?(n++,e.consume(l),o):l===41&&r<n?i(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(C2,t,i)(l):l===null||Dt(l)||Qi(l)?t(l):(e.consume(l),o)}function i(l){return l===41&&r++,e.consume(l),o}}function bX(e,t,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(e.consume(c),r):c===38?(e.consume(c),i):c===93?(e.consume(c),o):c===60||c===null||Dt(c)||Qi(c)?t(c):n(c)}function o(c){return c===null||c===40||c===91||Dt(c)||Qi(c)?t(c):r(c)}function i(c){return On(c)?l(c):n(c)}function l(c){return c===59?(e.consume(c),r):On(c)?(e.consume(c),l):n(c)}}function SX(e,t,n){return r;function r(i){return e.consume(i),o}function o(i){return jn(i)?n(i):t(i)}}function j2(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Dt(e)}function _2(e){return!On(e)}function P2(e){return!(e===47||Rg(e))}function Rg(e){return e===43||e===45||e===46||e===95||jn(e)}function fy(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const kX={tokenize:TX,partial:!0};function CX(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:_X,continuation:{tokenize:PX},exit:AX}},text:{91:{name:"gfmFootnoteCall",tokenize:jX},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:NX,resolveTo:EX}}}}function NX(e,t,n){const r=this;let o=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;o--;){const d=r.events[o][1];if(d.type==="labelImage"){l=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return c;function c(d){if(!l||!l._balanced)return n(d);const f=Ir(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!i.includes(f.slice(1))?n(d):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),t(d))}}function EX(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},c=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",i,t],["enter",l,t],["exit",l,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...c),e}function jX(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,l;return c;function c(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),d}function d(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(p){if(i>999||p===93&&!l||p===null||p===91||Dt(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return o.includes(Ir(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return Dt(p)||(l=!0),i++,e.consume(p),p===92?m:f}function m(p){return p===91||p===92||p===93?(e.consume(p),i++,f):f(p)}}function _X(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,l=0,c;return d;function d(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",m):n(b)}function m(b){if(l>999||b===93&&!c||b===null||b===91||Dt(b))return n(b);if(b===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return i=Ir(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return Dt(b)||(c=!0),l++,e.consume(b),b===92?p:m}function p(b){return b===91||b===92||b===93?(e.consume(b),l++,m):m(b)}function g(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),o.includes(i)||o.push(i),St(e,x,"gfmFootnoteDefinitionWhitespace")):n(b)}function x(b){return t(b)}}function PX(e,t,n){return e.check(Cc,t,e.attempt(kX,t,n))}function AX(e){e.exit("gfmFootnoteDefinition")}function TX(e,t,n){const r=this;return St(e,o,"gfmFootnoteDefinitionIndent",5);function o(i){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(i):n(i)}}function IX(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:o};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(l,c){let d=-1;for(;++d<l.length;)if(l[d][0]==="enter"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._close){let f=d;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[d][1].end.offset-l[d][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[d][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[d][1].end)},p={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[d][1].start)},g=[["enter",m,c],["enter",l[f][1],c],["exit",l[f][1],c],["enter",p,c]],x=c.parser.constructs.insideSpan.null;x&&ir(g,g.length,0,Vf(x,l.slice(f+1,d),c)),ir(g,g.length,0,[["exit",p,c],["enter",l[d][1],c],["exit",l[d][1],c],["exit",m,c]]),ir(l,f-1,d-f+3,g),d=f+g.length-2;break}}for(d=-1;++d<l.length;)l[d][1].type==="strikethroughSequenceTemporary"&&(l[d][1].type="data");return l}function i(l,c,d){const f=this.previous,m=this.events;let p=0;return g;function g(b){return f===126&&m[m.length-1][1].type!=="characterEscape"?d(b):(l.enter("strikethroughSequenceTemporary"),x(b))}function x(b){const v=ll(f);if(b===126)return p>1?d(b):(l.consume(b),p++,x);if(p<2&&!n)return d(b);const w=l.exit("strikethroughSequenceTemporary"),k=ll(b);return w._open=!k||k===2&&!!v,w._close=!v||v===2&&!!k,c(b)}}}class RX{constructor(){this.map=[]}add(t,n,r){MX(this,t,n,r)}consume(t){if(this.map.sort(function(i,l){return i[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let o=r.pop();for(;o;){for(const i of o)t.push(i);o=r.pop()}this.map.length=0}}function MX(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function DX(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function OX(){return{flow:{null:{name:"table",tokenize:LX,resolveAll:zX}}}}function LX(e,t,n){const r=this;let o=0,i=0,l;return c;function c(z){let B=r.events.length-1;for(;B>-1;){const A=r.events[B][1].type;if(A==="lineEnding"||A==="linePrefix")B--;else break}const X=B>-1?r.events[B][1].type:null,G=X==="tableHead"||X==="tableRow"?P:d;return G===P&&r.parser.lazy[r.now().line]?n(z):G(z)}function d(z){return e.enter("tableHead"),e.enter("tableRow"),f(z)}function f(z){return z===124||(l=!0,i+=1),m(z)}function m(z){return z===null?n(z):Je(z)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),x):n(z):xt(z)?St(e,m,"whitespace")(z):(i+=1,l&&(l=!1,o+=1),z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),l=!0,m):(e.enter("data"),p(z)))}function p(z){return z===null||z===124||Dt(z)?(e.exit("data"),m(z)):(e.consume(z),z===92?g:p)}function g(z){return z===92||z===124?(e.consume(z),p):p(z)}function x(z){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(z):(e.enter("tableDelimiterRow"),l=!1,xt(z)?St(e,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):b(z))}function b(z){return z===45||z===58?w(z):z===124?(l=!0,e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),v):R(z)}function v(z){return xt(z)?St(e,w,"whitespace")(z):w(z)}function w(z){return z===58?(i+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),k):z===45?(i+=1,k(z)):z===null||Je(z)?_(z):R(z)}function k(z){return z===45?(e.enter("tableDelimiterFiller"),E(z)):R(z)}function E(z){return z===45?(e.consume(z),E):z===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),C):(e.exit("tableDelimiterFiller"),C(z))}function C(z){return xt(z)?St(e,_,"whitespace")(z):_(z)}function _(z){return z===124?b(z):z===null||Je(z)?!l||o!==i?R(z):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(z)):R(z)}function R(z){return n(z)}function P(z){return e.enter("tableRow"),I(z)}function I(z){return z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),I):z===null||Je(z)?(e.exit("tableRow"),t(z)):xt(z)?St(e,I,"whitespace")(z):(e.enter("data"),F(z))}function F(z){return z===null||z===124||Dt(z)?(e.exit("data"),I(z)):(e.consume(z),z===92?W:F)}function W(z){return z===92||z===124?(e.consume(z),F):F(z)}}function zX(e,t){let n=-1,r=!0,o=0,i=[0,0,0,0],l=[0,0,0,0],c=!1,d=0,f,m,p;const g=new RX;for(;++n<e.length;){const x=e[n],b=x[1];x[0]==="enter"?b.type==="tableHead"?(c=!1,d!==0&&(oS(g,t,d,f,m),m=void 0,d=0),f={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",f,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(r=!0,p=void 0,i=[0,0,0,0],l=[0,n+1,0,0],c&&(c=!1,m={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",m,t]])),o=b.type==="tableDelimiterRow"?2:m?3:1):o&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(i[1]!==0&&(l[0]=l[1],p=id(g,t,i,o,void 0,p),i=[0,0,0,0]),l[2]=n)):b.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(l[0]=l[1],p=id(g,t,i,o,void 0,p)),i=l,l=[i[1],n,0,0])):b.type==="tableHead"?(c=!0,d=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(d=n,i[1]!==0?(l[0]=l[1],p=id(g,t,i,o,n,p)):l[1]!==0&&(p=id(g,t,l,o,n,p)),o=0):o&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(l[3]=n)}for(d!==0&&oS(g,t,d,f,m),g.consume(t.events),n=-1;++n<t.events.length;){const x=t.events[n];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=DX(t.events,n))}return e}function id(e,t,n,r,o,i){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(i.end=Object.assign({},Ds(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const d=Ds(t.events,n[1]);if(i={type:l,start:Object.assign({},d),end:Object.assign({},d)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const f=Ds(t.events,n[2]),m=Ds(t.events,n[3]),p={type:c,start:Object.assign({},f),end:Object.assign({},m)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const g=t.events[n[2]],x=t.events[n[3]];if(g[1].end=Object.assign({},x[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,v=n[3]-n[2]-1;e.add(b,v,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return o!==void 0&&(i.end=Object.assign({},Ds(t.events,o)),e.add(o,0,[["exit",i,t]]),i=void 0),i}function oS(e,t,n,r,o){const i=[],l=Ds(t.events,n);o&&(o.end=Object.assign({},l),i.push(["exit",o,t])),r.end=Object.assign({},l),i.push(["exit",r,t]),e.add(n+1,0,i)}function Ds(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const $X={name:"tasklistCheck",tokenize:BX};function FX(){return{text:{91:$X}}}function BX(e,t,n){const r=this;return o;function o(d){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(d):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),i)}function i(d){return Dt(d)?(e.enter("taskListCheckValueUnchecked"),e.consume(d),e.exit("taskListCheckValueUnchecked"),l):d===88||d===120?(e.enter("taskListCheckValueChecked"),e.consume(d),e.exit("taskListCheckValueChecked"),l):n(d)}function l(d){return d===93?(e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),c):n(d)}function c(d){return Je(d)?t(d):xt(d)?e.check({tokenize:VX},t,n)(d):n(d)}}function VX(e,t,n){return St(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function HX(e){return F_([hX(),CX(),IX(e),OX(),FX()])}const UX={};function WX(e){const t=this,n=e||UX,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(HX(n)),i.push(uX()),l.push(dX(n))}function YX({open:e,onOpenChange:t}){const[n,r]=S.useState("");return S.useEffect(()=>{e&&fetch("usage-guide.md").then(o=>o.text()).then(o=>r(o)).catch(o=>{console.error("Error loading help content:",o),r(`# Error
Failed to load help content. Please try again later.`)})},[e]),u.jsx(dn,{open:e,onOpenChange:t,modal:!0,children:u.jsxs(fn,{className:"sm:max-w-[800px] max-h-[80vh]",children:[u.jsxs(pn,{children:[u.jsx(hn,{children:"Help & Documentation"}),u.jsx(ui,{children:"Learn how to use OCPN Tools with this guide."})]}),u.jsx(Tf,{className:"flex-1 pr-4 h-[60vh]",children:u.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none [&_table]:border-collapse [&_table]:w-full [&_th]:border [&_th]:border-gray-300 [&_th]:bg-gray-100 [&_th]:p-2 [&_th]:text-left [&_td]:border [&_td]:border-gray-300 [&_td]:p-2 dark:[&_th]:border-gray-600 dark:[&_th]:bg-gray-800 dark:[&_td]:border-gray-600",children:u.jsx(IW,{remarkPlugins:[WX],children:n})})}),u.jsx(Lr,{className:"mt-4",children:u.jsx(ye,{onClick:()=>t(!1),children:"Close"})})]})})}function XX({onToggleAIAssistant:e}){const[t,n]=S.useState(!1);return u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Dn,{children:u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",onClick:()=>n(!0),children:[u.jsx(YA,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Help & Documentation"})]})})}),u.jsx(xn,{children:u.jsx("p",{children:"Help & Documentation"})})]})}),u.jsx(Dn,{children:u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",onClick:e,children:[u.jsx(LT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Toggle AI Assistant"})]})})}),u.jsx(xn,{children:u.jsx("p",{children:"Toggle AI Assistant"})})]})}),u.jsx(YX,{open:t,onOpenChange:n})]})}function qX(e){const t=Object.values(e.petriNetsById).map(i=>{const l=i.nodes.filter(f=>f.type==="place").map(f=>`<place id="${f.id}">
            <posattr x="${f.position.x}" y="${f.position.y}"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="Solid"/>
            <textattr colour="Black" bold="false"/>
            <text>${f.data.label}</text>
            <ellipse w="60.000000" h="40.000000"/>
            <type id="${f.data.colorSet}">
              <text>${f.data.colorSet}</text>
            </type>
            <initmark id="${f.id}_initmark">
              <text>${f.data.initialMarking||""}</text>
            </initmark>
          </place>`).join(`
`),c=i.nodes.filter(f=>f.type==="transition").map(f=>`<trans id="${f.id}">
            <posattr x="${f.position.x}" y="${f.position.y}"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="solid"/>
            <textattr colour="Black" bold="false"/>
            <text>${f.data.label}</text>
            <box w="60.000000" h="40.000000"/>
            ${f.data.guard?`<cond id="${f.id}_guard">
                  <text>${f.data.guard}</text>
                </cond>`:""}
            ${f.data.time?`<time id="${f.id}_time">
                  <text>${f.data.time}</text>
                </time>`:""}
            ${f.data.priority?`<priority id="${f.id}_priority">
                  <text>${f.data.priority}</text>
                </priority>`:""}
          </trans>`).join(`
`),d=i.edges.map(f=>`<arc id="${f.id}" orientation="PtoT">
            <posattr x="0.000000" y="0.000000"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="Solid"/>
            <textattr colour="Black" bold="false"/>
            <arrowattr headsize="1.200000" currentcyckle="2"/>
            <transend idref="${f.target}"/>
            <placeend idref="${f.source}"/>
            <annot id="${f.id}_inscription">
              <text>${f.label||""}</text>
            </annot>
          </arc>`).join(`
`);return`<page id="${i.id}">
        <pageattr name="${i.name}"/>
        ${l}
        ${c}
        ${d}
        <constraints/>
      </page>`}).join(`
`),n=e.uses.map(i=>`<use file="${i.name}"/>`).join(`
`),r=e.functions.map(i=>`<ml id="${i.id}">
        ${i.code}
        <layout>${i.code}</layout>
      </ml>`).join(`
        `);return`<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE workspaceElements PUBLIC "-//CPN//DTD CPNXML 1.0//EN" "http://cpntools.org/DTD/6/cpn.dtd">
<workspaceElements>
  <generator tool="CPN Tools" version="4.0.1" format="6"/>
  <cpnet>
    <globbox>
      ${n}
      <block id="ID2">
        <id>Standard priorities</id>
        ${e.priorities.map(i=>`<ml id="${i.id}">
          val ${i.name} = ${i.level};
          <layout>val ${i.name} = ${i.level};</layout>
        </ml>`).join(`
        `)}
      </block>
      <block id="ID1">
        <id>Standard declarations</id>
        ${e.colorSets.map(i=>{const l=["int","unit","bool","intinf","time","real","string"],c=i.definition.match(/colset\s+\w+\s*=\s*(\w+);$/),d=c?c[1].toLowerCase():null;return`<color id="${i.id}">
              <id>${i.name}</id>
              ${d&&l.includes(d)?`<${d}/>`:""}
              <layout>${i.definition}</layout>
            </color>`}).join(`
        `)}
        ${e.variables.map(i=>`<var id="${i.id}">
          <type>
            <id>${i.colorSet}</id>
          </type>
          <id>${i.name}</id>
          <layout>var ${i.name}:${i.colorSet};</layout>
        </var>`).join(`
        `)}
        ${r}
      </block>
    </globbox>
    ${t}
    <monitorblock name="Monitors"/>
  </cpnet>
</workspaceElements>`}function GX(e){const t=Object.values(e.petriNetsById).flatMap(o=>o.nodes),n=Object.values(e.petriNetsById).flatMap(o=>o.edges),r={$schema:"http://json-schema.org/draft-07/schema#",colorSets:e.colorSets.map(o=>o.definition),places:t.filter(o=>o.type==="place").map(o=>({name:o.data.label,colorSet:o.data.colorSet})),transitions:t.filter(o=>o.type==="transition").map(o=>({name:o.data.label,variables:o.data.variables||[],guard:o.data.guard||"True",inArcs:n.filter(i=>i.target===o.id).map(i=>{var l;return{place:((l=t.find(c=>c.id===i.source))==null?void 0:l.data.label)||"",expression:i.label||""}}),outArcs:n.filter(i=>i.source===o.id).map(i=>{var l;return{place:((l=t.find(c=>c.id===i.target))==null?void 0:l.data.label)||"",expression:i.label||""}})})),initialMarking:t.filter(o=>o.type==="place").reduce((o,i)=>{const l=i.data.initialMarking||[];return o[String(i.data.label)]=l&&Array.isArray(l)?{tokens:l.map(c=>Array.isArray(c)?c.map(d=>typeof d=="string"?d:Number(d)):[typeof c=="string"?c:Number(c)])}:{tokens:[]},o},{}),evaluationContext:null};return JSON.stringify(r,null,2)}function py(e){var n;const t={petriNets:e.petriNetOrder.map(r=>{const o=e.petriNetsById[r];return{id:o.id,name:o.name,places:o.nodes.filter(i=>i.type==="place").map(i=>({id:i.id,name:i.data.label,colorSet:i.data.colorSet,initialMarking:i.data.initialMarking||"",marking:i.data.marking||"",position:i.position,size:i.measured||{width:50,height:30},colorSetOffset:i.data.colorSetOffset||void 0,tokenCountOffset:i.data.tokenCountOffset||void 0,markingOffset:i.data.markingOffset||void 0})),transitions:o.nodes.filter(i=>i.type==="transition").map(i=>({id:i.id,name:i.data.label,guard:i.data.guard||"",time:i.data.time||"",priority:i.data.priority||"",position:i.position,size:i.measured||{width:50,height:30}})),arcs:o.edges.map(i=>{var l,c,d;return{id:i.id,source:i.source,target:i.target,inscription:i.label||"",isBidirectional:((l=i.data)==null?void 0:l.isBidirectional)||!1,labelOffset:((c=i.data)==null?void 0:c.labelOffset)||void 0,bendpoints:((d=i.data)==null?void 0:d.bendpoints)||void 0}})}}),colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses,simulationSettings:e.simulationSettings||void 0,simulationEpoch:((n=e.simulationSettings)==null?void 0:n.simulationEpoch)||void 0};return JSON.stringify(t,null,2)}function KX(e){const t=JSON.parse(e);if(!t||!Array.isArray(t.petriNets))throw new Error("Invalid JSON format: Missing 'petriNets' array.");const n={},r=[];t.petriNets.forEach(m=>{const p=m.places.map(v=>{var w,k;return{id:v.id,type:"place",position:v.position||{x:0,y:0},data:{label:v.name,colorSet:v.colorSet,initialMarking:v.initialMarking||"",marking:v.marking||"",colorSetOffset:v.colorSetOffset||void 0,tokenCountOffset:v.tokenCountOffset||void 0,markingOffset:v.markingOffset||void 0},width:((w=v.size)==null?void 0:w.width)||50,height:((k=v.size)==null?void 0:k.height)||30}}),g=m.transitions.map(v=>{var w,k;return{id:v.id,type:"transition",position:v.position||{x:0,y:0},data:{label:v.name,guard:v.guard||"",time:v.time||"",priority:v.priority||""},width:((w=v.size)==null?void 0:w.width)||50,height:((k=v.size)==null?void 0:k.height)||30}}),x=m.arcs.map(v=>({id:v.id,source:v.source,target:v.target,label:v.inscription||"",data:{isBidirectional:v.isBidirectional||!1,labelOffset:v.labelOffset||void 0,bendpoints:v.bendpoints||void 0}})),b={id:m.id,name:m.name,nodes:[...p,...g],edges:x,selectedElement:null};n[m.id]=b,r.push(m.id)});const o=t.colorSets||[],i=t.variables||[],l=t.priorities||[],c=t.functions||[],d=t.uses||[],f=t.simulationSettings?{stepsPerRun:t.simulationSettings.stepsPerRun,animationDelayMs:t.simulationSettings.animationDelayMs,simulationEpoch:t.simulationSettings.simulationEpoch}:void 0;return{petriNetsById:n,petriNetOrder:r,colorSets:o,variables:i,priorities:l,functions:c,uses:d,simulationSettings:f}}function QX(e,t){const n=new Blob([e],{type:"text/plain;charset=utf-8"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}function JX(e,t){var n;try{const r=(n=t.split(".").pop())==null?void 0:n.toLowerCase();if(r==="ocpn")return KX(e);if(r==="json")return eq(e);if((r==="xml"||r==="cpn")&&(e.includes("<workspaceElements>")||e.includes("<cpnet>")))return ZX(e);throw new Error("Unsupported file format")}catch(r){return console.error("Error parsing file:",r),null}}function ka(){const e="0123456789ABCDEF";let t="#";for(let n=0;n<6;n++)t+=e[Math.floor(Math.random()*16)];return t}function ZX(e){const n=new DOMParser().parseFromString(e,"text/xml"),r={},o=[],i=Array.from(n.querySelectorAll("globbox color")).map(p=>{var C,_;const g=((C=p.querySelector("id"))==null?void 0:C.textContent)||"",x=p.querySelector("product");if(x){const R=Array.from(x.querySelectorAll(":scope > id")).map(I=>I.textContent||""),P=`colset ${g} = product ${R.join(" * ")};`;return{id:g,name:g,type:"product",definition:P,color:ka()}}const b=p.querySelector("int");if(b){const R=b.querySelector("with");if(R){const P=R.querySelectorAll("ml");if(P.length>=2){const I=P[0].textContent||"0",F=P[1].textContent||"0",W=`colset ${g} = int with ${I}..${F};`;return{id:g,name:g,type:"basic",definition:W,color:ka()}}}return{id:g,name:g,type:"basic",definition:`colset ${g} = int;`,color:ka()}}const v=Array.from(p.children).find(R=>{const P=R.tagName.toLowerCase();return["bool","string","real","unit","time","intinf"].includes(P)}),w=v?v.tagName.toLowerCase():null,k=((_=p.querySelector("layout"))==null?void 0:_.textContent)||"",E=w?`colset ${g} = ${w};`:k||`colset ${g} = complex;`;return{id:g,name:g,type:w?"basic":"complex",definition:E,color:ka()}}),l=Array.from(n.querySelectorAll("globbox var")).flatMap(p=>{var E,C;const g=p.getAttribute("id")||rt(),x=((E=p.querySelector("type > id"))==null?void 0:E.textContent)||"",b=((C=p.querySelector("layout"))==null?void 0:C.textContent)||"",v=Array.from(p.querySelectorAll(":scope > id"));if(v.length>0)return v.map((_,R)=>({id:`${g}_${R}`,name:_.textContent||"",colorSet:x}));const w=b.match(/var\s+([^:]+):/);return!w||!w[1]?(console.warn(`Could not parse variable names from layout: ${b}`),[]):w[1].split(",").map(_=>_.trim()).filter(_=>_).map((_,R)=>({id:`${g}_${R}`,name:_,colorSet:x}))}),c=Array.from(n.querySelectorAll("globbox ml")).reduce((p,g)=>{var v;const b=(((v=g.querySelector("layout"))==null?void 0:v.textContent)||"").match(/val\s+(\w+)\s*=\s*(\d+);/);return b&&p.push({id:rt(),name:b[1],level:parseInt(b[2],10)}),p},[]),d=[];Array.from(n.querySelectorAll("globbox block ml")).forEach(p=>{var b;const g=((b=p.querySelector("layout"))==null?void 0:b.textContent)||"",x=p.getAttribute("id")||rt();if(g.trim().startsWith("fun ")){const v=g.match(/^fun\s+([a-zA-Z0-9_]+)/),w=v?v[1]:`func_${x}`;d.push({id:x,name:w,code:g})}}),Array.from(n.querySelectorAll("globbox > ml")).forEach(p=>{var b;const g=((b=p.textContent)==null?void 0:b.trim())||"",x=p.getAttribute("id")||rt();if(g.startsWith("fun ")){const v=g.match(/^fun\s+([a-zA-Z0-9_]+)/),w=v?v[1]:`func_${x}`;d.push({id:x,name:w,code:g})}});const f=Array.from(n.querySelectorAll("globbox use")).map(p=>{var w,k;const g=((w=p.querySelector("ml"))==null?void 0:w.textContent)||"",x=((k=p.querySelector("layout"))==null?void 0:k.textContent)||"",b=g.match(/"([^"]+)"/)||x.match(/"([^"]+)"/),v=b?b[1]:"";return{id:rt(),name:v,content:""}});return Array.from(n.querySelectorAll("page")).forEach(p=>{var _;const g=p.getAttribute("id")||rt(),x=((_=p.querySelector("pageattr"))==null?void 0:_.getAttribute("name"))||`Page ${g}`,b=(R,P,I,F,W,z,B,X="text")=>{var T;if(!z)return null;const G=((T=z.querySelector(X))==null?void 0:T.textContent)||"";if(!G.trim())return null;const A=z.querySelector("posattr");if(!A)return null;const O=parseFloat(A.getAttribute("x")||"0"),$=-parseFloat(A.getAttribute("y")||"0"),q=P-F/2,D=I-W/2,U=O-q,M=$-D,H=z.querySelector("textattr"),Y=(H==null?void 0:H.getAttribute("colour"))||void 0;return{id:z.getAttribute("id")||rt(),type:"inscription",position:{x:U,y:M},parentId:R,draggable:!0,data:{label:G,inscriptionType:B,color:Y}}},v=Array.from(p.querySelectorAll("place")).flatMap(R=>{var D,U,M,H,Y;const P=R.querySelector("ellipse"),I=P?parseFloat(P.getAttribute("w")||"60"):60,F=P?parseFloat(P.getAttribute("h")||"40"):40,W=((D=R.querySelector("initmark text"))==null?void 0:D.textContent)||"",z=parseFloat(((U=R.querySelector("posattr"))==null?void 0:U.getAttribute("x"))||"0"),B=-parseFloat(((M=R.querySelector("posattr"))==null?void 0:M.getAttribute("y"))||"0"),X=R.getAttribute("id")||rt(),G=R.querySelector("type");let A;if(G){const T=G.querySelector("posattr");if(T){const V=parseFloat(T.getAttribute("x")||"0"),Z=-parseFloat(T.getAttribute("y")||"0");A={x:V-z,y:Z-B}}}const O=R.querySelector("initmark");let $;if(O){const T=O.querySelector("posattr");if(T){const V=parseFloat(T.getAttribute("x")||"0"),Z=-parseFloat(T.getAttribute("y")||"0");$={x:V-z,y:Z-B}}}return[{id:X,type:"place",position:{x:z-I/2,y:B-F/2},width:I,height:F,data:{label:((H=R.querySelector("text"))==null?void 0:H.textContent)||"",colorSet:((Y=R.querySelector("type text"))==null?void 0:Y.textContent)||"",initialMarking:W,colorSetOffset:A,markingOffset:$}}]}),w=Array.from(p.querySelectorAll("trans")).flatMap(R=>{var A,O,$,q,D,U;const P=R.querySelector("box"),I=P?parseFloat(P.getAttribute("w")||"60"):60,F=P?parseFloat(P.getAttribute("h")||"40"):40,W=parseFloat(((A=R.querySelector("posattr"))==null?void 0:A.getAttribute("x"))||"0"),z=-parseFloat(((O=R.querySelector("posattr"))==null?void 0:O.getAttribute("y"))||"0"),B=R.getAttribute("id")||rt(),X={id:B,type:"transition",position:{x:W-I/2,y:z-F/2},width:I,height:F,data:{label:(($=R.querySelector("text"))==null?void 0:$.textContent)||"",guard:((q=R.querySelector("cond text"))==null?void 0:q.textContent)||"",time:((D=R.querySelector("time text"))==null?void 0:D.textContent)||"",priority:((U=R.querySelector("priority text"))==null?void 0:U.textContent)||""}},G=[b(B,W,z,I,F,R.querySelector("cond"),"guard"),b(B,W,z,I,F,R.querySelector("time"),"time"),b(B,W,z,I,F,R.querySelector("priority"),"priority"),b(B,W,z,I,F,R.querySelector("code"),"codeSegment")].filter(M=>M!==null);return[X,...G]}),k=Array.from(p.querySelectorAll("arc")).flatMap(R=>{var O,$,q;const P=R.getAttribute("id")||rt(),I=R.getAttribute("orientation"),F=parseInt(R.getAttribute("order")||"0",10),W=((O=R.querySelector("placeend"))==null?void 0:O.getAttribute("idref"))||"",z=(($=R.querySelector("transend"))==null?void 0:$.getAttribute("idref"))||"",B=((q=R.querySelector("annot text"))==null?void 0:q.textContent)||"",X=Array.from(R.querySelectorAll("bendpoint")).map(D=>{var U,M;return{x:parseFloat(((U=D.querySelector("posattr"))==null?void 0:U.getAttribute("x"))||"0"),y:-parseFloat(((M=D.querySelector("posattr"))==null?void 0:M.getAttribute("y"))||"0")}});if(I==="BOTHDIR")return[{id:P,type:"floating",source:W,target:z,label:B,data:{bendpoints:X,isBidirectional:!0,order:F}}];let G="",A="";return I==="PtoT"?(G=W,A=z):I==="TtoP"?(G=z,A=W):(G=W,A=z,console.warn(`Unhandled arc orientation: ${I} for arc ${P}. Assuming PtoT.`)),[{id:P,type:"floating",source:G,target:A,label:B,data:{bendpoints:X,order:F}}]}),E=Array.from(p.querySelectorAll("Aux")).map(R=>{var G,A,O;const P=R.getAttribute("id")||rt(),I=((G=R.querySelector("text"))==null?void 0:G.textContent)||"",F=parseFloat(((A=R.querySelector("posattr"))==null?void 0:A.getAttribute("x"))||"0"),W=-parseFloat(((O=R.querySelector("posattr"))==null?void 0:O.getAttribute("y"))||"0"),z=R.querySelector("textattr"),B=(z==null?void 0:z.getAttribute("colour"))||void 0,X=(z==null?void 0:z.getAttribute("bold"))==="true";return{id:P,type:"auxText",position:{x:F,y:W},data:{label:I,color:B,bold:X}}}),C={id:g,name:x,nodes:[...v,...w,...E],edges:k,selectedElement:null};r[g]=C,o.push(g)}),{petriNetsById:r,petriNetOrder:o,colorSets:i,variables:l,priorities:c,functions:d,uses:f}}function eq(e){const t=JSON.parse(e),n=t.places.map(c=>{var d;return{id:rt(),type:"place",position:{x:0,y:0},data:{label:c.name,colorSet:c.colorSet,initialMarking:((d=t.initialMarking[c.name])==null?void 0:d.tokens.map(f=>Array.isArray(f)?f:[f]))||[]}}}),r=t.transitions.map(c=>({id:rt(),type:"transition",position:{x:0,y:0},data:{label:c.name,guard:c.guard,variables:c.variables}})),o=t.transitions.flatMap(c=>{const d=r.find(f=>f.data.label===c.name);return[...c.inArcs.map(f=>{var m;return{id:rt(),source:((m=n.find(p=>p.data.label===f.place))==null?void 0:m.id)||"",target:(d==null?void 0:d.id)||"",label:f.expression}}),...c.outArcs.map(f=>{var m;return{id:rt(),source:(d==null?void 0:d.id)||"",target:((m=n.find(p=>p.data.label===f.place))==null?void 0:m.id)||"",label:f.expression}})]}),i=rt(),l={id:i,name:"Default Petri Net",nodes:[...n,...r],edges:o,selectedElement:null};return{petriNetsById:{[i]:l},petriNetOrder:[i],colorSets:t.colorSets.map(c=>({id:rt(),name:c.split(" ")[1],type:"basic",definition:c,color:ka()})),variables:[],priorities:[],functions:[],uses:[]}}const tq=e=>({petriNetOrder:e.petriNetOrder,petriNetsById:e.petriNetsById,activePetriNetId:e.activePetriNetId,colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses,simulationEpoch:e.simulationEpoch,setSimulationEpoch:e.setSimulationEpoch,createPetriNet:e.createPetriNet,setActivePetriNet:e.setActivePetriNet,setNodes:e.setNodes,setEdges:e.setEdges,setColorSets:e.setColorSets,setVariables:e.setVariables,setPriorities:e.setPriorities,setFunctions:e.setFunctions,setUses:e.setUses,toggleArcMode:e.toggleArcMode,reset:e.reset}),nq={type:"floating",markerEnd:{type:Xa.ArrowClosed,color:"#000",width:10,height:10}},rq=({onToggleAIAssistant:e})=>{const[t,n]=S.useState(!1),[r,o]=S.useState(!1),[i,l]=S.useState(!1),[c,d]=S.useState(""),[f,m]=S.useState(!1),[p,g]=S.useState(null),[x,b]=S.useState(""),[v,w]=S.useState(!1),[k,E]=S.useState({x:0,y:0}),C=S.useRef({snappedPositions:new Map,isDragging:!1,isSnapping:!1}),_=S.useContext(Rf),{petriNetOrder:R,petriNetsById:P,activePetriNetId:I,colorSets:F,variables:W,priorities:z,functions:B,uses:X,simulationEpoch:G,setSimulationEpoch:A,createPetriNet:O,setActivePetriNet:$,setNodes:q,setEdges:D,setColorSets:U,setVariables:M,setPriorities:H,setFunctions:Y,setUses:T,toggleArcMode:V,reset:Z}=me(nH(tq)),J=me(he=>I?he.petriNetsById[I]:null),K=ZV(I||""),{onNodesChange:te,onEdgesChange:Q,onConnect:ie}=I?K:{onNodesChange:()=>{},onEdgesChange:()=>{},onConnect:()=>{}},{fitView:le,screenToFlowPosition:de}=oi(),fe=t4(),[ge]=N_(),{undo:De,redo:Me}=me.temporal.getState(),ot=S.useSyncExternalStore(me.temporal.subscribe,()=>me.temporal.getState().pastStates.length>0),tt=S.useSyncExternalStore(me.temporal.subscribe,()=>me.temporal.getState().futureStates.length>0);S.useEffect(()=>{fe&&le({padding:.35,maxZoom:4})},[fe,le]),S.useEffect(()=>{const he=Ne=>{const re=Ne.target;if(re.tagName==="INPUT"||re.tagName==="TEXTAREA"||re.isContentEditable)return;const Ce=Ne.metaKey||Ne.ctrlKey;if(Ne.code==="KeyZ"&&Ce&&!Ne.shiftKey){Ne.preventDefault(),De();return}if(Ne.code==="KeyZ"&&Ce&&Ne.shiftKey){Ne.preventDefault(),Me();return}if(!_)return;const{isRunning:Be,runStep:Ee,runMultipleStepsAnimated:Ze,runMultipleStepsFast:Fe,reset:Oe,stop:Ge,simulationConfig:dt}=_;if(Ne.code==="Space"&&!Ne.shiftKey&&!Ce){Ne.preventDefault(),Be?Ge():Ze(dt.stepsPerRun,dt.animationDelayMs);return}if(Ne.code==="ArrowRight"&&Ce&&!Ne.shiftKey){Ne.preventDefault(),Be||Ee();return}if(Ne.code==="ArrowRight"&&Ce&&Ne.shiftKey){Ne.preventDefault(),Be||Fe(dt.stepsPerRun);return}if(Ne.code==="ArrowLeft"&&Ce&&!Ne.shiftKey){Ne.preventDefault(),Be||Oe();return}if(Ne.code==="Escape"){Be&&(Ne.preventDefault(),Ge());return}};return window.addEventListener("keydown",he),()=>window.removeEventListener("keydown",he)},[_,De,Me]);const et=[{key:"bottom",label:[""],angle:90},{key:"undo",label:["Undo"],angle:150,disabled:!0},{key:"redo",label:["Redo"],angle:30,disabled:!0},{key:"new-place",label:["New","Place"],angle:210},{key:"create-aux",label:["Create aux","text"],angle:270,disabled:!0},{key:"new-transition",label:["New","Transition"],angle:330}],ke=(he,Ne)=>{if(he){if(Z(),Object.values(he.petriNetsById).forEach(re=>{me.getState().addPetriNet(re)}),he.petriNetOrder.length>0&&me.getState().setActivePetriNet(he.petriNetOrder[0]),he.colorSets&&U(he.colorSets),he.variables&&M(he.variables),he.priorities&&H(he.priorities),he.functions&&Y(he.functions),he.uses&&T(he.uses),he.simulationSettings&&(he.simulationSettings.simulationEpoch!==void 0&&A(he.simulationSettings.simulationEpoch),_!=null&&_.setSimulationConfig)){const re=_.simulationConfig;_.setSimulationConfig({...re,stepsPerRun:he.simulationSettings.stepsPerRun??re.stepsPerRun,animationDelayMs:he.simulationSettings.animationDelayMs??re.animationDelayMs})}if(Ne.endsWith(".json")){const re={algorithm:"dagre",direction:"TB",nodeSeparation:150,rankSeparation:50};Object.values(he.petriNetsById).forEach(Ce=>{It(re,Ce.nodes,Ce.edges)})}else window.requestAnimationFrame(()=>{le({padding:.35,maxZoom:4})})}},We=(he,Ne)=>{_?_.reset():console.error("Simulation context not found, cannot reset simulation state.");const re=JX(he,Ne);re?ke(re,Ne):alert("Failed to parse the file. Please check the file format.")},lt=he=>{var Be,Ee;let Ne,re;const Ce={petriNetsById:P,petriNetOrder:R,colorSets:F,variables:W,priorities:z,functions:B,uses:X,simulationSettings:{stepsPerRun:(Be=_==null?void 0:_.simulationConfig)==null?void 0:Be.stepsPerRun,animationDelayMs:(Ee=_==null?void 0:_.simulationConfig)==null?void 0:Ee.animationDelayMs,simulationEpoch:G}};switch(he){case"cpn-tools":Ne=qX({...Ce,petriNetsById:Object.fromEntries(Object.entries(Ce.petriNetsById).map(([Ze,Fe])=>[Ze,{...Fe,nodes:Fe.nodes.map(Oe=>({...Oe,position:{...Oe.position,y:-Oe.position.y}}))}]))}),re="PetriNet.cpn";break;case"cpn-py":Ne=GX(Ce),re="PetriNet.json";break;case"json":default:Ne=py(Ce),re="PetriNet.ocpn";break}QX(Ne,re)},vt=S.useCallback(he=>{he.preventDefault(),he.dataTransfer.dropEffect="move"},[]),Et=S.useCallback(he=>{if(he.preventDefault(),!ge||typeof ge!="string")return;const Ne=de({x:he.clientX,y:he.clientY}),re={id:`node_${Date.now()}`,type:ge,position:Ne,width:ge==="transition"?60:30,data:{label:ge==="auxText"?"Annotation":`${ge}`,...ge==="place"?{colorSet:""}:ge==="transition"?{guard:""}:{}}};I?me.getState().addNode(I,re):console.error("Cannot add node: activePetriNetId is null.")},[de,ge,I]),Tt=S.useCallback((he,Ne)=>{w(!1),I?me.getState().setSelectedElement(I,{type:"node",element:Ne}):console.error("Cannot set selected element: activePetriNetId is null.")},[I]),ue=S.useCallback((he,Ne,re)=>{Qa(),C.current.isDragging=!0,C.current.isSnapping=!1,C.current.snappedPositions.clear()},[]),pe=S.useCallback((he,Ne,re)=>{var Oe,Ge,dt,Rt,jt;if(!I||re.length===0)return;const Ce=me.getState().petriNetsById[I];if(!Ce)return;if(!he.shiftKey){C.current.isSnapping=!1,C.current.snappedPositions.clear();return}const Be=20;let Ee=null,Ze=null;const Fe=new Set(re.map(zt=>zt.id));for(const zt of re){if(Ee!==null&&Ze!==null)break;const Mt={x:zt.position.x+(((Oe=zt.measured)==null?void 0:Oe.width)||50)/2,y:zt.position.y+(((Ge=zt.measured)==null?void 0:Ge.height)||30)/2},lr=Ce.edges.filter(Zt=>{if(!(Zt.source===zt.id||Zt.target===zt.id))return!1;const zn=Zt.source===zt.id?Zt.target:Zt.source;return!Fe.has(zn)});for(const Zt of lr){if(Ee!==null&&Ze!==null)break;const oo=Zt.source===zt.id?Zt.target:Zt.source,zn=Ce.nodes.find(vl=>vl.id===oo);if(!zn)continue;const hi={x:zn.position.x+(((dt=zn.measured)==null?void 0:dt.width)||50)/2,y:zn.position.y+(((Rt=zn.measured)==null?void 0:Rt.height)||30)/2},io=(jt=Zt.data)==null?void 0:jt.bendpoints;let $r=hi;io&&io.length>0&&(Zt.source===zt.id?$r=io[0]:$r=io[io.length-1]),Ze===null&&Math.abs(Mt.y-$r.y)<Be&&(Ze=$r.y-Mt.y),Ee===null&&Math.abs(Mt.x-$r.x)<Be&&(Ee=$r.x-Mt.x)}}if(Ee!==null||Ze!==null){C.current.isSnapping=!0,C.current.snappedPositions.clear(),re.forEach(Mt=>{const lr={x:Mt.position.x+(Ee??0),y:Mt.position.y+(Ze??0)};C.current.snappedPositions.set(Mt.id,lr)});const zt=Ce.nodes.map(Mt=>{const lr=C.current.snappedPositions.get(Mt.id);return lr?{...Mt,position:lr}:Mt});q(I,zt)}else C.current.isSnapping=!1,C.current.snappedPositions.clear()},[I,q]),Pe=S.useCallback((he,Ne,re)=>{Ja(),setTimeout(()=>{C.current.isDragging=!1,C.current.isSnapping=!1,C.current.snappedPositions.clear()},50)},[]),je=S.useCallback(he=>{if(I)if(C.current.isSnapping&&C.current.snappedPositions.size>0){const Ne=he.map(re=>{if(re.type==="position"&&"id"in re&&re.position){const Ce=C.current.snappedPositions.get(re.id);if(Ce)return{...re,position:Ce}}return re});te(Ne)}else te(he)},[I,te]),Xe=S.useCallback((he,Ne)=>{w(!1),I?me.getState().setSelectedElement(I,{type:"edge",element:Ne}):console.error("Cannot set selected element: activePetriNetId is null.")},[I]),ut=S.useCallback(()=>{I?me.getState().setSelectedElement(I,null):console.error("Cannot set selected element: activePetriNetId is null."),w(!1)},[I]),bt=S.useCallback(he=>{he.preventDefault();const Ne=he,re={x:Ne.clientX,y:Ne.clientY};E(re),w(!0)},[]),Ct=(he,Ne)=>{const re=Ne.key==="new-place"?50:60,Ce=Ne.key==="new-place"?50:40,Be={x:de(k).x-re/2,y:de(k).y-Ce/2};if(Ne.key==="new-place"){const Ee={id:`node_${Date.now()}`,type:"place",position:Be,data:{label:"place",isArcMode:!1,colorSet:""}};I&&me.getState().addNode(I,Ee)}else if(Ne.key==="new-transition"){const Ee={id:`node_${Date.now()}`,type:"transition",position:Be,width:60,data:{label:"transition",isArcMode:!1,guard:""}};I&&me.getState().addNode(I,Ee)}w(!1)},It=S.useCallback(async(he,Ne,re)=>{if(!Ne.length)return;const Ce=re.map(Be=>({...Be,data:Be.data?{...Be.data,bendpoints:void 0}:Be.data}));I&&D(I,Ce);try{if(he.algorithm==="dagre"){const Be=await c1(()=>import("./index-Borh8rNJ.js").then(Fe=>Fe.i),[]),Ee=new Be.graphlib.Graph;Ee.setGraph({rankdir:he.direction,nodesep:he.nodeSeparation,ranksep:he.rankSeparation,ranker:"network-simplex"}),Ee.setDefaultEdgeLabel(()=>({})),re.forEach(Fe=>Ee.setEdge(Fe.source,Fe.target)),Ne.forEach(Fe=>{var Oe,Ge;return Ee.setNode(Fe.id,{...Fe,width:((Oe=Fe.measured)==null?void 0:Oe.width)??0,height:((Ge=Fe.measured)==null?void 0:Ge.height)??0})}),Be.layout(Ee);const Ze=Ne.map(Fe=>{var Rt,jt;const Oe=Ee.node(Fe.id),Ge=Oe.x-(((Rt=Fe.measured)==null?void 0:Rt.width)??0)/2,dt=Oe.y-(((jt=Fe.measured)==null?void 0:jt.height)??0)/2;return{...Fe,position:{x:Ge,y:dt}}});I&&q(I,[...Ze])}else if(he.algorithm==="elk"){const{default:Be}=await c1(async()=>{const{default:Oe}=await import("./elk.bundled-BUzXaZEx.js").then(Ge=>Ge.e);return{default:Oe}},[]),Ee=new Be,Ze={id:"root",layoutOptions:{"elk.algorithm":"layered","elk.direction":he.direction==="TB"?"DOWN":"RIGHT","elk.spacing.nodeNode":he.nodeSeparation.toString(),"elk.layered.spacing.nodeNodeBetweenLayers":he.rankSeparation.toString()},children:Ne.map(Oe=>{var Ge,dt;return{id:Oe.id,width:Number(((Ge=Oe.style)==null?void 0:Ge.width)||80),height:Number(((dt=Oe.style)==null?void 0:dt.height)||80)}}),edges:re.map(Oe=>({id:Oe.id,sources:[Oe.source],targets:[Oe.target]}))},Fe=await Ee.layout(Ze);if(Fe.children){const Oe=Ne.map(Ge=>{var Rt;const dt=(Rt=Fe.children)==null?void 0:Rt.find(jt=>jt.id===Ge.id);return dt&&dt.x!==void 0&&dt.y!==void 0?{...Ge,position:{x:dt.x,y:dt.y}}:Ge});I&&q(I,[...Oe])}}window.requestAnimationFrame(()=>{le({padding:.35})})}catch(Be){console.error("Error applying layout:",Be)}},[q,D,le,I]),_t=he=>{he.preventDefault(),O(c),l(!1),d("")},pt=he=>{he.preventDefault(),p&&x.trim()&&(me.getState().renamePetriNet(p,x),m(!1),g(null),b(""))},Pt=he=>{const Ne=P[he];Ne&&(g(he),b(Ne.name),m(!0))};return u.jsxs("div",{className:"dndflow flex flex-col grow",children:[" ",u.jsxs("div",{className:"flex flex-col grow",style:{height:100},children:[" ",u.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Dn,{children:u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",title:"Open",onClick:()=>o(!0),children:[u.jsx(aT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Open Petri Net"})]})})}),u.jsx(xn,{children:u.jsx("p",{children:"Open Petri Net"})})]})}),u.jsx(Dn,{children:u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",title:"Save",onClick:()=>n(!0),children:[u.jsx(_T,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Save Petri Net"})]})})}),u.jsx(xn,{children:u.jsx("p",{children:"Save Petri Net"})})]})}),u.jsx(Dn,{children:u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",title:"Undo",onClick:()=>De(),disabled:!ot,children:[u.jsx(YT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Undo"})]})})}),u.jsx(xn,{children:u.jsx("p",{children:"Undo"})})]})}),u.jsx(Dn,{children:u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",title:"Redo",onClick:()=>Me(),disabled:!tt,children:[u.jsx(CT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Redo"})]})})}),u.jsx(xn,{children:u.jsx("p",{children:"Redo"})})]})})]}),u.jsx(b8,{}),u.jsx(XX,{onToggleAIAssistant:e})]}),u.jsx(v8,{open:r,onOpenChange:o,onFileLoaded:We}),u.jsx(w8,{open:t,onOpenChange:n,onSave:lt,petriNetName:"Petri Net"}),u.jsx("div",{className:"flex flex-col w-full mx-auto bg-muted",children:u.jsx(si,{defaultValue:I||R[0],value:I??void 0,onValueChange:he=>$(he),className:"flex flex-col gap-2 items-start",children:u.jsxs(li,{className:"flex gap-4 items-center",children:[R.map(he=>u.jsx(Ln,{value:he,onClick:Ne=>{he===I&&(Ne.preventDefault(),Pt(he))},children:P[he].name},he)),u.jsx(dn,{open:i,onOpenChange:l,children:u.jsxs(fn,{className:"p-4",children:[u.jsx(pn,{children:u.jsx(hn,{children:"Add New Subnet"})}),u.jsxs("form",{onSubmit:_t,className:"space-y-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(Ae,{htmlFor:"petri-net-name",children:"Subnet Name"}),u.jsx(ct,{id:"petri-net-name",placeholder:"Enter Petri Net name",value:c,onChange:he=>d(he.target.value)})]}),u.jsx(ye,{type:"submit",className:"w-full",children:"Add Petri Net"})]})]})}),u.jsx(dn,{open:f,onOpenChange:m,children:u.jsxs(fn,{className:"p-4",children:[u.jsx(pn,{children:u.jsx(hn,{children:"Rename Petri Net"})}),u.jsxs("form",{onSubmit:pt,className:"space-y-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(Ae,{htmlFor:"rename-petri-net-name",children:"New Name"}),u.jsx(ct,{id:"rename-petri-net-name",placeholder:"Enter new name",value:x,onChange:he=>b(he.target.value),autoFocus:!0})]}),u.jsx(ye,{type:"submit",className:"w-full",children:"Rename"})]})]})})]})})}),u.jsxs(Q3,{nodes:(J==null?void 0:J.nodes)||[],nodeTypes:$4,edges:(J==null?void 0:J.edges)||[],edgeTypes:Y4,onNodesChange:je,onEdgesChange:Q,onNodeDragStart:(he,Ne,re)=>{Tt(he,Ne),ue(he,Ne,re)},onNodeDrag:pe,onNodeDragStop:Pe,onNodeClick:Tt,onEdgeClick:Xe,onPaneClick:ut,onPaneContextMenu:bt,onConnect:ie,onDrop:Et,onDragOver:vt,defaultEdgeOptions:nq,connectionLineComponent:y8,maxZoom:4,selectionOnDrag:!0,selectionKeyCode:"Shift",multiSelectionKeyCode:["Meta","Control"],children:[u.jsx(s4,{}),u.jsx(E4,{}),u.jsx(p4,{}),u.jsx(hc,{position:"top-center",children:u.jsx(g8,{toggleArcMode:V,onApplyLayout:he=>J&&It(he,J.nodes,J.edges)})}),u.jsx(x8,{slices:et,position:k,isOpen:v,onClose:()=>w(!1),onSliceClick:Ct,size:200})]})]})]})};function oq({open:e,onOpenChange:t,apiKey:n,onApiKeyChange:r}){const[o,i]=S.useState(n||""),[l,c]=S.useState(!1);S.useEffect(()=>{i(n||"")},[n]);const d=()=>{r(o),t(!1)};return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:"sm:max-w-[500px]",children:[u.jsxs(pn,{children:[u.jsx(hn,{children:"Settings"}),u.jsx(ui,{children:"Configure your OCPN Tools preferences."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ae,{htmlFor:"openai-api-key",children:"OpenAI API Key"}),u.jsxs("div",{className:"relative",children:[u.jsx(ct,{id:"openai-api-key",type:l?"text":"password",placeholder:"sk-...",value:o,onChange:f=>i(f.target.value),className:"w-full pr-10",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",inputMode:"text",autoFocus:!0}),u.jsx(ye,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>c(!l),children:l?u.jsx(eT,{className:"h-4 w-4"}):u.jsx(nT,{className:"h-4 w-4"})})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Your API key is stored locally in your browser and never sent to our servers."})]}),u.jsxs(Lr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ye,{onClick:d,children:"Save Changes"})]})]})})}const iS="ocpn-tools-openai-api-key";function iq(){const[e,t]=S.useState([{id:"welcome",role:"assistant",content:"Hello! I'm Carl, your OCPN assistant. I can help you analyze your model, explain concepts, or suggest improvements. What would you like to know?",timestamp:new Date}]),[n,r]=S.useState(""),[o,i]=S.useState(!1),l=S.useRef(null),[c,d]=S.useState(!1),[f,m]=S.useState(null);S.useEffect(()=>{const v=localStorage.getItem(iS);v&&m(v)},[]);const p=v=>{m(v),localStorage.setItem(iS,v)};S.useEffect(()=>{var v;(v=l.current)==null||v.scrollIntoView({behavior:"smooth"})},[e]);const g=()=>{const v={petriNetsById:me.getState().petriNetsById,petriNetOrder:me.getState().petriNetOrder,colorSets:me.getState().colorSets,variables:me.getState().variables,priorities:me.getState().priorities,functions:me.getState().functions,uses:me.getState().uses};return`
      Here is the current state of the Petri Net:

      ${py(v)}
    `},x=async()=>{if(!n.trim()||o)return;if(!f){t(w=>[...w,{id:Date.now().toString(),role:"user",content:n,timestamp:new Date},{id:Date.now().toString()+"-error",role:"assistant",content:"Please set your OpenAI API key in the settings to use the AI assistant. Click the settings icon in the top right corner.",timestamp:new Date}]),r("");return}const v={id:Date.now().toString(),role:"user",content:n,timestamp:new Date};t(w=>[...w,v]),r(""),i(!0);try{const k=[{role:"system",content:`You are an AI assistant specialized in Colored Petri Nets (CPN). 
          Help the user understand and analyze their Petri Net model.
          Here is the current state of the Petri Net:
          
          ${g()}
          
          Be concise but informative in your responses. If asked about concepts, explain them clearly.
          If asked to analyze the model, provide insights based on the structure and properties.`},...e.filter(R=>R.id!=="welcome").map(R=>({role:R.role,content:R.content})),{role:v.role,content:v.content}],E=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({model:"gpt-4o",messages:k,temperature:.7,max_tokens:1e3})});if(!E.ok)throw new Error(`API error: ${E.status}`);const C=await E.json(),_={id:Date.now().toString()+"-response",role:"assistant",content:C.choices[0].message.content,timestamp:new Date};t(R=>[...R,_])}catch(w){console.error("Error calling OpenAI API:",w),t(k=>[...k,{id:Date.now().toString()+"-error",role:"assistant",content:"Sorry, there was an error processing your request. Please try again later.",timestamp:new Date}])}finally{i(!1)}},b=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),x())};return u.jsxs(ja,{defaultSize:20,className:"min-w-[400px] border-l h-screen",children:[u.jsxs("div",{className:"flex flex-col h-full overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("div",{className:"flex items-center",children:u.jsx("h2",{className:"font-semibold",children:"OCPN AI Assistant"})}),u.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>d(!0),children:u.jsx(CS,{className:"h-4 w-4"})})]}),u.jsx(Tf,{className:"flex-1 p-4",children:u.jsxs("div",{className:"space-y-4",children:[e.map(v=>u.jsxs("div",{className:qe("flex flex-col max-w-[90%] rounded-lg p-3",v.role==="user"?"ml-auto bg-primary text-primary-foreground":"bg-muted text-foreground"),children:[u.jsx("div",{className:"whitespace-pre-wrap",children:v.content}),u.jsx("div",{className:"text-xs opacity-70 mt-1 self-end",children:v.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},v.id)),o&&u.jsx("div",{className:"flex max-w-[90%] rounded-lg p-3 bg-muted text-foreground",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground/50 animate-bounce"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground/50 animate-bounce",style:{animationDelay:"0.2s"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground/50 animate-bounce",style:{animationDelay:"0.4s"}})]})}),u.jsx("div",{ref:l})]})}),u.jsx(mc,{}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ct,{placeholder:"Ask about your OCPN",value:n,onChange:v=>r(v.target.value),onKeyDown:b,disabled:o||!f,className:"flex-1"}),u.jsx(ye,{size:"icon",onClick:x,disabled:o||!n.trim()||!f,children:u.jsx(IT,{className:"h-4 w-4"})})]}),!f&&u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Please set your OpenAI API key in settings to use the AI assistant."})]})]}),u.jsx(oq,{open:c,onOpenChange:d,apiKey:f,onApiKeyChange:p})]})}class Mg{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,sS.unregister(this),t}free(){const t=this.__destroy_into_raw();wt.__wbg_wasmsimulator_free(t,0)}advanceTime(t){wt.wasmsimulator_advanceTime(this.__wbg_ptr,t)}fireTransition(t){const n=xd(t,wt.__wbindgen_malloc,wt.__wbindgen_realloc),r=qs,o=wt.wasmsimulator_fireTransition(this.__wbg_ptr,n,r);if(o[2])throw xo(o[1]);return xo(o[0])}getCurrentTime(){return wt.wasmsimulator_getCurrentTime(this.__wbg_ptr)}getEnabledTransitions(){const t=wt.wasmsimulator_getEnabledTransitions(this.__wbg_ptr);if(t[2])throw xo(t[1]);return xo(t[0])}getSimulationEpoch(){return wt.wasmsimulator_getSimulationEpoch(this.__wbg_ptr)}constructor(t){const n=xd(t,wt.__wbindgen_malloc,wt.__wbindgen_realloc),r=qs,o=wt.wasmsimulator_new(n,r);if(o[2])throw xo(o[1]);return this.__wbg_ptr=o[0]>>>0,sS.register(this,this.__wbg_ptr,this),this}runMultipleSteps(t){const n=wt.wasmsimulator_runMultipleSteps(this.__wbg_ptr,t);if(n[2])throw xo(n[1]);return xo(n[0])}run_step(){const t=wt.wasmsimulator_run_step(this.__wbg_ptr);if(t[2])throw xo(t[1]);return xo(t[0])}setCurrentTime(t){wt.wasmsimulator_setCurrentTime(this.__wbg_ptr,t)}setEventListener(t){wt.wasmsimulator_setEventListener(this.__wbg_ptr,t)}setSimulationEpoch(t){var n=Ea(t)?0:xd(t,wt.__wbindgen_malloc,wt.__wbindgen_realloc),r=qs;wt.wasmsimulator_setSimulationEpoch(this.__wbg_ptr,n,r)}}Symbol.dispose&&(Mg.prototype[Symbol.dispose]=Mg.prototype.free);function sq(){return{__proto__:null,"./cpnsim_bg.js":{__proto__:null,__wbg_Error_8c4e43fe74559d73:function(t,n){return Error(ma(t,n))},__wbg_String_8f0eb39a4a4c2f66:function(t,n){const r=String(n),o=xd(r,wt.__wbindgen_malloc,wt.__wbindgen_realloc),i=qs;aS().setInt32(t+4,i,!0),aS().setInt32(t+0,o,!0)},__wbg___wbindgen_is_string_cd444516edc5b180:function(t){return typeof t=="string"},__wbg___wbindgen_is_undefined_9e4d92534c42d778:function(t){return t===void 0},__wbg___wbindgen_throw_be289d5034ed271b:function(t,n){throw new Error(ma(t,n))},__wbg_call_389efe28435a9388:function(){return ga(function(t,n){return t.call(n)},arguments)},__wbg_call_4708e0c13bdc8e95:function(){return ga(function(t,n,r){return t.call(n,r)},arguments)},__wbg_fromCodePoint_22365db7b7d6ac39:function(){return ga(function(t){return String.fromCodePoint(t>>>0)},arguments)},__wbg_from_bddd64e7d5ff6941:function(t){return Array.from(t)},__wbg_getRandomValues_1c61fac11405ffdc:function(){return ga(function(t,n){globalThis.crypto.getRandomValues(lS(t,n))},arguments)},__wbg_log_6b5ca2e6124b2808:function(t){console.log(t)},__wbg_log_6d46b3bc337f0e1f:function(t,n){console.log(ma(t,n))},__wbg_new_361308b2356cecd0:function(){return new Object},__wbg_new_3eb36ae241fe6f44:function(){return new Array},__wbg_new_dca287b076112a51:function(){return new Map},__wbg_new_dd2b680c8bf6ae29:function(t){return new Uint8Array(t)},__wbg_new_no_args_1c7c842f08d00ebb:function(t,n){return new Function(ma(t,n))},__wbg_now_2c95c9de01293173:function(t){return t.now()},__wbg_performance_7a3ffd0b17f663ad:function(t){return t.performance},__wbg_push_8ffdcb2063340ba5:function(t,n){return t.push(n)},__wbg_set_1eb0999cf5d27fc8:function(t,n,r){return t.set(n,r)},__wbg_set_3f1d0b984ed272ed:function(t,n,r){t[n]=r},__wbg_set_6cb8631f80447a67:function(){return ga(function(t,n,r){return Reflect.set(t,n,r)},arguments)},__wbg_set_f43e577aea94465b:function(t,n,r){t[n>>>0]=r},__wbg_static_accessor_GLOBAL_12837167ad935116:function(){const t=typeof global>"u"?null:global;return Ea(t)?0:Ca(t)},__wbg_static_accessor_GLOBAL_THIS_e628e89ab3b1c95f:function(){const t=typeof globalThis>"u"?null:globalThis;return Ea(t)?0:Ca(t)},__wbg_static_accessor_SELF_a621d3dfbb60d0ce:function(){const t=typeof self>"u"?null:self;return Ea(t)?0:Ca(t)},__wbg_static_accessor_WINDOW_f8727f0cf888e0bd:function(){const t=typeof window>"u"?null:window;return Ea(t)?0:Ca(t)},__wbindgen_cast_0000000000000001:function(t){return t},__wbindgen_cast_0000000000000002:function(t){return t},__wbindgen_cast_0000000000000003:function(t,n){return lS(t,n)},__wbindgen_cast_0000000000000004:function(t,n){return ma(t,n)},__wbindgen_init_externref_table:function(){const t=wt.__wbindgen_externrefs,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)}}}}const sS=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>wt.__wbg_wasmsimulator_free(e>>>0,1));function Ca(e){const t=wt.__externref_table_alloc();return wt.__wbindgen_externrefs.set(t,e),t}function lS(e,t){return e=e>>>0,La().subarray(e/1,e/1+t)}let Ri=null;function aS(){return(Ri===null||Ri.buffer.detached===!0||Ri.buffer.detached===void 0&&Ri.buffer!==wt.memory.buffer)&&(Ri=new DataView(wt.memory.buffer)),Ri}function ma(e,t){return e=e>>>0,aq(e,t)}let Na=null;function La(){return(Na===null||Na.byteLength===0)&&(Na=new Uint8Array(wt.memory.buffer)),Na}function ga(e,t){try{return e.apply(this,t)}catch(n){const r=Ca(n);wt.__wbindgen_exn_store(r)}}function Ea(e){return e==null}function xd(e,t,n){if(n===void 0){const c=za.encode(e),d=t(c.length,1)>>>0;return La().subarray(d,d+c.length).set(c),qs=c.length,d}let r=e.length,o=t(r,1)>>>0;const i=La();let l=0;for(;l<r;l++){const c=e.charCodeAt(l);if(c>127)break;i[o+l]=c}if(l!==r){l!==0&&(e=e.slice(l)),o=n(o,r,r=l+e.length*3,1)>>>0;const c=La().subarray(o+l,o+r),d=za.encodeInto(e,c);l+=d.written,o=n(o,r,l,1)>>>0}return qs=l,o}function xo(e){const t=wt.__wbindgen_externrefs.get(e);return wt.__externref_table_dealloc(e),t}let yd=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});yd.decode();const lq=2146435072;let Om=0;function aq(e,t){return Om+=t,Om>=lq&&(yd=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),yd.decode(),Om=t),yd.decode(La().subarray(e,e+t))}const za=new TextEncoder;"encodeInto"in za||(za.encodeInto=function(e,t){const n=za.encode(e);return t.set(n),{read:e.length,written:n.length}});let qs=0,wt;function cq(e,t){return wt=e.exports,Ri=null,Na=null,wt.__wbindgen_start(),wt}async function uq(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(o){if(e.ok&&n(e.type)&&e.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}else{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}function n(r){switch(r){case"basic":case"cors":case"default":return!0}return!1}}async function dq(e){if(wt!==void 0)return wt;e!==void 0&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),e===void 0&&(e=new URL("/ocpn-tools/assets/cpnsim_bg-BQcJkqf5.wasm",import.meta.url));const t=sq();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await uq(await e,t);return cq(n)}function Gs(e){if(e==null)return null;if(e instanceof Map){const t={},n=Array.from(e.keys()).map(String).sort();for(const r of n)t[r]=Gs(e.get(r));return t}else{if(Array.isArray(e))return e.map(Gs);if(typeof e=="object"){const t={},n=Object.keys(e).sort();for(const r of n)t[r]=Gs(e[r]);return t}}return e}function cS(e){const t=Gs(e);return JSON.stringify(t)}function fq(e,t){if(t||e.every(n=>n==null)){const n=e.length;return n<=3?"".repeat(n):`${n}`}return JSON.stringify(e)}function pq(){const e=S.useRef(null),t=S.useRef(null),[n,r]=S.useState(!1),[o,i]=S.useState(!1),l=S.useRef(!1),[c,d]=S.useState([]),[f,m]=S.useState(0),[p,g]=S.useState(0),[x,b]=S.useState(mV),v=me(A=>A.updateNodeMarking),w=me(A=>A.applyInitialMarkings),k=S.useCallback(A=>{const O=me.getState().petriNetsById;for(const $ in O){const q=O[$].nodes.find(D=>D.id===A);if(q)return q}},[]),E=S.useCallback(A=>{var Y;A.consumed instanceof Map?A.consumed.forEach((T,V)=>{var J;const Z=k(V);if(Z&&Z.type==="place"){let K=[];try{const Q=k(V),ie=(J=Q==null?void 0:Q.data)==null?void 0:J.marking;if(Array.isArray(ie))K=ie;else if(typeof ie=="number")K=[ie];else if(typeof ie=="string"&&ie.trim()!==""){const le=JSON.parse(ie);K=Array.isArray(le)?le:[le]}}catch(Q){console.error(`Error reading/parsing marking for node ${V}:`,Z.data.marking,Q),K=[]}const te=[...K];T.forEach(Q=>{const ie=cS(Q),le=te.findIndex(de=>cS(de)===ie);le!==-1?te.splice(le,1):console.warn(`Token not found for removal in node ${V}:`,Q,te)}),v(V,te)}else console.warn(`Place node not found or invalid for consumed event: ${V}`)}):A.consumed&&console.warn("eventData.consumed is not a Map:",A.consumed),A.produced instanceof Map?A.produced.forEach((T,V)=>{var J;const Z=k(V);if(Z&&Z.type==="place"){let K=[];try{const ie=k(V),le=(J=ie==null?void 0:ie.data)==null?void 0:J.marking;if(Array.isArray(le))K=le;else if(typeof le=="number")K=[le];else if(typeof le=="string"&&le.trim()!==""){const de=JSON.parse(le);K=Array.isArray(de)?de:[de]}}catch(ie){console.error(`Error reading/parsing marking for node ${V}:`,Z.data.marking,ie),K=[]}const te=T.map(ie=>Gs(ie)),Q=[...K,...te];v(V,Q)}else console.warn(`Place node not found or invalid for produced event: ${V}`)}):A.produced&&console.warn("eventData.produced is not a Map:",A.produced);const O=k(A.transitionId),$=(Y=O==null?void 0:O.data)!=null&&Y.label&&typeof O.data.label=="string"?O.data.label:A.transitionId,q=me.getState().colorSets,D=T=>{if(!T)return[];const V=[];return T.forEach((Z,J)=>{var de,fe;const K=k(J),te=(de=K==null?void 0:K.data)!=null&&de.label&&typeof K.data.label=="string"?K.data.label:J,Q=typeof((fe=K==null?void 0:K.data)==null?void 0:fe.colorSet)=="string"?K.data.colorSet:"",ie=Q.toUpperCase()==="UNIT"||q.some(ge=>ge.name===Q&&ge.name.toUpperCase()==="UNIT"),le=Z.map(ge=>Gs(ge));V.push({placeId:J,placeName:te,tokens:fq(le,ie)})}),V};let U=0;m(T=>(U=T+1,U));const M=A.simulationTime!==void 0?Number(A.simulationTime):A.time??0,H={id:rt(),step:U,time:M,transitionId:A.transitionId,transitionName:$,tokens:{consumed:D(A.consumed),produced:D(A.produced)},timestamp:new Date};d(T=>[...T,H]),g(M)},[v,k,m,d,g]);async function C(){d([]),m(0),g(0),r(!1),e.current=null,t.current=null;try{e.current=await dq(),w();const A=me.getState().petriNetsById,O=me.getState().petriNetOrder,$=me.getState().colorSets,q=me.getState().variables,D=me.getState().priorities,U=me.getState().functions,M=me.getState().uses,H=me.getState().simulationEpoch,Y={petriNetsById:structuredClone(A),petriNetOrder:O,colorSets:$,variables:q,priorities:D,functions:U,uses:M,simulationSettings:{simulationEpoch:H}};Object.values(Y.petriNetsById).forEach(V=>{V.nodes.forEach(Z=>{if(Z.type==="place"){let J=[];if(Array.isArray(Z.data.marking))J=Z.data.marking;else if(typeof Z.data.marking=="string")try{const K=JSON.parse(Z.data.marking);Array.isArray(K)&&(J=K)}catch{console.warn(`Could not parse marking string for node ${Z.id}: ${Z.data.marking}`)}if(Z.data.marking=JSON.stringify(J),Z.data.initialMarking){const K=Z.data.initialMarking;typeof K=="string"?K.startsWith("[")&&K.endsWith("]")||K.endsWith(".all()")||K.trim()===""&&(Z.data.initialMarking="[]"):Array.isArray(K)&&(Z.data.initialMarking=JSON.stringify(K))}else Z.data.initialMarking="[]"}}),V.edges.forEach(Z=>{if(Z.label&&typeof Z.label=="string"){const J=Z.label.match(/(\d+)\`(\w+)/);if(J){const K=parseInt(J[1],10),te=J[2];if(!isNaN(K)&&K>0){const Q=`[${Array(K).fill(te).join(",")}]`;console.log(`Converted arc inscription "${Z.label}" to "${Q}"`),Z.label=Q}}}})});const T=py(Y);console.log("Creating WASM Simulator with JSON:",T),t.current=new Mg(T),console.log("WASM Simulator created successfully"),t.current.setEventListener(E),r(!0),console.log("WASM Simulator initialized successfully.")}catch(A){console.error("Error initializing WASM Simulator:",A),r(!1),e.current=null,t.current=null}}const _=async()=>{(!n||!e.current||!t.current)&&await C()},R=()=>{if(t.current)try{console.log("Requesting simulation step...");const A=t.current.run_step();return console.log("Simulation step result:",A),A}catch(A){return console.error("Error running simulation step:",A),null}else return console.warn("WASM Simulator ref is null after initialization attempt, cannot run step."),null};return{runStep:async()=>{await _(),R()},runMultipleStepsAnimated:async(A,O=50)=>{if(!o){i(!0),l.current=!1;try{await _();for(let $=0;$<A;$++){if(l.current){console.log("Simulation stopped by user");break}if(R()==null){console.log("No transitions enabled, stopping animation.");break}await new Promise(D=>setTimeout(D,O))}}finally{i(!1)}}},runMultipleStepsFast:async A=>{if(!o){i(!0),l.current=!1;try{if(await _(),t.current){const O=t.current;if(typeof O.runMultipleSteps=="function"){const $=O.runMultipleSteps(A);if(Array.isArray($))for(const q of $)q&&typeof q=="object"&&E(q)}else for(let $=0;$<A&&!l.current;$++)if(R()==null){console.log("No transitions enabled, stopping fast run.");break}}}finally{i(!1)}}},stop:()=>{console.log("Stop requested"),l.current=!0},fireTransition:async A=>{if(await _(),t.current){const O=t.current;if(typeof O.fireTransition=="function")try{const $=O.fireTransition(A);console.log(`Fire transition ${A} result:`,$)}catch($){console.error(`Error firing transition ${A}:`,$)}else console.warn("fireTransition method not available in WASM simulator")}},getEnabledTransitions:async()=>{if(await _(),t.current){const A=t.current;if(typeof A.getEnabledTransitions=="function")try{return A.getEnabledTransitions()}catch(O){console.error("Error getting enabled transitions:",O)}}return[]},reset:async()=>{l.current=!0,i(!1),m(0),g(0),d([]),await C()},events:c,clearEvents:()=>{d([])},isInitialized:n,isRunning:o,simulationTime:p,stepCounter:f,simulationConfig:x,setSimulationConfig:b,ensureInitialized:_,_executeWasmStep:R}}function hq({children:e}){const t=pq();return u.jsx(Rf.Provider,{value:t,children:e})}var zr="Accordion",mq=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[hy,gq,xq]=ff(zr),[Yf]=Pn(zr,[xq,Ij]),my=Ij(),A2=Ye.forwardRef((e,t)=>{const{type:n,...r}=e,o=r,i=r;return u.jsx(hy.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?u.jsx(bq,{...i,ref:t}):u.jsx(wq,{...o,ref:t})})});A2.displayName=zr;var[T2,yq]=Yf(zr),[I2,vq]=Yf(zr,{collapsible:!1}),wq=Ye.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},collapsible:i=!1,...l}=e,[c,d]=_n({prop:n,defaultProp:r??"",onChange:o,caller:zr});return u.jsx(T2,{scope:e.__scopeAccordion,value:Ye.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:Ye.useCallback(()=>i&&d(""),[i,d]),children:u.jsx(I2,{scope:e.__scopeAccordion,collapsible:i,children:u.jsx(R2,{...l,ref:t})})})}),bq=Ye.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[l,c]=_n({prop:n,defaultProp:r??[],onChange:o,caller:zr}),d=Ye.useCallback(m=>c((p=[])=>[...p,m]),[c]),f=Ye.useCallback(m=>c((p=[])=>p.filter(g=>g!==m)),[c]);return u.jsx(T2,{scope:e.__scopeAccordion,value:l,onItemOpen:d,onItemClose:f,children:u.jsx(I2,{scope:e.__scopeAccordion,collapsible:!0,children:u.jsx(R2,{...i,ref:t})})})}),[Sq,Xf]=Yf(zr),R2=Ye.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:o,orientation:i="vertical",...l}=e,c=Ye.useRef(null),d=it(c,t),f=gq(n),p=ii(o)==="ltr",g=Re(e.onKeyDown,x=>{var F;if(!mq.includes(x.key))return;const b=x.target,v=f().filter(W=>{var z;return!((z=W.ref.current)!=null&&z.disabled)}),w=v.findIndex(W=>W.ref.current===b),k=v.length;if(w===-1)return;x.preventDefault();let E=w;const C=0,_=k-1,R=()=>{E=w+1,E>_&&(E=C)},P=()=>{E=w-1,E<C&&(E=_)};switch(x.key){case"Home":E=C;break;case"End":E=_;break;case"ArrowRight":i==="horizontal"&&(p?R():P());break;case"ArrowDown":i==="vertical"&&R();break;case"ArrowLeft":i==="horizontal"&&(p?P():R());break;case"ArrowUp":i==="vertical"&&P();break}const I=E%k;(F=v[I].ref.current)==null||F.focus()});return u.jsx(Sq,{scope:n,disabled:r,direction:o,orientation:i,children:u.jsx(hy.Slot,{scope:n,children:u.jsx(Ue.div,{...l,"data-orientation":i,ref:d,onKeyDown:r?void 0:g})})})}),qd="AccordionItem",[kq,gy]=Yf(qd),M2=Ye.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...o}=e,i=Xf(qd,n),l=yq(qd,n),c=my(n),d=gr(),f=r&&l.value.includes(r)||!1,m=i.disabled||e.disabled;return u.jsx(kq,{scope:n,open:f,disabled:m,triggerId:d,children:u.jsx(Dj,{"data-orientation":i.orientation,"data-state":F2(f),...c,...o,ref:t,disabled:m,open:f,onOpenChange:p=>{p?l.onItemOpen(r):l.onItemClose(r)}})})});M2.displayName=qd;var D2="AccordionHeader",O2=Ye.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=Xf(zr,n),i=gy(D2,n);return u.jsx(Ue.h3,{"data-orientation":o.orientation,"data-state":F2(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});O2.displayName=D2;var Dg="AccordionTrigger",L2=Ye.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=Xf(zr,n),i=gy(Dg,n),l=vq(Dg,n),c=my(n);return u.jsx(hy.ItemSlot,{scope:n,children:u.jsx(XV,{"aria-disabled":i.open&&!l.collapsible||void 0,"data-orientation":o.orientation,id:i.triggerId,...c,...r,ref:t})})});L2.displayName=Dg;var z2="AccordionContent",$2=Ye.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=Xf(zr,n),i=gy(z2,n),l=my(n);return u.jsx(qV,{role:"region","aria-labelledby":i.triggerId,"data-orientation":o.orientation,...l,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});$2.displayName=z2;function F2(e){return e?"open":"closed"}var Cq=A2,Nq=M2,Eq=O2,jq=L2,_q=$2;function Pq({...e}){return u.jsx(Cq,{"data-slot":"accordion",...e})}function uS({className:e,...t}){return u.jsx(Nq,{"data-slot":"accordion-item",className:qe("border-b last:border-b-0",e),...t})}function dS({className:e,children:t,...n}){return u.jsx(Eq,{className:"flex",children:u.jsxs(jq,{"data-slot":"accordion-trigger",className:qe("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,u.jsx(Go,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function fS({className:e,children:t,...n}){return u.jsx(_q,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:u.jsx("div",{className:qe("pt-0 pb-4",e),children:t})})}function pS({attribute:e,timeRange:t,valueChanges:n,onAddChange:r,onEditChange:o}){const i=S.useRef(null),[l,c]=S.useState(0);S.useEffect(()=>{const g=i.current;if(!g)return;const x=()=>{c(g.offsetWidth)};x();const b=new ResizeObserver(x);return b.observe(g),()=>{g&&b.unobserve(g)}},[]);const d=g=>{const[x,b]=t,v=b-x,w=(g-x)/v*l;return Math.max(0,Math.min(l,w))},f=g=>{const[x,b]=t,v=b-x,w=x+g/l*v;return Math.max(x,Math.min(b,w))},m=g=>{if(!i.current)return;const x=i.current.getBoundingClientRect(),b=g.clientX-x.left,v=f(b);r(Math.round(v))},p=(g,x)=>{switch(g){case"set":return`= ${x}`;case"add":return`+ ${x}`;case"subtract":return`- ${x}`;case"prefix":return`prefix "${x}"`;case"append":return`append "${x}"`;case"increasePercent":return`+${x}%`;case"decreasePercent":return`-${x}%`;case"reset":return"reset";default:return g}};return u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs(Ae,{className:"text-sm font-medium",children:[e.name,u.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",e.type,", initial: ",e.initialValue.toString(),")"]})]})}),u.jsxs("div",{ref:i,className:"h-8 bg-muted rounded-md relative cursor-pointer",onClick:m,children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:[0,.25,.5,.75,1].map(g=>u.jsx("div",{className:"absolute h-2 border-l border-muted-foreground/30",style:{left:`${g*100}%`}},g))}),u.jsxs("div",{className:"absolute inset-x-0 -bottom-5 flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:t[0]}),u.jsx("span",{children:Math.round((t[0]+t[1])/2)}),u.jsx("span",{children:t[1]})]}),u.jsx(Dn,{children:n.map(g=>u.jsxs(mn,{children:[u.jsx(gn,{asChild:!0,children:u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-primary rounded-full cursor-pointer z-10",style:{left:`${d(g.timestamp)}px`},onClick:x=>{x.stopPropagation(),o(g)}})}),u.jsxs(xn,{children:[u.jsxs("p",{children:["Time: ",g.timestamp]}),u.jsx("p",{children:p(g.operation,g.value)})]})]},g.id))})]})]})}function Aq({open:e,onOpenChange:t,attribute:n,timestamp:r,existingChange:o,onSave:i,onDelete:l}){const[c,d]=S.useState("set"),[f,m]=S.useState(""),[p,g]=S.useState(r);S.useEffect(()=>{e&&(o?(d(o.operation),m(o.value.toString()),g(o.timestamp)):(d(n.type==="string"?"set":"add"),m(""),g(r)))},[e,n,r,o]);const x=()=>n.type==="string"?[{value:"set",label:"Set to"},{value:"prefix",label:"Prefix"},{value:"append",label:"Append"},{value:"reset",label:"Reset to initial value"}]:n.type==="int"||n.type==="real"?[{value:"set",label:"Set to"},{value:"add",label:"Add"},{value:"subtract",label:"Subtract"},{value:"increasePercent",label:"Increase by %"},{value:"decreasePercent",label:"Decrease by %"},{value:"reset",label:"Reset to initial value"}]:n.type==="boolean"?[{value:"set",label:"Set to"},{value:"toggle",label:"Toggle"},{value:"reset",label:"Reset to initial value"}]:[],b=()=>{const v=n.type==="int"?Number.parseInt(f,10):n.type==="real"?Number.parseFloat(f):n.type==="boolean"?f==="true":f,w={id:(o==null?void 0:o.id)||rt(),attributeId:n.id,timestamp:p,operation:c,value:v};i(w)};return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:"sm:max-w-[425px]",children:[u.jsxs(pn,{children:[u.jsx(hn,{children:o?"Edit Value Change":"Add Value Change"}),u.jsxs(ui,{children:['Define how the attribute "',n.name,'" changes at a specific time.']})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(Ae,{htmlFor:"timestamp",className:"text-right",children:"Timestamp"}),u.jsx(ct,{id:"timestamp",type:"number",value:p,onChange:v=>g(Number(v.target.value)),className:"col-span-3",min:0})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(Ae,{htmlFor:"operation",className:"text-right",children:"Operation"}),u.jsxs(ln,{value:c,onValueChange:d,children:[u.jsx(cn,{className:"col-span-3",children:u.jsx(an,{placeholder:"Select operation"})}),u.jsx(un,{children:x().map(v=>u.jsx(gt,{value:v.value,children:v.label},v.value))})]})]}),c!=="reset"&&c!=="toggle"&&u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(Ae,{htmlFor:"value",className:"text-right",children:"Value"}),n.type==="boolean"?u.jsxs(ln,{value:f,onValueChange:m,children:[u.jsx(cn,{className:"col-span-3",children:u.jsx(an,{placeholder:"Select value"})}),u.jsxs(un,{children:[u.jsx(gt,{value:"true",children:"True"}),u.jsx(gt,{value:"false",children:"False"})]})]}):u.jsx(ct,{id:"value",type:n.type==="int"||n.type==="real"?"number":"text",value:f,onChange:v=>m(v.target.value),className:"col-span-3"})]})]}),u.jsxs(Lr,{className:"flex justify-between",children:[u.jsx("div",{children:o&&l&&u.jsx(ye,{variant:"destructive",onClick:l,children:"Delete"})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ye,{onClick:b,children:"Save"})]})]})]})})}function Tq({open:e,onOpenChange:t,onAdd:n}){const[r,o]=S.useState(""),[i,l]=S.useState("string"),[c,d]=S.useState(""),f=()=>{let m;switch(i){case"int":m=Number.parseInt(c,10)||0;break;case"real":m=Number.parseFloat(c)||0;break;case"boolean":m=c==="true";break;default:m=c}const p={id:rt(),name:r,type:i,initialValue:m};n(p),o(""),l("string"),d("")};return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:"sm:max-w-[425px]",children:[u.jsxs(pn,{children:[u.jsx(hn,{children:"Add Global Attribute"}),u.jsx(ui,{children:"Create a new attribute for the global context."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(Ae,{htmlFor:"name",className:"text-right",children:"Name"}),u.jsx(ct,{id:"name",value:r,onChange:m=>o(m.target.value),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(Ae,{htmlFor:"type",className:"text-right",children:"Type"}),u.jsxs(ln,{value:i,onValueChange:m=>l(m),children:[u.jsx(cn,{className:"col-span-3",children:u.jsx(an,{placeholder:"Select type"})}),u.jsxs(un,{children:[u.jsx(gt,{value:"string",children:"String"}),u.jsx(gt,{value:"int",children:"Integer"}),u.jsx(gt,{value:"real",children:"Real"}),u.jsx(gt,{value:"boolean",children:"Boolean"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(Ae,{htmlFor:"initialValue",className:"text-right",children:"Initial Value"}),i==="boolean"?u.jsxs(ln,{value:c,onValueChange:d,children:[u.jsx(cn,{className:"col-span-3",children:u.jsx(an,{placeholder:"Select value"})}),u.jsxs(un,{children:[u.jsx(gt,{value:"true",children:"True"}),u.jsx(gt,{value:"false",children:"False"})]})]}):u.jsx(ct,{id:"initialValue",type:i==="int"||i==="real"?"number":"text",value:c,onChange:m=>d(m.target.value),className:"col-span-3"})]})]}),u.jsxs(Lr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ye,{onClick:f,disabled:!r,children:"Add Attribute"})]})]})})}function Iq({simulationTimeRange:e}){const[t,n]=S.useState([{id:"global-tax",name:"Sales Tax",type:"real",initialValue:19.5}]),[r,o]=S.useState([]),i=me(P=>P.colorSets),[l,c]=S.useState([{id:"change-1",attributeId:"global-1",timestamp:10,operation:"set",value:"PROC-002"},{id:"change-2",attributeId:"global-2",timestamp:25,operation:"add",value:50}]),[d,f]=S.useState(!1),[m,p]=S.useState(!1),[g,x]=S.useState(null),[b,v]=S.useState(null),[w,k]=S.useState(null);S.useEffect(()=>{const I=i.filter(F=>F.type==="record"||F.type==="complex").filter(F=>typeof F.id=="string"&&typeof F.definition=="string"&&F.definition.includes("record")).map(F=>{const W=[],z=F.definition,B=z.match(/record\s+(.*);/);return B&&B[1]?B[1].trim().split("*").forEach((A,O)=>{const $=A.split(":");if($.length===2){const q=$[0].trim(),D=$[1].trim();let U="string";switch(D.toUpperCase()){case"INT":U="int";break;case"STRING":U="string";break;case"BOOL":U="boolean";break;case"REAL":U="real";break;default:console.warn(`Unknown attribute type "${D}" in definition: ${z}. Defaulting to string.`)}W.push({id:`${F.id}-attr-${O}`,name:q,type:U,initialValue:""})}else console.warn(`Could not parse attribute pair: "${A}" in definition: ${z}`)}):console.warn(`Could not parse record attributes from definition: ${z}`),{id:F.id,name:F.name,attributes:W}});o(I)},[i]);const E=(P,I,F)=>{x(P),k(I),v(F||null),f(!0)},C=P=>{c(b?I=>I.map(F=>F.id===b.id?P:F):I=>[...I,P]),f(!1)},_=P=>{c(I=>I.filter(F=>F.id!==P)),f(!1)},R=P=>{n(I=>[...I,P]),p(!1)};return u.jsxs(Tf,{className:"h-full",children:[u.jsxs(WE,{className:"w-full border-none shadow-none gap-0",children:[u.jsx(YE,{children:u.jsx(L6,{children:"Object Evolution Layer"})}),u.jsx(XE,{children:u.jsxs(Pq,{type:"multiple",defaultValue:["global-context"],children:[u.jsxs(uS,{value:"global-context",children:[u.jsx(dS,{className:"flex items-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(uT,{className:"h-4 w-4"}),u.jsx("span",{children:"Global Context"})]})}),u.jsx(fS,{children:u.jsxs("div",{className:"space-y-4",children:[t.map(P=>u.jsx(pS,{attribute:P,timeRange:e,valueChanges:l.filter(I=>I.attributeId===P.id),onAddChange:I=>E(P,I),onEditChange:I=>E(P,I.timestamp,I)},P.id)),u.jsxs(ye,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>p(!0),children:[u.jsx(kS,{className:"h-4 w-4 mr-2"}),"Add Attribute"]})]})})]}),r.map(P=>u.jsxs(uS,{value:P.id,children:[u.jsx(dS,{className:"flex items-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(OA,{className:"h-4 w-4"}),u.jsx("span",{children:P.name})]})}),u.jsx(fS,{children:u.jsx("div",{className:"space-y-4",children:P.attributes.map(I=>u.jsx(pS,{attribute:I,timeRange:e,valueChanges:l.filter(F=>F.attributeId===I.id),onAddChange:F=>E(I,F),onEditChange:F=>E(I,F.timestamp,F)},I.id))})})]},P.id))]})})]}),g&&u.jsx(Aq,{open:d,onOpenChange:f,attribute:g,timestamp:w||0,existingChange:b,onSave:C,onDelete:b?()=>_(b.id):void 0}),u.jsx(Tq,{open:m,onOpenChange:p,onAdd:R})]})}function Rq(){const[e,t]=S.useState(!1),n=[0,100],r=()=>{t(o=>!o)};return u.jsx(hq,{children:u.jsx("div",{className:"h-screen",children:u.jsxs(aw,{direction:"horizontal",children:[u.jsx(KV,{}),u.jsx(cw,{}),u.jsx(ja,{children:u.jsxs(aw,{direction:"vertical",children:[u.jsx(ja,{className:"flex flex-col",children:u.jsx(HC,{children:u.jsx(m8,{children:u.jsx(rq,{onToggleAIAssistant:r})})})}),u.jsx(cw,{}),u.jsx(ja,{defaultSize:0,collapsedSize:0,collapsible:!0,minSize:10,children:u.jsx(Iq,{simulationTimeRange:n})})]})}),e&&u.jsx(u.Fragment,{children:u.jsx(iq,{})})]})})})}jA.createRoot(document.getElementById("root")).render(u.jsx(Ye.StrictMode,{children:u.jsx(Rq,{})}));export{Mq as c,sc as g};
