var Q=(U,A)=>()=>(A||U((A={exports:{}}).exports,A),A.exports),$=Q((U,A)=>{var B=Object.defineProperty,D=(v,c,j)=>c in v?B(v,c,{enumerable:!0,configurable:!0,writable:!0,value:j}):v[c]=j,T=(v,c)=>()=>(c||v((c={exports:{}}).exports,c),c.exports),f=(v,c,j)=>D(v,typeof c!="symbol"?c+"":c,j),d=T((v,c)=>{var j="\0",b="\0",y="",x=class{constructor(n){f(this,"_isDirected",!0),f(this,"_isMultigraph",!1),f(this,"_isCompound",!1),f(this,"_label"),f(this,"_defaultNodeLabelFn",()=>{}),f(this,"_defaultEdgeLabelFn",()=>{}),f(this,"_nodes",{}),f(this,"_in",{}),f(this,"_preds",{}),f(this,"_out",{}),f(this,"_sucs",{}),f(this,"_edgeObjs",{}),f(this,"_edgeLabels",{}),f(this,"_nodeCount",0),f(this,"_edgeCount",0),f(this,"_parent"),f(this,"_children"),n&&(this._isDirected=Object.hasOwn(n,"directed")?n.directed:!0,this._isMultigraph=Object.hasOwn(n,"multigraph")?n.multigraph:!1,this._isCompound=Object.hasOwn(n,"compound")?n.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[b]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(n){return this._label=n,this}graph(){return this._label}setDefaultNodeLabel(n){return this._defaultNodeLabelFn=n,typeof n!="function"&&(this._defaultNodeLabelFn=()=>n),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var n=this;return this.nodes().filter(e=>Object.keys(n._in[e]).length===0)}sinks(){var n=this;return this.nodes().filter(e=>Object.keys(n._out[e]).length===0)}setNodes(n,e){var i=arguments,u=this;return n.forEach(function(m){i.length>1?u.setNode(m,e):u.setNode(m)}),this}setNode(n,e){return Object.hasOwn(this._nodes,n)?(arguments.length>1&&(this._nodes[n]=e),this):(this._nodes[n]=arguments.length>1?e:this._defaultNodeLabelFn(n),this._isCompound&&(this._parent[n]=b,this._children[n]={},this._children[b][n]=!0),this._in[n]={},this._preds[n]={},this._out[n]={},this._sucs[n]={},++this._nodeCount,this)}node(n){return this._nodes[n]}hasNode(n){return Object.hasOwn(this._nodes,n)}removeNode(n){var e=this;if(Object.hasOwn(this._nodes,n)){var i=u=>e.removeEdge(e._edgeObjs[u]);delete this._nodes[n],this._isCompound&&(this._removeFromParentsChildList(n),delete this._parent[n],this.children(n).forEach(function(u){e.setParent(u)}),delete this._children[n]),Object.keys(this._in[n]).forEach(i),delete this._in[n],delete this._preds[n],Object.keys(this._out[n]).forEach(i),delete this._out[n],delete this._sucs[n],--this._nodeCount}return this}setParent(n,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e===void 0)e=b;else{e+="";for(var i=e;i!==void 0;i=this.parent(i))if(i===n)throw new Error("Setting "+e+" as parent of "+n+" would create a cycle");this.setNode(e)}return this.setNode(n),this._removeFromParentsChildList(n),this._parent[n]=e,this._children[e][n]=!0,this}_removeFromParentsChildList(n){delete this._children[this._parent[n]][n]}parent(n){if(this._isCompound){var e=this._parent[n];if(e!==b)return e}}children(n=b){if(this._isCompound){var e=this._children[n];if(e)return Object.keys(e)}else{if(n===b)return this.nodes();if(this.hasNode(n))return[]}}predecessors(n){var e=this._preds[n];if(e)return Object.keys(e)}successors(n){var e=this._sucs[n];if(e)return Object.keys(e)}neighbors(n){var e=this.predecessors(n);if(e){let u=new Set(e);for(var i of this.successors(n))u.add(i);return Array.from(u.values())}}isLeaf(n){var e;return this.isDirected()?e=this.successors(n):e=this.neighbors(n),e.length===0}filterNodes(n){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var i=this;Object.entries(this._nodes).forEach(function([C,Y]){n(C)&&e.setNode(C,Y)}),Object.values(this._edgeObjs).forEach(function(C){e.hasNode(C.v)&&e.hasNode(C.w)&&e.setEdge(C,i.edge(C))});var u={};function m(C){var Y=i.parent(C);return Y===void 0||e.hasNode(Y)?(u[C]=Y,Y):Y in u?u[Y]:m(Y)}return this._isCompound&&e.nodes().forEach(C=>e.setParent(C,m(C))),e}setDefaultEdgeLabel(n){return this._defaultEdgeLabelFn=n,typeof n!="function"&&(this._defaultEdgeLabelFn=()=>n),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(n,e){var i=this,u=arguments;return n.reduce(function(m,C){return u.length>1?i.setEdge(m,C,e):i.setEdge(m,C),C}),this}setEdge(){var n,e,i,u,m=!1,C=arguments[0];typeof C=="object"&&C!==null&&"v"in C?(n=C.v,e=C.w,i=C.name,arguments.length===2&&(u=arguments[1],m=!0)):(n=C,e=arguments[1],i=arguments[3],arguments.length>2&&(u=arguments[2],m=!0)),n=""+n,e=""+e,i!==void 0&&(i=""+i);var Y=L(this._isDirected,n,e,i);if(Object.hasOwn(this._edgeLabels,Y))return m&&(this._edgeLabels[Y]=u),this;if(i!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(n),this.setNode(e),this._edgeLabels[Y]=m?u:this._defaultEdgeLabelFn(n,e,i);var X=G(this._isDirected,n,e,i);return n=X.v,e=X.w,Object.freeze(X),this._edgeObjs[Y]=X,R(this._preds[e],n),R(this._sucs[n],e),this._in[e][Y]=X,this._out[n][Y]=X,this._edgeCount++,this}edge(n,e,i){var u=arguments.length===1?V(this._isDirected,arguments[0]):L(this._isDirected,n,e,i);return this._edgeLabels[u]}edgeAsObj(){let n=this.edge(...arguments);return typeof n!="object"?{label:n}:n}hasEdge(n,e,i){var u=arguments.length===1?V(this._isDirected,arguments[0]):L(this._isDirected,n,e,i);return Object.hasOwn(this._edgeLabels,u)}removeEdge(n,e,i){var u=arguments.length===1?V(this._isDirected,arguments[0]):L(this._isDirected,n,e,i),m=this._edgeObjs[u];return m&&(n=m.v,e=m.w,delete this._edgeLabels[u],delete this._edgeObjs[u],M(this._preds[e],n),M(this._sucs[n],e),delete this._in[e][u],delete this._out[n][u],this._edgeCount--),this}inEdges(n,e){return this.isDirected()?this.filterEdges(this._in[n],n,e):this.nodeEdges(n,e)}outEdges(n,e){return this.isDirected()?this.filterEdges(this._out[n],n,e):this.nodeEdges(n,e)}nodeEdges(n,e){if(n in this._nodes)return this.filterEdges({...this._in[n],...this._out[n]},n,e)}filterEdges(n,e,i){if(n){var u=Object.values(n);return i?u.filter(function(m){return m.v===e&&m.w===i||m.v===i&&m.w===e}):u}}};function R(n,e){n[e]?n[e]++:n[e]=1}function M(n,e){--n[e]||delete n[e]}function L(n,e,i,u){var m=""+e,C=""+i;if(!n&&m>C){var Y=m;m=C,C=Y}return m+y+C+y+(u===void 0?j:u)}function G(n,e,i,u){var m=""+e,C=""+i;if(!n&&m>C){var Y=m;m=C,C=Y}var X={v:m,w:C};return u&&(X.name=u),X}function V(n,e){return L(n,e.v,e.w,e.name)}c.exports=x}),h=T((v,c)=>{c.exports="3.0.2"}),r=T((v,c)=>{c.exports={Graph:d(),version:h()}}),a=T((v,c)=>{var j=d();c.exports={write:b,read:R};function b(M){var L={options:{directed:M.isDirected(),multigraph:M.isMultigraph(),compound:M.isCompound()},nodes:y(M),edges:x(M)};return M.graph()!==void 0&&(L.value=structuredClone(M.graph())),L}function y(M){return M.nodes().map(function(L){var G=M.node(L),V=M.parent(L),n={v:L};return G!==void 0&&(n.value=G),V!==void 0&&(n.parent=V),n})}function x(M){return M.edges().map(function(L){var G=M.edge(L),V={v:L.v,w:L.w};return L.name!==void 0&&(V.name=L.name),G!==void 0&&(V.value=G),V})}function R(M){var L=new j(M.options).setGraph(M.value);return M.nodes.forEach(function(G){L.setNode(G.v,G.value),G.parent&&L.setParent(G.v,G.parent)}),M.edges.forEach(function(G){L.setEdge({v:G.v,w:G.w,name:G.name},G.value)}),L}}),t=T((v,c)=>{c.exports=b;var j=()=>1;function b(x,R,M,L){return y(x,String(R),M||j,L||function(G){return x.outEdges(G)})}function y(x,R,M,L){var G={},V=!0,n=0,e=x.nodes(),i=function(Y){var X=M(Y);G[Y.v].distance+X<G[Y.w].distance&&(G[Y.w]={distance:G[Y.v].distance+X,predecessor:Y.v},V=!0)},u=function(){e.forEach(function(Y){L(Y).forEach(function(X){var J=X.v===Y?X.v:X.w,re=J===X.v?X.w:X.v;i({v:J,w:re})})})};e.forEach(function(Y){var X=Y===R?0:Number.POSITIVE_INFINITY;G[Y]={distance:X}});for(var m=e.length,C=1;C<m&&(V=!1,n++,u(),!!V);C++);if(n===m-1&&(V=!1,u(),V))throw new Error("The graph contains a negative weight cycle");return G}}),o=T((v,c)=>{c.exports=j;function j(b){var y={},x=[],R;function M(L){Object.hasOwn(y,L)||(y[L]=!0,R.push(L),b.successors(L).forEach(M),b.predecessors(L).forEach(M))}return b.nodes().forEach(function(L){R=[],M(L),R.length&&x.push(R)}),x}}),p=T((v,c)=>{var j=class{constructor(){f(this,"_arr",[]),f(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(b){return b.key})}has(b){return Object.hasOwn(this._keyIndices,b)}priority(b){var y=this._keyIndices[b];if(y!==void 0)return this._arr[y].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(b,y){var x=this._keyIndices;if(b=String(b),!Object.hasOwn(x,b)){var R=this._arr,M=R.length;return x[b]=M,R.push({key:b,priority:y}),this._decrease(M),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var b=this._arr.pop();return delete this._keyIndices[b.key],this._heapify(0),b.key}decrease(b,y){var x=this._keyIndices[b];if(y>this._arr[x].priority)throw new Error("New priority is greater than current priority. Key: "+b+" Old: "+this._arr[x].priority+" New: "+y);this._arr[x].priority=y,this._decrease(x)}_heapify(b){var y=this._arr,x=2*b,R=x+1,M=b;x<y.length&&(M=y[x].priority<y[M].priority?x:M,R<y.length&&(M=y[R].priority<y[M].priority?R:M),M!==b&&(this._swap(b,M),this._heapify(M)))}_decrease(b){for(var y=this._arr,x=y[b].priority,R;b!==0&&(R=b>>1,!(y[R].priority<x));)this._swap(b,R),b=R}_swap(b,y){var x=this._arr,R=this._keyIndices,M=x[b],L=x[y];x[b]=L,x[y]=M,R[L.key]=b,R[M.key]=y}};c.exports=j}),s=T((v,c)=>{var j=p();c.exports=y;var b=()=>1;function y(R,M,L,G){var V=function(n){return R.outEdges(n)};return x(R,String(M),L||b,G||V)}function x(R,M,L,G){var V={},n=new j,e,i,u=function(m){var C=m.v!==e?m.v:m.w,Y=V[C],X=L(m),J=i.distance+X;if(X<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+m+" Weight: "+X);J<Y.distance&&(Y.distance=J,Y.predecessor=e,n.decrease(C,J))};for(R.nodes().forEach(function(m){var C=m===M?0:Number.POSITIVE_INFINITY;V[m]={distance:C},n.add(m,C)});n.size()>0&&(e=n.removeMin(),i=V[e],i.distance!==Number.POSITIVE_INFINITY);)G(e).forEach(u);return V}}),k=T((v,c)=>{var j=s();c.exports=b;function b(y,x,R){return y.nodes().reduce(function(M,L){return M[L]=j(y,L,x,R),M},{})}}),S=T((v,c)=>{c.exports=j;function j(y,x,R){if(y[x].predecessor!==void 0)throw new Error("Invalid source vertex");if(y[R].predecessor===void 0&&R!==x)throw new Error("Invalid destination vertex");return{weight:y[R].distance,path:b(y,x,R)}}function b(y,x,R){for(var M=[],L=R;L!==x;)M.push(L),L=y[L].predecessor;return M.push(x),M.reverse()}}),z=T((v,c)=>{c.exports=j;function j(b){var y=0,x=[],R={},M=[];function L(G){var V=R[G]={onStack:!0,lowlink:y,index:y++};if(x.push(G),b.successors(G).forEach(function(i){Object.hasOwn(R,i)?R[i].onStack&&(V.lowlink=Math.min(V.lowlink,R[i].index)):(L(i),V.lowlink=Math.min(V.lowlink,R[i].lowlink))}),V.lowlink===V.index){var n=[],e;do e=x.pop(),R[e].onStack=!1,n.push(e);while(G!==e);M.push(n)}}return b.nodes().forEach(function(G){Object.hasOwn(R,G)||L(G)}),M}}),W=T((v,c)=>{var j=z();c.exports=b;function b(y){return j(y).filter(function(x){return x.length>1||x.length===1&&y.hasEdge(x[0],x[0])})}}),E=T((v,c)=>{c.exports=b;var j=()=>1;function b(x,R,M){return y(x,R||j,M||function(L){return x.outEdges(L)})}function y(x,R,M){var L={},G=x.nodes();return G.forEach(function(V){L[V]={},L[V][V]={distance:0},G.forEach(function(n){V!==n&&(L[V][n]={distance:Number.POSITIVE_INFINITY})}),M(V).forEach(function(n){var e=n.v===V?n.w:n.v,i=R(n);L[V][e]={distance:i,predecessor:V}})}),G.forEach(function(V){var n=L[V];G.forEach(function(e){var i=L[e];G.forEach(function(u){var m=i[V],C=n[u],Y=i[u],X=m.distance+C.distance;X<Y.distance&&(Y.distance=X,Y.predecessor=C.predecessor)})})}),L}}),N=T((v,c)=>{function j(y){var x={},R={},M=[];function L(G){if(Object.hasOwn(R,G))throw new b;Object.hasOwn(x,G)||(R[G]=!0,x[G]=!0,y.predecessors(G).forEach(L),delete R[G],M.push(G))}if(y.sinks().forEach(L),Object.keys(x).length!==y.nodeCount())throw new b;return M}var b=class extends Error{constructor(){super(...arguments)}};c.exports=j,j.CycleException=b}),g=T((v,c)=>{var j=N();c.exports=b;function b(y){try{j(y)}catch(x){if(x instanceof j.CycleException)return!1;throw x}return!0}}),O=T((v,c)=>{c.exports=j;function j(y,x,R,M,L){Array.isArray(x)||(x=[x]);var G=(y.isDirected()?y.successors:y.neighbors).bind(y),V={};return x.forEach(function(n){if(!y.hasNode(n))throw new Error("Graph does not have node: "+n);L=b(y,n,R==="post",V,G,M,L)}),L}function b(y,x,R,M,L,G,V){return Object.hasOwn(M,x)||(M[x]=!0,R||(V=G(V,x)),L(x).forEach(function(n){V=b(y,n,R,M,L,G,V)}),R&&(V=G(V,x))),V}}),I=T((v,c)=>{var j=O();c.exports=b;function b(y,x,R){return j(y,x,R,function(M,L){return M.push(L),M},[])}}),F=T((v,c)=>{var j=I();c.exports=b;function b(y,x){return j(y,x,"post")}}),P=T((v,c)=>{var j=I();c.exports=b;function b(y,x){return j(y,x,"pre")}}),q=T((v,c)=>{var j=d(),b=p();c.exports=y;function y(x,R){var M=new j,L={},G=new b,V;function n(i){var u=i.v===V?i.w:i.v,m=G.priority(u);if(m!==void 0){var C=R(i);C<m&&(L[u]=V,G.decrease(u,C))}}if(x.nodeCount()===0)return M;x.nodes().forEach(function(i){G.add(i,Number.POSITIVE_INFINITY),M.setNode(i)}),G.decrease(x.nodes()[0],0);for(var e=!1;G.size()>0;){if(V=G.removeMin(),Object.hasOwn(L,V))M.setEdge(V,L[V]);else{if(e)throw new Error("Input graph is not connected: "+x);e=!0}x.nodeEdges(V).forEach(n)}return M}}),l=T((v,c)=>{var j=s(),b=t();c.exports=y;function y(R,M,L,G){return x(R,M,L,G||function(V){return R.outEdges(V)})}function x(R,M,L,G){if(L===void 0)return j(R,M,L,G);for(var V=!1,n=R.nodes(),e=0;e<n.length;e++){for(var i=G(n[e]),u=0;u<i.length;u++){var m=i[u],C=m.v===n[e]?m.v:m.w,Y=C===m.v?m.w:m.v;L({v:C,w:Y})<0&&(V=!0)}if(V)return b(R,M,L,G)}return j(R,M,L,G)}}),w=T((v,c)=>{c.exports={bellmanFord:t(),components:o(),dijkstra:s(),dijkstraAll:k(),extractPath:S(),findCycles:W(),floydWarshall:E(),isAcyclic:g(),postorder:F(),preorder:P(),prim:q(),shortestPaths:l(),reduce:O(),tarjan:z(),topsort:N()}}),_=r();A.exports={Graph:_.Graph,json:a(),alg:w(),version:_.version}}),ae=Q((U,A)=>{var B=class{constructor(){let f={};f._next=f._prev=f,this._sentinel=f}dequeue(){let f=this._sentinel,d=f._prev;if(d!==f)return D(d),d}enqueue(f){let d=this._sentinel;f._prev&&f._next&&D(f),f._next=d._next,d._next._prev=f,d._next=f,f._prev=d}toString(){let f=[],d=this._sentinel,h=d._prev;for(;h!==d;)f.push(JSON.stringify(h,T)),h=h._prev;return"["+f.join(", ")+"]"}};function D(f){f._prev._next=f._next,f._next._prev=f._prev,delete f._next,delete f._prev}function T(f,d){if(f!=="_next"&&f!=="_prev")return d}A.exports=B}),se=Q((U,A)=>{var B=$().Graph,D=ae();A.exports=f;var T=()=>1;function f(o,p){if(o.nodeCount()<=1)return[];let s=r(o,p||T);return d(s.graph,s.buckets,s.zeroIdx).flatMap(k=>o.outEdges(k.v,k.w))}function d(o,p,s){let k=[],S=p[p.length-1],z=p[0],W;for(;o.nodeCount();){for(;W=z.dequeue();)h(o,p,s,W);for(;W=S.dequeue();)h(o,p,s,W);if(o.nodeCount()){for(let E=p.length-2;E>0;--E)if(W=p[E].dequeue(),W){k=k.concat(h(o,p,s,W,!0));break}}}return k}function h(o,p,s,k,S){let z=S?[]:void 0;return o.inEdges(k.v).forEach(W=>{let E=o.edge(W),N=o.node(W.v);S&&z.push({v:W.v,w:W.w}),N.out-=E,a(p,s,N)}),o.outEdges(k.v).forEach(W=>{let E=o.edge(W),N=W.w,g=o.node(N);g.in-=E,a(p,s,g)}),o.removeNode(k.v),z}function r(o,p){let s=new B,k=0,S=0;o.nodes().forEach(E=>{s.setNode(E,{v:E,in:0,out:0})}),o.edges().forEach(E=>{let N=s.edge(E.v,E.w)||0,g=p(E),O=N+g;s.setEdge(E.v,E.w,O),S=Math.max(S,s.node(E.v).out+=g),k=Math.max(k,s.node(E.w).in+=g)});let z=t(S+k+3).map(()=>new D),W=k+1;return s.nodes().forEach(E=>{a(z,W,s.node(E))}),{graph:s,buckets:z,zeroIdx:W}}function a(o,p,s){s.out?s.in?o[s.out-s.in+p].enqueue(s):o[o.length-1].enqueue(s):o[0].enqueue(s)}function t(o){let p=[];for(let s=0;s<o;s++)p.push(s);return p}}),H=Q((U,A)=>{var B=$().Graph;A.exports={addBorderNode:p,addDummyNode:D,applyWithChunking:S,asNonCompoundGraph:f,buildLayerMatrix:a,intersectRect:r,mapValues:P,maxRank:z,normalizeRanks:t,notime:N,partition:W,pick:F,predecessorWeights:h,range:I,removeEmptyRanks:o,simplify:T,successorWeights:d,time:E,uniqueId:O,zipObject:q};function D(l,w,_,v){for(var c=v;l.hasNode(c);)c=O(v);return _.dummy=w,l.setNode(c,_),c}function T(l){let w=new B().setGraph(l.graph());return l.nodes().forEach(_=>w.setNode(_,l.node(_))),l.edges().forEach(_=>{let v=w.edge(_.v,_.w)||{weight:0,minlen:1},c=l.edge(_);w.setEdge(_.v,_.w,{weight:v.weight+c.weight,minlen:Math.max(v.minlen,c.minlen)})}),w}function f(l){let w=new B({multigraph:l.isMultigraph()}).setGraph(l.graph());return l.nodes().forEach(_=>{l.children(_).length||w.setNode(_,l.node(_))}),l.edges().forEach(_=>{w.setEdge(_,l.edge(_))}),w}function d(l){let w=l.nodes().map(_=>{let v={};return l.outEdges(_).forEach(c=>{v[c.w]=(v[c.w]||0)+l.edge(c).weight}),v});return q(l.nodes(),w)}function h(l){let w=l.nodes().map(_=>{let v={};return l.inEdges(_).forEach(c=>{v[c.v]=(v[c.v]||0)+l.edge(c).weight}),v});return q(l.nodes(),w)}function r(l,w){let _=l.x,v=l.y,c=w.x-_,j=w.y-v,b=l.width/2,y=l.height/2;if(!c&&!j)throw new Error("Not possible to find intersection inside of the rectangle");let x,R;return Math.abs(j)*b>Math.abs(c)*y?(j<0&&(y=-y),x=y*c/j,R=y):(c<0&&(b=-b),x=b,R=b*j/c),{x:_+x,y:v+R}}function a(l){let w=I(z(l)+1).map(()=>[]);return l.nodes().forEach(_=>{let v=l.node(_),c=v.rank;c!==void 0&&(w[c][v.order]=_)}),w}function t(l){let w=l.nodes().map(v=>{let c=l.node(v).rank;return c===void 0?Number.MAX_VALUE:c}),_=S(Math.min,w);l.nodes().forEach(v=>{let c=l.node(v);Object.hasOwn(c,"rank")&&(c.rank-=_)})}function o(l){let w=l.nodes().map(b=>l.node(b).rank).filter(b=>b!==void 0),_=S(Math.min,w),v=[];l.nodes().forEach(b=>{let y=l.node(b).rank-_;v[y]||(v[y]=[]),v[y].push(b)});let c=0,j=l.graph().nodeRankFactor;Array.from(v).forEach((b,y)=>{b===void 0&&y%j!==0?--c:b!==void 0&&c&&b.forEach(x=>l.node(x).rank+=c)})}function p(l,w,_,v){let c={width:0,height:0};return arguments.length>=4&&(c.rank=_,c.order=v),D(l,"border",c,w)}function s(l,w=k){let _=[];for(let v=0;v<l.length;v+=w){let c=l.slice(v,v+w);_.push(c)}return _}var k=65535;function S(l,w){if(w.length>k){let _=s(w);return l.apply(null,_.map(v=>l.apply(null,v)))}else return l.apply(null,w)}function z(l){let w=l.nodes().map(_=>{let v=l.node(_).rank;return v===void 0?Number.MIN_VALUE:v});return S(Math.max,w)}function W(l,w){let _={lhs:[],rhs:[]};return l.forEach(v=>{w(v)?_.lhs.push(v):_.rhs.push(v)}),_}function E(l,w){let _=Date.now();try{return w()}finally{console.log(l+" time: "+(Date.now()-_)+"ms")}}function N(l,w){return w()}var g=0;function O(l){var w=++g;return l+(""+w)}function I(l,w,_=1){w==null&&(w=l,l=0);let v=j=>j<w;_<0&&(v=j=>w<j);let c=[];for(let j=l;v(j);j+=_)c.push(j);return c}function F(l,w){let _={};for(let v of w)l[v]!==void 0&&(_[v]=l[v]);return _}function P(l,w){let _=w;return typeof w=="string"&&(_=v=>v[w]),Object.entries(l).reduce((v,[c,j])=>(v[c]=_(j,c),v),{})}function q(l,w){return l.reduce((_,v,c)=>(_[v]=w[c],_),{})}}),he=Q((U,A)=>{var B=se(),D=H().uniqueId;A.exports={run:T,undo:d};function T(h){(h.graph().acyclicer==="greedy"?B(h,r(h)):f(h)).forEach(a=>{let t=h.edge(a);h.removeEdge(a),t.forwardName=a.name,t.reversed=!0,h.setEdge(a.w,a.v,t,D("rev"))});function r(a){return t=>a.edge(t).weight}}function f(h){let r=[],a={},t={};function o(p){Object.hasOwn(t,p)||(t[p]=!0,a[p]=!0,h.outEdges(p).forEach(s=>{Object.hasOwn(a,s.w)?r.push(s):o(s.w)}),delete a[p])}return h.nodes().forEach(o),r}function d(h){h.edges().forEach(r=>{let a=h.edge(r);if(a.reversed){h.removeEdge(r);let t=a.forwardName;delete a.reversed,delete a.forwardName,h.setEdge(r.w,r.v,a,t)}})}}),de=Q((U,A)=>{var B=H();A.exports={run:D,undo:f};function D(d){d.graph().dummyChains=[],d.edges().forEach(h=>T(d,h))}function T(d,h){let r=h.v,a=d.node(r).rank,t=h.w,o=d.node(t).rank,p=h.name,s=d.edge(h),k=s.labelRank;if(o===a+1)return;d.removeEdge(h);let S,z,W;for(W=0,++a;a<o;++W,++a)s.points=[],z={width:0,height:0,edgeLabel:s,edgeObj:h,rank:a},S=B.addDummyNode(d,"edge",z,"_d"),a===k&&(z.width=s.width,z.height=s.height,z.dummy="edge-label",z.labelpos=s.labelpos),d.setEdge(r,S,{weight:s.weight},p),W===0&&d.graph().dummyChains.push(S),r=S;d.setEdge(r,t,{weight:s.weight},p)}function f(d){d.graph().dummyChains.forEach(h=>{let r=d.node(h),a=r.edgeLabel,t;for(d.setEdge(r.edgeObj,a);r.dummy;)t=d.successors(h)[0],d.removeNode(h),a.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(a.x=r.x,a.y=r.y,a.width=r.width,a.height=r.height),h=t,r=d.node(h)})}}),te=Q((U,A)=>{var{applyWithChunking:B}=H();A.exports={longestPath:D,slack:T};function D(f){var d={};function h(r){var a=f.node(r);if(Object.hasOwn(d,r))return a.rank;d[r]=!0;let t=f.outEdges(r).map(p=>p==null?Number.POSITIVE_INFINITY:h(p.w)-f.edge(p).minlen);var o=B(Math.min,t);return o===Number.POSITIVE_INFINITY&&(o=0),a.rank=o}f.sources().forEach(h)}function T(f,d){return f.node(d.w).rank-f.node(d.v).rank-f.edge(d).minlen}}),ie=Q((U,A)=>{var B=$().Graph,D=te().slack;A.exports=T;function T(r){var a=new B({directed:!1}),t=r.nodes()[0],o=r.nodeCount();a.setNode(t,{});for(var p,s;f(a,r)<o;)p=d(a,r),s=a.hasNode(p.v)?D(r,p):-D(r,p),h(a,r,s);return a}function f(r,a){function t(o){a.nodeEdges(o).forEach(p=>{var s=p.v,k=o===s?p.w:s;!r.hasNode(k)&&!D(a,p)&&(r.setNode(k,{}),r.setEdge(o,k,{}),t(k))})}return r.nodes().forEach(t),r.nodeCount()}function d(r,a){return a.edges().reduce((t,o)=>{let p=Number.POSITIVE_INFINITY;return r.hasNode(o.v)!==r.hasNode(o.w)&&(p=D(a,o)),p<t[0]?[p,o]:t},[Number.POSITIVE_INFINITY,null])[1]}function h(r,a,t){r.nodes().forEach(o=>a.node(o).rank+=t)}}),ue=Q((U,A)=>{var B=ie(),D=te().slack,T=te().longestPath,f=$().alg.preorder,d=$().alg.postorder,h=H().simplify;A.exports=r,r.initLowLimValues=p,r.initCutValues=a,r.calcCutValue=o,r.leaveEdge=k,r.enterEdge=S,r.exchangeEdges=z;function r(g){g=h(g),T(g);var O=B(g);p(O),a(O,g);for(var I,F;I=k(O);)F=S(O,g,I),z(O,g,I,F)}function a(g,O){var I=d(g,g.nodes());I=I.slice(0,I.length-1),I.forEach(F=>t(g,O,F))}function t(g,O,I){var F=g.node(I),P=F.parent;g.edge(I,P).cutvalue=o(g,O,I)}function o(g,O,I){var F=g.node(I),P=F.parent,q=!0,l=O.edge(I,P),w=0;return l||(q=!1,l=O.edge(P,I)),w=l.weight,O.nodeEdges(I).forEach(_=>{var v=_.v===I,c=v?_.w:_.v;if(c!==P){var j=v===q,b=O.edge(_).weight;if(w+=j?b:-b,E(g,I,c)){var y=g.edge(I,c).cutvalue;w+=j?-y:y}}}),w}function p(g,O){arguments.length<2&&(O=g.nodes()[0]),s(g,{},1,O)}function s(g,O,I,F,P){var q=I,l=g.node(F);return O[F]=!0,g.neighbors(F).forEach(w=>{Object.hasOwn(O,w)||(I=s(g,O,I,w,F))}),l.low=q,l.lim=I++,P?l.parent=P:delete l.parent,I}function k(g){return g.edges().find(O=>g.edge(O).cutvalue<0)}function S(g,O,I){var F=I.v,P=I.w;O.hasEdge(F,P)||(F=I.w,P=I.v);var q=g.node(F),l=g.node(P),w=q,_=!1;q.lim>l.lim&&(w=l,_=!0);var v=O.edges().filter(c=>_===N(g,g.node(c.v),w)&&_!==N(g,g.node(c.w),w));return v.reduce((c,j)=>D(O,j)<D(O,c)?j:c)}function z(g,O,I,F){var P=I.v,q=I.w;g.removeEdge(P,q),g.setEdge(F.v,F.w,{}),p(g),a(g,O),W(g,O)}function W(g,O){var I=g.nodes().find(P=>!O.node(P).parent),F=f(g,I);F=F.slice(1),F.forEach(P=>{var q=g.node(P).parent,l=O.edge(P,q),w=!1;l||(l=O.edge(q,P),w=!0),O.node(P).rank=O.node(q).rank+(w?l.minlen:-l.minlen)})}function E(g,O,I){return g.hasEdge(O,I)}function N(g,O,I){return I.low<=O.lim&&O.lim<=I.lim}}),ce=Q((U,A)=>{var B=te(),D=B.longestPath,T=ie(),f=ue();A.exports=d;function d(t){var o=t.graph().ranker;if(o instanceof Function)return o(t);switch(t.graph().ranker){case"network-simplex":a(t);break;case"tight-tree":r(t);break;case"longest-path":h(t);break;case"none":break;default:a(t)}}var h=D;function r(t){D(t),T(t)}function a(t){f(t)}}),le=Q((U,A)=>{A.exports=B;function B(f){let d=T(f);f.graph().dummyChains.forEach(h=>{let r=f.node(h),a=r.edgeObj,t=D(f,d,a.v,a.w),o=t.path,p=t.lca,s=0,k=o[s],S=!0;for(;h!==a.w;){if(r=f.node(h),S){for(;(k=o[s])!==p&&f.node(k).maxRank<r.rank;)s++;k===p&&(S=!1)}if(!S){for(;s<o.length-1&&f.node(k=o[s+1]).minRank<=r.rank;)s++;k=o[s]}f.setParent(h,k),h=f.successors(h)[0]}})}function D(f,d,h,r){let a=[],t=[],o=Math.min(d[h].low,d[r].low),p=Math.max(d[h].lim,d[r].lim),s,k;s=h;do s=f.parent(s),a.push(s);while(s&&(d[s].low>o||p>d[s].lim));for(k=s,s=r;(s=f.parent(s))!==k;)t.push(s);return{path:a.concat(t.reverse()),lca:k}}function T(f){let d={},h=0;function r(a){let t=h;f.children(a).forEach(r),d[a]={low:t,lim:h++}}return f.children().forEach(r),d}}),fe=Q((U,A)=>{var B=H();A.exports={run:D,cleanup:h};function D(r){let a=B.addDummyNode(r,"root",{},"_root"),t=f(r),o=Object.values(t),p=B.applyWithChunking(Math.max,o)-1,s=2*p+1;r.graph().nestingRoot=a,r.edges().forEach(S=>r.edge(S).minlen*=s);let k=d(r)+1;r.children().forEach(S=>T(r,a,s,k,p,t,S)),r.graph().nodeRankFactor=s}function T(r,a,t,o,p,s,k){let S=r.children(k);if(!S.length){k!==a&&r.setEdge(a,k,{weight:0,minlen:t});return}let z=B.addBorderNode(r,"_bt"),W=B.addBorderNode(r,"_bb"),E=r.node(k);r.setParent(z,k),E.borderTop=z,r.setParent(W,k),E.borderBottom=W,S.forEach(N=>{T(r,a,t,o,p,s,N);let g=r.node(N),O=g.borderTop?g.borderTop:N,I=g.borderBottom?g.borderBottom:N,F=g.borderTop?o:2*o,P=O!==I?1:p-s[k]+1;r.setEdge(z,O,{weight:F,minlen:P,nestingEdge:!0}),r.setEdge(I,W,{weight:F,minlen:P,nestingEdge:!0})}),r.parent(k)||r.setEdge(a,z,{weight:0,minlen:p+s[k]})}function f(r){var a={};function t(o,p){var s=r.children(o);s&&s.length&&s.forEach(k=>t(k,p+1)),a[o]=p}return r.children().forEach(o=>t(o,1)),a}function d(r){return r.edges().reduce((a,t)=>a+r.edge(t).weight,0)}function h(r){var a=r.graph();r.removeNode(a.nestingRoot),delete a.nestingRoot,r.edges().forEach(t=>{var o=r.edge(t);o.nestingEdge&&r.removeEdge(t)})}}),ge=Q((U,A)=>{var B=H();A.exports=D;function D(f){function d(h){let r=f.children(h),a=f.node(h);if(r.length&&r.forEach(d),Object.hasOwn(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(let t=a.minRank,o=a.maxRank+1;t<o;++t)T(f,"borderLeft","_bl",h,a,t),T(f,"borderRight","_br",h,a,t)}}f.children().forEach(d)}function T(f,d,h,r,a,t){let o={width:0,height:0,rank:t,borderType:d},p=a[d][t-1],s=B.addDummyNode(f,"border",o,h);a[d][t]=s,f.setParent(s,r),p&&f.setEdge(p,s,{weight:1})}}),pe=Q((U,A)=>{A.exports={adjust:B,undo:D};function B(t){let o=t.graph().rankdir.toLowerCase();(o==="lr"||o==="rl")&&T(t)}function D(t){let o=t.graph().rankdir.toLowerCase();(o==="bt"||o==="rl")&&d(t),(o==="lr"||o==="rl")&&(r(t),T(t))}function T(t){t.nodes().forEach(o=>f(t.node(o))),t.edges().forEach(o=>f(t.edge(o)))}function f(t){let o=t.width;t.width=t.height,t.height=o}function d(t){t.nodes().forEach(o=>h(t.node(o))),t.edges().forEach(o=>{let p=t.edge(o);p.points.forEach(h),Object.hasOwn(p,"y")&&h(p)})}function h(t){t.y=-t.y}function r(t){t.nodes().forEach(o=>a(t.node(o))),t.edges().forEach(o=>{let p=t.edge(o);p.points.forEach(a),Object.hasOwn(p,"x")&&a(p)})}function a(t){let o=t.x;t.x=t.y,t.y=o}}),ve=Q((U,A)=>{var B=H();A.exports=D;function D(T){let f={},d=T.nodes().filter(o=>!T.children(o).length),h=d.map(o=>T.node(o).rank),r=B.applyWithChunking(Math.max,h),a=B.range(r+1).map(()=>[]);function t(o){if(f[o])return;f[o]=!0;let p=T.node(o);a[p.rank].push(o),T.successors(o).forEach(t)}return d.sort((o,p)=>T.node(o).rank-T.node(p).rank).forEach(t),a}}),me=Q((U,A)=>{var B=H().zipObject;A.exports=D;function D(f,d){let h=0;for(let r=1;r<d.length;++r)h+=T(f,d[r-1],d[r]);return h}function T(f,d,h){let r=B(h,h.map((k,S)=>S)),a=d.flatMap(k=>f.outEdges(k).map(S=>({pos:r[S.w],weight:f.edge(S).weight})).sort((S,z)=>S.pos-z.pos)),t=1;for(;t<h.length;)t<<=1;let o=2*t-1;t-=1;let p=new Array(o).fill(0),s=0;return a.forEach(k=>{let S=k.pos+t;p[S]+=k.weight;let z=0;for(;S>0;)S%2&&(z+=p[S+1]),S=S-1>>1,p[S]+=k.weight;s+=k.weight*z}),s}}),we=Q((U,A)=>{A.exports=B;function B(D,T=[]){return T.map(f=>{let d=D.inEdges(f);if(d.length){let h=d.reduce((r,a)=>{let t=D.edge(a),o=D.node(a.v);return{sum:r.sum+t.weight*o.order,weight:r.weight+t.weight}},{sum:0,weight:0});return{v:f,barycenter:h.sum/h.weight,weight:h.weight}}else return{v:f}})}}),be=Q((U,A)=>{var B=H();A.exports=D;function D(d,h){let r={};d.forEach((t,o)=>{let p=r[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:o};t.barycenter!==void 0&&(p.barycenter=t.barycenter,p.weight=t.weight)}),h.edges().forEach(t=>{let o=r[t.v],p=r[t.w];o!==void 0&&p!==void 0&&(p.indegree++,o.out.push(r[t.w]))});let a=Object.values(r).filter(t=>!t.indegree);return T(a)}function T(d){let h=[];function r(t){return o=>{o.merged||(o.barycenter===void 0||t.barycenter===void 0||o.barycenter>=t.barycenter)&&f(t,o)}}function a(t){return o=>{o.in.push(t),--o.indegree===0&&d.push(o)}}for(;d.length;){let t=d.pop();h.push(t),t.in.reverse().forEach(r(t)),t.out.forEach(a(t))}return h.filter(t=>!t.merged).map(t=>B.pick(t,["vs","i","barycenter","weight"]))}function f(d,h){let r=0,a=0;d.weight&&(r+=d.barycenter*d.weight,a+=d.weight),h.weight&&(r+=h.barycenter*h.weight,a+=h.weight),d.vs=h.vs.concat(d.vs),d.barycenter=r/a,d.weight=a,d.i=Math.min(h.i,d.i),h.merged=!0}}),Ee=Q((U,A)=>{var B=H();A.exports=D;function D(d,h){let r=B.partition(d,z=>Object.hasOwn(z,"barycenter")),a=r.lhs,t=r.rhs.sort((z,W)=>W.i-z.i),o=[],p=0,s=0,k=0;a.sort(f(!!h)),k=T(o,t,k),a.forEach(z=>{k+=z.vs.length,o.push(z.vs),p+=z.barycenter*z.weight,s+=z.weight,k=T(o,t,k)});let S={vs:o.flat(!0)};return s&&(S.barycenter=p/s,S.weight=s),S}function T(d,h,r){let a;for(;h.length&&(a=h[h.length-1]).i<=r;)h.pop(),d.push(a.vs),r++;return r}function f(d){return(h,r)=>h.barycenter<r.barycenter?-1:h.barycenter>r.barycenter?1:d?r.i-h.i:h.i-r.i}}),ye=Q((U,A)=>{var B=we(),D=be(),T=Ee();A.exports=f;function f(r,a,t,o){let p=r.children(a),s=r.node(a),k=s?s.borderLeft:void 0,S=s?s.borderRight:void 0,z={};k&&(p=p.filter(g=>g!==k&&g!==S));let W=B(r,p);W.forEach(g=>{if(r.children(g.v).length){let O=f(r,g.v,t,o);z[g.v]=O,Object.hasOwn(O,"barycenter")&&h(g,O)}});let E=D(W,t);d(E,z);let N=T(E,o);if(k&&(N.vs=[k,N.vs,S].flat(!0),r.predecessors(k).length)){let g=r.node(r.predecessors(k)[0]),O=r.node(r.predecessors(S)[0]);Object.hasOwn(N,"barycenter")||(N.barycenter=0,N.weight=0),N.barycenter=(N.barycenter*N.weight+g.order+O.order)/(N.weight+2),N.weight+=2}return N}function d(r,a){r.forEach(t=>{t.vs=t.vs.flatMap(o=>a[o]?a[o].vs:o)})}function h(r,a){r.barycenter!==void 0?(r.barycenter=(r.barycenter*r.weight+a.barycenter*a.weight)/(r.weight+a.weight),r.weight+=a.weight):(r.barycenter=a.barycenter,r.weight=a.weight)}}),_e=Q((U,A)=>{var B=$().Graph,D=H();A.exports=T;function T(d,h,r,a){a||(a=d.nodes());let t=f(d),o=new B({compound:!0}).setGraph({root:t}).setDefaultNodeLabel(p=>d.node(p));return a.forEach(p=>{let s=d.node(p),k=d.parent(p);(s.rank===h||s.minRank<=h&&h<=s.maxRank)&&(o.setNode(p),o.setParent(p,k||t),d[r](p).forEach(S=>{let z=S.v===p?S.w:S.v,W=o.edge(z,p),E=W!==void 0?W.weight:0;o.setEdge(z,p,{weight:d.edge(S).weight+E})}),Object.hasOwn(s,"minRank")&&o.setNode(p,{borderLeft:s.borderLeft[h],borderRight:s.borderRight[h]}))}),o}function f(d){for(var h;d.hasNode(h=D.uniqueId("_root")););return h}}),ke=Q((U,A)=>{A.exports=B;function B(D,T,f){let d={},h;f.forEach(r=>{let a=D.parent(r),t,o;for(;a;){if(t=D.parent(a),t?(o=d[t],d[t]=a):(o=h,h=a),o&&o!==a){T.setEdge(o,a);return}a=t}})}}),xe=Q((U,A)=>{var B=ve(),D=me(),T=ye(),f=_e(),d=ke(),h=$().Graph,r=H();A.exports=a;function a(s,k={}){if(typeof k.customOrder=="function"){k.customOrder(s,a);return}let S=r.maxRank(s),z=t(s,r.range(1,S+1),"inEdges"),W=t(s,r.range(S-1,-1,-1),"outEdges"),E=B(s);if(p(s,E),k.disableOptimalOrderHeuristic)return;let N=Number.POSITIVE_INFINITY,g,O=k.constraints||[];for(let I=0,F=0;F<4;++I,++F){o(I%2?z:W,I%4>=2,O),E=r.buildLayerMatrix(s);let P=D(s,E);P<N?(F=0,g=Object.assign({},E),N=P):P===N&&(g=structuredClone(E))}p(s,g)}function t(s,k,S){let z=new Map,W=(E,N)=>{z.has(E)||z.set(E,[]),z.get(E).push(N)};for(let E of s.nodes()){let N=s.node(E);if(typeof N.rank=="number"&&W(N.rank,E),typeof N.minRank=="number"&&typeof N.maxRank=="number")for(let g=N.minRank;g<=N.maxRank;g++)g!==N.rank&&W(g,E)}return k.map(function(E){return f(s,E,S,z.get(E)||[])})}function o(s,k,S){let z=new h;s.forEach(function(W){S.forEach(g=>z.setEdge(g.left,g.right));let E=W.graph().root,N=T(W,E,z,k);N.vs.forEach((g,O)=>W.node(g).order=O),d(W,z,N.vs)})}function p(s,k){Object.values(k).forEach(S=>S.forEach((z,W)=>s.node(z).order=W))}}),Oe=Q((U,A)=>{var B=$().Graph,D=H();A.exports={positionX:S,findType1Conflicts:T,findType2Conflicts:f,addConflict:h,hasConflict:r,verticalAlignment:a,horizontalCompaction:t,alignCoordinates:s,findSmallestWidthAlignment:p,balance:k};function T(E,N){let g={};function O(I,F){let P=0,q=0,l=I.length,w=F[F.length-1];return F.forEach((_,v)=>{let c=d(E,_),j=c?E.node(c).order:l;(c||_===w)&&(F.slice(q,v+1).forEach(b=>{E.predecessors(b).forEach(y=>{let x=E.node(y),R=x.order;(R<P||j<R)&&!(x.dummy&&E.node(b).dummy)&&h(g,y,b)})}),q=v+1,P=j)}),F}return N.length&&N.reduce(O),g}function f(E,N){let g={};function O(F,P,q,l,w){let _;D.range(P,q).forEach(v=>{_=F[v],E.node(_).dummy&&E.predecessors(_).forEach(c=>{let j=E.node(c);j.dummy&&(j.order<l||j.order>w)&&h(g,c,_)})})}function I(F,P){let q=-1,l,w=0;return P.forEach((_,v)=>{if(E.node(_).dummy==="border"){let c=E.predecessors(_);c.length&&(l=E.node(c[0]).order,O(P,w,v,q,l),w=v,q=l)}O(P,w,P.length,l,F.length)}),P}return N.length&&N.reduce(I),g}function d(E,N){if(E.node(N).dummy)return E.predecessors(N).find(g=>E.node(g).dummy)}function h(E,N,g){if(N>g){let I=N;N=g,g=I}let O=E[N];O||(E[N]=O={}),O[g]=!0}function r(E,N,g){if(N>g){let O=N;N=g,g=O}return!!E[N]&&Object.hasOwn(E[N],g)}function a(E,N,g,O){let I={},F={},P={};return N.forEach(q=>{q.forEach((l,w)=>{I[l]=l,F[l]=l,P[l]=w})}),N.forEach(q=>{let l=-1;q.forEach(w=>{let _=O(w);if(_.length){_=_.sort((c,j)=>P[c]-P[j]);let v=(_.length-1)/2;for(let c=Math.floor(v),j=Math.ceil(v);c<=j;++c){let b=_[c];F[w]===w&&l<P[b]&&!r(g,w,b)&&(F[b]=w,F[w]=I[w]=I[b],l=P[b])}}})}),{root:I,align:F}}function t(E,N,g,O,I){let F={},P=o(E,N,g,I),q=I?"borderLeft":"borderRight";function l(v,c){let j=P.nodes().slice(),b={},y=j.pop();for(;y;){if(b[y])v(y);else{b[y]=!0,j.push(y);for(let x of c(y))j.push(x)}y=j.pop()}}function w(v){F[v]=P.inEdges(v).reduce((c,j)=>Math.max(c,F[j.v]+P.edge(j)),0)}function _(v){let c=P.outEdges(v).reduce((b,y)=>Math.min(b,F[y.w]-P.edge(y)),Number.POSITIVE_INFINITY),j=E.node(v);c!==Number.POSITIVE_INFINITY&&j.borderType!==q&&(F[v]=Math.max(F[v],c))}return l(w,P.predecessors.bind(P)),l(_,P.successors.bind(P)),Object.keys(O).forEach(v=>F[v]=F[g[v]]),F}function o(E,N,g,O){let I=new B,F=E.graph(),P=z(F.nodesep,F.edgesep,O);return N.forEach(q=>{let l;q.forEach(w=>{let _=g[w];if(I.setNode(_),l){var v=g[l],c=I.edge(v,_);I.setEdge(v,_,Math.max(P(E,w,l),c||0))}l=w})}),I}function p(E,N){return Object.values(N).reduce((g,O)=>{let I=Number.NEGATIVE_INFINITY,F=Number.POSITIVE_INFINITY;Object.entries(O).forEach(([q,l])=>{let w=W(E,q)/2;I=Math.max(l+w,I),F=Math.min(l-w,F)});let P=I-F;return P<g[0]&&(g=[P,O]),g},[Number.POSITIVE_INFINITY,null])[1]}function s(E,N){let g=Object.values(N),O=D.applyWithChunking(Math.min,g),I=D.applyWithChunking(Math.max,g);["u","d"].forEach(F=>{["l","r"].forEach(P=>{let q=F+P,l=E[q];if(l===N)return;let w=Object.values(l),_=O-D.applyWithChunking(Math.min,w);P!=="l"&&(_=I-D.applyWithChunking(Math.max,w)),_&&(E[q]=D.mapValues(l,v=>v+_))})})}function k(E,N){return D.mapValues(E.ul,(g,O)=>{if(N)return E[N.toLowerCase()][O];{let I=Object.values(E).map(F=>F[O]).sort((F,P)=>F-P);return(I[1]+I[2])/2}})}function S(E){let N=D.buildLayerMatrix(E),g=Object.assign(T(E,N),f(E,N)),O={},I;["u","d"].forEach(P=>{I=P==="u"?N:Object.values(N).reverse(),["l","r"].forEach(q=>{q==="r"&&(I=I.map(v=>Object.values(v).reverse()));let l=(P==="u"?E.predecessors:E.successors).bind(E),w=a(E,I,g,l),_=t(E,I,w.root,w.align,q==="r");q==="r"&&(_=D.mapValues(_,v=>-v)),O[P+q]=_})});let F=p(E,O);return s(O,F),k(O,E.graph().align)}function z(E,N,g){return(O,I,F)=>{let P=O.node(I),q=O.node(F),l=0,w;if(l+=P.width/2,Object.hasOwn(P,"labelpos"))switch(P.labelpos.toLowerCase()){case"l":w=-P.width/2;break;case"r":w=P.width/2;break}if(w&&(l+=g?w:-w),w=0,l+=(P.dummy?N:E)/2,l+=(q.dummy?N:E)/2,l+=q.width/2,Object.hasOwn(q,"labelpos"))switch(q.labelpos.toLowerCase()){case"l":w=q.width/2;break;case"r":w=-q.width/2;break}return w&&(l+=g?w:-w),w=0,l}}function W(E,N){return E.node(N).width}}),Ne=Q((U,A)=>{var B=H(),D=Oe().positionX;A.exports=T;function T(d){d=B.asNonCompoundGraph(d),f(d),Object.entries(D(d)).forEach(([h,r])=>d.node(h).x=r)}function f(d){let h=B.buildLayerMatrix(d),r=d.graph().ranksep,a=d.graph().rankalign,t=0;h.forEach(o=>{let p=o.reduce((s,k)=>{let S=d.node(k).height;return s>S?s:S},0);o.forEach(s=>{let k=d.node(s);a==="top"?k.y=t+k.height/2:a==="bottom"?k.y=t+p-k.height/2:k.y=t+p/2}),t+=p+r})}}),Ie=Q((U,A)=>{var B=he(),D=de(),T=ce(),f=H().normalizeRanks,d=le(),h=H().removeEmptyRanks,r=fe(),a=ge(),t=pe(),o=xe(),p=Ne(),s=H(),k=$().Graph;A.exports=S;function S(e,i={}){let u=i.debugTiming?s.time:s.notime;return u("layout",()=>{let m=u("  buildLayoutGraph",()=>l(e));return u("  runLayout",()=>z(m,u,i)),u("  updateInputGraph",()=>W(e,m)),m})}function z(e,i,u){i("    makeSpaceForEdgeLabels",()=>w(e)),i("    removeSelfEdges",()=>M(e)),i("    acyclic",()=>B.run(e)),i("    nestingGraph.run",()=>r.run(e)),i("    rank",()=>T(s.asNonCompoundGraph(e))),i("    injectEdgeLabelProxies",()=>_(e)),i("    removeEmptyRanks",()=>h(e)),i("    nestingGraph.cleanup",()=>r.cleanup(e)),i("    normalizeRanks",()=>f(e)),i("    assignRankMinMax",()=>v(e)),i("    removeEdgeLabelProxies",()=>c(e)),i("    normalize.run",()=>D.run(e)),i("    parentDummyChains",()=>d(e)),i("    addBorderSegments",()=>a(e)),i("    order",()=>o(e,u)),i("    insertSelfEdges",()=>L(e)),i("    adjustCoordinateSystem",()=>t.adjust(e)),i("    position",()=>p(e)),i("    positionSelfEdges",()=>G(e)),i("    removeBorderNodes",()=>R(e)),i("    normalize.undo",()=>D.undo(e)),i("    fixupEdgeLabelCoords",()=>y(e)),i("    undoCoordinateSystem",()=>t.undo(e)),i("    translateGraph",()=>j(e)),i("    assignNodeIntersects",()=>b(e)),i("    reversePoints",()=>x(e)),i("    acyclic.undo",()=>B.undo(e))}function W(e,i){e.nodes().forEach(u=>{let m=e.node(u),C=i.node(u);m&&(m.x=C.x,m.y=C.y,m.order=C.order,m.rank=C.rank,i.children(u).length&&(m.width=C.width,m.height=C.height))}),e.edges().forEach(u=>{let m=e.edge(u),C=i.edge(u);m.points=C.points,Object.hasOwn(C,"x")&&(m.x=C.x,m.y=C.y)}),e.graph().width=i.graph().width,e.graph().height=i.graph().height}var E=["nodesep","edgesep","ranksep","marginx","marginy"],N={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb",rankalign:"center"},g=["acyclicer","ranker","rankdir","align","rankalign"],O=["width","height","rank"],I={width:0,height:0},F=["minlen","weight","width","height","labeloffset"],P={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},q=["labelpos"];function l(e){let i=new k({multigraph:!0,compound:!0}),u=n(e.graph());return i.setGraph(Object.assign({},N,V(u,E),s.pick(u,g))),e.nodes().forEach(m=>{let C=n(e.node(m)),Y=V(C,O);Object.keys(I).forEach(X=>{Y[X]===void 0&&(Y[X]=I[X])}),i.setNode(m,Y),i.setParent(m,e.parent(m))}),e.edges().forEach(m=>{let C=n(e.edge(m));i.setEdge(m,Object.assign({},P,V(C,F),s.pick(C,q)))}),i}function w(e){let i=e.graph();i.ranksep/=2,e.edges().forEach(u=>{let m=e.edge(u);m.minlen*=2,m.labelpos.toLowerCase()!=="c"&&(i.rankdir==="TB"||i.rankdir==="BT"?m.width+=m.labeloffset:m.height+=m.labeloffset)})}function _(e){e.edges().forEach(i=>{let u=e.edge(i);if(u.width&&u.height){let m=e.node(i.v),C={rank:(e.node(i.w).rank-m.rank)/2+m.rank,e:i};s.addDummyNode(e,"edge-proxy",C,"_ep")}})}function v(e){let i=0;e.nodes().forEach(u=>{let m=e.node(u);m.borderTop&&(m.minRank=e.node(m.borderTop).rank,m.maxRank=e.node(m.borderBottom).rank,i=Math.max(i,m.maxRank))}),e.graph().maxRank=i}function c(e){e.nodes().forEach(i=>{let u=e.node(i);u.dummy==="edge-proxy"&&(e.edge(u.e).labelRank=u.rank,e.removeNode(i))})}function j(e){let i=Number.POSITIVE_INFINITY,u=0,m=Number.POSITIVE_INFINITY,C=0,Y=e.graph(),X=Y.marginx||0,J=Y.marginy||0;function re(Z){let K=Z.x,ee=Z.y,ne=Z.width,oe=Z.height;i=Math.min(i,K-ne/2),u=Math.max(u,K+ne/2),m=Math.min(m,ee-oe/2),C=Math.max(C,ee+oe/2)}e.nodes().forEach(Z=>re(e.node(Z))),e.edges().forEach(Z=>{let K=e.edge(Z);Object.hasOwn(K,"x")&&re(K)}),i-=X,m-=J,e.nodes().forEach(Z=>{let K=e.node(Z);K.x-=i,K.y-=m}),e.edges().forEach(Z=>{let K=e.edge(Z);K.points.forEach(ee=>{ee.x-=i,ee.y-=m}),Object.hasOwn(K,"x")&&(K.x-=i),Object.hasOwn(K,"y")&&(K.y-=m)}),Y.width=u-i+X,Y.height=C-m+J}function b(e){e.edges().forEach(i=>{let u=e.edge(i),m=e.node(i.v),C=e.node(i.w),Y,X;u.points?(Y=u.points[0],X=u.points[u.points.length-1]):(u.points=[],Y=C,X=m),u.points.unshift(s.intersectRect(m,Y)),u.points.push(s.intersectRect(C,X))})}function y(e){e.edges().forEach(i=>{let u=e.edge(i);if(Object.hasOwn(u,"x"))switch((u.labelpos==="l"||u.labelpos==="r")&&(u.width-=u.labeloffset),u.labelpos){case"l":u.x-=u.width/2+u.labeloffset;break;case"r":u.x+=u.width/2+u.labeloffset;break}})}function x(e){e.edges().forEach(i=>{let u=e.edge(i);u.reversed&&u.points.reverse()})}function R(e){e.nodes().forEach(i=>{if(e.children(i).length){let u=e.node(i),m=e.node(u.borderTop),C=e.node(u.borderBottom),Y=e.node(u.borderLeft[u.borderLeft.length-1]),X=e.node(u.borderRight[u.borderRight.length-1]);u.width=Math.abs(X.x-Y.x),u.height=Math.abs(C.y-m.y),u.x=Y.x+u.width/2,u.y=m.y+u.height/2}}),e.nodes().forEach(i=>{e.node(i).dummy==="border"&&e.removeNode(i)})}function M(e){e.edges().forEach(i=>{if(i.v===i.w){var u=e.node(i.v);u.selfEdges||(u.selfEdges=[]),u.selfEdges.push({e:i,label:e.edge(i)}),e.removeEdge(i)}})}function L(e){var i=s.buildLayerMatrix(e);i.forEach(u=>{var m=0;u.forEach((C,Y)=>{var X=e.node(C);X.order=Y+m,(X.selfEdges||[]).forEach(J=>{s.addDummyNode(e,"selfedge",{width:J.label.width,height:J.label.height,rank:X.rank,order:Y+ ++m,e:J.e,label:J.label},"_se")}),delete X.selfEdges})})}function G(e){e.nodes().forEach(i=>{var u=e.node(i);if(u.dummy==="selfedge"){var m=e.node(u.e.v),C=m.x+m.width/2,Y=m.y,X=u.x-C,J=m.height/2;e.setEdge(u.e,u.label),e.removeNode(i),u.label.points=[{x:C+2*X/3,y:Y-J},{x:C+5*X/6,y:Y-J},{x:C+X,y:Y},{x:C+5*X/6,y:Y+J},{x:C+2*X/3,y:Y+J}],u.label.x=u.x,u.label.y=u.y}})}function V(e,i){return s.mapValues(s.pick(e,i),Number)}function n(e){var i={};return e&&Object.entries(e).forEach(([u,m])=>{typeof u=="string"&&(u=u.toLowerCase()),i[u]=m}),i}}),je=Q((U,A)=>{var B=H(),D=$().Graph;A.exports={debugOrdering:T};function T(f){let d=B.buildLayerMatrix(f),h=new D({compound:!0,multigraph:!0}).setGraph({});return f.nodes().forEach(r=>{h.setNode(r,{label:r}),h.setParent(r,"layer"+f.node(r).rank)}),f.edges().forEach(r=>h.setEdge(r.v,r.w,{},r.name)),d.forEach((r,a)=>{let t="layer"+a;h.setNode(t,{rank:"same"}),r.reduce((o,p)=>(h.setEdge(o,p,{style:"invis"}),p))}),h}}),Ce=Q((U,A)=>{A.exports="2.0.4"}),Me=Q((U,A)=>{A.exports={graphlib:$(),layout:Ie(),debug:je(),util:{time:H().time,notime:H().notime},version:Ce()}});const Le=Me();export{Le as default};
