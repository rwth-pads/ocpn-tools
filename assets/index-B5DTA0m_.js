function nP(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var a7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Va(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dh={exports:{}},Vl={},fh={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function rP(){if(l0)return tt;l0=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,v={};function w(F,q,R){this.props=F,this.context=q,this.refs=v,this.updater=R||y}w.prototype.isReactComponent={},w.prototype.setState=function(F,q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,q,"setState")},w.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function N(){}N.prototype=w.prototype;function _(F,q,R){this.props=F,this.context=q,this.refs=v,this.updater=R||y}var k=_.prototype=new N;k.constructor=_,S(k,w.prototype),k.isPureReactComponent=!0;var P=Array.isArray,I=Object.prototype.hasOwnProperty,A={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function $(F,q,R){var J,ne={},te=null,B=null;if(q!=null)for(J in q.ref!==void 0&&(B=q.ref),q.key!==void 0&&(te=""+q.key),q)I.call(q,J)&&!T.hasOwnProperty(J)&&(ne[J]=q[J]);var Q=arguments.length-2;if(Q===1)ne.children=R;else if(1<Q){for(var oe=Array(Q),ie=0;ie<Q;ie++)oe[ie]=arguments[ie+2];ne.children=oe}if(F&&F.defaultProps)for(J in Q=F.defaultProps,Q)ne[J]===void 0&&(ne[J]=Q[J]);return{$$typeof:e,type:F,key:te,ref:B,props:ne,_owner:A.current}}function G(F,q){return{$$typeof:e,type:F.type,key:q,ref:F.ref,props:F.props,_owner:F._owner}}function X(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function Y(F){var q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(R){return q[R]})}var U=/\/+/g;function V(F,q){return typeof F=="object"&&F!==null&&F.key!=null?Y(""+F.key):q.toString(36)}function j(F,q,R,J,ne){var te=typeof F;(te==="undefined"||te==="boolean")&&(F=null);var B=!1;if(F===null)B=!0;else switch(te){case"string":case"number":B=!0;break;case"object":switch(F.$$typeof){case e:case t:B=!0}}if(B)return B=F,ne=ne(B),F=J===""?"."+V(B,0):J,P(ne)?(R="",F!=null&&(R=F.replace(U,"$&/")+"/"),j(ne,q,R,"",function(ie){return ie})):ne!=null&&(X(ne)&&(ne=G(ne,R+(!ne.key||B&&B.key===ne.key?"":(""+ne.key).replace(U,"$&/")+"/")+F)),q.push(ne)),1;if(B=0,J=J===""?".":J+":",P(F))for(var Q=0;Q<F.length;Q++){te=F[Q];var oe=J+V(te,Q);B+=j(te,q,R,oe,ne)}else if(oe=g(F),typeof oe=="function")for(F=oe.call(F),Q=0;!(te=F.next()).done;)te=te.value,oe=J+V(te,Q++),B+=j(te,q,R,oe,ne);else if(te==="object")throw q=String(F),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return B}function O(F,q,R){if(F==null)return F;var J=[],ne=0;return j(F,J,"","",function(te){return q.call(R,te,ne++)}),J}function z(F){if(F._status===-1){var q=F._result;q=q(),q.then(function(R){(F._status===0||F._status===-1)&&(F._status=1,F._result=R)},function(R){(F._status===0||F._status===-1)&&(F._status=2,F._result=R)}),F._status===-1&&(F._status=0,F._result=q)}if(F._status===1)return F._result.default;throw F._result}var H={current:null},L={transition:null},W={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:L,ReactCurrentOwner:A};function M(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:O,forEach:function(F,q,R){O(F,function(){q.apply(this,arguments)},R)},count:function(F){var q=0;return O(F,function(){q++}),q},toArray:function(F){return O(F,function(q){return q})||[]},only:function(F){if(!X(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},tt.Component=w,tt.Fragment=n,tt.Profiler=o,tt.PureComponent=_,tt.StrictMode=r,tt.Suspense=d,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,tt.act=M,tt.cloneElement=function(F,q,R){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var J=S({},F.props),ne=F.key,te=F.ref,B=F._owner;if(q!=null){if(q.ref!==void 0&&(te=q.ref,B=A.current),q.key!==void 0&&(ne=""+q.key),F.type&&F.type.defaultProps)var Q=F.type.defaultProps;for(oe in q)I.call(q,oe)&&!T.hasOwnProperty(oe)&&(J[oe]=q[oe]===void 0&&Q!==void 0?Q[oe]:q[oe])}var oe=arguments.length-2;if(oe===1)J.children=R;else if(1<oe){Q=Array(oe);for(var ie=0;ie<oe;ie++)Q[ie]=arguments[ie+2];J.children=Q}return{$$typeof:e,type:F.type,key:ne,ref:te,props:J,_owner:B}},tt.createContext=function(F){return F={$$typeof:a,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:s,_context:F},F.Consumer=F},tt.createElement=$,tt.createFactory=function(F){var q=$.bind(null,F);return q.type=F,q},tt.createRef=function(){return{current:null}},tt.forwardRef=function(F){return{$$typeof:c,render:F}},tt.isValidElement=X,tt.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:z}},tt.memo=function(F,q){return{$$typeof:f,type:F,compare:q===void 0?null:q}},tt.startTransition=function(F){var q=L.transition;L.transition={};try{F()}finally{L.transition=q}},tt.unstable_act=M,tt.useCallback=function(F,q){return H.current.useCallback(F,q)},tt.useContext=function(F){return H.current.useContext(F)},tt.useDebugValue=function(){},tt.useDeferredValue=function(F){return H.current.useDeferredValue(F)},tt.useEffect=function(F,q){return H.current.useEffect(F,q)},tt.useId=function(){return H.current.useId()},tt.useImperativeHandle=function(F,q,R){return H.current.useImperativeHandle(F,q,R)},tt.useInsertionEffect=function(F,q){return H.current.useInsertionEffect(F,q)},tt.useLayoutEffect=function(F,q){return H.current.useLayoutEffect(F,q)},tt.useMemo=function(F,q){return H.current.useMemo(F,q)},tt.useReducer=function(F,q,R){return H.current.useReducer(F,q,R)},tt.useRef=function(F){return H.current.useRef(F)},tt.useState=function(F){return H.current.useState(F)},tt.useSyncExternalStore=function(F,q,R){return H.current.useSyncExternalStore(F,q,R)},tt.useTransition=function(){return H.current.useTransition()},tt.version="18.3.1",tt}var a0;function Ha(){return a0||(a0=1,fh.exports=rP()),fh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function oP(){if(c0)return Vl;c0=1;var e=Ha(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(c,d,f){var h,m={},g=null,y=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(h in d)r.call(d,h)&&!s.hasOwnProperty(h)&&(m[h]=d[h]);if(c&&c.defaultProps)for(h in d=c.defaultProps,d)m[h]===void 0&&(m[h]=d[h]);return{$$typeof:t,type:c,key:g,ref:y,props:m,_owner:o.current}}return Vl.Fragment=n,Vl.jsx=a,Vl.jsxs=a,Vl}var u0;function iP(){return u0||(u0=1,dh.exports=oP()),dh.exports}var u=iP(),b=Ha();const Ie=Va(b),Ua=nP({__proto__:null,default:Ie},[b]);var gu={},ph={exports:{}},En={},hh={exports:{}},mh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function sP(){return d0||(d0=1,function(e){function t(L,W){var M=L.length;L.push(W);e:for(;0<M;){var F=M-1>>>1,q=L[F];if(0<o(q,W))L[F]=W,L[M]=q,M=F;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var W=L[0],M=L.pop();if(M!==W){L[0]=M;e:for(var F=0,q=L.length,R=q>>>1;F<R;){var J=2*(F+1)-1,ne=L[J],te=J+1,B=L[te];if(0>o(ne,M))te<q&&0>o(B,ne)?(L[F]=B,L[te]=M,F=te):(L[F]=ne,L[J]=M,F=J);else if(te<q&&0>o(B,M))L[F]=B,L[te]=M,F=te;else break e}}return W}function o(L,W){var M=L.sortIndex-W.sortIndex;return M!==0?M:L.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var d=[],f=[],h=1,m=null,g=3,y=!1,S=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(L){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=L)r(f),W.sortIndex=W.expirationTime,t(d,W);else break;W=n(f)}}function P(L){if(v=!1,k(L),!S)if(n(d)!==null)S=!0,z(I);else{var W=n(f);W!==null&&H(P,W.startTime-L)}}function I(L,W){S=!1,v&&(v=!1,N($),$=-1),y=!0;var M=g;try{for(k(W),m=n(d);m!==null&&(!(m.expirationTime>W)||L&&!Y());){var F=m.callback;if(typeof F=="function"){m.callback=null,g=m.priorityLevel;var q=F(m.expirationTime<=W);W=e.unstable_now(),typeof q=="function"?m.callback=q:m===n(d)&&r(d),k(W)}else r(d);m=n(d)}if(m!==null)var R=!0;else{var J=n(f);J!==null&&H(P,J.startTime-W),R=!1}return R}finally{m=null,g=M,y=!1}}var A=!1,T=null,$=-1,G=5,X=-1;function Y(){return!(e.unstable_now()-X<G)}function U(){if(T!==null){var L=e.unstable_now();X=L;var W=!0;try{W=T(!0,L)}finally{W?V():(A=!1,T=null)}}else A=!1}var V;if(typeof _=="function")V=function(){_(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,O=j.port2;j.port1.onmessage=U,V=function(){O.postMessage(null)}}else V=function(){w(U,0)};function z(L){T=L,A||(A=!0,V())}function H(L,W){$=w(function(){L(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){S||y||(S=!0,z(I))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(L){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var M=g;g=W;try{return L()}finally{g=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var M=g;g=L;try{return W()}finally{g=M}},e.unstable_scheduleCallback=function(L,W,M){var F=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?F+M:F):M=F,L){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=M+q,L={id:h++,callback:W,priorityLevel:L,startTime:M,expirationTime:q,sortIndex:-1},M>F?(L.sortIndex=M,t(f,L),n(d)===null&&L===n(f)&&(v?(N($),$=-1):v=!0,H(P,M-F))):(L.sortIndex=q,t(d,L),S||y||(S=!0,z(I))),L},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(L){var W=g;return function(){var M=g;g=W;try{return L.apply(this,arguments)}finally{g=M}}}}(mh)),mh}var f0;function lP(){return f0||(f0=1,hh.exports=sP()),hh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function aP(){if(p0)return En;p0=1;var e=Ha(),t=lP();function n(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function s(i,l){a(i,l),a(i+"Capture",l)}function a(i,l){for(o[i]=l,i=0;i<l.length;i++)r.add(l[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function g(i){return d.call(m,i)?!0:d.call(h,i)?!1:f.test(i)?m[i]=!0:(h[i]=!0,!1)}function y(i,l,p,x){if(p!==null&&p.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return x?!1:p!==null?!p.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,l,p,x){if(l===null||typeof l>"u"||y(i,l,p,x))return!0;if(x)return!1;if(p!==null)switch(p.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function v(i,l,p,x,C,E,D){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=x,this.attributeNamespace=C,this.mustUseProperty=p,this.propertyName=i,this.type=l,this.sanitizeURL=E,this.removeEmptyString=D}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){w[i]=new v(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];w[l]=new v(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){w[i]=new v(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){w[i]=new v(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){w[i]=new v(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){w[i]=new v(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){w[i]=new v(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){w[i]=new v(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){w[i]=new v(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function _(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(N,_);w[l]=new v(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(N,_);w[l]=new v(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(N,_);w[l]=new v(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){w[i]=new v(i,1,!1,i.toLowerCase(),null,!1,!1)}),w.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){w[i]=new v(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,l,p,x){var C=w.hasOwnProperty(l)?w[l]:null;(C!==null?C.type!==0:x||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,p,C,x)&&(p=null),x||C===null?g(l)&&(p===null?i.removeAttribute(l):i.setAttribute(l,""+p)):C.mustUseProperty?i[C.propertyName]=p===null?C.type===3?!1:"":p:(l=C.attributeName,x=C.attributeNamespace,p===null?i.removeAttribute(l):(C=C.type,p=C===3||C===4&&p===!0?"":""+p,x?i.setAttributeNS(x,l,p):i.setAttribute(l,p))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),Y=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),L=Symbol.iterator;function W(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var M=Object.assign,F;function q(i){if(F===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);F=l&&l[1]||""}return`
`+F+i}var R=!1;function J(i,l){if(!i||R)return"";R=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ce){var x=ce}Reflect.construct(i,[],l)}else{try{l.call()}catch(ce){x=ce}i.call(l.prototype)}else{try{throw Error()}catch(ce){x=ce}i()}}catch(ce){if(ce&&x&&typeof ce.stack=="string"){for(var C=ce.stack.split(`
`),E=x.stack.split(`
`),D=C.length-1,K=E.length-1;1<=D&&0<=K&&C[D]!==E[K];)K--;for(;1<=D&&0<=K;D--,K--)if(C[D]!==E[K]){if(D!==1||K!==1)do if(D--,K--,0>K||C[D]!==E[K]){var Z=`
`+C[D].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=D&&0<=K);break}}}finally{R=!1,Error.prepareStackTrace=p}return(i=i?i.displayName||i.name:"")?q(i):""}function ne(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=J(i.type,!1),i;case 11:return i=J(i.type.render,!1),i;case 1:return i=J(i.type,!0),i;default:return""}}function te(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case A:return"Portal";case G:return"Profiler";case $:return"StrictMode";case V:return"Suspense";case j:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Y:return(i.displayName||"Context")+".Consumer";case X:return(i._context.displayName||"Context")+".Provider";case U:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return l=i.displayName||null,l!==null?l:te(i.type)||"Memo";case z:l=i._payload,i=i._init;try{return te(i(l))}catch{}}return null}function B(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(l);case 8:return l===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Q(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function oe(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ie(i){var l=oe(i)?"checked":"value",p=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),x=""+i[l];if(!i.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,E=p.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return C.call(this)},set:function(D){x=""+D,E.call(this,D)}}),Object.defineProperty(i,l,{enumerable:p.enumerable}),{getValue:function(){return x},setValue:function(D){x=""+D},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function ue(i){i._valueTracker||(i._valueTracker=ie(i))}function de(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var p=l.getValue(),x="";return i&&(x=oe(i)?i.checked?"true":"false":i.value),i=x,i!==p?(l.setValue(i),!0):!1}function be(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Se(i,l){var p=l.checked;return M({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??i._wrapperState.initialChecked})}function De(i,l){var p=l.defaultValue==null?"":l.defaultValue,x=l.checked!=null?l.checked:l.defaultChecked;p=Q(l.value!=null?l.value:p),i._wrapperState={initialChecked:x,initialValue:p,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function We(i,l){l=l.checked,l!=null&&k(i,"checked",l,!1)}function ft(i,l){We(i,l);var p=Q(l.value),x=l.type;if(p!=null)x==="number"?(p===0&&i.value===""||i.value!=p)&&(i.value=""+p):i.value!==""+p&&(i.value=""+p);else if(x==="submit"||x==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?ye(i,l.type,p):l.hasOwnProperty("defaultValue")&&ye(i,l.type,Q(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function ut(i,l,p){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var x=l.type;if(!(x!=="submit"&&x!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,p||l===i.value||(i.value=l),i.defaultValue=l}p=i.name,p!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,p!==""&&(i.name=p)}function ye(i,l,p){(l!=="number"||be(i.ownerDocument)!==i)&&(p==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+p&&(i.defaultValue=""+p))}var Be=Array.isArray;function He(i,l,p,x){if(i=i.options,l){l={};for(var C=0;C<p.length;C++)l["$"+p[C]]=!0;for(p=0;p<i.length;p++)C=l.hasOwnProperty("$"+i[p].value),i[p].selected!==C&&(i[p].selected=C),C&&x&&(i[p].defaultSelected=!0)}else{for(p=""+Q(p),l=null,C=0;C<i.length;C++){if(i[C].value===p){i[C].selected=!0,x&&(i[C].defaultSelected=!0);return}l!==null||i[C].disabled||(l=i[C])}l!==null&&(l.selected=!0)}}function rt(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function pt(i,l){var p=l.value;if(p==null){if(p=l.children,l=l.defaultValue,p!=null){if(l!=null)throw Error(n(92));if(Be(p)){if(1<p.length)throw Error(n(93));p=p[0]}l=p}l==null&&(l=""),p=l}i._wrapperState={initialValue:Q(p)}}function At(i,l){var p=Q(l.value),x=Q(l.defaultValue);p!=null&&(p=""+p,p!==i.value&&(i.value=p),l.defaultValue==null&&i.defaultValue!==p&&(i.defaultValue=p)),x!=null&&(i.defaultValue=""+x)}function st(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function le(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?le(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ae,Ve=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,p,x,C){MSApp.execUnsafeLocalFunction(function(){return i(l,p,x,C)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Ae=Ae||document.createElement("div"),Ae.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ae.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function Ke(i,l){if(l){var p=i.firstChild;if(p&&p===i.lastChild&&p.nodeType===3){p.nodeValue=l;return}}i.textContent=l}var It={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mn=["Webkit","ms","Moz","O"];Object.keys(It).forEach(function(i){Mn.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),It[l]=It[i]})});function Qt(i,l,p){return l==null||typeof l=="boolean"||l===""?"":p||typeof l!="number"||l===0||It.hasOwnProperty(i)&&It[i]?(""+l).trim():l+"px"}function qn(i,l){i=i.style;for(var p in l)if(l.hasOwnProperty(p)){var x=p.indexOf("--")===0,C=Qt(p,l[p],x);p==="float"&&(p="cssFloat"),x?i.setProperty(p,C):i[p]=C}}var wn=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bt(i,l){if(l){if(wn[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Ut(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=null;function Cr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ae=null,Oe=null,at=null;function mt(i){if(i=_l(i)){if(typeof ae!="function")throw Error(n(280));var l=i.stateNode;l&&(l=Ic(l),ae(i.stateNode,i.type,l))}}function Wt(i){Oe?at?at.push(i):at=[i]:Oe=i}function Jt(){if(Oe){var i=Oe,l=at;if(at=Oe=null,mt(i),l)for(i=0;i<l.length;i++)mt(l[i])}}function Mt(i,l){return i(l)}function sc(){}var ol=!1;function lc(i,l,p){if(ol)return i(l,p);ol=!0;try{return Mt(i,l,p)}finally{ol=!1,(Oe!==null||at!==null)&&(sc(),Jt())}}function Ko(i,l){var p=i.stateNode;if(p===null)return null;var x=Ic(p);if(x===null)return null;p=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(i=i.type,x=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!x;break e;default:i=!1}if(i)return null;if(p&&typeof p!="function")throw Error(n(231,l,typeof p));return p}var il=!1;if(c)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){il=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{il=!1}function wf(i,l,p,x,C,E,D,K,Z){var ce=Array.prototype.slice.call(arguments,3);try{l.apply(p,ce)}catch(he){this.onError(he)}}var Jo=!1,Oi=null,Di=!1,sl=null,bf={onError:function(i){Jo=!0,Oi=i}};function Sf(i,l,p,x,C,E,D,K,Z){Jo=!1,Oi=null,wf.apply(bf,arguments)}function ac(i,l,p,x,C,E,D,K,Z){if(Sf.apply(this,arguments),Jo){if(Jo){var ce=Oi;Jo=!1,Oi=null}else throw Error(n(198));Di||(Di=!0,sl=ce)}}function kr(i){var l=i,p=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(p=l.return),i=l.return;while(i)}return l.tag===3?p:null}function ll(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function cc(i){if(kr(i)!==i)throw Error(n(188))}function Nf(i){var l=i.alternate;if(!l){if(l=kr(i),l===null)throw Error(n(188));return l!==i?null:i}for(var p=i,x=l;;){var C=p.return;if(C===null)break;var E=C.alternate;if(E===null){if(x=C.return,x!==null){p=x;continue}break}if(C.child===E.child){for(E=C.child;E;){if(E===p)return cc(C),i;if(E===x)return cc(C),l;E=E.sibling}throw Error(n(188))}if(p.return!==x.return)p=C,x=E;else{for(var D=!1,K=C.child;K;){if(K===p){D=!0,p=C,x=E;break}if(K===x){D=!0,x=C,p=E;break}K=K.sibling}if(!D){for(K=E.child;K;){if(K===p){D=!0,p=E,x=C;break}if(K===x){D=!0,x=E,p=C;break}K=K.sibling}if(!D)throw Error(n(189))}}if(p.alternate!==x)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?i:l}function uc(i){return i=Nf(i),i!==null?dc(i):null}function dc(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=dc(i);if(l!==null)return l;i=i.sibling}return null}var fc=t.unstable_scheduleCallback,pc=t.unstable_cancelCallback,hc=t.unstable_shouldYield,Cf=t.unstable_requestPaint,Ct=t.unstable_now,kf=t.unstable_getCurrentPriorityLevel,al=t.unstable_ImmediatePriority,mc=t.unstable_UserBlockingPriority,Li=t.unstable_NormalPriority,Ef=t.unstable_LowPriority,cl=t.unstable_IdlePriority,zi=null,Kn=null;function _f(i){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(zi,i,void 0,(i.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:Af,jf=Math.log,Pf=Math.LN2;function Af(i){return i>>>=0,i===0?32:31-(jf(i)/Pf|0)|0}var Hr=64,$i=4194304;function Zo(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ao(i,l){var p=i.pendingLanes;if(p===0)return 0;var x=0,C=i.suspendedLanes,E=i.pingedLanes,D=p&268435455;if(D!==0){var K=D&~C;K!==0?x=Zo(K):(E&=D,E!==0&&(x=Zo(E)))}else D=p&~C,D!==0?x=Zo(D):E!==0&&(x=Zo(E));if(x===0)return 0;if(l!==0&&l!==x&&(l&C)===0&&(C=x&-x,E=l&-l,C>=E||C===16&&(E&4194240)!==0))return l;if((x&4)!==0&&(x|=p&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=x;0<l;)p=31-On(l),C=1<<p,x|=i[p],l&=~C;return x}function If(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tf(i,l){for(var p=i.suspendedLanes,x=i.pingedLanes,C=i.expirationTimes,E=i.pendingLanes;0<E;){var D=31-On(E),K=1<<D,Z=C[D];Z===-1?((K&p)===0||(K&x)!==0)&&(C[D]=If(K,l)):Z<=l&&(i.expiredLanes|=K),E&=~K}}function Fi(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function zy(){var i=Hr;return Hr<<=1,(Hr&4194240)===0&&(Hr=64),i}function Rf(i){for(var l=[],p=0;31>p;p++)l.push(i);return l}function ul(i,l,p){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-On(l),i[l]=p}function Nj(i,l){var p=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var x=i.eventTimes;for(i=i.expirationTimes;0<p;){var C=31-On(p),E=1<<C;l[C]=0,x[C]=-1,i[C]=-1,p&=~E}}function Mf(i,l){var p=i.entangledLanes|=l;for(i=i.entanglements;p;){var x=31-On(p),C=1<<x;C&l|i[x]&l&&(i[x]|=l),p&=~C}}var ht=0;function $y(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Fy,Of,By,Vy,Hy,Df=!1,gc=[],co=null,uo=null,fo=null,dl=new Map,fl=new Map,po=[],Cj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uy(i,l){switch(i){case"focusin":case"focusout":co=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":dl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(l.pointerId)}}function pl(i,l,p,x,C,E){return i===null||i.nativeEvent!==E?(i={blockedOn:l,domEventName:p,eventSystemFlags:x,nativeEvent:E,targetContainers:[C]},l!==null&&(l=_l(l),l!==null&&Of(l)),i):(i.eventSystemFlags|=x,l=i.targetContainers,C!==null&&l.indexOf(C)===-1&&l.push(C),i)}function kj(i,l,p,x,C){switch(l){case"focusin":return co=pl(co,i,l,p,x,C),!0;case"dragenter":return uo=pl(uo,i,l,p,x,C),!0;case"mouseover":return fo=pl(fo,i,l,p,x,C),!0;case"pointerover":var E=C.pointerId;return dl.set(E,pl(dl.get(E)||null,i,l,p,x,C)),!0;case"gotpointercapture":return E=C.pointerId,fl.set(E,pl(fl.get(E)||null,i,l,p,x,C)),!0}return!1}function Wy(i){var l=ei(i.target);if(l!==null){var p=kr(l);if(p!==null){if(l=p.tag,l===13){if(l=ll(p),l!==null){i.blockedOn=l,Hy(i.priority,function(){By(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){i.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}i.blockedOn=null}function yc(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var p=zf(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(p===null){p=i.nativeEvent;var x=new p.constructor(p.type,p);Rt=x,p.target.dispatchEvent(x),Rt=null}else return l=_l(p),l!==null&&Of(l),i.blockedOn=p,!1;l.shift()}return!0}function Xy(i,l,p){yc(i)&&p.delete(l)}function Ej(){Df=!1,co!==null&&yc(co)&&(co=null),uo!==null&&yc(uo)&&(uo=null),fo!==null&&yc(fo)&&(fo=null),dl.forEach(Xy),fl.forEach(Xy)}function hl(i,l){i.blockedOn===l&&(i.blockedOn=null,Df||(Df=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ej)))}function ml(i){function l(C){return hl(C,i)}if(0<gc.length){hl(gc[0],i);for(var p=1;p<gc.length;p++){var x=gc[p];x.blockedOn===i&&(x.blockedOn=null)}}for(co!==null&&hl(co,i),uo!==null&&hl(uo,i),fo!==null&&hl(fo,i),dl.forEach(l),fl.forEach(l),p=0;p<po.length;p++)x=po[p],x.blockedOn===i&&(x.blockedOn=null);for(;0<po.length&&(p=po[0],p.blockedOn===null);)Wy(p),p.blockedOn===null&&po.shift()}var Bi=P.ReactCurrentBatchConfig,xc=!0;function _j(i,l,p,x){var C=ht,E=Bi.transition;Bi.transition=null;try{ht=1,Lf(i,l,p,x)}finally{ht=C,Bi.transition=E}}function jj(i,l,p,x){var C=ht,E=Bi.transition;Bi.transition=null;try{ht=4,Lf(i,l,p,x)}finally{ht=C,Bi.transition=E}}function Lf(i,l,p,x){if(xc){var C=zf(i,l,p,x);if(C===null)tp(i,l,x,vc,p),Uy(i,x);else if(kj(C,i,l,p,x))x.stopPropagation();else if(Uy(i,x),l&4&&-1<Cj.indexOf(i)){for(;C!==null;){var E=_l(C);if(E!==null&&Fy(E),E=zf(i,l,p,x),E===null&&tp(i,l,x,vc,p),E===C)break;C=E}C!==null&&x.stopPropagation()}else tp(i,l,x,null,p)}}var vc=null;function zf(i,l,p,x){if(vc=null,i=Cr(x),i=ei(i),i!==null)if(l=kr(i),l===null)i=null;else if(p=l.tag,p===13){if(i=ll(l),i!==null)return i;i=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return vc=i,null}function Gy(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kf()){case al:return 1;case mc:return 4;case Li:case Ef:return 16;case cl:return 536870912;default:return 16}default:return 16}}var ho=null,$f=null,wc=null;function Yy(){if(wc)return wc;var i,l=$f,p=l.length,x,C="value"in ho?ho.value:ho.textContent,E=C.length;for(i=0;i<p&&l[i]===C[i];i++);var D=p-i;for(x=1;x<=D&&l[p-x]===C[E-x];x++);return wc=C.slice(i,1<x?1-x:void 0)}function bc(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Sc(){return!0}function qy(){return!1}function Dn(i){function l(p,x,C,E,D){this._reactName=p,this._targetInst=C,this.type=x,this.nativeEvent=E,this.target=D,this.currentTarget=null;for(var K in i)i.hasOwnProperty(K)&&(p=i[K],this[K]=p?p(E):E[K]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Sc:qy,this.isPropagationStopped=qy,this}return M(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Sc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Sc)},persist:function(){},isPersistent:Sc}),l}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ff=Dn(Vi),gl=M({},Vi,{view:0,detail:0}),Pj=Dn(gl),Bf,Vf,yl,Nc=M({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yl&&(yl&&i.type==="mousemove"?(Bf=i.screenX-yl.screenX,Vf=i.screenY-yl.screenY):Vf=Bf=0,yl=i),Bf)},movementY:function(i){return"movementY"in i?i.movementY:Vf}}),Ky=Dn(Nc),Aj=M({},Nc,{dataTransfer:0}),Ij=Dn(Aj),Tj=M({},gl,{relatedTarget:0}),Hf=Dn(Tj),Rj=M({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Mj=Dn(Rj),Oj=M({},Vi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Dj=Dn(Oj),Lj=M({},Vi,{data:0}),Qy=Dn(Lj),zj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$j={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bj(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Fj[i])?!!l[i]:!1}function Uf(){return Bj}var Vj=M({},gl,{key:function(i){if(i.key){var l=zj[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=bc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$j[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uf,charCode:function(i){return i.type==="keypress"?bc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Hj=Dn(Vj),Uj=M({},Nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jy=Dn(Uj),Wj=M({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uf}),Xj=Dn(Wj),Gj=M({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yj=Dn(Gj),qj=M({},Nc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Kj=Dn(qj),Qj=[9,13,27,32],Wf=c&&"CompositionEvent"in window,xl=null;c&&"documentMode"in document&&(xl=document.documentMode);var Jj=c&&"TextEvent"in window&&!xl,Zy=c&&(!Wf||xl&&8<xl&&11>=xl),ex=" ",tx=!1;function nx(i,l){switch(i){case"keyup":return Qj.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rx(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Hi=!1;function Zj(i,l){switch(i){case"compositionend":return rx(l);case"keypress":return l.which!==32?null:(tx=!0,ex);case"textInput":return i=l.data,i===ex&&tx?null:i;default:return null}}function e2(i,l){if(Hi)return i==="compositionend"||!Wf&&nx(i,l)?(i=Yy(),wc=$f=ho=null,Hi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Zy&&l.locale!=="ko"?null:l.data;default:return null}}var t2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ox(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!t2[i.type]:l==="textarea"}function ix(i,l,p,x){Wt(x),l=jc(l,"onChange"),0<l.length&&(p=new Ff("onChange","change",null,p,x),i.push({event:p,listeners:l}))}var vl=null,wl=null;function n2(i){Nx(i,0)}function Cc(i){var l=Yi(i);if(de(l))return i}function r2(i,l){if(i==="change")return l}var sx=!1;if(c){var Xf;if(c){var Gf="oninput"in document;if(!Gf){var lx=document.createElement("div");lx.setAttribute("oninput","return;"),Gf=typeof lx.oninput=="function"}Xf=Gf}else Xf=!1;sx=Xf&&(!document.documentMode||9<document.documentMode)}function ax(){vl&&(vl.detachEvent("onpropertychange",cx),wl=vl=null)}function cx(i){if(i.propertyName==="value"&&Cc(wl)){var l=[];ix(l,wl,i,Cr(i)),lc(n2,l)}}function o2(i,l,p){i==="focusin"?(ax(),vl=l,wl=p,vl.attachEvent("onpropertychange",cx)):i==="focusout"&&ax()}function i2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Cc(wl)}function s2(i,l){if(i==="click")return Cc(l)}function l2(i,l){if(i==="input"||i==="change")return Cc(l)}function a2(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var sr=typeof Object.is=="function"?Object.is:a2;function bl(i,l){if(sr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var p=Object.keys(i),x=Object.keys(l);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var C=p[x];if(!d.call(l,C)||!sr(i[C],l[C]))return!1}return!0}function ux(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function dx(i,l){var p=ux(i);i=0;for(var x;p;){if(p.nodeType===3){if(x=i+p.textContent.length,i<=l&&x>=l)return{node:p,offset:l-i};i=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=ux(p)}}function fx(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?fx(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function px(){for(var i=window,l=be();l instanceof i.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)i=l.contentWindow;else break;l=be(i.document)}return l}function Yf(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function c2(i){var l=px(),p=i.focusedElem,x=i.selectionRange;if(l!==p&&p&&p.ownerDocument&&fx(p.ownerDocument.documentElement,p)){if(x!==null&&Yf(p)){if(l=x.start,i=x.end,i===void 0&&(i=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(i,p.value.length);else if(i=(l=p.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var C=p.textContent.length,E=Math.min(x.start,C);x=x.end===void 0?E:Math.min(x.end,C),!i.extend&&E>x&&(C=x,x=E,E=C),C=dx(p,E);var D=dx(p,x);C&&D&&(i.rangeCount!==1||i.anchorNode!==C.node||i.anchorOffset!==C.offset||i.focusNode!==D.node||i.focusOffset!==D.offset)&&(l=l.createRange(),l.setStart(C.node,C.offset),i.removeAllRanges(),E>x?(i.addRange(l),i.extend(D.node,D.offset)):(l.setEnd(D.node,D.offset),i.addRange(l)))}}for(l=[],i=p;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)i=l[p],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var u2=c&&"documentMode"in document&&11>=document.documentMode,Ui=null,qf=null,Sl=null,Kf=!1;function hx(i,l,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Kf||Ui==null||Ui!==be(x)||(x=Ui,"selectionStart"in x&&Yf(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Sl&&bl(Sl,x)||(Sl=x,x=jc(qf,"onSelect"),0<x.length&&(l=new Ff("onSelect","select",null,l,p),i.push({event:l,listeners:x}),l.target=Ui)))}function kc(i,l){var p={};return p[i.toLowerCase()]=l.toLowerCase(),p["Webkit"+i]="webkit"+l,p["Moz"+i]="moz"+l,p}var Wi={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionend:kc("Transition","TransitionEnd")},Qf={},mx={};c&&(mx=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function Ec(i){if(Qf[i])return Qf[i];if(!Wi[i])return i;var l=Wi[i],p;for(p in l)if(l.hasOwnProperty(p)&&p in mx)return Qf[i]=l[p];return i}var gx=Ec("animationend"),yx=Ec("animationiteration"),xx=Ec("animationstart"),vx=Ec("transitionend"),wx=new Map,bx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mo(i,l){wx.set(i,l),s(l,[i])}for(var Jf=0;Jf<bx.length;Jf++){var Zf=bx[Jf],d2=Zf.toLowerCase(),f2=Zf[0].toUpperCase()+Zf.slice(1);mo(d2,"on"+f2)}mo(gx,"onAnimationEnd"),mo(yx,"onAnimationIteration"),mo(xx,"onAnimationStart"),mo("dblclick","onDoubleClick"),mo("focusin","onFocus"),mo("focusout","onBlur"),mo(vx,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nl));function Sx(i,l,p){var x=i.type||"unknown-event";i.currentTarget=p,ac(x,l,void 0,i),i.currentTarget=null}function Nx(i,l){l=(l&4)!==0;for(var p=0;p<i.length;p++){var x=i[p],C=x.event;x=x.listeners;e:{var E=void 0;if(l)for(var D=x.length-1;0<=D;D--){var K=x[D],Z=K.instance,ce=K.currentTarget;if(K=K.listener,Z!==E&&C.isPropagationStopped())break e;Sx(C,K,ce),E=Z}else for(D=0;D<x.length;D++){if(K=x[D],Z=K.instance,ce=K.currentTarget,K=K.listener,Z!==E&&C.isPropagationStopped())break e;Sx(C,K,ce),E=Z}}}if(Di)throw i=sl,Di=!1,sl=null,i}function vt(i,l){var p=l[lp];p===void 0&&(p=l[lp]=new Set);var x=i+"__bubble";p.has(x)||(Cx(l,i,2,!1),p.add(x))}function ep(i,l,p){var x=0;l&&(x|=4),Cx(p,i,x,l)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Cl(i){if(!i[_c]){i[_c]=!0,r.forEach(function(p){p!=="selectionchange"&&(p2.has(p)||ep(p,!1,i),ep(p,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[_c]||(l[_c]=!0,ep("selectionchange",!1,l))}}function Cx(i,l,p,x){switch(Gy(l)){case 1:var C=_j;break;case 4:C=jj;break;default:C=Lf}p=C.bind(null,l,p,i),C=void 0,!il||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(C=!0),x?C!==void 0?i.addEventListener(l,p,{capture:!0,passive:C}):i.addEventListener(l,p,!0):C!==void 0?i.addEventListener(l,p,{passive:C}):i.addEventListener(l,p,!1)}function tp(i,l,p,x,C){var E=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var D=x.tag;if(D===3||D===4){var K=x.stateNode.containerInfo;if(K===C||K.nodeType===8&&K.parentNode===C)break;if(D===4)for(D=x.return;D!==null;){var Z=D.tag;if((Z===3||Z===4)&&(Z=D.stateNode.containerInfo,Z===C||Z.nodeType===8&&Z.parentNode===C))return;D=D.return}for(;K!==null;){if(D=ei(K),D===null)return;if(Z=D.tag,Z===5||Z===6){x=E=D;continue e}K=K.parentNode}}x=x.return}lc(function(){var ce=E,he=Cr(p),me=[];e:{var pe=wx.get(i);if(pe!==void 0){var Ne=Ff,_e=i;switch(i){case"keypress":if(bc(p)===0)break e;case"keydown":case"keyup":Ne=Hj;break;case"focusin":_e="focus",Ne=Hf;break;case"focusout":_e="blur",Ne=Hf;break;case"beforeblur":case"afterblur":Ne=Hf;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=Ky;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=Ij;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=Xj;break;case gx:case yx:case xx:Ne=Mj;break;case vx:Ne=Yj;break;case"scroll":Ne=Pj;break;case"wheel":Ne=Kj;break;case"copy":case"cut":case"paste":Ne=Dj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=Jy}var Te=(l&4)!==0,Tt=!Te&&i==="scroll",re=Te?pe!==null?pe+"Capture":null:pe;Te=[];for(var ee=ce,se;ee!==null;){se=ee;var ve=se.stateNode;if(se.tag===5&&ve!==null&&(se=ve,re!==null&&(ve=Ko(ee,re),ve!=null&&Te.push(kl(ee,ve,se)))),Tt)break;ee=ee.return}0<Te.length&&(pe=new Ne(pe,_e,null,p,he),me.push({event:pe,listeners:Te}))}}if((l&7)===0){e:{if(pe=i==="mouseover"||i==="pointerover",Ne=i==="mouseout"||i==="pointerout",pe&&p!==Rt&&(_e=p.relatedTarget||p.fromElement)&&(ei(_e)||_e[Ur]))break e;if((Ne||pe)&&(pe=he.window===he?he:(pe=he.ownerDocument)?pe.defaultView||pe.parentWindow:window,Ne?(_e=p.relatedTarget||p.toElement,Ne=ce,_e=_e?ei(_e):null,_e!==null&&(Tt=kr(_e),_e!==Tt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(Ne=null,_e=ce),Ne!==_e)){if(Te=Ky,ve="onMouseLeave",re="onMouseEnter",ee="mouse",(i==="pointerout"||i==="pointerover")&&(Te=Jy,ve="onPointerLeave",re="onPointerEnter",ee="pointer"),Tt=Ne==null?pe:Yi(Ne),se=_e==null?pe:Yi(_e),pe=new Te(ve,ee+"leave",Ne,p,he),pe.target=Tt,pe.relatedTarget=se,ve=null,ei(he)===ce&&(Te=new Te(re,ee+"enter",_e,p,he),Te.target=se,Te.relatedTarget=Tt,ve=Te),Tt=ve,Ne&&_e)t:{for(Te=Ne,re=_e,ee=0,se=Te;se;se=Xi(se))ee++;for(se=0,ve=re;ve;ve=Xi(ve))se++;for(;0<ee-se;)Te=Xi(Te),ee--;for(;0<se-ee;)re=Xi(re),se--;for(;ee--;){if(Te===re||re!==null&&Te===re.alternate)break t;Te=Xi(Te),re=Xi(re)}Te=null}else Te=null;Ne!==null&&kx(me,pe,Ne,Te,!1),_e!==null&&Tt!==null&&kx(me,Tt,_e,Te,!0)}}e:{if(pe=ce?Yi(ce):window,Ne=pe.nodeName&&pe.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&pe.type==="file")var Me=r2;else if(ox(pe))if(sx)Me=l2;else{Me=i2;var $e=o2}else(Ne=pe.nodeName)&&Ne.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Me=s2);if(Me&&(Me=Me(i,ce))){ix(me,Me,p,he);break e}$e&&$e(i,pe,ce),i==="focusout"&&($e=pe._wrapperState)&&$e.controlled&&pe.type==="number"&&ye(pe,"number",pe.value)}switch($e=ce?Yi(ce):window,i){case"focusin":(ox($e)||$e.contentEditable==="true")&&(Ui=$e,qf=ce,Sl=null);break;case"focusout":Sl=qf=Ui=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,hx(me,p,he);break;case"selectionchange":if(u2)break;case"keydown":case"keyup":hx(me,p,he)}var Fe;if(Wf)e:{switch(i){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Hi?nx(i,p)&&(Ge="onCompositionEnd"):i==="keydown"&&p.keyCode===229&&(Ge="onCompositionStart");Ge&&(Zy&&p.locale!=="ko"&&(Hi||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Hi&&(Fe=Yy()):(ho=he,$f="value"in ho?ho.value:ho.textContent,Hi=!0)),$e=jc(ce,Ge),0<$e.length&&(Ge=new Qy(Ge,i,null,p,he),me.push({event:Ge,listeners:$e}),Fe?Ge.data=Fe:(Fe=rx(p),Fe!==null&&(Ge.data=Fe)))),(Fe=Jj?Zj(i,p):e2(i,p))&&(ce=jc(ce,"onBeforeInput"),0<ce.length&&(he=new Qy("onBeforeInput","beforeinput",null,p,he),me.push({event:he,listeners:ce}),he.data=Fe))}Nx(me,l)})}function kl(i,l,p){return{instance:i,listener:l,currentTarget:p}}function jc(i,l){for(var p=l+"Capture",x=[];i!==null;){var C=i,E=C.stateNode;C.tag===5&&E!==null&&(C=E,E=Ko(i,p),E!=null&&x.unshift(kl(i,E,C)),E=Ko(i,l),E!=null&&x.push(kl(i,E,C))),i=i.return}return x}function Xi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function kx(i,l,p,x,C){for(var E=l._reactName,D=[];p!==null&&p!==x;){var K=p,Z=K.alternate,ce=K.stateNode;if(Z!==null&&Z===x)break;K.tag===5&&ce!==null&&(K=ce,C?(Z=Ko(p,E),Z!=null&&D.unshift(kl(p,Z,K))):C||(Z=Ko(p,E),Z!=null&&D.push(kl(p,Z,K)))),p=p.return}D.length!==0&&i.push({event:l,listeners:D})}var h2=/\r\n?/g,m2=/\u0000|\uFFFD/g;function Ex(i){return(typeof i=="string"?i:""+i).replace(h2,`
`).replace(m2,"")}function Pc(i,l,p){if(l=Ex(l),Ex(i)!==l&&p)throw Error(n(425))}function Ac(){}var np=null,rp=null;function op(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ip=typeof setTimeout=="function"?setTimeout:void 0,g2=typeof clearTimeout=="function"?clearTimeout:void 0,_x=typeof Promise=="function"?Promise:void 0,y2=typeof queueMicrotask=="function"?queueMicrotask:typeof _x<"u"?function(i){return _x.resolve(null).then(i).catch(x2)}:ip;function x2(i){setTimeout(function(){throw i})}function sp(i,l){var p=l,x=0;do{var C=p.nextSibling;if(i.removeChild(p),C&&C.nodeType===8)if(p=C.data,p==="/$"){if(x===0){i.removeChild(C),ml(l);return}x--}else p!=="$"&&p!=="$?"&&p!=="$!"||x++;p=C}while(p);ml(l)}function go(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function jx(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var p=i.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return i;l--}else p==="/$"&&l++}i=i.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),Er="__reactFiber$"+Gi,El="__reactProps$"+Gi,Ur="__reactContainer$"+Gi,lp="__reactEvents$"+Gi,v2="__reactListeners$"+Gi,w2="__reactHandles$"+Gi;function ei(i){var l=i[Er];if(l)return l;for(var p=i.parentNode;p;){if(l=p[Ur]||p[Er]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(i=jx(i);i!==null;){if(p=i[Er])return p;i=jx(i)}return l}i=p,p=i.parentNode}return null}function _l(i){return i=i[Er]||i[Ur],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Yi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Ic(i){return i[El]||null}var ap=[],qi=-1;function yo(i){return{current:i}}function wt(i){0>qi||(i.current=ap[qi],ap[qi]=null,qi--)}function gt(i,l){qi++,ap[qi]=i.current,i.current=l}var xo={},Zt=yo(xo),bn=yo(!1),ti=xo;function Ki(i,l){var p=i.type.contextTypes;if(!p)return xo;var x=i.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===l)return x.__reactInternalMemoizedMaskedChildContext;var C={},E;for(E in p)C[E]=l[E];return x&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=C),C}function Sn(i){return i=i.childContextTypes,i!=null}function Tc(){wt(bn),wt(Zt)}function Px(i,l,p){if(Zt.current!==xo)throw Error(n(168));gt(Zt,l),gt(bn,p)}function Ax(i,l,p){var x=i.stateNode;if(l=l.childContextTypes,typeof x.getChildContext!="function")return p;x=x.getChildContext();for(var C in x)if(!(C in l))throw Error(n(108,B(i)||"Unknown",C));return M({},p,x)}function Rc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||xo,ti=Zt.current,gt(Zt,i),gt(bn,bn.current),!0}function Ix(i,l,p){var x=i.stateNode;if(!x)throw Error(n(169));p?(i=Ax(i,l,ti),x.__reactInternalMemoizedMergedChildContext=i,wt(bn),wt(Zt),gt(Zt,i)):wt(bn),gt(bn,p)}var Wr=null,Mc=!1,cp=!1;function Tx(i){Wr===null?Wr=[i]:Wr.push(i)}function b2(i){Mc=!0,Tx(i)}function vo(){if(!cp&&Wr!==null){cp=!0;var i=0,l=ht;try{var p=Wr;for(ht=1;i<p.length;i++){var x=p[i];do x=x(!0);while(x!==null)}Wr=null,Mc=!1}catch(C){throw Wr!==null&&(Wr=Wr.slice(i+1)),fc(al,vo),C}finally{ht=l,cp=!1}}return null}var Qi=[],Ji=0,Oc=null,Dc=0,Qn=[],Jn=0,ni=null,Xr=1,Gr="";function ri(i,l){Qi[Ji++]=Dc,Qi[Ji++]=Oc,Oc=i,Dc=l}function Rx(i,l,p){Qn[Jn++]=Xr,Qn[Jn++]=Gr,Qn[Jn++]=ni,ni=i;var x=Xr;i=Gr;var C=32-On(x)-1;x&=~(1<<C),p+=1;var E=32-On(l)+C;if(30<E){var D=C-C%5;E=(x&(1<<D)-1).toString(32),x>>=D,C-=D,Xr=1<<32-On(l)+C|p<<C|x,Gr=E+i}else Xr=1<<E|p<<C|x,Gr=i}function up(i){i.return!==null&&(ri(i,1),Rx(i,1,0))}function dp(i){for(;i===Oc;)Oc=Qi[--Ji],Qi[Ji]=null,Dc=Qi[--Ji],Qi[Ji]=null;for(;i===ni;)ni=Qn[--Jn],Qn[Jn]=null,Gr=Qn[--Jn],Qn[Jn]=null,Xr=Qn[--Jn],Qn[Jn]=null}var Ln=null,zn=null,St=!1,lr=null;function Mx(i,l){var p=nr(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=i,l=i.deletions,l===null?(i.deletions=[p],i.flags|=16):l.push(p)}function Ox(i,l){switch(i.tag){case 5:var p=i.type;return l=l.nodeType!==1||p.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,Ln=i,zn=go(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,Ln=i,zn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(p=ni!==null?{id:Xr,overflow:Gr}:null,i.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},p=nr(18,null,null,0),p.stateNode=l,p.return=i,i.child=p,Ln=i,zn=null,!0):!1;default:return!1}}function fp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function pp(i){if(St){var l=zn;if(l){var p=l;if(!Ox(i,l)){if(fp(i))throw Error(n(418));l=go(p.nextSibling);var x=Ln;l&&Ox(i,l)?Mx(x,p):(i.flags=i.flags&-4097|2,St=!1,Ln=i)}}else{if(fp(i))throw Error(n(418));i.flags=i.flags&-4097|2,St=!1,Ln=i}}}function Dx(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ln=i}function Lc(i){if(i!==Ln)return!1;if(!St)return Dx(i),St=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!op(i.type,i.memoizedProps)),l&&(l=zn)){if(fp(i))throw Lx(),Error(n(418));for(;l;)Mx(i,l),l=go(l.nextSibling)}if(Dx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var p=i.data;if(p==="/$"){if(l===0){zn=go(i.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++}i=i.nextSibling}zn=null}}else zn=Ln?go(i.stateNode.nextSibling):null;return!0}function Lx(){for(var i=zn;i;)i=go(i.nextSibling)}function Zi(){zn=Ln=null,St=!1}function hp(i){lr===null?lr=[i]:lr.push(i)}var S2=P.ReactCurrentBatchConfig;function jl(i,l,p){if(i=p.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var x=p.stateNode}if(!x)throw Error(n(147,i));var C=x,E=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(D){var K=C.refs;D===null?delete K[E]:K[E]=D},l._stringRef=E,l)}if(typeof i!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,i))}return i}function zc(i,l){throw i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function zx(i){var l=i._init;return l(i._payload)}function $x(i){function l(re,ee){if(i){var se=re.deletions;se===null?(re.deletions=[ee],re.flags|=16):se.push(ee)}}function p(re,ee){if(!i)return null;for(;ee!==null;)l(re,ee),ee=ee.sibling;return null}function x(re,ee){for(re=new Map;ee!==null;)ee.key!==null?re.set(ee.key,ee):re.set(ee.index,ee),ee=ee.sibling;return re}function C(re,ee){return re=_o(re,ee),re.index=0,re.sibling=null,re}function E(re,ee,se){return re.index=se,i?(se=re.alternate,se!==null?(se=se.index,se<ee?(re.flags|=2,ee):se):(re.flags|=2,ee)):(re.flags|=1048576,ee)}function D(re){return i&&re.alternate===null&&(re.flags|=2),re}function K(re,ee,se,ve){return ee===null||ee.tag!==6?(ee=ih(se,re.mode,ve),ee.return=re,ee):(ee=C(ee,se),ee.return=re,ee)}function Z(re,ee,se,ve){var Me=se.type;return Me===T?he(re,ee,se.props.children,ve,se.key):ee!==null&&(ee.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===z&&zx(Me)===ee.type)?(ve=C(ee,se.props),ve.ref=jl(re,ee,se),ve.return=re,ve):(ve=au(se.type,se.key,se.props,null,re.mode,ve),ve.ref=jl(re,ee,se),ve.return=re,ve)}function ce(re,ee,se,ve){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==se.containerInfo||ee.stateNode.implementation!==se.implementation?(ee=sh(se,re.mode,ve),ee.return=re,ee):(ee=C(ee,se.children||[]),ee.return=re,ee)}function he(re,ee,se,ve,Me){return ee===null||ee.tag!==7?(ee=di(se,re.mode,ve,Me),ee.return=re,ee):(ee=C(ee,se),ee.return=re,ee)}function me(re,ee,se){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=ih(""+ee,re.mode,se),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case I:return se=au(ee.type,ee.key,ee.props,null,re.mode,se),se.ref=jl(re,null,ee),se.return=re,se;case A:return ee=sh(ee,re.mode,se),ee.return=re,ee;case z:var ve=ee._init;return me(re,ve(ee._payload),se)}if(Be(ee)||W(ee))return ee=di(ee,re.mode,se,null),ee.return=re,ee;zc(re,ee)}return null}function pe(re,ee,se,ve){var Me=ee!==null?ee.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Me!==null?null:K(re,ee,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case I:return se.key===Me?Z(re,ee,se,ve):null;case A:return se.key===Me?ce(re,ee,se,ve):null;case z:return Me=se._init,pe(re,ee,Me(se._payload),ve)}if(Be(se)||W(se))return Me!==null?null:he(re,ee,se,ve,null);zc(re,se)}return null}function Ne(re,ee,se,ve,Me){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return re=re.get(se)||null,K(ee,re,""+ve,Me);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case I:return re=re.get(ve.key===null?se:ve.key)||null,Z(ee,re,ve,Me);case A:return re=re.get(ve.key===null?se:ve.key)||null,ce(ee,re,ve,Me);case z:var $e=ve._init;return Ne(re,ee,se,$e(ve._payload),Me)}if(Be(ve)||W(ve))return re=re.get(se)||null,he(ee,re,ve,Me,null);zc(ee,ve)}return null}function _e(re,ee,se,ve){for(var Me=null,$e=null,Fe=ee,Ge=ee=0,Ht=null;Fe!==null&&Ge<se.length;Ge++){Fe.index>Ge?(Ht=Fe,Fe=null):Ht=Fe.sibling;var ct=pe(re,Fe,se[Ge],ve);if(ct===null){Fe===null&&(Fe=Ht);break}i&&Fe&&ct.alternate===null&&l(re,Fe),ee=E(ct,ee,Ge),$e===null?Me=ct:$e.sibling=ct,$e=ct,Fe=Ht}if(Ge===se.length)return p(re,Fe),St&&ri(re,Ge),Me;if(Fe===null){for(;Ge<se.length;Ge++)Fe=me(re,se[Ge],ve),Fe!==null&&(ee=E(Fe,ee,Ge),$e===null?Me=Fe:$e.sibling=Fe,$e=Fe);return St&&ri(re,Ge),Me}for(Fe=x(re,Fe);Ge<se.length;Ge++)Ht=Ne(Fe,re,Ge,se[Ge],ve),Ht!==null&&(i&&Ht.alternate!==null&&Fe.delete(Ht.key===null?Ge:Ht.key),ee=E(Ht,ee,Ge),$e===null?Me=Ht:$e.sibling=Ht,$e=Ht);return i&&Fe.forEach(function(jo){return l(re,jo)}),St&&ri(re,Ge),Me}function Te(re,ee,se,ve){var Me=W(se);if(typeof Me!="function")throw Error(n(150));if(se=Me.call(se),se==null)throw Error(n(151));for(var $e=Me=null,Fe=ee,Ge=ee=0,Ht=null,ct=se.next();Fe!==null&&!ct.done;Ge++,ct=se.next()){Fe.index>Ge?(Ht=Fe,Fe=null):Ht=Fe.sibling;var jo=pe(re,Fe,ct.value,ve);if(jo===null){Fe===null&&(Fe=Ht);break}i&&Fe&&jo.alternate===null&&l(re,Fe),ee=E(jo,ee,Ge),$e===null?Me=jo:$e.sibling=jo,$e=jo,Fe=Ht}if(ct.done)return p(re,Fe),St&&ri(re,Ge),Me;if(Fe===null){for(;!ct.done;Ge++,ct=se.next())ct=me(re,ct.value,ve),ct!==null&&(ee=E(ct,ee,Ge),$e===null?Me=ct:$e.sibling=ct,$e=ct);return St&&ri(re,Ge),Me}for(Fe=x(re,Fe);!ct.done;Ge++,ct=se.next())ct=Ne(Fe,re,Ge,ct.value,ve),ct!==null&&(i&&ct.alternate!==null&&Fe.delete(ct.key===null?Ge:ct.key),ee=E(ct,ee,Ge),$e===null?Me=ct:$e.sibling=ct,$e=ct);return i&&Fe.forEach(function(tP){return l(re,tP)}),St&&ri(re,Ge),Me}function Tt(re,ee,se,ve){if(typeof se=="object"&&se!==null&&se.type===T&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case I:e:{for(var Me=se.key,$e=ee;$e!==null;){if($e.key===Me){if(Me=se.type,Me===T){if($e.tag===7){p(re,$e.sibling),ee=C($e,se.props.children),ee.return=re,re=ee;break e}}else if($e.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===z&&zx(Me)===$e.type){p(re,$e.sibling),ee=C($e,se.props),ee.ref=jl(re,$e,se),ee.return=re,re=ee;break e}p(re,$e);break}else l(re,$e);$e=$e.sibling}se.type===T?(ee=di(se.props.children,re.mode,ve,se.key),ee.return=re,re=ee):(ve=au(se.type,se.key,se.props,null,re.mode,ve),ve.ref=jl(re,ee,se),ve.return=re,re=ve)}return D(re);case A:e:{for($e=se.key;ee!==null;){if(ee.key===$e)if(ee.tag===4&&ee.stateNode.containerInfo===se.containerInfo&&ee.stateNode.implementation===se.implementation){p(re,ee.sibling),ee=C(ee,se.children||[]),ee.return=re,re=ee;break e}else{p(re,ee);break}else l(re,ee);ee=ee.sibling}ee=sh(se,re.mode,ve),ee.return=re,re=ee}return D(re);case z:return $e=se._init,Tt(re,ee,$e(se._payload),ve)}if(Be(se))return _e(re,ee,se,ve);if(W(se))return Te(re,ee,se,ve);zc(re,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,ee!==null&&ee.tag===6?(p(re,ee.sibling),ee=C(ee,se),ee.return=re,re=ee):(p(re,ee),ee=ih(se,re.mode,ve),ee.return=re,re=ee),D(re)):p(re,ee)}return Tt}var es=$x(!0),Fx=$x(!1),$c=yo(null),Fc=null,ts=null,mp=null;function gp(){mp=ts=Fc=null}function yp(i){var l=$c.current;wt($c),i._currentValue=l}function xp(i,l,p){for(;i!==null;){var x=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),i===p)break;i=i.return}}function ns(i,l){Fc=i,mp=ts=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(Nn=!0),i.firstContext=null)}function Zn(i){var l=i._currentValue;if(mp!==i)if(i={context:i,memoizedValue:l,next:null},ts===null){if(Fc===null)throw Error(n(308));ts=i,Fc.dependencies={lanes:0,firstContext:i}}else ts=ts.next=i;return l}var oi=null;function vp(i){oi===null?oi=[i]:oi.push(i)}function Bx(i,l,p,x){var C=l.interleaved;return C===null?(p.next=p,vp(l)):(p.next=C.next,C.next=p),l.interleaved=p,Yr(i,x)}function Yr(i,l){i.lanes|=l;var p=i.alternate;for(p!==null&&(p.lanes|=l),p=i,i=i.return;i!==null;)i.childLanes|=l,p=i.alternate,p!==null&&(p.childLanes|=l),p=i,i=i.return;return p.tag===3?p.stateNode:null}var wo=!1;function wp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vx(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function qr(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function bo(i,l,p){var x=i.updateQueue;if(x===null)return null;if(x=x.shared,(lt&2)!==0){var C=x.pending;return C===null?l.next=l:(l.next=C.next,C.next=l),x.pending=l,Yr(i,p)}return C=x.interleaved,C===null?(l.next=l,vp(x)):(l.next=C.next,C.next=l),x.interleaved=l,Yr(i,p)}function Bc(i,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194240)!==0)){var x=l.lanes;x&=i.pendingLanes,p|=x,l.lanes=p,Mf(i,p)}}function Hx(i,l){var p=i.updateQueue,x=i.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var C=null,E=null;if(p=p.firstBaseUpdate,p!==null){do{var D={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};E===null?C=E=D:E=E.next=D,p=p.next}while(p!==null);E===null?C=E=l:E=E.next=l}else C=E=l;p={baseState:x.baseState,firstBaseUpdate:C,lastBaseUpdate:E,shared:x.shared,effects:x.effects},i.updateQueue=p;return}i=p.lastBaseUpdate,i===null?p.firstBaseUpdate=l:i.next=l,p.lastBaseUpdate=l}function Vc(i,l,p,x){var C=i.updateQueue;wo=!1;var E=C.firstBaseUpdate,D=C.lastBaseUpdate,K=C.shared.pending;if(K!==null){C.shared.pending=null;var Z=K,ce=Z.next;Z.next=null,D===null?E=ce:D.next=ce,D=Z;var he=i.alternate;he!==null&&(he=he.updateQueue,K=he.lastBaseUpdate,K!==D&&(K===null?he.firstBaseUpdate=ce:K.next=ce,he.lastBaseUpdate=Z))}if(E!==null){var me=C.baseState;D=0,he=ce=Z=null,K=E;do{var pe=K.lane,Ne=K.eventTime;if((x&pe)===pe){he!==null&&(he=he.next={eventTime:Ne,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var _e=i,Te=K;switch(pe=l,Ne=p,Te.tag){case 1:if(_e=Te.payload,typeof _e=="function"){me=_e.call(Ne,me,pe);break e}me=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Te.payload,pe=typeof _e=="function"?_e.call(Ne,me,pe):_e,pe==null)break e;me=M({},me,pe);break e;case 2:wo=!0}}K.callback!==null&&K.lane!==0&&(i.flags|=64,pe=C.effects,pe===null?C.effects=[K]:pe.push(K))}else Ne={eventTime:Ne,lane:pe,tag:K.tag,payload:K.payload,callback:K.callback,next:null},he===null?(ce=he=Ne,Z=me):he=he.next=Ne,D|=pe;if(K=K.next,K===null){if(K=C.shared.pending,K===null)break;pe=K,K=pe.next,pe.next=null,C.lastBaseUpdate=pe,C.shared.pending=null}}while(!0);if(he===null&&(Z=me),C.baseState=Z,C.firstBaseUpdate=ce,C.lastBaseUpdate=he,l=C.shared.interleaved,l!==null){C=l;do D|=C.lane,C=C.next;while(C!==l)}else E===null&&(C.shared.lanes=0);li|=D,i.lanes=D,i.memoizedState=me}}function Ux(i,l,p){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var x=i[l],C=x.callback;if(C!==null){if(x.callback=null,x=p,typeof C!="function")throw Error(n(191,C));C.call(x)}}}var Pl={},_r=yo(Pl),Al=yo(Pl),Il=yo(Pl);function ii(i){if(i===Pl)throw Error(n(174));return i}function bp(i,l){switch(gt(Il,l),gt(Al,i),gt(_r,Pl),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:fe(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=fe(l,i)}wt(_r),gt(_r,l)}function rs(){wt(_r),wt(Al),wt(Il)}function Wx(i){ii(Il.current);var l=ii(_r.current),p=fe(l,i.type);l!==p&&(gt(Al,i),gt(_r,p))}function Sp(i){Al.current===i&&(wt(_r),wt(Al))}var kt=yo(0);function Hc(i){for(var l=i;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Np=[];function Cp(){for(var i=0;i<Np.length;i++)Np[i]._workInProgressVersionPrimary=null;Np.length=0}var Uc=P.ReactCurrentDispatcher,kp=P.ReactCurrentBatchConfig,si=0,Et=null,zt=null,Bt=null,Wc=!1,Tl=!1,Rl=0,N2=0;function en(){throw Error(n(321))}function Ep(i,l){if(l===null)return!1;for(var p=0;p<l.length&&p<i.length;p++)if(!sr(i[p],l[p]))return!1;return!0}function _p(i,l,p,x,C,E){if(si=E,Et=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Uc.current=i===null||i.memoizedState===null?_2:j2,i=p(x,C),Tl){E=0;do{if(Tl=!1,Rl=0,25<=E)throw Error(n(301));E+=1,Bt=zt=null,l.updateQueue=null,Uc.current=P2,i=p(x,C)}while(Tl)}if(Uc.current=Yc,l=zt!==null&&zt.next!==null,si=0,Bt=zt=Et=null,Wc=!1,l)throw Error(n(300));return i}function jp(){var i=Rl!==0;return Rl=0,i}function jr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Et.memoizedState=Bt=i:Bt=Bt.next=i,Bt}function er(){if(zt===null){var i=Et.alternate;i=i!==null?i.memoizedState:null}else i=zt.next;var l=Bt===null?Et.memoizedState:Bt.next;if(l!==null)Bt=l,zt=i;else{if(i===null)throw Error(n(310));zt=i,i={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Bt===null?Et.memoizedState=Bt=i:Bt=Bt.next=i}return Bt}function Ml(i,l){return typeof l=="function"?l(i):l}function Pp(i){var l=er(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=i;var x=zt,C=x.baseQueue,E=p.pending;if(E!==null){if(C!==null){var D=C.next;C.next=E.next,E.next=D}x.baseQueue=C=E,p.pending=null}if(C!==null){E=C.next,x=x.baseState;var K=D=null,Z=null,ce=E;do{var he=ce.lane;if((si&he)===he)Z!==null&&(Z=Z.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),x=ce.hasEagerState?ce.eagerState:i(x,ce.action);else{var me={lane:he,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Z===null?(K=Z=me,D=x):Z=Z.next=me,Et.lanes|=he,li|=he}ce=ce.next}while(ce!==null&&ce!==E);Z===null?D=x:Z.next=K,sr(x,l.memoizedState)||(Nn=!0),l.memoizedState=x,l.baseState=D,l.baseQueue=Z,p.lastRenderedState=x}if(i=p.interleaved,i!==null){C=i;do E=C.lane,Et.lanes|=E,li|=E,C=C.next;while(C!==i)}else C===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function Ap(i){var l=er(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=i;var x=p.dispatch,C=p.pending,E=l.memoizedState;if(C!==null){p.pending=null;var D=C=C.next;do E=i(E,D.action),D=D.next;while(D!==C);sr(E,l.memoizedState)||(Nn=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),p.lastRenderedState=E}return[E,x]}function Xx(){}function Gx(i,l){var p=Et,x=er(),C=l(),E=!sr(x.memoizedState,C);if(E&&(x.memoizedState=C,Nn=!0),x=x.queue,Ip(Kx.bind(null,p,x,i),[i]),x.getSnapshot!==l||E||Bt!==null&&Bt.memoizedState.tag&1){if(p.flags|=2048,Ol(9,qx.bind(null,p,x,C,l),void 0,null),Vt===null)throw Error(n(349));(si&30)!==0||Yx(p,l,C)}return C}function Yx(i,l,p){i.flags|=16384,i={getSnapshot:l,value:p},l=Et.updateQueue,l===null?(l={lastEffect:null,stores:null},Et.updateQueue=l,l.stores=[i]):(p=l.stores,p===null?l.stores=[i]:p.push(i))}function qx(i,l,p,x){l.value=p,l.getSnapshot=x,Qx(l)&&Jx(i)}function Kx(i,l,p){return p(function(){Qx(l)&&Jx(i)})}function Qx(i){var l=i.getSnapshot;i=i.value;try{var p=l();return!sr(i,p)}catch{return!0}}function Jx(i){var l=Yr(i,1);l!==null&&dr(l,i,1,-1)}function Zx(i){var l=jr();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:i},l.queue=i,i=i.dispatch=E2.bind(null,Et,i),[l.memoizedState,i]}function Ol(i,l,p,x){return i={tag:i,create:l,destroy:p,deps:x,next:null},l=Et.updateQueue,l===null?(l={lastEffect:null,stores:null},Et.updateQueue=l,l.lastEffect=i.next=i):(p=l.lastEffect,p===null?l.lastEffect=i.next=i:(x=p.next,p.next=i,i.next=x,l.lastEffect=i)),i}function ev(){return er().memoizedState}function Xc(i,l,p,x){var C=jr();Et.flags|=i,C.memoizedState=Ol(1|l,p,void 0,x===void 0?null:x)}function Gc(i,l,p,x){var C=er();x=x===void 0?null:x;var E=void 0;if(zt!==null){var D=zt.memoizedState;if(E=D.destroy,x!==null&&Ep(x,D.deps)){C.memoizedState=Ol(l,p,E,x);return}}Et.flags|=i,C.memoizedState=Ol(1|l,p,E,x)}function tv(i,l){return Xc(8390656,8,i,l)}function Ip(i,l){return Gc(2048,8,i,l)}function nv(i,l){return Gc(4,2,i,l)}function rv(i,l){return Gc(4,4,i,l)}function ov(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function iv(i,l,p){return p=p!=null?p.concat([i]):null,Gc(4,4,ov.bind(null,l,i),p)}function Tp(){}function sv(i,l){var p=er();l=l===void 0?null:l;var x=p.memoizedState;return x!==null&&l!==null&&Ep(l,x[1])?x[0]:(p.memoizedState=[i,l],i)}function lv(i,l){var p=er();l=l===void 0?null:l;var x=p.memoizedState;return x!==null&&l!==null&&Ep(l,x[1])?x[0]:(i=i(),p.memoizedState=[i,l],i)}function av(i,l,p){return(si&21)===0?(i.baseState&&(i.baseState=!1,Nn=!0),i.memoizedState=p):(sr(p,l)||(p=zy(),Et.lanes|=p,li|=p,i.baseState=!0),l)}function C2(i,l){var p=ht;ht=p!==0&&4>p?p:4,i(!0);var x=kp.transition;kp.transition={};try{i(!1),l()}finally{ht=p,kp.transition=x}}function cv(){return er().memoizedState}function k2(i,l,p){var x=ko(i);if(p={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null},uv(i))dv(l,p);else if(p=Bx(i,l,p,x),p!==null){var C=xn();dr(p,i,x,C),fv(p,l,x)}}function E2(i,l,p){var x=ko(i),C={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null};if(uv(i))dv(l,C);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var D=l.lastRenderedState,K=E(D,p);if(C.hasEagerState=!0,C.eagerState=K,sr(K,D)){var Z=l.interleaved;Z===null?(C.next=C,vp(l)):(C.next=Z.next,Z.next=C),l.interleaved=C;return}}catch{}finally{}p=Bx(i,l,C,x),p!==null&&(C=xn(),dr(p,i,x,C),fv(p,l,x))}}function uv(i){var l=i.alternate;return i===Et||l!==null&&l===Et}function dv(i,l){Tl=Wc=!0;var p=i.pending;p===null?l.next=l:(l.next=p.next,p.next=l),i.pending=l}function fv(i,l,p){if((p&4194240)!==0){var x=l.lanes;x&=i.pendingLanes,p|=x,l.lanes=p,Mf(i,p)}}var Yc={readContext:Zn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},_2={readContext:Zn,useCallback:function(i,l){return jr().memoizedState=[i,l===void 0?null:l],i},useContext:Zn,useEffect:tv,useImperativeHandle:function(i,l,p){return p=p!=null?p.concat([i]):null,Xc(4194308,4,ov.bind(null,l,i),p)},useLayoutEffect:function(i,l){return Xc(4194308,4,i,l)},useInsertionEffect:function(i,l){return Xc(4,2,i,l)},useMemo:function(i,l){var p=jr();return l=l===void 0?null:l,i=i(),p.memoizedState=[i,l],i},useReducer:function(i,l,p){var x=jr();return l=p!==void 0?p(l):l,x.memoizedState=x.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},x.queue=i,i=i.dispatch=k2.bind(null,Et,i),[x.memoizedState,i]},useRef:function(i){var l=jr();return i={current:i},l.memoizedState=i},useState:Zx,useDebugValue:Tp,useDeferredValue:function(i){return jr().memoizedState=i},useTransition:function(){var i=Zx(!1),l=i[0];return i=C2.bind(null,i[1]),jr().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,p){var x=Et,C=jr();if(St){if(p===void 0)throw Error(n(407));p=p()}else{if(p=l(),Vt===null)throw Error(n(349));(si&30)!==0||Yx(x,l,p)}C.memoizedState=p;var E={value:p,getSnapshot:l};return C.queue=E,tv(Kx.bind(null,x,E,i),[i]),x.flags|=2048,Ol(9,qx.bind(null,x,E,p,l),void 0,null),p},useId:function(){var i=jr(),l=Vt.identifierPrefix;if(St){var p=Gr,x=Xr;p=(x&~(1<<32-On(x)-1)).toString(32)+p,l=":"+l+"R"+p,p=Rl++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=N2++,l=":"+l+"r"+p.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},j2={readContext:Zn,useCallback:sv,useContext:Zn,useEffect:Ip,useImperativeHandle:iv,useInsertionEffect:nv,useLayoutEffect:rv,useMemo:lv,useReducer:Pp,useRef:ev,useState:function(){return Pp(Ml)},useDebugValue:Tp,useDeferredValue:function(i){var l=er();return av(l,zt.memoizedState,i)},useTransition:function(){var i=Pp(Ml)[0],l=er().memoizedState;return[i,l]},useMutableSource:Xx,useSyncExternalStore:Gx,useId:cv,unstable_isNewReconciler:!1},P2={readContext:Zn,useCallback:sv,useContext:Zn,useEffect:Ip,useImperativeHandle:iv,useInsertionEffect:nv,useLayoutEffect:rv,useMemo:lv,useReducer:Ap,useRef:ev,useState:function(){return Ap(Ml)},useDebugValue:Tp,useDeferredValue:function(i){var l=er();return zt===null?l.memoizedState=i:av(l,zt.memoizedState,i)},useTransition:function(){var i=Ap(Ml)[0],l=er().memoizedState;return[i,l]},useMutableSource:Xx,useSyncExternalStore:Gx,useId:cv,unstable_isNewReconciler:!1};function ar(i,l){if(i&&i.defaultProps){l=M({},l),i=i.defaultProps;for(var p in i)l[p]===void 0&&(l[p]=i[p]);return l}return l}function Rp(i,l,p,x){l=i.memoizedState,p=p(x,l),p=p==null?l:M({},l,p),i.memoizedState=p,i.lanes===0&&(i.updateQueue.baseState=p)}var qc={isMounted:function(i){return(i=i._reactInternals)?kr(i)===i:!1},enqueueSetState:function(i,l,p){i=i._reactInternals;var x=xn(),C=ko(i),E=qr(x,C);E.payload=l,p!=null&&(E.callback=p),l=bo(i,E,C),l!==null&&(dr(l,i,C,x),Bc(l,i,C))},enqueueReplaceState:function(i,l,p){i=i._reactInternals;var x=xn(),C=ko(i),E=qr(x,C);E.tag=1,E.payload=l,p!=null&&(E.callback=p),l=bo(i,E,C),l!==null&&(dr(l,i,C,x),Bc(l,i,C))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var p=xn(),x=ko(i),C=qr(p,x);C.tag=2,l!=null&&(C.callback=l),l=bo(i,C,x),l!==null&&(dr(l,i,x,p),Bc(l,i,x))}};function pv(i,l,p,x,C,E,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(x,E,D):l.prototype&&l.prototype.isPureReactComponent?!bl(p,x)||!bl(C,E):!0}function hv(i,l,p){var x=!1,C=xo,E=l.contextType;return typeof E=="object"&&E!==null?E=Zn(E):(C=Sn(l)?ti:Zt.current,x=l.contextTypes,E=(x=x!=null)?Ki(i,C):xo),l=new l(p,E),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=qc,i.stateNode=l,l._reactInternals=i,x&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=C,i.__reactInternalMemoizedMaskedChildContext=E),l}function mv(i,l,p,x){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,x),l.state!==i&&qc.enqueueReplaceState(l,l.state,null)}function Mp(i,l,p,x){var C=i.stateNode;C.props=p,C.state=i.memoizedState,C.refs={},wp(i);var E=l.contextType;typeof E=="object"&&E!==null?C.context=Zn(E):(E=Sn(l)?ti:Zt.current,C.context=Ki(i,E)),C.state=i.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Rp(i,l,E,p),C.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(l=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),l!==C.state&&qc.enqueueReplaceState(C,C.state,null),Vc(i,p,C,x),C.state=i.memoizedState),typeof C.componentDidMount=="function"&&(i.flags|=4194308)}function os(i,l){try{var p="",x=l;do p+=ne(x),x=x.return;while(x);var C=p}catch(E){C=`
Error generating stack: `+E.message+`
`+E.stack}return{value:i,source:l,stack:C,digest:null}}function Op(i,l,p){return{value:i,source:null,stack:p??null,digest:l??null}}function Dp(i,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var A2=typeof WeakMap=="function"?WeakMap:Map;function gv(i,l,p){p=qr(-1,p),p.tag=3,p.payload={element:null};var x=l.value;return p.callback=function(){nu||(nu=!0,Qp=x),Dp(i,l)},p}function yv(i,l,p){p=qr(-1,p),p.tag=3;var x=i.type.getDerivedStateFromError;if(typeof x=="function"){var C=l.value;p.payload=function(){return x(C)},p.callback=function(){Dp(i,l)}}var E=i.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(p.callback=function(){Dp(i,l),typeof x!="function"&&(No===null?No=new Set([this]):No.add(this));var D=l.stack;this.componentDidCatch(l.value,{componentStack:D!==null?D:""})}),p}function xv(i,l,p){var x=i.pingCache;if(x===null){x=i.pingCache=new A2;var C=new Set;x.set(l,C)}else C=x.get(l),C===void 0&&(C=new Set,x.set(l,C));C.has(p)||(C.add(p),i=U2.bind(null,i,l,p),l.then(i,i))}function vv(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function wv(i,l,p,x,C){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(l=qr(-1,1),l.tag=2,bo(p,l,1))),p.lanes|=1),i):(i.flags|=65536,i.lanes=C,i)}var I2=P.ReactCurrentOwner,Nn=!1;function yn(i,l,p,x){l.child=i===null?Fx(l,null,p,x):es(l,i.child,p,x)}function bv(i,l,p,x,C){p=p.render;var E=l.ref;return ns(l,C),x=_p(i,l,p,x,E,C),p=jp(),i!==null&&!Nn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~C,Kr(i,l,C)):(St&&p&&up(l),l.flags|=1,yn(i,l,x,C),l.child)}function Sv(i,l,p,x,C){if(i===null){var E=p.type;return typeof E=="function"&&!oh(E)&&E.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(l.tag=15,l.type=E,Nv(i,l,E,x,C)):(i=au(p.type,null,x,l,l.mode,C),i.ref=l.ref,i.return=l,l.child=i)}if(E=i.child,(i.lanes&C)===0){var D=E.memoizedProps;if(p=p.compare,p=p!==null?p:bl,p(D,x)&&i.ref===l.ref)return Kr(i,l,C)}return l.flags|=1,i=_o(E,x),i.ref=l.ref,i.return=l,l.child=i}function Nv(i,l,p,x,C){if(i!==null){var E=i.memoizedProps;if(bl(E,x)&&i.ref===l.ref)if(Nn=!1,l.pendingProps=x=E,(i.lanes&C)!==0)(i.flags&131072)!==0&&(Nn=!0);else return l.lanes=i.lanes,Kr(i,l,C)}return Lp(i,l,p,x,C)}function Cv(i,l,p){var x=l.pendingProps,C=x.children,E=i!==null?i.memoizedState:null;if(x.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(ss,$n),$n|=p;else{if((p&1073741824)===0)return i=E!==null?E.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,gt(ss,$n),$n|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=E!==null?E.baseLanes:p,gt(ss,$n),$n|=x}else E!==null?(x=E.baseLanes|p,l.memoizedState=null):x=p,gt(ss,$n),$n|=x;return yn(i,l,C,p),l.child}function kv(i,l){var p=l.ref;(i===null&&p!==null||i!==null&&i.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function Lp(i,l,p,x,C){var E=Sn(p)?ti:Zt.current;return E=Ki(l,E),ns(l,C),p=_p(i,l,p,x,E,C),x=jp(),i!==null&&!Nn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~C,Kr(i,l,C)):(St&&x&&up(l),l.flags|=1,yn(i,l,p,C),l.child)}function Ev(i,l,p,x,C){if(Sn(p)){var E=!0;Rc(l)}else E=!1;if(ns(l,C),l.stateNode===null)Qc(i,l),hv(l,p,x),Mp(l,p,x,C),x=!0;else if(i===null){var D=l.stateNode,K=l.memoizedProps;D.props=K;var Z=D.context,ce=p.contextType;typeof ce=="object"&&ce!==null?ce=Zn(ce):(ce=Sn(p)?ti:Zt.current,ce=Ki(l,ce));var he=p.getDerivedStateFromProps,me=typeof he=="function"||typeof D.getSnapshotBeforeUpdate=="function";me||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(K!==x||Z!==ce)&&mv(l,D,x,ce),wo=!1;var pe=l.memoizedState;D.state=pe,Vc(l,x,D,C),Z=l.memoizedState,K!==x||pe!==Z||bn.current||wo?(typeof he=="function"&&(Rp(l,p,he,x),Z=l.memoizedState),(K=wo||pv(l,p,K,x,pe,Z,ce))?(me||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(l.flags|=4194308)):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=Z),D.props=x,D.state=Z,D.context=ce,x=K):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{D=l.stateNode,Vx(i,l),K=l.memoizedProps,ce=l.type===l.elementType?K:ar(l.type,K),D.props=ce,me=l.pendingProps,pe=D.context,Z=p.contextType,typeof Z=="object"&&Z!==null?Z=Zn(Z):(Z=Sn(p)?ti:Zt.current,Z=Ki(l,Z));var Ne=p.getDerivedStateFromProps;(he=typeof Ne=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(K!==me||pe!==Z)&&mv(l,D,x,Z),wo=!1,pe=l.memoizedState,D.state=pe,Vc(l,x,D,C);var _e=l.memoizedState;K!==me||pe!==_e||bn.current||wo?(typeof Ne=="function"&&(Rp(l,p,Ne,x),_e=l.memoizedState),(ce=wo||pv(l,p,ce,x,pe,_e,Z)||!1)?(he||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(x,_e,Z),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(x,_e,Z)),typeof D.componentDidUpdate=="function"&&(l.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof D.componentDidUpdate!="function"||K===i.memoizedProps&&pe===i.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||K===i.memoizedProps&&pe===i.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=_e),D.props=x,D.state=_e,D.context=Z,x=ce):(typeof D.componentDidUpdate!="function"||K===i.memoizedProps&&pe===i.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||K===i.memoizedProps&&pe===i.memoizedState||(l.flags|=1024),x=!1)}return zp(i,l,p,x,E,C)}function zp(i,l,p,x,C,E){kv(i,l);var D=(l.flags&128)!==0;if(!x&&!D)return C&&Ix(l,p,!1),Kr(i,l,E);x=l.stateNode,I2.current=l;var K=D&&typeof p.getDerivedStateFromError!="function"?null:x.render();return l.flags|=1,i!==null&&D?(l.child=es(l,i.child,null,E),l.child=es(l,null,K,E)):yn(i,l,K,E),l.memoizedState=x.state,C&&Ix(l,p,!0),l.child}function _v(i){var l=i.stateNode;l.pendingContext?Px(i,l.pendingContext,l.pendingContext!==l.context):l.context&&Px(i,l.context,!1),bp(i,l.containerInfo)}function jv(i,l,p,x,C){return Zi(),hp(C),l.flags|=256,yn(i,l,p,x),l.child}var $p={dehydrated:null,treeContext:null,retryLane:0};function Fp(i){return{baseLanes:i,cachePool:null,transitions:null}}function Pv(i,l,p){var x=l.pendingProps,C=kt.current,E=!1,D=(l.flags&128)!==0,K;if((K=D)||(K=i!==null&&i.memoizedState===null?!1:(C&2)!==0),K?(E=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(C|=1),gt(kt,C&1),i===null)return pp(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(D=x.children,i=x.fallback,E?(x=l.mode,E=l.child,D={mode:"hidden",children:D},(x&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=D):E=cu(D,x,0,null),i=di(i,x,p,null),E.return=l,i.return=l,E.sibling=i,l.child=E,l.child.memoizedState=Fp(p),l.memoizedState=$p,i):Bp(l,D));if(C=i.memoizedState,C!==null&&(K=C.dehydrated,K!==null))return T2(i,l,D,x,K,C,p);if(E){E=x.fallback,D=l.mode,C=i.child,K=C.sibling;var Z={mode:"hidden",children:x.children};return(D&1)===0&&l.child!==C?(x=l.child,x.childLanes=0,x.pendingProps=Z,l.deletions=null):(x=_o(C,Z),x.subtreeFlags=C.subtreeFlags&14680064),K!==null?E=_o(K,E):(E=di(E,D,p,null),E.flags|=2),E.return=l,x.return=l,x.sibling=E,l.child=x,x=E,E=l.child,D=i.child.memoizedState,D=D===null?Fp(p):{baseLanes:D.baseLanes|p,cachePool:null,transitions:D.transitions},E.memoizedState=D,E.childLanes=i.childLanes&~p,l.memoizedState=$p,x}return E=i.child,i=E.sibling,x=_o(E,{mode:"visible",children:x.children}),(l.mode&1)===0&&(x.lanes=p),x.return=l,x.sibling=null,i!==null&&(p=l.deletions,p===null?(l.deletions=[i],l.flags|=16):p.push(i)),l.child=x,l.memoizedState=null,x}function Bp(i,l){return l=cu({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Kc(i,l,p,x){return x!==null&&hp(x),es(l,i.child,null,p),i=Bp(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function T2(i,l,p,x,C,E,D){if(p)return l.flags&256?(l.flags&=-257,x=Op(Error(n(422))),Kc(i,l,D,x)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(E=x.fallback,C=l.mode,x=cu({mode:"visible",children:x.children},C,0,null),E=di(E,C,D,null),E.flags|=2,x.return=l,E.return=l,x.sibling=E,l.child=x,(l.mode&1)!==0&&es(l,i.child,null,D),l.child.memoizedState=Fp(D),l.memoizedState=$p,E);if((l.mode&1)===0)return Kc(i,l,D,null);if(C.data==="$!"){if(x=C.nextSibling&&C.nextSibling.dataset,x)var K=x.dgst;return x=K,E=Error(n(419)),x=Op(E,x,void 0),Kc(i,l,D,x)}if(K=(D&i.childLanes)!==0,Nn||K){if(x=Vt,x!==null){switch(D&-D){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(x.suspendedLanes|D))!==0?0:C,C!==0&&C!==E.retryLane&&(E.retryLane=C,Yr(i,C),dr(x,i,C,-1))}return rh(),x=Op(Error(n(421))),Kc(i,l,D,x)}return C.data==="$?"?(l.flags|=128,l.child=i.child,l=W2.bind(null,i),C._reactRetry=l,null):(i=E.treeContext,zn=go(C.nextSibling),Ln=l,St=!0,lr=null,i!==null&&(Qn[Jn++]=Xr,Qn[Jn++]=Gr,Qn[Jn++]=ni,Xr=i.id,Gr=i.overflow,ni=l),l=Bp(l,x.children),l.flags|=4096,l)}function Av(i,l,p){i.lanes|=l;var x=i.alternate;x!==null&&(x.lanes|=l),xp(i.return,l,p)}function Vp(i,l,p,x,C){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:C}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=x,E.tail=p,E.tailMode=C)}function Iv(i,l,p){var x=l.pendingProps,C=x.revealOrder,E=x.tail;if(yn(i,l,x.children,p),x=kt.current,(x&2)!==0)x=x&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Av(i,p,l);else if(i.tag===19)Av(i,p,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}x&=1}if(gt(kt,x),(l.mode&1)===0)l.memoizedState=null;else switch(C){case"forwards":for(p=l.child,C=null;p!==null;)i=p.alternate,i!==null&&Hc(i)===null&&(C=p),p=p.sibling;p=C,p===null?(C=l.child,l.child=null):(C=p.sibling,p.sibling=null),Vp(l,!1,C,p,E);break;case"backwards":for(p=null,C=l.child,l.child=null;C!==null;){if(i=C.alternate,i!==null&&Hc(i)===null){l.child=C;break}i=C.sibling,C.sibling=p,p=C,C=i}Vp(l,!0,p,null,E);break;case"together":Vp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Qc(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Kr(i,l,p){if(i!==null&&(l.dependencies=i.dependencies),li|=l.lanes,(p&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,p=_o(i,i.pendingProps),l.child=p,p.return=l;i.sibling!==null;)i=i.sibling,p=p.sibling=_o(i,i.pendingProps),p.return=l;p.sibling=null}return l.child}function R2(i,l,p){switch(l.tag){case 3:_v(l),Zi();break;case 5:Wx(l);break;case 1:Sn(l.type)&&Rc(l);break;case 4:bp(l,l.stateNode.containerInfo);break;case 10:var x=l.type._context,C=l.memoizedProps.value;gt($c,x._currentValue),x._currentValue=C;break;case 13:if(x=l.memoizedState,x!==null)return x.dehydrated!==null?(gt(kt,kt.current&1),l.flags|=128,null):(p&l.child.childLanes)!==0?Pv(i,l,p):(gt(kt,kt.current&1),i=Kr(i,l,p),i!==null?i.sibling:null);gt(kt,kt.current&1);break;case 19:if(x=(p&l.childLanes)!==0,(i.flags&128)!==0){if(x)return Iv(i,l,p);l.flags|=128}if(C=l.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),gt(kt,kt.current),x)break;return null;case 22:case 23:return l.lanes=0,Cv(i,l,p)}return Kr(i,l,p)}var Tv,Hp,Rv,Mv;Tv=function(i,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Hp=function(){},Rv=function(i,l,p,x){var C=i.memoizedProps;if(C!==x){i=l.stateNode,ii(_r.current);var E=null;switch(p){case"input":C=Se(i,C),x=Se(i,x),E=[];break;case"select":C=M({},C,{value:void 0}),x=M({},x,{value:void 0}),E=[];break;case"textarea":C=rt(i,C),x=rt(i,x),E=[];break;default:typeof C.onClick!="function"&&typeof x.onClick=="function"&&(i.onclick=Ac)}bt(p,x);var D;p=null;for(ce in C)if(!x.hasOwnProperty(ce)&&C.hasOwnProperty(ce)&&C[ce]!=null)if(ce==="style"){var K=C[ce];for(D in K)K.hasOwnProperty(D)&&(p||(p={}),p[D]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?E||(E=[]):(E=E||[]).push(ce,null));for(ce in x){var Z=x[ce];if(K=C!=null?C[ce]:void 0,x.hasOwnProperty(ce)&&Z!==K&&(Z!=null||K!=null))if(ce==="style")if(K){for(D in K)!K.hasOwnProperty(D)||Z&&Z.hasOwnProperty(D)||(p||(p={}),p[D]="");for(D in Z)Z.hasOwnProperty(D)&&K[D]!==Z[D]&&(p||(p={}),p[D]=Z[D])}else p||(E||(E=[]),E.push(ce,p)),p=Z;else ce==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,K=K?K.__html:void 0,Z!=null&&K!==Z&&(E=E||[]).push(ce,Z)):ce==="children"?typeof Z!="string"&&typeof Z!="number"||(E=E||[]).push(ce,""+Z):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(Z!=null&&ce==="onScroll"&&vt("scroll",i),E||K===Z||(E=[])):(E=E||[]).push(ce,Z))}p&&(E=E||[]).push("style",p);var ce=E;(l.updateQueue=ce)&&(l.flags|=4)}},Mv=function(i,l,p,x){p!==x&&(l.flags|=4)};function Dl(i,l){if(!St)switch(i.tailMode){case"hidden":l=i.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?i.tail=null:p.sibling=null;break;case"collapsed":p=i.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:x.sibling=null}}function tn(i){var l=i.alternate!==null&&i.alternate.child===i.child,p=0,x=0;if(l)for(var C=i.child;C!==null;)p|=C.lanes|C.childLanes,x|=C.subtreeFlags&14680064,x|=C.flags&14680064,C.return=i,C=C.sibling;else for(C=i.child;C!==null;)p|=C.lanes|C.childLanes,x|=C.subtreeFlags,x|=C.flags,C.return=i,C=C.sibling;return i.subtreeFlags|=x,i.childLanes=p,l}function M2(i,l,p){var x=l.pendingProps;switch(dp(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(l),null;case 1:return Sn(l.type)&&Tc(),tn(l),null;case 3:return x=l.stateNode,rs(),wt(bn),wt(Zt),Cp(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(i===null||i.child===null)&&(Lc(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,lr!==null&&(eh(lr),lr=null))),Hp(i,l),tn(l),null;case 5:Sp(l);var C=ii(Il.current);if(p=l.type,i!==null&&l.stateNode!=null)Rv(i,l,p,x,C),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!x){if(l.stateNode===null)throw Error(n(166));return tn(l),null}if(i=ii(_r.current),Lc(l)){x=l.stateNode,p=l.type;var E=l.memoizedProps;switch(x[Er]=l,x[El]=E,i=(l.mode&1)!==0,p){case"dialog":vt("cancel",x),vt("close",x);break;case"iframe":case"object":case"embed":vt("load",x);break;case"video":case"audio":for(C=0;C<Nl.length;C++)vt(Nl[C],x);break;case"source":vt("error",x);break;case"img":case"image":case"link":vt("error",x),vt("load",x);break;case"details":vt("toggle",x);break;case"input":De(x,E),vt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!E.multiple},vt("invalid",x);break;case"textarea":pt(x,E),vt("invalid",x)}bt(p,E),C=null;for(var D in E)if(E.hasOwnProperty(D)){var K=E[D];D==="children"?typeof K=="string"?x.textContent!==K&&(E.suppressHydrationWarning!==!0&&Pc(x.textContent,K,i),C=["children",K]):typeof K=="number"&&x.textContent!==""+K&&(E.suppressHydrationWarning!==!0&&Pc(x.textContent,K,i),C=["children",""+K]):o.hasOwnProperty(D)&&K!=null&&D==="onScroll"&&vt("scroll",x)}switch(p){case"input":ue(x),ut(x,E,!0);break;case"textarea":ue(x),st(x);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(x.onclick=Ac)}x=C,l.updateQueue=x,x!==null&&(l.flags|=4)}else{D=C.nodeType===9?C:C.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=le(p)),i==="http://www.w3.org/1999/xhtml"?p==="script"?(i=D.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof x.is=="string"?i=D.createElement(p,{is:x.is}):(i=D.createElement(p),p==="select"&&(D=i,x.multiple?D.multiple=!0:x.size&&(D.size=x.size))):i=D.createElementNS(i,p),i[Er]=l,i[El]=x,Tv(i,l,!1,!1),l.stateNode=i;e:{switch(D=Ut(p,x),p){case"dialog":vt("cancel",i),vt("close",i),C=x;break;case"iframe":case"object":case"embed":vt("load",i),C=x;break;case"video":case"audio":for(C=0;C<Nl.length;C++)vt(Nl[C],i);C=x;break;case"source":vt("error",i),C=x;break;case"img":case"image":case"link":vt("error",i),vt("load",i),C=x;break;case"details":vt("toggle",i),C=x;break;case"input":De(i,x),C=Se(i,x),vt("invalid",i);break;case"option":C=x;break;case"select":i._wrapperState={wasMultiple:!!x.multiple},C=M({},x,{value:void 0}),vt("invalid",i);break;case"textarea":pt(i,x),C=rt(i,x),vt("invalid",i);break;default:C=x}bt(p,C),K=C;for(E in K)if(K.hasOwnProperty(E)){var Z=K[E];E==="style"?qn(i,Z):E==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&Ve(i,Z)):E==="children"?typeof Z=="string"?(p!=="textarea"||Z!=="")&&Ke(i,Z):typeof Z=="number"&&Ke(i,""+Z):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(o.hasOwnProperty(E)?Z!=null&&E==="onScroll"&&vt("scroll",i):Z!=null&&k(i,E,Z,D))}switch(p){case"input":ue(i),ut(i,x,!1);break;case"textarea":ue(i),st(i);break;case"option":x.value!=null&&i.setAttribute("value",""+Q(x.value));break;case"select":i.multiple=!!x.multiple,E=x.value,E!=null?He(i,!!x.multiple,E,!1):x.defaultValue!=null&&He(i,!!x.multiple,x.defaultValue,!0);break;default:typeof C.onClick=="function"&&(i.onclick=Ac)}switch(p){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return tn(l),null;case 6:if(i&&l.stateNode!=null)Mv(i,l,i.memoizedProps,x);else{if(typeof x!="string"&&l.stateNode===null)throw Error(n(166));if(p=ii(Il.current),ii(_r.current),Lc(l)){if(x=l.stateNode,p=l.memoizedProps,x[Er]=l,(E=x.nodeValue!==p)&&(i=Ln,i!==null))switch(i.tag){case 3:Pc(x.nodeValue,p,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Pc(x.nodeValue,p,(i.mode&1)!==0)}E&&(l.flags|=4)}else x=(p.nodeType===9?p:p.ownerDocument).createTextNode(x),x[Er]=l,l.stateNode=x}return tn(l),null;case 13:if(wt(kt),x=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(St&&zn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Lx(),Zi(),l.flags|=98560,E=!1;else if(E=Lc(l),x!==null&&x.dehydrated!==null){if(i===null){if(!E)throw Error(n(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Er]=l}else Zi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;tn(l),E=!1}else lr!==null&&(eh(lr),lr=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=p,l):(x=x!==null,x!==(i!==null&&i.memoizedState!==null)&&x&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(kt.current&1)!==0?$t===0&&($t=3):rh())),l.updateQueue!==null&&(l.flags|=4),tn(l),null);case 4:return rs(),Hp(i,l),i===null&&Cl(l.stateNode.containerInfo),tn(l),null;case 10:return yp(l.type._context),tn(l),null;case 17:return Sn(l.type)&&Tc(),tn(l),null;case 19:if(wt(kt),E=l.memoizedState,E===null)return tn(l),null;if(x=(l.flags&128)!==0,D=E.rendering,D===null)if(x)Dl(E,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(D=Hc(i),D!==null){for(l.flags|=128,Dl(E,!1),x=D.updateQueue,x!==null&&(l.updateQueue=x,l.flags|=4),l.subtreeFlags=0,x=p,p=l.child;p!==null;)E=p,i=x,E.flags&=14680066,D=E.alternate,D===null?(E.childLanes=0,E.lanes=i,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=D.childLanes,E.lanes=D.lanes,E.child=D.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=D.memoizedProps,E.memoizedState=D.memoizedState,E.updateQueue=D.updateQueue,E.type=D.type,i=D.dependencies,E.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),p=p.sibling;return gt(kt,kt.current&1|2),l.child}i=i.sibling}E.tail!==null&&Ct()>ls&&(l.flags|=128,x=!0,Dl(E,!1),l.lanes=4194304)}else{if(!x)if(i=Hc(D),i!==null){if(l.flags|=128,x=!0,p=i.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),Dl(E,!0),E.tail===null&&E.tailMode==="hidden"&&!D.alternate&&!St)return tn(l),null}else 2*Ct()-E.renderingStartTime>ls&&p!==1073741824&&(l.flags|=128,x=!0,Dl(E,!1),l.lanes=4194304);E.isBackwards?(D.sibling=l.child,l.child=D):(p=E.last,p!==null?p.sibling=D:l.child=D,E.last=D)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=Ct(),l.sibling=null,p=kt.current,gt(kt,x?p&1|2:p&1),l):(tn(l),null);case 22:case 23:return nh(),x=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==x&&(l.flags|=8192),x&&(l.mode&1)!==0?($n&1073741824)!==0&&(tn(l),l.subtreeFlags&6&&(l.flags|=8192)):tn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function O2(i,l){switch(dp(l),l.tag){case 1:return Sn(l.type)&&Tc(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return rs(),wt(bn),wt(Zt),Cp(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Sp(l),null;case 13:if(wt(kt),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Zi()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return wt(kt),null;case 4:return rs(),null;case 10:return yp(l.type._context),null;case 22:case 23:return nh(),null;case 24:return null;default:return null}}var Jc=!1,nn=!1,D2=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function is(i,l){var p=i.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(x){jt(i,l,x)}else p.current=null}function Up(i,l,p){try{p()}catch(x){jt(i,l,x)}}var Ov=!1;function L2(i,l){if(np=xc,i=px(),Yf(i)){if("selectionStart"in i)var p={start:i.selectionStart,end:i.selectionEnd};else e:{p=(p=i.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var C=x.anchorOffset,E=x.focusNode;x=x.focusOffset;try{p.nodeType,E.nodeType}catch{p=null;break e}var D=0,K=-1,Z=-1,ce=0,he=0,me=i,pe=null;t:for(;;){for(var Ne;me!==p||C!==0&&me.nodeType!==3||(K=D+C),me!==E||x!==0&&me.nodeType!==3||(Z=D+x),me.nodeType===3&&(D+=me.nodeValue.length),(Ne=me.firstChild)!==null;)pe=me,me=Ne;for(;;){if(me===i)break t;if(pe===p&&++ce===C&&(K=D),pe===E&&++he===x&&(Z=D),(Ne=me.nextSibling)!==null)break;me=pe,pe=me.parentNode}me=Ne}p=K===-1||Z===-1?null:{start:K,end:Z}}else p=null}p=p||{start:0,end:0}}else p=null;for(rp={focusedElem:i,selectionRange:p},xc=!1,Ce=l;Ce!==null;)if(l=Ce,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Ce=i;else for(;Ce!==null;){l=Ce;try{var _e=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var Te=_e.memoizedProps,Tt=_e.memoizedState,re=l.stateNode,ee=re.getSnapshotBeforeUpdate(l.elementType===l.type?Te:ar(l.type,Te),Tt);re.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var se=l.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ve){jt(l,l.return,ve)}if(i=l.sibling,i!==null){i.return=l.return,Ce=i;break}Ce=l.return}return _e=Ov,Ov=!1,_e}function Ll(i,l,p){var x=l.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var C=x=x.next;do{if((C.tag&i)===i){var E=C.destroy;C.destroy=void 0,E!==void 0&&Up(l,p,E)}C=C.next}while(C!==x)}}function Zc(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&i)===i){var x=p.create;p.destroy=x()}p=p.next}while(p!==l)}}function Wp(i){var l=i.ref;if(l!==null){var p=i.stateNode;switch(i.tag){case 5:i=p;break;default:i=p}typeof l=="function"?l(i):l.current=i}}function Dv(i){var l=i.alternate;l!==null&&(i.alternate=null,Dv(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[Er],delete l[El],delete l[lp],delete l[v2],delete l[w2])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Lv(i){return i.tag===5||i.tag===3||i.tag===4}function zv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Lv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xp(i,l,p){var x=i.tag;if(x===5||x===6)i=i.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(i,l):p.insertBefore(i,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(i,p)):(l=p,l.appendChild(i)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=Ac));else if(x!==4&&(i=i.child,i!==null))for(Xp(i,l,p),i=i.sibling;i!==null;)Xp(i,l,p),i=i.sibling}function Gp(i,l,p){var x=i.tag;if(x===5||x===6)i=i.stateNode,l?p.insertBefore(i,l):p.appendChild(i);else if(x!==4&&(i=i.child,i!==null))for(Gp(i,l,p),i=i.sibling;i!==null;)Gp(i,l,p),i=i.sibling}var Xt=null,cr=!1;function So(i,l,p){for(p=p.child;p!==null;)$v(i,l,p),p=p.sibling}function $v(i,l,p){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(zi,p)}catch{}switch(p.tag){case 5:nn||is(p,l);case 6:var x=Xt,C=cr;Xt=null,So(i,l,p),Xt=x,cr=C,Xt!==null&&(cr?(i=Xt,p=p.stateNode,i.nodeType===8?i.parentNode.removeChild(p):i.removeChild(p)):Xt.removeChild(p.stateNode));break;case 18:Xt!==null&&(cr?(i=Xt,p=p.stateNode,i.nodeType===8?sp(i.parentNode,p):i.nodeType===1&&sp(i,p),ml(i)):sp(Xt,p.stateNode));break;case 4:x=Xt,C=cr,Xt=p.stateNode.containerInfo,cr=!0,So(i,l,p),Xt=x,cr=C;break;case 0:case 11:case 14:case 15:if(!nn&&(x=p.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){C=x=x.next;do{var E=C,D=E.destroy;E=E.tag,D!==void 0&&((E&2)!==0||(E&4)!==0)&&Up(p,l,D),C=C.next}while(C!==x)}So(i,l,p);break;case 1:if(!nn&&(is(p,l),x=p.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=p.memoizedProps,x.state=p.memoizedState,x.componentWillUnmount()}catch(K){jt(p,l,K)}So(i,l,p);break;case 21:So(i,l,p);break;case 22:p.mode&1?(nn=(x=nn)||p.memoizedState!==null,So(i,l,p),nn=x):So(i,l,p);break;default:So(i,l,p)}}function Fv(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var p=i.stateNode;p===null&&(p=i.stateNode=new D2),l.forEach(function(x){var C=X2.bind(null,i,x);p.has(x)||(p.add(x),x.then(C,C))})}}function ur(i,l){var p=l.deletions;if(p!==null)for(var x=0;x<p.length;x++){var C=p[x];try{var E=i,D=l,K=D;e:for(;K!==null;){switch(K.tag){case 5:Xt=K.stateNode,cr=!1;break e;case 3:Xt=K.stateNode.containerInfo,cr=!0;break e;case 4:Xt=K.stateNode.containerInfo,cr=!0;break e}K=K.return}if(Xt===null)throw Error(n(160));$v(E,D,C),Xt=null,cr=!1;var Z=C.alternate;Z!==null&&(Z.return=null),C.return=null}catch(ce){jt(C,l,ce)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Bv(l,i),l=l.sibling}function Bv(i,l){var p=i.alternate,x=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ur(l,i),Pr(i),x&4){try{Ll(3,i,i.return),Zc(3,i)}catch(Te){jt(i,i.return,Te)}try{Ll(5,i,i.return)}catch(Te){jt(i,i.return,Te)}}break;case 1:ur(l,i),Pr(i),x&512&&p!==null&&is(p,p.return);break;case 5:if(ur(l,i),Pr(i),x&512&&p!==null&&is(p,p.return),i.flags&32){var C=i.stateNode;try{Ke(C,"")}catch(Te){jt(i,i.return,Te)}}if(x&4&&(C=i.stateNode,C!=null)){var E=i.memoizedProps,D=p!==null?p.memoizedProps:E,K=i.type,Z=i.updateQueue;if(i.updateQueue=null,Z!==null)try{K==="input"&&E.type==="radio"&&E.name!=null&&We(C,E),Ut(K,D);var ce=Ut(K,E);for(D=0;D<Z.length;D+=2){var he=Z[D],me=Z[D+1];he==="style"?qn(C,me):he==="dangerouslySetInnerHTML"?Ve(C,me):he==="children"?Ke(C,me):k(C,he,me,ce)}switch(K){case"input":ft(C,E);break;case"textarea":At(C,E);break;case"select":var pe=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!E.multiple;var Ne=E.value;Ne!=null?He(C,!!E.multiple,Ne,!1):pe!==!!E.multiple&&(E.defaultValue!=null?He(C,!!E.multiple,E.defaultValue,!0):He(C,!!E.multiple,E.multiple?[]:"",!1))}C[El]=E}catch(Te){jt(i,i.return,Te)}}break;case 6:if(ur(l,i),Pr(i),x&4){if(i.stateNode===null)throw Error(n(162));C=i.stateNode,E=i.memoizedProps;try{C.nodeValue=E}catch(Te){jt(i,i.return,Te)}}break;case 3:if(ur(l,i),Pr(i),x&4&&p!==null&&p.memoizedState.isDehydrated)try{ml(l.containerInfo)}catch(Te){jt(i,i.return,Te)}break;case 4:ur(l,i),Pr(i);break;case 13:ur(l,i),Pr(i),C=i.child,C.flags&8192&&(E=C.memoizedState!==null,C.stateNode.isHidden=E,!E||C.alternate!==null&&C.alternate.memoizedState!==null||(Kp=Ct())),x&4&&Fv(i);break;case 22:if(he=p!==null&&p.memoizedState!==null,i.mode&1?(nn=(ce=nn)||he,ur(l,i),nn=ce):ur(l,i),Pr(i),x&8192){if(ce=i.memoizedState!==null,(i.stateNode.isHidden=ce)&&!he&&(i.mode&1)!==0)for(Ce=i,he=i.child;he!==null;){for(me=Ce=he;Ce!==null;){switch(pe=Ce,Ne=pe.child,pe.tag){case 0:case 11:case 14:case 15:Ll(4,pe,pe.return);break;case 1:is(pe,pe.return);var _e=pe.stateNode;if(typeof _e.componentWillUnmount=="function"){x=pe,p=pe.return;try{l=x,_e.props=l.memoizedProps,_e.state=l.memoizedState,_e.componentWillUnmount()}catch(Te){jt(x,p,Te)}}break;case 5:is(pe,pe.return);break;case 22:if(pe.memoizedState!==null){Uv(me);continue}}Ne!==null?(Ne.return=pe,Ce=Ne):Uv(me)}he=he.sibling}e:for(he=null,me=i;;){if(me.tag===5){if(he===null){he=me;try{C=me.stateNode,ce?(E=C.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(K=me.stateNode,Z=me.memoizedProps.style,D=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,K.style.display=Qt("display",D))}catch(Te){jt(i,i.return,Te)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=ce?"":me.memoizedProps}catch(Te){jt(i,i.return,Te)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===i)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===i)break e;for(;me.sibling===null;){if(me.return===null||me.return===i)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:ur(l,i),Pr(i),x&4&&Fv(i);break;case 21:break;default:ur(l,i),Pr(i)}}function Pr(i){var l=i.flags;if(l&2){try{e:{for(var p=i.return;p!==null;){if(Lv(p)){var x=p;break e}p=p.return}throw Error(n(160))}switch(x.tag){case 5:var C=x.stateNode;x.flags&32&&(Ke(C,""),x.flags&=-33);var E=zv(i);Gp(i,E,C);break;case 3:case 4:var D=x.stateNode.containerInfo,K=zv(i);Xp(i,K,D);break;default:throw Error(n(161))}}catch(Z){jt(i,i.return,Z)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function z2(i,l,p){Ce=i,Vv(i)}function Vv(i,l,p){for(var x=(i.mode&1)!==0;Ce!==null;){var C=Ce,E=C.child;if(C.tag===22&&x){var D=C.memoizedState!==null||Jc;if(!D){var K=C.alternate,Z=K!==null&&K.memoizedState!==null||nn;K=Jc;var ce=nn;if(Jc=D,(nn=Z)&&!ce)for(Ce=C;Ce!==null;)D=Ce,Z=D.child,D.tag===22&&D.memoizedState!==null?Wv(C):Z!==null?(Z.return=D,Ce=Z):Wv(C);for(;E!==null;)Ce=E,Vv(E),E=E.sibling;Ce=C,Jc=K,nn=ce}Hv(i)}else(C.subtreeFlags&8772)!==0&&E!==null?(E.return=C,Ce=E):Hv(i)}}function Hv(i){for(;Ce!==null;){var l=Ce;if((l.flags&8772)!==0){var p=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:nn||Zc(5,l);break;case 1:var x=l.stateNode;if(l.flags&4&&!nn)if(p===null)x.componentDidMount();else{var C=l.elementType===l.type?p.memoizedProps:ar(l.type,p.memoizedProps);x.componentDidUpdate(C,p.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&Ux(l,E,x);break;case 3:var D=l.updateQueue;if(D!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=l.child.stateNode;break;case 1:p=l.child.stateNode}Ux(l,D,p)}break;case 5:var K=l.stateNode;if(p===null&&l.flags&4){p=K;var Z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&p.focus();break;case"img":Z.src&&(p.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ce=l.alternate;if(ce!==null){var he=ce.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&ml(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}nn||l.flags&512&&Wp(l)}catch(pe){jt(l,l.return,pe)}}if(l===i){Ce=null;break}if(p=l.sibling,p!==null){p.return=l.return,Ce=p;break}Ce=l.return}}function Uv(i){for(;Ce!==null;){var l=Ce;if(l===i){Ce=null;break}var p=l.sibling;if(p!==null){p.return=l.return,Ce=p;break}Ce=l.return}}function Wv(i){for(;Ce!==null;){var l=Ce;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{Zc(4,l)}catch(Z){jt(l,p,Z)}break;case 1:var x=l.stateNode;if(typeof x.componentDidMount=="function"){var C=l.return;try{x.componentDidMount()}catch(Z){jt(l,C,Z)}}var E=l.return;try{Wp(l)}catch(Z){jt(l,E,Z)}break;case 5:var D=l.return;try{Wp(l)}catch(Z){jt(l,D,Z)}}}catch(Z){jt(l,l.return,Z)}if(l===i){Ce=null;break}var K=l.sibling;if(K!==null){K.return=l.return,Ce=K;break}Ce=l.return}}var $2=Math.ceil,eu=P.ReactCurrentDispatcher,Yp=P.ReactCurrentOwner,tr=P.ReactCurrentBatchConfig,lt=0,Vt=null,Ot=null,Gt=0,$n=0,ss=yo(0),$t=0,zl=null,li=0,tu=0,qp=0,$l=null,Cn=null,Kp=0,ls=1/0,Qr=null,nu=!1,Qp=null,No=null,ru=!1,Co=null,ou=0,Fl=0,Jp=null,iu=-1,su=0;function xn(){return(lt&6)!==0?Ct():iu!==-1?iu:iu=Ct()}function ko(i){return(i.mode&1)===0?1:(lt&2)!==0&&Gt!==0?Gt&-Gt:S2.transition!==null?(su===0&&(su=zy()),su):(i=ht,i!==0||(i=window.event,i=i===void 0?16:Gy(i.type)),i)}function dr(i,l,p,x){if(50<Fl)throw Fl=0,Jp=null,Error(n(185));ul(i,p,x),((lt&2)===0||i!==Vt)&&(i===Vt&&((lt&2)===0&&(tu|=p),$t===4&&Eo(i,Gt)),kn(i,x),p===1&&lt===0&&(l.mode&1)===0&&(ls=Ct()+500,Mc&&vo()))}function kn(i,l){var p=i.callbackNode;Tf(i,l);var x=ao(i,i===Vt?Gt:0);if(x===0)p!==null&&pc(p),i.callbackNode=null,i.callbackPriority=0;else if(l=x&-x,i.callbackPriority!==l){if(p!=null&&pc(p),l===1)i.tag===0?b2(Gv.bind(null,i)):Tx(Gv.bind(null,i)),y2(function(){(lt&6)===0&&vo()}),p=null;else{switch($y(x)){case 1:p=al;break;case 4:p=mc;break;case 16:p=Li;break;case 536870912:p=cl;break;default:p=Li}p=t0(p,Xv.bind(null,i))}i.callbackPriority=l,i.callbackNode=p}}function Xv(i,l){if(iu=-1,su=0,(lt&6)!==0)throw Error(n(327));var p=i.callbackNode;if(as()&&i.callbackNode!==p)return null;var x=ao(i,i===Vt?Gt:0);if(x===0)return null;if((x&30)!==0||(x&i.expiredLanes)!==0||l)l=lu(i,x);else{l=x;var C=lt;lt|=2;var E=qv();(Vt!==i||Gt!==l)&&(Qr=null,ls=Ct()+500,ci(i,l));do try{V2();break}catch(K){Yv(i,K)}while(!0);gp(),eu.current=E,lt=C,Ot!==null?l=0:(Vt=null,Gt=0,l=$t)}if(l!==0){if(l===2&&(C=Fi(i),C!==0&&(x=C,l=Zp(i,C))),l===1)throw p=zl,ci(i,0),Eo(i,x),kn(i,Ct()),p;if(l===6)Eo(i,x);else{if(C=i.current.alternate,(x&30)===0&&!F2(C)&&(l=lu(i,x),l===2&&(E=Fi(i),E!==0&&(x=E,l=Zp(i,E))),l===1))throw p=zl,ci(i,0),Eo(i,x),kn(i,Ct()),p;switch(i.finishedWork=C,i.finishedLanes=x,l){case 0:case 1:throw Error(n(345));case 2:ui(i,Cn,Qr);break;case 3:if(Eo(i,x),(x&130023424)===x&&(l=Kp+500-Ct(),10<l)){if(ao(i,0)!==0)break;if(C=i.suspendedLanes,(C&x)!==x){xn(),i.pingedLanes|=i.suspendedLanes&C;break}i.timeoutHandle=ip(ui.bind(null,i,Cn,Qr),l);break}ui(i,Cn,Qr);break;case 4:if(Eo(i,x),(x&4194240)===x)break;for(l=i.eventTimes,C=-1;0<x;){var D=31-On(x);E=1<<D,D=l[D],D>C&&(C=D),x&=~E}if(x=C,x=Ct()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*$2(x/1960))-x,10<x){i.timeoutHandle=ip(ui.bind(null,i,Cn,Qr),x);break}ui(i,Cn,Qr);break;case 5:ui(i,Cn,Qr);break;default:throw Error(n(329))}}}return kn(i,Ct()),i.callbackNode===p?Xv.bind(null,i):null}function Zp(i,l){var p=$l;return i.current.memoizedState.isDehydrated&&(ci(i,l).flags|=256),i=lu(i,l),i!==2&&(l=Cn,Cn=p,l!==null&&eh(l)),i}function eh(i){Cn===null?Cn=i:Cn.push.apply(Cn,i)}function F2(i){for(var l=i;;){if(l.flags&16384){var p=l.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var x=0;x<p.length;x++){var C=p[x],E=C.getSnapshot;C=C.value;try{if(!sr(E(),C))return!1}catch{return!1}}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Eo(i,l){for(l&=~qp,l&=~tu,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var p=31-On(l),x=1<<p;i[p]=-1,l&=~x}}function Gv(i){if((lt&6)!==0)throw Error(n(327));as();var l=ao(i,0);if((l&1)===0)return kn(i,Ct()),null;var p=lu(i,l);if(i.tag!==0&&p===2){var x=Fi(i);x!==0&&(l=x,p=Zp(i,x))}if(p===1)throw p=zl,ci(i,0),Eo(i,l),kn(i,Ct()),p;if(p===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,ui(i,Cn,Qr),kn(i,Ct()),null}function th(i,l){var p=lt;lt|=1;try{return i(l)}finally{lt=p,lt===0&&(ls=Ct()+500,Mc&&vo())}}function ai(i){Co!==null&&Co.tag===0&&(lt&6)===0&&as();var l=lt;lt|=1;var p=tr.transition,x=ht;try{if(tr.transition=null,ht=1,i)return i()}finally{ht=x,tr.transition=p,lt=l,(lt&6)===0&&vo()}}function nh(){$n=ss.current,wt(ss)}function ci(i,l){i.finishedWork=null,i.finishedLanes=0;var p=i.timeoutHandle;if(p!==-1&&(i.timeoutHandle=-1,g2(p)),Ot!==null)for(p=Ot.return;p!==null;){var x=p;switch(dp(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Tc();break;case 3:rs(),wt(bn),wt(Zt),Cp();break;case 5:Sp(x);break;case 4:rs();break;case 13:wt(kt);break;case 19:wt(kt);break;case 10:yp(x.type._context);break;case 22:case 23:nh()}p=p.return}if(Vt=i,Ot=i=_o(i.current,null),Gt=$n=l,$t=0,zl=null,qp=tu=li=0,Cn=$l=null,oi!==null){for(l=0;l<oi.length;l++)if(p=oi[l],x=p.interleaved,x!==null){p.interleaved=null;var C=x.next,E=p.pending;if(E!==null){var D=E.next;E.next=C,x.next=D}p.pending=x}oi=null}return i}function Yv(i,l){do{var p=Ot;try{if(gp(),Uc.current=Yc,Wc){for(var x=Et.memoizedState;x!==null;){var C=x.queue;C!==null&&(C.pending=null),x=x.next}Wc=!1}if(si=0,Bt=zt=Et=null,Tl=!1,Rl=0,Yp.current=null,p===null||p.return===null){$t=1,zl=l,Ot=null;break}e:{var E=i,D=p.return,K=p,Z=l;if(l=Gt,K.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ce=Z,he=K,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var pe=he.alternate;pe?(he.updateQueue=pe.updateQueue,he.memoizedState=pe.memoizedState,he.lanes=pe.lanes):(he.updateQueue=null,he.memoizedState=null)}var Ne=vv(D);if(Ne!==null){Ne.flags&=-257,wv(Ne,D,K,E,l),Ne.mode&1&&xv(E,ce,l),l=Ne,Z=ce;var _e=l.updateQueue;if(_e===null){var Te=new Set;Te.add(Z),l.updateQueue=Te}else _e.add(Z);break e}else{if((l&1)===0){xv(E,ce,l),rh();break e}Z=Error(n(426))}}else if(St&&K.mode&1){var Tt=vv(D);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),wv(Tt,D,K,E,l),hp(os(Z,K));break e}}E=Z=os(Z,K),$t!==4&&($t=2),$l===null?$l=[E]:$l.push(E),E=D;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var re=gv(E,Z,l);Hx(E,re);break e;case 1:K=Z;var ee=E.type,se=E.stateNode;if((E.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(No===null||!No.has(se)))){E.flags|=65536,l&=-l,E.lanes|=l;var ve=yv(E,K,l);Hx(E,ve);break e}}E=E.return}while(E!==null)}Qv(p)}catch(Me){l=Me,Ot===p&&p!==null&&(Ot=p=p.return);continue}break}while(!0)}function qv(){var i=eu.current;return eu.current=Yc,i===null?Yc:i}function rh(){($t===0||$t===3||$t===2)&&($t=4),Vt===null||(li&268435455)===0&&(tu&268435455)===0||Eo(Vt,Gt)}function lu(i,l){var p=lt;lt|=2;var x=qv();(Vt!==i||Gt!==l)&&(Qr=null,ci(i,l));do try{B2();break}catch(C){Yv(i,C)}while(!0);if(gp(),lt=p,eu.current=x,Ot!==null)throw Error(n(261));return Vt=null,Gt=0,$t}function B2(){for(;Ot!==null;)Kv(Ot)}function V2(){for(;Ot!==null&&!hc();)Kv(Ot)}function Kv(i){var l=e0(i.alternate,i,$n);i.memoizedProps=i.pendingProps,l===null?Qv(i):Ot=l,Yp.current=null}function Qv(i){var l=i;do{var p=l.alternate;if(i=l.return,(l.flags&32768)===0){if(p=M2(p,l,$n),p!==null){Ot=p;return}}else{if(p=O2(p,l),p!==null){p.flags&=32767,Ot=p;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{$t=6,Ot=null;return}}if(l=l.sibling,l!==null){Ot=l;return}Ot=l=i}while(l!==null);$t===0&&($t=5)}function ui(i,l,p){var x=ht,C=tr.transition;try{tr.transition=null,ht=1,H2(i,l,p,x)}finally{tr.transition=C,ht=x}return null}function H2(i,l,p,x){do as();while(Co!==null);if((lt&6)!==0)throw Error(n(327));p=i.finishedWork;var C=i.finishedLanes;if(p===null)return null;if(i.finishedWork=null,i.finishedLanes=0,p===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var E=p.lanes|p.childLanes;if(Nj(i,E),i===Vt&&(Ot=Vt=null,Gt=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||ru||(ru=!0,t0(Li,function(){return as(),null})),E=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||E){E=tr.transition,tr.transition=null;var D=ht;ht=1;var K=lt;lt|=4,Yp.current=null,L2(i,p),Bv(p,i),c2(rp),xc=!!np,rp=np=null,i.current=p,z2(p),Cf(),lt=K,ht=D,tr.transition=E}else i.current=p;if(ru&&(ru=!1,Co=i,ou=C),E=i.pendingLanes,E===0&&(No=null),_f(p.stateNode),kn(i,Ct()),l!==null)for(x=i.onRecoverableError,p=0;p<l.length;p++)C=l[p],x(C.value,{componentStack:C.stack,digest:C.digest});if(nu)throw nu=!1,i=Qp,Qp=null,i;return(ou&1)!==0&&i.tag!==0&&as(),E=i.pendingLanes,(E&1)!==0?i===Jp?Fl++:(Fl=0,Jp=i):Fl=0,vo(),null}function as(){if(Co!==null){var i=$y(ou),l=tr.transition,p=ht;try{if(tr.transition=null,ht=16>i?16:i,Co===null)var x=!1;else{if(i=Co,Co=null,ou=0,(lt&6)!==0)throw Error(n(331));var C=lt;for(lt|=4,Ce=i.current;Ce!==null;){var E=Ce,D=E.child;if((Ce.flags&16)!==0){var K=E.deletions;if(K!==null){for(var Z=0;Z<K.length;Z++){var ce=K[Z];for(Ce=ce;Ce!==null;){var he=Ce;switch(he.tag){case 0:case 11:case 15:Ll(8,he,E)}var me=he.child;if(me!==null)me.return=he,Ce=me;else for(;Ce!==null;){he=Ce;var pe=he.sibling,Ne=he.return;if(Dv(he),he===ce){Ce=null;break}if(pe!==null){pe.return=Ne,Ce=pe;break}Ce=Ne}}}var _e=E.alternate;if(_e!==null){var Te=_e.child;if(Te!==null){_e.child=null;do{var Tt=Te.sibling;Te.sibling=null,Te=Tt}while(Te!==null)}}Ce=E}}if((E.subtreeFlags&2064)!==0&&D!==null)D.return=E,Ce=D;else e:for(;Ce!==null;){if(E=Ce,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Ll(9,E,E.return)}var re=E.sibling;if(re!==null){re.return=E.return,Ce=re;break e}Ce=E.return}}var ee=i.current;for(Ce=ee;Ce!==null;){D=Ce;var se=D.child;if((D.subtreeFlags&2064)!==0&&se!==null)se.return=D,Ce=se;else e:for(D=ee;Ce!==null;){if(K=Ce,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Zc(9,K)}}catch(Me){jt(K,K.return,Me)}if(K===D){Ce=null;break e}var ve=K.sibling;if(ve!==null){ve.return=K.return,Ce=ve;break e}Ce=K.return}}if(lt=C,vo(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(zi,i)}catch{}x=!0}return x}finally{ht=p,tr.transition=l}}return!1}function Jv(i,l,p){l=os(p,l),l=gv(i,l,1),i=bo(i,l,1),l=xn(),i!==null&&(ul(i,1,l),kn(i,l))}function jt(i,l,p){if(i.tag===3)Jv(i,i,p);else for(;l!==null;){if(l.tag===3){Jv(l,i,p);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(No===null||!No.has(x))){i=os(p,i),i=yv(l,i,1),l=bo(l,i,1),i=xn(),l!==null&&(ul(l,1,i),kn(l,i));break}}l=l.return}}function U2(i,l,p){var x=i.pingCache;x!==null&&x.delete(l),l=xn(),i.pingedLanes|=i.suspendedLanes&p,Vt===i&&(Gt&p)===p&&($t===4||$t===3&&(Gt&130023424)===Gt&&500>Ct()-Kp?ci(i,0):qp|=p),kn(i,l)}function Zv(i,l){l===0&&((i.mode&1)===0?l=1:(l=$i,$i<<=1,($i&130023424)===0&&($i=4194304)));var p=xn();i=Yr(i,l),i!==null&&(ul(i,l,p),kn(i,p))}function W2(i){var l=i.memoizedState,p=0;l!==null&&(p=l.retryLane),Zv(i,p)}function X2(i,l){var p=0;switch(i.tag){case 13:var x=i.stateNode,C=i.memoizedState;C!==null&&(p=C.retryLane);break;case 19:x=i.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(l),Zv(i,p)}var e0;e0=function(i,l,p){if(i!==null)if(i.memoizedProps!==l.pendingProps||bn.current)Nn=!0;else{if((i.lanes&p)===0&&(l.flags&128)===0)return Nn=!1,R2(i,l,p);Nn=(i.flags&131072)!==0}else Nn=!1,St&&(l.flags&1048576)!==0&&Rx(l,Dc,l.index);switch(l.lanes=0,l.tag){case 2:var x=l.type;Qc(i,l),i=l.pendingProps;var C=Ki(l,Zt.current);ns(l,p),C=_p(null,l,x,i,C,p);var E=jp();return l.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Sn(x)?(E=!0,Rc(l)):E=!1,l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,wp(l),C.updater=qc,l.stateNode=C,C._reactInternals=l,Mp(l,x,i,p),l=zp(null,l,x,!0,E,p)):(l.tag=0,St&&E&&up(l),yn(null,l,C,p),l=l.child),l;case 16:x=l.elementType;e:{switch(Qc(i,l),i=l.pendingProps,C=x._init,x=C(x._payload),l.type=x,C=l.tag=Y2(x),i=ar(x,i),C){case 0:l=Lp(null,l,x,i,p);break e;case 1:l=Ev(null,l,x,i,p);break e;case 11:l=bv(null,l,x,i,p);break e;case 14:l=Sv(null,l,x,ar(x.type,i),p);break e}throw Error(n(306,x,""))}return l;case 0:return x=l.type,C=l.pendingProps,C=l.elementType===x?C:ar(x,C),Lp(i,l,x,C,p);case 1:return x=l.type,C=l.pendingProps,C=l.elementType===x?C:ar(x,C),Ev(i,l,x,C,p);case 3:e:{if(_v(l),i===null)throw Error(n(387));x=l.pendingProps,E=l.memoizedState,C=E.element,Vx(i,l),Vc(l,x,null,p);var D=l.memoizedState;if(x=D.element,E.isDehydrated)if(E={element:x,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){C=os(Error(n(423)),l),l=jv(i,l,x,p,C);break e}else if(x!==C){C=os(Error(n(424)),l),l=jv(i,l,x,p,C);break e}else for(zn=go(l.stateNode.containerInfo.firstChild),Ln=l,St=!0,lr=null,p=Fx(l,null,x,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Zi(),x===C){l=Kr(i,l,p);break e}yn(i,l,x,p)}l=l.child}return l;case 5:return Wx(l),i===null&&pp(l),x=l.type,C=l.pendingProps,E=i!==null?i.memoizedProps:null,D=C.children,op(x,C)?D=null:E!==null&&op(x,E)&&(l.flags|=32),kv(i,l),yn(i,l,D,p),l.child;case 6:return i===null&&pp(l),null;case 13:return Pv(i,l,p);case 4:return bp(l,l.stateNode.containerInfo),x=l.pendingProps,i===null?l.child=es(l,null,x,p):yn(i,l,x,p),l.child;case 11:return x=l.type,C=l.pendingProps,C=l.elementType===x?C:ar(x,C),bv(i,l,x,C,p);case 7:return yn(i,l,l.pendingProps,p),l.child;case 8:return yn(i,l,l.pendingProps.children,p),l.child;case 12:return yn(i,l,l.pendingProps.children,p),l.child;case 10:e:{if(x=l.type._context,C=l.pendingProps,E=l.memoizedProps,D=C.value,gt($c,x._currentValue),x._currentValue=D,E!==null)if(sr(E.value,D)){if(E.children===C.children&&!bn.current){l=Kr(i,l,p);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var K=E.dependencies;if(K!==null){D=E.child;for(var Z=K.firstContext;Z!==null;){if(Z.context===x){if(E.tag===1){Z=qr(-1,p&-p),Z.tag=2;var ce=E.updateQueue;if(ce!==null){ce=ce.shared;var he=ce.pending;he===null?Z.next=Z:(Z.next=he.next,he.next=Z),ce.pending=Z}}E.lanes|=p,Z=E.alternate,Z!==null&&(Z.lanes|=p),xp(E.return,p,l),K.lanes|=p;break}Z=Z.next}}else if(E.tag===10)D=E.type===l.type?null:E.child;else if(E.tag===18){if(D=E.return,D===null)throw Error(n(341));D.lanes|=p,K=D.alternate,K!==null&&(K.lanes|=p),xp(D,p,l),D=E.sibling}else D=E.child;if(D!==null)D.return=E;else for(D=E;D!==null;){if(D===l){D=null;break}if(E=D.sibling,E!==null){E.return=D.return,D=E;break}D=D.return}E=D}yn(i,l,C.children,p),l=l.child}return l;case 9:return C=l.type,x=l.pendingProps.children,ns(l,p),C=Zn(C),x=x(C),l.flags|=1,yn(i,l,x,p),l.child;case 14:return x=l.type,C=ar(x,l.pendingProps),C=ar(x.type,C),Sv(i,l,x,C,p);case 15:return Nv(i,l,l.type,l.pendingProps,p);case 17:return x=l.type,C=l.pendingProps,C=l.elementType===x?C:ar(x,C),Qc(i,l),l.tag=1,Sn(x)?(i=!0,Rc(l)):i=!1,ns(l,p),hv(l,x,C),Mp(l,x,C,p),zp(null,l,x,!0,i,p);case 19:return Iv(i,l,p);case 22:return Cv(i,l,p)}throw Error(n(156,l.tag))};function t0(i,l){return fc(i,l)}function G2(i,l,p,x){this.tag=i,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(i,l,p,x){return new G2(i,l,p,x)}function oh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Y2(i){if(typeof i=="function")return oh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===O)return 14}return 2}function _o(i,l){var p=i.alternate;return p===null?(p=nr(i.tag,l,i.key,i.mode),p.elementType=i.elementType,p.type=i.type,p.stateNode=i.stateNode,p.alternate=i,i.alternate=p):(p.pendingProps=l,p.type=i.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=i.flags&14680064,p.childLanes=i.childLanes,p.lanes=i.lanes,p.child=i.child,p.memoizedProps=i.memoizedProps,p.memoizedState=i.memoizedState,p.updateQueue=i.updateQueue,l=i.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=i.sibling,p.index=i.index,p.ref=i.ref,p}function au(i,l,p,x,C,E){var D=2;if(x=i,typeof i=="function")oh(i)&&(D=1);else if(typeof i=="string")D=5;else e:switch(i){case T:return di(p.children,C,E,l);case $:D=8,C|=8;break;case G:return i=nr(12,p,l,C|2),i.elementType=G,i.lanes=E,i;case V:return i=nr(13,p,l,C),i.elementType=V,i.lanes=E,i;case j:return i=nr(19,p,l,C),i.elementType=j,i.lanes=E,i;case H:return cu(p,C,E,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case X:D=10;break e;case Y:D=9;break e;case U:D=11;break e;case O:D=14;break e;case z:D=16,x=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return l=nr(D,p,l,C),l.elementType=i,l.type=x,l.lanes=E,l}function di(i,l,p,x){return i=nr(7,i,x,l),i.lanes=p,i}function cu(i,l,p,x){return i=nr(22,i,x,l),i.elementType=H,i.lanes=p,i.stateNode={isHidden:!1},i}function ih(i,l,p){return i=nr(6,i,null,l),i.lanes=p,i}function sh(i,l,p){return l=nr(4,i.children!==null?i.children:[],i.key,l),l.lanes=p,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function q2(i,l,p,x,C){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rf(0),this.expirationTimes=Rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rf(0),this.identifierPrefix=x,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function lh(i,l,p,x,C,E,D,K,Z){return i=new q2(i,l,p,K,Z),l===1?(l=1,E===!0&&(l|=8)):l=0,E=nr(3,null,null,l),i.current=E,E.stateNode=i,E.memoizedState={element:x,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},wp(E),i}function K2(i,l,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:x==null?null:""+x,children:i,containerInfo:l,implementation:p}}function n0(i){if(!i)return xo;i=i._reactInternals;e:{if(kr(i)!==i||i.tag!==1)throw Error(n(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Sn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(i.tag===1){var p=i.type;if(Sn(p))return Ax(i,p,l)}return l}function r0(i,l,p,x,C,E,D,K,Z){return i=lh(p,x,!0,i,C,E,D,K,Z),i.context=n0(null),p=i.current,x=xn(),C=ko(p),E=qr(x,C),E.callback=l??null,bo(p,E,C),i.current.lanes=C,ul(i,C,x),kn(i,x),i}function uu(i,l,p,x){var C=l.current,E=xn(),D=ko(C);return p=n0(p),l.context===null?l.context=p:l.pendingContext=p,l=qr(E,D),l.payload={element:i},x=x===void 0?null:x,x!==null&&(l.callback=x),i=bo(C,l,D),i!==null&&(dr(i,C,D,E),Bc(i,C,D)),D}function du(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function o0(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var p=i.retryLane;i.retryLane=p!==0&&p<l?p:l}}function ah(i,l){o0(i,l),(i=i.alternate)&&o0(i,l)}function Q2(){return null}var i0=typeof reportError=="function"?reportError:function(i){console.error(i)};function ch(i){this._internalRoot=i}fu.prototype.render=ch.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));uu(i,l,null,null)},fu.prototype.unmount=ch.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;ai(function(){uu(null,i,null,null)}),l[Ur]=null}};function fu(i){this._internalRoot=i}fu.prototype.unstable_scheduleHydration=function(i){if(i){var l=Vy();i={blockedOn:null,target:i,priority:l};for(var p=0;p<po.length&&l!==0&&l<po[p].priority;p++);po.splice(p,0,i),p===0&&Wy(i)}};function uh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function s0(){}function J2(i,l,p,x,C){if(C){if(typeof x=="function"){var E=x;x=function(){var ce=du(D);E.call(ce)}}var D=r0(l,x,i,0,null,!1,!1,"",s0);return i._reactRootContainer=D,i[Ur]=D.current,Cl(i.nodeType===8?i.parentNode:i),ai(),D}for(;C=i.lastChild;)i.removeChild(C);if(typeof x=="function"){var K=x;x=function(){var ce=du(Z);K.call(ce)}}var Z=lh(i,0,!1,null,null,!1,!1,"",s0);return i._reactRootContainer=Z,i[Ur]=Z.current,Cl(i.nodeType===8?i.parentNode:i),ai(function(){uu(l,Z,p,x)}),Z}function hu(i,l,p,x,C){var E=p._reactRootContainer;if(E){var D=E;if(typeof C=="function"){var K=C;C=function(){var Z=du(D);K.call(Z)}}uu(l,D,i,C)}else D=J2(p,l,i,C,x);return du(D)}Fy=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var p=Zo(l.pendingLanes);p!==0&&(Mf(l,p|1),kn(l,Ct()),(lt&6)===0&&(ls=Ct()+500,vo()))}break;case 13:ai(function(){var x=Yr(i,1);if(x!==null){var C=xn();dr(x,i,1,C)}}),ah(i,1)}},Of=function(i){if(i.tag===13){var l=Yr(i,134217728);if(l!==null){var p=xn();dr(l,i,134217728,p)}ah(i,134217728)}},By=function(i){if(i.tag===13){var l=ko(i),p=Yr(i,l);if(p!==null){var x=xn();dr(p,i,l,x)}ah(i,l)}},Vy=function(){return ht},Hy=function(i,l){var p=ht;try{return ht=i,l()}finally{ht=p}},ae=function(i,l,p){switch(l){case"input":if(ft(i,p),l=p.name,p.type==="radio"&&l!=null){for(p=i;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<p.length;l++){var x=p[l];if(x!==i&&x.form===i.form){var C=Ic(x);if(!C)throw Error(n(90));de(x),ft(x,C)}}}break;case"textarea":At(i,p);break;case"select":l=p.value,l!=null&&He(i,!!p.multiple,l,!1)}},Mt=th,sc=ai;var Z2={usingClientEntryPoint:!1,Events:[_l,Yi,Ic,Wt,Jt,th]},Bl={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eP={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=uc(i),i===null?null:i.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||Q2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{zi=mu.inject(eP),Kn=mu}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z2,En.createPortal=function(i,l){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uh(l))throw Error(n(200));return K2(i,l,null,p)},En.createRoot=function(i,l){if(!uh(i))throw Error(n(299));var p=!1,x="",C=i0;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(C=l.onRecoverableError)),l=lh(i,1,!1,null,null,p,!1,x,C),i[Ur]=l.current,Cl(i.nodeType===8?i.parentNode:i),new ch(l)},En.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=uc(l),i=i===null?null:i.stateNode,i},En.flushSync=function(i){return ai(i)},En.hydrate=function(i,l,p){if(!pu(l))throw Error(n(200));return hu(null,i,l,!0,p)},En.hydrateRoot=function(i,l,p){if(!uh(i))throw Error(n(405));var x=p!=null&&p.hydratedSources||null,C=!1,E="",D=i0;if(p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onRecoverableError!==void 0&&(D=p.onRecoverableError)),l=r0(l,null,i,1,p??null,C,!1,E,D),i[Ur]=l.current,Cl(i),x)for(i=0;i<x.length;i++)p=x[i],C=p._getVersion,C=C(p._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[p,C]:l.mutableSourceEagerHydrationData.push(p,C);return new fu(l)},En.render=function(i,l,p){if(!pu(l))throw Error(n(200));return hu(null,i,l,!1,p)},En.unmountComponentAtNode=function(i){if(!pu(i))throw Error(n(40));return i._reactRootContainer?(ai(function(){hu(null,null,i,!1,function(){i._reactRootContainer=null,i[Ur]=null})}),!0):!1},En.unstable_batchedUpdates=th,En.unstable_renderSubtreeIntoContainer=function(i,l,p,x){if(!pu(p))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return hu(i,l,p,!1,x)},En.version="18.3.1-next-f1338f8080-20240426",En}var h0;function jb(){if(h0)return ph.exports;h0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ph.exports=aP(),ph.exports}var m0;function cP(){if(m0)return gu;m0=1;var e=jb();return gu.createRoot=e.createRoot,gu.hydrateRoot=e.hydrateRoot,gu}var uP=cP();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fP=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),g0=e=>{const t=fP(e);return t.charAt(0).toUpperCase()+t.slice(1)},Pb=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:a,...c},d)=>b.createElement("svg",{ref:d,...pP,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Pb("lucide",o),...c},[...a.map(([f,h])=>b.createElement(f,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(e,t)=>{const n=b.forwardRef(({className:r,...o},s)=>b.createElement(hP,{ref:s,iconNode:t,className:Pb(`lucide-${dP(g0(e))}`,`lucide-${e}`,r),...o}));return n.displayName=g0(e),n};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],gP=Ze("arrow-down",mP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ab=Ze("arrow-right",yP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],vP=Ze("box",xP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ib=Ze("check",wP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Oo=Ze("chevron-down",bP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hl=Ze("chevron-right",SP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],CP=Ze("chevron-up",NP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],EP=Ze("circle-help",kP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],cm=Ze("circle-plus",_P);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tb=Ze("circle",jP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],lg=Ze("clock",PP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],IP=Ze("database",AP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],RP=Ze("download",TP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],OP=Ze("eye-off",MP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LP=Ze("eye",DP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]],$P=Ze("fast-forward",zP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],BP=Ze("file-up",FP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],HP=Ze("folder-open",VP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],WP=Ze("globe",UP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],ia=Ze("grip-vertical",XP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],YP=Ze("hash",GP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M15 12h6",key:"upa0zy"}],["path",{d:"M15 6h6",key:"1jlkvy"}],["path",{d:"m3 13 3.553-7.724a.5.5 0 0 1 .894 0L11 13",key:"blevx4"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M4 11h6",key:"olkgv1"}]],KP=Ze("letter-text",qP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],JP=Ze("network",QP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],eA=Ze("plane",ZP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],nA=Ze("play",tA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rb=Ze("plus",rA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],iA=Ze("rotate-ccw",oA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lA=Ze("save",sA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],cA=Ze("search",aA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dA=Ze("send",uA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mb=Ze("settings",fA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],hA=Ze("skip-forward",pA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],gA=Ze("sparkles",mA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ul=Ze("square-pen",yA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M4 10c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"4i38lg"}],["path",{d:"M10 16c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"mlte4a"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]],vA=Ze("square-stack",xA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Ob=Ze("square",wA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],hr=Ze("trash-2",bA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],NA=Ze("trash",SA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Db=Ze("upload",CA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],EA=Ze("x",kA),{createElement:Os,createContext:_A,forwardRef:Lb,useCallback:_n,useContext:zb,useEffect:xi,useImperativeHandle:$b,useLayoutEffect:jA,useMemo:PA,useRef:Pn,useState:Ns}=Ua,y0=Ua[`useId${Math.random()}`.slice(0,5)],AA=jA,kd=_A(null);kd.displayName="PanelGroupContext";const vi=AA,IA=typeof y0=="function"?y0:()=>null;let TA=0;function ag(e=null){const t=IA(),n=Pn(e||t||null);return n.current===null&&(n.current=""+TA++),e??n.current}function Fb({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:o,forwardedRef:s,id:a,maxSize:c,minSize:d,onCollapse:f,onExpand:h,onResize:m,order:g,style:y,tagName:S="div",...v}){const w=zb(kd);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:N,expandPanel:_,getPanelSize:k,getPanelStyle:P,groupId:I,isPanelCollapsed:A,reevaluatePanelConstraints:T,registerPanel:$,resizePanel:G,unregisterPanel:X}=w,Y=ag(a),U=Pn({callbacks:{onCollapse:f,onExpand:h,onResize:m},constraints:{collapsedSize:n,collapsible:r,defaultSize:o,maxSize:c,minSize:d},id:Y,idIsFromProps:a!==void 0,order:g});Pn({didLogMissingDefaultSizeWarning:!1}),vi(()=>{const{callbacks:j,constraints:O}=U.current,z={...O};U.current.id=Y,U.current.idIsFromProps=a!==void 0,U.current.order=g,j.onCollapse=f,j.onExpand=h,j.onResize=m,O.collapsedSize=n,O.collapsible=r,O.defaultSize=o,O.maxSize=c,O.minSize=d,(z.collapsedSize!==O.collapsedSize||z.collapsible!==O.collapsible||z.maxSize!==O.maxSize||z.minSize!==O.minSize)&&T(U.current,z)}),vi(()=>{const j=U.current;return $(j),()=>{X(j)}},[g,Y,$,X]),$b(s,()=>({collapse:()=>{N(U.current)},expand:j=>{_(U.current,j)},getId(){return Y},getSize(){return k(U.current)},isCollapsed(){return A(U.current)},isExpanded(){return!A(U.current)},resize:j=>{G(U.current,j)}}),[N,_,k,A,Y,G]);const V=P(U.current,o);return Os(S,{...v,children:e,className:t,id:a,style:{...V,...y},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":I,"data-panel-id":Y,"data-panel-size":parseFloat(""+V.flexGrow).toFixed(1)})}const Bb=Lb((e,t)=>Os(Fb,{...e,forwardedRef:t}));Fb.displayName="Panel";Bb.displayName="forwardRef(Panel)";let um=null,gi=null;function RA(e,t){if(t){const n=(t&Xb)!==0,r=(t&Gb)!==0,o=(t&Yb)!==0,s=(t&qb)!==0;if(n)return o?"se-resize":s?"ne-resize":"e-resize";if(r)return o?"sw-resize":s?"nw-resize":"w-resize";if(o)return"s-resize";if(s)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function MA(){gi!==null&&(document.head.removeChild(gi),um=null,gi=null)}function gh(e,t){const n=RA(e,t);um!==n&&(um=n,gi===null&&(gi=document.createElement("style"),document.head.appendChild(gi)),gi.innerHTML=`*{cursor: ${n}!important;}`)}function Vb(e){return e.type==="keydown"}function Hb(e){return e.type.startsWith("pointer")}function Ub(e){return e.type.startsWith("mouse")}function Ed(e){if(Hb(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(Ub(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function OA(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function DA(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function LA(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:w0(e),b:w0(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;Je(r,"Stacking order can only be calculated for elements with a common ancestor");const o={a:v0(x0(n.a)),b:v0(x0(n.b))};if(o.a===o.b){const s=r.childNodes,a={a:n.a.at(-1),b:n.b.at(-1)};let c=s.length;for(;c--;){const d=s[c];if(d===a.a)return 1;if(d===a.b)return-1}}return Math.sign(o.a-o.b)}const zA=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function $A(e){var t;const n=getComputedStyle((t=Wb(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function FA(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||$A(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||zA.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function x0(e){let t=e.length;for(;t--;){const n=e[t];if(Je(n,"Missing node"),FA(n))return n}return null}function v0(e){return e&&Number(getComputedStyle(e).zIndex)||0}function w0(e){const t=[];for(;e;)t.push(e),e=Wb(e);return t}function Wb(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Xb=1,Gb=2,Yb=4,qb=8,BA=OA()==="coarse";let xr=[],Cs=!1,Do=new Map,_d=new Map;const Na=new Set;function VA(e,t,n,r,o){var s;const{ownerDocument:a}=t,c={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:o},d=(s=Do.get(a))!==null&&s!==void 0?s:0;return Do.set(a,d+1),Na.add(c),Zu(),function(){var h;_d.delete(e),Na.delete(c);const m=(h=Do.get(a))!==null&&h!==void 0?h:1;if(Do.set(a,m-1),Zu(),m===1&&Do.delete(a),xr.includes(c)){const g=xr.indexOf(c);g>=0&&xr.splice(g,1),ug(),o("up",!0,null)}}}function b0(e){const{target:t}=e,{x:n,y:r}=Ed(e);Cs=!0,cg({target:t,x:n,y:r}),Zu(),xr.length>0&&(ed("down",e),e.preventDefault(),e.stopPropagation())}function Wl(e){const{x:t,y:n}=Ed(e);if(Cs&&e.buttons===0&&(Cs=!1,ed("up",e)),!Cs){const{target:r}=e;cg({target:r,x:t,y:n})}ed("move",e),ug(),xr.length>0&&e.preventDefault()}function cs(e){const{target:t}=e,{x:n,y:r}=Ed(e);_d.clear(),Cs=!1,xr.length>0&&e.preventDefault(),ed("up",e),cg({target:t,x:n,y:r}),ug(),Zu()}function cg({target:e,x:t,y:n}){xr.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),Na.forEach(o=>{const{element:s,hitAreaMargins:a}=o,c=s.getBoundingClientRect(),{bottom:d,left:f,right:h,top:m}=c,g=BA?a.coarse:a.fine;if(t>=f-g&&t<=h+g&&n>=m-g&&n<=d+g){if(r!==null&&document.contains(r)&&s!==r&&!s.contains(r)&&!r.contains(s)&&LA(r,s)>0){let S=r,v=!1;for(;S&&!S.contains(s);){if(DA(S.getBoundingClientRect(),c)){v=!0;break}S=S.parentElement}if(v)return}xr.push(o)}})}function yh(e,t){_d.set(e,t)}function ug(){let e=!1,t=!1;xr.forEach(r=>{const{direction:o}=r;o==="horizontal"?e=!0:t=!0});let n=0;_d.forEach(r=>{n|=r}),e&&t?gh("intersection",n):e?gh("horizontal",n):t?gh("vertical",n):MA()}function Zu(){Do.forEach((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",cs),n.removeEventListener("pointerdown",b0),n.removeEventListener("pointerleave",Wl),n.removeEventListener("pointermove",Wl)}),window.removeEventListener("pointerup",cs),window.removeEventListener("pointercancel",cs),Na.size>0&&(Cs?(xr.length>0&&Do.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",cs),n.addEventListener("pointerleave",Wl),n.addEventListener("pointermove",Wl))}),window.addEventListener("pointerup",cs),window.addEventListener("pointercancel",cs)):Do.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("pointerdown",b0,{capture:!0}),n.addEventListener("pointermove",Wl))}))}function ed(e,t){Na.forEach(n=>{const{setResizeHandlerState:r}=n,o=xr.includes(n);r(e,o,t)})}function HA(){const[e,t]=Ns(0);return _n(()=>t(n=>n+1),[])}function Je(e,t){if(!e)throw console.error(t),Error(t)}const dg=10;function Si(e,t,n=dg){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function to(e,t,n=dg){return Si(e,t,n)===0}function Bn(e,t,n){return Si(e,t,n)===0}function UA(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const o=e[r],s=t[r];if(!Bn(o,s,n))return!1}return!0}function vs({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];Je(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:o=0,collapsible:s,maxSize:a=100,minSize:c=0}=r;if(Si(n,c)<0)if(s){const d=(o+c)/2;Si(n,d)<0?n=o:n=c}else n=c;return n=Math.min(a,n),n=parseFloat(n.toFixed(dg)),n}function sa({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:o,trigger:s}){if(Bn(e,0))return t;const a=[...t],[c,d]=r;Je(c!=null,"Invalid first pivot index"),Je(d!=null,"Invalid second pivot index");let f=0;if(s==="keyboard"){{const m=e<0?d:c,g=n[m];Je(g,`Panel constraints not found for index ${m}`);const{collapsedSize:y=0,collapsible:S,minSize:v=0}=g;if(S){const w=t[m];if(Je(w!=null,`Previous layout not found for panel index ${m}`),Bn(w,y)){const N=v-w;Si(N,Math.abs(e))>0&&(e=e<0?0-N:N)}}}{const m=e<0?c:d,g=n[m];Je(g,`No panel constraints found for index ${m}`);const{collapsedSize:y=0,collapsible:S,minSize:v=0}=g;if(S){const w=t[m];if(Je(w!=null,`Previous layout not found for panel index ${m}`),Bn(w,v)){const N=w-y;Si(N,Math.abs(e))>0&&(e=e<0?0-N:N)}}}}{const m=e<0?1:-1;let g=e<0?d:c,y=0;for(;;){const v=t[g];Je(v!=null,`Previous layout not found for panel index ${g}`);const N=vs({panelConstraints:n,panelIndex:g,size:100})-v;if(y+=N,g+=m,g<0||g>=n.length)break}const S=Math.min(Math.abs(e),Math.abs(y));e=e<0?0-S:S}{let g=e<0?c:d;for(;g>=0&&g<n.length;){const y=Math.abs(e)-Math.abs(f),S=t[g];Je(S!=null,`Previous layout not found for panel index ${g}`);const v=S-y,w=vs({panelConstraints:n,panelIndex:g,size:v});if(!Bn(S,w)&&(f+=S-w,a[g]=w,f.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?g--:g++}}if(UA(o,a))return o;{const m=e<0?d:c,g=t[m];Je(g!=null,`Previous layout not found for panel index ${m}`);const y=g+f,S=vs({panelConstraints:n,panelIndex:m,size:y});if(a[m]=S,!Bn(S,y)){let v=y-S,N=e<0?d:c;for(;N>=0&&N<n.length;){const _=a[N];Je(_!=null,`Previous layout not found for panel index ${N}`);const k=_+v,P=vs({panelConstraints:n,panelIndex:N,size:k});if(Bn(_,P)||(v-=P-_,a[N]=P),Bn(v,0))break;e>0?N--:N++}}}const h=a.reduce((m,g)=>g+m,0);return Bn(h,100)?a:o}function WA({layout:e,panelsArray:t,pivotIndices:n}){let r=0,o=100,s=0,a=0;const c=n[0];Je(c!=null,"No pivot index found"),t.forEach((m,g)=>{const{constraints:y}=m,{maxSize:S=100,minSize:v=0}=y;g===c?(r=v,o=S):(s+=v,a+=S)});const d=Math.min(o,100-s),f=Math.max(r,100-a),h=e[c];return{valueMax:d,valueMin:f,valueNow:h}}function Ca(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function Kb(e,t,n=document){const o=Ca(e,n).findIndex(s=>s.getAttribute("data-panel-resize-handle-id")===t);return o??null}function Qb(e,t,n){const r=Kb(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function Jb(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function jd(e,t=document){const n=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function XA(e,t,n,r=document){var o,s,a,c;const d=jd(t,r),f=Ca(e,r),h=d?f.indexOf(d):-1,m=(o=(s=n[h])===null||s===void 0?void 0:s.id)!==null&&o!==void 0?o:null,g=(a=(c=n[h+1])===null||c===void 0?void 0:c.id)!==null&&a!==void 0?a:null;return[m,g]}function GA({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:o,panelGroupElement:s,setLayout:a}){Pn({didWarnAboutMissingResizeHandle:!1}),vi(()=>{if(!s)return;const c=Ca(n,s);for(let d=0;d<o.length-1;d++){const{valueMax:f,valueMin:h,valueNow:m}=WA({layout:r,panelsArray:o,pivotIndices:[d,d+1]}),g=c[d];if(g!=null){const y=o[d];Je(y,`No panel data found for index "${d}"`),g.setAttribute("aria-controls",y.id),g.setAttribute("aria-valuemax",""+Math.round(f)),g.setAttribute("aria-valuemin",""+Math.round(h)),g.setAttribute("aria-valuenow",m!=null?""+Math.round(m):"")}}return()=>{c.forEach((d,f)=>{d.removeAttribute("aria-controls"),d.removeAttribute("aria-valuemax"),d.removeAttribute("aria-valuemin"),d.removeAttribute("aria-valuenow")})}},[n,r,o,s]),xi(()=>{if(!s)return;const c=t.current;Je(c,"Eager values not found");const{panelDataArray:d}=c,f=Jb(n,s);Je(f!=null,`No group found for id "${n}"`);const h=Ca(n,s);Je(h,`No resize handles found for group id "${n}"`);const m=h.map(g=>{const y=g.getAttribute("data-panel-resize-handle-id");Je(y,"Resize handle element has no handle id attribute");const[S,v]=XA(n,y,d,s);if(S==null||v==null)return()=>{};const w=N=>{if(!N.defaultPrevented)switch(N.key){case"Enter":{N.preventDefault();const _=d.findIndex(k=>k.id===S);if(_>=0){const k=d[_];Je(k,`No panel data found for index ${_}`);const P=r[_],{collapsedSize:I=0,collapsible:A,minSize:T=0}=k.constraints;if(P!=null&&A){const $=sa({delta:Bn(P,I)?T-I:I-P,initialLayout:r,panelConstraints:d.map(G=>G.constraints),pivotIndices:Qb(n,y,s),prevLayout:r,trigger:"keyboard"});r!==$&&a($)}}break}}};return g.addEventListener("keydown",w),()=>{g.removeEventListener("keydown",w)}});return()=>{m.forEach(g=>g())}},[s,e,t,n,r,o,a])}function S0(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Zb(e,t){const n=e==="horizontal",{x:r,y:o}=Ed(t);return n?r:o}function YA(e,t,n,r,o){const s=n==="horizontal",a=jd(t,o);Je(a,`No resize handle element found for id "${t}"`);const c=a.getAttribute("data-panel-group-id");Je(c,"Resize handle element has no group id attribute");let{initialCursorPosition:d}=r;const f=Zb(n,e),h=Jb(c,o);Je(h,`No group element found for id "${c}"`);const m=h.getBoundingClientRect(),g=s?m.width:m.height;return(f-d)/g*100}function qA(e,t,n,r,o,s){if(Vb(e)){const a=n==="horizontal";let c=0;e.shiftKey?c=100:o!=null?c=o:c=10;let d=0;switch(e.key){case"ArrowDown":d=a?0:c;break;case"ArrowLeft":d=a?-c:0;break;case"ArrowRight":d=a?c:0;break;case"ArrowUp":d=a?0:-c;break;case"End":d=100;break;case"Home":d=-100;break}return d}else return r==null?0:YA(e,t,n,r,s)}function KA({panelDataArray:e}){const t=Array(e.length),n=e.map(s=>s.constraints);let r=0,o=100;for(let s=0;s<e.length;s++){const a=n[s];Je(a,`Panel constraints not found for index ${s}`);const{defaultSize:c}=a;c!=null&&(r++,t[s]=c,o-=c)}for(let s=0;s<e.length;s++){const a=n[s];Je(a,`Panel constraints not found for index ${s}`);const{defaultSize:c}=a;if(c!=null)continue;const d=e.length-r,f=o/d;r++,t[s]=f,o-=f}return t}function us(e,t,n){t.forEach((r,o)=>{const s=e[o];Je(s,`Panel data not found for index ${o}`);const{callbacks:a,constraints:c,id:d}=s,{collapsedSize:f=0,collapsible:h}=c,m=n[d];if(m==null||r!==m){n[d]=r;const{onCollapse:g,onExpand:y,onResize:S}=a;S&&S(r,m),h&&(g||y)&&(y&&(m==null||to(m,f))&&!to(r,f)&&y(),g&&(m==null||!to(m,f))&&to(r,f)&&g())}})}function yu(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function QA({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:o,precision:s=3}){const a=n[o];let c;return a==null?c=e!=null?e.toPrecision(s):"1":r.length===1?c="1":c=a.toPrecision(s),{flexBasis:0,flexGrow:c,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function JA(e,t=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}function N0(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function eS(e){return`react-resizable-panels:${e}`}function tS(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:o,order:s}=t;return o?r:s?`${s}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function nS(e,t){try{const n=eS(e),r=t.getItem(n);if(r){const o=JSON.parse(r);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function ZA(e,t,n){var r,o;const s=(r=nS(e,n))!==null&&r!==void 0?r:{},a=tS(t);return(o=s[a])!==null&&o!==void 0?o:null}function eI(e,t,n,r,o){var s;const a=eS(e),c=tS(t),d=(s=nS(e,o))!==null&&s!==void 0?s:{};d[c]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{o.setItem(a,JSON.stringify(d))}catch(f){console.error(f)}}function C0({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((s,a)=>s+a,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!Bn(r,100)&&n.length>0)for(let s=0;s<t.length;s++){const a=n[s];Je(a!=null,`No layout data found for index ${s}`);const c=100/r*a;n[s]=c}let o=0;for(let s=0;s<t.length;s++){const a=n[s];Je(a!=null,`No layout data found for index ${s}`);const c=vs({panelConstraints:t,panelIndex:s,size:a});a!=c&&(o+=a-c,n[s]=c)}if(!Bn(o,0))for(let s=0;s<t.length;s++){const a=n[s];Je(a!=null,`No layout data found for index ${s}`);const c=a+o,d=vs({panelConstraints:t,panelIndex:s,size:c});if(a!==d&&(o-=d-a,n[s]=d,Bn(o,0)))break}return n}const tI=100,la={getItem:e=>(N0(la),la.getItem(e)),setItem:(e,t)=>{N0(la),la.setItem(e,t)}},k0={};function rS({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:o,id:s=null,onLayout:a=null,keyboardResizeBy:c=null,storage:d=la,style:f,tagName:h="div",...m}){const g=ag(s),y=Pn(null),[S,v]=Ns(null),[w,N]=Ns([]),_=HA(),k=Pn({}),P=Pn(new Map),I=Pn(0),A=Pn({autoSaveId:e,direction:r,dragState:S,id:g,keyboardResizeBy:c,onLayout:a,storage:d}),T=Pn({layout:w,panelDataArray:[],panelDataArrayChanged:!1});Pn({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),$b(o,()=>({getId:()=>A.current.id,getLayout:()=>{const{layout:R}=T.current;return R},setLayout:R=>{const{onLayout:J}=A.current,{layout:ne,panelDataArray:te}=T.current,B=C0({layout:R,panelConstraints:te.map(Q=>Q.constraints)});S0(ne,B)||(N(B),T.current.layout=B,J&&J(B),us(te,B,k.current))}}),[]),vi(()=>{A.current.autoSaveId=e,A.current.direction=r,A.current.dragState=S,A.current.id=g,A.current.onLayout=a,A.current.storage=d}),GA({committedValuesRef:A,eagerValuesRef:T,groupId:g,layout:w,panelDataArray:T.current.panelDataArray,setLayout:N,panelGroupElement:y.current}),xi(()=>{const{panelDataArray:R}=T.current;if(e){if(w.length===0||w.length!==R.length)return;let J=k0[e];J==null&&(J=JA(eI,tI),k0[e]=J);const ne=[...R],te=new Map(P.current);J(e,ne,te,w,d)}},[e,w,d]),xi(()=>{});const $=_n(R=>{const{onLayout:J}=A.current,{layout:ne,panelDataArray:te}=T.current;if(R.constraints.collapsible){const B=te.map(ue=>ue.constraints),{collapsedSize:Q=0,panelSize:oe,pivotIndices:ie}=fi(te,R,ne);if(Je(oe!=null,`Panel size not found for panel "${R.id}"`),!to(oe,Q)){P.current.set(R.id,oe);const de=xs(te,R)===te.length-1?oe-Q:Q-oe,be=sa({delta:de,initialLayout:ne,panelConstraints:B,pivotIndices:ie,prevLayout:ne,trigger:"imperative-api"});yu(ne,be)||(N(be),T.current.layout=be,J&&J(be),us(te,be,k.current))}}},[]),G=_n((R,J)=>{const{onLayout:ne}=A.current,{layout:te,panelDataArray:B}=T.current;if(R.constraints.collapsible){const Q=B.map(Se=>Se.constraints),{collapsedSize:oe=0,panelSize:ie=0,minSize:ue=0,pivotIndices:de}=fi(B,R,te),be=J??ue;if(to(ie,oe)){const Se=P.current.get(R.id),De=Se!=null&&Se>=be?Se:be,ft=xs(B,R)===B.length-1?ie-De:De-ie,ut=sa({delta:ft,initialLayout:te,panelConstraints:Q,pivotIndices:de,prevLayout:te,trigger:"imperative-api"});yu(te,ut)||(N(ut),T.current.layout=ut,ne&&ne(ut),us(B,ut,k.current))}}},[]),X=_n(R=>{const{layout:J,panelDataArray:ne}=T.current,{panelSize:te}=fi(ne,R,J);return Je(te!=null,`Panel size not found for panel "${R.id}"`),te},[]),Y=_n((R,J)=>{const{panelDataArray:ne}=T.current,te=xs(ne,R);return QA({defaultSize:J,dragState:S,layout:w,panelData:ne,panelIndex:te})},[S,w]),U=_n(R=>{const{layout:J,panelDataArray:ne}=T.current,{collapsedSize:te=0,collapsible:B,panelSize:Q}=fi(ne,R,J);return Je(Q!=null,`Panel size not found for panel "${R.id}"`),B===!0&&to(Q,te)},[]),V=_n(R=>{const{layout:J,panelDataArray:ne}=T.current,{collapsedSize:te=0,collapsible:B,panelSize:Q}=fi(ne,R,J);return Je(Q!=null,`Panel size not found for panel "${R.id}"`),!B||Si(Q,te)>0},[]),j=_n(R=>{const{panelDataArray:J}=T.current;J.push(R),J.sort((ne,te)=>{const B=ne.order,Q=te.order;return B==null&&Q==null?0:B==null?-1:Q==null?1:B-Q}),T.current.panelDataArrayChanged=!0,_()},[_]);vi(()=>{if(T.current.panelDataArrayChanged){T.current.panelDataArrayChanged=!1;const{autoSaveId:R,onLayout:J,storage:ne}=A.current,{layout:te,panelDataArray:B}=T.current;let Q=null;if(R){const ie=ZA(R,B,ne);ie&&(P.current=new Map(Object.entries(ie.expandToSizes)),Q=ie.layout)}Q==null&&(Q=KA({panelDataArray:B}));const oe=C0({layout:Q,panelConstraints:B.map(ie=>ie.constraints)});S0(te,oe)||(N(oe),T.current.layout=oe,J&&J(oe),us(B,oe,k.current))}}),vi(()=>{const R=T.current;return()=>{R.layout=[]}},[]);const O=_n(R=>{let J=!1;const ne=y.current;return ne&&window.getComputedStyle(ne,null).getPropertyValue("direction")==="rtl"&&(J=!0),function(B){B.preventDefault();const Q=y.current;if(!Q)return()=>null;const{direction:oe,dragState:ie,id:ue,keyboardResizeBy:de,onLayout:be}=A.current,{layout:Se,panelDataArray:De}=T.current,{initialLayout:We}=ie??{},ft=Qb(ue,R,Q);let ut=qA(B,R,oe,ie,de,Q);const ye=oe==="horizontal";ye&&J&&(ut=-ut);const Be=De.map(pt=>pt.constraints),He=sa({delta:ut,initialLayout:We??Se,panelConstraints:Be,pivotIndices:ft,prevLayout:Se,trigger:Vb(B)?"keyboard":"mouse-or-touch"}),rt=!yu(Se,He);(Hb(B)||Ub(B))&&I.current!=ut&&(I.current=ut,!rt&&ut!==0?ye?yh(R,ut<0?Xb:Gb):yh(R,ut<0?Yb:qb):yh(R,0)),rt&&(N(He),T.current.layout=He,be&&be(He),us(De,He,k.current))}},[]),z=_n((R,J)=>{const{onLayout:ne}=A.current,{layout:te,panelDataArray:B}=T.current,Q=B.map(Se=>Se.constraints),{panelSize:oe,pivotIndices:ie}=fi(B,R,te);Je(oe!=null,`Panel size not found for panel "${R.id}"`);const de=xs(B,R)===B.length-1?oe-J:J-oe,be=sa({delta:de,initialLayout:te,panelConstraints:Q,pivotIndices:ie,prevLayout:te,trigger:"imperative-api"});yu(te,be)||(N(be),T.current.layout=be,ne&&ne(be),us(B,be,k.current))},[]),H=_n((R,J)=>{const{layout:ne,panelDataArray:te}=T.current,{collapsedSize:B=0,collapsible:Q}=J,{collapsedSize:oe=0,collapsible:ie,maxSize:ue=100,minSize:de=0}=R.constraints,{panelSize:be}=fi(te,R,ne);be!=null&&(Q&&ie&&to(be,B)?to(B,oe)||z(R,oe):be<de?z(R,de):be>ue&&z(R,ue))},[z]),L=_n((R,J)=>{const{direction:ne}=A.current,{layout:te}=T.current;if(!y.current)return;const B=jd(R,y.current);Je(B,`Drag handle element not found for id "${R}"`);const Q=Zb(ne,J);v({dragHandleId:R,dragHandleRect:B.getBoundingClientRect(),initialCursorPosition:Q,initialLayout:te})},[]),W=_n(()=>{v(null)},[]),M=_n(R=>{const{panelDataArray:J}=T.current,ne=xs(J,R);ne>=0&&(J.splice(ne,1),delete k.current[R.id],T.current.panelDataArrayChanged=!0,_())},[_]),F=PA(()=>({collapsePanel:$,direction:r,dragState:S,expandPanel:G,getPanelSize:X,getPanelStyle:Y,groupId:g,isPanelCollapsed:U,isPanelExpanded:V,reevaluatePanelConstraints:H,registerPanel:j,registerResizeHandle:O,resizePanel:z,startDragging:L,stopDragging:W,unregisterPanel:M,panelGroupElement:y.current}),[$,S,r,G,X,Y,g,U,V,H,j,O,z,L,W,M]),q={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return Os(kd.Provider,{value:F},Os(h,{...m,children:t,className:n,id:s,ref:y,style:{...q,...f},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":g}))}const oS=Lb((e,t)=>Os(rS,{...e,forwardedRef:t}));rS.displayName="PanelGroup";oS.displayName="forwardRef(PanelGroup)";function xs(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function fi(e,t,n){const r=xs(e,t),s=r===e.length-1?[r-1,r]:[r,r+1],a=n[r];return{...t.constraints,panelSize:a,pivotIndices:s}}function nI({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){xi(()=>{if(e||n==null||r==null)return;const o=jd(t,r);if(o==null)return;const s=a=>{if(!a.defaultPrevented)switch(a.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{a.preventDefault(),n(a);break}case"F6":{a.preventDefault();const c=o.getAttribute("data-panel-group-id");Je(c,`No group element found for id "${c}"`);const d=Ca(c,r),f=Kb(c,t,r);Je(f!==null,`No resize element found for id "${t}"`);const h=a.shiftKey?f>0?f-1:d.length-1:f+1<d.length?f+1:0;d[h].focus();break}}};return o.addEventListener("keydown",s),()=>{o.removeEventListener("keydown",s)}},[r,e,t,n])}function iS({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:o,onBlur:s,onDragging:a,onFocus:c,style:d={},tabIndex:f=0,tagName:h="div",...m}){var g,y;const S=Pn(null),v=Pn({onDragging:a});xi(()=>{v.current.onDragging=a});const w=zb(kd);if(w===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:N,groupId:_,registerResizeHandle:k,startDragging:P,stopDragging:I,panelGroupElement:A}=w,T=ag(o),[$,G]=Ns("inactive"),[X,Y]=Ns(!1),[U,V]=Ns(null),j=Pn({state:$});vi(()=>{j.current.state=$}),xi(()=>{if(n)V(null);else{const L=k(T);V(()=>L)}},[n,T,k]);const O=(g=r==null?void 0:r.coarse)!==null&&g!==void 0?g:15,z=(y=r==null?void 0:r.fine)!==null&&y!==void 0?y:5;return xi(()=>{if(n||U==null)return;const L=S.current;return Je(L,"Element ref not attached"),VA(T,L,N,{coarse:O,fine:z},(M,F,q)=>{if(F)switch(M){case"down":{G("drag"),Je(q,'Expected event to be defined for "down" action'),P(T,q);const{onDragging:R}=v.current;R&&R(!0);break}case"move":{const{state:R}=j.current;R!=="drag"&&G("hover"),Je(q,'Expected event to be defined for "move" action'),U(q);break}case"up":{G("hover"),I();const{onDragging:R}=v.current;R&&R(!1);break}}else G("inactive")})},[O,N,n,z,k,T,U,P,I]),nI({disabled:n,handleId:T,resizeHandler:U,panelGroupElement:A}),Os(h,{...m,children:e,className:t,id:o,onBlur:()=>{Y(!1),s==null||s()},onFocus:()=>{Y(!0),c==null||c()},ref:S,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...d},tabIndex:f,"data-panel-group-direction":N,"data-panel-group-id":_,"data-resize-handle":"","data-resize-handle-active":$==="drag"?"pointer":X?"keyboard":void 0,"data-resize-handle-state":$,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":T})}iS.displayName="PanelResizeHandle";function sS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=sS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function lS(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=sS(e))&&(r&&(r+=" "),r+=t);return r}const fg="-",rI=e=>{const t=iI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const c=a.split(fg);return c[0]===""&&c.length!==1&&c.shift(),aS(c,t)||oI(a)},getConflictingClassGroupIds:(a,c)=>{const d=n[a]||[];return c&&r[a]?[...d,...r[a]]:d}}},aS=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?aS(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(fg);return(a=t.validators.find(({validator:c})=>c(s)))==null?void 0:a.classGroupId},E0=/^\[(.+)\]$/,oI=e=>{if(E0.test(e)){const t=E0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},iI=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const o in n)dm(n[o],r,o,t);return r},dm=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:_0(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(sI(o)){dm(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,a])=>{dm(a,_0(t,s),n,r)})})},_0=(e,t)=>{let n=e;return t.split(fg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sI=e=>e.isThemeGetter,lI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return o(s,a),a},set(s,a){n.has(s)?n.set(s,a):o(s,a)}}},fm="!",pm=":",aI=pm.length,cI=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const s=[];let a=0,c=0,d=0,f;for(let S=0;S<o.length;S++){let v=o[S];if(a===0&&c===0){if(v===pm){s.push(o.slice(d,S)),d=S+aI;continue}if(v==="/"){f=S;continue}}v==="["?a++:v==="]"?a--:v==="("?c++:v===")"&&c--}const h=s.length===0?o:o.substring(d),m=uI(h),g=m!==h,y=f&&f>d?f-d:void 0;return{modifiers:s,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:y}};if(t){const o=t+pm,s=r;r=a=>a.startsWith(o)?s(a.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const o=r;r=s=>n({className:s,parseClassName:o})}return r},uI=e=>e.endsWith(fm)?e.substring(0,e.length-1):e.startsWith(fm)?e.substring(1):e,dI=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let s=[];return r.forEach(a=>{a[0]==="["||t[a]?(o.push(...s.sort(),a),s=[]):s.push(a)}),o.push(...s.sort()),o}},fI=e=>({cache:lI(e.cacheSize),parseClassName:cI(e),sortModifiers:dI(e),...rI(e)}),pI=/\s+/,hI=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:s}=t,a=[],c=e.trim().split(pI);let d="";for(let f=c.length-1;f>=0;f-=1){const h=c[f],{isExternal:m,modifiers:g,hasImportantModifier:y,baseClassName:S,maybePostfixModifierPosition:v}=n(h);if(m){d=h+(d.length>0?" "+d:d);continue}let w=!!v,N=r(w?S.substring(0,v):S);if(!N){if(!w){d=h+(d.length>0?" "+d:d);continue}if(N=r(S),!N){d=h+(d.length>0?" "+d:d);continue}w=!1}const _=s(g).join(":"),k=y?_+fm:_,P=k+N;if(a.includes(P))continue;a.push(P);const I=o(N,w);for(let A=0;A<I.length;++A){const T=I[A];a.push(k+T)}d=h+(d.length>0?" "+d:d)}return d};function mI(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=cS(t))&&(r&&(r+=" "),r+=n);return r}const cS=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=cS(e[r]))&&(n&&(n+=" "),n+=t);return n};function gI(e,...t){let n,r,o,s=a;function a(d){const f=t.reduce((h,m)=>m(h),e());return n=fI(f),r=n.cache.get,o=n.cache.set,s=c,c(d)}function c(d){const f=r(d);if(f)return f;const h=hI(d,n);return o(d,h),h}return function(){return s(mI.apply(null,arguments))}}const Ft=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},uS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,yI=/^\d+\/\d+$/,xI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ds=e=>yI.test(e),et=e=>!!e&&!Number.isNaN(Number(e)),Po=e=>!!e&&Number.isInteger(Number(e)),xh=e=>e.endsWith("%")&&et(e.slice(0,-1)),Jr=e=>xI.test(e),NI=()=>!0,CI=e=>vI.test(e)&&!wI.test(e),fS=()=>!1,kI=e=>bI.test(e),EI=e=>SI.test(e),_I=e=>!je(e)&&!Pe(e),jI=e=>Xs(e,mS,fS),je=e=>uS.test(e),pi=e=>Xs(e,gS,CI),vh=e=>Xs(e,RI,et),j0=e=>Xs(e,pS,fS),PI=e=>Xs(e,hS,EI),xu=e=>Xs(e,yS,kI),Pe=e=>dS.test(e),Xl=e=>Gs(e,gS),AI=e=>Gs(e,MI),P0=e=>Gs(e,pS),II=e=>Gs(e,mS),TI=e=>Gs(e,hS),vu=e=>Gs(e,yS,!0),Xs=(e,t,n)=>{const r=uS.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Gs=(e,t,n=!1)=>{const r=dS.exec(e);return r?r[1]?t(r[1]):n:!1},pS=e=>e==="position"||e==="percentage",hS=e=>e==="image"||e==="url",mS=e=>e==="length"||e==="size"||e==="bg-size",gS=e=>e==="length",RI=e=>e==="number",MI=e=>e==="family-name",yS=e=>e==="shadow",OI=()=>{const e=Ft("color"),t=Ft("font"),n=Ft("text"),r=Ft("font-weight"),o=Ft("tracking"),s=Ft("leading"),a=Ft("breakpoint"),c=Ft("container"),d=Ft("spacing"),f=Ft("radius"),h=Ft("shadow"),m=Ft("inset-shadow"),g=Ft("text-shadow"),y=Ft("drop-shadow"),S=Ft("blur"),v=Ft("perspective"),w=Ft("aspect"),N=Ft("ease"),_=Ft("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...P(),Pe,je],A=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],$=()=>[Pe,je,d],G=()=>[ds,"full","auto",...$()],X=()=>[Po,"none","subgrid",Pe,je],Y=()=>["auto",{span:["full",Po,Pe,je]},Po,Pe,je],U=()=>[Po,"auto",Pe,je],V=()=>["auto","min","max","fr",Pe,je],j=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],O=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...$()],H=()=>[ds,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],L=()=>[e,Pe,je],W=()=>[...P(),P0,j0,{position:[Pe,je]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",II,jI,{size:[Pe,je]}],q=()=>[xh,Xl,pi],R=()=>["","none","full",f,Pe,je],J=()=>["",et,Xl,pi],ne=()=>["solid","dashed","dotted","double"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>[et,xh,P0,j0],Q=()=>["","none",S,Pe,je],oe=()=>["none",et,Pe,je],ie=()=>["none",et,Pe,je],ue=()=>[et,Pe,je],de=()=>[ds,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Jr],breakpoint:[Jr],color:[NI],container:[Jr],"drop-shadow":[Jr],ease:["in","out","in-out"],font:[_I],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Jr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Jr],shadow:[Jr],spacing:["px",et],text:[Jr],"text-shadow":[Jr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ds,je,Pe,w]}],container:["container"],columns:[{columns:[et,je,Pe,c]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[Po,"auto",Pe,je]}],basis:[{basis:[ds,"full","auto",c,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[et,ds,"auto","initial","none",je]}],grow:[{grow:["",et,Pe,je]}],shrink:[{shrink:["",et,Pe,je]}],order:[{order:[Po,"first","last","none",Pe,je]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...j(),"normal"]}],"justify-items":[{"justify-items":[...O(),"normal"]}],"justify-self":[{"justify-self":["auto",...O()]}],"align-content":[{content:["normal",...j()]}],"align-items":[{items:[...O(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...O(),{baseline:["","last"]}]}],"place-content":[{"place-content":j()}],"place-items":[{"place-items":[...O(),"baseline"]}],"place-self":[{"place-self":["auto",...O()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[c,"screen",...H()]}],"min-w":[{"min-w":[c,"screen","none",...H()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[a]},...H()]}],h:[{h:["screen",...H()]}],"min-h":[{"min-h":["screen","none",...H()]}],"max-h":[{"max-h":["screen",...H()]}],"font-size":[{text:["base",n,Xl,pi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Pe,vh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",xh,je]}],"font-family":[{font:[AI,je,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Pe,je]}],"line-clamp":[{"line-clamp":[et,"none",Pe,vh]}],leading:[{leading:[s,...$()]}],"list-image":[{"list-image":["none",Pe,je]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pe,je]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[et,"from-font","auto",Pe,pi]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[et,"auto",Pe,je]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe,je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe,je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Po,Pe,je],radial:["",Pe,je],conic:[Po,Pe,je]},TI,PI]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ne(),"hidden","none"]}],"divide-style":[{divide:[...ne(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[et,Pe,je]}],"outline-w":[{outline:["",et,Xl,pi]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",h,vu,xu]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",m,vu,xu]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[et,pi]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",g,vu,xu]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[et,Pe,je]}],"mix-blend":[{"mix-blend":[...te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[et]}],"mask-image-linear-from-pos":[{"mask-linear-from":B()}],"mask-image-linear-to-pos":[{"mask-linear-to":B()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":B()}],"mask-image-t-to-pos":[{"mask-t-to":B()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":B()}],"mask-image-r-to-pos":[{"mask-r-to":B()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":B()}],"mask-image-b-to-pos":[{"mask-b-to":B()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":B()}],"mask-image-l-to-pos":[{"mask-l-to":B()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":B()}],"mask-image-x-to-pos":[{"mask-x-to":B()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":B()}],"mask-image-y-to-pos":[{"mask-y-to":B()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Pe,je]}],"mask-image-radial-from-pos":[{"mask-radial-from":B()}],"mask-image-radial-to-pos":[{"mask-radial-to":B()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[et]}],"mask-image-conic-from-pos":[{"mask-conic-from":B()}],"mask-image-conic-to-pos":[{"mask-conic-to":B()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pe,je]}],filter:[{filter:["","none",Pe,je]}],blur:[{blur:Q()}],brightness:[{brightness:[et,Pe,je]}],contrast:[{contrast:[et,Pe,je]}],"drop-shadow":[{"drop-shadow":["","none",y,vu,xu]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",et,Pe,je]}],"hue-rotate":[{"hue-rotate":[et,Pe,je]}],invert:[{invert:["",et,Pe,je]}],saturate:[{saturate:[et,Pe,je]}],sepia:[{sepia:["",et,Pe,je]}],"backdrop-filter":[{"backdrop-filter":["","none",Pe,je]}],"backdrop-blur":[{"backdrop-blur":Q()}],"backdrop-brightness":[{"backdrop-brightness":[et,Pe,je]}],"backdrop-contrast":[{"backdrop-contrast":[et,Pe,je]}],"backdrop-grayscale":[{"backdrop-grayscale":["",et,Pe,je]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[et,Pe,je]}],"backdrop-invert":[{"backdrop-invert":["",et,Pe,je]}],"backdrop-opacity":[{"backdrop-opacity":[et,Pe,je]}],"backdrop-saturate":[{"backdrop-saturate":[et,Pe,je]}],"backdrop-sepia":[{"backdrop-sepia":["",et,Pe,je]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pe,je]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[et,"initial",Pe,je]}],ease:[{ease:["linear","initial",N,Pe,je]}],delay:[{delay:[et,Pe,je]}],animate:[{animate:["none",_,Pe,je]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,Pe,je]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:ie()}],"scale-x":[{"scale-x":ie()}],"scale-y":[{"scale-y":ie()}],"scale-z":[{"scale-z":ie()}],"scale-3d":["scale-3d"],skew:[{skew:ue()}],"skew-x":[{"skew-x":ue()}],"skew-y":[{"skew-y":ue()}],transform:[{transform:[Pe,je,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe,je]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe,je]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[et,Xl,pi,vh]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},DI=gI(OI);function ze(...e){return DI(lS(e))}function A0({className:e,...t}){return u.jsx(oS,{"data-slot":"resizable-panel-group",className:ze("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function ma({...e}){return u.jsx(Bb,{"data-slot":"resizable-panel",...e})}function I0({withHandle:e,className:t,...n}){return u.jsx(iS,{"data-slot":"resizable-handle",className:ze("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&u.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:u.jsx(ia,{className:"size-2.5"})})})}const T0=e=>{let t;const n=new Set,r=(f,h)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const g=t;t=h??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(y=>y(t,g))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,o,c);return c},LI=e=>e?T0(e):T0,zI=e=>e;function $I(e,t=zI){const n=Ie.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Ie.useDebugValue(n),n}const R0=e=>{const t=LI(e),n=r=>$I(t,r);return Object.assign(n,t),n},FI=e=>e?R0(e):R0,Yt=[];for(let e=0;e<256;++e)Yt.push((e+256).toString(16).slice(1));function BI(e,t=0){return(Yt[e[t+0]]+Yt[e[t+1]]+Yt[e[t+2]]+Yt[e[t+3]]+"-"+Yt[e[t+4]]+Yt[e[t+5]]+"-"+Yt[e[t+6]]+Yt[e[t+7]]+"-"+Yt[e[t+8]]+Yt[e[t+9]]+"-"+Yt[e[t+10]]+Yt[e[t+11]]+Yt[e[t+12]]+Yt[e[t+13]]+Yt[e[t+14]]+Yt[e[t+15]]).toLowerCase()}let wh;const VI=new Uint8Array(16);function HI(){if(!wh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");wh=crypto.getRandomValues.bind(crypto)}return wh(VI)}const UI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),M0={randomUUID:UI};function qe(e,t,n){var o;if(M0.randomUUID&&!e)return M0.randomUUID();e=e||{};const r=e.random??((o=e.rng)==null?void 0:o.call(e))??HI();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,BI(r)}function Lt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Lt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var WI={value:()=>{}};function Pd(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Vu(n)}function Vu(e){this._=e}function XI(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Vu.prototype=Pd.prototype={constructor:Vu,on:function(e,t){var n=this._,r=XI(e+"",n),o,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((o=(e=r[s]).type)&&(o=GI(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(o=(e=r[s]).type)n[o]=O0(n[o],e.name,t);else if(t==null)for(o in n)n[o]=O0(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Vu(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,s;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,o=s.length;r<o;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)}};function GI(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function O0(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=WI,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var hm="http://www.w3.org/1999/xhtml";const D0={svg:"http://www.w3.org/2000/svg",xhtml:hm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ad(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),D0.hasOwnProperty(t)?{space:D0[t],local:e}:e}function YI(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===hm&&t.documentElement.namespaceURI===hm?t.createElement(e):t.createElementNS(n,e)}}function qI(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function xS(e){var t=Ad(e);return(t.local?qI:YI)(t)}function KI(){}function pg(e){return e==null?KI:function(){return this.querySelector(e)}}function QI(e){typeof e!="function"&&(e=pg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],a=s.length,c=r[o]=new Array(a),d,f,h=0;h<a;++h)(d=s[h])&&(f=e.call(d,d.__data__,h,s))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f);return new Gn(r,this._parents)}function JI(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ZI(){return[]}function vS(e){return e==null?ZI:function(){return this.querySelectorAll(e)}}function eT(e){return function(){return JI(e.apply(this,arguments))}}function tT(e){typeof e=="function"?e=eT(e):e=vS(e);for(var t=this._groups,n=t.length,r=[],o=[],s=0;s<n;++s)for(var a=t[s],c=a.length,d,f=0;f<c;++f)(d=a[f])&&(r.push(e.call(d,d.__data__,f,a)),o.push(d));return new Gn(r,o)}function wS(e){return function(){return this.matches(e)}}function bS(e){return function(t){return t.matches(e)}}var nT=Array.prototype.find;function rT(e){return function(){return nT.call(this.children,e)}}function oT(){return this.firstElementChild}function iT(e){return this.select(e==null?oT:rT(typeof e=="function"?e:bS(e)))}var sT=Array.prototype.filter;function lT(){return Array.from(this.children)}function aT(e){return function(){return sT.call(this.children,e)}}function cT(e){return this.selectAll(e==null?lT:aT(typeof e=="function"?e:bS(e)))}function uT(e){typeof e!="function"&&(e=wS(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],a=s.length,c=r[o]=[],d,f=0;f<a;++f)(d=s[f])&&e.call(d,d.__data__,f,s)&&c.push(d);return new Gn(r,this._parents)}function SS(e){return new Array(e.length)}function dT(){return new Gn(this._enter||this._groups.map(SS),this._parents)}function td(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}td.prototype={constructor:td,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function fT(e){return function(){return e}}function pT(e,t,n,r,o,s){for(var a=0,c,d=t.length,f=s.length;a<f;++a)(c=t[a])?(c.__data__=s[a],r[a]=c):n[a]=new td(e,s[a]);for(;a<d;++a)(c=t[a])&&(o[a]=c)}function hT(e,t,n,r,o,s,a){var c,d,f=new Map,h=t.length,m=s.length,g=new Array(h),y;for(c=0;c<h;++c)(d=t[c])&&(g[c]=y=a.call(d,d.__data__,c,t)+"",f.has(y)?o[c]=d:f.set(y,d));for(c=0;c<m;++c)y=a.call(e,s[c],c,s)+"",(d=f.get(y))?(r[c]=d,d.__data__=s[c],f.delete(y)):n[c]=new td(e,s[c]);for(c=0;c<h;++c)(d=t[c])&&f.get(g[c])===d&&(o[c]=d)}function mT(e){return e.__data__}function gT(e,t){if(!arguments.length)return Array.from(this,mT);var n=t?hT:pT,r=this._parents,o=this._groups;typeof e!="function"&&(e=fT(e));for(var s=o.length,a=new Array(s),c=new Array(s),d=new Array(s),f=0;f<s;++f){var h=r[f],m=o[f],g=m.length,y=yT(e.call(h,h&&h.__data__,f,r)),S=y.length,v=c[f]=new Array(S),w=a[f]=new Array(S),N=d[f]=new Array(g);n(h,m,v,w,N,y,t);for(var _=0,k=0,P,I;_<S;++_)if(P=v[_]){for(_>=k&&(k=_+1);!(I=w[k])&&++k<S;);P._next=I||null}}return a=new Gn(a,r),a._enter=c,a._exit=d,a}function yT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xT(){return new Gn(this._exit||this._groups.map(SS),this._parents)}function vT(e,t,n){var r=this.enter(),o=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?s.remove():n(s),r&&o?r.merge(o).order():o}function wT(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,s=r.length,a=Math.min(o,s),c=new Array(o),d=0;d<a;++d)for(var f=n[d],h=r[d],m=f.length,g=c[d]=new Array(m),y,S=0;S<m;++S)(y=f[S]||h[S])&&(g[S]=y);for(;d<o;++d)c[d]=n[d];return new Gn(c,this._parents)}function bT(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,s=r[o],a;--o>=0;)(a=r[o])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function ST(e){e||(e=NT);function t(m,g){return m&&g?e(m.__data__,g.__data__):!m-!g}for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var a=n[s],c=a.length,d=o[s]=new Array(c),f,h=0;h<c;++h)(f=a[h])&&(d[h]=f);d.sort(t)}return new Gn(o,this._parents).order()}function NT(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function CT(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function kT(){return Array.from(this)}function ET(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length;o<s;++o){var a=r[o];if(a)return a}return null}function _T(){let e=0;for(const t of this)++e;return e}function jT(){return!this.node()}function PT(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],s=0,a=o.length,c;s<a;++s)(c=o[s])&&e.call(c,c.__data__,s,o);return this}function AT(e){return function(){this.removeAttribute(e)}}function IT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TT(e,t){return function(){this.setAttribute(e,t)}}function RT(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function MT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function OT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function DT(e,t){var n=Ad(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?IT:AT:typeof t=="function"?n.local?OT:MT:n.local?RT:TT)(n,t))}function NS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function LT(e){return function(){this.style.removeProperty(e)}}function zT(e,t,n){return function(){this.style.setProperty(e,t,n)}}function $T(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function FT(e,t,n){return arguments.length>1?this.each((t==null?LT:typeof t=="function"?$T:zT)(e,t,n??"")):Ds(this.node(),e)}function Ds(e,t){return e.style.getPropertyValue(t)||NS(e).getComputedStyle(e,null).getPropertyValue(t)}function BT(e){return function(){delete this[e]}}function VT(e,t){return function(){this[e]=t}}function HT(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function UT(e,t){return arguments.length>1?this.each((t==null?BT:typeof t=="function"?HT:VT)(e,t)):this.node()[e]}function CS(e){return e.trim().split(/^|\s+/)}function hg(e){return e.classList||new kS(e)}function kS(e){this._node=e,this._names=CS(e.getAttribute("class")||"")}kS.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ES(e,t){for(var n=hg(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function _S(e,t){for(var n=hg(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function WT(e){return function(){ES(this,e)}}function XT(e){return function(){_S(this,e)}}function GT(e,t){return function(){(t.apply(this,arguments)?ES:_S)(this,e)}}function YT(e,t){var n=CS(e+"");if(arguments.length<2){for(var r=hg(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?GT:t?WT:XT)(n,t))}function qT(){this.textContent=""}function KT(e){return function(){this.textContent=e}}function QT(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function JT(e){return arguments.length?this.each(e==null?qT:(typeof e=="function"?QT:KT)(e)):this.node().textContent}function ZT(){this.innerHTML=""}function eR(e){return function(){this.innerHTML=e}}function tR(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function nR(e){return arguments.length?this.each(e==null?ZT:(typeof e=="function"?tR:eR)(e)):this.node().innerHTML}function rR(){this.nextSibling&&this.parentNode.appendChild(this)}function oR(){return this.each(rR)}function iR(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sR(){return this.each(iR)}function lR(e){var t=typeof e=="function"?e:xS(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function aR(){return null}function cR(e,t){var n=typeof e=="function"?e:xS(e),r=t==null?aR:typeof t=="function"?t:pg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function uR(){var e=this.parentNode;e&&e.removeChild(this)}function dR(){return this.each(uR)}function fR(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pR(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hR(e){return this.select(e?pR:fR)}function mR(e){return arguments.length?this.property("__data__",e):this.node().__data__}function gR(e){return function(t){e.call(this,t,this.__data__)}}function yR(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function xR(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,s;n<o;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function vR(e,t,n){return function(){var r=this.__on,o,s=gR(t);if(r){for(var a=0,c=r.length;a<c;++a)if((o=r[a]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=t;return}}this.addEventListener(e.type,s,n),o={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(o):this.__on=[o]}}function wR(e,t,n){var r=yR(e+""),o,s=r.length,a;if(arguments.length<2){var c=this.node().__on;if(c){for(var d=0,f=c.length,h;d<f;++d)for(o=0,h=c[d];o<s;++o)if((a=r[o]).type===h.type&&a.name===h.name)return h.value}return}for(c=t?vR:xR,o=0;o<s;++o)this.each(c(r[o],t,n));return this}function jS(e,t,n){var r=NS(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function bR(e,t){return function(){return jS(this,e,t)}}function SR(e,t){return function(){return jS(this,e,t.apply(this,arguments))}}function NR(e,t){return this.each((typeof t=="function"?SR:bR)(e,t))}function*CR(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length,a;o<s;++o)(a=r[o])&&(yield a)}var PS=[null];function Gn(e,t){this._groups=e,this._parents=t}function Wa(){return new Gn([[document.documentElement]],PS)}function kR(){return this}Gn.prototype=Wa.prototype={constructor:Gn,select:QI,selectAll:tT,selectChild:iT,selectChildren:cT,filter:uT,data:gT,enter:dT,exit:xT,join:vT,merge:wT,selection:kR,order:bT,sort:ST,call:CT,nodes:kT,node:ET,size:_T,empty:jT,each:PT,attr:DT,style:FT,property:UT,classed:YT,text:JT,html:nR,raise:oR,lower:sR,append:lR,insert:cR,remove:dR,clone:hR,datum:mR,on:wR,dispatch:NR,[Symbol.iterator]:CR};function Hn(e){return typeof e=="string"?new Gn([[document.querySelector(e)]],[document.documentElement]):new Gn([[e]],PS)}function ER(e){let t;for(;t=e.sourceEvent;)e=t;return e}function pr(e,t){if(e=ER(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const _R={passive:!1},ka={capture:!0,passive:!1};function bh(e){e.stopImmediatePropagation()}function ks(e){e.preventDefault(),e.stopImmediatePropagation()}function AS(e){var t=e.document.documentElement,n=Hn(e).on("dragstart.drag",ks,ka);"onselectstart"in t?n.on("selectstart.drag",ks,ka):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function IS(e,t){var n=e.document.documentElement,r=Hn(e).on("dragstart.drag",null);t&&(r.on("click.drag",ks,ka),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const wu=e=>()=>e;function mm(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:s,x:a,y:c,dx:d,dy:f,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:h}})}mm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function jR(e){return!e.ctrlKey&&!e.button}function PR(){return this.parentNode}function AR(e,t){return t??{x:e.x,y:e.y}}function IR(){return navigator.maxTouchPoints||"ontouchstart"in this}function TS(){var e=jR,t=PR,n=AR,r=IR,o={},s=Pd("start","drag","end"),a=0,c,d,f,h,m=0;function g(P){P.on("mousedown.drag",y).filter(r).on("touchstart.drag",w).on("touchmove.drag",N,_R).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(P,I){if(!(h||!e.call(this,P,I))){var A=k(this,t.call(this,P,I),P,I,"mouse");A&&(Hn(P.view).on("mousemove.drag",S,ka).on("mouseup.drag",v,ka),AS(P.view),bh(P),f=!1,c=P.clientX,d=P.clientY,A("start",P))}}function S(P){if(ks(P),!f){var I=P.clientX-c,A=P.clientY-d;f=I*I+A*A>m}o.mouse("drag",P)}function v(P){Hn(P.view).on("mousemove.drag mouseup.drag",null),IS(P.view,f),ks(P),o.mouse("end",P)}function w(P,I){if(e.call(this,P,I)){var A=P.changedTouches,T=t.call(this,P,I),$=A.length,G,X;for(G=0;G<$;++G)(X=k(this,T,P,I,A[G].identifier,A[G]))&&(bh(P),X("start",P,A[G]))}}function N(P){var I=P.changedTouches,A=I.length,T,$;for(T=0;T<A;++T)($=o[I[T].identifier])&&(ks(P),$("drag",P,I[T]))}function _(P){var I=P.changedTouches,A=I.length,T,$;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),T=0;T<A;++T)($=o[I[T].identifier])&&(bh(P),$("end",P,I[T]))}function k(P,I,A,T,$,G){var X=s.copy(),Y=pr(G||A,I),U,V,j;if((j=n.call(P,new mm("beforestart",{sourceEvent:A,target:g,identifier:$,active:a,x:Y[0],y:Y[1],dx:0,dy:0,dispatch:X}),T))!=null)return U=j.x-Y[0]||0,V=j.y-Y[1]||0,function O(z,H,L){var W=Y,M;switch(z){case"start":o[$]=O,M=a++;break;case"end":delete o[$],--a;case"drag":Y=pr(L||H,I),M=a;break}X.call(z,P,new mm(z,{sourceEvent:H,subject:j,target:g,identifier:$,active:M,x:Y[0]+U,y:Y[1]+V,dx:Y[0]-W[0],dy:Y[1]-W[1],dispatch:X}),T)}}return g.filter=function(P){return arguments.length?(e=typeof P=="function"?P:wu(!!P),g):e},g.container=function(P){return arguments.length?(t=typeof P=="function"?P:wu(P),g):t},g.subject=function(P){return arguments.length?(n=typeof P=="function"?P:wu(P),g):n},g.touchable=function(P){return arguments.length?(r=typeof P=="function"?P:wu(!!P),g):r},g.on=function(){var P=s.on.apply(s,arguments);return P===s?g:P},g.clickDistance=function(P){return arguments.length?(m=(P=+P)*P,g):Math.sqrt(m)},g}function mg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function RS(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Xa(){}var Ea=.7,nd=1/Ea,Es="\\s*([+-]?\\d+)\\s*",_a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TR=/^#([0-9a-f]{3,8})$/,RR=new RegExp(`^rgb\\(${Es},${Es},${Es}\\)$`),MR=new RegExp(`^rgb\\(${Rr},${Rr},${Rr}\\)$`),OR=new RegExp(`^rgba\\(${Es},${Es},${Es},${_a}\\)$`),DR=new RegExp(`^rgba\\(${Rr},${Rr},${Rr},${_a}\\)$`),LR=new RegExp(`^hsl\\(${_a},${Rr},${Rr}\\)$`),zR=new RegExp(`^hsla\\(${_a},${Rr},${Rr},${_a}\\)$`),L0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mg(Xa,ja,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:z0,formatHex:z0,formatHex8:$R,formatHsl:FR,formatRgb:$0,toString:$0});function z0(){return this.rgb().formatHex()}function $R(){return this.rgb().formatHex8()}function FR(){return MS(this).formatHsl()}function $0(){return this.rgb().formatRgb()}function ja(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=TR.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?F0(t):n===3?new An(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?bu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?bu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RR.exec(e))?new An(t[1],t[2],t[3],1):(t=MR.exec(e))?new An(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=OR.exec(e))?bu(t[1],t[2],t[3],t[4]):(t=DR.exec(e))?bu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LR.exec(e))?H0(t[1],t[2]/100,t[3]/100,1):(t=zR.exec(e))?H0(t[1],t[2]/100,t[3]/100,t[4]):L0.hasOwnProperty(e)?F0(L0[e]):e==="transparent"?new An(NaN,NaN,NaN,0):null}function F0(e){return new An(e>>16&255,e>>8&255,e&255,1)}function bu(e,t,n,r){return r<=0&&(e=t=n=NaN),new An(e,t,n,r)}function BR(e){return e instanceof Xa||(e=ja(e)),e?(e=e.rgb(),new An(e.r,e.g,e.b,e.opacity)):new An}function gm(e,t,n,r){return arguments.length===1?BR(e):new An(e,t,n,r??1)}function An(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}mg(An,gm,RS(Xa,{brighter(e){return e=e==null?nd:Math.pow(nd,e),new An(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ea:Math.pow(Ea,e),new An(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new An(wi(this.r),wi(this.g),wi(this.b),rd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:B0,formatHex:B0,formatHex8:VR,formatRgb:V0,toString:V0}));function B0(){return`#${yi(this.r)}${yi(this.g)}${yi(this.b)}`}function VR(){return`#${yi(this.r)}${yi(this.g)}${yi(this.b)}${yi((isNaN(this.opacity)?1:this.opacity)*255)}`}function V0(){const e=rd(this.opacity);return`${e===1?"rgb(":"rgba("}${wi(this.r)}, ${wi(this.g)}, ${wi(this.b)}${e===1?")":`, ${e})`}`}function rd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yi(e){return e=wi(e),(e<16?"0":"")+e.toString(16)}function H0(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mr(e,t,n,r)}function MS(e){if(e instanceof mr)return new mr(e.h,e.s,e.l,e.opacity);if(e instanceof Xa||(e=ja(e)),!e)return new mr;if(e instanceof mr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,c=s-o,d=(s+o)/2;return c?(t===s?a=(n-r)/c+(n<r)*6:n===s?a=(r-t)/c+2:a=(t-n)/c+4,c/=d<.5?s+o:2-s-o,a*=60):c=d>0&&d<1?0:a,new mr(a,c,d,e.opacity)}function HR(e,t,n,r){return arguments.length===1?MS(e):new mr(e,t,n,r??1)}function mr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}mg(mr,HR,RS(Xa,{brighter(e){return e=e==null?nd:Math.pow(nd,e),new mr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ea:Math.pow(Ea,e),new mr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new An(Sh(e>=240?e-240:e+120,o,r),Sh(e,o,r),Sh(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new mr(U0(this.h),Su(this.s),Su(this.l),rd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rd(this.opacity);return`${e===1?"hsl(":"hsla("}${U0(this.h)}, ${Su(this.s)*100}%, ${Su(this.l)*100}%${e===1?")":`, ${e})`}`}}));function U0(e){return e=(e||0)%360,e<0?e+360:e}function Su(e){return Math.max(0,Math.min(1,e||0))}function Sh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const OS=e=>()=>e;function UR(e,t){return function(n){return e+n*t}}function WR(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function XR(e){return(e=+e)==1?DS:function(t,n){return n-t?WR(t,n,e):OS(isNaN(t)?n:t)}}function DS(e,t){var n=t-e;return n?UR(e,n):OS(isNaN(e)?t:e)}const W0=function e(t){var n=XR(t);function r(o,s){var a=n((o=gm(o)).r,(s=gm(s)).r),c=n(o.g,s.g),d=n(o.b,s.b),f=DS(o.opacity,s.opacity);return function(h){return o.r=a(h),o.g=c(h),o.b=d(h),o.opacity=f(h),o+""}}return r.gamma=e,r}(1);function Mo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ym=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nh=new RegExp(ym.source,"g");function GR(e){return function(){return e}}function YR(e){return function(t){return e(t)+""}}function qR(e,t){var n=ym.lastIndex=Nh.lastIndex=0,r,o,s,a=-1,c=[],d=[];for(e=e+"",t=t+"";(r=ym.exec(e))&&(o=Nh.exec(t));)(s=o.index)>n&&(s=t.slice(n,s),c[a]?c[a]+=s:c[++a]=s),(r=r[0])===(o=o[0])?c[a]?c[a]+=o:c[++a]=o:(c[++a]=null,d.push({i:a,x:Mo(r,o)})),n=Nh.lastIndex;return n<t.length&&(s=t.slice(n),c[a]?c[a]+=s:c[++a]=s),c.length<2?d[0]?YR(d[0].x):GR(t):(t=d.length,function(f){for(var h=0,m;h<t;++h)c[(m=d[h]).i]=m.x(f);return c.join("")})}var X0=180/Math.PI,xm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function LS(e,t,n,r,o,s){var a,c,d;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(d=e*n+t*r)&&(n-=e*d,r-=t*d),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,d/=c),e*r<t*n&&(e=-e,t=-t,d=-d,a=-a),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*X0,skewX:Math.atan(d)*X0,scaleX:a,scaleY:c}}var Nu;function KR(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?xm:LS(t.a,t.b,t.c,t.d,t.e,t.f)}function QR(e){return e==null||(Nu||(Nu=document.createElementNS("http://www.w3.org/2000/svg","g")),Nu.setAttribute("transform",e),!(e=Nu.transform.baseVal.consolidate()))?xm:(e=e.matrix,LS(e.a,e.b,e.c,e.d,e.e,e.f))}function zS(e,t,n,r){function o(f){return f.length?f.pop()+" ":""}function s(f,h,m,g,y,S){if(f!==m||h!==g){var v=y.push("translate(",null,t,null,n);S.push({i:v-4,x:Mo(f,m)},{i:v-2,x:Mo(h,g)})}else(m||g)&&y.push("translate("+m+t+g+n)}function a(f,h,m,g){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),g.push({i:m.push(o(m)+"rotate(",null,r)-2,x:Mo(f,h)})):h&&m.push(o(m)+"rotate("+h+r)}function c(f,h,m,g){f!==h?g.push({i:m.push(o(m)+"skewX(",null,r)-2,x:Mo(f,h)}):h&&m.push(o(m)+"skewX("+h+r)}function d(f,h,m,g,y,S){if(f!==m||h!==g){var v=y.push(o(y)+"scale(",null,",",null,")");S.push({i:v-4,x:Mo(f,m)},{i:v-2,x:Mo(h,g)})}else(m!==1||g!==1)&&y.push(o(y)+"scale("+m+","+g+")")}return function(f,h){var m=[],g=[];return f=e(f),h=e(h),s(f.translateX,f.translateY,h.translateX,h.translateY,m,g),a(f.rotate,h.rotate,m,g),c(f.skewX,h.skewX,m,g),d(f.scaleX,f.scaleY,h.scaleX,h.scaleY,m,g),f=h=null,function(y){for(var S=-1,v=g.length,w;++S<v;)m[(w=g[S]).i]=w.x(y);return m.join("")}}}var JR=zS(KR,"px, ","px)","deg)"),ZR=zS(QR,", ",")",")"),eM=1e-12;function G0(e){return((e=Math.exp(e))+1/e)/2}function tM(e){return((e=Math.exp(e))-1/e)/2}function nM(e){return((e=Math.exp(2*e))-1)/(e+1)}const rM=function e(t,n,r){function o(s,a){var c=s[0],d=s[1],f=s[2],h=a[0],m=a[1],g=a[2],y=h-c,S=m-d,v=y*y+S*S,w,N;if(v<eM)N=Math.log(g/f)/t,w=function(T){return[c+T*y,d+T*S,f*Math.exp(t*T*N)]};else{var _=Math.sqrt(v),k=(g*g-f*f+r*v)/(2*f*n*_),P=(g*g-f*f-r*v)/(2*g*n*_),I=Math.log(Math.sqrt(k*k+1)-k),A=Math.log(Math.sqrt(P*P+1)-P);N=(A-I)/t,w=function(T){var $=T*N,G=G0(I),X=f/(n*_)*(G*nM(t*$+I)-tM(I));return[c+X*y,d+X*S,f*G/G0(t*$+I)]}}return w.duration=N*1e3*t/Math.SQRT2,w}return o.rho=function(s){var a=Math.max(.001,+s),c=a*a,d=c*c;return e(a,c,d)},o}(Math.SQRT2,2,4);var Ls=0,aa=0,Gl=0,$S=1e3,od,ca,id=0,Ni=0,Id=0,Pa=typeof performance=="object"&&performance.now?performance:Date,FS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gg(){return Ni||(FS(oM),Ni=Pa.now()+Id)}function oM(){Ni=0}function sd(){this._call=this._time=this._next=null}sd.prototype=BS.prototype={constructor:sd,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?gg():+n)+(t==null?0:+t),!this._next&&ca!==this&&(ca?ca._next=this:od=this,ca=this),this._call=e,this._time=n,vm()},stop:function(){this._call&&(this._call=null,this._time=1/0,vm())}};function BS(e,t,n){var r=new sd;return r.restart(e,t,n),r}function iM(){gg(),++Ls;for(var e=od,t;e;)(t=Ni-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ls}function Y0(){Ni=(id=Pa.now())+Id,Ls=aa=0;try{iM()}finally{Ls=0,lM(),Ni=0}}function sM(){var e=Pa.now(),t=e-id;t>$S&&(Id-=t,id=e)}function lM(){for(var e,t=od,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:od=n);ca=e,vm(r)}function vm(e){if(!Ls){aa&&(aa=clearTimeout(aa));var t=e-Ni;t>24?(e<1/0&&(aa=setTimeout(Y0,e-Pa.now()-Id)),Gl&&(Gl=clearInterval(Gl))):(Gl||(id=Pa.now(),Gl=setInterval(sM,$S)),Ls=1,FS(Y0))}}function q0(e,t,n){var r=new sd;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var aM=Pd("start","end","cancel","interrupt"),cM=[],VS=0,K0=1,wm=2,Hu=3,Q0=4,bm=5,Uu=6;function Td(e,t,n,r,o,s){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;uM(e,n,{name:t,index:r,group:o,on:aM,tween:cM,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:VS})}function yg(e,t){var n=br(e,t);if(n.state>VS)throw new Error("too late; already scheduled");return n}function $r(e,t){var n=br(e,t);if(n.state>Hu)throw new Error("too late; already running");return n}function br(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function uM(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=BS(s,0,n.time);function s(f){n.state=K0,n.timer.restart(a,n.delay,n.time),n.delay<=f&&a(f-n.delay)}function a(f){var h,m,g,y;if(n.state!==K0)return d();for(h in r)if(y=r[h],y.name===n.name){if(y.state===Hu)return q0(a);y.state===Q0?(y.state=Uu,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete r[h]):+h<t&&(y.state=Uu,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete r[h])}if(q0(function(){n.state===Hu&&(n.state=Q0,n.timer.restart(c,n.delay,n.time),c(f))}),n.state=wm,n.on.call("start",e,e.__data__,n.index,n.group),n.state===wm){for(n.state=Hu,o=new Array(g=n.tween.length),h=0,m=-1;h<g;++h)(y=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(o[++m]=y);o.length=m+1}}function c(f){for(var h=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=bm,1),m=-1,g=o.length;++m<g;)o[m].call(e,h);n.state===bm&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=Uu,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function Wu(e,t){var n=e.__transition,r,o,s=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){s=!1;continue}o=r.state>wm&&r.state<bm,r.state=Uu,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}s&&delete e.__transition}}function dM(e){return this.each(function(){Wu(this,e)})}function fM(e,t){var n,r;return function(){var o=$r(this,e),s=o.tween;if(s!==n){r=n=s;for(var a=0,c=r.length;a<c;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function pM(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var s=$r(this,e),a=s.tween;if(a!==r){o=(r=a).slice();for(var c={name:t,value:n},d=0,f=o.length;d<f;++d)if(o[d].name===t){o[d]=c;break}d===f&&o.push(c)}s.tween=o}}function hM(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=br(this.node(),n).tween,o=0,s=r.length,a;o<s;++o)if((a=r[o]).name===e)return a.value;return null}return this.each((t==null?fM:pM)(n,e,t))}function xg(e,t,n){var r=e._id;return e.each(function(){var o=$r(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return br(o,r).value[t]}}function HS(e,t){var n;return(typeof t=="number"?Mo:t instanceof ja?W0:(n=ja(t))?(t=n,W0):qR)(e,t)}function mM(e){return function(){this.removeAttribute(e)}}function gM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yM(e,t,n){var r,o=n+"",s;return function(){var a=this.getAttribute(e);return a===o?null:a===r?s:s=t(r=a,n)}}function xM(e,t,n){var r,o=n+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?s:s=t(r=a,n)}}function vM(e,t,n){var r,o,s;return function(){var a,c=n(this),d;return c==null?void this.removeAttribute(e):(a=this.getAttribute(e),d=c+"",a===d?null:a===r&&d===o?s:(o=d,s=t(r=a,c)))}}function wM(e,t,n){var r,o,s;return function(){var a,c=n(this),d;return c==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),d=c+"",a===d?null:a===r&&d===o?s:(o=d,s=t(r=a,c)))}}function bM(e,t){var n=Ad(e),r=n==="transform"?ZR:HS;return this.attrTween(e,typeof t=="function"?(n.local?wM:vM)(n,r,xg(this,"attr."+e,t)):t==null?(n.local?gM:mM)(n):(n.local?xM:yM)(n,r,t))}function SM(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function NM(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function CM(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&NM(e,s)),n}return o._value=t,o}function kM(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&SM(e,s)),n}return o._value=t,o}function EM(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ad(e);return this.tween(n,(r.local?CM:kM)(r,t))}function _M(e,t){return function(){yg(this,e).delay=+t.apply(this,arguments)}}function jM(e,t){return t=+t,function(){yg(this,e).delay=t}}function PM(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_M:jM)(t,e)):br(this.node(),t).delay}function AM(e,t){return function(){$r(this,e).duration=+t.apply(this,arguments)}}function IM(e,t){return t=+t,function(){$r(this,e).duration=t}}function TM(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?AM:IM)(t,e)):br(this.node(),t).duration}function RM(e,t){if(typeof t!="function")throw new Error;return function(){$r(this,e).ease=t}}function MM(e){var t=this._id;return arguments.length?this.each(RM(t,e)):br(this.node(),t).ease}function OM(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;$r(this,e).ease=n}}function DM(e){if(typeof e!="function")throw new Error;return this.each(OM(this._id,e))}function LM(e){typeof e!="function"&&(e=wS(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],a=s.length,c=r[o]=[],d,f=0;f<a;++f)(d=s[f])&&e.call(d,d.__data__,f,s)&&c.push(d);return new oo(r,this._parents,this._name,this._id)}function zM(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,s=Math.min(r,o),a=new Array(r),c=0;c<s;++c)for(var d=t[c],f=n[c],h=d.length,m=a[c]=new Array(h),g,y=0;y<h;++y)(g=d[y]||f[y])&&(m[y]=g);for(;c<r;++c)a[c]=t[c];return new oo(a,this._parents,this._name,this._id)}function $M(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function FM(e,t,n){var r,o,s=$M(t)?yg:$r;return function(){var a=s(this,e),c=a.on;c!==r&&(o=(r=c).copy()).on(t,n),a.on=o}}function BM(e,t){var n=this._id;return arguments.length<2?br(this.node(),n).on.on(e):this.each(FM(n,e,t))}function VM(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function HM(){return this.on("end.remove",VM(this._id))}function UM(e){var t=this._name,n=this._id;typeof e!="function"&&(e=pg(e));for(var r=this._groups,o=r.length,s=new Array(o),a=0;a<o;++a)for(var c=r[a],d=c.length,f=s[a]=new Array(d),h,m,g=0;g<d;++g)(h=c[g])&&(m=e.call(h,h.__data__,g,c))&&("__data__"in h&&(m.__data__=h.__data__),f[g]=m,Td(f[g],t,n,g,f,br(h,n)));return new oo(s,this._parents,t,n)}function WM(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vS(e));for(var r=this._groups,o=r.length,s=[],a=[],c=0;c<o;++c)for(var d=r[c],f=d.length,h,m=0;m<f;++m)if(h=d[m]){for(var g=e.call(h,h.__data__,m,d),y,S=br(h,n),v=0,w=g.length;v<w;++v)(y=g[v])&&Td(y,t,n,v,g,S);s.push(g),a.push(h)}return new oo(s,a,t,n)}var XM=Wa.prototype.constructor;function GM(){return new XM(this._groups,this._parents)}function YM(e,t){var n,r,o;return function(){var s=Ds(this,e),a=(this.style.removeProperty(e),Ds(this,e));return s===a?null:s===n&&a===r?o:o=t(n=s,r=a)}}function US(e){return function(){this.style.removeProperty(e)}}function qM(e,t,n){var r,o=n+"",s;return function(){var a=Ds(this,e);return a===o?null:a===r?s:s=t(r=a,n)}}function KM(e,t,n){var r,o,s;return function(){var a=Ds(this,e),c=n(this),d=c+"";return c==null&&(d=c=(this.style.removeProperty(e),Ds(this,e))),a===d?null:a===r&&d===o?s:(o=d,s=t(r=a,c))}}function QM(e,t){var n,r,o,s="style."+t,a="end."+s,c;return function(){var d=$r(this,e),f=d.on,h=d.value[s]==null?c||(c=US(t)):void 0;(f!==n||o!==h)&&(r=(n=f).copy()).on(a,o=h),d.on=r}}function JM(e,t,n){var r=(e+="")=="transform"?JR:HS;return t==null?this.styleTween(e,YM(e,r)).on("end.style."+e,US(e)):typeof t=="function"?this.styleTween(e,KM(e,r,xg(this,"style."+e,t))).each(QM(this._id,e)):this.styleTween(e,qM(e,r,t),n).on("end.style."+e,null)}function ZM(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function eO(e,t,n){var r,o;function s(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&ZM(e,a,n)),r}return s._value=t,s}function tO(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,eO(e,t,n??""))}function nO(e){return function(){this.textContent=e}}function rO(e){return function(){var t=e(this);this.textContent=t??""}}function oO(e){return this.tween("text",typeof e=="function"?rO(xg(this,"text",e)):nO(e==null?"":e+""))}function iO(e){return function(t){this.textContent=e.call(this,t)}}function sO(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&iO(o)),t}return r._value=e,r}function lO(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,sO(e))}function aO(){for(var e=this._name,t=this._id,n=WS(),r=this._groups,o=r.length,s=0;s<o;++s)for(var a=r[s],c=a.length,d,f=0;f<c;++f)if(d=a[f]){var h=br(d,t);Td(d,e,n,f,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new oo(r,this._parents,e,n)}function cO(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(s,a){var c={value:a},d={value:function(){--o===0&&s()}};n.each(function(){var f=$r(this,r),h=f.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(d)),f.on=t}),o===0&&s()})}var uO=0;function oo(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function WS(){return++uO}var Zr=Wa.prototype;oo.prototype={constructor:oo,select:UM,selectAll:WM,selectChild:Zr.selectChild,selectChildren:Zr.selectChildren,filter:LM,merge:zM,selection:GM,transition:aO,call:Zr.call,nodes:Zr.nodes,node:Zr.node,size:Zr.size,empty:Zr.empty,each:Zr.each,on:BM,attr:bM,attrTween:EM,style:JM,styleTween:tO,text:oO,textTween:lO,remove:HM,tween:hM,delay:PM,duration:TM,ease:MM,easeVarying:DM,end:cO,[Symbol.iterator]:Zr[Symbol.iterator]};function dO(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var fO={time:null,delay:0,duration:250,ease:dO};function pO(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function hO(e){var t,n;e instanceof oo?(t=e._id,e=e._name):(t=WS(),(n=fO).time=gg(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var a=r[s],c=a.length,d,f=0;f<c;++f)(d=a[f])&&Td(d,e,t,f,a,n||pO(d,t));return new oo(r,this._parents,e,t)}Wa.prototype.interrupt=dM;Wa.prototype.transition=hO;const Cu=e=>()=>e;function mO(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function no(e,t,n){this.k=e,this.x=t,this.y=n}no.prototype={constructor:no,scale:function(e){return e===1?this:new no(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new no(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Rd=new no(1,0,0);XS.prototype=no.prototype;function XS(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Rd;return e.__zoom}function Ch(e){e.stopImmediatePropagation()}function Yl(e){e.preventDefault(),e.stopImmediatePropagation()}function gO(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function yO(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function J0(){return this.__zoom||Rd}function xO(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function vO(){return navigator.maxTouchPoints||"ontouchstart"in this}function wO(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function GS(){var e=gO,t=yO,n=wO,r=xO,o=vO,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],c=250,d=rM,f=Pd("start","zoom","end"),h,m,g,y=500,S=150,v=0,w=10;function N(j){j.property("__zoom",J0).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",G).on("dblclick.zoom",X).filter(o).on("touchstart.zoom",Y).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}N.transform=function(j,O,z,H){var L=j.selection?j.selection():j;L.property("__zoom",J0),j!==L?I(j,O,z,H):L.interrupt().each(function(){A(this,arguments).event(H).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},N.scaleBy=function(j,O,z,H){N.scaleTo(j,function(){var L=this.__zoom.k,W=typeof O=="function"?O.apply(this,arguments):O;return L*W},z,H)},N.scaleTo=function(j,O,z,H){N.transform(j,function(){var L=t.apply(this,arguments),W=this.__zoom,M=z==null?P(L):typeof z=="function"?z.apply(this,arguments):z,F=W.invert(M),q=typeof O=="function"?O.apply(this,arguments):O;return n(k(_(W,q),M,F),L,a)},z,H)},N.translateBy=function(j,O,z,H){N.transform(j,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof z=="function"?z.apply(this,arguments):z),t.apply(this,arguments),a)},null,H)},N.translateTo=function(j,O,z,H,L){N.transform(j,function(){var W=t.apply(this,arguments),M=this.__zoom,F=H==null?P(W):typeof H=="function"?H.apply(this,arguments):H;return n(Rd.translate(F[0],F[1]).scale(M.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof z=="function"?-z.apply(this,arguments):-z),W,a)},H,L)};function _(j,O){return O=Math.max(s[0],Math.min(s[1],O)),O===j.k?j:new no(O,j.x,j.y)}function k(j,O,z){var H=O[0]-z[0]*j.k,L=O[1]-z[1]*j.k;return H===j.x&&L===j.y?j:new no(j.k,H,L)}function P(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function I(j,O,z,H){j.on("start.zoom",function(){A(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(H).end()}).tween("zoom",function(){var L=this,W=arguments,M=A(L,W).event(H),F=t.apply(L,W),q=z==null?P(F):typeof z=="function"?z.apply(L,W):z,R=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),J=L.__zoom,ne=typeof O=="function"?O.apply(L,W):O,te=d(J.invert(q).concat(R/J.k),ne.invert(q).concat(R/ne.k));return function(B){if(B===1)B=ne;else{var Q=te(B),oe=R/Q[2];B=new no(oe,q[0]-Q[0]*oe,q[1]-Q[1]*oe)}M.zoom(null,B)}})}function A(j,O,z){return!z&&j.__zooming||new T(j,O)}function T(j,O){this.that=j,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(j,O),this.taps=0}T.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,O){return this.mouse&&j!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var O=Hn(this.that).datum();f.call(j,this.that,new mO(j,{sourceEvent:this.sourceEvent,target:N,transform:this.that.__zoom,dispatch:f}),O)}};function $(j,...O){if(!e.apply(this,arguments))return;var z=A(this,O).event(j),H=this.__zoom,L=Math.max(s[0],Math.min(s[1],H.k*Math.pow(2,r.apply(this,arguments)))),W=pr(j);if(z.wheel)(z.mouse[0][0]!==W[0]||z.mouse[0][1]!==W[1])&&(z.mouse[1]=H.invert(z.mouse[0]=W)),clearTimeout(z.wheel);else{if(H.k===L)return;z.mouse=[W,H.invert(W)],Wu(this),z.start()}Yl(j),z.wheel=setTimeout(M,S),z.zoom("mouse",n(k(_(H,L),z.mouse[0],z.mouse[1]),z.extent,a));function M(){z.wheel=null,z.end()}}function G(j,...O){if(g||!e.apply(this,arguments))return;var z=j.currentTarget,H=A(this,O,!0).event(j),L=Hn(j.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",R,!0),W=pr(j,z),M=j.clientX,F=j.clientY;AS(j.view),Ch(j),H.mouse=[W,this.__zoom.invert(W)],Wu(this),H.start();function q(J){if(Yl(J),!H.moved){var ne=J.clientX-M,te=J.clientY-F;H.moved=ne*ne+te*te>v}H.event(J).zoom("mouse",n(k(H.that.__zoom,H.mouse[0]=pr(J,z),H.mouse[1]),H.extent,a))}function R(J){L.on("mousemove.zoom mouseup.zoom",null),IS(J.view,H.moved),Yl(J),H.event(J).end()}}function X(j,...O){if(e.apply(this,arguments)){var z=this.__zoom,H=pr(j.changedTouches?j.changedTouches[0]:j,this),L=z.invert(H),W=z.k*(j.shiftKey?.5:2),M=n(k(_(z,W),H,L),t.apply(this,O),a);Yl(j),c>0?Hn(this).transition().duration(c).call(I,M,H,j):Hn(this).call(N.transform,M,H,j)}}function Y(j,...O){if(e.apply(this,arguments)){var z=j.touches,H=z.length,L=A(this,O,j.changedTouches.length===H).event(j),W,M,F,q;for(Ch(j),M=0;M<H;++M)F=z[M],q=pr(F,this),q=[q,this.__zoom.invert(q),F.identifier],L.touch0?!L.touch1&&L.touch0[2]!==q[2]&&(L.touch1=q,L.taps=0):(L.touch0=q,W=!0,L.taps=1+!!h);h&&(h=clearTimeout(h)),W&&(L.taps<2&&(m=q[0],h=setTimeout(function(){h=null},y)),Wu(this),L.start())}}function U(j,...O){if(this.__zooming){var z=A(this,O).event(j),H=j.changedTouches,L=H.length,W,M,F,q;for(Yl(j),W=0;W<L;++W)M=H[W],F=pr(M,this),z.touch0&&z.touch0[2]===M.identifier?z.touch0[0]=F:z.touch1&&z.touch1[2]===M.identifier&&(z.touch1[0]=F);if(M=z.that.__zoom,z.touch1){var R=z.touch0[0],J=z.touch0[1],ne=z.touch1[0],te=z.touch1[1],B=(B=ne[0]-R[0])*B+(B=ne[1]-R[1])*B,Q=(Q=te[0]-J[0])*Q+(Q=te[1]-J[1])*Q;M=_(M,Math.sqrt(B/Q)),F=[(R[0]+ne[0])/2,(R[1]+ne[1])/2],q=[(J[0]+te[0])/2,(J[1]+te[1])/2]}else if(z.touch0)F=z.touch0[0],q=z.touch0[1];else return;z.zoom("touch",n(k(M,F,q),z.extent,a))}}function V(j,...O){if(this.__zooming){var z=A(this,O).event(j),H=j.changedTouches,L=H.length,W,M;for(Ch(j),g&&clearTimeout(g),g=setTimeout(function(){g=null},y),W=0;W<L;++W)M=H[W],z.touch0&&z.touch0[2]===M.identifier?delete z.touch0:z.touch1&&z.touch1[2]===M.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(M=pr(M,this),Math.hypot(m[0]-M[0],m[1]-M[1])<w)){var F=Hn(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return N.wheelDelta=function(j){return arguments.length?(r=typeof j=="function"?j:Cu(+j),N):r},N.filter=function(j){return arguments.length?(e=typeof j=="function"?j:Cu(!!j),N):e},N.touchable=function(j){return arguments.length?(o=typeof j=="function"?j:Cu(!!j),N):o},N.extent=function(j){return arguments.length?(t=typeof j=="function"?j:Cu([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),N):t},N.scaleExtent=function(j){return arguments.length?(s[0]=+j[0],s[1]=+j[1],N):[s[0],s[1]]},N.translateExtent=function(j){return arguments.length?(a[0][0]=+j[0][0],a[1][0]=+j[1][0],a[0][1]=+j[0][1],a[1][1]=+j[1][1],N):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},N.constrain=function(j){return arguments.length?(n=j,N):n},N.duration=function(j){return arguments.length?(c=+j,N):c},N.interpolate=function(j){return arguments.length?(d=j,N):d},N.on=function(){var j=f.on.apply(f,arguments);return j===f?N:j},N.clickDistance=function(j){return arguments.length?(v=(j=+j)*j,N):Math.sqrt(v)},N.tapDistance=function(j){return arguments.length?(w=+j,N):w},N}const Or={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Aa=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],YS=["Enter"," ","Escape"];var zs;(function(e){e.Strict="strict",e.Loose="loose"})(zs||(zs={}));var bi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(bi||(bi={}));var Ia;(function(e){e.Partial="partial",e.Full="full"})(Ia||(Ia={}));const qS={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Lo;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Lo||(Lo={}));var Ta;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ta||(Ta={}));var Ee;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ee||(Ee={}));const Z0={[Ee.Left]:Ee.Right,[Ee.Right]:Ee.Left,[Ee.Top]:Ee.Bottom,[Ee.Bottom]:Ee.Top};function KS(e){return e===null?null:e?"valid":"invalid"}const QS=e=>"id"in e&&"source"in e&&"target"in e,bO=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),vg=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Ga=(e,t=[0,0])=>{const{width:n,height:r}=lo(e),o=e.origin??t,s=n*o[0],a=r*o[1];return{x:e.position.x-s,y:e.position.y-a}},SO=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const s=typeof o=="string";let a=!t.nodeLookup&&!s?o:void 0;t.nodeLookup&&(a=s?t.nodeLookup.get(o):vg(o)?o:t.nodeLookup.get(o.id));const c=a?ld(a,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Md(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Od(n)},Ya=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const o=ld(r);n=Md(n,o)}}),Od(n)},JS=(e,t,[n,r,o]=[0,0,1],s=!1,a=!1)=>{const c={...qa(t,[n,r,o]),width:t.width/o,height:t.height/o},d=[];for(const f of e.values()){const{measured:h,selectable:m=!0,hidden:g=!1}=f;if(a&&!m||g)continue;const y=h.width??f.width??f.initialWidth??null,S=h.height??f.height??f.initialHeight??null,v=Ra(c,Fs(f)),w=(y??0)*(S??0),N=s&&v>0;(!f.internals.handleBounds||N||v>=w||f.dragging)&&d.push(f)}return d},NO=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function CO(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function kO({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:s},a){if(e.size===0)return Promise.resolve(!0);const c=CO(e,a),d=Ya(c),f=wg(d,t,n,(a==null?void 0:a.minZoom)??o,(a==null?void 0:a.maxZoom)??s,(a==null?void 0:a.padding)??.1);return await r.setViewport(f,{duration:a==null?void 0:a.duration}),Promise.resolve(!0)}function ZS({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:s}){const a=n.get(e),c=a.parentId?n.get(a.parentId):void 0,{x:d,y:f}=c?c.internals.positionAbsolute:{x:0,y:0},h=a.origin??r;let m=o;if(a.extent==="parent"&&!a.expandParent)if(!c)s==null||s("005",Or.error005());else{const y=c.measured.width,S=c.measured.height;y&&S&&(m=[[d,f],[d+y,f+S]])}else c&&Bs(a.extent)&&(m=[[a.extent[0][0]+d,a.extent[0][1]+f],[a.extent[1][0]+d,a.extent[1][1]+f]]);const g=Bs(m)?Ci(t,m,a.measured):t;return(a.measured.width===void 0||a.measured.height===void 0)&&(s==null||s("015",Or.error015())),{position:{x:g.x-d+(a.measured.width??0)*h[0],y:g.y-f+(a.measured.height??0)*h[1]},positionAbsolute:g}}async function EO({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const s=new Set(e.map(g=>g.id)),a=[];for(const g of n){if(g.deletable===!1)continue;const y=s.has(g.id),S=!y&&g.parentId&&a.find(v=>v.id===g.parentId);(y||S)&&a.push(g)}const c=new Set(t.map(g=>g.id)),d=r.filter(g=>g.deletable!==!1),h=NO(a,d);for(const g of d)c.has(g.id)&&!h.find(S=>S.id===g.id)&&h.push(g);if(!o)return{edges:h,nodes:a};const m=await o({nodes:a,edges:h});return typeof m=="boolean"?m?{edges:h,nodes:a}:{edges:[],nodes:[]}:m}const $s=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ci=(e={x:0,y:0},t,n)=>({x:$s(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:$s(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function eN(e,t,n){const{width:r,height:o}=lo(n),{x:s,y:a}=n.internals.positionAbsolute;return Ci(e,[[s,a],[s+r,a+o]],t)}const ew=(e,t,n)=>e<t?$s(Math.abs(e-t),1,t)/t:e>n?-$s(Math.abs(e-n),1,t)/t:0,tN=(e,t,n=15,r=40)=>{const o=ew(e.x,r,t.width-r)*n,s=ew(e.y,r,t.height-r)*n;return[o,s]},Md=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Sm=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Od=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Fs=(e,t=[0,0])=>{var o,s;const{x:n,y:r}=vg(e)?e.internals.positionAbsolute:Ga(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0}},ld=(e,t=[0,0])=>{var o,s;const{x:n,y:r}=vg(e)?e.internals.positionAbsolute:Ga(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0)}},nN=(e,t)=>Od(Md(Sm(e),Sm(t))),Ra=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},tw=e=>gr(e.width)&&gr(e.height)&&gr(e.x)&&gr(e.y),gr=e=>!isNaN(e)&&isFinite(e),_O=(e,t)=>{},Dd=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),qa=({x:e,y:t},[n,r,o],s=!1,a=[1,1])=>{const c={x:(e-n)/o,y:(t-r)/o};return s?Dd(c,a):c},ad=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function fs(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function jO(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=fs(e,n),o=fs(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=fs(e.top??e.y??0,n),o=fs(e.bottom??e.y??0,n),s=fs(e.left??e.x??0,t),a=fs(e.right??e.x??0,t);return{top:r,right:a,bottom:o,left:s,x:s+a,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function PO(e,t,n,r,o,s){const{x:a,y:c}=ad(e,[t,n,r]),{x:d,y:f}=ad({x:e.x+e.width,y:e.y+e.height},[t,n,r]),h=o-d,m=s-f;return{left:Math.floor(a),top:Math.floor(c),right:Math.floor(h),bottom:Math.floor(m)}}const wg=(e,t,n,r,o,s)=>{const a=jO(s,t,n),c=(t-a.x)/e.width,d=(n-a.y)/e.height,f=Math.min(c,d),h=$s(f,r,o),m=e.x+e.width/2,g=e.y+e.height/2,y=t/2-m*h,S=n/2-g*h,v=PO(e,y,S,h,t,n),w={left:Math.min(v.left-a.left,0),top:Math.min(v.top-a.top,0),right:Math.min(v.right-a.right,0),bottom:Math.min(v.bottom-a.bottom,0)};return{x:y-w.left+w.right,y:S-w.top+w.bottom,zoom:h}},cd=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Bs(e){return e!==void 0&&e!=="parent"}function lo(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function rN(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function oN(e,t={width:0,height:0},n,r,o){const s={...e},a=r.get(n);if(a){const c=a.origin||o;s.x+=a.internals.positionAbsolute.x-(t.width??0)*c[0],s.y+=a.internals.positionAbsolute.y-(t.height??0)*c[1]}return s}function nw(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function AO(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function ga(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:s,y:a}=ro(e),c=qa({x:s-((o==null?void 0:o.left)??0),y:a-((o==null?void 0:o.top)??0)},r),{x:d,y:f}=n?Dd(c,t):c;return{xSnapped:d,ySnapped:f,...c}}const bg=e=>({width:e.offsetWidth,height:e.offsetHeight}),iN=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},IO=["INPUT","SELECT","TEXTAREA"];function sN(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:IO.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const lN=e=>"clientX"in e,ro=(e,t)=>{var s,a;const n=lN(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,o=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},rw=(e,t,n,r,o)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(a=>{const c=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:o,position:a.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...bg(a)}})};function aN({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:s,targetControlX:a,targetControlY:c}){const d=e*.125+o*.375+a*.375+n*.125,f=t*.125+s*.375+c*.375+r*.125,h=Math.abs(d-e),m=Math.abs(f-t);return[d,f,h,m]}function ku(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function ow({pos:e,x1:t,y1:n,x2:r,y2:o,c:s}){switch(e){case Ee.Left:return[t-ku(t-r,s),n];case Ee.Right:return[t+ku(r-t,s),n];case Ee.Top:return[t,n-ku(n-o,s)];case Ee.Bottom:return[t,n+ku(o-n,s)]}}function cN({sourceX:e,sourceY:t,sourcePosition:n=Ee.Bottom,targetX:r,targetY:o,targetPosition:s=Ee.Top,curvature:a=.25}){const[c,d]=ow({pos:n,x1:e,y1:t,x2:r,y2:o,c:a}),[f,h]=ow({pos:s,x1:r,y1:o,x2:e,y2:t,c:a}),[m,g,y,S]=aN({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:c,sourceControlY:d,targetControlX:f,targetControlY:h});return[`M${e},${t} C${c},${d} ${f},${h} ${r},${o}`,m,g,y,S]}function uN({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,s=n<e?n+o:n-o,a=Math.abs(r-t)/2,c=r<t?r+a:r-a;return[s,c,o,a]}function TO({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1}){if(!o)return r;const s=n||t.selected||e.selected,a=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(s?a:0)}function RO({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const s=Md(ld(e),ld(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const a={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Ra(a,Od(s))>0}const MO=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,OO=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),DO=(e,t)=>{if(!e.source||!e.target)return t;let n;return QS(e)?n={...e}:n={...e,id:MO(e)},OO(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Sg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,s,a,c]=uN({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,s,a,c]}const iw={[Ee.Left]:{x:-1,y:0},[Ee.Right]:{x:1,y:0},[Ee.Top]:{x:0,y:-1},[Ee.Bottom]:{x:0,y:1}},LO=({source:e,sourcePosition:t=Ee.Bottom,target:n})=>t===Ee.Left||t===Ee.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},sw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function zO({source:e,sourcePosition:t=Ee.Bottom,target:n,targetPosition:r=Ee.Top,center:o,offset:s}){const a=iw[t],c=iw[r],d={x:e.x+a.x*s,y:e.y+a.y*s},f={x:n.x+c.x*s,y:n.y+c.y*s},h=LO({source:d,sourcePosition:t,target:f}),m=h.x!==0?"x":"y",g=h[m];let y=[],S,v;const w={x:0,y:0},N={x:0,y:0},[_,k,P,I]=uN({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[m]*c[m]===-1){S=o.x??_,v=o.y??k;const T=[{x:S,y:d.y},{x:S,y:f.y}],$=[{x:d.x,y:v},{x:f.x,y:v}];a[m]===g?y=m==="x"?T:$:y=m==="x"?$:T}else{const T=[{x:d.x,y:f.y}],$=[{x:f.x,y:d.y}];if(m==="x"?y=a.x===g?$:T:y=a.y===g?T:$,t===r){const V=Math.abs(e[m]-n[m]);if(V<=s){const j=Math.min(s-1,s-V);a[m]===g?w[m]=(d[m]>e[m]?-1:1)*j:N[m]=(f[m]>n[m]?-1:1)*j}}if(t!==r){const V=m==="x"?"y":"x",j=a[m]===c[V],O=d[V]>f[V],z=d[V]<f[V];(a[m]===1&&(!j&&O||j&&z)||a[m]!==1&&(!j&&z||j&&O))&&(y=m==="x"?T:$)}const G={x:d.x+w.x,y:d.y+w.y},X={x:f.x+N.x,y:f.y+N.y},Y=Math.max(Math.abs(G.x-y[0].x),Math.abs(X.x-y[0].x)),U=Math.max(Math.abs(G.y-y[0].y),Math.abs(X.y-y[0].y));Y>=U?(S=(G.x+X.x)/2,v=y[0].y):(S=y[0].x,v=(G.y+X.y)/2)}return[[e,{x:d.x+w.x,y:d.y+w.y},...y,{x:f.x+N.x,y:f.y+N.y},n],S,v,P,I]}function $O(e,t,n,r){const o=Math.min(sw(e,t)/2,sw(t,n)/2,r),{x:s,y:a}=t;if(e.x===s&&s===n.x||e.y===a&&a===n.y)return`L${s} ${a}`;if(e.y===a){const f=e.x<n.x?-1:1,h=e.y<n.y?1:-1;return`L ${s+o*f},${a}Q ${s},${a} ${s},${a+o*h}`}const c=e.x<n.x?1:-1,d=e.y<n.y?-1:1;return`L ${s},${a+o*d}Q ${s},${a} ${s+o*c},${a}`}function Nm({sourceX:e,sourceY:t,sourcePosition:n=Ee.Bottom,targetX:r,targetY:o,targetPosition:s=Ee.Top,borderRadius:a=5,centerX:c,centerY:d,offset:f=20}){const[h,m,g,y,S]=zO({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:s,center:{x:c,y:d},offset:f});return[h.reduce((w,N,_)=>{let k="";return _>0&&_<h.length-1?k=$O(h[_-1],N,h[_+1],a):k=`${_===0?"M":"L"}${N.x} ${N.y}`,w+=k,w},""),m,g,y,S]}function lw(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function FO(e){var m;const{sourceNode:t,targetNode:n}=e;if(!lw(t)||!lw(n))return null;const r=t.internals.handleBounds||aw(t.handles),o=n.internals.handleBounds||aw(n.handles),s=cw((r==null?void 0:r.source)??[],e.sourceHandle),a=cw(e.connectionMode===zs.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!s||!a)return(m=e.onError)==null||m.call(e,"008",Or.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const c=(s==null?void 0:s.position)||Ee.Bottom,d=(a==null?void 0:a.position)||Ee.Top,f=Ma(t,s,c),h=Ma(n,a,d);return{sourceX:f.x,sourceY:f.y,targetX:h.x,targetY:h.y,sourcePosition:c,targetPosition:d}}function aw(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Ma(e,t,n=Ee.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,s=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:a,height:c}=t??lo(e);if(r)return{x:o+a/2,y:s+c/2};switch((t==null?void 0:t.position)??n){case Ee.Top:return{x:o+a/2,y:s};case Ee.Right:return{x:o+a,y:s+c/2};case Ee.Bottom:return{x:o+a/2,y:s+c};case Ee.Left:return{x:o,y:s+c/2}}}function cw(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Cm(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function BO(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const s=new Set;return e.reduce((a,c)=>([c.markerStart||r,c.markerEnd||o].forEach(d=>{if(d&&typeof d=="object"){const f=Cm(d,t);s.has(f)||(a.push({id:f,color:d.color||n,...d}),s.add(f))}}),a),[]).sort((a,c)=>a.id.localeCompare(c.id))}const Ng={nodeOrigin:[0,0],nodeExtent:Aa,elevateNodesOnSelect:!0,defaults:{}},VO={...Ng,checkEquality:!0};function Cg(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function HO(e,t,n){const r=Cg(Ng,n);for(const o of e.values())if(o.parentId)kg(o,e,t,r);else{const s=Ga(o,r.nodeOrigin),a=Bs(o.extent)?o.extent:r.nodeExtent,c=Ci(s,a,lo(o));o.internals.positionAbsolute=c}}function km(e,t,n,r){var d,f;const o=Cg(VO,r);let s=e.length>0;const a=new Map(t),c=o!=null&&o.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const h of e){let m=a.get(h.id);if(o.checkEquality&&h===(m==null?void 0:m.internals.userNode))t.set(h.id,m);else{const g=Ga(h,o.nodeOrigin),y=Bs(h.extent)?h.extent:o.nodeExtent,S=Ci(g,y,lo(h));m={...o.defaults,...h,measured:{width:(d=h.measured)==null?void 0:d.width,height:(f=h.measured)==null?void 0:f.height},internals:{positionAbsolute:S,handleBounds:h.measured?m==null?void 0:m.internals.handleBounds:void 0,z:dN(h,c),userNode:h}},t.set(h.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(s=!1),h.parentId&&kg(m,t,n,r)}return s}function UO(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function kg(e,t,n,r){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:a}=Cg(Ng,r),c=e.parentId,d=t.get(c);if(!d){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}UO(e,n);const f=o?1e3:0,{x:h,y:m,z:g}=WO(e,d,s,a,f),{positionAbsolute:y}=e.internals,S=h!==y.x||m!==y.y;(S||g!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:S?{x:h,y:m}:y,z:g}})}function dN(e,t){return(gr(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function WO(e,t,n,r,o){const{x:s,y:a}=t.internals.positionAbsolute,c=lo(e),d=Ga(e,n),f=Bs(e.extent)?Ci(d,e.extent,c):d;let h=Ci({x:s+f.x,y:a+f.y},r,c);e.extent==="parent"&&(h=eN(h,c,t));const m=dN(e,o),g=t.internals.z??0;return{x:h.x,y:h.y,z:g>m?g:m}}function Eg(e,t,n,r=[0,0]){var a;const o=[],s=new Map;for(const c of e){const d=t.get(c.parentId);if(!d)continue;const f=((a=s.get(c.parentId))==null?void 0:a.expandedRect)??Fs(d),h=nN(f,c.rect);s.set(c.parentId,{expandedRect:h,parent:d})}return s.size>0&&s.forEach(({expandedRect:c,parent:d},f)=>{var k;const h=d.internals.positionAbsolute,m=lo(d),g=d.origin??r,y=c.x<h.x?Math.round(Math.abs(h.x-c.x)):0,S=c.y<h.y?Math.round(Math.abs(h.y-c.y)):0,v=Math.max(m.width,Math.round(c.width)),w=Math.max(m.height,Math.round(c.height)),N=(v-m.width)*g[0],_=(w-m.height)*g[1];(y>0||S>0||N||_)&&(o.push({id:f,type:"position",position:{x:d.position.x-y+N,y:d.position.y-S+_}}),(k=n.get(f))==null||k.forEach(P=>{e.some(I=>I.id===P.id)||o.push({id:P.id,type:"position",position:{x:P.position.x+y,y:P.position.y+S}})})),(m.width<c.width||m.height<c.height||y||S)&&o.push({id:f,type:"dimensions",setAttributes:!0,dimensions:{width:v+(y?g[0]*y-N:0),height:w+(S?g[1]*S-_:0)}})}),o}function XO(e,t,n,r,o,s){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let c=!1;if(!a)return{changes:[],updatedInternals:c};const d=[],f=window.getComputedStyle(a),{m22:h}=new window.DOMMatrixReadOnly(f.transform),m=[];for(const g of e.values()){const y=t.get(g.id);if(!y)continue;if(y.hidden){t.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),c=!0;continue}const S=bg(g.nodeElement),v=y.measured.width!==S.width||y.measured.height!==S.height;if(!!(S.width&&S.height&&(v||!y.internals.handleBounds||g.force))){const N=g.nodeElement.getBoundingClientRect(),_=Bs(y.extent)?y.extent:s;let{positionAbsolute:k}=y.internals;y.parentId&&y.extent==="parent"?k=eN(k,S,t.get(y.parentId)):_&&(k=Ci(k,_,S));const P={...y,measured:S,internals:{...y.internals,positionAbsolute:k,handleBounds:{source:rw("source",g.nodeElement,N,h,y.id),target:rw("target",g.nodeElement,N,h,y.id)}}};t.set(y.id,P),y.parentId&&kg(P,t,n,{nodeOrigin:o}),c=!0,v&&(d.push({id:y.id,type:"dimensions",dimensions:S}),y.expandParent&&y.parentId&&m.push({id:y.id,parentId:y.parentId,rect:Fs(P,o)}))}}if(m.length>0){const g=Eg(m,t,n,o);d.push(...g)}return{changes:d,updatedInternals:c}}async function GO({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,s]],r),c=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(c)}function uw(e,t,n,r,o,s){let a=o;const c=r.get(a)||new Map;r.set(a,c.set(n,t)),a=`${o}-${e}`;const d=r.get(a)||new Map;if(r.set(a,d.set(n,t)),s){a=`${o}-${e}-${s}`;const f=r.get(a)||new Map;r.set(a,f.set(n,t))}}function fN(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:s,sourceHandle:a=null,targetHandle:c=null}=r,d={edgeId:r.id,source:o,target:s,sourceHandle:a,targetHandle:c},f=`${o}-${a}--${s}-${c}`,h=`${s}-${c}--${o}-${a}`;uw("source",d,h,e,o,a),uw("target",d,f,e,s,c),t.set(r.id,r)}}function pN(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:pN(n,t):!1}function dw(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function YO(e,t,n,r){const o=new Map;for(const[s,a]of e)if((a.selected||a.id===r)&&(!a.parentId||!pN(a,e))&&(a.draggable||t&&typeof a.draggable>"u")){const c=e.get(s);c&&o.set(s,{id:s,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return o}function kh({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var a,c,d;const o=[];for(const[f,h]of t){const m=(a=n.get(f))==null?void 0:a.internals.userNode;m&&o.push({...m,position:h.position,dragging:r})}if(!e)return[o[0],o];const s=(c=n.get(e))==null?void 0:c.internals.userNode;return[s?{...s,position:((d=t.get(e))==null?void 0:d.position)||s.position,dragging:r}:o[0],o]}function qO({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let s={x:null,y:null},a=0,c=new Map,d=!1,f={x:0,y:0},h=null,m=!1,g=null,y=!1;function S({noDragClassName:w,handleSelector:N,domNode:_,isSelectable:k,nodeId:P,nodeClickDistance:I=0}){g=Hn(_);function A({x:X,y:Y},U){const{nodeLookup:V,nodeExtent:j,snapGrid:O,snapToGrid:z,nodeOrigin:H,onNodeDrag:L,onSelectionDrag:W,onError:M,updateNodePositions:F}=t();s={x:X,y:Y};let q=!1,R={x:0,y:0,x2:0,y2:0};if(c.size>1&&j){const J=Ya(c);R=Sm(J)}for(const[J,ne]of c){if(!V.has(J))continue;let te={x:X-ne.distance.x,y:Y-ne.distance.y};z&&(te=Dd(te,O));let B=[[j[0][0],j[0][1]],[j[1][0],j[1][1]]];if(c.size>1&&j&&!ne.extent){const{positionAbsolute:ie}=ne.internals,ue=ie.x-R.x+j[0][0],de=ie.x+ne.measured.width-R.x2+j[1][0],be=ie.y-R.y+j[0][1],Se=ie.y+ne.measured.height-R.y2+j[1][1];B=[[ue,be],[de,Se]]}const{position:Q,positionAbsolute:oe}=ZS({nodeId:J,nextPosition:te,nodeLookup:V,nodeExtent:B,nodeOrigin:H,onError:M});q=q||ne.position.x!==Q.x||ne.position.y!==Q.y,ne.position=Q,ne.internals.positionAbsolute=oe}if(q&&(F(c,!0),U&&(r||L||!P&&W))){const[J,ne]=kh({nodeId:P,dragItems:c,nodeLookup:V});r==null||r(U,c,J,ne),L==null||L(U,J,ne),P||W==null||W(U,ne)}}async function T(){if(!h)return;const{transform:X,panBy:Y,autoPanSpeed:U,autoPanOnNodeDrag:V}=t();if(!V){d=!1,cancelAnimationFrame(a);return}const[j,O]=tN(f,h,U);(j!==0||O!==0)&&(s.x=(s.x??0)-j/X[2],s.y=(s.y??0)-O/X[2],await Y({x:j,y:O})&&A(s,null)),a=requestAnimationFrame(T)}function $(X){var q;const{nodeLookup:Y,multiSelectionActive:U,nodesDraggable:V,transform:j,snapGrid:O,snapToGrid:z,selectNodesOnDrag:H,onNodeDragStart:L,onSelectionDragStart:W,unselectNodesAndEdges:M}=t();m=!0,(!H||!k)&&!U&&P&&((q=Y.get(P))!=null&&q.selected||M()),k&&H&&P&&(e==null||e(P));const F=ga(X.sourceEvent,{transform:j,snapGrid:O,snapToGrid:z,containerBounds:h});if(s=F,c=YO(Y,V,F,P),c.size>0&&(n||L||!P&&W)){const[R,J]=kh({nodeId:P,dragItems:c,nodeLookup:Y});n==null||n(X.sourceEvent,c,R,J),L==null||L(X.sourceEvent,R,J),P||W==null||W(X.sourceEvent,J)}}const G=TS().clickDistance(I).on("start",X=>{const{domNode:Y,nodeDragThreshold:U,transform:V,snapGrid:j,snapToGrid:O}=t();h=(Y==null?void 0:Y.getBoundingClientRect())||null,y=!1,U===0&&$(X),s=ga(X.sourceEvent,{transform:V,snapGrid:j,snapToGrid:O,containerBounds:h}),f=ro(X.sourceEvent,h)}).on("drag",X=>{const{autoPanOnNodeDrag:Y,transform:U,snapGrid:V,snapToGrid:j,nodeDragThreshold:O,nodeLookup:z}=t(),H=ga(X.sourceEvent,{transform:U,snapGrid:V,snapToGrid:j,containerBounds:h});if((X.sourceEvent.type==="touchmove"&&X.sourceEvent.touches.length>1||P&&!z.has(P))&&(y=!0),!y){if(!d&&Y&&m&&(d=!0,T()),!m){const L=H.xSnapped-(s.x??0),W=H.ySnapped-(s.y??0);Math.sqrt(L*L+W*W)>O&&$(X)}(s.x!==H.xSnapped||s.y!==H.ySnapped)&&c&&m&&(f=ro(X.sourceEvent,h),A(H,X.sourceEvent))}}).on("end",X=>{if(!(!m||y)&&(d=!1,m=!1,cancelAnimationFrame(a),c.size>0)){const{nodeLookup:Y,updateNodePositions:U,onNodeDragStop:V,onSelectionDragStop:j}=t();if(U(c,!1),o||V||!P&&j){const[O,z]=kh({nodeId:P,dragItems:c,nodeLookup:Y,dragging:!1});o==null||o(X.sourceEvent,c,O,z),V==null||V(X.sourceEvent,O,z),P||j==null||j(X.sourceEvent,z)}}}).filter(X=>{const Y=X.target;return!X.button&&(!w||!dw(Y,`.${w}`,_))&&(!N||dw(Y,N,_))});g.call(G)}function v(){g==null||g.on(".drag",null)}return{update:S,destroy:v}}function KO(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())Ra(o,Fs(s))>0&&r.push(s);return r}const QO=250;function JO(e,t,n,r){var c,d;let o=[],s=1/0;const a=KO(e,n,t+QO);for(const f of a){const h=[...((c=f.internals.handleBounds)==null?void 0:c.source)??[],...((d=f.internals.handleBounds)==null?void 0:d.target)??[]];for(const m of h){if(r.nodeId===m.nodeId&&r.type===m.type&&r.id===m.id)continue;const{x:g,y}=Ma(f,m,m.position,!0),S=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(y-e.y,2));S>t||(S<s?(o=[{...m,x:g,y}],s=S):S===s&&o.push({...m,x:g,y}))}}if(!o.length)return null;if(o.length>1){const f=r.type==="source"?"target":"source";return o.find(h=>h.type===f)??o[0]}return o[0]}function hN(e,t,n,r,o,s=!1){var f,h,m;const a=r.get(e);if(!a)return null;const c=o==="strict"?(f=a.internals.handleBounds)==null?void 0:f[t]:[...((h=a.internals.handleBounds)==null?void 0:h.source)??[],...((m=a.internals.handleBounds)==null?void 0:m.target)??[]],d=(n?c==null?void 0:c.find(g=>g.id===n):c==null?void 0:c[0])??null;return d&&s?{...d,...Ma(a,d,d.position,!0)}:d}function mN(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function ZO(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const gN=()=>!0;function eD(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:s,isTarget:a,domNode:c,nodeLookup:d,lib:f,autoPanOnConnect:h,flowId:m,panBy:g,cancelConnection:y,onConnectStart:S,onConnect:v,onConnectEnd:w,isValidConnection:N=gN,onReconnectEnd:_,updateConnection:k,getTransform:P,getFromHandle:I,autoPanSpeed:A}){const T=iN(e.target);let $=0,G;const{x:X,y:Y}=ro(e),U=T==null?void 0:T.elementFromPoint(X,Y),V=mN(s,U),j=c==null?void 0:c.getBoundingClientRect();if(!j||!V)return;const O=hN(o,V,r,d,t);if(!O)return;let z=ro(e,j),H=!1,L=null,W=!1,M=null;function F(){if(!h||!j)return;const[oe,ie]=tN(z,j,A);g({x:oe,y:ie}),$=requestAnimationFrame(F)}const q={...O,nodeId:o,type:V,position:O.position},R=d.get(o),ne={inProgress:!0,isValid:null,from:Ma(R,q,Ee.Left,!0),fromHandle:q,fromPosition:q.position,fromNode:R,to:z,toHandle:null,toPosition:Z0[q.position],toNode:null};k(ne);let te=ne;S==null||S(e,{nodeId:o,handleId:r,handleType:V});function B(oe){if(!I()||!q){Q(oe);return}const ie=P();z=ro(oe,j),G=JO(qa(z,ie,!1,[1,1]),n,d,q),H||(F(),H=!0);const ue=yN(oe,{handle:G,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:a?"target":"source",isValidConnection:N,doc:T,lib:f,flowId:m,nodeLookup:d});M=ue.handleDomNode,L=ue.connection,W=ZO(!!G,ue.isValid);const de={...te,isValid:W,to:G&&W?ad({x:G.x,y:G.y},ie):z,toHandle:ue.toHandle,toPosition:W&&ue.toHandle?ue.toHandle.position:Z0[q.position],toNode:ue.toHandle?d.get(ue.toHandle.nodeId):null};W&&G&&te.toHandle&&de.toHandle&&te.toHandle.type===de.toHandle.type&&te.toHandle.nodeId===de.toHandle.nodeId&&te.toHandle.id===de.toHandle.id&&te.to.x===de.to.x&&te.to.y===de.to.y||(k(de),te=de)}function Q(oe){(G||M)&&L&&W&&(v==null||v(L));const{inProgress:ie,...ue}=te,de={...ue,toPosition:te.toHandle?te.toPosition:null};w==null||w(oe,de),s&&(_==null||_(oe,de)),y(),cancelAnimationFrame($),H=!1,W=!1,L=null,M=null,T.removeEventListener("mousemove",B),T.removeEventListener("mouseup",Q),T.removeEventListener("touchmove",B),T.removeEventListener("touchend",Q)}T.addEventListener("mousemove",B),T.addEventListener("mouseup",Q),T.addEventListener("touchmove",B),T.addEventListener("touchend",Q)}function yN(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:s,doc:a,lib:c,flowId:d,isValidConnection:f=gN,nodeLookup:h}){const m=s==="target",g=t?a.querySelector(`.${c}-flow__handle[data-id="${d}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:y,y:S}=ro(e),v=a.elementFromPoint(y,S),w=v!=null&&v.classList.contains(`${c}-flow__handle`)?v:g,N={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const _=mN(void 0,w),k=w.getAttribute("data-nodeid"),P=w.getAttribute("data-handleid"),I=w.classList.contains("connectable"),A=w.classList.contains("connectableend");if(!k||!_)return N;const T={source:m?k:r,sourceHandle:m?P:o,target:m?r:k,targetHandle:m?o:P};N.connection=T;const G=I&&A&&(n===zs.Strict?m&&_==="source"||!m&&_==="target":k!==r||P!==o);N.isValid=G&&f(T),N.toHandle=hN(k,_,P,h,n,!1)}return N}const Em={onPointerDown:eD,isValid:yN};function tD({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=Hn(e);function s({translateExtent:c,width:d,height:f,zoomStep:h=10,pannable:m=!0,zoomable:g=!0,inversePan:y=!1}){const S=k=>{const P=n();if(k.sourceEvent.type!=="wheel"||!t)return;const I=-k.sourceEvent.deltaY*(k.sourceEvent.deltaMode===1?.05:k.sourceEvent.deltaMode?1:.002)*h,A=P[2]*Math.pow(2,I);t.scaleTo(A)};let v=[0,0];const w=k=>{(k.sourceEvent.type==="mousedown"||k.sourceEvent.type==="touchstart")&&(v=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY])},N=k=>{const P=n();if(k.sourceEvent.type!=="mousemove"&&k.sourceEvent.type!=="touchmove"||!t)return;const I=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY],A=[I[0]-v[0],I[1]-v[1]];v=I;const T=r()*Math.max(P[2],Math.log(P[2]))*(y?-1:1),$={x:P[0]-A[0]*T,y:P[1]-A[1]*T},G=[[0,0],[d,f]];t.setViewportConstrained({x:$.x,y:$.y,zoom:P[2]},G,c)},_=GS().on("start",w).on("zoom",m?N:null).on("zoom.wheel",g?S:null);o.call(_,{})}function a(){o.on("zoom",null)}return{update:s,destroy:a,pointer:pr}}const nD=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ld=e=>({x:e.x,y:e.y,zoom:e.k}),Eh=({x:e,y:t,zoom:n})=>Rd.translate(e,t).scale(n),ws=(e,t)=>e.target.closest(`.${t}`),xN=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),_h=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},vN=e=>{const t=e.ctrlKey&&cd()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function rD({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:s,zoomOnPinch:a,onPanZoomStart:c,onPanZoom:d,onPanZoomEnd:f}){return h=>{if(ws(h,t))return!1;h.preventDefault(),h.stopImmediatePropagation();const m=n.property("__zoom").k||1;if(h.ctrlKey&&a){const w=pr(h),N=vN(h),_=m*Math.pow(2,N);r.scaleTo(n,_,w,h);return}const g=h.deltaMode===1?20:1;let y=o===bi.Vertical?0:h.deltaX*g,S=o===bi.Horizontal?0:h.deltaY*g;!cd()&&h.shiftKey&&o!==bi.Vertical&&(y=h.deltaY*g,S=0),r.translateBy(n,-(y/m)*s,-(S/m)*s,{internal:!0});const v=Ld(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,c==null||c(h,v)),e.isPanScrolling&&(d==null||d(h,v),e.panScrollTimeout=setTimeout(()=>{f==null||f(h,v),e.isPanScrolling=!1},150))}}function oD({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const s=r.type==="wheel",a=!t&&s&&!r.ctrlKey,c=ws(r,e);if(r.ctrlKey&&s&&c&&r.preventDefault(),a||c)return null;r.preventDefault(),n.call(this,r,o)}}function iD({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var s,a,c;if((s=r.sourceEvent)!=null&&s.internal)return;const o=Ld(r.transform);e.mouseButton=((a=r.sourceEvent)==null?void 0:a.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((c=r.sourceEvent)==null?void 0:c.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function sD({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return s=>{var a,c;e.usedRightMouseButton=!!(n&&xN(t,e.mouseButton??0)),(a=s.sourceEvent)!=null&&a.sync||r([s.transform.x,s.transform.y,s.transform.k]),o&&!((c=s.sourceEvent)!=null&&c.internal)&&(o==null||o(s.sourceEvent,Ld(s.transform)))}}function lD({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:s}){return a=>{var c;if(!((c=a.sourceEvent)!=null&&c.internal)&&(e.isZoomingOrPanning=!1,s&&xN(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&s(a.sourceEvent),e.usedRightMouseButton=!1,r(!1),o&&nD(e.prevViewport,a.transform))){const d=Ld(a.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(a.sourceEvent,d)},n?150:0)}}}function aD({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:s,userSelectionActive:a,noWheelClassName:c,noPanClassName:d,lib:f}){return h=>{var S;const m=e||t,g=n&&h.ctrlKey;if(h.button===1&&h.type==="mousedown"&&(ws(h,`${f}-flow__node`)||ws(h,`${f}-flow__edge`)))return!0;if(!r&&!m&&!o&&!s&&!n||a||ws(h,c)&&h.type==="wheel"||ws(h,d)&&(h.type!=="wheel"||o&&h.type==="wheel"&&!e)||!n&&h.ctrlKey&&h.type==="wheel")return!1;if(!n&&h.type==="touchstart"&&((S=h.touches)==null?void 0:S.length)>1)return h.preventDefault(),!1;if(!m&&!o&&!g&&h.type==="wheel"||!r&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(r)&&!r.includes(h.button)&&h.type==="mousedown")return!1;const y=Array.isArray(r)&&r.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||h.type==="wheel")&&y}}function cD({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:s,onPanZoom:a,onPanZoomStart:c,onPanZoomEnd:d,onDraggingChange:f}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=e.getBoundingClientRect(),g=GS().clickDistance(!gr(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(o),y=Hn(e).call(g);k({x:s.x,y:s.y,zoom:$s(s.zoom,t,n)},[[0,0],[m.width,m.height]],o);const S=y.on("wheel.zoom"),v=y.on("dblclick.zoom");g.wheelDelta(vN);function w(U,V){return y?new Promise(j=>{g==null||g.transform(_h(y,V==null?void 0:V.duration,()=>j(!0)),U)}):Promise.resolve(!1)}function N({noWheelClassName:U,noPanClassName:V,onPaneContextMenu:j,userSelectionActive:O,panOnScroll:z,panOnDrag:H,panOnScrollMode:L,panOnScrollSpeed:W,preventScrolling:M,zoomOnPinch:F,zoomOnScroll:q,zoomOnDoubleClick:R,zoomActivationKeyPressed:J,lib:ne,onTransformChange:te}){O&&!h.isZoomingOrPanning&&_();const Q=z&&!J&&!O?rD({zoomPanValues:h,noWheelClassName:U,d3Selection:y,d3Zoom:g,panOnScrollMode:L,panOnScrollSpeed:W,zoomOnPinch:F,onPanZoomStart:c,onPanZoom:a,onPanZoomEnd:d}):oD({noWheelClassName:U,preventScrolling:M,d3ZoomHandler:S});if(y.on("wheel.zoom",Q,{passive:!1}),!O){const ie=iD({zoomPanValues:h,onDraggingChange:f,onPanZoomStart:c});g.on("start",ie);const ue=sD({zoomPanValues:h,panOnDrag:H,onPaneContextMenu:!!j,onPanZoom:a,onTransformChange:te});g.on("zoom",ue);const de=lD({zoomPanValues:h,panOnDrag:H,panOnScroll:z,onPaneContextMenu:j,onPanZoomEnd:d,onDraggingChange:f});g.on("end",de)}const oe=aD({zoomActivationKeyPressed:J,panOnDrag:H,zoomOnScroll:q,panOnScroll:z,zoomOnDoubleClick:R,zoomOnPinch:F,userSelectionActive:O,noPanClassName:V,noWheelClassName:U,lib:ne});g.filter(oe),R?y.on("dblclick.zoom",v):y.on("dblclick.zoom",null)}function _(){g.on("zoom",null)}async function k(U,V,j){const O=Eh(U),z=g==null?void 0:g.constrain()(O,V,j);return z&&await w(z),new Promise(H=>H(z))}async function P(U,V){const j=Eh(U);return await w(j,V),new Promise(O=>O(j))}function I(U){if(y){const V=Eh(U),j=y.property("__zoom");(j.k!==U.zoom||j.x!==U.x||j.y!==U.y)&&(g==null||g.transform(y,V,null,{sync:!0}))}}function A(){const U=y?XS(y.node()):{x:0,y:0,k:1};return{x:U.x,y:U.y,zoom:U.k}}function T(U,V){return y?new Promise(j=>{g==null||g.scaleTo(_h(y,V==null?void 0:V.duration,()=>j(!0)),U)}):Promise.resolve(!1)}function $(U,V){return y?new Promise(j=>{g==null||g.scaleBy(_h(y,V==null?void 0:V.duration,()=>j(!0)),U)}):Promise.resolve(!1)}function G(U){g==null||g.scaleExtent(U)}function X(U){g==null||g.translateExtent(U)}function Y(U){const V=!gr(U)||U<0?0:U;g==null||g.clickDistance(V)}return{update:N,destroy:_,setViewport:P,setViewportConstrained:k,getViewport:A,scaleTo:T,scaleBy:$,setScaleExtent:G,setTranslateExtent:X,syncViewport:I,setClickDistance:Y}}var _s;(function(e){e.Line="line",e.Handle="handle"})(_s||(_s={}));const uD=["top-left","top-right","bottom-left","bottom-right"],dD=["top","right","bottom","left"];function fD({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:s}){const a=e-t,c=n-r,d=[a>0?1:a<0?-1:0,c>0?1:c<0?-1:0];return a&&o&&(d[0]=d[0]*-1),c&&s&&(d[1]=d[1]*-1),d}function pD(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function Ao(e,t){return Math.max(0,t-e)}function Io(e,t){return Math.max(0,e-t)}function Eu(e,t,n){return Math.max(0,t-e,e-n)}function fw(e,t){return e?!t:t}function hD(e,t,n,r,o,s,a,c){let{affectsX:d,affectsY:f}=t;const{isHorizontal:h,isVertical:m}=t,g=h&&m,{xSnapped:y,ySnapped:S}=n,{minWidth:v,maxWidth:w,minHeight:N,maxHeight:_}=r,{x:k,y:P,width:I,height:A,aspectRatio:T}=e;let $=Math.floor(h?y-e.pointerX:0),G=Math.floor(m?S-e.pointerY:0);const X=I+(d?-$:$),Y=A+(f?-G:G),U=-s[0]*I,V=-s[1]*A;let j=Eu(X,v,w),O=Eu(Y,N,_);if(a){let L=0,W=0;d&&$<0?L=Ao(k+$+U,a[0][0]):!d&&$>0&&(L=Io(k+X+U,a[1][0])),f&&G<0?W=Ao(P+G+V,a[0][1]):!f&&G>0&&(W=Io(P+Y+V,a[1][1])),j=Math.max(j,L),O=Math.max(O,W)}if(c){let L=0,W=0;d&&$>0?L=Io(k+$,c[0][0]):!d&&$<0&&(L=Ao(k+X,c[1][0])),f&&G>0?W=Io(P+G,c[0][1]):!f&&G<0&&(W=Ao(P+Y,c[1][1])),j=Math.max(j,L),O=Math.max(O,W)}if(o){if(h){const L=Eu(X/T,N,_)*T;if(j=Math.max(j,L),a){let W=0;!d&&!f||d&&!f&&g?W=Io(P+V+X/T,a[1][1])*T:W=Ao(P+V+(d?$:-$)/T,a[0][1])*T,j=Math.max(j,W)}if(c){let W=0;!d&&!f||d&&!f&&g?W=Ao(P+X/T,c[1][1])*T:W=Io(P+(d?$:-$)/T,c[0][1])*T,j=Math.max(j,W)}}if(m){const L=Eu(Y*T,v,w)/T;if(O=Math.max(O,L),a){let W=0;!d&&!f||f&&!d&&g?W=Io(k+Y*T+U,a[1][0])/T:W=Ao(k+(f?G:-G)*T+U,a[0][0])/T,O=Math.max(O,W)}if(c){let W=0;!d&&!f||f&&!d&&g?W=Ao(k+Y*T,c[1][0])/T:W=Io(k+(f?G:-G)*T,c[0][0])/T,O=Math.max(O,W)}}}G=G+(G<0?O:-O),$=$+($<0?j:-j),o&&(g?X>Y*T?G=(fw(d,f)?-$:$)/T:$=(fw(d,f)?-G:G)*T:h?(G=$/T,f=d):($=G*T,d=f));const z=d?k+$:k,H=f?P+G:P;return{width:I+(d?-$:$),height:A+(f?-G:G),x:s[0]*$*(d?-1:1)+z,y:s[1]*G*(f?-1:1)+H}}const wN={width:0,height:0,x:0,y:0},mD={...wN,pointerX:0,pointerY:0,aspectRatio:1};function gD(e){return[[0,0],[e.measured.width,e.measured.height]]}function yD(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,s=e.measured.width??0,a=e.measured.height??0,c=n[0]*s,d=n[1]*a;return[[r-c,o-d],[r+s-c,o+a-d]]}function xD({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const s=Hn(e);function a({controlPosition:d,boundaries:f,keepAspectRatio:h,resizeDirection:m,onResizeStart:g,onResize:y,onResizeEnd:S,shouldResize:v}){let w={...wN},N={...mD};const _=pD(d);let k,P=null,I=[],A,T,$;const G=TS().on("start",X=>{const{nodeLookup:Y,transform:U,snapGrid:V,snapToGrid:j,nodeOrigin:O,paneDomNode:z}=n();if(k=Y.get(t),!k)return;P=(z==null?void 0:z.getBoundingClientRect())??null;const{xSnapped:H,ySnapped:L}=ga(X.sourceEvent,{transform:U,snapGrid:V,snapToGrid:j,containerBounds:P});w={width:k.measured.width??0,height:k.measured.height??0,x:k.position.x??0,y:k.position.y??0},N={...w,pointerX:H,pointerY:L,aspectRatio:w.width/w.height},A=void 0,k.parentId&&(k.extent==="parent"||k.expandParent)&&(A=Y.get(k.parentId),T=A&&k.extent==="parent"?gD(A):void 0),I=[],$=void 0;for(const[W,M]of Y)if(M.parentId===t&&(I.push({id:W,position:{...M.position},extent:M.extent}),M.extent==="parent"||M.expandParent)){const F=yD(M,k,M.origin??O);$?$=[[Math.min(F[0][0],$[0][0]),Math.min(F[0][1],$[0][1])],[Math.max(F[1][0],$[1][0]),Math.max(F[1][1],$[1][1])]]:$=F}g==null||g(X,{...w})}).on("drag",X=>{const{transform:Y,snapGrid:U,snapToGrid:V,nodeOrigin:j}=n(),O=ga(X.sourceEvent,{transform:Y,snapGrid:U,snapToGrid:V,containerBounds:P}),z=[];if(!k)return;const{x:H,y:L,width:W,height:M}=w,F={},q=k.origin??j,{width:R,height:J,x:ne,y:te}=hD(N,_,O,f,h,q,T,$),B=R!==W,Q=J!==M,oe=ne!==H&&B,ie=te!==L&&Q;if(!oe&&!ie&&!B&&!Q)return;if((oe||ie||q[0]===1||q[1]===1)&&(F.x=oe?ne:w.x,F.y=ie?te:w.y,w.x=F.x,w.y=F.y,I.length>0)){const Se=ne-H,De=te-L;for(const We of I)We.position={x:We.position.x-Se+q[0]*(R-W),y:We.position.y-De+q[1]*(J-M)},z.push(We)}if((B||Q)&&(F.width=B&&(!m||m==="horizontal")?R:w.width,F.height=Q&&(!m||m==="vertical")?J:w.height,w.width=F.width,w.height=F.height),A&&k.expandParent){const Se=q[0]*(F.width??0);F.x&&F.x<Se&&(w.x=Se,N.x=N.x-(F.x-Se));const De=q[1]*(F.height??0);F.y&&F.y<De&&(w.y=De,N.y=N.y-(F.y-De))}const ue=fD({width:w.width,prevWidth:W,height:w.height,prevHeight:M,affectsX:_.affectsX,affectsY:_.affectsY}),de={...w,direction:ue};(v==null?void 0:v(X,de))!==!1&&(y==null||y(X,de),r(F,z))}).on("end",X=>{S==null||S(X,{...w}),o==null||o({...w})});s.call(G)}function c(){s.on(".drag",null)}return{update:a,destroy:c}}var jh={exports:{}},Ph={},Ah={exports:{}},Ih={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function vD(){if(pw)return Ih;pw=1;var e=Ha();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function c(m,g){var y=g(),S=r({inst:{value:y,getSnapshot:g}}),v=S[0].inst,w=S[1];return s(function(){v.value=y,v.getSnapshot=g,d(v)&&w({inst:v})},[m,y,g]),o(function(){return d(v)&&w({inst:v}),m(function(){d(v)&&w({inst:v})})},[m]),a(y),y}function d(m){var g=m.getSnapshot;m=m.value;try{var y=g();return!n(m,y)}catch{return!0}}function f(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Ih.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Ih}var hw;function wD(){return hw||(hw=1,Ah.exports=vD()),Ah.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function bD(){if(mw)return Ph;mw=1;var e=Ha(),t=wD();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,s=e.useRef,a=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Ph.useSyncExternalStoreWithSelector=function(f,h,m,g,y){var S=s(null);if(S.current===null){var v={hasValue:!1,value:null};S.current=v}else v=S.current;S=c(function(){function N(A){if(!_){if(_=!0,k=A,A=g(A),y!==void 0&&v.hasValue){var T=v.value;if(y(T,A))return P=T}return P=A}if(T=P,r(k,A))return T;var $=g(A);return y!==void 0&&y(T,$)?(k=A,T):(k=A,P=$)}var _=!1,k,P,I=m===void 0?null:m;return[function(){return N(h())},I===null?void 0:function(){return N(I())}]},[h,m,g,y]);var w=o(f,S[0],S[1]);return a(function(){v.hasValue=!0,v.value=w},[w]),d(w),w},Ph}var gw;function SD(){return gw||(gw=1,jh.exports=bD()),jh.exports}var ND=SD();const CD=Va(ND),kD={},yw=e=>{let t;const n=new Set,r=(h,m)=>{const g=typeof h=="function"?h(t):h;if(!Object.is(g,t)){const y=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(S=>S(t,y))}},o=()=>t,d={setState:r,getState:o,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(kD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,o,d);return d},ED=e=>e?yw(e):yw,{useDebugValue:_D}=Ie,{useSyncExternalStoreWithSelector:jD}=CD,PD=e=>e;function bN(e,t=PD,n){const r=jD(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return _D(r),r}const xw=(e,t)=>{const n=ED(e),r=(o,s=t)=>bN(n,o,s);return Object.assign(r,n),r},AD=(e,t)=>e?xw(e,t):xw;function _t(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Ys=jb();const ID=Va(Ys),zd=b.createContext(null),TD=zd.Provider,SN=Or.error001();function it(e,t){const n=b.useContext(zd);if(n===null)throw new Error(SN);return bN(n,e,t)}function Nt(){const e=b.useContext(zd);if(e===null)throw new Error(SN);return b.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const vw={display:"none"},RD={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},NN="react-flow__node-desc",CN="react-flow__edge-desc",MD="react-flow__aria-live",OD=e=>e.ariaLiveMessage;function DD({rfId:e}){const t=it(OD);return u.jsx("div",{id:`${MD}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:RD,children:t})}function LD({rfId:e,disableKeyboardA11y:t}){return u.jsxs(u.Fragment,{children:[u.jsxs("div",{id:`${NN}-${e}`,style:vw,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),u.jsx("div",{id:`${CN}-${e}`,style:vw,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&u.jsx(DD,{rfId:e})]})}const zD=e=>e.userSelectionActive?"none":"all",Ka=b.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},s)=>{const a=it(zD),c=`${e}`.split("-");return u.jsx("div",{className:Lt(["react-flow__panel",n,...c]),style:{...r,pointerEvents:a},ref:s,...o,children:t})});Ka.displayName="Panel";function $D({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:u.jsx(Ka,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:u.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const FD=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},_u=e=>e.id;function BD(e,t){return _t(e.selectedNodes.map(_u),t.selectedNodes.map(_u))&&_t(e.selectedEdges.map(_u),t.selectedEdges.map(_u))}function VD({onSelectionChange:e}){const t=Nt(),{selectedNodes:n,selectedEdges:r}=it(FD,BD);return b.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(s=>s(o))},[n,r,e]),null}const HD=e=>!!e.onSelectionChangeHandlers;function UD({onSelectionChange:e}){const t=it(HD);return e||t?u.jsx(VD,{onSelectionChange:e}):null}const kN=[0,0],WD={x:0,y:0,zoom:1},XD=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],ww=[...XD,"rfId"],GD=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),bw={translateExtent:Aa,nodeOrigin:kN,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function YD(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:s,setNodeExtent:a,reset:c,setDefaultNodesAndEdges:d,setPaneClickDistance:f}=it(GD,_t),h=Nt();b.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{m.current=bw,c()}),[]);const m=b.useRef(bw);return b.useEffect(()=>{for(const g of ww){const y=e[g],S=m.current[g];y!==S&&(typeof e[g]>"u"||(g==="nodes"?t(y):g==="edges"?n(y):g==="minZoom"?r(y):g==="maxZoom"?o(y):g==="translateExtent"?s(y):g==="nodeExtent"?a(y):g==="paneClickDistance"?f(y):g==="fitView"?h.setState({fitViewQueued:y}):g==="fitViewOptions"?h.setState({fitViewOptions:y}):h.setState({[g]:y})))}m.current=e},ww.map(g=>e[g])),null}function Sw(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function qD(e){var r;const[t,n]=b.useState(e==="system"?null:e);return b.useEffect(()=>{if(e!=="system"){n(e);return}const o=Sw(),s=()=>n(o!=null&&o.matches?"dark":"light");return s(),o==null||o.addEventListener("change",s),()=>{o==null||o.removeEventListener("change",s)}},[e]),t!==null?t:(r=Sw())!=null&&r.matches?"dark":"light"}const Nw=typeof document<"u"?document:null;function Oa(e=null,t={target:Nw,actInsideInputWithModifier:!0}){const[n,r]=b.useState(!1),o=b.useRef(!1),s=b.useRef(new Set([])),[a,c]=b.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),h=f.reduce((m,g)=>m.concat(...g),[]);return[f,h]}return[[],[]]},[e]);return b.useEffect(()=>{const d=(t==null?void 0:t.target)||Nw;if(e!==null){const f=g=>{var v,w;if(o.current=g.ctrlKey||g.metaKey||g.shiftKey||g.altKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&sN(g))return!1;const S=kw(g.code,c);if(s.current.add(g[S]),Cw(a,s.current,!1)){const N=((w=(v=g.composedPath)==null?void 0:v.call(g))==null?void 0:w[0])||g.target,_=(N==null?void 0:N.nodeName)==="BUTTON"||(N==null?void 0:N.nodeName)==="A";t.preventDefault!==!1&&(o.current||!_)&&g.preventDefault(),r(!0)}},h=g=>{const y=kw(g.code,c);Cw(a,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(g[y]),g.key==="Meta"&&s.current.clear(),o.current=!1},m=()=>{s.current.clear(),r(!1)};return d==null||d.addEventListener("keydown",f),d==null||d.addEventListener("keyup",h),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{d==null||d.removeEventListener("keydown",f),d==null||d.removeEventListener("keyup",h),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[e,r]),n}function Cw(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function kw(e,t){return t.includes(e)?"code":"key"}const KD=()=>{const e=Nt();return b.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,s],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??s},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>{const{width:o,height:s,maxZoom:a,panZoom:c}=e.getState(),d=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:a,f=o/2-t*d,h=s/2-n*d;return c?(await c.setViewport({x:f,y:h,zoom:d},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:s,maxZoom:a,panZoom:c}=e.getState(),d=wg(t,r,o,s,a,(n==null?void 0:n.padding)??.1);return c?(await c.setViewport(d,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:s,domNode:a}=e.getState();if(!a)return t;const{x:c,y:d}=a.getBoundingClientRect(),f={x:t.x-c,y:t.y-d},h=n.snapGrid??o,m=n.snapToGrid??s;return qa(f,r,m,h)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:s}=r.getBoundingClientRect(),a=ad(t,n);return{x:a.x+o,y:a.y+s}}}),[])};function EN(e,t){const n=[],r=new Map,o=[];for(const s of e)if(s.type==="add"){o.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const a=r.get(s.id);a?a.push(s):r.set(s.id,[s])}for(const s of t){const a=r.get(s.id);if(!a){n.push(s);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){n.push({...a[0].item});continue}const c={...s};for(const d of a)QD(d,c);n.push(c)}return o.length&&o.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function QD(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function _N(e,t){return EN(e,t)}function jN(e,t){return EN(e,t)}function hi(e,t){return{id:e,type:"select",selected:t}}function bs(e,t=new Set,n=!1){const r=[];for(const[o,s]of e){const a=t.has(o);!(s.selected===void 0&&!a)&&s.selected!==a&&(n&&(s.selected=a),r.push(hi(s.id,a)))}return r}function Ew({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(s=>[s.id,s]));for(const[s,a]of e.entries()){const c=t.get(a.id),d=((o=c==null?void 0:c.internals)==null?void 0:o.userNode)??c;d!==void 0&&d!==a&&n.push({id:a.id,item:a,type:"replace"}),d===void 0&&n.push({item:a,type:"add",index:s})}for(const[s]of t)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function _w(e){return{id:e.id,type:"remove"}}const jw=e=>bO(e),JD=e=>QS(e);function PN(e){return b.forwardRef(e)}const ZD=typeof window<"u"?b.useLayoutEffect:b.useEffect;function Pw(e){const[t,n]=b.useState(BigInt(0)),[r]=b.useState(()=>eL(()=>n(o=>o+BigInt(1))));return ZD(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function eL(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const AN=b.createContext(null);function tL({children:e}){const t=Nt(),n=b.useCallback(c=>{const{nodes:d=[],setNodes:f,hasDefaultNodes:h,onNodesChange:m,nodeLookup:g,fitViewQueued:y}=t.getState();let S=d;for(const v of c)S=typeof v=="function"?v(S):v;if(h)f(S);else{const v=Ew({items:S,lookup:g});v.length>0?m==null||m(v):y&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:N,setNodes:_}=t.getState();w&&_(N)})}},[]),r=Pw(n),o=b.useCallback(c=>{const{edges:d=[],setEdges:f,hasDefaultEdges:h,onEdgesChange:m,edgeLookup:g}=t.getState();let y=d;for(const S of c)y=typeof S=="function"?S(y):S;h?f(y):m&&m(Ew({items:y,lookup:g}))},[]),s=Pw(o),a=b.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return u.jsx(AN.Provider,{value:a,children:e})}function nL(){const e=b.useContext(AN);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const rL=e=>!!e.panZoom;function Ai(){const e=KD(),t=Nt(),n=nL(),r=it(rL),o=b.useMemo(()=>{const s=m=>t.getState().nodeLookup.get(m),a=m=>{n.nodeQueue.push(m)},c=m=>{n.edgeQueue.push(m)},d=m=>{var N,_;const{nodeLookup:g,nodeOrigin:y}=t.getState(),S=jw(m)?m:g.get(m.id),v=S.parentId?oN(S.position,S.measured,S.parentId,g,y):S.position,w={...S,position:v,width:((N=S.measured)==null?void 0:N.width)??S.width,height:((_=S.measured)==null?void 0:_.height)??S.height};return Fs(w)},f=(m,g,y={replace:!1})=>{a(S=>S.map(v=>{if(v.id===m){const w=typeof g=="function"?g(v):g;return y.replace&&jw(w)?w:{...v,...w}}return v}))},h=(m,g,y={replace:!1})=>{c(S=>S.map(v=>{if(v.id===m){const w=typeof g=="function"?g(v):g;return y.replace&&JD(w)?w:{...v,...w}}return v}))};return{getNodes:()=>t.getState().nodes.map(m=>({...m})),getNode:m=>{var g;return(g=s(m))==null?void 0:g.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:m=[]}=t.getState();return m.map(g=>({...g}))},getEdge:m=>t.getState().edgeLookup.get(m),setNodes:a,setEdges:c,addNodes:m=>{const g=Array.isArray(m)?m:[m];n.nodeQueue.push(y=>[...y,...g])},addEdges:m=>{const g=Array.isArray(m)?m:[m];n.edgeQueue.push(y=>[...y,...g])},toObject:()=>{const{nodes:m=[],edges:g=[],transform:y}=t.getState(),[S,v,w]=y;return{nodes:m.map(N=>({...N})),edges:g.map(N=>({...N})),viewport:{x:S,y:v,zoom:w}}},deleteElements:async({nodes:m=[],edges:g=[]})=>{const{nodes:y,edges:S,onNodesDelete:v,onEdgesDelete:w,triggerNodeChanges:N,triggerEdgeChanges:_,onDelete:k,onBeforeDelete:P}=t.getState(),{nodes:I,edges:A}=await EO({nodesToRemove:m,edgesToRemove:g,nodes:y,edges:S,onBeforeDelete:P}),T=A.length>0,$=I.length>0;if(T){const G=A.map(_w);w==null||w(A),_(G)}if($){const G=I.map(_w);v==null||v(I),N(G)}return($||T)&&(k==null||k({nodes:I,edges:A})),{deletedNodes:I,deletedEdges:A}},getIntersectingNodes:(m,g=!0,y)=>{const S=tw(m),v=S?m:d(m),w=y!==void 0;return v?(y||t.getState().nodes).filter(N=>{const _=t.getState().nodeLookup.get(N.id);if(_&&!S&&(N.id===m.id||!_.internals.positionAbsolute))return!1;const k=Fs(w?N:_),P=Ra(k,v);return g&&P>0||P>=v.width*v.height}):[]},isNodeIntersecting:(m,g,y=!0)=>{const v=tw(m)?m:d(m);if(!v)return!1;const w=Ra(v,g);return y&&w>0||w>=v.width*v.height},updateNode:f,updateNodeData:(m,g,y={replace:!1})=>{f(m,S=>{const v=typeof g=="function"?g(S):g;return y.replace?{...S,data:v}:{...S,data:{...S.data,...v}}},y)},updateEdge:h,updateEdgeData:(m,g,y={replace:!1})=>{h(m,S=>{const v=typeof g=="function"?g(S):g;return y.replace?{...S,data:v}:{...S,data:{...S.data,...v}}},y)},getNodesBounds:m=>{const{nodeLookup:g,nodeOrigin:y}=t.getState();return SO(m,{nodeLookup:g,nodeOrigin:y})},getHandleConnections:({type:m,id:g,nodeId:y})=>{var S;return Array.from(((S=t.getState().connectionLookup.get(`${y}-${m}${g?`-${g}`:""}`))==null?void 0:S.values())??[])},getNodeConnections:({type:m,handleId:g,nodeId:y})=>{var S;return Array.from(((S=t.getState().connectionLookup.get(`${y}${m?g?`-${m}-${g}`:`-${m}`:""}`))==null?void 0:S.values())??[])},fitView:async m=>{const g=t.getState().fitViewResolver??AO();return t.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:g}),n.nodeQueue.push(y=>[...y]),g.promise}}},[]);return b.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const Aw=e=>e.selected,oL={actInsideInputWithModifier:!1},iL=typeof window<"u"?window:void 0;function sL({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Nt(),{deleteElements:r}=Ai(),o=Oa(e,oL),s=Oa(t,{target:iL});b.useEffect(()=>{if(o){const{edges:a,nodes:c}=n.getState();r({nodes:c.filter(Aw),edges:a.filter(Aw)}),n.setState({nodesSelectionActive:!1})}},[o]),b.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function lL(e){const t=Nt();b.useEffect(()=>{const n=()=>{var o,s;if(!e.current)return!1;const r=bg(e.current);(r.height===0||r.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",Or.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const $d={position:"absolute",width:"100%",height:"100%",top:0,left:0},aL=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function cL({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:s=bi.Free,zoomOnDoubleClick:a=!0,panOnDrag:c=!0,defaultViewport:d,translateExtent:f,minZoom:h,maxZoom:m,zoomActivationKeyCode:g,preventScrolling:y=!0,children:S,noWheelClassName:v,noPanClassName:w,onViewportChange:N,isControlledViewport:_,paneClickDistance:k}){const P=Nt(),I=b.useRef(null),{userSelectionActive:A,lib:T}=it(aL,_t),$=Oa(g),G=b.useRef();lL(I);const X=b.useCallback(Y=>{N==null||N({x:Y[0],y:Y[1],zoom:Y[2]}),_||P.setState({transform:Y})},[N,_]);return b.useEffect(()=>{if(I.current){G.current=cD({domNode:I.current,minZoom:h,maxZoom:m,translateExtent:f,viewport:d,paneClickDistance:k,onDraggingChange:j=>P.setState({paneDragging:j}),onPanZoomStart:(j,O)=>{const{onViewportChangeStart:z,onMoveStart:H}=P.getState();H==null||H(j,O),z==null||z(O)},onPanZoom:(j,O)=>{const{onViewportChange:z,onMove:H}=P.getState();H==null||H(j,O),z==null||z(O)},onPanZoomEnd:(j,O)=>{const{onViewportChangeEnd:z,onMoveEnd:H}=P.getState();H==null||H(j,O),z==null||z(O)}});const{x:Y,y:U,zoom:V}=G.current.getViewport();return P.setState({panZoom:G.current,transform:[Y,U,V],domNode:I.current.closest(".react-flow")}),()=>{var j;(j=G.current)==null||j.destroy()}}},[]),b.useEffect(()=>{var Y;(Y=G.current)==null||Y.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:s,zoomOnDoubleClick:a,panOnDrag:c,zoomActivationKeyPressed:$,preventScrolling:y,noPanClassName:w,userSelectionActive:A,noWheelClassName:v,lib:T,onTransformChange:X})},[e,t,n,r,o,s,a,c,$,y,w,A,v,T,X]),u.jsx("div",{className:"react-flow__renderer",ref:I,style:$d,children:S})}const uL=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function dL(){const{userSelectionActive:e,userSelectionRect:t}=it(uL,_t);return e&&t?u.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Th=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},fL=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function pL({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Ia.Full,panOnDrag:r,selectionOnDrag:o,onSelectionStart:s,onSelectionEnd:a,onPaneClick:c,onPaneContextMenu:d,onPaneScroll:f,onPaneMouseEnter:h,onPaneMouseMove:m,onPaneMouseLeave:g,children:y}){const S=Nt(),{userSelectionActive:v,elementsSelectable:w,dragging:N,connectionInProgress:_}=it(fL,_t),k=w&&(e||v),P=b.useRef(null),I=b.useRef(),A=b.useRef(new Set),T=b.useRef(new Set),$=b.useRef(!1),G=b.useRef(!1),X=H=>{if($.current||_){$.current=!1;return}c==null||c(H),S.getState().resetSelectedElements(),S.setState({nodesSelectionActive:!1})},Y=H=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){H.preventDefault();return}d==null||d(H)},U=f?H=>f(H):void 0,V=H=>{var q,R;const{resetSelectedElements:L,domNode:W}=S.getState();if(I.current=W==null?void 0:W.getBoundingClientRect(),!w||!e||H.button!==0||H.target!==P.current||!I.current)return;(R=(q=H.target)==null?void 0:q.setPointerCapture)==null||R.call(q,H.pointerId),G.current=!0,$.current=!1;const{x:M,y:F}=ro(H.nativeEvent,I.current);L(),S.setState({userSelectionRect:{width:0,height:0,startX:M,startY:F,x:M,y:F}}),s==null||s(H)},j=H=>{const{userSelectionRect:L,transform:W,nodeLookup:M,edgeLookup:F,connectionLookup:q,triggerNodeChanges:R,triggerEdgeChanges:J,defaultEdgeOptions:ne}=S.getState();if(!I.current||!L)return;$.current=!0;const{x:te,y:B}=ro(H.nativeEvent,I.current),{startX:Q,startY:oe}=L,ie={startX:Q,startY:oe,x:te<Q?te:Q,y:B<oe?B:oe,width:Math.abs(te-Q),height:Math.abs(B-oe)},ue=A.current,de=T.current;A.current=new Set(JS(M,ie,W,n===Ia.Partial,!0).map(Se=>Se.id)),T.current=new Set;const be=(ne==null?void 0:ne.selectable)??!0;for(const Se of A.current){const De=q.get(Se);if(De)for(const{edgeId:We}of De.values()){const ft=F.get(We);ft&&(ft.selectable??be)&&T.current.add(We)}}if(!nw(ue,A.current)){const Se=bs(M,A.current,!0);R(Se)}if(!nw(de,T.current)){const Se=bs(F,T.current);J(Se)}S.setState({userSelectionRect:ie,userSelectionActive:!0,nodesSelectionActive:!1})},O=H=>{var W,M;if(H.button!==0||!G.current)return;(M=(W=H.target)==null?void 0:W.releasePointerCapture)==null||M.call(W,H.pointerId);const{userSelectionRect:L}=S.getState();!v&&L&&H.target===P.current&&(X==null||X(H)),S.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:A.current.size>0}),a==null||a(H),(t||o)&&($.current=!1),G.current=!1},z=r===!0||Array.isArray(r)&&r.includes(0);return u.jsxs("div",{className:Lt(["react-flow__pane",{draggable:z,dragging:N,selection:e}]),onClick:k?void 0:Th(X,P),onContextMenu:Th(Y,P),onWheel:Th(U,P),onPointerEnter:k?void 0:h,onPointerDown:k?V:m,onPointerMove:k?j:m,onPointerUp:k?O:void 0,onPointerLeave:g,ref:P,style:$d,children:[y,u.jsx(dL,{})]})}function _m({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:s,multiSelectionActive:a,nodeLookup:c,onError:d}=t.getState(),f=c.get(e);if(!f){d==null||d("012",Or.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&a)&&(s({nodes:[f],edges:[]}),requestAnimationFrame(()=>{var h;return(h=r==null?void 0:r.current)==null?void 0:h.blur()})):o([e])}function IN({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:s,nodeClickDistance:a}){const c=Nt(),[d,f]=b.useState(!1),h=b.useRef();return b.useEffect(()=>{h.current=qO({getStoreItems:()=>c.getState(),onNodeMouseDown:m=>{_m({id:m,store:c,nodeRef:e})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),b.useEffect(()=>{var m,g;if(t)(m=h.current)==null||m.destroy();else if(e.current)return(g=h.current)==null||g.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:s,nodeId:o,nodeClickDistance:a}),()=>{var y;(y=h.current)==null||y.destroy()}},[n,r,t,s,e,o]),d}const hL=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function TN(){const e=Nt();return b.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:s,nodesDraggable:a,onError:c,updateNodePositions:d,nodeLookup:f,nodeOrigin:h}=e.getState(),m=new Map,g=hL(a),y=o?s[0]:5,S=o?s[1]:5,v=n.direction.x*y*n.factor,w=n.direction.y*S*n.factor;for(const[,N]of f){if(!g(N))continue;let _={x:N.internals.positionAbsolute.x+v,y:N.internals.positionAbsolute.y+w};o&&(_=Dd(_,s));const{position:k,positionAbsolute:P}=ZS({nodeId:N.id,nextPosition:_,nodeLookup:f,nodeExtent:r,nodeOrigin:h,onError:c});N.position=k,N.internals.positionAbsolute=P,m.set(N.id,N)}d(m)},[])}const _g=b.createContext(null),mL=_g.Provider;_g.Consumer;const RN=()=>b.useContext(_g),gL=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),yL=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:s,connection:a}=r,{fromHandle:c,toHandle:d,isValid:f}=a,h=(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===n;return{connectingFrom:(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n,connectingTo:h,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:s===zs.Strict?(c==null?void 0:c.type)!==n:e!==(c==null?void 0:c.nodeId)||t!==(c==null?void 0:c.id),connectionInProcess:!!c,clickConnectionInProcess:!!o,valid:h&&f}};function xL({type:e="source",position:t=Ee.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:s=!0,id:a,onConnect:c,children:d,className:f,onMouseDown:h,onTouchStart:m,...g},y){var O,z;const S=a||null,v=e==="target",w=Nt(),N=RN(),{connectOnClick:_,noPanClassName:k,rfId:P}=it(gL,_t),{connectingFrom:I,connectingTo:A,clickConnecting:T,isPossibleEndHandle:$,connectionInProcess:G,clickConnectionInProcess:X,valid:Y}=it(yL(N,S,e),_t);N||(z=(O=w.getState()).onError)==null||z.call(O,"010",Or.error010());const U=H=>{const{defaultEdgeOptions:L,onConnect:W,hasDefaultEdges:M}=w.getState(),F={...L,...H};if(M){const{edges:q,setEdges:R}=w.getState();R(DO(F,q))}W==null||W(F),c==null||c(F)},V=H=>{if(!N)return;const L=lN(H.nativeEvent);if(o&&(L&&H.button===0||!L)){const W=w.getState();Em.onPointerDown(H.nativeEvent,{autoPanOnConnect:W.autoPanOnConnect,connectionMode:W.connectionMode,connectionRadius:W.connectionRadius,domNode:W.domNode,nodeLookup:W.nodeLookup,lib:W.lib,isTarget:v,handleId:S,nodeId:N,flowId:W.rfId,panBy:W.panBy,cancelConnection:W.cancelConnection,onConnectStart:W.onConnectStart,onConnectEnd:W.onConnectEnd,updateConnection:W.updateConnection,onConnect:U,isValidConnection:n||W.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:W.autoPanSpeed})}L?h==null||h(H):m==null||m(H)},j=H=>{const{onClickConnectStart:L,onClickConnectEnd:W,connectionClickStartHandle:M,connectionMode:F,isValidConnection:q,lib:R,rfId:J,nodeLookup:ne,connection:te}=w.getState();if(!N||!M&&!o)return;if(!M){L==null||L(H.nativeEvent,{nodeId:N,handleId:S,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:N,type:e,id:S}});return}const B=iN(H.target),Q=n||q,{connection:oe,isValid:ie}=Em.isValid(H.nativeEvent,{handle:{nodeId:N,id:S,type:e},connectionMode:F,fromNodeId:M.nodeId,fromHandleId:M.id||null,fromType:M.type,isValidConnection:Q,flowId:J,doc:B,lib:R,nodeLookup:ne});ie&&oe&&U(oe);const ue=structuredClone(te);delete ue.inProgress,ue.toPosition=ue.toHandle?ue.toHandle.position:null,W==null||W(H,ue),w.setState({connectionClickStartHandle:null})};return u.jsx("div",{"data-handleid":S,"data-nodeid":N,"data-handlepos":t,"data-id":`${P}-${N}-${S}-${e}`,className:Lt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",k,f,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:s,clickconnecting:T,connectingfrom:I,connectingto:A,valid:Y,connectionindicator:r&&(!G||$)&&(G||X?s:o)}]),onMouseDown:V,onTouchStart:V,onClick:_?j:void 0,ref:y,...g,children:d})}const Fo=b.memo(PN(xL));function vL({data:e,isConnectable:t,sourcePosition:n=Ee.Bottom}){return u.jsxs(u.Fragment,{children:[e==null?void 0:e.label,u.jsx(Fo,{type:"source",position:n,isConnectable:t})]})}function wL({data:e,isConnectable:t,targetPosition:n=Ee.Top,sourcePosition:r=Ee.Bottom}){return u.jsxs(u.Fragment,{children:[u.jsx(Fo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,u.jsx(Fo,{type:"source",position:r,isConnectable:t})]})}function bL(){return null}function SL({data:e,isConnectable:t,targetPosition:n=Ee.Top}){return u.jsxs(u.Fragment,{children:[u.jsx(Fo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const ud={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Iw={input:vL,default:wL,output:SL,group:bL};function NL(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const CL=e=>{const{width:t,height:n,x:r,y:o}=Ya(e.nodeLookup,{filter:s=>!!s.selected});return{width:gr(t)?t:null,height:gr(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function kL({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Nt(),{width:o,height:s,transformString:a,userSelectionActive:c}=it(CL,_t),d=TN(),f=b.useRef(null);if(b.useEffect(()=>{var g;n||(g=f.current)==null||g.focus({preventScroll:!0})},[n]),IN({nodeRef:f}),c||!o||!s)return null;const h=e?g=>{const y=r.getState().nodes.filter(S=>S.selected);e(g,y)}:void 0,m=g=>{Object.prototype.hasOwnProperty.call(ud,g.key)&&(g.preventDefault(),d({direction:ud[g.key],factor:g.shiftKey?4:1}))};return u.jsx("div",{className:Lt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:u.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:o,height:s}})})}const Tw=typeof window<"u"?window:void 0,EL=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function MN({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:a,paneClickDistance:c,deleteKeyCode:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:m,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:S,panActivationKeyCode:v,zoomActivationKeyCode:w,elementsSelectable:N,zoomOnScroll:_,zoomOnPinch:k,panOnScroll:P,panOnScrollSpeed:I,panOnScrollMode:A,zoomOnDoubleClick:T,panOnDrag:$,defaultViewport:G,translateExtent:X,minZoom:Y,maxZoom:U,preventScrolling:V,onSelectionContextMenu:j,noWheelClassName:O,noPanClassName:z,disableKeyboardA11y:H,onViewportChange:L,isControlledViewport:W}){const{nodesSelectionActive:M,userSelectionActive:F}=it(EL),q=Oa(f,{target:Tw}),R=Oa(v,{target:Tw}),J=R||$,ne=R||P,te=h&&J!==!0,B=q||F||te;return sL({deleteKeyCode:d,multiSelectionKeyCode:S}),u.jsx(cL,{onPaneContextMenu:s,elementsSelectable:N,zoomOnScroll:_,zoomOnPinch:k,panOnScroll:ne,panOnScrollSpeed:I,panOnScrollMode:A,zoomOnDoubleClick:T,panOnDrag:!q&&J,defaultViewport:G,translateExtent:X,minZoom:Y,maxZoom:U,zoomActivationKeyCode:w,preventScrolling:V,noWheelClassName:O,noPanClassName:z,onViewportChange:L,isControlledViewport:W,paneClickDistance:c,children:u.jsxs(pL,{onSelectionStart:g,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:a,panOnDrag:J,isSelecting:!!B,selectionMode:m,selectionKeyPressed:q,selectionOnDrag:te,children:[e,M&&u.jsx(kL,{onSelectionContextMenu:j,noPanClassName:z,disableKeyboardA11y:H})]})})}MN.displayName="FlowRenderer";const _L=b.memo(MN),jL=e=>t=>e?JS(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function PL(e){return it(b.useCallback(jL(e),[e]),_t)}const AL=e=>e.updateNodeInternals;function IL(){const e=it(AL),[t]=b.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const s=o.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:o.target,force:!0})}),e(r)}));return b.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function TL({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=Nt(),s=b.useRef(null),a=b.useRef(null),c=b.useRef(e.sourcePosition),d=b.useRef(e.targetPosition),f=b.useRef(t),h=n&&!!e.internals.handleBounds;return b.useEffect(()=>{s.current&&!e.hidden&&(!h||a.current!==s.current)&&(a.current&&(r==null||r.unobserve(a.current)),r==null||r.observe(s.current),a.current=s.current)},[h,e.hidden]),b.useEffect(()=>()=>{a.current&&(r==null||r.unobserve(a.current),a.current=null)},[]),b.useEffect(()=>{if(s.current){const m=f.current!==t,g=c.current!==e.sourcePosition,y=d.current!==e.targetPosition;(m||g||y)&&(f.current=t,c.current=e.sourcePosition,d.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function RL({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:s,onDoubleClick:a,nodesDraggable:c,elementsSelectable:d,nodesConnectable:f,nodesFocusable:h,resizeObserver:m,noDragClassName:g,noPanClassName:y,disableKeyboardA11y:S,rfId:v,nodeTypes:w,nodeClickDistance:N,onError:_}){const{node:k,internals:P,isParent:I}=it(B=>{const Q=B.nodeLookup.get(e),oe=B.parentLookup.has(e);return{node:Q,internals:Q.internals,isParent:oe}},_t);let A=k.type||"default",T=(w==null?void 0:w[A])||Iw[A];T===void 0&&(_==null||_("003",Or.error003(A)),A="default",T=Iw.default);const $=!!(k.draggable||c&&typeof k.draggable>"u"),G=!!(k.selectable||d&&typeof k.selectable>"u"),X=!!(k.connectable||f&&typeof k.connectable>"u"),Y=!!(k.focusable||h&&typeof k.focusable>"u"),U=Nt(),V=rN(k),j=TL({node:k,nodeType:A,hasDimensions:V,resizeObserver:m}),O=IN({nodeRef:j,disabled:k.hidden||!$,noDragClassName:g,handleSelector:k.dragHandle,nodeId:e,isSelectable:G,nodeClickDistance:N}),z=TN();if(k.hidden)return null;const H=lo(k),L=NL(k),W=G||$||t||n||r||o,M=n?B=>n(B,{...P.userNode}):void 0,F=r?B=>r(B,{...P.userNode}):void 0,q=o?B=>o(B,{...P.userNode}):void 0,R=s?B=>s(B,{...P.userNode}):void 0,J=a?B=>a(B,{...P.userNode}):void 0,ne=B=>{const{selectNodesOnDrag:Q,nodeDragThreshold:oe}=U.getState();G&&(!Q||!$||oe>0)&&_m({id:e,store:U,nodeRef:j}),t&&t(B,{...P.userNode})},te=B=>{if(!(sN(B.nativeEvent)||S))if(YS.includes(B.key)&&G){const Q=B.key==="Escape";_m({id:e,store:U,unselect:Q,nodeRef:j})}else $&&k.selected&&Object.prototype.hasOwnProperty.call(ud,B.key)&&(B.preventDefault(),U.setState({ariaLiveMessage:`Moved selected node ${B.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~P.positionAbsolute.x}, y: ${~~P.positionAbsolute.y}`}),z({direction:ud[B.key],factor:B.shiftKey?4:1}))};return u.jsx("div",{className:Lt(["react-flow__node",`react-flow__node-${A}`,{[y]:$},k.className,{selected:k.selected,selectable:G,parent:I,draggable:$,dragging:O}]),ref:j,style:{zIndex:P.z,transform:`translate(${P.positionAbsolute.x}px,${P.positionAbsolute.y}px)`,pointerEvents:W?"all":"none",visibility:V?"visible":"hidden",...k.style,...L},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:M,onMouseMove:F,onMouseLeave:q,onContextMenu:R,onClick:ne,onDoubleClick:J,onKeyDown:Y?te:void 0,tabIndex:Y?0:void 0,role:Y?"button":void 0,"aria-describedby":S?void 0:`${NN}-${v}`,"aria-label":k.ariaLabel,children:u.jsx(mL,{value:e,children:u.jsx(T,{id:e,data:k.data,type:A,positionAbsoluteX:P.positionAbsolute.x,positionAbsoluteY:P.positionAbsolute.y,selected:k.selected??!1,selectable:G,draggable:$,deletable:k.deletable??!0,isConnectable:X,sourcePosition:k.sourcePosition,targetPosition:k.targetPosition,dragging:O,dragHandle:k.dragHandle,zIndex:P.z,parentId:k.parentId,...H})})})}const ML=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function ON(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:s}=it(ML,_t),a=PL(e.onlyRenderVisibleElements),c=IL();return u.jsx("div",{className:"react-flow__nodes",style:$d,children:a.map(d=>u.jsx(RL,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:c,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:s},d))})}ON.displayName="NodeRenderer";const OL=b.memo(ON);function DL(e){return it(b.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const s=n.nodeLookup.get(o.source),a=n.nodeLookup.get(o.target);s&&a&&RO({sourceNode:s,targetNode:a,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),_t)}const LL=({color:e="none",strokeWidth:t=1})=>u.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),zL=({color:e="none",strokeWidth:t=1})=>u.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Rw={[Ta.Arrow]:LL,[Ta.ArrowClosed]:zL};function $L(e){const t=Nt();return b.useMemo(()=>{var o,s;return Object.prototype.hasOwnProperty.call(Rw,e)?Rw[e]:((s=(o=t.getState()).onError)==null||s.call(o,"009",Or.error009(e)),null)},[e])}const FL=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:s="strokeWidth",strokeWidth:a,orient:c="auto-start-reverse"})=>{const d=$L(t);return d?u.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0",children:u.jsx(d,{color:n,strokeWidth:a})}):null},DN=({defaultColor:e,rfId:t})=>{const n=it(s=>s.edges),r=it(s=>s.defaultEdgeOptions),o=b.useMemo(()=>BO(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?u.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:u.jsx("defs",{children:o.map(s=>u.jsx(FL,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};DN.displayName="MarkerDefinitions";var BL=b.memo(DN);function LN({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:s,labelBgPadding:a=[2,4],labelBgBorderRadius:c=2,children:d,className:f,...h}){const[m,g]=b.useState({x:1,y:0,width:0,height:0}),y=Lt(["react-flow__edge-textwrapper",f]),S=b.useRef(null);return b.useEffect(()=>{if(S.current){const v=S.current.getBBox();g({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?u.jsxs("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:y,visibility:m.width?"visible":"hidden",...h,children:[o&&u.jsx("rect",{width:m.width+2*a[0],x:-a[0],y:-a[1],height:m.height+2*a[1],className:"react-flow__edge-textbg",style:s,rx:c,ry:c}),u.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:S,style:r,children:n}),d]}):null}LN.displayName="EdgeText";const VL=b.memo(LN);function Fd({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:d,interactionWidth:f=20,...h}){return u.jsxs(u.Fragment,{children:[u.jsx("path",{...h,d:e,fill:"none",className:Lt(["react-flow__edge-path",h.className])}),f&&u.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}),r&&gr(t)&&gr(n)?u.jsx(VL,{x:t,y:n,label:r,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:d}):null]})}function Mw({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Ee.Left||e===Ee.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function zN({sourceX:e,sourceY:t,sourcePosition:n=Ee.Bottom,targetX:r,targetY:o,targetPosition:s=Ee.Top}){const[a,c]=Mw({pos:n,x1:e,y1:t,x2:r,y2:o}),[d,f]=Mw({pos:s,x1:r,y1:o,x2:e,y2:t}),[h,m,g,y]=aN({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:c,targetControlX:d,targetControlY:f});return[`M${e},${t} C${a},${c} ${d},${f} ${r},${o}`,h,m,g,y]}function $N(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,sourcePosition:a,targetPosition:c,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:y,style:S,markerEnd:v,markerStart:w,interactionWidth:N})=>{const[_,k,P]=zN({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:s,targetPosition:c}),I=e.isInternal?void 0:t;return u.jsx(Fd,{id:I,path:_,labelX:k,labelY:P,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:y,style:S,markerEnd:v,markerStart:w,interactionWidth:N})})}const HL=$N({isInternal:!1}),FN=$N({isInternal:!0});HL.displayName="SimpleBezierEdge";FN.displayName="SimpleBezierEdgeInternal";function BN(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:g,sourcePosition:y=Ee.Bottom,targetPosition:S=Ee.Top,markerEnd:v,markerStart:w,pathOptions:N,interactionWidth:_})=>{const[k,P,I]=Nm({sourceX:n,sourceY:r,sourcePosition:y,targetX:o,targetY:s,targetPosition:S,borderRadius:N==null?void 0:N.borderRadius,offset:N==null?void 0:N.offset}),A=e.isInternal?void 0:t;return u.jsx(Fd,{id:A,path:k,labelX:P,labelY:I,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:w,interactionWidth:_})})}const VN=BN({isInternal:!1}),HN=BN({isInternal:!0});VN.displayName="SmoothStepEdge";HN.displayName="SmoothStepEdgeInternal";function UN(e){return b.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return u.jsx(VN,{...n,id:r,pathOptions:b.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const UL=UN({isInternal:!1}),WN=UN({isInternal:!0});UL.displayName="StepEdge";WN.displayName="StepEdgeInternal";function XN(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:g,markerEnd:y,markerStart:S,interactionWidth:v})=>{const[w,N,_]=Sg({sourceX:n,sourceY:r,targetX:o,targetY:s}),k=e.isInternal?void 0:t;return u.jsx(Fd,{id:k,path:w,labelX:N,labelY:_,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:g,markerEnd:y,markerStart:S,interactionWidth:v})})}const WL=XN({isInternal:!1}),GN=XN({isInternal:!0});WL.displayName="StraightEdge";GN.displayName="StraightEdgeInternal";function YN(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,sourcePosition:a=Ee.Bottom,targetPosition:c=Ee.Top,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:y,style:S,markerEnd:v,markerStart:w,pathOptions:N,interactionWidth:_})=>{const[k,P,I]=cN({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:s,targetPosition:c,curvature:N==null?void 0:N.curvature}),A=e.isInternal?void 0:t;return u.jsx(Fd,{id:A,path:k,labelX:P,labelY:I,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:y,style:S,markerEnd:v,markerStart:w,interactionWidth:_})})}const XL=YN({isInternal:!1}),qN=YN({isInternal:!0});XL.displayName="BezierEdge";qN.displayName="BezierEdgeInternal";const Ow={default:qN,straight:GN,step:WN,smoothstep:HN,simplebezier:FN},Dw={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},GL=(e,t,n)=>n===Ee.Left?e-t:n===Ee.Right?e+t:e,YL=(e,t,n)=>n===Ee.Top?e-t:n===Ee.Bottom?e+t:e,Lw="react-flow__edgeupdater";function zw({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:s,onMouseOut:a,type:c}){return u.jsx("circle",{onMouseDown:o,onMouseEnter:s,onMouseOut:a,className:Lt([Lw,`${Lw}-${c}`]),cx:GL(t,r,e),cy:YL(n,r,e),r,stroke:"transparent",fill:"transparent"})}function qL({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:s,targetY:a,sourcePosition:c,targetPosition:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,setReconnecting:g,setUpdateHover:y}){const S=Nt(),v=(P,I)=>{if(P.button!==0)return;const{autoPanOnConnect:A,domNode:T,isValidConnection:$,connectionMode:G,connectionRadius:X,lib:Y,onConnectStart:U,onConnectEnd:V,cancelConnection:j,nodeLookup:O,rfId:z,panBy:H,updateConnection:L}=S.getState(),W=I.type==="target";g(!0),h==null||h(P,n,I.type);const M=(q,R)=>{g(!1),m==null||m(q,n,I.type,R)},F=q=>f==null?void 0:f(n,q);Em.onPointerDown(P.nativeEvent,{autoPanOnConnect:A,connectionMode:G,connectionRadius:X,domNode:T,handleId:I.id,nodeId:I.nodeId,nodeLookup:O,isTarget:W,edgeUpdaterType:I.type,lib:Y,flowId:z,cancelConnection:j,panBy:H,isValidConnection:$,onConnect:F,onConnectStart:U,onConnectEnd:V,onReconnectEnd:M,updateConnection:L,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle})},w=P=>v(P,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),N=P=>v(P,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),_=()=>y(!0),k=()=>y(!1);return u.jsxs(u.Fragment,{children:[(e===!0||e==="source")&&u.jsx(zw,{position:c,centerX:r,centerY:o,radius:t,onMouseDown:w,onMouseEnter:_,onMouseOut:k,type:"source"}),(e===!0||e==="target")&&u.jsx(zw,{position:d,centerX:s,centerY:a,radius:t,onMouseDown:N,onMouseEnter:_,onMouseOut:k,type:"target"})]})}function KL({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:s,onContextMenu:a,onMouseEnter:c,onMouseMove:d,onMouseLeave:f,reconnectRadius:h,onReconnect:m,onReconnectStart:g,onReconnectEnd:y,rfId:S,edgeTypes:v,noPanClassName:w,onError:N,disableKeyboardA11y:_}){let k=it(de=>de.edgeLookup.get(e));const P=it(de=>de.defaultEdgeOptions);k=P?{...P,...k}:k;let I=k.type||"default",A=(v==null?void 0:v[I])||Ow[I];A===void 0&&(N==null||N("011",Or.error011(I)),I="default",A=Ow.default);const T=!!(k.focusable||t&&typeof k.focusable>"u"),$=typeof m<"u"&&(k.reconnectable||n&&typeof k.reconnectable>"u"),G=!!(k.selectable||r&&typeof k.selectable>"u"),X=b.useRef(null),[Y,U]=b.useState(!1),[V,j]=b.useState(!1),O=Nt(),{zIndex:z,sourceX:H,sourceY:L,targetX:W,targetY:M,sourcePosition:F,targetPosition:q}=it(b.useCallback(de=>{const be=de.nodeLookup.get(k.source),Se=de.nodeLookup.get(k.target);if(!be||!Se)return{zIndex:k.zIndex,...Dw};const De=FO({id:e,sourceNode:be,targetNode:Se,sourceHandle:k.sourceHandle||null,targetHandle:k.targetHandle||null,connectionMode:de.connectionMode,onError:N});return{zIndex:TO({selected:k.selected,zIndex:k.zIndex,sourceNode:be,targetNode:Se,elevateOnSelect:de.elevateEdgesOnSelect}),...De||Dw}},[k.source,k.target,k.sourceHandle,k.targetHandle,k.selected,k.zIndex]),_t),R=b.useMemo(()=>k.markerStart?`url('#${Cm(k.markerStart,S)}')`:void 0,[k.markerStart,S]),J=b.useMemo(()=>k.markerEnd?`url('#${Cm(k.markerEnd,S)}')`:void 0,[k.markerEnd,S]);if(k.hidden||H===null||L===null||W===null||M===null)return null;const ne=de=>{var We;const{addSelectedEdges:be,unselectNodesAndEdges:Se,multiSelectionActive:De}=O.getState();G&&(O.setState({nodesSelectionActive:!1}),k.selected&&De?(Se({nodes:[],edges:[k]}),(We=X.current)==null||We.blur()):be([e])),o&&o(de,k)},te=s?de=>{s(de,{...k})}:void 0,B=a?de=>{a(de,{...k})}:void 0,Q=c?de=>{c(de,{...k})}:void 0,oe=d?de=>{d(de,{...k})}:void 0,ie=f?de=>{f(de,{...k})}:void 0,ue=de=>{var be;if(!_&&YS.includes(de.key)&&G){const{unselectNodesAndEdges:Se,addSelectedEdges:De}=O.getState();de.key==="Escape"?((be=X.current)==null||be.blur(),Se({edges:[k]})):De([e])}};return u.jsx("svg",{style:{zIndex:z},children:u.jsxs("g",{className:Lt(["react-flow__edge",`react-flow__edge-${I}`,k.className,w,{selected:k.selected,animated:k.animated,inactive:!G&&!o,updating:Y,selectable:G}]),onClick:ne,onDoubleClick:te,onContextMenu:B,onMouseEnter:Q,onMouseMove:oe,onMouseLeave:ie,onKeyDown:T?ue:void 0,tabIndex:T?0:void 0,role:T?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":k.ariaLabel===null?void 0:k.ariaLabel||`Edge from ${k.source} to ${k.target}`,"aria-describedby":T?`${CN}-${S}`:void 0,ref:X,children:[!V&&u.jsx(A,{id:e,source:k.source,target:k.target,type:k.type,selected:k.selected,animated:k.animated,selectable:G,deletable:k.deletable??!0,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,sourceX:H,sourceY:L,targetX:W,targetY:M,sourcePosition:F,targetPosition:q,data:k.data,style:k.style,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerStart:R,markerEnd:J,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth}),$&&u.jsx(qL,{edge:k,isReconnectable:$,reconnectRadius:h,onReconnect:m,onReconnectStart:g,onReconnectEnd:y,sourceX:H,sourceY:L,targetX:W,targetY:M,sourcePosition:F,targetPosition:q,setUpdateHover:U,setReconnecting:j})]})})}const QL=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function KN({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:s,onEdgeContextMenu:a,onEdgeMouseEnter:c,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:h,reconnectRadius:m,onEdgeDoubleClick:g,onReconnectStart:y,onReconnectEnd:S,disableKeyboardA11y:v}){const{edgesFocusable:w,edgesReconnectable:N,elementsSelectable:_,onError:k}=it(QL,_t),P=DL(t);return u.jsxs("div",{className:"react-flow__edges",children:[u.jsx(BL,{defaultColor:e,rfId:n}),P.map(I=>u.jsx(KL,{id:I,edgesFocusable:w,edgesReconnectable:N,elementsSelectable:_,noPanClassName:o,onReconnect:s,onContextMenu:a,onMouseEnter:c,onMouseMove:d,onMouseLeave:f,onClick:h,reconnectRadius:m,onDoubleClick:g,onReconnectStart:y,onReconnectEnd:S,rfId:n,onError:k,edgeTypes:r,disableKeyboardA11y:v},I))]})}KN.displayName="EdgeRenderer";const JL=b.memo(KN),ZL=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function ez({children:e}){const t=it(ZL);return u.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function tz(e){const t=Ai(),n=b.useRef(!1);b.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const nz=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function rz(e){const t=it(nz),n=Nt();return b.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function oz(e){return e.connection.inProgress?{...e.connection,to:qa(e.connection.to,e.transform)}:{...e.connection}}function iz(e){return oz}function jg(e){const t=iz();return it(t,_t)}const sz=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function lz({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:s,height:a,isValid:c,inProgress:d}=it(sz,_t);return!(s&&o&&d)?null:u.jsx("svg",{style:e,width:s,height:a,className:"react-flow__connectionline react-flow__container",children:u.jsx("g",{className:Lt(["react-flow__connection",KS(c)]),children:u.jsx(QN,{style:t,type:n,CustomComponent:r,isValid:c})})})}const QN=({style:e,type:t=Lo.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:s,fromNode:a,fromHandle:c,fromPosition:d,to:f,toNode:h,toHandle:m,toPosition:g}=jg();if(!o)return;if(n)return u.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:c,fromX:s.x,fromY:s.y,toX:f.x,toY:f.y,fromPosition:d,toPosition:g,connectionStatus:KS(r),toNode:h,toHandle:m});let y="";const S={sourceX:s.x,sourceY:s.y,sourcePosition:d,targetX:f.x,targetY:f.y,targetPosition:g};switch(t){case Lo.Bezier:[y]=cN(S);break;case Lo.SimpleBezier:[y]=zN(S);break;case Lo.Step:[y]=Nm({...S,borderRadius:0});break;case Lo.SmoothStep:[y]=Nm(S);break;default:[y]=Sg(S)}return u.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:e})};QN.displayName="ConnectionLine";const az={};function $w(e=az){b.useRef(e),Nt(),b.useEffect(()=>{},[e])}function cz(){Nt(),b.useRef(!1),b.useEffect(()=>{},[])}function JN({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:s,onEdgeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,onSelectionContextMenu:m,onSelectionStart:g,onSelectionEnd:y,connectionLineType:S,connectionLineStyle:v,connectionLineComponent:w,connectionLineContainerStyle:N,selectionKeyCode:_,selectionOnDrag:k,selectionMode:P,multiSelectionKeyCode:I,panActivationKeyCode:A,zoomActivationKeyCode:T,deleteKeyCode:$,onlyRenderVisibleElements:G,elementsSelectable:X,defaultViewport:Y,translateExtent:U,minZoom:V,maxZoom:j,preventScrolling:O,defaultMarkerColor:z,zoomOnScroll:H,zoomOnPinch:L,panOnScroll:W,panOnScrollSpeed:M,panOnScrollMode:F,zoomOnDoubleClick:q,panOnDrag:R,onPaneClick:J,onPaneMouseEnter:ne,onPaneMouseMove:te,onPaneMouseLeave:B,onPaneScroll:Q,onPaneContextMenu:oe,paneClickDistance:ie,nodeClickDistance:ue,onEdgeContextMenu:de,onEdgeMouseEnter:be,onEdgeMouseMove:Se,onEdgeMouseLeave:De,reconnectRadius:We,onReconnect:ft,onReconnectStart:ut,onReconnectEnd:ye,noDragClassName:Be,noWheelClassName:He,noPanClassName:rt,disableKeyboardA11y:pt,nodeExtent:At,rfId:st,viewport:le,onViewportChange:fe}){return $w(e),$w(t),cz(),tz(n),rz(le),u.jsx(_L,{onPaneClick:J,onPaneMouseEnter:ne,onPaneMouseMove:te,onPaneMouseLeave:B,onPaneContextMenu:oe,onPaneScroll:Q,paneClickDistance:ie,deleteKeyCode:$,selectionKeyCode:_,selectionOnDrag:k,selectionMode:P,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:I,panActivationKeyCode:A,zoomActivationKeyCode:T,elementsSelectable:X,zoomOnScroll:H,zoomOnPinch:L,zoomOnDoubleClick:q,panOnScroll:W,panOnScrollSpeed:M,panOnScrollMode:F,panOnDrag:R,defaultViewport:Y,translateExtent:U,minZoom:V,maxZoom:j,onSelectionContextMenu:m,preventScrolling:O,noDragClassName:Be,noWheelClassName:He,noPanClassName:rt,disableKeyboardA11y:pt,onViewportChange:fe,isControlledViewport:!!le,children:u.jsxs(ez,{children:[u.jsx(JL,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:a,onReconnect:ft,onReconnectStart:ut,onReconnectEnd:ye,onlyRenderVisibleElements:G,onEdgeContextMenu:de,onEdgeMouseEnter:be,onEdgeMouseMove:Se,onEdgeMouseLeave:De,reconnectRadius:We,defaultMarkerColor:z,noPanClassName:rt,disableKeyboardA11y:pt,rfId:st}),u.jsx(lz,{style:v,type:S,component:w,containerStyle:N}),u.jsx("div",{className:"react-flow__edgelabel-renderer"}),u.jsx(OL,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,nodeClickDistance:ue,onlyRenderVisibleElements:G,noPanClassName:rt,noDragClassName:Be,disableKeyboardA11y:pt,nodeExtent:At,rfId:st}),u.jsx("div",{className:"react-flow__viewport-portal"})]})})}JN.displayName="GraphView";const uz=b.memo(JN),Fw=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:s,fitView:a,fitViewOptions:c,minZoom:d=.5,maxZoom:f=2,nodeOrigin:h,nodeExtent:m}={})=>{const g=new Map,y=new Map,S=new Map,v=new Map,w=r??t??[],N=n??e??[],_=h??[0,0],k=m??Aa;fN(S,v,w);const P=km(N,g,y,{nodeOrigin:_,nodeExtent:k,elevateNodesOnSelect:!1});let I=[0,0,1];if(a&&o&&s){const A=Ya(g,{filter:X=>!!((X.width||X.initialWidth)&&(X.height||X.initialHeight))}),{x:T,y:$,zoom:G}=wg(A,o,s,d,f,(c==null?void 0:c.padding)??.1);I=[T,$,G]}return{rfId:"1",width:0,height:0,transform:I,nodes:N,nodesInitialized:P,nodeLookup:g,parentLookup:y,edges:w,edgeLookup:v,connectionLookup:S,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:d,maxZoom:f,translateExtent:Aa,nodeExtent:k,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:zs.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:_,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:c,fitViewResolver:null,connection:{...qS},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:_O,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},dz=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:s,fitView:a,fitViewOptions:c,minZoom:d,maxZoom:f,nodeOrigin:h,nodeExtent:m})=>AD((g,y)=>{async function S(){const{nodeLookup:v,panZoom:w,fitViewOptions:N,fitViewResolver:_,width:k,height:P,minZoom:I,maxZoom:A}=y();w&&(await kO({nodes:v,width:k,height:P,panZoom:w,minZoom:I,maxZoom:A},N),_==null||_.resolve(!0),g({fitViewResolver:null}))}return{...Fw({nodes:e,edges:t,width:o,height:s,fitView:a,fitViewOptions:c,minZoom:d,maxZoom:f,nodeOrigin:h,nodeExtent:m,defaultNodes:n,defaultEdges:r}),setNodes:v=>{const{nodeLookup:w,parentLookup:N,nodeOrigin:_,elevateNodesOnSelect:k,fitViewQueued:P}=y(),I=km(v,w,N,{nodeOrigin:_,nodeExtent:m,elevateNodesOnSelect:k,checkEquality:!0});P&&I?(S(),g({nodes:v,nodesInitialized:I,fitViewQueued:!1,fitViewOptions:void 0})):g({nodes:v,nodesInitialized:I})},setEdges:v=>{const{connectionLookup:w,edgeLookup:N}=y();fN(w,N,v),g({edges:v})},setDefaultNodesAndEdges:(v,w)=>{if(v){const{setNodes:N}=y();N(v),g({hasDefaultNodes:!0})}if(w){const{setEdges:N}=y();N(w),g({hasDefaultEdges:!0})}},updateNodeInternals:v=>{const{triggerNodeChanges:w,nodeLookup:N,parentLookup:_,domNode:k,nodeOrigin:P,nodeExtent:I,debug:A,fitViewQueued:T}=y(),{changes:$,updatedInternals:G}=XO(v,N,_,k,P,I);G&&(HO(N,_,{nodeOrigin:P,nodeExtent:I}),T?(S(),g({fitViewQueued:!1,fitViewOptions:void 0})):g({}),($==null?void 0:$.length)>0&&(A&&console.log("React Flow: trigger node changes",$),w==null||w($)))},updateNodePositions:(v,w=!1)=>{const N=[],_=[],{nodeLookup:k,triggerNodeChanges:P}=y();for(const[I,A]of v){const T=k.get(I),$=!!(T!=null&&T.expandParent&&(T!=null&&T.parentId)&&(A!=null&&A.position)),G={id:I,type:"position",position:$?{x:Math.max(0,A.position.x),y:Math.max(0,A.position.y)}:A.position,dragging:w};$&&T.parentId&&N.push({id:I,parentId:T.parentId,rect:{...A.internals.positionAbsolute,width:A.measured.width??0,height:A.measured.height??0}}),_.push(G)}if(N.length>0){const{parentLookup:I,nodeOrigin:A}=y(),T=Eg(N,k,I,A);_.push(...T)}P(_)},triggerNodeChanges:v=>{const{onNodesChange:w,setNodes:N,nodes:_,hasDefaultNodes:k,debug:P}=y();if(v!=null&&v.length){if(k){const I=_N(v,_);N(I)}P&&console.log("React Flow: trigger node changes",v),w==null||w(v)}},triggerEdgeChanges:v=>{const{onEdgesChange:w,setEdges:N,edges:_,hasDefaultEdges:k,debug:P}=y();if(v!=null&&v.length){if(k){const I=jN(v,_);N(I)}P&&console.log("React Flow: trigger edge changes",v),w==null||w(v)}},addSelectedNodes:v=>{const{multiSelectionActive:w,edgeLookup:N,nodeLookup:_,triggerNodeChanges:k,triggerEdgeChanges:P}=y();if(w){const I=v.map(A=>hi(A,!0));k(I);return}k(bs(_,new Set([...v]),!0)),P(bs(N))},addSelectedEdges:v=>{const{multiSelectionActive:w,edgeLookup:N,nodeLookup:_,triggerNodeChanges:k,triggerEdgeChanges:P}=y();if(w){const I=v.map(A=>hi(A,!0));P(I);return}P(bs(N,new Set([...v]))),k(bs(_,new Set,!0))},unselectNodesAndEdges:({nodes:v,edges:w}={})=>{const{edges:N,nodes:_,nodeLookup:k,triggerNodeChanges:P,triggerEdgeChanges:I}=y(),A=v||_,T=w||N,$=A.map(X=>{const Y=k.get(X.id);return Y&&(Y.selected=!1),hi(X.id,!1)}),G=T.map(X=>hi(X.id,!1));P($),I(G)},setMinZoom:v=>{const{panZoom:w,maxZoom:N}=y();w==null||w.setScaleExtent([v,N]),g({minZoom:v})},setMaxZoom:v=>{const{panZoom:w,minZoom:N}=y();w==null||w.setScaleExtent([N,v]),g({maxZoom:v})},setTranslateExtent:v=>{var w;(w=y().panZoom)==null||w.setTranslateExtent(v),g({translateExtent:v})},setPaneClickDistance:v=>{var w;(w=y().panZoom)==null||w.setClickDistance(v)},resetSelectedElements:()=>{const{edges:v,nodes:w,triggerNodeChanges:N,triggerEdgeChanges:_,elementsSelectable:k}=y();if(!k)return;const P=w.reduce((A,T)=>T.selected?[...A,hi(T.id,!1)]:A,[]),I=v.reduce((A,T)=>T.selected?[...A,hi(T.id,!1)]:A,[]);N(P),_(I)},setNodeExtent:v=>{const{nodes:w,nodeLookup:N,parentLookup:_,nodeOrigin:k,elevateNodesOnSelect:P,nodeExtent:I}=y();v[0][0]===I[0][0]&&v[0][1]===I[0][1]&&v[1][0]===I[1][0]&&v[1][1]===I[1][1]||(km(w,N,_,{nodeOrigin:k,nodeExtent:v,elevateNodesOnSelect:P,checkEquality:!1}),g({nodeExtent:v}))},panBy:v=>{const{transform:w,width:N,height:_,panZoom:k,translateExtent:P}=y();return GO({delta:v,panZoom:k,transform:w,translateExtent:P,width:N,height:_})},cancelConnection:()=>{g({connection:{...qS}})},updateConnection:v=>{g({connection:v})},reset:()=>g({...Fw()})}},Object.is);function ZN({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:s,initialMinZoom:a,initialMaxZoom:c,initialFitViewOptions:d,fitView:f,nodeOrigin:h,nodeExtent:m,children:g}){const[y]=b.useState(()=>dz({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:s,fitView:f,minZoom:a,maxZoom:c,fitViewOptions:d,nodeOrigin:h,nodeExtent:m}));return u.jsx(TD,{value:y,children:u.jsx(tL,{children:g})})}function fz({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:s,height:a,fitView:c,fitViewOptions:d,minZoom:f,maxZoom:h,nodeOrigin:m,nodeExtent:g}){return b.useContext(zd)?u.jsx(u.Fragment,{children:e}):u.jsx(ZN,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:s,initialHeight:a,fitView:c,initialFitViewOptions:d,initialMinZoom:f,initialMaxZoom:h,nodeOrigin:m,nodeExtent:g,children:e})}const pz={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function hz({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:s,edgeTypes:a,onNodeClick:c,onEdgeClick:d,onInit:f,onMove:h,onMoveStart:m,onMoveEnd:g,onConnect:y,onConnectStart:S,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:N,onNodeMouseEnter:_,onNodeMouseMove:k,onNodeMouseLeave:P,onNodeContextMenu:I,onNodeDoubleClick:A,onNodeDragStart:T,onNodeDrag:$,onNodeDragStop:G,onNodesDelete:X,onEdgesDelete:Y,onDelete:U,onSelectionChange:V,onSelectionDragStart:j,onSelectionDrag:O,onSelectionDragStop:z,onSelectionContextMenu:H,onSelectionStart:L,onSelectionEnd:W,onBeforeDelete:M,connectionMode:F,connectionLineType:q=Lo.Bezier,connectionLineStyle:R,connectionLineComponent:J,connectionLineContainerStyle:ne,deleteKeyCode:te="Backspace",selectionKeyCode:B="Shift",selectionOnDrag:Q=!1,selectionMode:oe=Ia.Full,panActivationKeyCode:ie="Space",multiSelectionKeyCode:ue=cd()?"Meta":"Control",zoomActivationKeyCode:de=cd()?"Meta":"Control",snapToGrid:be,snapGrid:Se,onlyRenderVisibleElements:De=!1,selectNodesOnDrag:We,nodesDraggable:ft,nodesConnectable:ut,nodesFocusable:ye,nodeOrigin:Be=kN,edgesFocusable:He,edgesReconnectable:rt,elementsSelectable:pt=!0,defaultViewport:At=WD,minZoom:st=.5,maxZoom:le=2,translateExtent:fe=Aa,preventScrolling:Ae=!0,nodeExtent:Ve,defaultMarkerColor:Ke="#b1b1b7",zoomOnScroll:It=!0,zoomOnPinch:Mn=!0,panOnScroll:Qt=!1,panOnScrollSpeed:qn=.5,panOnScrollMode:wn=bi.Free,zoomOnDoubleClick:bt=!0,panOnDrag:Ut=!0,onPaneClick:Rt,onPaneMouseEnter:Cr,onPaneMouseMove:ae,onPaneMouseLeave:Oe,onPaneScroll:at,onPaneContextMenu:mt,paneClickDistance:Wt=0,nodeClickDistance:Jt=0,children:Mt,onReconnect:sc,onReconnectStart:ol,onReconnectEnd:lc,onEdgeContextMenu:Ko,onEdgeDoubleClick:il,onEdgeMouseEnter:Qo,onEdgeMouseMove:wf,onEdgeMouseLeave:Jo,reconnectRadius:Oi=10,onNodesChange:Di,onEdgesChange:sl,noDragClassName:bf="nodrag",noWheelClassName:Sf="nowheel",noPanClassName:ac="nopan",fitView:kr,fitViewOptions:ll,connectOnClick:cc,attributionPosition:Nf,proOptions:uc,defaultEdgeOptions:dc,elevateNodesOnSelect:fc,elevateEdgesOnSelect:pc,disableKeyboardA11y:hc=!1,autoPanOnConnect:Cf,autoPanOnNodeDrag:Ct,autoPanSpeed:kf,connectionRadius:al,isValidConnection:mc,onError:Li,style:Ef,id:cl,nodeDragThreshold:zi,viewport:Kn,onViewportChange:_f,width:On,height:jf,colorMode:Pf="light",debug:Af,onScroll:Hr,...$i},Zo){const ao=cl||"1",If=qD(Pf),Tf=b.useCallback(Fi=>{Fi.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Hr==null||Hr(Fi)},[Hr]);return u.jsx("div",{"data-testid":"rf__wrapper",...$i,onScroll:Tf,style:{...Ef,...pz},ref:Zo,className:Lt(["react-flow",o,If]),id:cl,children:u.jsxs(fz,{nodes:e,edges:t,width:On,height:jf,fitView:kr,fitViewOptions:ll,minZoom:st,maxZoom:le,nodeOrigin:Be,nodeExtent:Ve,children:[u.jsx(uz,{onInit:f,onNodeClick:c,onEdgeClick:d,onNodeMouseEnter:_,onNodeMouseMove:k,onNodeMouseLeave:P,onNodeContextMenu:I,onNodeDoubleClick:A,nodeTypes:s,edgeTypes:a,connectionLineType:q,connectionLineStyle:R,connectionLineComponent:J,connectionLineContainerStyle:ne,selectionKeyCode:B,selectionOnDrag:Q,selectionMode:oe,deleteKeyCode:te,multiSelectionKeyCode:ue,panActivationKeyCode:ie,zoomActivationKeyCode:de,onlyRenderVisibleElements:De,defaultViewport:At,translateExtent:fe,minZoom:st,maxZoom:le,preventScrolling:Ae,zoomOnScroll:It,zoomOnPinch:Mn,zoomOnDoubleClick:bt,panOnScroll:Qt,panOnScrollSpeed:qn,panOnScrollMode:wn,panOnDrag:Ut,onPaneClick:Rt,onPaneMouseEnter:Cr,onPaneMouseMove:ae,onPaneMouseLeave:Oe,onPaneScroll:at,onPaneContextMenu:mt,paneClickDistance:Wt,nodeClickDistance:Jt,onSelectionContextMenu:H,onSelectionStart:L,onSelectionEnd:W,onReconnect:sc,onReconnectStart:ol,onReconnectEnd:lc,onEdgeContextMenu:Ko,onEdgeDoubleClick:il,onEdgeMouseEnter:Qo,onEdgeMouseMove:wf,onEdgeMouseLeave:Jo,reconnectRadius:Oi,defaultMarkerColor:Ke,noDragClassName:bf,noWheelClassName:Sf,noPanClassName:ac,rfId:ao,disableKeyboardA11y:hc,nodeExtent:Ve,viewport:Kn,onViewportChange:_f}),u.jsx(YD,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:S,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:N,nodesDraggable:ft,nodesConnectable:ut,nodesFocusable:ye,edgesFocusable:He,edgesReconnectable:rt,elementsSelectable:pt,elevateNodesOnSelect:fc,elevateEdgesOnSelect:pc,minZoom:st,maxZoom:le,nodeExtent:Ve,onNodesChange:Di,onEdgesChange:sl,snapToGrid:be,snapGrid:Se,connectionMode:F,translateExtent:fe,connectOnClick:cc,defaultEdgeOptions:dc,fitView:kr,fitViewOptions:ll,onNodesDelete:X,onEdgesDelete:Y,onDelete:U,onNodeDragStart:T,onNodeDrag:$,onNodeDragStop:G,onSelectionDrag:O,onSelectionDragStart:j,onSelectionDragStop:z,onMove:h,onMoveStart:m,onMoveEnd:g,noPanClassName:ac,nodeOrigin:Be,rfId:ao,autoPanOnConnect:Cf,autoPanOnNodeDrag:Ct,autoPanSpeed:kf,onError:Li,connectionRadius:al,isValidConnection:mc,selectNodesOnDrag:We,nodeDragThreshold:zi,onBeforeDelete:M,paneClickDistance:Wt,debug:Af}),u.jsx(UD,{onSelectionChange:V}),Mt,u.jsx($D,{proOptions:uc,position:Nf}),u.jsx(LD,{rfId:ao,disableKeyboardA11y:hc})]})})}var mz=PN(hz);const gz=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function yz({children:e}){const t=it(gz);return t?Ys.createPortal(e,t):null}function Bw(e){return it(b.useCallback(n=>n.nodeLookup.get(e),[e]),_t)}function xz({dimensions:e,lineWidth:t,variant:n,className:r}){return u.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Lt(["react-flow__background-pattern",n,r])})}function vz({radius:e,className:t}){return u.jsx("circle",{cx:e,cy:e,r:e,className:Lt(["react-flow__background-pattern","dots",t])})}var zo;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(zo||(zo={}));const wz={[zo.Dots]:1,[zo.Lines]:1,[zo.Cross]:6},bz=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function eC({id:e,variant:t=zo.Dots,gap:n=20,size:r,lineWidth:o=1,offset:s=0,color:a,bgColor:c,style:d,className:f,patternClassName:h}){const m=b.useRef(null),{transform:g,patternId:y}=it(bz,_t),S=r||wz[t],v=t===zo.Dots,w=t===zo.Cross,N=Array.isArray(n)?n:[n,n],_=[N[0]*g[2]||1,N[1]*g[2]||1],k=S*g[2],P=Array.isArray(s)?s:[s,s],I=w?[k,k]:_,A=[P[0]*g[2]||1+I[0]/2,P[1]*g[2]||1+I[1]/2],T=`${y}${e||""}`;return u.jsxs("svg",{className:Lt(["react-flow__background",f]),style:{...d,...$d,"--xy-background-color-props":c,"--xy-background-pattern-color-props":a},ref:m,"data-testid":"rf__background",children:[u.jsx("pattern",{id:T,x:g[0]%_[0],y:g[1]%_[1],width:_[0],height:_[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`,children:v?u.jsx(vz,{radius:k/2,className:h}):u.jsx(xz,{dimensions:I,lineWidth:o,variant:t,className:h})}),u.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${T})`})]})}eC.displayName="Background";const Sz=b.memo(eC);function Nz(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:u.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Cz(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:u.jsx("path",{d:"M0 0h32v4.2H0z"})})}function kz(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:u.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Ez(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function _z(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ju({children:e,className:t,...n}){return u.jsx("button",{type:"button",className:Lt(["react-flow__controls-button",t]),...n,children:e})}const jz=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function tC({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:s,onZoomOut:a,onFitView:c,onInteractiveChange:d,className:f,children:h,position:m="bottom-left",orientation:g="vertical","aria-label":y="React Flow controls"}){const S=Nt(),{isInteractive:v,minZoomReached:w,maxZoomReached:N}=it(jz,_t),{zoomIn:_,zoomOut:k,fitView:P}=Ai(),I=()=>{_(),s==null||s()},A=()=>{k(),a==null||a()},T=()=>{P(o),c==null||c()},$=()=>{S.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),d==null||d(!v)},G=g==="horizontal"?"horizontal":"vertical";return u.jsxs(Ka,{className:Lt(["react-flow__controls",G,f]),position:m,style:e,"data-testid":"rf__controls","aria-label":y,children:[t&&u.jsxs(u.Fragment,{children:[u.jsx(ju,{onClick:I,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:N,children:u.jsx(Nz,{})}),u.jsx(ju,{onClick:A,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w,children:u.jsx(Cz,{})})]}),n&&u.jsx(ju,{className:"react-flow__controls-fitview",onClick:T,title:"fit view","aria-label":"fit view",children:u.jsx(kz,{})}),r&&u.jsx(ju,{className:"react-flow__controls-interactive",onClick:$,title:"toggle interactivity","aria-label":"toggle interactivity",children:v?u.jsx(_z,{}):u.jsx(Ez,{})}),h]})}tC.displayName="Controls";const Pz=b.memo(tC);function Az({id:e,x:t,y:n,width:r,height:o,style:s,color:a,strokeColor:c,strokeWidth:d,className:f,borderRadius:h,shapeRendering:m,selected:g,onClick:y}){const{background:S,backgroundColor:v}=s||{},w=a||S||v;return u.jsx("rect",{className:Lt(["react-flow__minimap-node",{selected:g},f]),x:t,y:n,rx:h,ry:h,width:r,height:o,style:{fill:w,stroke:c,strokeWidth:d},shapeRendering:m,onClick:y?N=>y(N,e):void 0})}const Iz=b.memo(Az),Tz=e=>e.nodes.map(t=>t.id),Rh=e=>e instanceof Function?e:()=>e;function Rz({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:s=Iz,onClick:a}){const c=it(Tz,_t),d=Rh(t),f=Rh(e),h=Rh(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return u.jsx(u.Fragment,{children:c.map(g=>u.jsx(Oz,{id:g,nodeColorFunc:d,nodeStrokeColorFunc:f,nodeClassNameFunc:h,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:s,onClick:a,shapeRendering:m},g))})}function Mz({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:s,shapeRendering:a,NodeComponent:c,onClick:d}){const{node:f,x:h,y:m,width:g,height:y}=it(S=>{const{internals:v}=S.nodeLookup.get(e),w=v.userNode,{x:N,y:_}=v.positionAbsolute,{width:k,height:P}=lo(w);return{node:w,x:N,y:_,width:k,height:P}},_t);return!f||f.hidden||!rN(f)?null:u.jsx(c,{x:h,y:m,width:g,height:y,style:f.style,selected:!!f.selected,className:r(f),color:t(f),borderRadius:o,strokeColor:n(f),strokeWidth:s,shapeRendering:a,onClick:d,id:f.id})}const Oz=b.memo(Mz);var Dz=b.memo(Rz);const Lz=200,zz=150,$z=e=>!e.hidden,Fz=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?nN(Ya(e.nodeLookup,{filter:$z}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},Bz="react-flow__minimap-desc";function nC({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:a,nodeComponent:c,bgColor:d,maskColor:f,maskStrokeColor:h,maskStrokeWidth:m,position:g="bottom-right",onClick:y,onNodeClick:S,pannable:v=!1,zoomable:w=!1,ariaLabel:N="React Flow mini map",inversePan:_,zoomStep:k=10,offsetScale:P=5}){const I=Nt(),A=b.useRef(null),{boundingRect:T,viewBB:$,rfId:G,panZoom:X,translateExtent:Y,flowWidth:U,flowHeight:V}=it(Fz,_t),j=(e==null?void 0:e.width)??Lz,O=(e==null?void 0:e.height)??zz,z=T.width/j,H=T.height/O,L=Math.max(z,H),W=L*j,M=L*O,F=P*L,q=T.x-(W-T.width)/2-F,R=T.y-(M-T.height)/2-F,J=W+F*2,ne=M+F*2,te=`${Bz}-${G}`,B=b.useRef(0),Q=b.useRef();B.current=L,b.useEffect(()=>{if(A.current&&X)return Q.current=tD({domNode:A.current,panZoom:X,getTransform:()=>I.getState().transform,getViewScale:()=>B.current}),()=>{var ue;(ue=Q.current)==null||ue.destroy()}},[X]),b.useEffect(()=>{var ue;(ue=Q.current)==null||ue.update({translateExtent:Y,width:U,height:V,inversePan:_,pannable:v,zoomStep:k,zoomable:w})},[v,w,_,k,Y,U,V]);const oe=y?ue=>{var Se;const[de,be]=((Se=Q.current)==null?void 0:Se.pointer(ue))||[0,0];y(ue,{x:de,y:be})}:void 0,ie=S?b.useCallback((ue,de)=>{const be=I.getState().nodeLookup.get(de).internals.userNode;S(ue,be)},[]):void 0;return u.jsx(Ka,{position:g,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*L:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="number"?a:void 0},className:Lt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:u.jsxs("svg",{width:j,height:O,viewBox:`${q} ${R} ${J} ${ne}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":te,ref:A,onClick:oe,children:[N&&u.jsx("title",{id:te,children:N}),u.jsx(Dz,{onClick:ie,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:o,nodeStrokeWidth:a,nodeComponent:c}),u.jsx("path",{className:"react-flow__minimap-mask",d:`M${q-F},${R-F}h${J+F*2}v${ne+F*2}h${-J-F*2}z
        M${$.x},${$.y}h${$.width}v${$.height}h${-$.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}nC.displayName="MiniMap";const Vz=b.memo(nC);function Hz({nodeId:e,position:t,variant:n=_s.Handle,className:r,style:o={},children:s,color:a,minWidth:c=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:g,shouldResize:y,onResizeStart:S,onResize:v,onResizeEnd:w}){const N=RN(),_=typeof e=="string"?e:N,k=Nt(),P=b.useRef(null),I=n===_s.Line?"right":"bottom-right",A=t??I,T=b.useRef(null);b.useEffect(()=>{if(!(!P.current||!_))return T.current||(T.current=xD({domNode:P.current,nodeId:_,getStoreItems:()=>{const{nodeLookup:Y,transform:U,snapGrid:V,snapToGrid:j,nodeOrigin:O,domNode:z}=k.getState();return{nodeLookup:Y,transform:U,snapGrid:V,snapToGrid:j,nodeOrigin:O,paneDomNode:z}},onChange:(Y,U)=>{const{triggerNodeChanges:V,nodeLookup:j,parentLookup:O,nodeOrigin:z}=k.getState(),H=[],L={x:Y.x,y:Y.y},W=j.get(_);if(W&&W.expandParent&&W.parentId){const M=W.origin??z,F=Y.width??W.measured.width??0,q=Y.height??W.measured.height??0,R={id:W.id,parentId:W.parentId,rect:{width:F,height:q,...oN({x:Y.x??W.position.x,y:Y.y??W.position.y},{width:F,height:q},W.parentId,j,M)}},J=Eg([R],j,O,z);H.push(...J),L.x=Y.x?Math.max(M[0]*F,Y.x):void 0,L.y=Y.y?Math.max(M[1]*q,Y.y):void 0}if(L.x!==void 0&&L.y!==void 0){const M={id:_,type:"position",position:{...L}};H.push(M)}if(Y.width!==void 0&&Y.height!==void 0){const F={id:_,type:"dimensions",resizing:!0,setAttributes:g?g==="horizontal"?"width":"height":!0,dimensions:{width:Y.width,height:Y.height}};H.push(F)}for(const M of U){const F={...M,type:"position"};H.push(F)}V(H)},onEnd:({width:Y,height:U})=>{const V={id:_,type:"dimensions",resizing:!1,dimensions:{width:Y,height:U}};k.getState().triggerNodeChanges([V])}})),T.current.update({controlPosition:A,boundaries:{minWidth:c,minHeight:d,maxWidth:f,maxHeight:h},keepAspectRatio:m,resizeDirection:g,onResizeStart:S,onResize:v,onResizeEnd:w,shouldResize:y}),()=>{var Y;(Y=T.current)==null||Y.destroy()}},[A,c,d,f,h,m,S,v,w,y]);const $=A.split("-"),G=n===_s.Line?"borderColor":"backgroundColor",X=a?{...o,[G]:a}:o;return u.jsx("div",{className:Lt(["react-flow__resize-control","nodrag",...$,n,r]),ref:P,style:X,children:s})}const Vw=b.memo(Hz);function rC({nodeId:e,isVisible:t=!0,handleClassName:n,handleStyle:r,lineClassName:o,lineStyle:s,color:a,minWidth:c=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:m=!1,shouldResize:g,onResizeStart:y,onResize:S,onResizeEnd:v}){return t?u.jsxs(u.Fragment,{children:[dD.map(w=>u.jsx(Vw,{className:o,style:s,nodeId:e,position:w,variant:_s.Line,color:a,minWidth:c,minHeight:d,maxWidth:f,maxHeight:h,onResizeStart:y,keepAspectRatio:m,shouldResize:g,onResize:S,onResizeEnd:v},w)),uD.map(w=>u.jsx(Vw,{className:n,style:r,nodeId:e,position:w,color:a,minWidth:c,minHeight:d,maxWidth:f,maxHeight:h,onResizeStart:y,keepAspectRatio:m,shouldResize:g,onResize:S,onResizeEnd:v},w))]}):null}function jm(e){return e!==null&&typeof e=="object"&&"value"in e&&"timestamp"in e&&typeof e.timestamp=="number"}function Mh({children:e,offset:t,onDragEnd:n,className:r,style:o}){const[s,a]=b.useState(!1),[c,d]=b.useState(t),f=b.useRef(c),h=b.useRef(null),{getZoom:m}=Ai();f.current=c,Ie.useEffect(()=>{d(t)},[t]);const g=b.useCallback(y=>{y.stopPropagation(),a(!0),h.current={x:y.clientX,y:y.clientY,offsetX:f.current.x,offsetY:f.current.y};const S=w=>{if(!h.current)return;const N=m(),_=(w.clientX-h.current.x)/N,k=(w.clientY-h.current.y)/N,P={x:h.current.offsetX+_,y:h.current.offsetY+k};d(P),f.current=P},v=()=>{a(!1),h.current&&n(f.current),h.current=null,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",v)};document.addEventListener("mousemove",S),document.addEventListener("mouseup",v)},[m,n]);return u.jsx("div",{style:{position:"absolute",transform:`translate(${c.x}px, ${c.y}px)`,cursor:s?"grabbing":"grab",userSelect:"none",...o},className:`nodrag ${r||""}`,onMouseDown:g,children:e})}function Ss(e,t=!1){if(e==null)return t?"":"()";if(e instanceof Map){const n=[];return e.forEach((r,o)=>{n.push(`${o}=${Ss(r)}`)}),`{${n.join(", ")}}`}else return Array.isArray(e)?`(${e.map(n=>Ss(n)).join(",")})`:typeof e=="object"?jm(e)?Ss(e.value,t):`{${Object.entries(e).map(([r,o])=>`${r}=${Ss(o)}`).join(", ")}}`:typeof e=="string"?`"${e}"`:String(e)}function Uz(e,t){if(t)return new Date(t.getTime()+e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});if(e===0)return"@0";const n=e/1e3;if(n<60)return`@${n.toFixed(n%1===0?0:1)}s`;const r=n/60;if(r<60)return`@${r.toFixed(r%1===0?0:1)}m`;const o=r/60;if(o<24)return`@${o.toFixed(o%1===0?0:1)}h`;const s=o/24;return`@${s.toFixed(s%1===0?0:1)}d`}function Wz(e,t=!1,n=!1,r=null){if(t&&!n)return[{count:e.length,value:"",timestamp:0,timeDisplay:""}];const o=new Map;for(const s of e){const a=jm(s)?s.timestamp:0,c=jm(s)?Ss(s.value,t):Ss(s,t),d=n?`${c}@${a}`:c,f=o.get(d);f?f.count++:o.set(d,{count:1,value:c,timestamp:a,timeDisplay:n?Uz(a,r):""})}return Array.from(o.values())}const Oh=10,Xz=({id:e,data:t,selected:n})=>{var G;const r=jg(),o=ge(X=>X.colorSets.find(Y=>Y.name===t.colorSet)),s=(o==null?void 0:o.color)||"#000000",a=(o==null?void 0:o.type)==="basic"&&((G=o==null?void 0:o.definition)==null?void 0:G.includes("= unit;")),c=(o==null?void 0:o.timed)===!0,d=ge(X=>X.activePetriNetId),f=ge(X=>X.updateNodeData),h=ge(X=>X.showMarkingDisplay),m=ge(X=>X.simulationEpoch),g=m?new Date(m):null,y=r.inProgress&&r.fromNode.id!==e&&r.fromNode.type==="transition",S=t.marking&&Array.isArray(t.marking)&&t.marking.length>0,v=S?t.marking.length:0,w=S?Wz(t.marking,a,c,g):[],N=w.slice(0,Oh),_=w.length>Oh,k=t.colorSetOffset??{x:0,y:35},P=t.tokenCountOffset??{x:25,y:-5},I=t.markingOffset??{x:40,y:0},A=b.useCallback(X=>{d&&f(d,e,{...t,colorSetOffset:X})},[d,e,t,f]),T=b.useCallback(X=>{d&&f(d,e,{...t,tokenCountOffset:X})},[d,e,t,f]),$=b.useCallback(X=>{d&&f(d,e,{...t,markingOffset:X})},[d,e,t,f]);return u.jsxs("div",{className:"relative cpn-node place-node",style:{borderColor:s},children:[u.jsx(rC,{isVisible:n,minWidth:30,minHeight:30}),u.jsx("div",{className:"whitespace-pre-wrap leading-tight",children:t.label}),t.colorSet&&u.jsx(Mh,{offset:k,onDragEnd:A,className:"text-[9px] font-mono whitespace-nowrap",style:{top:"50%",left:"50%"},children:t.colorSet}),S&&u.jsx(Mh,{offset:P,onDragEnd:T,style:{top:"50%",left:"50%"},children:u.jsx("div",{className:"marking flex items-center justify-center text-[9px] text-black rounded-full min-w-[14px] h-[14px] px-0.5",children:v})}),S&&h&&u.jsx(Mh,{offset:I,onDragEnd:$,style:{top:"50%",left:"50%"},children:u.jsx("table",{className:"marking text-[7px] font-mono text-black rounded-sm border-collapse",children:u.jsxs("tbody",{children:[N.map((X,Y)=>u.jsxs("tr",{children:[u.jsxs("td",{className:"px-1 py-0.5 text-right",children:[X.count,"`"]}),u.jsx("td",{className:"px-1 py-0.5",children:X.value}),c&&u.jsx("td",{className:"px-1 py-0.5 text-muted-foreground whitespace-nowrap",children:X.timeDisplay})]},Y)),_&&u.jsx("tr",{children:u.jsxs("td",{colSpan:c?3:2,className:"px-1 py-0.5 text-center text-muted-foreground",children:["...",w.length-Oh," more"]})})]})})}),u.jsx(Fo,{className:"custom-handle",type:"source",position:Ee.Right,style:{visibility:t.isArcMode&&!r.inProgress?"visible":"hidden"}}),u.jsx(Fo,{className:"custom-handle",type:"target",position:Ee.Left,style:{visibility:t.isArcMode&&y?"visible":"hidden"},isConnectable:y})]})};function Hw({children:e,offset:t,onDragEnd:n,className:r,style:o}){const c=A=>A<-25?"right":A>25?"left":"center",[d,f]=b.useState(!1),[h,m]=b.useState(t),[g,y]=b.useState(()=>c(t.x)),S=b.useRef(h),v=b.useRef(null),w=b.useRef(null),N=b.useRef(g),{getZoom:_}=Ai(),k=(A,T)=>T==="center"?A<-25?"right":A>25?"left":"center":T==="right"?A>-15?"center":"right":A<15?"center":"left";S.current=h,N.current=g,Ie.useEffect(()=>{m(t);const A=c(t.x);y(A)},[t]);const P=b.useCallback(A=>{A.stopPropagation(),f(!0),v.current={x:A.clientX,y:A.clientY,offsetX:S.current.x,offsetY:S.current.y};const T=G=>{if(!v.current)return;const X=_(),Y=(G.clientX-v.current.x)/X,U=(G.clientY-v.current.y)/X;let V=v.current.offsetX+Y;const j=v.current.offsetY+U,O=N.current,z=k(V,O);if(w.current&&z!==O){const L=w.current.offsetWidth;O==="right"&&z==="left"?(v.current.offsetX-=L,V-=L):O==="left"&&z==="right"?(v.current.offsetX+=L,V+=L):O==="center"&&z==="left"?(v.current.offsetX-=L/2,V-=L/2):O==="center"&&z==="right"||O==="left"&&z==="center"?(v.current.offsetX+=L/2,V+=L/2):O==="right"&&z==="center"&&(v.current.offsetX-=L/2,V-=L/2),N.current=z,y(z)}const H={x:V,y:j};m(H),S.current=H},$=()=>{f(!1),v.current&&n(S.current),v.current=null,document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",$)};document.addEventListener("mousemove",T),document.addEventListener("mouseup",$)},[_,n]);let I="-50%";return g==="right"?I="-100%":g==="left"&&(I="0%"),u.jsx("div",{ref:w,style:{position:"absolute",left:"50%",top:0,transform:`translate(calc(${I} + ${h.x}px), ${h.y}px)`,cursor:d?"grabbing":"grab",userSelect:"none",textAlign:g,...o},className:`nodrag ${r||""}`,onMouseDown:P,children:e})}const Gz=({id:e,data:t,selected:n})=>{const r=jg(),o=ge(m=>m.activePetriNetId),s=ge(m=>m.updateNodeData),a=r.inProgress&&r.fromNode.id!==e&&r.fromNode.type==="place",c=t.guardOffset??{x:-45,y:-15},d=t.timeOffset??{x:45,y:-15},f=b.useCallback(m=>{o&&s(o,e,{...t,guardOffset:m})},[o,e,t,s]),h=b.useCallback(m=>{o&&s(o,e,{...t,timeOffset:m})},[o,e,t,s]);return u.jsxs("div",{className:"relative cpn-node transition-node",children:[u.jsx(rC,{isVisible:n,minWidth:15,minHeight:30}),u.jsx("div",{className:"whitespace-pre-wrap leading-tight",children:t.label}),t.guard&&u.jsx(Hw,{offset:c,onDragEnd:f,className:"text-[9px] font-mono whitespace-nowrap text-[#006400]",children:t.guard}),t.time&&u.jsxs(Hw,{offset:d,onDragEnd:h,className:"text-[9px] font-mono whitespace-nowrap text-[#8B4513]",children:["@+",t.time]}),u.jsx(Fo,{className:"custom-handle",type:"source",position:Ee.Right,style:{visibility:t.isArcMode&&!r.inProgress?"visible":"hidden"}}),u.jsx(Fo,{className:"custom-handle",type:"target",position:Ee.Left,style:{visibility:t.isArcMode&&a?"visible":"hidden"},isConnectable:a})]})},Yz=b.memo(Gz),qz=({data:e})=>{const t={color:e.color||"inherit",fontWeight:e.bold?"bold":"normal",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",whiteSpace:"pre-wrap",textAlign:"center",fontSize:"9px"};return u.jsx("div",{className:"cpn-node auxtext-node",style:t,children:e.label})},Kz=({data:e})=>{const t=e.color||"inherit";return u.jsx("div",{className:"inscription-node font-mono text-[9px] whitespace-pre-wrap cursor-move select-none",style:{color:t},children:e.label})},Qz=b.memo(Kz),Jz=[{id:"a",type:"place",position:{x:-200,y:0},data:{label:"start",colorSet:"INT",initialMarking:"[1, 5, 5, 10]"}},{id:"b",type:"transition",position:{x:-110,y:100},width:70,height:30,data:{label:"transition",guard:"var1>4",time:"",priority:"",codeSegment:""}},{id:"c",type:"place",position:{x:0,y:200},width:50,height:30,data:{label:"end place",colorSet:"INT"}}],Zz={place:Xz,transition:Yz,auxText:qz,inscription:Qz};function Uw(e,t){var k,P;const{width:n=0,height:r=0}=e.measured||{},o=e.internals.positionAbsolute,s=t.internals.positionAbsolute,a=n/2,c=r/2,d=o.x+a,f=o.y+c,h=s.x+(((k=t.measured)==null?void 0:k.width)??0)/2,m=s.y+(((P=t.measured)==null?void 0:P.height)??0)/2;if(e.type==="place"){const I=h-d,A=m-f,T=Math.atan2(A,I),$=a,G=c,X=d+$*Math.cos(T),Y=f+G*Math.sin(T);return{x:X,y:Y}}const g=(h-d)/(2*a)-(m-f)/(2*c),y=(h-d)/(2*a)+(m-f)/(2*c),S=1/(Math.abs(g)+Math.abs(y)||1),v=S*g,w=S*y,N=a*(v+w)+d,_=c*(-v+w)+f;return{x:N,y:_}}function Ww(e,t){const{width:n=0,height:r=0}=e.measured||{},o=e.internals.positionAbsolute,s=n/2,a=r/2,c=o.x+s,d=o.y+a,f=t.x,h=t.y;if(e.type==="place"){const w=f-c,N=h-d,_=Math.atan2(N,w),k=s,P=a,I=c+k*Math.cos(_),A=d+P*Math.sin(_);return{x:I,y:A}}const m=f-c,g=h-d;if(m===0&&g===0)return{x:c,y:d};let y=1/0;if(m!==0){const w=s/Math.abs(m),N=s/Math.abs(m);y=Math.min(y,m>0?w:N)}if(g!==0){const w=a/Math.abs(g),N=a/Math.abs(g);y=Math.min(y,g>0?w:N)}const S=c+y*m,v=d+y*g;return{x:S,y:v}}function Xw(e,t){var c,d,f,h;const n={...e.internals.positionAbsolute,...e},r=Math.round(n.x),o=Math.round(n.y),s=Math.round(t.x),a=Math.round(t.y);if(e.type==="place"){const m=s-(r+(((c=n.measured)==null?void 0:c.width)??0)/2),g=a-(o+(((d=n.measured)==null?void 0:d.height)??0)/2),y=Math.atan2(g,m);return Math.abs(y)<Math.PI/4?Ee.Right:Math.abs(y)>3*Math.PI/4?Ee.Left:y>0?Ee.Bottom:Ee.Top}return s<=r+1?Ee.Left:s>=r+(((f=n.measured)==null?void 0:f.width)??0)-1?Ee.Right:a<=o+1?Ee.Top:a>=n.y+((((h=n.measured)==null?void 0:h.height)??0)-1)?Ee.Bottom:Ee.Top}function e4(e,t){const n=Uw(e,t),r=Uw(t,e),o=Xw(e,n),s=Xw(t,r);return{sx:n.x,sy:n.y,tx:r.x,ty:r.y,sourcePos:o,targetPos:s}}function Gw(e,t,n,r,o){if(!o||o.length===0)return{path:`M ${e},${t} L ${n},${r}`,labelX:(e+n)/2,labelY:(t+r)/2};let s=`M ${e},${t}`;for(const d of o)s+=` L ${d.x},${d.y}`;s+=` L ${n},${r}`;let a,c;if(o.length===1)a=o[0].x,c=o[0].y;else{const d=Math.floor(o.length/2);a=o[d].x,c=o[d].y}return{path:s,labelX:a,labelY:c}}function t4({id:e,source:t,target:n,style:r,label:o,data:s}){const a=Bw(t),c=Bw(n),d=ge(Q=>{const oe=Q.activePetriNetId,ie=oe?Q.petriNetsById[oe]:null;return(ie==null?void 0:ie.edges)??[]}),{parallelArcIndex:f,totalParallelArcs:h}=b.useMemo(()=>{const Q=d.filter(ue=>ue.source===t&&ue.target===n||ue.source===n&&ue.target===t),oe=Q.length;let ie=Q.findIndex(ue=>ue.id===e);return ie===-1&&(ie=0),{parallelArcIndex:ie,totalParallelArcs:oe}},[d,e,t,n]),m=ge(Q=>{var Se;const oe=Q.activePetriNetId,ie=oe?Q.petriNetsById[oe]:null;if(!ie)return"#000";const ue=ie.nodes.find(De=>De.id===t),de=ie.nodes.find(De=>De.id===n),be=(ue==null?void 0:ue.type)==="place"?ue:(de==null?void 0:de.type)==="place"?de:null;if(be&&((Se=be.data)!=null&&Se.colorSet)){const De=Q.colorSets.find(We=>We.name===be.data.colorSet);if(De!=null&&De.color)return De.color}if(typeof o=="string"){const De=Q.variables.find(We=>We.name===o.trim());if(De){const We=Q.colorSets.find(ft=>ft.name===De.colorSet);if(We!=null&&We.color)return We.color}}return"#000"}),g=ge(Q=>Q.updateEdgeData),y=ge(Q=>Q.activePetriNetId),S=b.useCallback(Q=>{y&&g(y,e,{...s,labelOffset:Q})},[y,e,s,g]);if(!a||!c)return null;const v=s==null?void 0:s.bendpoints,w=(s==null?void 0:s.labelOffset)??{x:0,y:0},N=(s==null?void 0:s.isBidirectional)??!1,_=12;let k=0;if(h>1){const Q=(h-1)/2;k=(f-Q)*_}const P=e4(a,c),I=t<n?t:n,A=t===I,T=P.tx-P.sx,$=P.ty-P.sy,G=Math.sqrt(T*T+$*$);let X=G>0?-$/G:0,Y=G>0?T/G:1;A||(X=-X,Y=-Y);let U,V,j,O,z,H,L;if(v&&v.length>0){const Q=k!==0?v.map(Se=>({x:Se.x+X*k,y:Se.y+Y*k})):v,oe=Q[0],ie=Q[Q.length-1],ue=Ww(a,oe);U=ue.x,V=ue.y;const de=Ww(c,ie);j=de.x,O=de.y;const be=Gw(U,V,j,O,Q);z=be.path,H=be.labelX,L=be.labelY}else{U=P.sx+X*k,V=P.sy+Y*k,j=P.tx+X*k,O=P.ty+Y*k;const Q=Gw(U,V,j,O,void 0);z=Q.path,H=Q.labelX,L=Q.labelY}const W=j-U,M=O-V,F=Math.sqrt(W*W+M*M),q=12;let R=F>0?-M/F:0,J=F>0?W/F:-1;J>0&&(R=-R,J=-J);const ne=H+R*q,te=L+J*q,B=o;return u.jsxs(u.Fragment,{children:[n4(e,z,m,N,r),B&&u.jsx(r4,{id:e,label:B,baseLabelX:ne,baseLabelY:te,labelOffset:w,onLabelDragEnd:S})]})}function n4(e,t,n,r,o){return u.jsxs("g",{children:[u.jsxs("defs",{children:[u.jsx("marker",{id:`arrow-end-${e}`,markerWidth:"10",markerHeight:"10",refX:"10",refY:"5",orient:"auto",markerUnits:"userSpaceOnUse",children:u.jsx("polygon",{points:"0,0 10,5 0,10",fill:n})}),u.jsx("marker",{id:`arrow-start-${e}`,markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",orient:"auto",markerUnits:"userSpaceOnUse",children:u.jsx("polygon",{points:"10,0 0,5 10,10",fill:n})})]}),u.jsx("path",{id:e,d:t,fill:"none",className:"stroke-[currentColor]",style:{stroke:n,...o},markerEnd:`url(#arrow-end-${e})`,markerStart:r?`url(#arrow-start-${e})`:void 0})]})}function r4({id:e,label:t,baseLabelX:n,baseLabelY:r,labelOffset:o,onLabelDragEnd:s}){const[a,c]=b.useState(!1),[d,f]=b.useState(o),h=b.useRef(null),m=b.useRef(d);m.current=d;const{getZoom:g}=Ai(),y=ge(P=>P.activePetriNetId),S=ge(P=>P.setSelectedElement),v=ge(P=>{const I=P.activePetriNetId?P.petriNetsById[P.activePetriNetId]:null;return(I==null?void 0:I.edges)||[]}),w=b.useCallback(P=>{P.stopPropagation(),c(!0),h.current={x:P.clientX,y:P.clientY,offsetX:m.current.x,offsetY:m.current.y};const I=T=>{if(!h.current)return;const $=g(),G=(T.clientX-h.current.x)/$,X=(T.clientY-h.current.y)/$,Y={x:h.current.offsetX+G,y:h.current.offsetY+X};f(Y),m.current=Y},A=()=>{c(!1),h.current&&s(m.current),h.current=null,document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",A)},[s,g]),N=b.useCallback(P=>{P.stopPropagation();const I=v.find(A=>A.id===e);I&&y&&S(y,{type:"edge",element:I})},[e,v,y,S]);Ie.useEffect(()=>{f(o)},[o]);const _=n+d.x,k=r+d.y;return u.jsx(yz,{children:u.jsx("div",{style:{transform:`translate(-50%, -100%) translate(${_}px,${k}px)`,cursor:a?"grabbing":"grab",pointerEvents:"auto"},className:`nodrag nopan edge-label-renderer__custom-edge text-[10px] font-mono whitespace-pre-wrap ${a?"":"hover:bg-accent/50"} px-1 rounded`,onMouseDown:w,onClick:N,children:t})})}const o4=[{id:"a->b",source:"a",target:"b",label:"var1"},{id:"b->c",source:"b",target:"c",label:"var1"}],i4={floating:t4},s4=[{id:qe(),name:"UNIT",type:"basic",definition:"colset UNIT = unit;",color:"#3b82f6"},{id:qe(),name:"BOOL",type:"basic",definition:"colset BOOL = bool;",color:"#10b981"},{id:qe(),name:"INT",type:"basic",definition:"colset INT = int;",color:"#3b82f6"},{id:qe(),name:"INTINF",type:"basic",definition:"colset INTINF = intinf;",color:"#3b82f6"},{id:qe(),name:"TIME",type:"basic",definition:"colset TIME = time;",color:"#8b5cf6"},{id:qe(),name:"REAL",type:"basic",definition:"colset REAL = real;",color:"#ef4444"},{id:qe(),name:"STRING",type:"basic",definition:"colset STRING = string;",color:"#f59e0b"}],l4=[{id:qe(),name:"var1",colorSet:"INT"}],a4=[{id:qe(),name:"P_HIGH",level:100},{id:qe(),name:"P_NORMAL",level:1e3},{id:qe(),name:"P_LOW",level:1e4}],c4=[],u4={petriNetsById:{},petriNetOrder:[],activePetriNetId:null,colorSets:[],variables:[],priorities:[],functions:[],uses:[],simulationEpoch:null,showMarkingDisplay:!0},Xu="ID6",d4={id:Xu,name:"Petri Net",nodes:Jz,edges:o4,selectedElement:null},ge=FI(e=>({petriNetsById:{[Xu]:d4},petriNetOrder:[Xu],activePetriNetId:Xu,colorSets:s4,variables:l4,priorities:a4,functions:c4,uses:[],simulationEpoch:null,showMarkingDisplay:!0,setNodes:(t,n)=>{e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],nodes:n}}}))},setEdges:(t,n)=>{e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],edges:n}}}))},createPetriNet:t=>{const n=qe(),r={id:n,name:t,nodes:[],edges:[],selectedElement:null};e(o=>({petriNetsById:{...o.petriNetsById,[n]:r},petriNetOrder:[...o.petriNetOrder,n],activePetriNetId:n}))},addPetriNet:t=>{e(n=>({petriNetsById:{...n.petriNetsById,[t.id]:{...t,selectedElement:null}},petriNetOrder:[...n.petriNetOrder,t.id],activePetriNetId:t.id}))},setActivePetriNet:t=>{e(n=>({activePetriNetId:t,petriNetsById:{...n.petriNetsById,[t]:{...n.petriNetsById[t],selectedElement:null}}}))},addNode:(t,n)=>{e(r=>{const o=r.petriNetsById[t],s=[...o.nodes,{...n,id:n.id??qe()}];return{petriNetsById:{...r.petriNetsById,[t]:{...o,nodes:s}}}})},addEdge:(t,n)=>{e(r=>{const o=r.petriNetsById[t],s=[...o.edges,{...n,id:n.id??qe()}];return{petriNetsById:{...r.petriNetsById,[t]:{...o,edges:s}}}})},updateNode:(t,n)=>{e(r=>{const o=r.petriNetsById[t],s=o.nodes.map(a=>a.id===n.id?{...n}:a);return{petriNetsById:{...r.petriNetsById,[t]:{...o,nodes:s}}}})},updateNodeMarking:(t,n)=>{e(r=>{const o=r.petriNetsById[r.activePetriNetId],s=o.nodes.map(a=>a.id===t?{...a,data:{...a.data,marking:n}}:a);return{petriNetsById:{...r.petriNetsById,[r.activePetriNetId]:{...o,nodes:s}}}})},updateNodeData:(t,n,r)=>{e(o=>{var f;const s=o.petriNetsById[t],a={initialMarking:"initialMarking",colorSet:"colorSet",guard:"guard",time:"time",priority:"priority",codeSegment:"codeSegment"};let c=s.nodes.map(h=>h.id===n?{...h,data:{...h.data,...r}}:h);c=c.map(h=>{var m,g;if(h.type==="inscription"&&h.parentId===n){const y=(m=h.data)==null?void 0:m.inscriptionType,S=(g=Object.entries(a).find(([,v])=>v===y))==null?void 0:g[0];if(S&&S in r){const v=r[S];return{...h,data:{...h.data,label:v||""}}}}return h});const d=((f=s.selectedElement)==null?void 0:f.type)==="node"&&s.selectedElement.element.id===n?{...s.selectedElement,element:{...s.selectedElement.element,data:{...r}}}:s.selectedElement;return{petriNetsById:{...o.petriNetsById,[t]:{...s,nodes:c,selectedElement:d}}}})},updateEdgeData:(t,n,r)=>{e(o=>{var d;const s=o.petriNetsById[t],a=s.edges.map(f=>f.id===n?{...f,data:{...f.data,...r}}:f),c=((d=s.selectedElement)==null?void 0:d.type)==="edge"&&s.selectedElement.element.id===n?{...s.selectedElement,element:{...s.selectedElement.element,data:{...s.selectedElement.element.data,...r}}}:s.selectedElement;return{petriNetsById:{...o.petriNetsById,[t]:{...s,edges:a,selectedElement:c}}}})},updateEdgeLabel:(t,n,r)=>{e(o=>{var d;const s=o.petriNetsById[t],a=s.edges.map(f=>f.id===n?{...f,label:r}:f),c=((d=s.selectedElement)==null?void 0:d.type)==="edge"&&s.selectedElement.element.id===n?{...s.selectedElement,element:{...s.selectedElement.element,label:r}}:s.selectedElement;return{petriNetsById:{...o.petriNetsById,[t]:{...s,edges:a,selectedElement:c}}}})},swapEdgeDirection:(t,n)=>{e(r=>{var d;const o=r.petriNetsById[t],s=o.edges.map(f=>f.id===n?{...f,source:f.target,target:f.source}:f),a=o.edges.find(f=>f.id===n),c=((d=o.selectedElement)==null?void 0:d.type)==="edge"&&o.selectedElement.element.id===n&&a?{...o.selectedElement,element:{...o.selectedElement.element,source:a.target,target:a.source}}:o.selectedElement;return{petriNetsById:{...r.petriNetsById,[t]:{...o,edges:s,selectedElement:c}}}})},applyInitialMarkings:()=>{e(t=>{const n=t.petriNetsById[t.activePetriNetId],r=n.nodes.map(o=>{if(o.type==="place"){let s=[];if(o.data.initialMarking)try{if(typeof o.data.initialMarking=="string"&&o.data.initialMarking.trim()!==""){let a=[];if(o.data.initialMarking.match(/^\s*\[\s*((?:\(\)\s*,?\s*)*)\s*\]\s*$/)){const d=(o.data.initialMarking.match(/\(\)/g)||[]).length;a=Array(d).fill(null)}else if(o.data.initialMarking.endsWith(".all()")){const d=o.data.initialMarking.substring(0,o.data.initialMarking.length-6).trim(),f=t.colorSets.find(h=>h.name===d);if(f&&f.definition.includes("int")){const h=f.definition.match(/with\s+(\d+)\.\.(\d+);/);if(h){const m=parseInt(h[1],10),g=parseInt(h[2],10);!isNaN(m)&&!isNaN(g)?a=Array.from({length:g-m+1},(y,S)=>m+S):console.warn(`Invalid range values in color set definition: "${f.definition}"`)}else console.warn(`No valid range found in color set definition: "${f.definition}"`)}else console.warn(`Cannot apply '.all()' to color set "${d}". It's either not found, not a 'basic' type, or doesn't contain 'int' in its definition.`),a=[]}else{const d=JSON.parse(o.data.initialMarking);Array.isArray(d)?a=d:a=[d]}s=a}}catch(a){console.error(`Error parsing initial marking for node ${o.id}:`,o.data.initialMarking,a),s=[]}return{...o,data:{...o.data,marking:s}}}return o});return{petriNetsById:{...t.petriNetsById,[t.activePetriNetId]:{...n,nodes:r}}}})},setSelectedElement:(t,n)=>e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],selectedElement:n}}})),setColorSets:t=>{e({colorSets:t})},setVariables:t=>{e({variables:t})},setPriorities:t=>{e({priorities:t})},setFunctions:t=>{e({functions:t})},setUses:t=>{e({uses:t})},addColorSet:t=>e(n=>({colorSets:[...n.colorSets,{...t,id:t.id??qe()}]})),addVariable:t=>e(n=>({variables:[...n.variables,{...t,id:t.id??qe()}]})),addPriority:t=>e(n=>({priorities:[...n.priorities,{...t,id:t.id??qe()}]})),addFunction:t=>e(n=>({functions:[...n.functions,{...t,id:t.id??qe()}]})),renameColorSet:(t,n)=>e(r=>{const o=r.colorSets.find(f=>f.id===t);if(!o)return r;const s=o.name;if(s===n)return r;const a=r.colorSets.map(f=>f.id===t?{...f,name:n}:f),c=r.variables.map(f=>f.colorSet===s?{...f,colorSet:n}:f),d={};for(const[f,h]of Object.entries(r.petriNetsById)){const m=h.nodes.map(g=>{var y;return g.type==="place"&&((y=g.data)==null?void 0:y.colorSet)===s?{...g,data:{...g.data,colorSet:n}}:g});d[f]={...h,nodes:m}}return{colorSets:a,variables:c,petriNetsById:d}}),deleteColorSet:t=>e(n=>({colorSets:n.colorSets.filter(r=>r.id!==t)})),deleteVariable:t=>e(n=>({variables:n.variables.filter(r=>r.id!==t)})),deletePriority:t=>e(n=>({priorities:n.priorities.filter(r=>r.id!==t)})),deleteFunction:t=>e(n=>({functions:n.functions.filter(r=>r.id!==t)})),addUse:t=>e(n=>({uses:[...n.uses,{...t,id:t.id??qe()}]})),updateUse:(t,n)=>e(r=>({uses:r.uses.map(o=>o.id===t?{name:n.name,content:n.content}:o)})),deleteUse:t=>e(n=>({uses:n.uses.filter(r=>r.id!==t)})),toggleArcMode:t=>e(n=>({petriNetsById:Object.fromEntries(Object.entries(n.petriNetsById).map(([r,o])=>[r,{...o,nodes:o.nodes.map(s=>({...s,data:{...s.data,isArcMode:t}}))}]))})),setSimulationEpoch:t=>e(()=>({simulationEpoch:t})),setShowMarkingDisplay:t=>e(()=>({showMarkingDisplay:t})),reset:()=>{e(u4)}}));function Yw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qs(...e){return t=>{let n=!1;const r=e.map(o=>{const s=Yw(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():Yw(e[o],null)}}}}function Ue(...e){return b.useCallback(qs(...e),e)}function ki(e){const t=f4(e),n=b.forwardRef((r,o)=>{const{children:s,...a}=r,c=b.Children.toArray(s),d=c.find(h4);if(d){const f=d.props.children,h=c.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return u.jsx(t,{...a,ref:o,children:b.isValidElement(f)?b.cloneElement(f,void 0,h):null})}return u.jsx(t,{...a,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var oC=ki("Slot");function f4(e){const t=b.forwardRef((n,r)=>{const{children:o,...s}=n;if(b.isValidElement(o)){const a=g4(o),c=m4(s,o.props);return o.type!==b.Fragment&&(c.ref=r?qs(r,a):a),b.cloneElement(o,c)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iC=Symbol("radix.slottable");function p4(e){const t=({children:n})=>u.jsx(u.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=iC,t}function h4(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iC}function m4(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...c)=>{s(...c),o(...c)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function g4(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var y4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=y4.reduce((e,t)=>{const n=ki(`Primitive.${t}`),r=b.forwardRef((o,s)=>{const{asChild:a,...c}=o,d=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function x4(e,t){e&&Ys.flushSync(()=>e.dispatchEvent(t))}var v4="Separator",qw="horizontal",w4=["horizontal","vertical"],sC=b.forwardRef((e,t)=>{const{decorative:n,orientation:r=qw,...o}=e,s=b4(r)?r:qw,c=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return u.jsx(Le.div,{"data-orientation":s,...c,...o,ref:t})});sC.displayName=v4;function b4(e){return w4.includes(e)}var S4=sC;function Qa({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return u.jsx(S4,{"data-slot":"separator-root",decorative:n,orientation:t,className:ze("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function Pg({className:e,...t}){return u.jsx("div",{"data-slot":"card",className:ze("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Ag({className:e,...t}){return u.jsx("div",{"data-slot":"card-header",className:ze("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function lC({className:e,...t}){return u.jsx("div",{"data-slot":"card-title",className:ze("leading-none font-semibold",e),...t})}function Ig({className:e,...t}){return u.jsx("div",{"data-slot":"card-content",className:ze("px-6",e),...t})}function Re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function N4(e,t){const n=b.createContext(t),r=s=>{const{children:a,...c}=s,d=b.useMemo(()=>c,Object.values(c));return u.jsx(n.Provider,{value:d,children:a})};r.displayName=e+"Provider";function o(s){const a=b.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function Kt(e,t=[]){let n=[];function r(s,a){const c=b.createContext(a),d=n.length;n=[...n,a];const f=m=>{var N;const{scope:g,children:y,...S}=m,v=((N=g==null?void 0:g[e])==null?void 0:N[d])||c,w=b.useMemo(()=>S,Object.values(S));return u.jsx(v.Provider,{value:w,children:y})};f.displayName=s+"Provider";function h(m,g){var v;const y=((v=g==null?void 0:g[e])==null?void 0:v[d])||c,S=b.useContext(y);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[f,h]}const o=()=>{const s=n.map(a=>b.createContext(a));return function(c){const d=(c==null?void 0:c[e])||s;return b.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return o.scopeName=e,[r,C4(o,...t)]}function C4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const a=r.reduce((c,{useScope:d,scopeName:f})=>{const m=d(s)[`__scope${f}`];return{...c,...m}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Tg(e){const t=e+"CollectionProvider",[n,r]=Kt(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:w,children:N}=v,_=Ie.useRef(null),k=Ie.useRef(new Map).current;return u.jsx(o,{scope:w,itemMap:k,collectionRef:_,children:N})};a.displayName=t;const c=e+"CollectionSlot",d=ki(c),f=Ie.forwardRef((v,w)=>{const{scope:N,children:_}=v,k=s(c,N),P=Ue(w,k.collectionRef);return u.jsx(d,{ref:P,children:_})});f.displayName=c;const h=e+"CollectionItemSlot",m="data-radix-collection-item",g=ki(h),y=Ie.forwardRef((v,w)=>{const{scope:N,children:_,...k}=v,P=Ie.useRef(null),I=Ue(w,P),A=s(h,N);return Ie.useEffect(()=>(A.itemMap.set(P,{ref:P,...k}),()=>void A.itemMap.delete(P))),u.jsx(g,{[m]:"",ref:I,children:_})});y.displayName=h;function S(v){const w=s(e+"CollectionConsumer",v);return Ie.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const k=Array.from(_.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((A,T)=>k.indexOf(A.ref.current)-k.indexOf(T.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:f,ItemSlot:y},S,r]}var Pt=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},k4=Ua[" useId ".trim().toString()]||(()=>{}),E4=0;function or(e){const[t,n]=b.useState(k4());return Pt(()=>{n(r=>r??String(E4++))},[e]),e||(t?`radix-${t}`:"")}function vn(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var _4=Ua[" useInsertionEffect ".trim().toString()]||Pt;function mn({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,s,a]=j4({defaultProp:t,onChange:n}),c=e!==void 0,d=c?e:o;{const h=b.useRef(e!==void 0);b.useEffect(()=>{const m=h.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=c},[c,r])}const f=b.useCallback(h=>{var m;if(c){const g=P4(h)?h(e):h;g!==e&&((m=a.current)==null||m.call(a,g))}else s(h)},[c,e,s,a]);return[d,f]}function j4({defaultProp:e,onChange:t}){const[n,r]=b.useState(e),o=b.useRef(n),s=b.useRef(t);return _4(()=>{s.current=t},[t]),b.useEffect(()=>{var a;o.current!==n&&((a=s.current)==null||a.call(s,n),o.current=n)},[n,o]),[n,r,s]}function P4(e){return typeof e=="function"}var A4=b.createContext(void 0);function Uo(e){const t=b.useContext(A4);return e||t||"ltr"}var Dh="rovingFocusGroup.onEntryFocus",I4={bubbles:!1,cancelable:!0},Ja="RovingFocusGroup",[Pm,aC,T4]=Tg(Ja),[R4,Ks]=Kt(Ja,[T4]),[M4,O4]=R4(Ja),cC=b.forwardRef((e,t)=>u.jsx(Pm.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(Pm.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(D4,{...e,ref:t})})}));cC.displayName=Ja;var D4=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:h=!1,...m}=e,g=b.useRef(null),y=Ue(t,g),S=Uo(s),[v,w]=mn({prop:a,defaultProp:c??null,onChange:d,caller:Ja}),[N,_]=b.useState(!1),k=vn(f),P=aC(n),I=b.useRef(!1),[A,T]=b.useState(0);return b.useEffect(()=>{const $=g.current;if($)return $.addEventListener(Dh,k),()=>$.removeEventListener(Dh,k)},[k]),u.jsx(M4,{scope:n,orientation:r,dir:S,loop:o,currentTabStopId:v,onItemFocus:b.useCallback($=>w($),[w]),onItemShiftTab:b.useCallback(()=>_(!0),[]),onFocusableItemAdd:b.useCallback(()=>T($=>$+1),[]),onFocusableItemRemove:b.useCallback(()=>T($=>$-1),[]),children:u.jsx(Le.div,{tabIndex:N||A===0?-1:0,"data-orientation":r,...m,ref:y,style:{outline:"none",...e.style},onMouseDown:Re(e.onMouseDown,()=>{I.current=!0}),onFocus:Re(e.onFocus,$=>{const G=!I.current;if($.target===$.currentTarget&&G&&!N){const X=new CustomEvent(Dh,I4);if($.currentTarget.dispatchEvent(X),!X.defaultPrevented){const Y=P().filter(z=>z.focusable),U=Y.find(z=>z.active),V=Y.find(z=>z.id===v),O=[U,V,...Y].filter(Boolean).map(z=>z.ref.current);fC(O,h)}}I.current=!1}),onBlur:Re(e.onBlur,()=>_(!1))})})}),uC="RovingFocusGroupItem",dC=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,children:a,...c}=e,d=or(),f=s||d,h=O4(uC,n),m=h.currentTabStopId===f,g=aC(n),{onFocusableItemAdd:y,onFocusableItemRemove:S}=h;return b.useEffect(()=>{if(r)return y(),()=>S()},[r,y,S]),u.jsx(Pm.ItemSlot,{scope:n,id:f,focusable:r,active:o,children:u.jsx(Le.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...c,ref:t,onMouseDown:Re(e.onMouseDown,v=>{r?h.onItemFocus(f):v.preventDefault()}),onFocus:Re(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:Re(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){h.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const w=$4(v,h.orientation,h.dir);if(w!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let _=g().filter(k=>k.focusable).map(k=>k.ref.current);if(w==="last")_.reverse();else if(w==="prev"||w==="next"){w==="prev"&&_.reverse();const k=_.indexOf(v.currentTarget);_=h.loop?F4(_,k+1):_.slice(k+1)}setTimeout(()=>fC(_))}}),children:typeof a=="function"?a({isCurrentTabStop:m}):a})})});dC.displayName=uC;var L4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function z4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $4(e,t,n){const r=z4(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return L4[r]}function fC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function F4(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Rg=cC,Mg=dC;function B4(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var Tn=e=>{const{present:t,children:n}=e,r=V4(t),o=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=Ue(r.ref,H4(o));return typeof n=="function"||r.isPresent?b.cloneElement(o,{ref:s}):null};Tn.displayName="Presence";function V4(e){const[t,n]=b.useState(),r=b.useRef({}),o=b.useRef(e),s=b.useRef("none"),a=e?"mounted":"unmounted",[c,d]=B4(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const f=Pu(r.current);s.current=c==="mounted"?f:"none"},[c]),Pt(()=>{const f=r.current,h=o.current;if(h!==e){const g=s.current,y=Pu(f);e?d("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),Pt(()=>{if(t){let f;const h=t.ownerDocument.defaultView??window,m=y=>{const v=Pu(r.current).includes(y.animationName);if(y.target===t&&v&&(d("ANIMATION_END"),!o.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",f=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},g=y=>{y.target===t&&(s.current=Pu(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(f=>{f&&(r.current=getComputedStyle(f)),n(f)},[])}}function Pu(e){return(e==null?void 0:e.animationName)||"none"}function H4(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Bd="Tabs",[U4,c7]=Kt(Bd,[Ks]),pC=Ks(),[W4,Og]=U4(Bd),hC=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:s,orientation:a="horizontal",dir:c,activationMode:d="automatic",...f}=e,h=Uo(c),[m,g]=mn({prop:r,onChange:o,defaultProp:s??"",caller:Bd});return u.jsx(W4,{scope:n,baseId:or(),value:m,onValueChange:g,orientation:a,dir:h,activationMode:d,children:u.jsx(Le.div,{dir:h,"data-orientation":a,...f,ref:t})})});hC.displayName=Bd;var mC="TabsList",gC=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,s=Og(mC,n),a=pC(n);return u.jsx(Rg,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:u.jsx(Le.div,{role:"tablist","aria-orientation":s.orientation,...o,ref:t})})});gC.displayName=mC;var yC="TabsTrigger",xC=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...s}=e,a=Og(yC,n),c=pC(n),d=wC(a.baseId,r),f=bC(a.baseId,r),h=r===a.value;return u.jsx(Mg,{asChild:!0,...c,focusable:!o,active:h,children:u.jsx(Le.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...s,ref:t,onMouseDown:Re(e.onMouseDown,m=>{!o&&m.button===0&&m.ctrlKey===!1?a.onValueChange(r):m.preventDefault()}),onKeyDown:Re(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&a.onValueChange(r)}),onFocus:Re(e.onFocus,()=>{const m=a.activationMode!=="manual";!h&&!o&&m&&a.onValueChange(r)})})})});xC.displayName=yC;var vC="TabsContent",dd=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:s,...a}=e,c=Og(vC,n),d=wC(c.baseId,r),f=bC(c.baseId,r),h=r===c.value,m=b.useRef(h);return b.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),u.jsx(Tn,{present:o||h,children:({present:g})=>u.jsx(Le.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:f,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:g&&s})})});dd.displayName=vC;function wC(e,t){return`${e}-trigger-${t}`}function bC(e,t){return`${e}-content-${t}`}var X4=hC,G4=gC,Y4=xC,q4=dd;function Ii({className:e,...t}){return u.jsx(X4,{"data-slot":"tabs",className:ze("flex flex-col gap-2",e),...t})}function Ti({className:e,...t}){return u.jsx(G4,{"data-slot":"tabs-list",className:ze("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Yn({className:e,...t}){return u.jsx(Y4,{"data-slot":"tabs-trigger",className:ze("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Dr({className:e,...t}){return u.jsx(q4,{"data-slot":"tabs-content",className:ze("flex-1 outline-none",e),...t})}var K4="Label",SC=b.forwardRef((e,t)=>u.jsx(Le.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));SC.displayName=K4;var Q4=SC;function ke({className:e,...t}){return u.jsx(Q4,{"data-slot":"label",className:ze("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function Xe({className:e,type:t,...n}){return u.jsx("input",{type:t,"data-slot":"input",className:ze("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}function Da(e,[t,n]){return Math.min(n,Math.max(t,e))}function J4(e,t=globalThis==null?void 0:globalThis.document){const n=vn(e);b.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Z4="DismissableLayer",Am="dismissableLayer.update",e3="dismissableLayer.pointerDownOutside",t3="dismissableLayer.focusOutside",Kw,NC=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Za=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:c,...d}=e,f=b.useContext(NC),[h,m]=b.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=b.useState({}),S=Ue(t,T=>m(T)),v=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(w),_=h?v.indexOf(h):-1,k=f.layersWithOutsidePointerEventsDisabled.size>0,P=_>=N,I=o3(T=>{const $=T.target,G=[...f.branches].some(X=>X.contains($));!P||G||(o==null||o(T),a==null||a(T),T.defaultPrevented||c==null||c())},g),A=i3(T=>{const $=T.target;[...f.branches].some(X=>X.contains($))||(s==null||s(T),a==null||a(T),T.defaultPrevented||c==null||c())},g);return J4(T=>{_===f.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&c&&(T.preventDefault(),c()))},g),b.useEffect(()=>{if(h)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Kw=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),Qw(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Kw)}},[h,g,n,f]),b.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),Qw())},[h,f]),b.useEffect(()=>{const T=()=>y({});return document.addEventListener(Am,T),()=>document.removeEventListener(Am,T)},[]),u.jsx(Le.div,{...d,ref:S,style:{pointerEvents:k?P?"auto":"none":void 0,...e.style},onFocusCapture:Re(e.onFocusCapture,A.onFocusCapture),onBlurCapture:Re(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Re(e.onPointerDownCapture,I.onPointerDownCapture)})});Za.displayName=Z4;var n3="DismissableLayerBranch",r3=b.forwardRef((e,t)=>{const n=b.useContext(NC),r=b.useRef(null),o=Ue(t,r);return b.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),u.jsx(Le.div,{...e,ref:o})});r3.displayName=n3;function o3(e,t=globalThis==null?void 0:globalThis.document){const n=vn(e),r=b.useRef(!1),o=b.useRef(()=>{});return b.useEffect(()=>{const s=c=>{if(c.target&&!r.current){let d=function(){CC(e3,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function i3(e,t=globalThis==null?void 0:globalThis.document){const n=vn(e),r=b.useRef(!1);return b.useEffect(()=>{const o=s=>{s.target&&!r.current&&CC(t3,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Qw(){const e=new CustomEvent(Am);document.dispatchEvent(e)}function CC(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?x4(o,s):o.dispatchEvent(s)}var Lh=0;function Dg(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jw()),document.body.insertAdjacentElement("beforeend",e[1]??Jw()),Lh++,()=>{Lh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Lh--}},[])}function Jw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zh="focusScope.autoFocusOnMount",$h="focusScope.autoFocusOnUnmount",Zw={bubbles:!1,cancelable:!0},s3="FocusScope",Vd=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...a}=e,[c,d]=b.useState(null),f=vn(o),h=vn(s),m=b.useRef(null),g=Ue(t,v=>d(v)),y=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let v=function(k){if(y.paused||!c)return;const P=k.target;c.contains(P)?m.current=P:Ro(m.current,{select:!0})},w=function(k){if(y.paused||!c)return;const P=k.relatedTarget;P!==null&&(c.contains(P)||Ro(m.current,{select:!0}))},N=function(k){if(document.activeElement===document.body)for(const I of k)I.removedNodes.length>0&&Ro(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const _=new MutationObserver(N);return c&&_.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),_.disconnect()}}},[r,c,y.paused]),b.useEffect(()=>{if(c){t1.add(y);const v=document.activeElement;if(!c.contains(v)){const N=new CustomEvent(zh,Zw);c.addEventListener(zh,f),c.dispatchEvent(N),N.defaultPrevented||(l3(f3(kC(c)),{select:!0}),document.activeElement===v&&Ro(c))}return()=>{c.removeEventListener(zh,f),setTimeout(()=>{const N=new CustomEvent($h,Zw);c.addEventListener($h,h),c.dispatchEvent(N),N.defaultPrevented||Ro(v??document.body,{select:!0}),c.removeEventListener($h,h),t1.remove(y)},0)}}},[c,f,h,y]);const S=b.useCallback(v=>{if(!n&&!r||y.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(w&&N){const _=v.currentTarget,[k,P]=a3(_);k&&P?!v.shiftKey&&N===P?(v.preventDefault(),n&&Ro(k,{select:!0})):v.shiftKey&&N===k&&(v.preventDefault(),n&&Ro(P,{select:!0})):N===_&&v.preventDefault()}},[n,r,y.paused]);return u.jsx(Le.div,{tabIndex:-1,...a,ref:g,onKeyDown:S})});Vd.displayName=s3;function l3(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ro(r,{select:t}),document.activeElement!==n)return}function a3(e){const t=kC(e),n=e1(t,e),r=e1(t.reverse(),e);return[n,r]}function kC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function e1(e,t){for(const n of e)if(!c3(n,{upTo:t}))return n}function c3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function u3(e){return e instanceof HTMLInputElement&&"select"in e}function Ro(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&u3(e)&&t&&e.select()}}var t1=d3();function d3(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=n1(e,t),e.unshift(t)},remove(t){var n;e=n1(e,t),(n=e[0])==null||n.resume()}}}function n1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function f3(e){return e.filter(t=>t.tagName!=="A")}const p3=["top","right","bottom","left"],Bo=Math.min,Vn=Math.max,fd=Math.round,Au=Math.floor,Mr=e=>({x:e,y:e}),h3={left:"right",right:"left",bottom:"top",top:"bottom"},m3={start:"end",end:"start"};function Im(e,t,n){return Vn(e,Bo(t,n))}function io(e,t){return typeof e=="function"?e(t):e}function so(e){return e.split("-")[0]}function Qs(e){return e.split("-")[1]}function Lg(e){return e==="x"?"y":"x"}function zg(e){return e==="y"?"height":"width"}function Vo(e){return["top","bottom"].includes(so(e))?"y":"x"}function $g(e){return Lg(Vo(e))}function g3(e,t,n){n===void 0&&(n=!1);const r=Qs(e),o=$g(e),s=zg(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=pd(a)),[a,pd(a)]}function y3(e){const t=pd(e);return[Tm(e),t,Tm(t)]}function Tm(e){return e.replace(/start|end/g,t=>m3[t])}function x3(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:a;default:return[]}}function v3(e,t,n,r){const o=Qs(e);let s=x3(so(e),n==="start",r);return o&&(s=s.map(a=>a+"-"+o),t&&(s=s.concat(s.map(Tm)))),s}function pd(e){return e.replace(/left|right|bottom|top/g,t=>h3[t])}function w3(e){return{top:0,right:0,bottom:0,left:0,...e}}function EC(e){return typeof e!="number"?w3(e):{top:e,right:e,bottom:e,left:e}}function hd(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function r1(e,t,n){let{reference:r,floating:o}=e;const s=Vo(t),a=$g(t),c=zg(a),d=so(t),f=s==="y",h=r.x+r.width/2-o.width/2,m=r.y+r.height/2-o.height/2,g=r[c]/2-o[c]/2;let y;switch(d){case"top":y={x:h,y:r.y-o.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-o.width,y:m};break;default:y={x:r.x,y:r.y}}switch(Qs(t)){case"start":y[a]-=g*(n&&f?-1:1);break;case"end":y[a]+=g*(n&&f?-1:1);break}return y}const b3=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:a}=n,c=s.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(t));let f=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:m}=r1(f,r,d),g=r,y={},S=0;for(let v=0;v<c.length;v++){const{name:w,fn:N}=c[v],{x:_,y:k,data:P,reset:I}=await N({x:h,y:m,initialPlacement:r,placement:g,strategy:o,middlewareData:y,rects:f,platform:a,elements:{reference:e,floating:t}});h=_??h,m=k??m,y={...y,[w]:{...y[w],...P}},I&&S<=50&&(S++,typeof I=="object"&&(I.placement&&(g=I.placement),I.rects&&(f=I.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):I.rects),{x:h,y:m}=r1(f,g,d)),v=-1)}return{x:h,y:m,placement:g,strategy:o,middlewareData:y}};async function La(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:a,elements:c,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:g=!1,padding:y=0}=io(t,e),S=EC(y),w=c[g?m==="floating"?"reference":"floating":m],N=hd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:f,rootBoundary:h,strategy:d})),_=m==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),P=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},I=hd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:_,offsetParent:k,strategy:d}):_);return{top:(N.top-I.top+S.top)/P.y,bottom:(I.bottom-N.bottom+S.bottom)/P.y,left:(N.left-I.left+S.left)/P.x,right:(I.right-N.right+S.right)/P.x}}const S3=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:a,elements:c,middlewareData:d}=t,{element:f,padding:h=0}=io(e,t)||{};if(f==null)return{};const m=EC(h),g={x:n,y:r},y=$g(o),S=zg(y),v=await a.getDimensions(f),w=y==="y",N=w?"top":"left",_=w?"bottom":"right",k=w?"clientHeight":"clientWidth",P=s.reference[S]+s.reference[y]-g[y]-s.floating[S],I=g[y]-s.reference[y],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let T=A?A[k]:0;(!T||!await(a.isElement==null?void 0:a.isElement(A)))&&(T=c.floating[k]||s.floating[S]);const $=P/2-I/2,G=T/2-v[S]/2-1,X=Bo(m[N],G),Y=Bo(m[_],G),U=X,V=T-v[S]-Y,j=T/2-v[S]/2+$,O=Im(U,j,V),z=!d.arrow&&Qs(o)!=null&&j!==O&&s.reference[S]/2-(j<U?X:Y)-v[S]/2<0,H=z?j<U?j-U:j-V:0;return{[y]:g[y]+H,data:{[y]:O,centerOffset:j-O-H,...z&&{alignmentOffset:H}},reset:z}}}),N3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:a,initialPlacement:c,platform:d,elements:f}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...w}=io(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const N=so(o),_=Vo(c),k=so(c)===c,P=await(d.isRTL==null?void 0:d.isRTL(f.floating)),I=g||(k||!v?[pd(c)]:y3(c)),A=S!=="none";!g&&A&&I.push(...v3(c,v,S,P));const T=[c,...I],$=await La(t,w),G=[];let X=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&G.push($[N]),m){const j=g3(o,a,P);G.push($[j[0]],$[j[1]])}if(X=[...X,{placement:o,overflows:G}],!G.every(j=>j<=0)){var Y,U;const j=(((Y=s.flip)==null?void 0:Y.index)||0)+1,O=T[j];if(O)return{data:{index:j,overflows:X},reset:{placement:O}};let z=(U=X.filter(H=>H.overflows[0]<=0).sort((H,L)=>H.overflows[1]-L.overflows[1])[0])==null?void 0:U.placement;if(!z)switch(y){case"bestFit":{var V;const H=(V=X.filter(L=>{if(A){const W=Vo(L.placement);return W===_||W==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(W=>W>0).reduce((W,M)=>W+M,0)]).sort((L,W)=>L[1]-W[1])[0])==null?void 0:V[0];H&&(z=H);break}case"initialPlacement":z=c;break}if(o!==z)return{reset:{placement:z}}}return{}}}};function o1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function i1(e){return p3.some(t=>e[t]>=0)}const C3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=io(e,t);switch(r){case"referenceHidden":{const s=await La(t,{...o,elementContext:"reference"}),a=o1(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:i1(a)}}}case"escaped":{const s=await La(t,{...o,altBoundary:!0}),a=o1(s,n.floating);return{data:{escapedOffsets:a,escaped:i1(a)}}}default:return{}}}}};async function k3(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=so(n),c=Qs(n),d=Vo(n)==="y",f=["left","top"].includes(a)?-1:1,h=s&&d?-1:1,m=io(t,e);let{mainAxis:g,crossAxis:y,alignmentAxis:S}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof S=="number"&&(y=c==="end"?S*-1:S),d?{x:y*h,y:g*f}:{x:g*f,y:y*h}}const E3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:a,middlewareData:c}=t,d=await k3(t,e);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+d.x,y:s+d.y,data:{...d,placement:a}}}}},_3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:c={fn:w=>{let{x:N,y:_}=w;return{x:N,y:_}}},...d}=io(e,t),f={x:n,y:r},h=await La(t,d),m=Vo(so(o)),g=Lg(m);let y=f[g],S=f[m];if(s){const w=g==="y"?"top":"left",N=g==="y"?"bottom":"right",_=y+h[w],k=y-h[N];y=Im(_,y,k)}if(a){const w=m==="y"?"top":"left",N=m==="y"?"bottom":"right",_=S+h[w],k=S-h[N];S=Im(_,S,k)}const v=c.fn({...t,[g]:y,[m]:S});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[g]:s,[m]:a}}}}}},j3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:a}=t,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=io(e,t),h={x:n,y:r},m=Vo(o),g=Lg(m);let y=h[g],S=h[m];const v=io(c,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const k=g==="y"?"height":"width",P=s.reference[g]-s.floating[k]+w.mainAxis,I=s.reference[g]+s.reference[k]-w.mainAxis;y<P?y=P:y>I&&(y=I)}if(f){var N,_;const k=g==="y"?"width":"height",P=["top","left"].includes(so(o)),I=s.reference[m]-s.floating[k]+(P&&((N=a.offset)==null?void 0:N[m])||0)+(P?0:w.crossAxis),A=s.reference[m]+s.reference[k]+(P?0:((_=a.offset)==null?void 0:_[m])||0)-(P?w.crossAxis:0);S<I?S=I:S>A&&(S=A)}return{[g]:y,[m]:S}}}},P3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:a,elements:c}=t,{apply:d=()=>{},...f}=io(e,t),h=await La(t,f),m=so(o),g=Qs(o),y=Vo(o)==="y",{width:S,height:v}=s.floating;let w,N;m==="top"||m==="bottom"?(w=m,N=g===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(N=m,w=g==="end"?"top":"bottom");const _=v-h.top-h.bottom,k=S-h.left-h.right,P=Bo(v-h[w],_),I=Bo(S-h[N],k),A=!t.middlewareData.shift;let T=P,$=I;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&($=k),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=_),A&&!g){const X=Vn(h.left,0),Y=Vn(h.right,0),U=Vn(h.top,0),V=Vn(h.bottom,0);y?$=S-2*(X!==0||Y!==0?X+Y:Vn(h.left,h.right)):T=v-2*(U!==0||V!==0?U+V:Vn(h.top,h.bottom))}await d({...t,availableWidth:$,availableHeight:T});const G=await a.getDimensions(c.floating);return S!==G.width||v!==G.height?{reset:{rects:!0}}:{}}}};function Hd(){return typeof window<"u"}function Js(e){return _C(e)?(e.nodeName||"").toLowerCase():"#document"}function Xn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fr(e){var t;return(t=(_C(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _C(e){return Hd()?e instanceof Node||e instanceof Xn(e).Node:!1}function vr(e){return Hd()?e instanceof Element||e instanceof Xn(e).Element:!1}function Lr(e){return Hd()?e instanceof HTMLElement||e instanceof Xn(e).HTMLElement:!1}function s1(e){return!Hd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xn(e).ShadowRoot}function ec(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=wr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function A3(e){return["table","td","th"].includes(Js(e))}function Ud(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Fg(e){const t=Bg(),n=vr(e)?wr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function I3(e){let t=Ho(e);for(;Lr(t)&&!Vs(t);){if(Fg(t))return t;if(Ud(t))return null;t=Ho(t)}return null}function Bg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vs(e){return["html","body","#document"].includes(Js(e))}function wr(e){return Xn(e).getComputedStyle(e)}function Wd(e){return vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ho(e){if(Js(e)==="html")return e;const t=e.assignedSlot||e.parentNode||s1(e)&&e.host||Fr(e);return s1(t)?t.host:t}function jC(e){const t=Ho(e);return Vs(t)?e.ownerDocument?e.ownerDocument.body:e.body:Lr(t)&&ec(t)?t:jC(t)}function za(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=jC(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),a=Xn(o);if(s){const c=Rm(a);return t.concat(a,a.visualViewport||[],ec(o)?o:[],c&&n?za(c):[])}return t.concat(o,za(o,[],n))}function Rm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function PC(e){const t=wr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Lr(e),s=o?e.offsetWidth:n,a=o?e.offsetHeight:r,c=fd(n)!==s||fd(r)!==a;return c&&(n=s,r=a),{width:n,height:r,$:c}}function Vg(e){return vr(e)?e:e.contextElement}function js(e){const t=Vg(e);if(!Lr(t))return Mr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=PC(t);let a=(s?fd(n.width):n.width)/r,c=(s?fd(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const T3=Mr(0);function AC(e){const t=Xn(e);return!Bg()||!t.visualViewport?T3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function R3(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Xn(e)?!1:t}function Ei(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Vg(e);let a=Mr(1);t&&(r?vr(r)&&(a=js(r)):a=js(e));const c=R3(s,n,r)?AC(s):Mr(0);let d=(o.left+c.x)/a.x,f=(o.top+c.y)/a.y,h=o.width/a.x,m=o.height/a.y;if(s){const g=Xn(s),y=r&&vr(r)?Xn(r):r;let S=g,v=Rm(S);for(;v&&r&&y!==S;){const w=js(v),N=v.getBoundingClientRect(),_=wr(v),k=N.left+(v.clientLeft+parseFloat(_.paddingLeft))*w.x,P=N.top+(v.clientTop+parseFloat(_.paddingTop))*w.y;d*=w.x,f*=w.y,h*=w.x,m*=w.y,d+=k,f+=P,S=Xn(v),v=Rm(S)}}return hd({width:h,height:m,x:d,y:f})}function Hg(e,t){const n=Wd(e).scrollLeft;return t?t.left+n:Ei(Fr(e)).left+n}function IC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Hg(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function M3(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",a=Fr(r),c=t?Ud(t.floating):!1;if(r===a||c&&s)return n;let d={scrollLeft:0,scrollTop:0},f=Mr(1);const h=Mr(0),m=Lr(r);if((m||!m&&!s)&&((Js(r)!=="body"||ec(a))&&(d=Wd(r)),Lr(r))){const y=Ei(r);f=js(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const g=a&&!m&&!s?IC(a,d,!0):Mr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+h.x+g.x,y:n.y*f.y-d.scrollTop*f.y+h.y+g.y}}function O3(e){return Array.from(e.getClientRects())}function D3(e){const t=Fr(e),n=Wd(e),r=e.ownerDocument.body,o=Vn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Vn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Hg(e);const c=-n.scrollTop;return wr(r).direction==="rtl"&&(a+=Vn(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:a,y:c}}function L3(e,t){const n=Xn(e),r=Fr(e),o=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,c=0,d=0;if(o){s=o.width,a=o.height;const f=Bg();(!f||f&&t==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}return{width:s,height:a,x:c,y:d}}function z3(e,t){const n=Ei(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=Lr(e)?js(e):Mr(1),a=e.clientWidth*s.x,c=e.clientHeight*s.y,d=o*s.x,f=r*s.y;return{width:a,height:c,x:d,y:f}}function l1(e,t,n){let r;if(t==="viewport")r=L3(e,n);else if(t==="document")r=D3(Fr(e));else if(vr(t))r=z3(t,n);else{const o=AC(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return hd(r)}function TC(e,t){const n=Ho(e);return n===t||!vr(n)||Vs(n)?!1:wr(n).position==="fixed"||TC(n,t)}function $3(e,t){const n=t.get(e);if(n)return n;let r=za(e,[],!1).filter(c=>vr(c)&&Js(c)!=="body"),o=null;const s=wr(e).position==="fixed";let a=s?Ho(e):e;for(;vr(a)&&!Vs(a);){const c=wr(a),d=Fg(a);!d&&c.position==="fixed"&&(o=null),(s?!d&&!o:!d&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ec(a)&&!d&&TC(e,a))?r=r.filter(h=>h!==a):o=c,a=Ho(a)}return t.set(e,r),r}function F3(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?Ud(t)?[]:$3(t,this._c):[].concat(n),r],c=a[0],d=a.reduce((f,h)=>{const m=l1(t,h,o);return f.top=Vn(m.top,f.top),f.right=Bo(m.right,f.right),f.bottom=Bo(m.bottom,f.bottom),f.left=Vn(m.left,f.left),f},l1(t,c,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function B3(e){const{width:t,height:n}=PC(e);return{width:t,height:n}}function V3(e,t,n){const r=Lr(t),o=Fr(t),s=n==="fixed",a=Ei(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const d=Mr(0);if(r||!r&&!s)if((Js(t)!=="body"||ec(o))&&(c=Wd(t)),r){const g=Ei(t,!0,s,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else o&&(d.x=Hg(o));const f=o&&!r&&!s?IC(o,c):Mr(0),h=a.left+c.scrollLeft-d.x-f.x,m=a.top+c.scrollTop-d.y-f.y;return{x:h,y:m,width:a.width,height:a.height}}function Fh(e){return wr(e).position==="static"}function a1(e,t){if(!Lr(e)||wr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Fr(e)===n&&(n=n.ownerDocument.body),n}function RC(e,t){const n=Xn(e);if(Ud(e))return n;if(!Lr(e)){let o=Ho(e);for(;o&&!Vs(o);){if(vr(o)&&!Fh(o))return o;o=Ho(o)}return n}let r=a1(e,t);for(;r&&A3(r)&&Fh(r);)r=a1(r,t);return r&&Vs(r)&&Fh(r)&&!Fg(r)?n:r||I3(e)||n}const H3=async function(e){const t=this.getOffsetParent||RC,n=this.getDimensions,r=await n(e.floating);return{reference:V3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function U3(e){return wr(e).direction==="rtl"}const W3={convertOffsetParentRelativeRectToViewportRelativeRect:M3,getDocumentElement:Fr,getClippingRect:F3,getOffsetParent:RC,getElementRects:H3,getClientRects:O3,getDimensions:B3,getScale:js,isElement:vr,isRTL:U3};function MC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function X3(e,t){let n=null,r;const o=Fr(e);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),s();const f=e.getBoundingClientRect(),{left:h,top:m,width:g,height:y}=f;if(c||t(),!g||!y)return;const S=Au(m),v=Au(o.clientWidth-(h+g)),w=Au(o.clientHeight-(m+y)),N=Au(h),k={rootMargin:-S+"px "+-v+"px "+-w+"px "+-N+"px",threshold:Vn(0,Bo(1,d))||1};let P=!0;function I(A){const T=A[0].intersectionRatio;if(T!==d){if(!P)return a();T?a(!1,T):r=setTimeout(()=>{a(!1,1e-7)},1e3)}T===1&&!MC(f,e.getBoundingClientRect())&&a(),P=!1}try{n=new IntersectionObserver(I,{...k,root:o.ownerDocument})}catch{n=new IntersectionObserver(I,k)}n.observe(e)}return a(!0),s}function G3(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=Vg(e),h=o||s?[...f?za(f):[],...za(t)]:[];h.forEach(N=>{o&&N.addEventListener("scroll",n,{passive:!0}),s&&N.addEventListener("resize",n)});const m=f&&c?X3(f,n):null;let g=-1,y=null;a&&(y=new ResizeObserver(N=>{let[_]=N;_&&_.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k;(k=y)==null||k.observe(t)})),n()}),f&&!d&&y.observe(f),y.observe(t));let S,v=d?Ei(e):null;d&&w();function w(){const N=Ei(e);v&&!MC(v,N)&&n(),v=N,S=requestAnimationFrame(w)}return n(),()=>{var N;h.forEach(_=>{o&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),m==null||m(),(N=y)==null||N.disconnect(),y=null,d&&cancelAnimationFrame(S)}}const Y3=E3,q3=_3,K3=N3,Q3=P3,J3=C3,c1=S3,Z3=j3,e$=(e,t,n)=>{const r=new Map,o={platform:W3,...n},s={...o.platform,_c:r};return b3(e,t,{...o,platform:s})};var Gu=typeof document<"u"?b.useLayoutEffect:b.useEffect;function md(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!md(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!md(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function OC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function u1(e,t){const n=OC(e);return Math.round(t*n)/n}function Bh(e){const t=b.useRef(e);return Gu(()=>{t.current=e}),t}function t$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:a}={},transform:c=!0,whileElementsMounted:d,open:f}=e,[h,m]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,y]=b.useState(r);md(g,r)||y(r);const[S,v]=b.useState(null),[w,N]=b.useState(null),_=b.useCallback(L=>{L!==A.current&&(A.current=L,v(L))},[]),k=b.useCallback(L=>{L!==T.current&&(T.current=L,N(L))},[]),P=s||S,I=a||w,A=b.useRef(null),T=b.useRef(null),$=b.useRef(h),G=d!=null,X=Bh(d),Y=Bh(o),U=Bh(f),V=b.useCallback(()=>{if(!A.current||!T.current)return;const L={placement:t,strategy:n,middleware:g};Y.current&&(L.platform=Y.current),e$(A.current,T.current,L).then(W=>{const M={...W,isPositioned:U.current!==!1};j.current&&!md($.current,M)&&($.current=M,Ys.flushSync(()=>{m(M)}))})},[g,t,n,Y,U]);Gu(()=>{f===!1&&$.current.isPositioned&&($.current.isPositioned=!1,m(L=>({...L,isPositioned:!1})))},[f]);const j=b.useRef(!1);Gu(()=>(j.current=!0,()=>{j.current=!1}),[]),Gu(()=>{if(P&&(A.current=P),I&&(T.current=I),P&&I){if(X.current)return X.current(P,I,V);V()}},[P,I,V,X,G]);const O=b.useMemo(()=>({reference:A,floating:T,setReference:_,setFloating:k}),[_,k]),z=b.useMemo(()=>({reference:P,floating:I}),[P,I]),H=b.useMemo(()=>{const L={position:n,left:0,top:0};if(!z.floating)return L;const W=u1(z.floating,h.x),M=u1(z.floating,h.y);return c?{...L,transform:"translate("+W+"px, "+M+"px)",...OC(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:M}},[n,c,z.floating,h.x,h.y]);return b.useMemo(()=>({...h,update:V,refs:O,elements:z,floatingStyles:H}),[h,V,O,z,H])}const n$=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?c1({element:r.current,padding:o}).fn(n):{}:r?c1({element:r,padding:o}).fn(n):{}}}},r$=(e,t)=>({...Y3(e),options:[e,t]}),o$=(e,t)=>({...q3(e),options:[e,t]}),i$=(e,t)=>({...Z3(e),options:[e,t]}),s$=(e,t)=>({...K3(e),options:[e,t]}),l$=(e,t)=>({...Q3(e),options:[e,t]}),a$=(e,t)=>({...J3(e),options:[e,t]}),c$=(e,t)=>({...n$(e),options:[e,t]});var u$="Arrow",DC=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return u.jsx(Le.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});DC.displayName=u$;var d$=DC;function Xd(e){const[t,n]=b.useState(void 0);return Pt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let a,c;if("borderBoxSize"in s){const d=s.borderBoxSize,f=Array.isArray(d)?d[0]:d;a=f.inlineSize,c=f.blockSize}else a=e.offsetWidth,c=e.offsetHeight;n({width:a,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Ug="Popper",[LC,Zs]=Kt(Ug),[f$,zC]=LC(Ug),$C=e=>{const{__scopePopper:t,children:n}=e,[r,o]=b.useState(null);return u.jsx(f$,{scope:t,anchor:r,onAnchorChange:o,children:n})};$C.displayName=Ug;var FC="PopperAnchor",BC=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=zC(FC,n),a=b.useRef(null),c=Ue(t,a);return b.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:u.jsx(Le.div,{...o,ref:c})});BC.displayName=FC;var Wg="PopperContent",[p$,h$]=LC(Wg),VC=b.forwardRef((e,t)=>{var B,Q,oe,ie,ue,de;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:S,...v}=e,w=zC(Wg,n),[N,_]=b.useState(null),k=Ue(t,be=>_(be)),[P,I]=b.useState(null),A=Xd(P),T=(A==null?void 0:A.width)??0,$=(A==null?void 0:A.height)??0,G=r+(s!=="center"?"-"+s:""),X=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},Y=Array.isArray(f)?f:[f],U=Y.length>0,V={padding:X,boundary:Y.filter(g$),altBoundary:U},{refs:j,floatingStyles:O,placement:z,isPositioned:H,middlewareData:L}=t$({strategy:"fixed",placement:G,whileElementsMounted:(...be)=>G3(...be,{animationFrame:y==="always"}),elements:{reference:w.anchor},middleware:[r$({mainAxis:o+$,alignmentAxis:a}),d&&o$({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?i$():void 0,...V}),d&&s$({...V}),l$({...V,apply:({elements:be,rects:Se,availableWidth:De,availableHeight:We})=>{const{width:ft,height:ut}=Se.reference,ye=be.floating.style;ye.setProperty("--radix-popper-available-width",`${De}px`),ye.setProperty("--radix-popper-available-height",`${We}px`),ye.setProperty("--radix-popper-anchor-width",`${ft}px`),ye.setProperty("--radix-popper-anchor-height",`${ut}px`)}}),P&&c$({element:P,padding:c}),y$({arrowWidth:T,arrowHeight:$}),g&&a$({strategy:"referenceHidden",...V})]}),[W,M]=WC(z),F=vn(S);Pt(()=>{H&&(F==null||F())},[H,F]);const q=(B=L.arrow)==null?void 0:B.x,R=(Q=L.arrow)==null?void 0:Q.y,J=((oe=L.arrow)==null?void 0:oe.centerOffset)!==0,[ne,te]=b.useState();return Pt(()=>{N&&te(window.getComputedStyle(N).zIndex)},[N]),u.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:H?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(ie=L.transformOrigin)==null?void 0:ie.x,(ue=L.transformOrigin)==null?void 0:ue.y].join(" "),...((de=L.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(p$,{scope:n,placedSide:W,onArrowChange:I,arrowX:q,arrowY:R,shouldHideArrow:J,children:u.jsx(Le.div,{"data-side":W,"data-align":M,...v,ref:k,style:{...v.style,animation:H?void 0:"none"}})})})});VC.displayName=Wg;var HC="PopperArrow",m$={top:"bottom",right:"left",bottom:"top",left:"right"},UC=b.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=h$(HC,r),a=m$[s.placedSide];return u.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:u.jsx(d$,{...o,ref:n,style:{...o.style,display:"block"}})})});UC.displayName=HC;function g$(e){return e!==null}var y$=e=>({name:"transformOrigin",options:e,fn(t){var w,N,_;const{placement:n,rects:r,middlewareData:o}=t,a=((w=o.arrow)==null?void 0:w.centerOffset)!==0,c=a?0:e.arrowWidth,d=a?0:e.arrowHeight,[f,h]=WC(n),m={start:"0%",center:"50%",end:"100%"}[h],g=(((N=o.arrow)==null?void 0:N.x)??0)+c/2,y=(((_=o.arrow)==null?void 0:_.y)??0)+d/2;let S="",v="";return f==="bottom"?(S=a?m:`${g}px`,v=`${-d}px`):f==="top"?(S=a?m:`${g}px`,v=`${r.floating.height+d}px`):f==="right"?(S=`${-d}px`,v=a?m:`${y}px`):f==="left"&&(S=`${r.floating.width+d}px`,v=a?m:`${y}px`),{data:{x:S,y:v}}}});function WC(e){const[t,n="center"]=e.split("-");return[t,n]}var Xg=$C,Gd=BC,Gg=VC,Yg=UC,x$="Portal",tc=b.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[o,s]=b.useState(!1);Pt(()=>s(!0),[]);const a=n||o&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?ID.createPortal(u.jsx(Le.div,{...r,ref:t}),a):null});tc.displayName=x$;function Yd(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var XC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),v$="VisuallyHidden",w$=b.forwardRef((e,t)=>u.jsx(Le.span,{...e,ref:t,style:{...XC,...e.style}}));w$.displayName=v$;var b$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ps=new WeakMap,Iu=new WeakMap,Tu={},Vh=0,GC=function(e){return e&&(e.host||GC(e.parentNode))},S$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=GC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},N$=function(e,t,n,r){var o=S$(t,Array.isArray(e)?e:[e]);Tu[n]||(Tu[n]=new WeakMap);var s=Tu[n],a=[],c=new Set,d=new Set(o),f=function(m){!m||c.has(m)||(c.add(m),f(m.parentNode))};o.forEach(f);var h=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(g){if(c.has(g))h(g);else try{var y=g.getAttribute(r),S=y!==null&&y!=="false",v=(ps.get(g)||0)+1,w=(s.get(g)||0)+1;ps.set(g,v),s.set(g,w),a.push(g),v===1&&S&&Iu.set(g,!0),w===1&&g.setAttribute(n,"true"),S||g.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return h(t),c.clear(),Vh++,function(){a.forEach(function(m){var g=ps.get(m)-1,y=s.get(m)-1;ps.set(m,g),s.set(m,y),g||(Iu.has(m)||m.removeAttribute(r),Iu.delete(m)),y||m.removeAttribute(n)}),Vh--,Vh||(ps=new WeakMap,ps=new WeakMap,Iu=new WeakMap,Tu={})}},qg=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=b$(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),N$(r,o,n,"aria-hidden")):function(){return null}},Ir=function(){return Ir=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ir.apply(this,arguments)};function YC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function C$(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Yu="right-scroll-bar-position",qu="width-before-scroll-bar",k$="with-scroll-bars-hidden",E$="--removed-body-scroll-bar-size";function Hh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function _$(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var j$=typeof window<"u"?b.useLayoutEffect:b.useEffect,d1=new WeakMap;function P$(e,t){var n=_$(null,function(r){return e.forEach(function(o){return Hh(o,r)})});return j$(function(){var r=d1.get(n);if(r){var o=new Set(r),s=new Set(e),a=n.current;o.forEach(function(c){s.has(c)||Hh(c,null)}),s.forEach(function(c){o.has(c)||Hh(c,a)})}d1.set(n,e)},[e]),n}function A$(e){return e}function I$(e,t){t===void 0&&(t=A$);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(c){return s(c)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(s),a=n}var d=function(){var h=a;a=[],h.forEach(s)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(h){a.push(h),f()},filter:function(h){return a=a.filter(h),n}}}};return o}function T$(e){e===void 0&&(e={});var t=I$(null);return t.options=Ir({async:!0,ssr:!1},e),t}var qC=function(e){var t=e.sideCar,n=YC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Ir({},n))};qC.isSideCarExport=!0;function R$(e,t){return e.useMedium(t),qC}var KC=T$(),Uh=function(){},qd=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:Uh,onWheelCapture:Uh,onTouchMoveCapture:Uh}),o=r[0],s=r[1],a=e.forwardProps,c=e.children,d=e.className,f=e.removeScrollBar,h=e.enabled,m=e.shards,g=e.sideCar,y=e.noIsolation,S=e.inert,v=e.allowPinchZoom,w=e.as,N=w===void 0?"div":w,_=e.gapMode,k=YC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=g,I=P$([n,t]),A=Ir(Ir({},k),o);return b.createElement(b.Fragment,null,h&&b.createElement(P,{sideCar:KC,removeScrollBar:f,shards:m,noIsolation:y,inert:S,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:_}),a?b.cloneElement(b.Children.only(c),Ir(Ir({},A),{ref:I})):b.createElement(N,Ir({},A,{className:d,ref:I}),c))});qd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qd.classNames={fullWidth:qu,zeroRight:Yu};var M$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function O$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=M$();return t&&e.setAttribute("nonce",t),e}function D$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function L$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var z$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=O$())&&(D$(t,n),L$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$$=function(){var e=z$();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},QC=function(){var e=$$(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},F$={left:0,top:0,right:0,gap:0},Wh=function(e){return parseInt(e||"",10)||0},B$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Wh(n),Wh(r),Wh(o)]},V$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return F$;var t=B$(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},H$=QC(),Ps="data-scroll-locked",U$=function(e,t,n,r){var o=e.left,s=e.top,a=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(k$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Ps,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yu,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(qu,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Yu," .").concat(Yu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(qu," .").concat(qu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ps,`] {
    `).concat(E$,": ").concat(c,`px;
  }
`)},f1=function(){var e=parseInt(document.body.getAttribute(Ps)||"0",10);return isFinite(e)?e:0},W$=function(){b.useEffect(function(){return document.body.setAttribute(Ps,(f1()+1).toString()),function(){var e=f1()-1;e<=0?document.body.removeAttribute(Ps):document.body.setAttribute(Ps,e.toString())}},[])},X$=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;W$();var s=b.useMemo(function(){return V$(o)},[o]);return b.createElement(H$,{styles:U$(s,!t,o,n?"":"!important")})},Mm=!1;if(typeof window<"u")try{var Ru=Object.defineProperty({},"passive",{get:function(){return Mm=!0,!0}});window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{Mm=!1}var hs=Mm?{passive:!1}:!1,G$=function(e){return e.tagName==="TEXTAREA"},JC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!G$(e)&&n[t]==="visible")},Y$=function(e){return JC(e,"overflowY")},q$=function(e){return JC(e,"overflowX")},p1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=ZC(e,r);if(o){var s=ek(e,r),a=s[1],c=s[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},K$=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Q$=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},ZC=function(e,t){return e==="v"?Y$(t):q$(t)},ek=function(e,t){return e==="v"?K$(t):Q$(t)},J$=function(e,t){return e==="h"&&t==="rtl"?-1:1},Z$=function(e,t,n,r,o){var s=J$(e,window.getComputedStyle(t).direction),a=s*r,c=n.target,d=t.contains(c),f=!1,h=a>0,m=0,g=0;do{var y=ek(e,c),S=y[0],v=y[1],w=y[2],N=v-w-s*S;(S||N)&&ZC(e,c)&&(m+=N,g+=S),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(h&&Math.abs(m)<1||!h&&Math.abs(g)<1)&&(f=!0),f},Mu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},h1=function(e){return[e.deltaX,e.deltaY]},m1=function(e){return e&&"current"in e?e.current:e},e5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},n5=0,ms=[];function r5(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),o=b.useState(n5++)[0],s=b.useState(QC)[0],a=b.useRef(e);b.useEffect(function(){a.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var v=C$([e.lockRef.current],(e.shards||[]).map(m1),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=b.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var N=Mu(v),_=n.current,k="deltaX"in v?v.deltaX:_[0]-N[0],P="deltaY"in v?v.deltaY:_[1]-N[1],I,A=v.target,T=Math.abs(k)>Math.abs(P)?"h":"v";if("touches"in v&&T==="h"&&A.type==="range")return!1;var $=p1(T,A);if(!$)return!0;if($?I=T:(I=T==="v"?"h":"v",$=p1(T,A)),!$)return!1;if(!r.current&&"changedTouches"in v&&(k||P)&&(r.current=I),!I)return!0;var G=r.current||I;return Z$(G,w,v,G==="h"?k:P)},[]),d=b.useCallback(function(v){var w=v;if(!(!ms.length||ms[ms.length-1]!==s)){var N="deltaY"in w?h1(w):Mu(w),_=t.current.filter(function(I){return I.name===w.type&&(I.target===w.target||w.target===I.shadowParent)&&e5(I.delta,N)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var k=(a.current.shards||[]).map(m1).filter(Boolean).filter(function(I){return I.contains(w.target)}),P=k.length>0?c(w,k[0]):!a.current.noIsolation;P&&w.cancelable&&w.preventDefault()}}},[]),f=b.useCallback(function(v,w,N,_){var k={name:v,delta:w,target:N,should:_,shadowParent:o5(N)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(P){return P!==k})},1)},[]),h=b.useCallback(function(v){n.current=Mu(v),r.current=void 0},[]),m=b.useCallback(function(v){f(v.type,h1(v),v.target,c(v,e.lockRef.current))},[]),g=b.useCallback(function(v){f(v.type,Mu(v),v.target,c(v,e.lockRef.current))},[]);b.useEffect(function(){return ms.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",d,hs),document.addEventListener("touchmove",d,hs),document.addEventListener("touchstart",h,hs),function(){ms=ms.filter(function(v){return v!==s}),document.removeEventListener("wheel",d,hs),document.removeEventListener("touchmove",d,hs),document.removeEventListener("touchstart",h,hs)}},[]);var y=e.removeScrollBar,S=e.inert;return b.createElement(b.Fragment,null,S?b.createElement(s,{styles:t5(o)}):null,y?b.createElement(X$,{gapMode:e.gapMode}):null)}function o5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const i5=R$(KC,r5);var Kd=b.forwardRef(function(e,t){return b.createElement(qd,Ir({},e,{ref:t,sideCar:i5}))});Kd.classNames=qd.classNames;var s5=[" ","Enter","ArrowUp","ArrowDown"],l5=[" ","Enter"],_i="Select",[Qd,Jd,a5]=Tg(_i),[el,u7]=Kt(_i,[a5,Zs]),Zd=Zs(),[c5,Wo]=el(_i),[u5,d5]=el(_i),tk=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:s,value:a,defaultValue:c,onValueChange:d,dir:f,name:h,autoComplete:m,disabled:g,required:y,form:S}=e,v=Zd(t),[w,N]=b.useState(null),[_,k]=b.useState(null),[P,I]=b.useState(!1),A=Uo(f),[T,$]=mn({prop:r,defaultProp:o??!1,onChange:s,caller:_i}),[G,X]=mn({prop:a,defaultProp:c,onChange:d,caller:_i}),Y=b.useRef(null),U=w?S||!!w.closest("form"):!0,[V,j]=b.useState(new Set),O=Array.from(V).map(z=>z.props.value).join(";");return u.jsx(Xg,{...v,children:u.jsxs(c5,{required:y,scope:t,trigger:w,onTriggerChange:N,valueNode:_,onValueNodeChange:k,valueNodeHasChildren:P,onValueNodeHasChildrenChange:I,contentId:or(),value:G,onValueChange:X,open:T,onOpenChange:$,dir:A,triggerPointerDownPosRef:Y,disabled:g,children:[u.jsx(Qd.Provider,{scope:t,children:u.jsx(u5,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(z=>{j(H=>new Set(H).add(z))},[]),onNativeOptionRemove:b.useCallback(z=>{j(H=>{const L=new Set(H);return L.delete(z),L})},[]),children:n})}),U?u.jsxs(Nk,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:m,value:G,onChange:z=>X(z.target.value),disabled:g,form:S,children:[G===void 0?u.jsx("option",{value:""}):null,Array.from(V)]},O):null]})})};tk.displayName=_i;var nk="SelectTrigger",rk=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,s=Zd(n),a=Wo(nk,n),c=a.disabled||r,d=Ue(t,a.onTriggerChange),f=Jd(n),h=b.useRef("touch"),[m,g,y]=kk(v=>{const w=f().filter(k=>!k.disabled),N=w.find(k=>k.value===a.value),_=Ek(w,v,N);_!==void 0&&a.onValueChange(_.value)}),S=v=>{c||(a.onOpenChange(!0),y()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return u.jsx(Gd,{asChild:!0,...s,children:u.jsx(Le.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Ck(a.value)?"":void 0,...o,ref:d,onClick:Re(o.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&S(v)}),onPointerDown:Re(o.onPointerDown,v=>{h.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:Re(o.onKeyDown,v=>{const w=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(w&&v.key===" ")&&s5.includes(v.key)&&(S(),v.preventDefault())})})})});rk.displayName=nk;var ok="SelectValue",ik=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:s,placeholder:a="",...c}=e,d=Wo(ok,n),{onValueNodeHasChildrenChange:f}=d,h=s!==void 0,m=Ue(t,d.onValueNodeChange);return Pt(()=>{f(h)},[f,h]),u.jsx(Le.span,{...c,ref:m,style:{pointerEvents:"none"},children:Ck(d.value)?u.jsx(u.Fragment,{children:a}):s})});ik.displayName=ok;var f5="SelectIcon",sk=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return u.jsx(Le.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});sk.displayName=f5;var p5="SelectPortal",lk=e=>u.jsx(tc,{asChild:!0,...e});lk.displayName=p5;var ji="SelectContent",ak=b.forwardRef((e,t)=>{const n=Wo(ji,e.__scopeSelect),[r,o]=b.useState();if(Pt(()=>{o(new DocumentFragment)},[]),!n.open){const s=r;return s?Ys.createPortal(u.jsx(ck,{scope:e.__scopeSelect,children:u.jsx(Qd.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),s):null}return u.jsx(uk,{...e,ref:t})});ak.displayName=ji;var fr=10,[ck,Xo]=el(ji),h5="SelectContentImpl",m5=ki("SelectContent.RemoveScroll"),uk=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:s,onPointerDownOutside:a,side:c,sideOffset:d,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:g,collisionPadding:y,sticky:S,hideWhenDetached:v,avoidCollisions:w,...N}=e,_=Wo(ji,n),[k,P]=b.useState(null),[I,A]=b.useState(null),T=Ue(t,B=>P(B)),[$,G]=b.useState(null),[X,Y]=b.useState(null),U=Jd(n),[V,j]=b.useState(!1),O=b.useRef(!1);b.useEffect(()=>{if(k)return qg(k)},[k]),Dg();const z=b.useCallback(B=>{const[Q,...oe]=U().map(de=>de.ref.current),[ie]=oe.slice(-1),ue=document.activeElement;for(const de of B)if(de===ue||(de==null||de.scrollIntoView({block:"nearest"}),de===Q&&I&&(I.scrollTop=0),de===ie&&I&&(I.scrollTop=I.scrollHeight),de==null||de.focus(),document.activeElement!==ue))return},[U,I]),H=b.useCallback(()=>z([$,k]),[z,$,k]);b.useEffect(()=>{V&&H()},[V,H]);const{onOpenChange:L,triggerPointerDownPosRef:W}=_;b.useEffect(()=>{if(k){let B={x:0,y:0};const Q=ie=>{var ue,de;B={x:Math.abs(Math.round(ie.pageX)-(((ue=W.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((de=W.current)==null?void 0:de.y)??0))}},oe=ie=>{B.x<=10&&B.y<=10?ie.preventDefault():k.contains(ie.target)||L(!1),document.removeEventListener("pointermove",Q),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",oe,{capture:!0})}}},[k,L,W]),b.useEffect(()=>{const B=()=>L(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[L]);const[M,F]=kk(B=>{const Q=U().filter(ue=>!ue.disabled),oe=Q.find(ue=>ue.ref.current===document.activeElement),ie=Ek(Q,B,oe);ie&&setTimeout(()=>ie.ref.current.focus())}),q=b.useCallback((B,Q,oe)=>{const ie=!O.current&&!oe;(_.value!==void 0&&_.value===Q||ie)&&(G(B),ie&&(O.current=!0))},[_.value]),R=b.useCallback(()=>k==null?void 0:k.focus(),[k]),J=b.useCallback((B,Q,oe)=>{const ie=!O.current&&!oe;(_.value!==void 0&&_.value===Q||ie)&&Y(B)},[_.value]),ne=r==="popper"?Om:dk,te=ne===Om?{side:c,sideOffset:d,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:g,collisionPadding:y,sticky:S,hideWhenDetached:v,avoidCollisions:w}:{};return u.jsx(ck,{scope:n,content:k,viewport:I,onViewportChange:A,itemRefCallback:q,selectedItem:$,onItemLeave:R,itemTextRefCallback:J,focusSelectedItem:H,selectedItemText:X,position:r,isPositioned:V,searchRef:M,children:u.jsx(Kd,{as:m5,allowPinchZoom:!0,children:u.jsx(Vd,{asChild:!0,trapped:_.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:Re(o,B=>{var Q;(Q=_.trigger)==null||Q.focus({preventScroll:!0}),B.preventDefault()}),children:u.jsx(Za,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:u.jsx(ne,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:B=>B.preventDefault(),...N,...te,onPlaced:()=>j(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Re(N.onKeyDown,B=>{const Q=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!Q&&B.key.length===1&&F(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let ie=U().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(B.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const ue=B.target,de=ie.indexOf(ue);ie=ie.slice(de+1)}setTimeout(()=>z(ie)),B.preventDefault()}})})})})})})});uk.displayName=h5;var g5="SelectItemAlignedPosition",dk=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,s=Wo(ji,n),a=Xo(ji,n),[c,d]=b.useState(null),[f,h]=b.useState(null),m=Ue(t,T=>h(T)),g=Jd(n),y=b.useRef(!1),S=b.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:N,focusSelectedItem:_}=a,k=b.useCallback(()=>{if(s.trigger&&s.valueNode&&c&&f&&v&&w&&N){const T=s.trigger.getBoundingClientRect(),$=f.getBoundingClientRect(),G=s.valueNode.getBoundingClientRect(),X=N.getBoundingClientRect();if(s.dir!=="rtl"){const ue=X.left-$.left,de=G.left-ue,be=T.left-de,Se=T.width+be,De=Math.max(Se,$.width),We=window.innerWidth-fr,ft=Da(de,[fr,Math.max(fr,We-De)]);c.style.minWidth=Se+"px",c.style.left=ft+"px"}else{const ue=$.right-X.right,de=window.innerWidth-G.right-ue,be=window.innerWidth-T.right-de,Se=T.width+be,De=Math.max(Se,$.width),We=window.innerWidth-fr,ft=Da(de,[fr,Math.max(fr,We-De)]);c.style.minWidth=Se+"px",c.style.right=ft+"px"}const Y=g(),U=window.innerHeight-fr*2,V=v.scrollHeight,j=window.getComputedStyle(f),O=parseInt(j.borderTopWidth,10),z=parseInt(j.paddingTop,10),H=parseInt(j.borderBottomWidth,10),L=parseInt(j.paddingBottom,10),W=O+z+V+L+H,M=Math.min(w.offsetHeight*5,W),F=window.getComputedStyle(v),q=parseInt(F.paddingTop,10),R=parseInt(F.paddingBottom,10),J=T.top+T.height/2-fr,ne=U-J,te=w.offsetHeight/2,B=w.offsetTop+te,Q=O+z+B,oe=W-Q;if(Q<=J){const ue=Y.length>0&&w===Y[Y.length-1].ref.current;c.style.bottom="0px";const de=f.clientHeight-v.offsetTop-v.offsetHeight,be=Math.max(ne,te+(ue?R:0)+de+H),Se=Q+be;c.style.height=Se+"px"}else{const ue=Y.length>0&&w===Y[0].ref.current;c.style.top="0px";const be=Math.max(J,O+v.offsetTop+(ue?q:0)+te)+oe;c.style.height=be+"px",v.scrollTop=Q-J+v.offsetTop}c.style.margin=`${fr}px 0`,c.style.minHeight=M+"px",c.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[g,s.trigger,s.valueNode,c,f,v,w,N,s.dir,r]);Pt(()=>k(),[k]);const[P,I]=b.useState();Pt(()=>{f&&I(window.getComputedStyle(f).zIndex)},[f]);const A=b.useCallback(T=>{T&&S.current===!0&&(k(),_==null||_(),S.current=!1)},[k,_]);return u.jsx(x5,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:A,children:u.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:u.jsx(Le.div,{...o,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});dk.displayName=g5;var y5="SelectPopperPosition",Om=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=fr,...s}=e,a=Zd(n);return u.jsx(Gg,{...a,...s,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Om.displayName=y5;var[x5,Kg]=el(ji,{}),Dm="SelectViewport",fk=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,s=Xo(Dm,n),a=Kg(Dm,n),c=Ue(t,s.onViewportChange),d=b.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Qd.Slot,{scope:n,children:u.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Re(o.onScroll,f=>{const h=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=a;if(g!=null&&g.current&&m){const y=Math.abs(d.current-h.scrollTop);if(y>0){const S=window.innerHeight-fr*2,v=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),N=Math.max(v,w);if(N<S){const _=N+y,k=Math.min(S,_),P=_-k;m.style.height=k+"px",m.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,m.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});fk.displayName=Dm;var pk="SelectGroup",[v5,w5]=el(pk),b5=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=or();return u.jsx(v5,{scope:n,id:o,children:u.jsx(Le.div,{role:"group","aria-labelledby":o,...r,ref:t})})});b5.displayName=pk;var hk="SelectLabel",S5=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=w5(hk,n);return u.jsx(Le.div,{id:o.id,...r,ref:t})});S5.displayName=hk;var gd="SelectItem",[N5,mk]=el(gd),gk=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:s,...a}=e,c=Wo(gd,n),d=Xo(gd,n),f=c.value===r,[h,m]=b.useState(s??""),[g,y]=b.useState(!1),S=Ue(t,_=>{var k;return(k=d.itemRefCallback)==null?void 0:k.call(d,_,r,o)}),v=or(),w=b.useRef("touch"),N=()=>{o||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(N5,{scope:n,value:r,disabled:o,textId:v,isSelected:f,onItemTextChange:b.useCallback(_=>{m(k=>k||((_==null?void 0:_.textContent)??"").trim())},[]),children:u.jsx(Qd.ItemSlot,{scope:n,value:r,disabled:o,textValue:h,children:u.jsx(Le.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...a,ref:S,onFocus:Re(a.onFocus,()=>y(!0)),onBlur:Re(a.onBlur,()=>y(!1)),onClick:Re(a.onClick,()=>{w.current!=="mouse"&&N()}),onPointerUp:Re(a.onPointerUp,()=>{w.current==="mouse"&&N()}),onPointerDown:Re(a.onPointerDown,_=>{w.current=_.pointerType}),onPointerMove:Re(a.onPointerMove,_=>{var k;w.current=_.pointerType,o?(k=d.onItemLeave)==null||k.call(d):w.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(a.onPointerLeave,_=>{var k;_.currentTarget===document.activeElement&&((k=d.onItemLeave)==null||k.call(d))}),onKeyDown:Re(a.onKeyDown,_=>{var P;((P=d.searchRef)==null?void 0:P.current)!==""&&_.key===" "||(l5.includes(_.key)&&N(),_.key===" "&&_.preventDefault())})})})})});gk.displayName=gd;var ua="SelectItemText",yk=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...s}=e,a=Wo(ua,n),c=Xo(ua,n),d=mk(ua,n),f=d5(ua,n),[h,m]=b.useState(null),g=Ue(t,N=>m(N),d.onItemTextChange,N=>{var _;return(_=c.itemTextRefCallback)==null?void 0:_.call(c,N,d.value,d.disabled)}),y=h==null?void 0:h.textContent,S=b.useMemo(()=>u.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=f;return Pt(()=>(v(S),()=>w(S)),[v,w,S]),u.jsxs(u.Fragment,{children:[u.jsx(Le.span,{id:d.textId,...s,ref:g}),d.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ys.createPortal(s.children,a.valueNode):null]})});yk.displayName=ua;var xk="SelectItemIndicator",vk=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return mk(xk,n).isSelected?u.jsx(Le.span,{"aria-hidden":!0,...r,ref:t}):null});vk.displayName=xk;var Lm="SelectScrollUpButton",wk=b.forwardRef((e,t)=>{const n=Xo(Lm,e.__scopeSelect),r=Kg(Lm,e.__scopeSelect),[o,s]=b.useState(!1),a=Ue(t,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollTop>0;s(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?u.jsx(Sk,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});wk.displayName=Lm;var zm="SelectScrollDownButton",bk=b.forwardRef((e,t)=>{const n=Xo(zm,e.__scopeSelect),r=Kg(zm,e.__scopeSelect),[o,s]=b.useState(!1),a=Ue(t,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<f;s(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?u.jsx(Sk,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});bk.displayName=zm;var Sk=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,s=Xo("SelectScrollButton",n),a=b.useRef(null),c=Jd(n),d=b.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return b.useEffect(()=>()=>d(),[d]),Pt(()=>{var h;const f=c().find(m=>m.ref.current===document.activeElement);(h=f==null?void 0:f.ref.current)==null||h.scrollIntoView({block:"nearest"})},[c]),u.jsx(Le.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Re(o.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Re(o.onPointerMove,()=>{var f;(f=s.onItemLeave)==null||f.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Re(o.onPointerLeave,()=>{d()})})}),C5="SelectSeparator",k5=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(Le.div,{"aria-hidden":!0,...r,ref:t})});k5.displayName=C5;var $m="SelectArrow",E5=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Zd(n),s=Wo($m,n),a=Xo($m,n);return s.open&&a.position==="popper"?u.jsx(Yg,{...o,...r,ref:t}):null});E5.displayName=$m;var _5="SelectBubbleInput",Nk=b.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=b.useRef(null),s=Ue(r,o),a=Yd(t);return b.useEffect(()=>{const c=o.current;if(!c)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==t&&h){const m=new Event("change",{bubbles:!0});h.call(c,t),c.dispatchEvent(m)}},[a,t]),u.jsx(Le.select,{...n,style:{...XC,...n.style},ref:s,defaultValue:t})});Nk.displayName=_5;function Ck(e){return e===""||e===void 0}function kk(e){const t=vn(e),n=b.useRef(""),r=b.useRef(0),o=b.useCallback(a=>{const c=n.current+a;t(c),function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(c)},[t]),s=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,s]}function Ek(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=j5(e,Math.max(s,0));o.length===1&&(a=a.filter(f=>f!==n));const d=a.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function j5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var P5=tk,A5=rk,I5=ik,T5=sk,R5=lk,M5=ak,O5=fk,D5=gk,L5=yk,z5=vk,$5=wk,F5=bk;function rn({...e}){return u.jsx(P5,{"data-slot":"select",...e})}function on({...e}){return u.jsx(I5,{"data-slot":"select-value",...e})}function sn({className:e,size:t="default",children:n,...r}){return u.jsxs(A5,{"data-slot":"select-trigger","data-size":t,className:ze("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,u.jsx(T5,{asChild:!0,children:u.jsx(Oo,{className:"size-4 opacity-50"})})]})}function ln({className:e,children:t,position:n="popper",...r}){return u.jsx(R5,{children:u.jsxs(M5,{"data-slot":"select-content",className:ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(B5,{}),u.jsx(O5,{className:ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),u.jsx(V5,{})]})})}function nt({className:e,children:t,...n}){return u.jsxs(D5,{"data-slot":"select-item",className:ze("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[u.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:u.jsx(z5,{children:u.jsx(Ib,{className:"size-4"})})}),u.jsx(L5,{children:t})]})}function B5({className:e,...t}){return u.jsx($5,{"data-slot":"select-scroll-up-button",className:ze("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(CP,{className:"size-4"})})}function V5({className:e,...t}){return u.jsx(F5,{"data-slot":"select-scroll-down-button",className:ze("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(Oo,{className:"size-4"})})}const g1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,y1=lS,ef=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return y1(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,a=Object.keys(o).map(f=>{const h=n==null?void 0:n[f],m=s==null?void 0:s[f];if(h===null)return null;const g=g1(h)||g1(m);return o[f][g]}),c=n&&Object.entries(n).reduce((f,h)=>{let[m,g]=h;return g===void 0||(f[m]=g),f},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,h)=>{let{class:m,className:g,...y}=h;return Object.entries(y).every(S=>{let[v,w]=S;return Array.isArray(w)?w.includes({...s,...c}[v]):{...s,...c}[v]===w})?[...f,m,g]:f},[]);return y1(e,a,d,n==null?void 0:n.class,n==null?void 0:n.className)},H5=ef("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all cursor-pointer disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function U5({className:e,variant:t,size:n,asChild:r=!1,...o},s){const a=r?oC:"button";return u.jsx(a,{ref:s,"data-slot":"button",className:ze(H5({variant:t,size:n,className:e})),...o})}const we=b.forwardRef(U5);we.displayName="Button";var tf="Dialog",[_k,d7]=Kt(tf),[W5,Sr]=_k(tf),jk=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:a=!0}=e,c=b.useRef(null),d=b.useRef(null),[f,h]=mn({prop:r,defaultProp:o??!1,onChange:s,caller:tf});return u.jsx(W5,{scope:t,triggerRef:c,contentRef:d,contentId:or(),titleId:or(),descriptionId:or(),open:f,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(m=>!m),[h]),modal:a,children:n})};jk.displayName=tf;var Pk="DialogTrigger",Ak=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Sr(Pk,n),s=Ue(t,o.triggerRef);return u.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Zg(o.open),...r,ref:s,onClick:Re(e.onClick,o.onOpenToggle)})});Ak.displayName=Pk;var Qg="DialogPortal",[X5,Ik]=_k(Qg,{forceMount:void 0}),Tk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=Sr(Qg,t);return u.jsx(X5,{scope:t,forceMount:n,children:b.Children.map(r,a=>u.jsx(Tn,{present:n||s.open,children:u.jsx(tc,{asChild:!0,container:o,children:a})}))})};Tk.displayName=Qg;var yd="DialogOverlay",Rk=b.forwardRef((e,t)=>{const n=Ik(yd,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Sr(yd,e.__scopeDialog);return s.modal?u.jsx(Tn,{present:r||s.open,children:u.jsx(Y5,{...o,ref:t})}):null});Rk.displayName=yd;var G5=ki("DialogOverlay.RemoveScroll"),Y5=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Sr(yd,n);return u.jsx(Kd,{as:G5,allowPinchZoom:!0,shards:[o.contentRef],children:u.jsx(Le.div,{"data-state":Zg(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Pi="DialogContent",Mk=b.forwardRef((e,t)=>{const n=Ik(Pi,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Sr(Pi,e.__scopeDialog);return u.jsx(Tn,{present:r||s.open,children:s.modal?u.jsx(q5,{...o,ref:t}):u.jsx(K5,{...o,ref:t})})});Mk.displayName=Pi;var q5=b.forwardRef((e,t)=>{const n=Sr(Pi,e.__scopeDialog),r=b.useRef(null),o=Ue(t,n.contentRef,r);return b.useEffect(()=>{const s=r.current;if(s)return qg(s)},[]),u.jsx(Ok,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Re(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&s.preventDefault()}),onFocusOutside:Re(e.onFocusOutside,s=>s.preventDefault())})}),K5=b.forwardRef((e,t)=>{const n=Sr(Pi,e.__scopeDialog),r=b.useRef(!1),o=b.useRef(!1);return u.jsx(Ok,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,c;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=s.target;((f=n.triggerRef.current)==null?void 0:f.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),Ok=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...a}=e,c=Sr(Pi,n),d=b.useRef(null),f=Ue(t,d);return Dg(),u.jsxs(u.Fragment,{children:[u.jsx(Vd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:u.jsx(Za,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Zg(c.open),...a,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(Q5,{titleId:c.titleId}),u.jsx(Z5,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Jg="DialogTitle",Dk=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Sr(Jg,n);return u.jsx(Le.h2,{id:o.titleId,...r,ref:t})});Dk.displayName=Jg;var Lk="DialogDescription",zk=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Sr(Lk,n);return u.jsx(Le.p,{id:o.descriptionId,...r,ref:t})});zk.displayName=Lk;var $k="DialogClose",Fk=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Sr($k,n);return u.jsx(Le.button,{type:"button",...r,ref:t,onClick:Re(e.onClick,()=>o.onOpenChange(!1))})});Fk.displayName=$k;function Zg(e){return e?"open":"closed"}var Bk="DialogTitleWarning",[f7,Vk]=N4(Bk,{contentName:Pi,titleName:Jg,docsSlug:"dialog"}),Q5=({titleId:e})=>{const t=Vk(Bk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},J5="DialogDescriptionWarning",Z5=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Vk(J5).contentName}}.`;return b.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},eF=jk,tF=Ak,nF=Tk,Hk=Rk,rF=Mk,oF=Dk,Uk=zk,iF=Fk,sF=Symbol.for("react.lazy"),xd=Ua[" use ".trim().toString()];function lF(e){return typeof e=="object"&&e!==null&&"then"in e}function Wk(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===sF&&"_payload"in e&&lF(e._payload)}function aF(e){const t=cF(e),n=b.forwardRef((r,o)=>{let{children:s,...a}=r;Wk(s)&&typeof xd=="function"&&(s=xd(s._payload));const c=b.Children.toArray(s),d=c.find(dF);if(d){const f=d.props.children,h=c.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return u.jsx(t,{...a,ref:o,children:b.isValidElement(f)?b.cloneElement(f,void 0,h):null})}return u.jsx(t,{...a,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function cF(e){const t=b.forwardRef((n,r)=>{let{children:o,...s}=n;if(Wk(o)&&typeof xd=="function"&&(o=xd(o._payload)),b.isValidElement(o)){const a=pF(o),c=fF(s,o.props);return o.type!==b.Fragment&&(c.ref=r?qs(r,a):a),b.cloneElement(o,c)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uF=Symbol("radix.slottable");function dF(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uF}function fF(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...c)=>{const d=s(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function pF(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var hF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mF=hF.reduce((e,t)=>{const n=aF(`Primitive.${t}`),r=b.forwardRef((o,s)=>{const{asChild:a,...c}=o,d=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),gF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yF="VisuallyHidden",Xk=b.forwardRef((e,t)=>u.jsx(mF.span,{...e,ref:t,style:{...gF,...e.style}}));Xk.displayName=yF;var xF=Xk;function an({...e}){return u.jsx(eF,{"data-slot":"dialog",...e})}function Xh({...e}){return u.jsx(tF,{"data-slot":"dialog-trigger",...e})}function vF({...e}){return u.jsx(nF,{"data-slot":"dialog-portal",...e})}const Gk=b.forwardRef(({className:e,...t},n)=>u.jsx(Hk,{ref:n,"data-slot":"dialog-overlay",className:ze("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));Gk.displayName=Hk.displayName;function cn({className:e,children:t,...n}){return u.jsxs(vF,{"data-slot":"dialog-portal",children:[u.jsx(Gk,{}),u.jsxs(rF,{"data-slot":"dialog-content",className:ze("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[u.jsx(xF,{asChild:!0,children:u.jsx(Uk,{children:"Dialog content"})}),t,u.jsxs(iF,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(EA,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function un({className:e,...t}){return u.jsx("div",{"data-slot":"dialog-header",className:ze("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Br({className:e,...t}){return u.jsx("div",{"data-slot":"dialog-footer",className:ze("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function dn({className:e,...t}){return u.jsx(oF,{"data-slot":"dialog-title",className:ze("text-lg leading-none font-semibold",e),...t})}function Ri({className:e,...t}){return u.jsx(Uk,{"data-slot":"dialog-description",className:ze("text-muted-foreground text-sm",e),...t})}function wF({className:e,...t}){return u.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:u.jsx("table",{"data-slot":"table",className:ze("w-full caption-bottom text-sm",e),...t})})}function bF({className:e,...t}){return u.jsx("thead",{"data-slot":"table-header",className:ze("[&_tr]:border-b",e),...t})}function SF({className:e,...t}){return u.jsx("tbody",{"data-slot":"table-body",className:ze("[&_tr:last-child]:border-0",e),...t})}function Gh({className:e,...t}){return u.jsx("tr",{"data-slot":"table-row",className:ze("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function x1({className:e,...t}){return u.jsx("th",{"data-slot":"table-head",className:ze("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Yh({className:e,...t}){return u.jsx("td",{"data-slot":"table-cell",className:ze("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}const NF=ef("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function CF({className:e,variant:t,...n}){return u.jsx("div",{"data-slot":"alert",role:"alert",className:ze(NF({variant:t}),e),...n})}function kF({className:e,...t}){return u.jsx("div",{"data-slot":"alert-description",className:ze("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function EF({open:e,onOpenChange:t,colorSetName:n,attributes:r,initialData:o,onSave:s}){const[a,c]=b.useState("visual"),[d,f]=b.useState([]),[h,m]=b.useState([]),[g,y]=b.useState(""),[S,v]=b.useState(null),w=r.length>0;b.useEffect(()=>{o&&Array.isArray(o)?(w?f(o):m(o),y(JSON.stringify(o,null,2))):(f([]),m([]),y("[]"))},[o,w]),b.useEffect(()=>{a==="visual"&&y(JSON.stringify(w?d:h,null,2))},[d,h,a,w]);const N=()=>{m([...h,""])},_=j=>{const O=[...h];O.splice(j,1),m(O)},k=(j,O)=>{const z=[...h];try{O.startsWith("[")&&O.endsWith("]")||O.startsWith("{")&&O.endsWith("}")?z[j]=JSON.parse(O):!isNaN(Number(O))&&O.trim()!==""?z[j]=Number(O):O.toLowerCase()==="true"?z[j]=!0:O.toLowerCase()==="false"?z[j]=!1:z[j]=O}catch{z[j]=O}m(z)},P=j=>typeof j=="object"?JSON.stringify(j):String(j),I=()=>{const j={};r.forEach(O=>{O.type==="INT"||O.type==="REAL"?j[O.name]=0:O.type==="BOOL"?j[O.name]=!1:j[O.name]=""}),f([...d,j])},A=j=>{const O=[...d];O.splice(j,1),f(O)},T=(j,O,z)=>{const H=[...d];H[j]={...H[j],[O]:z},f(H)},$=(j,O)=>{try{if(O==="INT"){const z=Number.parseInt(j,10);return isNaN(z)?0:z}else if(O==="REAL"){const z=Number.parseFloat(j);return isNaN(z)?0:z}else if(O==="BOOL")return j.toLowerCase()==="true";return j}catch{return O==="INT"||O==="REAL"?0:O==="BOOL"?!1:j}},G=j=>{y(j),v(null);try{const O=JSON.parse(j);Array.isArray(O)||v("JSON must be an array")}catch{v("Invalid JSON format")}},X=j=>{if(j==="json"&&a==="visual")y(JSON.stringify(w?d:h,null,2));else if(j==="visual"&&a==="json")try{const O=JSON.parse(g);Array.isArray(O)?(w?f(O):m(O),v(null)):v("JSON must be an array")}catch{v("Invalid JSON format")}c(j)},Y=()=>{if(a==="json")try{const j=JSON.parse(g);Array.isArray(j)?(s(j),t(!1)):v("JSON must be an array")}catch{v("Invalid JSON format")}else s(w?d:h),t(!1)},U=j=>{var H;const O=(H=j.target.files)==null?void 0:H[0];if(!O)return;const z=new FileReader;z.onload=L=>{var M;const W=(M=L.target)==null?void 0:M.result;try{const F=JSON.parse(W);Array.isArray(F)?(w?f(F):m(F),y(JSON.stringify(F,null,2)),c("visual"),v(null)):v("Uploaded file must contain an array")}catch{try{const F=W.split(`
`),q=F[0].split(",").map(J=>J.trim()),R=[];for(let J=1;J<F.length;J++){if(!F[J].trim())continue;const ne=F[J].split(",").map(B=>B.trim()),te={};q.forEach((B,Q)=>{const oe=r.find(ie=>ie.name===B);oe&&Q<ne.length&&(te[B]=$(ne[Q],oe.type))}),R.push(te)}f(R),y(JSON.stringify(R,null,2)),c("visual"),v(null)}catch{v("Failed to parse file as JSON or CSV")}}},z.readAsText(O)},V=()=>{const O=`data:text/csv;charset=utf-8,${r.map(L=>L.name).join(",")}
`,z=encodeURI(O),H=document.createElement("a");H.setAttribute("href",z),H.setAttribute("download",`${n}_template.csv`),document.body.appendChild(H),H.click(),document.body.removeChild(H)};return u.jsx(an,{open:e,onOpenChange:t,children:u.jsxs(cn,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[u.jsx(un,{children:u.jsxs(dn,{children:["Edit Initial Marking for ",n]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"space-x-2",children:[u.jsxs(we,{variant:"outline",size:"sm",onClick:w?I:N,children:[u.jsx(cm,{className:"h-4 w-4 mr-2"}),w?"Add Record":"Add Entry"]}),w&&u.jsxs(we,{variant:"outline",size:"sm",onClick:V,children:[u.jsx(RP,{className:"h-4 w-4 mr-2"}),"CSV Template"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Xe,{type:"file",id:"file-upload",className:"hidden",accept:".json,.csv",onChange:U}),u.jsx(ke,{htmlFor:"file-upload",className:"cursor-pointer",children:u.jsx(we,{variant:"outline",size:"sm",asChild:!0,children:u.jsxs("span",{children:[u.jsx(Db,{className:"h-4 w-4 mr-2"}),"Import"]})})})]})]}),S&&u.jsx(CF,{variant:"destructive",children:u.jsx(kF,{children:S})}),u.jsxs(Ii,{value:a,onValueChange:X,children:[u.jsxs(Ti,{className:"grid w-full grid-cols-2",children:[u.jsx(Yn,{value:"visual",children:"Visual Editor"}),u.jsx(Yn,{value:"json",children:"JSON Editor"})]}),u.jsx(Dr,{value:"visual",className:"space-y-4",children:w?u.jsxs(wF,{children:[u.jsx(bF,{children:u.jsxs(Gh,{children:[r.map(j=>u.jsx(x1,{children:j.name},j.name)),u.jsx(x1,{className:"w-[80px]",children:"Actions"})]})}),u.jsx(SF,{children:d.length===0?u.jsx(Gh,{children:u.jsx(Yh,{colSpan:r.length+1,className:"text-center",children:'No records. Click "Add Record" to create one.'})}):d.map((j,O)=>u.jsxs(Gh,{children:[r.map(z=>{var H;return u.jsx(Yh,{children:u.jsx(Xe,{value:((H=j[z.name])==null?void 0:H.toString())??"",onChange:L=>T(O,z.name,$(L.target.value,z.type))})},`${O}-${z.name}`)}),u.jsx(Yh,{children:u.jsx(we,{variant:"ghost",size:"icon",onClick:()=>A(O),className:"h-8 w-8",children:u.jsx(hr,{className:"h-4 w-4"})})})]},O))})]}):u.jsx("div",{className:"space-y-2",children:h.length===0?u.jsx("div",{className:"text-center text-muted-foreground py-4",children:'No entries. Click "Add Entry" to create one.'}):h.map((j,O)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-muted-foreground w-8 text-right",children:[O+1,"."]}),u.jsx(Xe,{className:"flex-1 font-mono",value:P(j),onChange:z=>k(O,z.target.value),placeholder:'e.g., [1, "Modellin"] or 42 or "text"'}),u.jsx(we,{variant:"ghost",size:"icon",onClick:()=>_(O),className:"h-8 w-8",children:u.jsx(hr,{className:"h-4 w-4"})})]},O))})}),u.jsx(Dr,{value:"json",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"json-editor",children:"JSON Editor"}),u.jsx("textarea",{id:"json-editor",className:"w-full h-[300px] font-mono text-sm p-2 border rounded-md",value:g,onChange:j=>G(j.target.value)})]})})]})]}),u.jsxs(Br,{children:[u.jsx(we,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(we,{onClick:Y,children:"Save"})]})]})})}function _F(e,t,n,r,o){return e+t*1e3+n*60*1e3+r*60*60*1e3+o*24*60*60*1e3}function v1(e){let t=e;const n=Math.floor(t/(24*60*60*1e3));t%=24*60*60*1e3;const r=Math.floor(t/(60*60*1e3));t%=60*60*1e3;const o=Math.floor(t/(60*1e3));t%=60*1e3;const s=Math.floor(t/1e3);return{ms:t%1e3,s,m:o,h:r,d:n}}function w1(e,t){return new Date(t.getTime()+e).toISOString().slice(0,16)}function jF(e,t){return new Date(e).getTime()-t.getTime()}function PF({token:e,index:t,colorSetType:n,epoch:r,onChange:o,onRemove:s}){const[a,c]=b.useState("relative"),d=v1(e.timestamp),[f,h]=b.useState(d),[m,g]=b.useState(r?w1(e.timestamp,r):"");b.useEffect(()=>{const N=v1(e.timestamp);h(N),r&&g(w1(e.timestamp,r))},[e.timestamp,r]);const y=N=>{o(t,{...e,value:N})},S=(N,_)=>{const k={...f,[N]:_};h(k);const P=_F(k.ms,k.s,k.m,k.h,k.d);o(t,{...e,timestamp:P})},v=N=>{if(g(N),r){const _=jF(N,r);o(t,{...e,timestamp:_})}},w=()=>{switch(n){case"int":return u.jsx(Xe,{type:"number",value:e.value,onChange:N=>y(parseInt(N.target.value,10)||0),className:"w-24"});case"bool":return u.jsxs("select",{value:String(e.value),onChange:N=>y(N.target.value==="true"),className:"h-9 rounded-md border border-input bg-background px-3 py-1 text-sm",children:[u.jsx("option",{value:"true",children:"true"}),u.jsx("option",{value:"false",children:"false"})]});case"string":return u.jsx(Xe,{type:"text",value:e.value,onChange:N=>y(N.target.value),className:"w-32"});case"unit":return u.jsx("span",{className:"px-2 py-1 text-muted-foreground",children:"()"});default:return u.jsx(Xe,{type:"text",value:JSON.stringify(e.value),onChange:N=>{try{y(JSON.parse(N.target.value))}catch{y(N.target.value)}},className:"w-32"})}};return u.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md bg-muted/30",children:[u.jsxs("span",{className:"text-sm text-muted-foreground w-6",children:["#",t+1]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ke,{className:"text-xs",children:"Value:"}),w()]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx(ke,{className:"text-xs",children:"Time:"}),u.jsxs(Ii,{value:a,onValueChange:N=>c(N),className:"flex-1",children:[u.jsxs(Ti,{className:"h-7",children:[u.jsx(Yn,{value:"relative",className:"text-xs px-2 py-1",children:"Relative"}),u.jsx(Yn,{value:"absolute",className:"text-xs px-2 py-1",disabled:!r,children:"Absolute"})]}),u.jsx(Dr,{value:"relative",className:"mt-1",children:u.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(Xe,{type:"number",min:"0",value:f.d,onChange:N=>S("d",parseInt(N.target.value,10)||0),className:"w-12 h-7 text-xs"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"d"})]}),u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(Xe,{type:"number",min:"0",max:"23",value:f.h,onChange:N=>S("h",parseInt(N.target.value,10)||0),className:"w-12 h-7 text-xs"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"h"})]}),u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(Xe,{type:"number",min:"0",max:"59",value:f.m,onChange:N=>S("m",parseInt(N.target.value,10)||0),className:"w-12 h-7 text-xs"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"m"})]}),u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(Xe,{type:"number",min:"0",max:"59",value:f.s,onChange:N=>S("s",parseInt(N.target.value,10)||0),className:"w-12 h-7 text-xs"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"s"})]}),u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(Xe,{type:"number",min:"0",max:"999",value:f.ms,onChange:N=>S("ms",parseInt(N.target.value,10)||0),className:"w-14 h-7 text-xs"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})]})}),u.jsx(Dr,{value:"absolute",className:"mt-1",children:r?u.jsx(Xe,{type:"datetime-local",value:m,onChange:N=>v(N.target.value),className:"h-7 text-xs"}):u.jsx("p",{className:"text-xs text-muted-foreground",children:"Set simulation epoch in Settings to use absolute time"})})]})]}),u.jsx(we,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>s(t),children:u.jsx(hr,{className:"h-3 w-3"})})]})}function AF({open:e,onOpenChange:t,colorSetName:n,colorSetType:r,initialData:o,onSave:s}){const[a,c]=b.useState(o),d=ge(S=>S.simulationEpoch),f=d?new Date(d):null;b.useEffect(()=>{c(o)},[o,e]);const h=()=>{const S=r==="int"?0:r==="bool"?!0:r==="string"?"":r==="unit"?null:"";c([...a,{value:S,timestamp:0}])},m=(S,v)=>{const w=[...a];w[S]=v,c(w)},g=S=>{c(a.filter((v,w)=>w!==S))},y=()=>{s(a),t(!1)};return u.jsx(an,{open:e,onOpenChange:t,children:u.jsxs(cn,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[u.jsx(un,{children:u.jsxs(dn,{children:["Edit Timed Marking for ",n]})}),u.jsxs("div",{className:"space-y-2 py-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.length," token",a.length!==1?"s":"",f&&u.jsxs("span",{className:"ml-2",children:["(Epoch: ",f.toLocaleString(),")"]})]}),u.jsxs(we,{variant:"outline",size:"sm",onClick:h,children:[u.jsx(Rb,{className:"h-4 w-4 mr-1"}),"Add Token"]})]}),a.length===0?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No tokens. Click "Add Token" to add a timed token.'}):u.jsx("div",{className:"space-y-2",children:a.map((S,v)=>u.jsx(PF,{token:S,index:v,colorSetType:r,epoch:f,onChange:m,onRemove:g},v))})]}),u.jsxs(Br,{children:[u.jsx(we,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(we,{onClick:y,children:"Save"})]})]})})}const IF=({colorSets:e})=>{var T,$,G,X,Y,U;const[t,n]=b.useState(!1),[r,o]=b.useState(!1),[s,a]=b.useState(null),c=ge(V=>V.activePetriNetId),d=ge(V=>{const j=V.activePetriNetId?V.petriNetsById[V.activePetriNetId]:null;return j==null?void 0:j.selectedElement}),f=ge(V=>V.updateNodeData);if(!d||d.type!=="node"||!d.element)return u.jsx("div",{children:"No node selected"});const{id:h,data:m}=d.element;if(!("colorSet"in m))return u.jsx("div",{children:"Invalid node type"});const g=e.find(V=>V.name===m.colorSet),y=(g==null?void 0:g.type)==="basic"&&((T=g==null?void 0:g.definition)==null?void 0:T.includes("= unit;")),S=(g==null?void 0:g.timed)===!0,v=()=>{var j;if(!g)return"other";const V=((j=g.definition)==null?void 0:j.toLowerCase())||"";return V.includes("= unit")?"unit":V.includes("= int")?"int":V.includes("= bool")?"bool":V.includes("= string")?"string":"other"},w=V=>{if(!V)return[];try{const j=JSON.parse(V);if(Array.isArray(j))return j.map(O=>typeof O=="object"&&O!==null&&"value"in O&&"timestamp"in O?{value:O.value,timestamp:Number(O.timestamp)||0}:{value:O,timestamp:0})}catch{try{const j=JSON.parse(V);if(Array.isArray(j))return j.map(O=>({value:O,timestamp:0}))}catch{}}return[]},N=V=>V.length===0?"":JSON.stringify(V.map(j=>({value:j.value,timestamp:j.timestamp}))),_=V=>{if(!V)return 0;const j=V.trim();if(/^\d+$/.test(j))return parseInt(j,10);if(j.startsWith("["))try{const O=j.match(/\(\)/g);return O?O.length:0}catch{return 0}return 0},k=V=>V<=0?"":`[${Array(V).fill("()").join(", ")}]`,P=V=>{const j=e.find(O=>O.name===V);if(!j||j.type!=="record")return[];if(V==="Product")return[{name:"id",type:"INT"},{name:"name",type:"STRING"},{name:"price",type:"REAL"}];if(V==="Order")return[{name:"orderId",type:"STRING"},{name:"status",type:"STRING"},{name:"amount",type:"INT"}];try{const O=/colset\s+(\w+)\s*=\s*record\s+([^;]+);/i,z=/(\w+)\s*:\s*(\w+)/g,H=j.definition.match(O);if(!H)return[];const L=H[2],W=[];let M;for(;(M=z.exec(L))!==null;)W.push({name:M[1],type:M[2].toUpperCase()});return W}catch(O){return console.error("Failed to parse record definition:",O),[]}},I=V=>{if(!V)return[];try{if(V.trim().startsWith("["))return JSON.parse(V);const j=/(\d+)`\{([^}]+)\}/g,O=[];let z;for(;(z=j.exec(V))!==null;){const H=Number.parseInt(z[1],10),L=z[2],W=/(\w+)=([^,]+)(?:,|$)/g,M={};let F;for(;(F=W.exec(L))!==null;){let q=F[2].trim();const R=F[1];isNaN(Number(q))?q.toLowerCase()==="true"||q.toLowerCase()==="false"?M[R]=q.toLowerCase()==="true":((q.startsWith('"')&&q.endsWith('"')||q.startsWith("'")&&q.endsWith("'"))&&(q=q.substring(1,q.length-1)),M[R]=q):q.includes(".")?M[R]=Number.parseFloat(q):M[R]=Number.parseInt(q,10)}for(let q=0;q<H;q++)O.push({...M})}return O}catch(j){return console.error("Failed to parse initial marking:",j),[]}},A=V=>{if(!V||V.length===0)return"";try{return JSON.stringify(V)}catch(j){return console.error("Failed to format record marking:",j),""}};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(ke,{htmlFor:"label",children:"Label"}),u.jsx(Xe,{id:"label",value:m.label||"",onChange:V=>{c&&f(c,h,{...m,label:V.target.value,isArcMode:m.isArcMode||!1,type:m.type||"node",colorSet:m.colorSet||"INT",initialMarking:m.initialMarking||""})}})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(ke,{htmlFor:"colorSet",children:"Color Set"}),u.jsxs(rn,{value:m.colorSet||"INT",onValueChange:V=>{c&&f(c,h,{...m,label:m.label||"",colorSet:V,isArcMode:m.isArcMode||!1,type:m.type||"node",initialMarking:m.initialMarking||""})},children:[u.jsx(sn,{children:u.jsx(on,{placeholder:"Select color set"})}),u.jsx(ln,{children:e.map(V=>u.jsx(nt,{value:V.name,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:V.color||"#3b82f6"}}),V.name]})},V.id))})]})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(ke,{htmlFor:"initialMarking",children:"Initial Marking"}),y&&!S?u.jsx(Xe,{id:"initialMarking",type:"number",min:"0",value:_(m.initialMarking||""),onChange:V=>{if(c){const j=parseInt(V.target.value,10)||0;f(c,h,{...m,label:m.label||"",initialMarking:k(j),isArcMode:m.isArcMode||!1,type:m.type||"defaultType",colorSet:m.colorSet||"defaultColorSet"})}}}):S?u.jsx("div",{className:"flex flex-col gap-2",children:u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsxs("div",{className:"flex-1 text-sm text-muted-foreground border rounded-md px-3 py-2 bg-muted/30",children:[w(m.initialMarking||"").length," timed token(s)"]}),u.jsx(we,{variant:"outline",onClick:()=>{a({id:h,data:{...m}}),o(!0)},children:"Edit"})]})}):u.jsx("div",{className:"flex flex-col gap-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Xe,{id:"initialMarking",value:m.initialMarking||"",placeholder:"e.g., [1, 2, 3]",onChange:V=>{c&&f(c,h,{...m,label:m.label||"",initialMarking:V.target.value,isArcMode:m.isArcMode||!1,type:m.type||"defaultType",colorSet:m.colorSet||"defaultColorSet"})}}),u.jsx(we,{variant:"outline",onClick:()=>{a({id:h,data:{...m}}),n(!0)},children:"Edit"})]})})]}),s&&u.jsxs(u.Fragment,{children:[u.jsx(EF,{open:t,onOpenChange:n,colorSetName:(($=s.data)==null?void 0:$.colorSet)||"",attributes:P(((G=s.data)==null?void 0:G.colorSet)||""),initialData:I(((X=s.data)==null?void 0:X.initialMarking)||""),onSave:V=>{const j=A(V);c&&s&&f(c,s.id,{label:s.data.label||"",isArcMode:s.data.isArcMode||!1,type:s.data.type||"place",colorSet:s.data.colorSet||"INT",initialMarking:j,marking:V})}}),u.jsx(AF,{open:r,onOpenChange:o,colorSetName:((Y=s.data)==null?void 0:Y.colorSet)||"",colorSetType:v(),initialData:w(((U=s.data)==null?void 0:U.initialMarking)||""),onSave:V=>{const j=N(V);c&&s&&f(c,s.id,{label:s.data.label||"",isArcMode:s.data.isArcMode||!1,type:s.data.type||"place",colorSet:s.data.colorSet||"INT",initialMarking:j,marking:V})}})]})]})},yr=b.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:ze("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));yr.displayName="Textarea";function TF({value:e,onChange:t}){const[n,r]=b.useState(""),[o,s]=b.useState(""),[a,c]=b.useState(""),[d,f]=b.useState(e||"");b.useEffect(()=>{if(!e){r(""),s(""),c(""),f(`input ();
output ();
action
();`);return}f(e);try{const w=e.match(/input\s*$$(.*?)$$;/s),N=e.match(/output\s*$$(.*?)$$;/s),_=e.match(/action\s*(.*?)(?:$$$$;|$$$$$)/s);r(w?w[1]:""),s(N?N[1]:""),c(_?_[1].trim():"")}catch(w){console.error("Error parsing code segment:",w)}},[e]);const h=()=>{const w=`input (${n});
output (${o});
action
${a}();`;f(w),t(w)},m=w=>{r(w.target.value)},g=w=>{s(w.target.value)},y=w=>{c(w.target.value)},S=w=>{f(w.target.value),t(w.target.value)},v=()=>{h()};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs(Ii,{defaultValue:"structured",className:"w-full",children:[u.jsxs(Ti,{className:"grid w-full grid-cols-2",children:[u.jsx(Yn,{value:"structured",children:"Structured Editor"}),u.jsx(Yn,{value:"raw",children:"Raw Code"})]}),u.jsxs(Dr,{value:"structured",className:"space-y-4 pt-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"input-pattern",children:"Input Pattern"}),u.jsx(yr,{id:"input-pattern",placeholder:"n, b",className:"font-mono h-[60px]",value:n,onChange:m,onBlur:v}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"List the CPN variables that can be used in the code action, separated by commas."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"output-pattern",children:"Output Pattern"}),u.jsx(yr,{id:"output-pattern",placeholder:"result",className:"font-mono h-[60px]",value:o,onChange:g,onBlur:v}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"List the CPN variables to be changed as a result of the execution, separated by commas."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"action-code",children:"Action Code"}),u.jsx(yr,{id:"action-code",placeholder:"let val result = n + 1 in result end",className:"font-mono h-[120px]",value:a,onChange:y,onBlur:v}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"ML code to execute when the transition fires. Can use variables from input pattern and must return a value matching the output pattern."})]})]}),u.jsx(Dr,{value:"raw",className:"pt-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"raw-code",children:"Code Segment"}),u.jsx(yr,{id:"raw-code",placeholder:"input (n, b);\\noutput (result);\\naction\\nlet val result = n + 1 in result end();",className:"font-mono h-[240px]",value:d,onChange:S})]})})]}),u.jsx("div",{className:"pt-2",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:"Code segments may use CPN variables and can bind variables on output arcs. The action section is mandatory, while input and output are optional."})})]})}function RF(e){let t=Math.abs(e);const n=Math.floor(t/(24*60*60*1e3));t%=24*60*60*1e3;const r=Math.floor(t/(60*60*1e3));t%=60*60*1e3;const o=Math.floor(t/(60*1e3));t%=60*1e3;const s=Math.floor(t/1e3);return{ms:t%1e3,s,m:o,h:r,d:n}}function ql(e){const t=[];return e.d>0&&t.push(`delay_days(${e.d})`),e.h>0&&t.push(`delay_hours(${e.h})`),e.m>0&&t.push(`delay_min(${e.m})`),e.s>0&&t.push(`delay_sec(${e.s})`),e.ms>0&&t.push(`delay_ms(${e.ms})`),t.length>0?t.join(" + "):""}function MF(e){if(!e||e.trim()==="")return{ms:0,s:0,m:0,h:0,d:0};const t=/delay_(days|hours|min|sec|ms)\s*\(\s*(\d+)\s*\)/g;let n=0,r=!1,o;if(e.replace(t,"").replace(/\+/g,"").trim()!=="")return null;for(t.lastIndex=0;(o=t.exec(e))!==null;){r=!0;const a=o[1],c=parseInt(o[2],10);switch(a){case"days":n+=c*24*60*60*1e3;break;case"hours":n+=c*60*60*1e3;break;case"min":n+=c*60*1e3;break;case"sec":n+=c*1e3;break;case"ms":n+=c;break}}return!r&&e.trim()!==""?null:RF(n)}const OF=({priorities:e})=>{const t=ge(N=>N.activePetriNetId),n=ge(N=>{const _=N.activePetriNetId?N.petriNetsById[N.activePetriNetId]:null;return _==null?void 0:_.selectedElement}),r=ge(N=>N.updateNodeData),[o,s]=b.useState("relative"),[a,c]=b.useState({ms:0,s:0,m:0,h:0,d:0}),[d,f]=b.useState(""),[h,m]=b.useState(null),g=n&&n.type==="node"&&n.element,y=g?n.element.id:null,S=g?n.element.data:null;if(b.useEffect(()=>{if(y&&y!==h&&S){m(y);const N=S.time||"",_=MF(N);_!==null?(s("relative"),c(_),f(N)):(s("expression"),f(N),c({ms:0,s:0,m:0,h:0,d:0}))}},[y,h,S]),!g||!S)return u.jsx("div",{children:"No node selected"});const v=y,w=S;return"guard"in w?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(ke,{htmlFor:"label",children:"Label"}),u.jsx(Xe,{id:"label",value:w.label??"",onChange:N=>{t&&r(t,v,{...w,label:N.target.value,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet||"defaultColorSet",initialMarking:w.initialMarking||"defaultMarking"})}})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(ke,{htmlFor:"guard",children:"Guard"}),u.jsx(Xe,{id:"guard",value:w.guard||"",onChange:N=>{t&&r(t,v,{...w,label:w.label||"",guard:N.target.value,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet||"defaultColorSet",initialMarking:w.initialMarking||"defaultMarking"})}})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(ke,{children:"Time"}),u.jsxs(Ii,{value:o,onValueChange:N=>s(N),className:"w-full",children:[u.jsxs(Ti,{className:"grid w-full grid-cols-2",children:[u.jsx(Yn,{value:"relative",children:"Relative"}),u.jsx(Yn,{value:"expression",children:"Expression"})]}),u.jsx(Dr,{value:"relative",className:"mt-2",children:u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Xe,{type:"number",min:"0",value:a.d,onChange:N=>{const _={...a,d:parseInt(N.target.value,10)||0};c(_);const k=ql(_);f(k),t&&r(t,v,{...w,label:w.label||"",time:k,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"d"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Xe,{type:"number",min:"0",max:"23",value:a.h,onChange:N=>{const _={...a,h:parseInt(N.target.value,10)||0};c(_);const k=ql(_);f(k),t&&r(t,v,{...w,label:w.label||"",time:k,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"h"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Xe,{type:"number",min:"0",max:"59",value:a.m,onChange:N=>{const _={...a,m:parseInt(N.target.value,10)||0};c(_);const k=ql(_);f(k),t&&r(t,v,{...w,label:w.label||"",time:k,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"m"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Xe,{type:"number",min:"0",max:"59",value:a.s,onChange:N=>{const _={...a,s:parseInt(N.target.value,10)||0};c(_);const k=ql(_);f(k),t&&r(t,v,{...w,label:w.label||"",time:k,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"s"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Xe,{type:"number",min:"0",max:"999",value:a.ms,onChange:N=>{const _={...a,ms:parseInt(N.target.value,10)||0};c(_);const k=ql(_);f(k),t&&r(t,v,{...w,label:w.label||"",time:k,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"w-16 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})]})}),u.jsxs(Dr,{value:"expression",className:"mt-2",children:[u.jsx(yr,{placeholder:"Rhai expression, e.g.: delay_hours(2) + delay_min(30)",value:d,onChange:N=>{const _=N.target.value;f(_),t&&r(t,v,{...w,label:w.label||"",time:_,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"min-h-[80px] font-mono text-sm"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available: delay_ms(), delay_sec(), delay_min(), delay_hours(), delay_days()"})]})]})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(ke,{htmlFor:"priority",children:"Priority"}),u.jsxs(rn,{value:w.priority||"NONE",onValueChange:N=>{t&&r(t,v,{...w,label:w.label||"",priority:N,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,guard:w.guard||"",time:w.time||"",codeSegment:w.codeSegment||""})},children:[u.jsx(sn,{id:"priority",children:u.jsx(on,{placeholder:"Select priority"})}),u.jsxs(ln,{children:[u.jsx(nt,{value:"NONE",children:"None"}),e.map(N=>u.jsxs(nt,{value:N.name,children:[N.name," (",N.level,")"]},N.id))]})]})]}),u.jsx(Qa,{}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(ke,{htmlFor:"codeSegment",children:"Code Segment"}),u.jsx(TF,{value:w.codeSegment||"",onChange:N=>{t&&r(t,v,{...w,label:w.label||"",codeSegment:N,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,guard:w.guard||"",time:w.time||"",priority:w.priority||"NONE"})}})]})]}):u.jsx("div",{children:"Invalid node type"})},DF=()=>{const e=ge(s=>s.activePetriNetId),t=ge(s=>{const a=s.activePetriNetId?s.petriNetsById[s.activePetriNetId]:null;return a==null?void 0:a.selectedElement}),n=ge(s=>s.updateNodeData);if(!t||t.type!=="node"||!t.element)return u.jsx("div",{children:"No node selected"});const{id:r,data:o}=t.element;return u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(ke,{htmlFor:"label",children:"Annotation"}),u.jsx(yr,{id:"label",placeholder:"Annotation",className:"font-mono h-[100px]",value:o.label||"",onChange:s=>{e&&n(e,r,{...o,label:s.target.value,type:o.type||"auxText"})}})]})})},LF=()=>{const e=ge(k=>k.activePetriNetId),t=ge(k=>k.petriNetsById),n=ge(k=>{const P=k.activePetriNetId?k.petriNetsById[k.activePetriNetId]:null;return P==null?void 0:P.selectedElement}),r=ge(k=>k.updateEdgeLabel),o=ge(k=>k.updateEdgeData),s=ge(k=>k.swapEdgeDirection);if(!n||n.type!=="edge")return null;const{id:a,label:c,source:d,target:f,data:h}=n.element,m=(h==null?void 0:h.isBidirectional)??!1,g=k=>{var A;if(!e)return k;const P=t[e];if(!P)return k;const I=P.nodes.find(T=>T.id===k);return((A=I==null?void 0:I.data)==null?void 0:A.label)||k},y=k=>{if(!e)return"unknown";const P=t[e];if(!P)return"unknown";const I=P.nodes.find(A=>A.id===k);return(I==null?void 0:I.type)||"unknown"},S=g(d),v=g(f),w=y(d),N=()=>m?"bidirectional":"source-to-target",_=k=>{if(!e)return;const P=N();k!==P&&(k==="bidirectional"?o(e,a,{isBidirectional:!0}):P==="bidirectional"?(o(e,a,{isBidirectional:!1}),k==="target-to-source"&&s(e,a)):s(e,a))};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(ke,{htmlFor:"direction",children:"Direction"}),u.jsxs(rn,{value:N(),onValueChange:k=>_(k),children:[u.jsx(sn,{id:"direction",children:u.jsx(on,{})}),u.jsxs(ln,{children:[u.jsxs(nt,{value:"source-to-target",children:[S,"  ",v]}),u.jsxs(nt,{value:"target-to-source",children:[v,"  ",S]}),u.jsx(nt,{value:"bidirectional",children:"Bidirectional"})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:w==="place"?"Place  Transition":"Transition  Place"})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(ke,{htmlFor:"inscription",children:"Inscription"}),u.jsx(yr,{id:"inscription",value:c??"",rows:3,className:"font-mono text-sm",onChange:k=>{e&&r(e,a,k.target.value)}})]})]})};function zF(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var ey="ScrollArea",[Yk,p7]=Kt(ey),[$F,ir]=Yk(ey),qk=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...a}=e,[c,d]=b.useState(null),[f,h]=b.useState(null),[m,g]=b.useState(null),[y,S]=b.useState(null),[v,w]=b.useState(null),[N,_]=b.useState(0),[k,P]=b.useState(0),[I,A]=b.useState(!1),[T,$]=b.useState(!1),G=Ue(t,Y=>d(Y)),X=Uo(o);return u.jsx($F,{scope:n,type:r,dir:X,scrollHideDelay:s,scrollArea:c,viewport:f,onViewportChange:h,content:m,onContentChange:g,scrollbarX:y,onScrollbarXChange:S,scrollbarXEnabled:I,onScrollbarXEnabledChange:A,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:T,onScrollbarYEnabledChange:$,onCornerWidthChange:_,onCornerHeightChange:P,children:u.jsx(Le.div,{dir:X,...a,ref:G,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":k+"px",...e.style}})})});qk.displayName=ey;var Kk="ScrollAreaViewport",Qk=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...s}=e,a=ir(Kk,n),c=b.useRef(null),d=Ue(t,c,a.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),u.jsx(Le.div,{"data-radix-scroll-area-viewport":"",...s,ref:d,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Qk.displayName=Kk;var Vr="ScrollAreaScrollbar",Jk=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ir(Vr,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=o,c=e.orientation==="horizontal";return b.useEffect(()=>(c?s(!0):a(!0),()=>{c?s(!1):a(!1)}),[c,s,a]),o.type==="hover"?u.jsx(FF,{...r,ref:t,forceMount:n}):o.type==="scroll"?u.jsx(BF,{...r,ref:t,forceMount:n}):o.type==="auto"?u.jsx(Zk,{...r,ref:t,forceMount:n}):o.type==="always"?u.jsx(ty,{...r,ref:t}):null});Jk.displayName=Vr;var FF=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ir(Vr,e.__scopeScrollArea),[s,a]=b.useState(!1);return b.useEffect(()=>{const c=o.scrollArea;let d=0;if(c){const f=()=>{window.clearTimeout(d),a(!0)},h=()=>{d=window.setTimeout(()=>a(!1),o.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",h)}}},[o.scrollArea,o.scrollHideDelay]),u.jsx(Tn,{present:n||s,children:u.jsx(Zk,{"data-state":s?"visible":"hidden",...r,ref:t})})}),BF=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ir(Vr,e.__scopeScrollArea),s=e.orientation==="horizontal",a=rf(()=>d("SCROLL_END"),100),[c,d]=zF("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,o.scrollHideDelay,d]),b.useEffect(()=>{const f=o.viewport,h=s?"scrollLeft":"scrollTop";if(f){let m=f[h];const g=()=>{const y=f[h];m!==y&&(d("SCROLL"),a()),m=y};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[o.viewport,s,d,a]),u.jsx(Tn,{present:n||c!=="hidden",children:u.jsx(ty,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Re(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Re(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Zk=b.forwardRef((e,t)=>{const n=ir(Vr,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,a]=b.useState(!1),c=e.orientation==="horizontal",d=rf(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;a(c?f:h)}},10);return Hs(n.viewport,d),Hs(n.content,d),u.jsx(Tn,{present:r||s,children:u.jsx(ty,{"data-state":s?"visible":"hidden",...o,ref:t})})}),ty=b.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=ir(Vr,e.__scopeScrollArea),s=b.useRef(null),a=b.useRef(0),[c,d]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=oE(c.viewport,c.content),h={...r,sizes:c,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:g=>s.current=g,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:g=>a.current=g};function m(g,y){return GF(g,a.current,c,y)}return n==="horizontal"?u.jsx(VF,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const g=o.viewport.scrollLeft,y=b1(g,c,o.dir);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollLeft=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollLeft=m(g,o.dir))}}):n==="vertical"?u.jsx(HF,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const g=o.viewport.scrollTop,y=b1(g,c);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollTop=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollTop=m(g))}}):null}),VF=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=ir(Vr,e.__scopeScrollArea),[a,c]=b.useState(),d=b.useRef(null),f=Ue(t,d,s.onScrollbarXChange);return b.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),u.jsx(tE,{"data-orientation":"horizontal",...o,ref:f,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":nf(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(s.viewport){const g=s.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),sE(g,m)&&h.preventDefault()}},onResize:()=>{d.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:wd(a.paddingLeft),paddingEnd:wd(a.paddingRight)}})}})}),HF=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=ir(Vr,e.__scopeScrollArea),[a,c]=b.useState(),d=b.useRef(null),f=Ue(t,d,s.onScrollbarYChange);return b.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),u.jsx(tE,{"data-orientation":"vertical",...o,ref:f,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":nf(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(s.viewport){const g=s.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),sE(g,m)&&h.preventDefault()}},onResize:()=>{d.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:wd(a.paddingTop),paddingEnd:wd(a.paddingBottom)}})}})}),[UF,eE]=Yk(Vr),tE=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:h,onResize:m,...g}=e,y=ir(Vr,n),[S,v]=b.useState(null),w=Ue(t,G=>v(G)),N=b.useRef(null),_=b.useRef(""),k=y.viewport,P=r.content-r.viewport,I=vn(h),A=vn(d),T=rf(m,10);function $(G){if(N.current){const X=G.clientX-N.current.left,Y=G.clientY-N.current.top;f({x:X,y:Y})}}return b.useEffect(()=>{const G=X=>{const Y=X.target;(S==null?void 0:S.contains(Y))&&I(X,P)};return document.addEventListener("wheel",G,{passive:!1}),()=>document.removeEventListener("wheel",G,{passive:!1})},[k,S,P,I]),b.useEffect(A,[r,A]),Hs(S,T),Hs(y.content,T),u.jsx(UF,{scope:n,scrollbar:S,hasThumb:o,onThumbChange:vn(s),onThumbPointerUp:vn(a),onThumbPositionChange:A,onThumbPointerDown:vn(c),children:u.jsx(Le.div,{...g,ref:w,style:{position:"absolute",...g.style},onPointerDown:Re(e.onPointerDown,G=>{G.button===0&&(G.target.setPointerCapture(G.pointerId),N.current=S.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),$(G))}),onPointerMove:Re(e.onPointerMove,$),onPointerUp:Re(e.onPointerUp,G=>{const X=G.target;X.hasPointerCapture(G.pointerId)&&X.releasePointerCapture(G.pointerId),document.body.style.webkitUserSelect=_.current,y.viewport&&(y.viewport.style.scrollBehavior=""),N.current=null})})})}),vd="ScrollAreaThumb",nE=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=eE(vd,e.__scopeScrollArea);return u.jsx(Tn,{present:n||o.hasThumb,children:u.jsx(WF,{ref:t,...r})})}),WF=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=ir(vd,n),a=eE(vd,n),{onThumbPositionChange:c}=a,d=Ue(t,m=>a.onThumbChange(m)),f=b.useRef(void 0),h=rf(()=>{f.current&&(f.current(),f.current=void 0)},100);return b.useEffect(()=>{const m=s.viewport;if(m){const g=()=>{if(h(),!f.current){const y=YF(m,c);f.current=y,c()}};return c(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[s.viewport,h,c]),u.jsx(Le.div,{"data-state":a.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Re(e.onPointerDownCapture,m=>{const y=m.target.getBoundingClientRect(),S=m.clientX-y.left,v=m.clientY-y.top;a.onThumbPointerDown({x:S,y:v})}),onPointerUp:Re(e.onPointerUp,a.onThumbPointerUp)})});nE.displayName=vd;var ny="ScrollAreaCorner",rE=b.forwardRef((e,t)=>{const n=ir(ny,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(XF,{...e,ref:t}):null});rE.displayName=ny;var XF=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=ir(ny,n),[s,a]=b.useState(0),[c,d]=b.useState(0),f=!!(s&&c);return Hs(o.scrollbarX,()=>{var m;const h=((m=o.scrollbarX)==null?void 0:m.offsetHeight)||0;o.onCornerHeightChange(h),d(h)}),Hs(o.scrollbarY,()=>{var m;const h=((m=o.scrollbarY)==null?void 0:m.offsetWidth)||0;o.onCornerWidthChange(h),a(h)}),f?u.jsx(Le.div,{...r,ref:t,style:{width:s,height:c,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function wd(e){return e?parseInt(e,10):0}function oE(e,t){const n=e/t;return isNaN(n)?0:n}function nf(e){const t=oE(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function GF(e,t,n,r="ltr"){const o=nf(n),s=o/2,a=t||s,c=o-a,d=n.scrollbar.paddingStart+a,f=n.scrollbar.size-n.scrollbar.paddingEnd-c,h=n.content-n.viewport,m=r==="ltr"?[0,h]:[h*-1,0];return iE([d,f],m)(e)}function b1(e,t,n="ltr"){const r=nf(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,a=t.content-t.viewport,c=s-r,d=n==="ltr"?[0,a]:[a*-1,0],f=Da(e,d);return iE([0,a],[0,c])(f)}function iE(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function sE(e,t){return e>0&&e<t}var YF=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},a=n.left!==s.left,c=n.top!==s.top;(a||c)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function rf(e,t){const n=vn(e),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Hs(e,t){const n=vn(t);Pt(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var qF=qk,KF=Qk,QF=rE;function of({className:e,children:t,...n}){return u.jsxs(qF,{"data-slot":"scroll-area",className:ze("relative",e),...n,children:[u.jsx(KF,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),u.jsx(JF,{}),u.jsx(QF,{})]})}function JF({className:e,orientation:t="vertical",...n}){return u.jsx(Jk,{"data-slot":"scroll-area-scrollbar",orientation:t,className:ze("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:u.jsx(nE,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const ZF=ef("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function eB({className:e,variant:t,asChild:n=!1,...r}){const o=n?oC:"span";return u.jsx(o,{"data-slot":"badge",className:ze(ZF({variant:t}),e),...r})}function tB({events:e,onClearLog:t,onExport:n,canExport:r,exportDisabledReason:o}){const[s,a]=b.useState(""),[c,d]=b.useState(new Set),f=ge(S=>S.simulationEpoch),h=f?new Date(f):null,m=S=>{const v=new Set(c);v.has(S)?v.delete(S):v.add(S),d(v)},g=e.filter(S=>S.transitionName.toLowerCase().includes(s.toLowerCase())||S.tokens.consumed.some(v=>v.placeName.toLowerCase().includes(s.toLowerCase()))||S.tokens.produced.some(v=>v.placeName.toLowerCase().includes(s.toLowerCase()))),y=S=>{if(h){const k=new Date(h.getTime()+S),P=k.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"}),I=k.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),A=k.getMilliseconds().toString().padStart(3,"0");return{date:P,time:`${I}.${A}`}}if(S===0)return{time:"0"};const v=S/1e3;if(v<60)return{time:`${v.toFixed(v%1===0?0:1)}s`};const w=v/60;if(w<60)return{time:`${w.toFixed(w%1===0?0:1)}m`};const N=w/60;if(N<24)return{time:`${N.toFixed(N%1===0?0:1)}h`};const _=N/24;return{time:`${_.toFixed(_%1===0?0:1)}d`}};return u.jsxs(Pg,{className:"w-full h-full flex flex-col overflow-hidden",children:[u.jsxs(Ag,{className:"pb-3 flex-shrink-0",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm font-semibold leading-none tracking-tight",children:"Event Log"}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(we,{variant:"outline",size:"icon",onClick:t,title:"Clear Log",children:u.jsx(NA,{className:"h-4 w-4"})}),n&&u.jsxs(we,{variant:"outline",onClick:n,disabled:!r,title:o||"Export as OCEL 2.0",className:"flex items-center gap-1 h-9 px-3",children:[u.jsx(IP,{className:"h-4 w-4"}),"Export OCEL"]})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx(cA,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),u.jsx(Xe,{placeholder:"Search events...",className:"pl-8",value:s,onChange:S=>a(S.target.value)})]})]}),u.jsx(Ig,{className:"flex-1 overflow-hidden min-h-0",children:u.jsx(of,{className:"h-full",children:g.length===0?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.length===0?"No events recorded yet":"No events match your search"}):u.jsx("div",{className:"space-y-2",children:g.map(S=>u.jsxs("div",{className:"border rounded-md p-3 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>m(S.id),children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(eB,{variant:"outline",children:S.step}),u.jsx("span",{className:"font-medium",children:S.transitionName})]}),u.jsxs("div",{className:"flex items-center space-x-1.5 text-muted-foreground",children:[u.jsx(lg,{className:"h-3 w-3 flex-shrink-0"}),(()=>{const v=y(S.time);return v.date?u.jsxs("div",{className:"text-right text-xs leading-tight",children:[u.jsx("div",{children:v.date}),u.jsx("div",{children:v.time})]}):u.jsx("span",{className:"text-sm",children:v.time})})()]})]}),c.has(S.id)&&u.jsxs("div",{className:"mt-2 pt-2 border-t text-sm space-y-3 overflow-hidden",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("h4",{className:"font-medium mb-1",children:"Consumed Tokens:"}),S.tokens.consumed.length===0?u.jsx("p",{className:"text-muted-foreground text-xs pl-2",children:"None"}):u.jsx("ul",{className:"space-y-1 pl-2 text-xs",children:S.tokens.consumed.map((v,w)=>u.jsxs("li",{className:"min-w-0",children:[u.jsxs("span",{className:"text-muted-foreground",children:[v.placeName,":"]}),u.jsx("span",{className:"font-mono bg-muted px-1 rounded ml-2 break-all whitespace-pre-wrap",children:v.tokens})]},`consumed-${w}`))})]}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("h4",{className:"font-medium mb-1",children:"Produced Tokens:"}),S.tokens.produced.length===0?u.jsx("p",{className:"text-muted-foreground text-xs pl-2",children:"None"}):u.jsx("ul",{className:"space-y-1 pl-2 text-xs",children:S.tokens.produced.map((v,w)=>u.jsxs("li",{className:"min-w-0",children:[u.jsxs("span",{className:"text-muted-foreground",children:[v.placeName,":"]}),u.jsx("span",{className:"font-mono bg-muted px-1 rounded ml-2 break-all whitespace-pre-wrap",children:v.tokens})]},`produced-${w}`))})]})]})]},S.id))})})})]})}var ry="Radio",[nB,lE]=Kt(ry),[rB,oB]=nB(ry),aE=b.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:o=!1,required:s,disabled:a,value:c="on",onCheck:d,form:f,...h}=e,[m,g]=b.useState(null),y=Ue(t,w=>g(w)),S=b.useRef(!1),v=m?f||!!m.closest("form"):!0;return u.jsxs(rB,{scope:n,checked:o,disabled:a,children:[u.jsx(Le.button,{type:"button",role:"radio","aria-checked":o,"data-state":fE(o),"data-disabled":a?"":void 0,disabled:a,value:c,...h,ref:y,onClick:Re(e.onClick,w=>{o||d==null||d(),v&&(S.current=w.isPropagationStopped(),S.current||w.stopPropagation())})}),v&&u.jsx(dE,{control:m,bubbles:!S.current,name:r,value:c,checked:o,required:s,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});aE.displayName=ry;var cE="RadioIndicator",uE=b.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...o}=e,s=oB(cE,n);return u.jsx(Tn,{present:r||s.checked,children:u.jsx(Le.span,{"data-state":fE(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:t})})});uE.displayName=cE;var iB="RadioBubbleInput",dE=b.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...o},s)=>{const a=b.useRef(null),c=Ue(a,s),d=Yd(n),f=Xd(t);return b.useEffect(()=>{const h=a.current;if(!h)return;const m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&y){const S=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(S)}},[d,n,r]),u.jsx(Le.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:c,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});dE.displayName=iB;function fE(e){return e?"checked":"unchecked"}var sB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],sf="RadioGroup",[lB,h7]=Kt(sf,[Ks,lE]),pE=Ks(),hE=lE(),[aB,cB]=lB(sf),mE=b.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:o,value:s,required:a=!1,disabled:c=!1,orientation:d,dir:f,loop:h=!0,onValueChange:m,...g}=e,y=pE(n),S=Uo(f),[v,w]=mn({prop:s,defaultProp:o??"",onChange:m,caller:sf});return u.jsx(aB,{scope:n,name:r,required:a,disabled:c,value:v,onValueChange:w,children:u.jsx(Rg,{asChild:!0,...y,orientation:d,dir:S,loop:h,children:u.jsx(Le.div,{role:"radiogroup","aria-required":a,"aria-orientation":d,"data-disabled":c?"":void 0,dir:S,...g,ref:t})})})});mE.displayName=sf;var gE="RadioGroupItem",yE=b.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...o}=e,s=cB(gE,n),a=s.disabled||r,c=pE(n),d=hE(n),f=b.useRef(null),h=Ue(t,f),m=s.value===o.value,g=b.useRef(!1);return b.useEffect(()=>{const y=v=>{sB.includes(v.key)&&(g.current=!0)},S=()=>g.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",S)}},[]),u.jsx(Mg,{asChild:!0,...c,focusable:!a,active:m,children:u.jsx(aE,{disabled:a,required:s.required,checked:m,...d,...o,name:s.name,ref:h,onCheck:()=>s.onValueChange(o.value),onKeyDown:Re(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:Re(o.onFocus,()=>{var y;g.current&&((y=f.current)==null||y.click())})})})});yE.displayName=gE;var uB="RadioGroupIndicator",xE=b.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,o=hE(n);return u.jsx(uE,{...o,...r,ref:t})});xE.displayName=uB;var dB=mE,fB=yE,pB=xE;function vE({className:e,...t}){return u.jsx(dB,{"data-slot":"radio-group",className:ze("grid gap-3",e),...t})}function As({className:e,...t}){return u.jsx(fB,{"data-slot":"radio-group-item",className:ze("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(pB,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:u.jsx(Tb,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function hB({open:e,onOpenChange:t,onExport:n}){const[r,o]=b.useState("json"),s=()=>{n(r),t(!1)};return u.jsx(an,{open:e,onOpenChange:t,children:u.jsxs(cn,{className:"sm:max-w-[425px]",children:[u.jsxs(un,{children:[u.jsx(dn,{children:"Export as OCEL 2.0"}),u.jsx(Ri,{children:"Choose a format to export your simulation data as an Object-Centric Event Log (OCEL 2.0)."})]}),u.jsx("div",{className:"py-4",children:u.jsxs(vE,{value:r,onValueChange:a=>o(a),className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(As,{value:"json",id:"json"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(ke,{htmlFor:"json",className:"font-medium",children:"JSON"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Standard JSON format for OCEL 2.0. Best for web applications and analysis tools."})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(As,{value:"xml",id:"xml",disabled:!0}),u.jsxs("div",{className:"grid gap-1.5 opacity-50",children:[u.jsx(ke,{htmlFor:"xml",className:"font-medium",children:"XML"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"XML format for OCEL 2.0. Good for compatibility with legacy systems. (Coming soon)"})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(As,{value:"sqlite",id:"sqlite",disabled:!0}),u.jsxs("div",{className:"grid gap-1.5 opacity-50",children:[u.jsx(ke,{htmlFor:"sqlite",className:"font-medium",children:"SQLite"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"SQLite database format. Best for large event logs and direct database queries. (Coming soon)"})]})]})]})}),u.jsxs(Br,{children:[u.jsx(we,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(we,{onClick:s,children:"Export"})]})]})})}const mB={stepsPerRun:50,animationDelayMs:500},lf=b.createContext(null);function gB(e){if(e&&typeof e=="object"){const t=e;if("id"in t)return t.id;if("ID"in t)return t.ID}return null}function S1(e,t){const n=t.toLowerCase(),r=gB(e);if(r!==null)return`${n}_${r}`;const o=JSON.stringify(e).split("").reduce((s,a)=>(s=(s<<5)-s+a.charCodeAt(0),s&s),0);return`${n}_${Math.abs(o)}`}function yB(e,t,n,r,o){const s=[],a=t.filter(g=>g.type==="record");for(const g of a){const y=[],S=g.definition.match(/=\s*record\s+(.+);/);if(S){const w=S[1].split("*").map(N=>N.trim());for(const N of w){const[_,k]=N.split(":").map(P=>P.trim());_&&k&&_.toLowerCase()!=="id"&&y.push({name:_.toLowerCase(),type:k.toLowerCase()})}}s.push({name:g.name,attributes:y})}const c=n.map(g=>({name:g.name||g.id,attributes:[]})),d=new Map;for(const g of r)d.set(g.id,g.colorSet);const f=new Map,h=[],m=o?new Date(o):null;for(const g of e){const y=`e${g.step}`,S=g.transitionName,v=m?new Date(m.getTime()+g.time).toISOString():g.timestamp.toISOString(),w=new Map;for(const _ of g.tokens.consumed){const k=d.get(_.placeId);if(a.some(I=>I.name===k)&&k)try{const I=JSON.parse(_.tokens);if(Array.isArray(I))for(const A of I){const T=S1(A,k);if(!f.has(T)){const $=[];if(A&&typeof A=="object")for(const[G,X]of Object.entries(A))G.toLowerCase()!=="id"&&$.push({name:G.toLowerCase(),time:v,value:String(X)});f.set(T,{id:T,type:k,attributes:$,relationships:[]})}w.set(T,k)}}catch{}}for(const _ of g.tokens.produced){const k=d.get(_.placeId);if(a.some(I=>I.name===k)&&k)try{const I=JSON.parse(_.tokens);if(Array.isArray(I))for(const A of I){const T=S1(A,k);if(!f.has(T)){const $=[];if(A&&typeof A=="object")for(const[G,X]of Object.entries(A))G.toLowerCase()!=="id"&&$.push({name:G.toLowerCase(),time:v,value:String(X)});f.set(T,{id:T,type:k,attributes:$,relationships:[]})}w.set(T,k)}}catch{}}const N=Array.from(w.entries()).map(([_,k])=>({objectId:_,qualifier:k.toLowerCase()}));h.push({id:y,type:S,time:v,attributes:[],relationships:N})}return{objectTypes:s,eventTypes:c,objects:Array.from(f.values()),events:h}}function xB(){const e=b.useContext(lf);if(!e)throw new Error("SimulationPanel must be used within a SimulationProvider");const{events:t,clearEvents:n,isInitialized:r,stepCounter:o,simulationTime:s,simulationConfig:a,setSimulationConfig:c}=e,d=ge(U=>U.colorSets),f=ge(U=>U.petriNetsById),h=ge(U=>U.activePetriNetId),m=ge(U=>U.simulationEpoch),g=ge(U=>U.setSimulationEpoch),[y,S]=b.useState(!1),[v,w]=b.useState(!1),[N,_]=b.useState(a),[k,P]=b.useState(m||""),I=U=>{U&&(_(a),P(m||"")),w(U)},A=()=>{c(N),g(k||null),w(!1)},T=b.useCallback(()=>{if(!h)return{transitions:[],places:[]};const U=f[h];if(!U)return{transitions:[],places:[]};const V=U.nodes.filter(O=>O.type==="transition").map(O=>{var z;return{id:O.id,name:((z=O.data)==null?void 0:z.label)||O.id}}),j=U.nodes.filter(O=>O.type==="place").map(O=>{var z,H;return{id:O.id,name:((z=O.data)==null?void 0:z.label)||O.id,colorSet:((H=O.data)==null?void 0:H.colorSet)||""}});return{transitions:V,places:j}},[h,f]),$=U=>{const{transitions:V,places:j}=T(),O=yB(t,d,V,j,m||null);let z="",H=`simulation_ocel2_${o}_events`,L="application/octet-stream";switch(U){case"json":z=JSON.stringify(O,null,2),H+=".json",L="application/json";break;case"xml":z=`<?xml version="1.0" encoding="UTF-8"?>
<ocel>
  <objectTypes>
${O.objectTypes.map(q=>`    <objectType name="${q.name}">
${q.attributes.map(R=>`      <attribute name="${R.name}" type="${R.type}"/>`).join(`
`)}
    </objectType>`).join(`
`)}
  </objectTypes>
  <eventTypes>
${O.eventTypes.map(q=>`    <eventType name="${q.name}">
${q.attributes.map(R=>`      <attribute name="${R.name}" type="${R.type}"/>`).join(`
`)}
    </eventType>`).join(`
`)}
  </eventTypes>
  <objects>
${O.objects.map(q=>`    <object id="${q.id}" type="${q.type}">
${q.attributes.map(R=>`      <attribute name="${R.name}" time="${R.time}" value="${R.value}"/>`).join(`
`)}
    </object>`).join(`
`)}
  </objects>
  <events>
${O.events.map(q=>`    <event id="${q.id}" type="${q.type}" time="${q.time}">
${q.relationships.map(R=>`      <relationship objectId="${R.objectId}" qualifier="${R.qualifier}"/>`).join(`
`)}
    </event>`).join(`
`)}
  </events>
</ocel>`,H+=".xml",L="application/xml";break;case"sqlite":z="SQLite format not yet implemented - please use JSON or XML format",H+=".txt",L="text/plain";break}const W=new Blob([z],{type:L}),M=URL.createObjectURL(W),F=document.createElement("a");F.href=M,F.download=H,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(M),S(!1)},G=r&&t.length>0,X=m?new Date(m):null,Y=U=>{if(U==null&&(U=0),X){const V=new Date(X.getTime()+U),j=V.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"}),O=V.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),z=V.getMilliseconds().toString().padStart(3,"0");return`${j}, ${O}.${z}`}if(U===0)return"0ms";if(U<1e3)return`${U}ms`;if(U<6e4)return`${(U/1e3).toFixed(1)}s`;if(U<36e5){const V=Math.floor(U/6e4),j=Math.floor(U%6e4/1e3);return`${V}m ${j}s`}else{const V=Math.floor(U/36e5),j=Math.floor(U%36e5/6e4),O=Math.floor(U%6e4/1e3);return`${V}h ${j}m ${O}s`}};return u.jsxs("div",{className:"flex flex-col h-full gap-3 overflow-hidden",children:[u.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card flex-shrink-0",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("span",{className:"text-sm font-semibold leading-none tracking-tight",children:"Simulation Status"}),u.jsx(we,{variant:"outline",size:"icon",onClick:()=>w(!0),title:"Simulation Settings",children:u.jsx(Mb,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(YP,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Step"}),u.jsx("div",{className:"text-lg font-mono font-semibold",children:o??0})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(lg,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Time"}),u.jsx("div",{className:"text-lg font-mono font-semibold",children:Y(s)})]})]})]})]}),u.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:u.jsx(tB,{events:t,onClearLog:n,onExport:()=>S(!0),canExport:G,exportDisabledReason:r?t.length===0?"No simulation events to export":void 0:"Simulation not initialized"})}),u.jsx(hB,{open:y,onOpenChange:S,onExport:$}),u.jsx(an,{open:v,onOpenChange:I,children:u.jsxs(cn,{className:"sm:max-w-[480px]",children:[u.jsx(un,{children:u.jsx(dn,{children:"Simulation Settings"})}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ke,{htmlFor:"stepsPerRun",className:"text-right col-span-2",children:"Steps per run"}),u.jsx(Xe,{id:"stepsPerRun",type:"number",min:1,max:1e3,value:N.stepsPerRun,onChange:U=>_({...N,stepsPerRun:parseInt(U.target.value)||1}),className:"col-span-2"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ke,{htmlFor:"animationDelay",className:"text-right col-span-2",children:"Animation delay (ms)"}),u.jsx(Xe,{id:"animationDelay",type:"number",min:0,max:5e3,step:50,value:N.animationDelayMs,onChange:U=>_({...N,animationDelayMs:parseInt(U.target.value)||0}),className:"col-span-2"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ke,{htmlFor:"simulationEpoch",className:"text-right col-span-2",children:"Simulation epoch"}),u.jsx(Xe,{id:"simulationEpoch",type:"datetime-local",step:"0.001",value:k,onChange:U=>P(U.target.value),className:"col-span-2"}),u.jsx("div",{className:"col-span-2 col-start-3",children:u.jsx(we,{type:"button",variant:"outline",size:"sm",onClick:()=>{const V=new Date().toISOString().slice(0,23);P(V)},children:"Now"})})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"The simulation epoch is the real-world datetime that corresponds to simulation time 0. When set, simulation times will be displayed relative to this epoch."})]}),u.jsxs(Br,{children:[u.jsx(we,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),u.jsx(we,{onClick:A,children:"Save"})]})]})})]})}function N1(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function vB(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var wE=e=>{const{present:t,children:n}=e,r=wB(t),o=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=Ue(r.ref,bB(o));return typeof n=="function"||r.isPresent?b.cloneElement(o,{ref:s}):null};wE.displayName="Presence";function wB(e){const[t,n]=b.useState(),r=b.useRef(null),o=b.useRef(e),s=b.useRef("none"),a=e?"mounted":"unmounted",[c,d]=vB(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const f=Ou(r.current);s.current=c==="mounted"?f:"none"},[c]),Pt(()=>{const f=r.current,h=o.current;if(h!==e){const g=s.current,y=Ou(f);e?d("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),Pt(()=>{if(t){let f;const h=t.ownerDocument.defaultView??window,m=y=>{const v=Ou(r.current).includes(CSS.escape(y.animationName));if(y.target===t&&v&&(d("ANIMATION_END"),!o.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",f=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},g=y=>{y.target===t&&(s.current=Ou(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Ou(e){return(e==null?void 0:e.animationName)||"none"}function bB(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function SB(e){const t=NB(e),n=b.forwardRef((r,o)=>{const{children:s,...a}=r,c=b.Children.toArray(s),d=c.find(kB);if(d){const f=d.props.children,h=c.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return u.jsx(t,{...a,ref:o,children:b.isValidElement(f)?b.cloneElement(f,void 0,h):null})}return u.jsx(t,{...a,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function NB(e){const t=b.forwardRef((n,r)=>{const{children:o,...s}=n;if(b.isValidElement(o)){const a=_B(o),c=EB(s,o.props);return o.type!==b.Fragment&&(c.ref=r?qs(r,a):a),b.cloneElement(o,c)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CB=Symbol("radix.slottable");function kB(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CB}function EB(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...c)=>{const d=s(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function _B(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var jB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oy=jB.reduce((e,t)=>{const n=SB(`Primitive.${t}`),r=b.forwardRef((o,s)=>{const{asChild:a,...c}=o,d=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),af="Checkbox",[PB,m7]=Kt(af),[AB,iy]=PB(af);function IB(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:o,disabled:s,form:a,name:c,onCheckedChange:d,required:f,value:h="on",internal_do_not_use_render:m}=e,[g,y]=mn({prop:n,defaultProp:o??!1,onChange:d,caller:af}),[S,v]=b.useState(null),[w,N]=b.useState(null),_=b.useRef(!1),k=S?!!a||!!S.closest("form"):!0,P={checked:g,disabled:s,setChecked:y,control:S,setControl:v,name:c,form:a,value:h,hasConsumerStoppedPropagationRef:_,required:f,defaultChecked:$o(o)?!1:o,isFormControl:k,bubbleInput:w,setBubbleInput:N};return u.jsx(AB,{scope:t,...P,children:TB(m)?m(P):r})}var bE="CheckboxTrigger",SE=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},o)=>{const{control:s,value:a,disabled:c,checked:d,required:f,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:S}=iy(bE,e),v=Ue(o,h),w=b.useRef(d);return b.useEffect(()=>{const N=s==null?void 0:s.form;if(N){const _=()=>m(w.current);return N.addEventListener("reset",_),()=>N.removeEventListener("reset",_)}},[s,m]),u.jsx(oy.button,{type:"button",role:"checkbox","aria-checked":$o(d)?"mixed":d,"aria-required":f,"data-state":_E(d),"data-disabled":c?"":void 0,disabled:c,value:a,...r,ref:v,onKeyDown:N1(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:N1(n,N=>{m(_=>$o(_)?!0:!_),S&&y&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})})});SE.displayName=bE;var sy=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:s,required:a,disabled:c,value:d,onCheckedChange:f,form:h,...m}=e;return u.jsx(IB,{__scopeCheckbox:n,checked:o,defaultChecked:s,disabled:c,required:a,onCheckedChange:f,name:r,form:h,value:d,internal_do_not_use_render:({isFormControl:g})=>u.jsxs(u.Fragment,{children:[u.jsx(SE,{...m,ref:t,__scopeCheckbox:n}),g&&u.jsx(EE,{__scopeCheckbox:n})]})})});sy.displayName=af;var NE="CheckboxIndicator",CE=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,s=iy(NE,n);return u.jsx(wE,{present:r||$o(s.checked)||s.checked===!0,children:u.jsx(oy.span,{"data-state":_E(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});CE.displayName=NE;var kE="CheckboxBubbleInput",EE=b.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:o,checked:s,defaultChecked:a,required:c,disabled:d,name:f,value:h,form:m,bubbleInput:g,setBubbleInput:y}=iy(kE,e),S=Ue(n,y),v=Yd(s),w=Xd(r);b.useEffect(()=>{const _=g;if(!_)return;const k=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(k,"checked").set,A=!o.current;if(v!==s&&I){const T=new Event("click",{bubbles:A});_.indeterminate=$o(s),I.call(_,$o(s)?!1:s),_.dispatchEvent(T)}},[g,v,s,o]);const N=b.useRef($o(s)?!1:s);return u.jsx(oy.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??N.current,required:c,disabled:d,name:f,value:h,form:m,...t,tabIndex:-1,ref:S,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});EE.displayName=kE;function TB(e){return typeof e=="function"}function $o(e){return e==="indeterminate"}function _E(e){return $o(e)?"indeterminate":e?"checked":"unchecked"}const jE=b.forwardRef(({className:e,...t},n)=>u.jsx(sy,{ref:n,className:ze("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:u.jsx(CE,{className:ze("flex items-center justify-center text-current"),children:u.jsx(Ib,{className:"h-4 w-4"})})}));jE.displayName=sy.displayName;function cf(){return(cf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function PE(e,t){if(e==null)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(o[n]=e[n]);return o}function Fm(e){var t=b.useRef(e),n=b.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var $a=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},ya=function(e){return"touches"in e},Bm=function(e){return e&&e.ownerDocument.defaultView||self},C1=function(e,t,n){var r=e.getBoundingClientRect(),o=ya(t)?function(s,a){for(var c=0;c<s.length;c++)if(s[c].identifier===a)return s[c];return s[0]}(t.touches,n):t;return{left:$a((o.pageX-(r.left+Bm(e).pageXOffset))/r.width),top:$a((o.pageY-(r.top+Bm(e).pageYOffset))/r.height)}},k1=function(e){!ya(e)&&e.preventDefault()},AE=Ie.memo(function(e){var t=e.onMove,n=e.onKey,r=PE(e,["onMove","onKey"]),o=b.useRef(null),s=Fm(t),a=Fm(n),c=b.useRef(null),d=b.useRef(!1),f=b.useMemo(function(){var y=function(w){k1(w),(ya(w)?w.touches.length>0:w.buttons>0)&&o.current?s(C1(o.current,w,c.current)):v(!1)},S=function(){return v(!1)};function v(w){var N=d.current,_=Bm(o.current),k=w?_.addEventListener:_.removeEventListener;k(N?"touchmove":"mousemove",y),k(N?"touchend":"mouseup",S)}return[function(w){var N=w.nativeEvent,_=o.current;if(_&&(k1(N),!function(P,I){return I&&!ya(P)}(N,d.current)&&_)){if(ya(N)){d.current=!0;var k=N.changedTouches||[];k.length&&(c.current=k[0].identifier)}_.focus(),s(C1(_,N,c.current)),v(!0)}},function(w){var N=w.which||w.keyCode;N<37||N>40||(w.preventDefault(),a({left:N===39?.05:N===37?-.05:0,top:N===40?.05:N===38?-.05:0}))},v]},[a,s]),h=f[0],m=f[1],g=f[2];return b.useEffect(function(){return g},[g]),Ie.createElement("div",cf({},r,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:o,onKeyDown:m,tabIndex:0,role:"slider"}))}),ly=function(e){return e.filter(Boolean).join(" ")},IE=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,s=ly(["react-colorful__pointer",e.className]);return Ie.createElement("div",{className:s,style:{top:100*o+"%",left:100*n+"%"}},Ie.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},qt=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},RB=function(e){return zB(Vm(e))},Vm=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?qt(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?qt(parseInt(e.substring(6,8),16)/255,2):1}},MB=function(e){return LB(DB(e))},OB=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:qt(e.h),s:qt(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:qt(o/2),a:qt(r,2)}},Hm=function(e){var t=OB(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},DB=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),a=r*(1-n),c=r*(1-(t-s)*n),d=r*(1-(1-t+s)*n),f=s%6;return{r:qt(255*[r,c,a,a,d,r][f]),g:qt(255*[d,r,r,c,a,a][f]),b:qt(255*[a,a,d,r,r,c][f]),a:qt(o,2)}},Du=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},LB=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=o<1?Du(qt(255*o)):"";return"#"+Du(t)+Du(n)+Du(r)+s},zB=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=Math.max(t,n,r),a=s-Math.min(t,n,r),c=a?s===t?(n-r)/a:s===n?2+(r-t)/a:4+(t-n)/a:0;return{h:qt(60*(c<0?c+6:c)),s:qt(s?a/s*100:0),v:qt(s/255*100),a:o}},$B=Ie.memo(function(e){var t=e.hue,n=e.onChange,r=ly(["react-colorful__hue",e.className]);return Ie.createElement("div",{className:r},Ie.createElement(AE,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:$a(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":qt(t),"aria-valuemax":"360","aria-valuemin":"0"},Ie.createElement(IE,{className:"react-colorful__hue-pointer",left:t/360,color:Hm({h:t,s:100,v:100,a:1})})))}),FB=Ie.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Hm({h:t.h,s:100,v:100,a:1})};return Ie.createElement("div",{className:"react-colorful__saturation",style:r},Ie.createElement(AE,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:$a(t.s+100*o.left,0,100),v:$a(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+qt(t.s)+"%, Brightness "+qt(t.v)+"%"},Ie.createElement(IE,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Hm(t)})))}),TE=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},BB=function(e,t){return e.toLowerCase()===t.toLowerCase()||TE(Vm(e),Vm(t))};function VB(e,t,n){var r=Fm(n),o=b.useState(function(){return e.toHsva(t)}),s=o[0],a=o[1],c=b.useRef({color:t,hsva:s});b.useEffect(function(){if(!e.equal(t,c.current.color)){var f=e.toHsva(t);c.current={hsva:f,color:t},a(f)}},[t,e]),b.useEffect(function(){var f;TE(s,c.current.hsva)||e.equal(f=e.fromHsva(s),c.current.color)||(c.current={hsva:s,color:f},r(f))},[s,e,r]);var d=b.useCallback(function(f){a(function(h){return Object.assign({},h,f)})},[]);return[s,d]}var HB=typeof window<"u"?b.useLayoutEffect:b.useEffect,UB=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},E1=new Map,WB=function(e){HB(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!E1.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,E1.set(t,n);var r=UB();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},XB=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,s=e.onChange,a=PE(e,["className","colorModel","color","onChange"]),c=b.useRef(null);WB(c);var d=VB(n,o,s),f=d[0],h=d[1],m=ly(["react-colorful",t]);return Ie.createElement("div",cf({},a,{ref:c,className:m}),Ie.createElement(FB,{hsva:f,onChange:h}),Ie.createElement($B,{hue:f.h,onChange:h,className:"react-colorful__last-control"}))},GB={defaultColor:"000",toHsva:RB,fromHsva:function(e){return MB({h:e.h,s:e.s,v:e.v,a:1})},equal:BB},YB=function(e){return Ie.createElement(XB,cf({},e,{colorModel:GB}))};function qB({colorSet:e,existingColorSets:t,onSave:n}){const[r,o]=b.useState((e==null?void 0:e.name)||""),[s,a]=b.useState((e==null?void 0:e.type)||"basic"),[c,d]=b.useState((e==null?void 0:e.definition)||""),[f,h]=b.useState((e==null?void 0:e.color)||"#3b82f6"),[m,g]=b.useState((e==null?void 0:e.timed)||!1),[y,S]=b.useState("int"),[v,w]=b.useState(!1),[N,_]=b.useState("1"),[k,P]=b.useState("100"),[I,A]=b.useState([{id:qe(),name:"value1",value:"1"}]),[T,$]=b.useState("INT"),[G,X]=b.useState([]),[Y,U]=b.useState([{id:qe(),name:"field1",type:"INT"}]),[V,j]=b.useState("INT"),[O,z]=b.useState("");b.useEffect(()=>{if(e){if(o(e.name),a(e.type),d(e.definition),g(e.timed||!1),e.type==="basic"){const B=e.definition.match(/colset\s+\w+\s*=\s*(\w+)(?:\s+with\s+(\d+)\.\.(\d+))?/);B&&(S(B[1]),B[2]&&B[3]&&(w(!0),_(B[2]),P(B[3])))}else if(e.type==="list"){const B=e.definition.match(/list\s+(\w+)/);if(B){const Q=B[1],oe=t.find(ie=>ie.name===Q);oe&&$(oe.name)}}else if(e.type==="product"){const B=e.definition.match(/product\s+([\w\s\*]+)/);if(B){const Q=B[1].split("*").map(oe=>oe.trim());X(Q)}}else if(e.type==="record"){const B=e.definition.match(/record\s+([\w\s\:\*]+)/);if(B){const Q=B[1].split("*").map(oe=>{const[ie,ue]=oe.split(":").map(de=>de.trim());return{id:qe(),name:ie,type:ue}});U(Q)}}else if(e.type==="subset"){const B=e.definition.match(/subset\s+(\w+)\s+by\s+(.+)/);B&&(j(B[1]),z(B[2]))}}},[e,t]);const H=()=>{A([...I,{id:qe(),name:`value${I.length+1}`,value:`${I.length+1}`}])},L=B=>{A(I.filter(Q=>Q.id!==B))},W=(B,Q,oe)=>{A(I.map(ie=>ie.id===B?{...ie,[Q]:oe}:ie))},M=B=>{B&&!G.includes(B)&&X([...G,B])},F=B=>{X(G.filter((Q,oe)=>oe!==B))},q=()=>{U([...Y,{id:qe(),name:`field${Y.length+1}`,type:"INT"}])},R=B=>{U(Y.filter(Q=>Q.id!==B))},J=(B,Q,oe)=>{U(Y.map(ie=>ie.id===B?{...ie,[Q]:oe}:ie))},ne=()=>{let B=`colset ${r} = `;switch(s){case"basic":B+=y,v&&(B+=` with ${N}..${k}`);break;case"enum":B+=`with ${I.map(Q=>Q.name).join(" | ")}`;break;case"list":B+=`list ${T}`;break;case"product":B+=`product ${G.join(" * ")}`;break;case"record":B+=`record ${Y.map(Q=>`${Q.name}: ${Q.type}`).join(" * ")}`;break;case"subset":B+=`subset ${V} by ${O}`;break;default:B+=s}return m&&(B+=" timed"),B+=";",B},te=()=>{const B=c||ne();n({name:r,type:s,definition:B,color:f,timed:m})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"name",children:"Name"}),u.jsx(Xe,{id:"name",placeholder:"e.g., DATA",value:r,onChange:B=>o(B.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"type",children:"Type"}),u.jsxs(rn,{value:s,onValueChange:a,children:[u.jsx(sn,{id:"type",children:u.jsx(on,{placeholder:"Select type"})}),u.jsxs(ln,{children:[u.jsx(nt,{value:"basic",children:"Basic"}),u.jsx(nt,{value:"enum",children:"Enumerated"}),u.jsx(nt,{value:"list",children:"List"}),u.jsx(nt,{value:"product",children:"Product"}),u.jsx(nt,{value:"record",children:"Record"}),u.jsx(nt,{value:"subset",children:"Subset"}),u.jsx(nt,{value:"union",children:"Union"})]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"color",children:"Color"}),u.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[u.jsx(YB,{color:f,onChange:h}),u.jsx(Xe,{id:"color",type:"text",value:f,onChange:B=>h(B.target.value),className:"w-full mt-2"})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(jE,{id:"timed",checked:m,onCheckedChange:B=>g(B===!0)}),u.jsx(ke,{htmlFor:"timed",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Timed color set"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"(tokens carry timestamps for timed simulations)"})]}),u.jsxs(Ii,{defaultValue:"visual",className:"w-full",children:[u.jsxs(Ti,{className:"grid w-full grid-cols-2",children:[u.jsx(Yn,{value:"visual",children:"Visual Editor"}),u.jsx(Yn,{value:"text",children:"Text Editor"})]}),u.jsxs(Dr,{value:"visual",className:"space-y-4 pt-4",children:[s==="basic"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{children:"Basic Type"}),u.jsxs(rn,{value:y,onValueChange:S,children:[u.jsx(sn,{children:u.jsx(on,{placeholder:"Select type"})}),u.jsxs(ln,{children:[u.jsx(nt,{value:"int",children:"Integer"}),u.jsx(nt,{value:"bool",children:"Boolean"}),u.jsx(nt,{value:"string",children:"String"}),u.jsx(nt,{value:"unit",children:"Unit"}),u.jsx(nt,{value:"real",children:"Real"}),u.jsx(nt,{value:"time",children:"Time"})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",id:"withRange",checked:v,onChange:B=>w(B.target.checked),className:"rounded border-gray-300"}),u.jsx(ke,{htmlFor:"withRange",children:"With Range"})]}),v&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"rangeStart",children:"Range Start"}),u.jsx(Xe,{id:"rangeStart",type:"number",value:N,onChange:B=>_(B.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"rangeEnd",children:"Range End"}),u.jsx(Xe,{id:"rangeEnd",type:"number",value:k,onChange:B=>P(B.target.value)})]})]})]}),s==="enum"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(ke,{children:"Enumerated Values"}),I.map(B=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Xe,{placeholder:"Name",value:B.name,onChange:Q=>W(B.id,"name",Q.target.value),className:"flex-1"}),u.jsx(Xe,{placeholder:"Value",value:B.value,onChange:Q=>W(B.id,"value",Q.target.value),className:"w-24"}),u.jsx(we,{variant:"ghost",size:"icon",onClick:()=>L(B.id),children:u.jsx(hr,{className:"h-4 w-4"})})]},B.id)),u.jsxs(we,{variant:"outline",size:"sm",onClick:H,className:"mt-2",children:[u.jsx(cm,{className:"h-4 w-4 mr-2"}),"Add Value"]})]}),s==="list"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{children:"Base Color Set"}),u.jsxs(rn,{value:T||"INT",onValueChange:$,children:[u.jsx(sn,{children:u.jsx(on,{placeholder:"Select base color set"})}),u.jsx(ln,{children:t.map(B=>u.jsx(nt,{value:B.name,children:B.name},B.id))})]})]}),s==="product"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(ke,{children:"Product Color Sets"}),G.map((B,Q)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"flex-1 border rounded-md px-3 py-2",children:B}),u.jsx(we,{variant:"ghost",size:"icon",onClick:()=>F(Q),children:u.jsx(hr,{className:"h-4 w-4"})})]},Q)),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsxs(rn,{defaultValue:"INT",onValueChange:M,children:[u.jsx(sn,{children:u.jsx(on,{placeholder:"Add color set"})}),u.jsx(ln,{children:t.map(B=>u.jsx(nt,{value:B.name,children:B.name},B.id))})]})})]}),s==="record"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(ke,{children:"Record Fields"}),Y.map(B=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Xe,{placeholder:"Field name",value:B.name,onChange:Q=>J(B.id,"name",Q.target.value),className:"flex-1"}),u.jsxs(rn,{value:B.type,onValueChange:Q=>J(B.id,"type",Q),children:[u.jsx(sn,{className:"w-[140px]",children:u.jsx(on,{placeholder:"Type"})}),u.jsx(ln,{children:t.map(Q=>u.jsx(nt,{value:Q.name,children:Q.name},Q.id))})]}),u.jsx(we,{variant:"ghost",size:"icon",onClick:()=>R(B.id),children:u.jsx(hr,{className:"h-4 w-4"})})]},B.id)),u.jsxs(we,{variant:"outline",size:"sm",onClick:q,className:"mt-2",children:[u.jsx(cm,{className:"h-4 w-4 mr-2"}),"Add Field"]})]}),s==="subset"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{children:"Subset of"}),u.jsxs(rn,{value:V||"INT",onValueChange:j,children:[u.jsx(sn,{children:u.jsx(on,{placeholder:"Select parent color set"})}),u.jsx(ln,{children:t.map(B=>u.jsx(nt,{value:B.name,children:B.name},B.id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"predicate",children:"Predicate"}),u.jsx(Xe,{id:"predicate",placeholder:"e.g., x => x > 0",value:O,onChange:B=>z(B.target.value)})]})]}),u.jsxs("div",{className:"pt-4",children:[u.jsx(ke,{children:"Preview"}),u.jsx("div",{className:"font-mono text-sm mt-2 p-3 bg-muted rounded-md",children:ne()})]})]}),u.jsx(Dr,{value:"text",className:"pt-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"definition",children:"Color Set Definition"}),u.jsx(yr,{id:"definition",placeholder:"colset DATA = int with 1..100;",className:"font-mono h-[200px]",value:c,onChange:B=>d(B.target.value)})]})})]}),u.jsx("div",{className:"pt-4",children:u.jsx(we,{onClick:te,className:"w-full",children:"Save Color Set"})})]})}function KB({variable:e,existingColorSets:t,onSave:n}){const[r,o]=b.useState((e==null?void 0:e.name)||""),[s,a]=b.useState((e==null?void 0:e.colorSet)||"INT");b.useEffect(()=>{e&&(o(e.name),a(e.colorSet))},[e]);const c=()=>{n({name:r,colorSet:s})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(ke,{htmlFor:"name",children:"Name"}),u.jsx(Xe,{id:"name",placeholder:"e.g., n",value:r,onChange:d=>o(d.target.value)})]}),u.jsx("div",{className:"space-y-2 flex-none mt-auto pb-2",children:":"}),u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(ke,{htmlFor:"baseColorSet",children:"Type"}),u.jsxs(rn,{value:s||"INT",onValueChange:a,children:[u.jsx(sn,{children:u.jsx(on,{placeholder:"Select color set"})}),u.jsx(ln,{children:t.map(d=>u.jsx(nt,{value:d.name,children:d.name},d.id))})]})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(we,{onClick:c,className:"w-full",children:"Save Variable"})})]})}function QB({priority:e,onSave:t}){const[n,r]=b.useState((e==null?void 0:e.name)||""),[o,s]=b.useState((e==null?void 0:e.level)||100);b.useEffect(()=>{e&&(r(e.name),s(e.level))},[e]);const a=()=>{t({name:n,level:o})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(ke,{htmlFor:"name",children:"Name"}),u.jsx(Xe,{placeholder:"Name (e.g., P_MEDIUM)",className:"flex-1",value:n,onChange:c=>r(c.target.value)})]}),u.jsxs("div",{className:"space-y-2 flex-none",children:[u.jsx(ke,{htmlFor:"baseColorSet",children:"Level"}),u.jsx(Xe,{type:"number",placeholder:"Level (e.g., 250)",className:"w-[120px]",value:o||"",onChange:c=>s(Number(c.target.value))})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(we,{onClick:a,className:"w-full",children:"Save Priority"})})]})}function JB({existingFunction:e,onSave:t}){const[n,r]=b.useState(e||{id:qe(),name:"",code:""}),[o,s]=b.useState(e?e.code:"fn add(x,y) {x+y}"),a=d=>{s(d)},c=()=>{const d=o.split(" ")[1].split("(")[0].trim(),h={...n,name:d,code:o};r(h),t(h)};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"raw-code",children:"Function Definition"}),u.jsx(yr,{id:"raw-code",ref:d=>{d&&d.focus()},onFocus:d=>d.currentTarget.setSelectionRange(d.currentTarget.value.length,d.currentTarget.value.length),placeholder:"fn add(x,y) {x+y}",className:"font-mono h-[240px]",value:o,onChange:d=>a(d.target.value)})]}),u.jsx("div",{className:"pt-4",children:u.jsx(we,{onClick:c,className:"w-full",children:"Save Function"})})]})}function ZB({existingUse:e,onSave:t}){const[n,r]=b.useState({name:(e==null?void 0:e.name)||"",content:(e==null?void 0:e.content)||""}),[o,s]=b.useState(!1),a=()=>{n.name.trim()&&t(n)},c=m=>{const g=new FileReader;if(g.onload=y=>{var v;const S=(v=y.target)==null?void 0:v.result;r(w=>({...w,content:S}))},g.readAsText(m),!n.name.trim()&&m.name){const y=m.name;r(S=>({...S,name:y}))}},d=m=>{m.preventDefault(),s(!0)},f=()=>{s(!1)},h=m=>{if(m.preventDefault(),s(!1),m.dataTransfer.files&&m.dataTransfer.files.length>0){const g=m.dataTransfer.files[0];c(g)}};return u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"use-name",children:"Name"}),u.jsx(Xe,{id:"use-name",placeholder:"e.g., Utils.sml",value:n.name,onChange:m=>r({...n,name:m.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx(ke,{htmlFor:"use-content",children:"Content"})}),u.jsxs("div",{className:"relative",children:[u.jsx(yr,{id:"use-content",placeholder:"Enter the content of the external file or drag and drop a file here...",className:`font-mono h-[300px] max-w-[550px] transition-colors ${o?"border-primary bg-primary/5":""}`,value:n.content,onChange:m=>r({...n,content:m.target.value}),onDragOver:d,onDragLeave:f,onDrop:h}),o&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-primary/10 border-2 border-dashed border-primary rounded-md pointer-events-none",children:u.jsx("div",{className:"bg-background p-3 rounded-md shadow-md",children:u.jsx("p",{className:"text-sm font-medium",children:"Drop file to import content"})})})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["This content will be included as an external file reference in the CPN model. You can edit it manually or",u.jsx("strong",{children:" drag and drop a file"})," directly onto the text area to import its content."]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(we,{className:"w-full",type:"submit",onClick:a,children:"Save Library"})})]})}function e6(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function t6(e){const t=n6(e),n=b.forwardRef((r,o)=>{const{children:s,...a}=r,c=b.Children.toArray(s),d=c.find(o6);if(d){const f=d.props.children,h=c.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return u.jsx(t,{...a,ref:o,children:b.isValidElement(f)?b.cloneElement(f,void 0,h):null})}return u.jsx(t,{...a,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function n6(e){const t=b.forwardRef((n,r)=>{const{children:o,...s}=n;if(b.isValidElement(o)){const a=s6(o),c=i6(s,o.props);return o.type!==b.Fragment&&(c.ref=r?qs(r,a):a),b.cloneElement(o,c)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var r6=Symbol("radix.slottable");function o6(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===r6}function i6(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...c)=>{const d=s(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function s6(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var l6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ay=l6.reduce((e,t)=>{const n=t6(`Primitive.${t}`),r=b.forwardRef((o,s)=>{const{asChild:a,...c}=o,d=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function a6(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var RE=e=>{const{present:t,children:n}=e,r=c6(t),o=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=Ue(r.ref,u6(o));return typeof n=="function"||r.isPresent?b.cloneElement(o,{ref:s}):null};RE.displayName="Presence";function c6(e){const[t,n]=b.useState(),r=b.useRef(null),o=b.useRef(e),s=b.useRef("none"),a=e?"mounted":"unmounted",[c,d]=a6(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const f=Lu(r.current);s.current=c==="mounted"?f:"none"},[c]),Pt(()=>{const f=r.current,h=o.current;if(h!==e){const g=s.current,y=Lu(f);e?d("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),Pt(()=>{if(t){let f;const h=t.ownerDocument.defaultView??window,m=y=>{const v=Lu(r.current).includes(CSS.escape(y.animationName));if(y.target===t&&v&&(d("ANIMATION_END"),!o.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",f=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},g=y=>{y.target===t&&(s.current=Lu(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Lu(e){return(e==null?void 0:e.animationName)||"none"}function u6(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var uf="Collapsible",[d6,ME]=Kt(uf),[f6,cy]=d6(uf),OE=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:s,onOpenChange:a,...c}=e,[d,f]=mn({prop:r,defaultProp:o??!1,onChange:a,caller:uf});return u.jsx(f6,{scope:n,disabled:s,contentId:or(),open:d,onOpenToggle:b.useCallback(()=>f(h=>!h),[f]),children:u.jsx(ay.div,{"data-state":py(d),"data-disabled":s?"":void 0,...c,ref:t})})});OE.displayName=uf;var DE="CollapsibleTrigger",uy=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,o=cy(DE,n);return u.jsx(ay.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":py(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:t,onClick:e6(e.onClick,o.onOpenToggle)})});uy.displayName=DE;var dy="CollapsibleContent",fy=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=cy(dy,e.__scopeCollapsible);return u.jsx(RE,{present:n||o.open,children:({present:s})=>u.jsx(p6,{...r,ref:t,present:s})})});fy.displayName=dy;var p6=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:o,...s}=e,a=cy(dy,n),[c,d]=b.useState(r),f=b.useRef(null),h=Ue(t,f),m=b.useRef(0),g=m.current,y=b.useRef(0),S=y.current,v=a.open||c,w=b.useRef(v),N=b.useRef(void 0);return b.useEffect(()=>{const _=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(_)},[]),Pt(()=>{const _=f.current;if(_){N.current=N.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const k=_.getBoundingClientRect();m.current=k.height,y.current=k.width,w.current||(_.style.transitionDuration=N.current.transitionDuration,_.style.animationName=N.current.animationName),d(r)}},[a.open,r]),u.jsx(ay.div,{"data-state":py(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!v,...s,ref:h,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...e.style},children:v&&o})});function py(e){return e?"open":"closed"}var LE=OE,h6=uy,m6=fy;function Kl({...e}){return u.jsx(LE,{"data-slot":"collapsible",...e})}function Ql({...e}){return u.jsx(uy,{"data-slot":"collapsible-trigger",...e})}function Jl({...e}){return u.jsx(fy,{"data-slot":"collapsible-content",...e})}function g6(){const[e,t]=b.useState(!1),[n,r]=b.useState(!1),[o,s]=b.useState(!1),[a,c]=b.useState(!1),[d,f]=b.useState(!1),h=ge(ae=>ae.colorSets),m=ge(ae=>ae.setColorSets),g=ge(ae=>ae.addColorSet),y=ge(ae=>ae.deleteColorSet),S=ge(ae=>ae.renameColorSet),v=ge(ae=>ae.variables),w=ge(ae=>ae.setVariables),N=ge(ae=>ae.addVariable),_=ge(ae=>ae.deleteVariable),k=ge(ae=>ae.priorities),P=ge(ae=>ae.setPriorities),I=ge(ae=>ae.addPriority),A=ge(ae=>ae.deletePriority),T=ge(ae=>ae.functions),$=ge(ae=>ae.setFunctions),G=ge(ae=>ae.addFunction),X=ge(ae=>ae.deleteFunction),Y=ge(ae=>ae.uses),U=ge(ae=>ae.setUses),V=ge(ae=>ae.addUse),j=ge(ae=>ae.deleteUse),[O,z]=b.useState({name:"",colorSet:"INT"}),[H,L]=b.useState({name:"",level:250}),[W,M]=b.useState(void 0),[F,q]=b.useState(!1),[R,J]=b.useState(void 0),[ne,te]=b.useState(!1),[B,Q]=b.useState(void 0),[oe,ie]=b.useState(!1),[ue,de]=b.useState(void 0),[be,Se]=b.useState(!1),[De,We]=b.useState(void 0),[ft,ut]=b.useState(!1),[ye,Be]=b.useState(null),[He,rt]=b.useState(null),pt=()=>{O.name&&O.colorSet&&(N({name:O.name,colorSet:O.colorSet}),z({name:"",colorSet:"INT"}))},At=()=>{H.name&&H.level&&(I({name:H.name,level:Number(H.level)}),L({name:"",level:100}))},st=ae=>{M(ae),q(!0)},le=ae=>{J(ae),te(!0)},fe=ae=>{Q(ae),ie(!0)},Ae=ae=>{de(ae),Se(!0)},Ve=ae=>{if(ue){const Oe=T.map(at=>at.id===ue.id?{...at,...ae}:at);$(Oe)}else G(ae);Se(!1),de(void 0)},Ke=ae=>{We(ae),ut(!0)},It=ae=>{if(De){const Oe=Y.map(at=>at.id===De.id?{...at,...ae}:at);U(Oe)}else V(ae);ut(!1),We(void 0)},Mn=ae=>{if(W){W.name!==ae.name&&W.id&&S(W.id,ae.name);const Oe=h.map(at=>at.id===W.id?{...at,...ae}:at);m(Oe)}else g(ae);q(!1),M(void 0)},Qt=ae=>{if(R){const Oe=v.map(at=>at.id===R.id?{...at,...ae}:at);w(Oe)}else N(ae);te(!1),J(void 0)},qn=ae=>{if(B){const Oe=k.map(at=>at.id===B.id?{...at,...ae}:at);P(Oe)}else I(ae);ie(!1),Q(void 0)},wn=(ae,Oe,at)=>{Be(Oe),rt(at),ae.dataTransfer.effectAllowed="move",ae.dataTransfer.setData("text/plain",Oe.id??"")},bt=(ae,Oe)=>{ae.preventDefault(),ae.dataTransfer.dropEffect="move",ye&&ye.id!==Oe.id&&ae.currentTarget.classList.add("bg-muted")},Ut=ae=>{ae.currentTarget.classList.remove("bg-muted")},Rt=(ae,Oe)=>{if(ae.preventDefault(),ae.currentTarget.classList.remove("bg-muted"),!(!ye||!He)&&ye.id!==Oe.id){if(He==="colorSet"){const mt=[...h],Wt=mt.findIndex(Mt=>Mt.id===ye.id),Jt=mt.findIndex(Mt=>Mt.id===Oe.id);Wt!==-1&&Jt!==-1&&(mt.splice(Wt,1),mt.splice(Jt,0,ye),m(mt))}else if(He==="variable"){const mt=[...v],Wt=mt.findIndex(Mt=>Mt.id===ye.id),Jt=mt.findIndex(Mt=>Mt.id===Oe.id);Wt!==-1&&Jt!==-1&&(mt.splice(Wt,1),mt.splice(Jt,0,ye),w(mt))}else if(He==="priority"){const mt=[...k],Wt=mt.findIndex(Mt=>Mt.id===ye.id),Jt=mt.findIndex(Mt=>Mt.id===Oe.id);Wt!==-1&&Jt!==-1&&(mt.splice(Wt,1),mt.splice(Jt,0,ye),P(mt))}else if(He==="function"){const mt=[...T],Wt=mt.findIndex(Mt=>Mt.id===ye.id),Jt=mt.findIndex(Mt=>Mt.id===Oe.id);Wt!==-1&&Jt!==-1&&(mt.splice(Wt,1),mt.splice(Jt,0,ye),$(mt))}Be(null),rt(null)}},Cr=()=>{Be(null),rt(null)};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"space-y-3",children:u.jsxs(Kl,{open:n,onOpenChange:r,children:[u.jsx(Ql,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(we,{variant:"ghost",size:"sm",children:[n?u.jsx(Oo,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Hl,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Color Sets"})]})}),u.jsxs(Jl,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:h.map(ae=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Oe=>wn(Oe,ae,"colorSet"),onDragOver:Oe=>bt(Oe,ae),onDragLeave:Ut,onDrop:Oe=>Rt(Oe,ae),onDragEnd:Cr,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(ia,{className:"h-4 w-4 text-muted-foreground"})}),u.jsx("div",{className:"font-mono text-sm",children:ae.definition.replace(/^colset\s+/i,"").replace(/;$/,"")}),ae.timed&&u.jsx("span",{title:"Timed color set",children:u.jsx(lg,{className:"h-3.5 w-3.5 text-muted-foreground"})})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:ae.color||"#3b82f6"}}),u.jsx(we,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>st(ae),children:u.jsx(Ul,{className:"h-3 w-3"})}),u.jsx(we,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>ae.id&&y(ae.id),children:u.jsx(hr,{className:"h-3 w-3"})})]})]})},ae.id))}),u.jsxs(an,{open:F,onOpenChange:q,children:[u.jsx(Xh,{asChild:!0,children:u.jsx(we,{className:"w-full",variant:"outline",onClick:()=>{M(void 0),q(!0)},children:"Create New Color Set"})}),u.jsxs(cn,{className:"sm:max-w-[600px]",children:[u.jsx(un,{children:u.jsx(dn,{children:W?`Edit Color Set: ${W.name}`:"Create New Color Set"})}),u.jsx(qB,{colorSet:W,existingColorSets:h,onSave:Mn})]})]})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(Kl,{open:o,onOpenChange:s,children:[u.jsx(Ql,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(we,{variant:"ghost",size:"sm",children:[o?u.jsx(Oo,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Hl,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Variables"})]})}),u.jsxs(Jl,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:v.map(ae=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Oe=>wn(Oe,ae,"variable"),onDragOver:Oe=>bt(Oe,ae),onDragLeave:Ut,onDrop:Oe=>Rt(Oe,ae),onDragEnd:Cr,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(ia,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"font-mono text-sm",children:["var ",ae.name,": ",ae.colorSet,";"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(we,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>le(ae),children:u.jsx(Ul,{className:"h-3 w-3"})}),u.jsx(we,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>ae.id&&_(ae.id),children:u.jsx(hr,{className:"h-3 w-3"})})]})]})},ae.id))}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Xe,{placeholder:"Name (e.g., n)",className:"flex-1",value:O.name,onChange:ae=>z({...O,name:ae.target.value})})," :",u.jsxs(rn,{value:O.colorSet,onValueChange:ae=>z({...O,colorSet:ae}),children:[u.jsx(sn,{className:"w-[180px]",children:u.jsx(on,{placeholder:"Color Set"})}),u.jsx(ln,{children:h.map(ae=>u.jsx(nt,{value:ae.name,children:ae.name},ae.id))})]})]}),u.jsx(we,{size:"sm",variant:"outline",onClick:pt,children:"Add Variable"}),u.jsx(an,{open:ne,onOpenChange:te,children:u.jsxs(cn,{className:"sm:max-w-[600px]",children:[u.jsx(un,{children:u.jsx(dn,{children:R?`Edit Variable: ${R.name}`:"Create New Variable"})}),u.jsx(KB,{variable:R,existingColorSets:h,onSave:Qt})]})})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(Kl,{open:a,onOpenChange:c,children:[u.jsx(Ql,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(we,{variant:"ghost",size:"sm",children:[a?u.jsx(Oo,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Hl,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Functions"})]})}),u.jsxs(Jl,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:T.map(ae=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Oe=>wn(Oe,ae,"function"),onDragOver:Oe=>bt(Oe,ae),onDragLeave:Ut,onDrop:Oe=>Rt(Oe,ae),onDragEnd:Cr,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(ia,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"font-mono text-sm",children:["fn ",ae.name]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(we,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>Ae(ae),children:u.jsx(Ul,{className:"h-3 w-3"})}),u.jsx(we,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>ae.id&&X(ae.id),children:u.jsx(hr,{className:"h-3 w-3"})})]})]})},ae.id))}),u.jsxs(an,{open:be,onOpenChange:Se,children:[u.jsx(Xh,{asChild:!0,children:u.jsx(we,{className:"w-full",variant:"outline",onClick:()=>de(void 0),children:"Create New Function"})}),u.jsxs(cn,{className:"sm:max-w-[600px]",children:[u.jsx(un,{children:u.jsx(dn,{children:ue?`Edit Function: ${ue.name}`:"Create New Function"})}),u.jsx(JB,{existingFunction:ue,onSave:Ve})]})]})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(Kl,{open:d,onOpenChange:f,children:[u.jsx(Ql,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(we,{variant:"ghost",size:"sm",children:[d?u.jsx(Oo,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Hl,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Libraries"})]})}),u.jsxs(Jl,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:Y.map(ae=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Oe=>wn(Oe,ae,"use"),onDragOver:Oe=>bt(Oe,ae),onDragLeave:Ut,onDrop:Oe=>Rt(Oe,ae),onDragEnd:Cr,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(ia,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"font-mono text-sm",children:['use "',ae.name,'";']})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(we,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>Ke(ae),children:u.jsx(Ul,{className:"h-3 w-3"})}),u.jsx(we,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>ae.id&&j(ae.id),children:u.jsx(hr,{className:"h-3 w-3"})})]})]})},ae.id))}),u.jsxs(an,{open:ft,onOpenChange:ut,children:[u.jsx(Xh,{asChild:!0,children:u.jsx(we,{className:"w-full",variant:"outline",onClick:()=>We(void 0),children:"Add External Library"})}),u.jsxs(cn,{className:"sm:max-w-[600px]",children:[u.jsx(un,{children:u.jsx(dn,{children:De?"Edit External Library":"Add External Library"})}),u.jsx(ZB,{existingUse:De,onSave:It})]})]})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(Kl,{open:e,onOpenChange:t,children:[u.jsx(Ql,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(we,{variant:"ghost",size:"sm",children:[e?u.jsx(Oo,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Hl,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Priorities"})]})}),u.jsxs(Jl,{className:"space-y-3 mb-8",children:[u.jsx("div",{className:"space-y-2",children:k.slice().sort((ae,Oe)=>ae.level-Oe.level).map(ae=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{className:"font-mono text-sm",children:[ae.name," = ",ae.level]})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(we,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>fe(ae),children:u.jsx(Ul,{className:"h-3 w-3"})}),u.jsx(we,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>ae.id&&A(ae.id),children:u.jsx(hr,{className:"h-3 w-3"})})]})]})},ae.id))}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Xe,{placeholder:"Name (e.g., P_MEDIUM)",className:"flex-1",value:H.name,onChange:ae=>L({...H,name:ae.target.value})}),u.jsx(Xe,{type:"number",placeholder:"Level (e.g., 250)",className:"w-[120px]",value:H.level||"",onChange:ae=>L({...H,level:Number.parseInt(ae.target.value)||0})})]}),u.jsx(we,{size:"sm",variant:"outline",onClick:At,children:"Add Priority"}),u.jsx(an,{open:oe,onOpenChange:ie,children:u.jsxs(cn,{className:"sm:max-w-[600px]",children:[u.jsx(un,{children:u.jsx(dn,{children:B?`Edit Priority: ${B.name}`:"Create New Priority"})}),u.jsx(QB,{priority:B,onSave:qn})]})})]})]})})]})}const y6=()=>{const e=ge(o=>{const s=o.activePetriNetId?o.petriNetsById[o.activePetriNetId]:null;return s==null?void 0:s.selectedElement}),t=ge(o=>o.colorSets),n=ge(o=>o.priorities),r=()=>{if(!e)return u.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Select an element to edit its properties"});if(e.type==="node"){const o=e.element.type;if(o==="place")return u.jsx(IF,{colorSets:t});if(o==="transition")return u.jsx(OF,{priorities:n});if(o==="auxText")return u.jsx(DF,{})}else if(e.type==="edge")return u.jsx(LF,{});return null};return u.jsxs(ma,{defaultSize:20,className:"min-w-[400px] flex flex-col h-full overflow-hidden",children:[u.jsx("div",{className:"px-4 py-2 flex-shrink-0",children:u.jsx("h3",{className:"text-lg font-medium",children:"OCPN Tools"})}),u.jsx("div",{className:"px-4 py-2 flex-1 flex flex-col overflow-hidden",children:u.jsxs(Ii,{defaultValue:"model",className:"flex flex-col flex-1 overflow-hidden",children:[u.jsxs(Ti,{className:"grid w-full grid-cols-2 flex-shrink-0",children:[u.jsx(Yn,{value:"model",children:"Model"}),u.jsx(Yn,{value:"simulation",children:"Simulation"})]}),u.jsx(dd,{value:"model",className:"space-y-4 mt-2 flex-1 overflow-auto",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"space-y-2",children:u.jsxs(Pg,{children:[u.jsx(Ag,{className:"px-4 pb-2",children:u.jsx(lC,{className:"text-md",children:e?e.type==="node"?e.element.type==="place"?"Place Properties":"Transition Properties":"Arc Properties":"Element Properties"})}),u.jsx(Ig,{className:"p-4 pt-2",children:r()})]})}),u.jsx(Qa,{orientation:"horizontal",className:"mt-2"}),u.jsx("div",{className:"p-4",children:u.jsx(g6,{})})]})}),u.jsx(dd,{value:"simulation",className:"mt-2 flex-1 overflow-hidden",children:u.jsx(xB,{})})]})})]})},x6="modulepreload",v6=function(e){return"/ocpn-tools/"+e},_1={},j1=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let a=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=a(n.map(f=>{if(f=v6(f),f in _1)return;_1[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":x6,h||(g.as="script"),g.crossOrigin="",g.href=f,d&&g.setAttribute("nonce",d),document.head.appendChild(g),h)return new Promise((y,S)=>{g.addEventListener("load",y),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return o.then(a=>{for(const c of a||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};function w6(e){const t=ge(a=>a.setNodes),n=ge(a=>a.setEdges),r=b.useCallback(a=>{var f;const c=((f=ge.getState().petriNetsById[e])==null?void 0:f.nodes)||[],d=_N(a,c);t(e,d)},[e,t]),o=b.useCallback(a=>{var f;const c=((f=ge.getState().petriNetsById[e])==null?void 0:f.edges)||[],d=jN(a,c);n(e,d)},[e,n]),s=b.useCallback(a=>{var f;const c={...a,id:qe(),type:"floating",label:"",animated:!1},d=((f=ge.getState().petriNetsById[e])==null?void 0:f.edges)||[];n(e,[...d,c])},[e,n]);return{onNodesChange:r,onEdgesChange:o,onConnect:s}}const P1=e=>Symbol.iterator in e,A1=e=>"entries"in e,I1=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[o,s]of n)if(!Object.is(s,r.get(o)))return!1;return!0},b6=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let o=n.next(),s=r.next();for(;!o.done&&!s.done;){if(!Object.is(o.value,s.value))return!1;o=n.next(),s=r.next()}return!!o.done&&!!s.done};function S6(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:!P1(e)||!P1(t)?I1({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)}):A1(e)&&A1(t)?I1(e,t):b6(e,t)}function N6(e){const t=Ie.useRef(void 0);return n=>{const r=e(n);return S6(t.current,r)?t.current:t.current=r}}var zE="Toggle",hy=b.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:o,...s}=e,[a,c]=mn({prop:n,onChange:o,defaultProp:r??!1,caller:zE});return u.jsx(Le.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:Re(e.onClick,()=>{e.disabled||c(!a)})})});hy.displayName=zE;var C6=hy;const $E=ef("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function T1({className:e,variant:t,size:n,...r}){return u.jsx(C6,{"data-slot":"toggle",className:ze($E({variant:t,size:n,className:e})),...r})}var k6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),E6="VisuallyHidden",FE=b.forwardRef((e,t)=>u.jsx(Le.span,{...e,ref:t,style:{...k6,...e.style}}));FE.displayName=E6;var _6=FE,[df,g7]=Kt("Tooltip",[Zs]),ff=Zs(),BE="TooltipProvider",j6=700,Um="tooltip.open",[P6,my]=df(BE),VE=e=>{const{__scopeTooltip:t,delayDuration:n=j6,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=e,a=b.useRef(!0),c=b.useRef(!1),d=b.useRef(0);return b.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),u.jsx(P6,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(d.current),a.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:b.useCallback(f=>{c.current=f},[]),disableHoverableContent:o,children:s})};VE.displayName=BE;var Fa="Tooltip",[A6,nc]=df(Fa),HE=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o,onOpenChange:s,disableHoverableContent:a,delayDuration:c}=e,d=my(Fa,e.__scopeTooltip),f=ff(t),[h,m]=b.useState(null),g=or(),y=b.useRef(0),S=a??d.disableHoverableContent,v=c??d.delayDuration,w=b.useRef(!1),[N,_]=mn({prop:r,defaultProp:o??!1,onChange:T=>{T?(d.onOpen(),document.dispatchEvent(new CustomEvent(Um))):d.onClose(),s==null||s(T)},caller:Fa}),k=b.useMemo(()=>N?w.current?"delayed-open":"instant-open":"closed",[N]),P=b.useCallback(()=>{window.clearTimeout(y.current),y.current=0,w.current=!1,_(!0)},[_]),I=b.useCallback(()=>{window.clearTimeout(y.current),y.current=0,_(!1)},[_]),A=b.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{w.current=!0,_(!0),y.current=0},v)},[v,_]);return b.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),u.jsx(Xg,{...f,children:u.jsx(A6,{scope:t,contentId:g,open:N,stateAttribute:k,trigger:h,onTriggerChange:m,onTriggerEnter:b.useCallback(()=>{d.isOpenDelayedRef.current?A():P()},[d.isOpenDelayedRef,A,P]),onTriggerLeave:b.useCallback(()=>{S?I():(window.clearTimeout(y.current),y.current=0)},[I,S]),onOpen:P,onClose:I,disableHoverableContent:S,children:n})})};HE.displayName=Fa;var Wm="TooltipTrigger",UE=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=nc(Wm,n),s=my(Wm,n),a=ff(n),c=b.useRef(null),d=Ue(t,c,o.onTriggerChange),f=b.useRef(!1),h=b.useRef(!1),m=b.useCallback(()=>f.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),u.jsx(Gd,{asChild:!0,...a,children:u.jsx(Le.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:d,onPointerMove:Re(e.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),h.current=!0)}),onPointerLeave:Re(e.onPointerLeave,()=>{o.onTriggerLeave(),h.current=!1}),onPointerDown:Re(e.onPointerDown,()=>{o.open&&o.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Re(e.onFocus,()=>{f.current||o.onOpen()}),onBlur:Re(e.onBlur,o.onClose),onClick:Re(e.onClick,o.onClose)})})});UE.displayName=Wm;var gy="TooltipPortal",[I6,T6]=df(gy,{forceMount:void 0}),WE=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:o}=e,s=nc(gy,t);return u.jsx(I6,{scope:t,forceMount:n,children:u.jsx(Tn,{present:n||s.open,children:u.jsx(tc,{asChild:!0,container:o,children:r})})})};WE.displayName=gy;var Us="TooltipContent",XE=b.forwardRef((e,t)=>{const n=T6(Us,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=e,a=nc(Us,e.__scopeTooltip);return u.jsx(Tn,{present:r||a.open,children:a.disableHoverableContent?u.jsx(GE,{side:o,...s,ref:t}):u.jsx(R6,{side:o,...s,ref:t})})}),R6=b.forwardRef((e,t)=>{const n=nc(Us,e.__scopeTooltip),r=my(Us,e.__scopeTooltip),o=b.useRef(null),s=Ue(t,o),[a,c]=b.useState(null),{trigger:d,onClose:f}=n,h=o.current,{onPointerInTransitChange:m}=r,g=b.useCallback(()=>{c(null),m(!1)},[m]),y=b.useCallback((S,v)=>{const w=S.currentTarget,N={x:S.clientX,y:S.clientY},_=L6(N,w.getBoundingClientRect()),k=z6(N,_),P=$6(v.getBoundingClientRect()),I=B6([...k,...P]);c(I),m(!0)},[m]);return b.useEffect(()=>()=>g(),[g]),b.useEffect(()=>{if(d&&h){const S=w=>y(w,h),v=w=>y(w,d);return d.addEventListener("pointerleave",S),h.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",S),h.removeEventListener("pointerleave",v)}}},[d,h,y,g]),b.useEffect(()=>{if(a){const S=v=>{const w=v.target,N={x:v.clientX,y:v.clientY},_=(d==null?void 0:d.contains(w))||(h==null?void 0:h.contains(w)),k=!F6(N,a);_?g():k&&(g(),f())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[d,h,a,f,g]),u.jsx(GE,{...e,ref:s})}),[M6,O6]=df(Fa,{isInside:!1}),D6=p4("TooltipContent"),GE=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:a,...c}=e,d=nc(Us,n),f=ff(n),{onClose:h}=d;return b.useEffect(()=>(document.addEventListener(Um,h),()=>document.removeEventListener(Um,h)),[h]),b.useEffect(()=>{if(d.trigger){const m=g=>{const y=g.target;y!=null&&y.contains(d.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,h]),u.jsx(Za,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:u.jsxs(Gg,{"data-state":d.stateAttribute,...f,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(D6,{children:r}),u.jsx(M6,{scope:n,isInside:!0,children:u.jsx(_6,{id:d.contentId,role:"tooltip",children:o||r})})]})})});XE.displayName=Us;var YE="TooltipArrow",qE=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=ff(n);return O6(YE,n).isInside?null:u.jsx(Yg,{...o,...r,ref:t})});qE.displayName=YE;function L6(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function z6(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function $6(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function F6(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const c=t[s],d=t[a],f=c.x,h=c.y,m=d.x,g=d.y;h>r!=g>r&&n<(m-f)*(r-h)/(g-h)+f&&(o=!o)}return o}function B6(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),V6(t)}function V6(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(o.y-a.y)>=(s.y-a.y)*(o.x-a.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(o.y-a.y)>=(s.y-a.y)*(o.x-a.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var H6=VE,U6=HE,W6=UE,X6=WE,G6=XE,Y6=qE;function Un({delayDuration:e=0,...t}){return u.jsx(H6,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function fn({...e}){return u.jsx(Un,{children:u.jsx(U6,{"data-slot":"tooltip",...e})})}function pn({...e}){return u.jsx(W6,{"data-slot":"tooltip-trigger",...e})}function hn({className:e,sideOffset:t=0,children:n,...r}){return u.jsx(X6,{children:u.jsxs(G6,{"data-slot":"tooltip-content",sideOffset:t,className:ze("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,u.jsx(Y6,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}var pf="Popover",[KE,y7]=Kt(pf,[Zs]),rc=Zs(),[q6,Go]=KE(pf),QE=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:a=!1}=e,c=rc(t),d=b.useRef(null),[f,h]=b.useState(!1),[m,g]=mn({prop:r,defaultProp:o??!1,onChange:s,caller:pf});return u.jsx(Xg,{...c,children:u.jsx(q6,{scope:t,contentId:or(),triggerRef:d,open:m,onOpenChange:g,onOpenToggle:b.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:f,onCustomAnchorAdd:b.useCallback(()=>h(!0),[]),onCustomAnchorRemove:b.useCallback(()=>h(!1),[]),modal:a,children:n})})};QE.displayName=pf;var JE="PopoverAnchor",K6=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Go(JE,n),s=rc(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:c}=o;return b.useEffect(()=>(a(),()=>c()),[a,c]),u.jsx(Gd,{...s,...r,ref:t})});K6.displayName=JE;var ZE="PopoverTrigger",e_=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Go(ZE,n),s=rc(n),a=Ue(t,o.triggerRef),c=u.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":i_(o.open),...r,ref:a,onClick:Re(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?c:u.jsx(Gd,{asChild:!0,...s,children:c})});e_.displayName=ZE;var yy="PopoverPortal",[Q6,J6]=KE(yy,{forceMount:void 0}),t_=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,s=Go(yy,t);return u.jsx(Q6,{scope:t,forceMount:n,children:u.jsx(Tn,{present:n||s.open,children:u.jsx(tc,{asChild:!0,container:o,children:r})})})};t_.displayName=yy;var Ws="PopoverContent",n_=b.forwardRef((e,t)=>{const n=J6(Ws,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,s=Go(Ws,e.__scopePopover);return u.jsx(Tn,{present:r||s.open,children:s.modal?u.jsx(eV,{...o,ref:t}):u.jsx(tV,{...o,ref:t})})});n_.displayName=Ws;var Z6=ki("PopoverContent.RemoveScroll"),eV=b.forwardRef((e,t)=>{const n=Go(Ws,e.__scopePopover),r=b.useRef(null),o=Ue(t,r),s=b.useRef(!1);return b.useEffect(()=>{const a=r.current;if(a)return qg(a)},[]),u.jsx(Kd,{as:Z6,allowPinchZoom:!0,children:u.jsx(r_,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(e.onCloseAutoFocus,a=>{var c;a.preventDefault(),s.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Re(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;s.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Re(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),tV=b.forwardRef((e,t)=>{const n=Go(Ws,e.__scopePopover),r=b.useRef(!1),o=b.useRef(!1);return u.jsx(r_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,c;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=s.target;((f=n.triggerRef.current)==null?void 0:f.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),r_=b.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,...m}=e,g=Go(Ws,n),y=rc(n);return Dg(),u.jsx(Vd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:u.jsx(Za,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:h,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:u.jsx(Gg,{"data-state":i_(g.open),role:"dialog",id:g.contentId,...y,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),o_="PopoverClose",nV=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Go(o_,n);return u.jsx(Le.button,{type:"button",...r,ref:t,onClick:Re(e.onClick,()=>o.onOpenChange(!1))})});nV.displayName=o_;var rV="PopoverArrow",oV=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=rc(n);return u.jsx(Yg,{...o,...r,ref:t})});oV.displayName=rV;function i_(e){return e?"open":"closed"}var iV=QE,sV=e_,lV=t_,aV=n_;function cV({...e}){return u.jsx(iV,{"data-slot":"popover",...e})}function uV({...e}){return u.jsx(sV,{"data-slot":"popover-trigger",...e})}function dV({className:e,align:t="center",sideOffset:n=4,...r}){return u.jsx(lV,{children:u.jsx(aV,{"data-slot":"popover-content",align:t,sideOffset:n,className:ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}var s_=["PageUp","PageDown"],l_=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],a_={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},tl="Slider",[Xm,fV,pV]=Tg(tl),[c_,x7]=Kt(tl,[pV]),[hV,hf]=c_(tl),u_=b.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:s=1,orientation:a="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[r],value:h,onValueChange:m=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:S,...v}=e,w=b.useRef(new Set),N=b.useRef(0),k=a==="horizontal"?mV:gV,[P=[],I]=mn({prop:h,defaultProp:f,onChange:Y=>{var V;(V=[...w.current][N.current])==null||V.focus(),m(Y)}}),A=b.useRef(P);function T(Y){const U=bV(P,Y);X(Y,U)}function $(Y){X(Y,N.current)}function G(){const Y=A.current[N.current];P[N.current]!==Y&&g(P)}function X(Y,U,{commit:V}={commit:!1}){const j=kV(s),O=EV(Math.round((Y-r)/s)*s+r,j),z=Da(O,[r,o]);I((H=[])=>{const L=vV(H,z,U);if(CV(L,d*s)){N.current=L.indexOf(z);const W=String(L)!==String(H);return W&&V&&g(L),W?L:H}else return H})}return u.jsx(hV,{scope:e.__scopeSlider,name:n,disabled:c,min:r,max:o,valueIndexToChangeRef:N,thumbs:w.current,values:P,orientation:a,form:S,children:u.jsx(Xm.Provider,{scope:e.__scopeSlider,children:u.jsx(Xm.Slot,{scope:e.__scopeSlider,children:u.jsx(k,{"aria-disabled":c,"data-disabled":c?"":void 0,...v,ref:t,onPointerDown:Re(v.onPointerDown,()=>{c||(A.current=P)}),min:r,max:o,inverted:y,onSlideStart:c?void 0:T,onSlideMove:c?void 0:$,onSlideEnd:c?void 0:G,onHomeKeyDown:()=>!c&&X(r,0,{commit:!0}),onEndKeyDown:()=>!c&&X(o,P.length-1,{commit:!0}),onStepKeyDown:({event:Y,direction:U})=>{if(!c){const O=s_.includes(Y.key)||Y.shiftKey&&l_.includes(Y.key)?10:1,z=N.current,H=P[z],L=s*O*U;X(H+L,z,{commit:!0})}}})})})})});u_.displayName=tl;var[d_,f_]=c_(tl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),mV=b.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:s,onSlideStart:a,onSlideMove:c,onSlideEnd:d,onStepKeyDown:f,...h}=e,[m,g]=b.useState(null),y=Ue(t,k=>g(k)),S=b.useRef(void 0),v=Uo(o),w=v==="ltr",N=w&&!s||!w&&s;function _(k){const P=S.current||m.getBoundingClientRect(),I=[0,P.width],T=xy(I,N?[n,r]:[r,n]);return S.current=P,T(k-P.left)}return u.jsx(d_,{scope:e.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:u.jsx(p_,{dir:v,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const P=_(k.clientX);a==null||a(P)},onSlideMove:k=>{const P=_(k.clientX);c==null||c(P)},onSlideEnd:()=>{S.current=void 0,d==null||d()},onStepKeyDown:k=>{const I=a_[N?"from-left":"from-right"].includes(k.key);f==null||f({event:k,direction:I?-1:1})}})})}),gV=b.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:s,onSlideMove:a,onSlideEnd:c,onStepKeyDown:d,...f}=e,h=b.useRef(null),m=Ue(t,h),g=b.useRef(void 0),y=!o;function S(v){const w=g.current||h.current.getBoundingClientRect(),N=[0,w.height],k=xy(N,y?[r,n]:[n,r]);return g.current=w,k(v-w.top)}return u.jsx(d_,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:u.jsx(p_,{"data-orientation":"vertical",...f,ref:m,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const w=S(v.clientY);s==null||s(w)},onSlideMove:v=>{const w=S(v.clientY);a==null||a(w)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:v=>{const N=a_[y?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:N?-1:1})}})})}),p_=b.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:c,onStepKeyDown:d,...f}=e,h=hf(tl,n);return u.jsx(Le.span,{...f,ref:t,onKeyDown:Re(e.onKeyDown,m=>{m.key==="Home"?(a(m),m.preventDefault()):m.key==="End"?(c(m),m.preventDefault()):s_.concat(l_).includes(m.key)&&(d(m),m.preventDefault())}),onPointerDown:Re(e.onPointerDown,m=>{const g=m.target;g.setPointerCapture(m.pointerId),m.preventDefault(),h.thumbs.has(g)?g.focus():r(m)}),onPointerMove:Re(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&o(m)}),onPointerUp:Re(e.onPointerUp,m=>{const g=m.target;g.hasPointerCapture(m.pointerId)&&(g.releasePointerCapture(m.pointerId),s(m))})})}),h_="SliderTrack",m_=b.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=hf(h_,n);return u.jsx(Le.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});m_.displayName=h_;var Gm="SliderRange",g_=b.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=hf(Gm,n),s=f_(Gm,n),a=b.useRef(null),c=Ue(t,a),d=o.values.length,f=o.values.map(g=>v_(g,o.min,o.max)),h=d>1?Math.min(...f):0,m=100-Math.max(...f);return u.jsx(Le.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:c,style:{...e.style,[s.startEdge]:h+"%",[s.endEdge]:m+"%"}})});g_.displayName=Gm;var Ym="SliderThumb",y_=b.forwardRef((e,t)=>{const n=fV(e.__scopeSlider),[r,o]=b.useState(null),s=Ue(t,c=>o(c)),a=b.useMemo(()=>r?n().findIndex(c=>c.ref.current===r):-1,[n,r]);return u.jsx(yV,{...e,ref:s,index:a})}),yV=b.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...s}=e,a=hf(Ym,n),c=f_(Ym,n),[d,f]=b.useState(null),h=Ue(t,_=>f(_)),m=d?a.form||!!d.closest("form"):!0,g=Xd(d),y=a.values[r],S=y===void 0?0:v_(y,a.min,a.max),v=wV(r,a.values.length),w=g==null?void 0:g[c.size],N=w?SV(w,S,c.direction):0;return b.useEffect(()=>{if(d)return a.thumbs.add(d),()=>{a.thumbs.delete(d)}},[d,a.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${S}% + ${N}px)`},children:[u.jsx(Xm.ItemSlot,{scope:e.__scopeSlider,children:u.jsx(Le.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":y,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:h,style:y===void 0?{display:"none"}:e.style,onFocus:Re(e.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),m&&u.jsx(x_,{name:o??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:y},r)]})});y_.displayName=Ym;var xV="RadioBubbleInput",x_=b.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const o=b.useRef(null),s=Ue(o,r),a=Yd(t);return b.useEffect(()=>{const c=o.current;if(!c)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==t&&h){const m=new Event("input",{bubbles:!0});h.call(c,t),c.dispatchEvent(m)}},[a,t]),u.jsx(Le.input,{style:{display:"none"},...n,ref:s,defaultValue:t})});x_.displayName=xV;function vV(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,s)=>o-s)}function v_(e,t,n){const s=100/(n-t)*(e-t);return Da(s,[0,100])}function wV(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function bV(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function SV(e,t,n){const r=e/2,s=xy([0,50],[0,r]);return(r-s(t)*n)*n}function NV(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function CV(e,t){if(t>0){const n=NV(e);return Math.min(...n)>=t}return!0}function xy(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function kV(e){return(String(e).split(".")[1]||"").length}function EV(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var _V=u_,jV=m_,PV=g_,AV=y_;function zu({className:e,defaultValue:t,value:n,min:r=0,max:o=100,...s}){const a=b.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,o],[n,t,r,o]);return u.jsxs(_V,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:o,className:ze("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...s,children:[u.jsx(jV,{"data-slot":"slider-track",className:ze("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:u.jsx(PV,{"data-slot":"slider-range",className:ze("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(c,d)=>u.jsx(AV,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},d))]})}var Yo="ToggleGroup",[w_,v7]=Kt(Yo,[Ks]),b_=Ks(),vy=Ie.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return u.jsx(IV,{...o,ref:t})}if(n==="multiple"){const o=r;return u.jsx(TV,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Yo}\``)});vy.displayName=Yo;var[S_,N_]=w_(Yo),IV=Ie.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[a,c]=mn({prop:n,defaultProp:r??"",onChange:o,caller:Yo});return u.jsx(S_,{scope:e.__scopeToggleGroup,type:"single",value:Ie.useMemo(()=>a?[a]:[],[a]),onItemActivate:c,onItemDeactivate:Ie.useCallback(()=>c(""),[c]),children:u.jsx(C_,{...s,ref:t})})}),TV=Ie.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[a,c]=mn({prop:n,defaultProp:r??[],onChange:o,caller:Yo}),d=Ie.useCallback(h=>c((m=[])=>[...m,h]),[c]),f=Ie.useCallback(h=>c((m=[])=>m.filter(g=>g!==h)),[c]);return u.jsx(S_,{scope:e.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:d,onItemDeactivate:f,children:u.jsx(C_,{...s,ref:t})})});vy.displayName=Yo;var[RV,MV]=w_(Yo),C_=Ie.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:s,dir:a,loop:c=!0,...d}=e,f=b_(n),h=Uo(a),m={role:"group",dir:h,...d};return u.jsx(RV,{scope:n,rovingFocus:o,disabled:r,children:o?u.jsx(Rg,{asChild:!0,...f,orientation:s,dir:h,loop:c,children:u.jsx(Le.div,{...m,ref:t})}):u.jsx(Le.div,{...m,ref:t})})}),bd="ToggleGroupItem",k_=Ie.forwardRef((e,t)=>{const n=N_(bd,e.__scopeToggleGroup),r=MV(bd,e.__scopeToggleGroup),o=b_(e.__scopeToggleGroup),s=n.value.includes(e.value),a=r.disabled||e.disabled,c={...e,pressed:s,disabled:a},d=Ie.useRef(null);return r.rovingFocus?u.jsx(Mg,{asChild:!0,...o,focusable:!a,active:s,ref:d,children:u.jsx(R1,{...c,ref:t})}):u.jsx(R1,{...c,ref:t})});k_.displayName=bd;var R1=Ie.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,s=N_(bd,n),a={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},c=s.type==="single"?a:void 0;return u.jsx(hy,{...c,...o,ref:t,onPressedChange:d=>{d?s.onItemActivate(r):s.onItemDeactivate(r)}})}),OV=vy,DV=k_;const E_=b.createContext({size:"default",variant:"default"});function LV({className:e,variant:t,size:n,children:r,...o}){return u.jsx(OV,{"data-slot":"toggle-group","data-variant":t,"data-size":n,className:ze("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",e),...o,children:u.jsx(E_.Provider,{value:{variant:t,size:n},children:r})})}function M1({className:e,children:t,variant:n,size:r,...o}){const s=b.useContext(E_);return u.jsx(DV,{"data-slot":"toggle-group-item","data-variant":s.variant||n,"data-size":s.size||r,className:ze($E({variant:s.variant||n,size:s.size||r}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",e),...o,children:t})}function zV({onApplyLayout:e}){const[t,n]=b.useState({algorithm:"dagre",direction:"TB",nodeSeparation:50,rankSeparation:100}),[r,o]=b.useState(!1),s=()=>{e(t),o(!1)};return u.jsxs(cV,{open:r,onOpenChange:o,children:[u.jsx(Un,{children:u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("span",{children:u.jsx(uV,{asChild:!0,children:u.jsxs(we,{variant:"ghost",size:"icon",children:[u.jsx(JP,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Layout"})]})})})}),u.jsx(hn,{children:u.jsx("p",{children:"Layout Options"})})]})}),u.jsx(dV,{className:"w-80",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium",children:"Layout Options"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"algorithm",children:"Algorithm"}),u.jsxs(rn,{value:t.algorithm,onValueChange:a=>n({...t,algorithm:a}),children:[u.jsx(sn,{id:"algorithm",children:u.jsx(on,{placeholder:"Select algorithm"})}),u.jsxs(ln,{children:[u.jsx(nt,{value:"dagre",children:"Dagre"}),u.jsx(nt,{value:"elk",children:"ELK"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{children:"Direction"}),u.jsxs(LV,{type:"single",value:t.direction,onValueChange:a=>{a&&n({...t,direction:a})},className:"justify-start",children:[u.jsx(M1,{value:"TB","aria-label":"Vertical Layout",title:"Vertical Layout",children:u.jsx(gP,{className:"h-4 w-4"})}),u.jsx(M1,{value:"LR","aria-label":"Horizontal Layout",title:"Horizontal Layout",children:u.jsx(Ab,{className:"h-4 w-4"})})]})]}),u.jsx(Qa,{}),t.algorithm==="dagre"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(ke,{htmlFor:"nodeSeparation",children:"Node Separation"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.nodeSeparation,"px"]})]}),u.jsx(zu,{id:"nodeSeparation",min:20,max:200,step:5,value:[t.nodeSeparation],onValueChange:a=>n({...t,nodeSeparation:a[0]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(ke,{htmlFor:"rankSeparation",children:"Rank Separation"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.rankSeparation,"px"]})]}),u.jsx(zu,{id:"rankSeparation",min:20,max:300,step:10,value:[t.rankSeparation],onValueChange:a=>n({...t,rankSeparation:a[0]})})]})]}),t.algorithm==="elk"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(ke,{htmlFor:"nodeNodeSpacing",children:"Node-Node Spacing"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.nodeSeparation,"px"]})]}),u.jsx(zu,{id:"nodeNodeSpacing",min:10,max:100,step:5,value:[t.nodeSeparation],onValueChange:a=>n({...t,nodeSeparation:a[0]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(ke,{htmlFor:"layerSpacing",children:"Layer Spacing"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.rankSeparation,"px"]})]}),u.jsx(zu,{id:"layerSpacing",min:20,max:200,step:10,value:[t.rankSeparation],onValueChange:a=>n({...t,rankSeparation:a[0]})})]})]}),u.jsx(we,{className:"w-full",onClick:s,children:"Apply Layout"})]})})]})}const __=b.createContext([null,()=>{}]),$V=({children:e})=>{const[t,n]=b.useState(null);return u.jsx(__.Provider,{value:[t,n],children:e})},j_=()=>b.useContext(__);function FV({toggleArcMode:e,onApplyLayout:t}){const[,n]=j_(),r=ge(a=>a.showMarkingDisplay),o=ge(a=>a.setShowMarkingDisplay),s=(a,c)=>{n&&n(c),a.dataTransfer.effectAllowed="move"};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"flex items-center gap-2 bg-background border rounded-lg p-2 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Un,{children:u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("span",{children:u.jsx(we,{variant:"ghost",size:"icon",title:"Place",className:"cursor-grab",children:u.jsxs("div",{draggable:!0,onDragStart:a=>s(a,"place"),children:[u.jsx(Tb,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Drag a Place from Here"})]})})})}),u.jsx(hn,{children:u.jsx("p",{children:"Drag a Place from Here"})})]})}),u.jsx(Un,{children:u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("span",{children:u.jsx(we,{variant:"ghost",size:"icon",title:"Transition",className:"cursor-grab",children:u.jsxs("div",{draggable:!0,onDragStart:a=>s(a,"transition"),children:[u.jsx(Ob,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Drag a Transition from Here"})]})})})}),u.jsx(hn,{children:u.jsx("p",{children:"Drag a Transition from Here"})})]})}),u.jsx(Un,{children:u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(T1,{"aria-label":"Toggle Arc",onPressedChange:e,children:[u.jsx(Ab,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Toggle Arc Mode"})]})})}),u.jsx(hn,{children:u.jsx("p",{children:"Toggle Arc Mode"})})]})}),u.jsx(Un,{children:u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("span",{children:u.jsx(we,{variant:"ghost",size:"icon",title:"Annotation",className:"cursor-grab",children:u.jsxs("div",{draggable:!0,onDragStart:a=>s(a,"auxText"),children:[u.jsx(KP,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Drag a Text Annotation from Here"})]})})})}),u.jsx(hn,{children:u.jsx("p",{children:"Drag a Text Annotation from Here"})})]})})]}),u.jsx("div",{className:"flex items-center gap-2 h-6",children:u.jsx(Qa,{orientation:"vertical",className:"mx-1 h-6"})}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Un,{children:u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(T1,{"aria-label":"Toggle Marking Display",pressed:r,onPressedChange:o,children:[u.jsx(vA,{className:"h-4 w-4 text-green-600"}),u.jsx("span",{className:"sr-only",children:"Toggle Marking Display"})]})})}),u.jsx(hn,{children:u.jsx("p",{children:"Toggle Marking Display"})})]})}),u.jsx(zV,{onApplyLayout:t})]})]})})}function BV({slices:e,position:t,isOpen:n,onClose:r,onSliceClick:o,size:s=240}){const[a,c]=b.useState(null),d=b.useRef(null);return b.useEffect(()=>{const f=h=>{d.current&&!d.current.contains(h.target)&&n&&r()};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[n,r]),n?u.jsx("div",{className:"fixed z-50",style:{left:`${t.x}px`,top:`${t.y}px`,transform:"translate(-50%, -50%)"},ref:d,children:u.jsx("div",{className:"rounded-full bg-sky-100 overflow-visible shadow-lg",style:{width:`${s}px`,height:`${s}px`},children:u.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:e.map((f,h)=>{const m=(f.angle-30)*Math.PI/180,g=(f.angle+30)*Math.PI/180,y=50+50*Math.cos(m),S=50+50*Math.sin(m),v=50+50*Math.cos(g),w=50+50*Math.sin(g),N=`M 50 50 L ${y} ${S} A 50 50 0 0 1 ${v} ${w} Z`,_=38,k=50+_*Math.cos(f.angle*Math.PI/180),P=50+_*Math.sin(f.angle*Math.PI/180),I=h===a;return u.jsxs("g",{onClick:()=>o(h,f),onMouseEnter:()=>c(h),onMouseLeave:()=>c(null),style:{cursor:"pointer"},children:[u.jsx("path",{d:N,fill:I?"#6b9ac4":"transparent",stroke:"#e2e8f0",strokeWidth:"0.5"}),u.jsx("g",{transform:`translate(${k}, ${P}) rotate(${f.angle})`,children:f.label.map((A,T)=>u.jsx("text",{x:"0",y:T*8,textAnchor:"middle",fontSize:"5",fill:f.disabled?"#d3d3d3":"#333",transform:`rotate(-${f.angle})`,dominantBaseline:"middle",children:A},T))})]},h)})})})}):null}const VV=({fromX:e,fromY:t,toX:n,toY:r,connectionLineStyle:o,label:s})=>{const[a]=Sg({sourceX:e,sourceY:t,targetX:n,targetY:r}),c=(e+n)/2,d=(t+r)/2;return u.jsxs("g",{children:[u.jsx("path",{style:o||{stroke:"black",strokeWidth:1},fill:"none",d:a}),s&&u.jsx("text",{x:c,y:d,textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"12px",fill:"black"},children:s})]})};function HV({open:e,onOpenChange:t,onFileLoaded:n}){const[r,o]=b.useState(!1),[s,a]=b.useState(!1),c=b.useRef(null),d=v=>{v.preventDefault(),o(!0)},f=()=>{o(!1)},h=v=>{if(v.preventDefault(),o(!1),v.dataTransfer.files&&v.dataTransfer.files.length>0){const w=v.dataTransfer.files[0];g(w)}},m=v=>{if(v.target.files&&v.target.files.length>0){const w=v.target.files[0];g(w)}},g=v=>{const w=new FileReader;w.onload=N=>{var _;(_=N.target)!=null&&_.result&&(n(N.target.result,v.name),t(!1))},w.readAsText(v)},y=()=>{var v;(v=c.current)==null||v.click()},S=async()=>{a(!0);try{const v=await fetch("/ocpn-tools/examples/airport.ocpn");if(!v.ok)throw new Error("Failed to load example file");const w=await v.text();n(w,"airport.ocpn"),t(!1)}catch(v){console.error("Error loading example:",v)}finally{a(!1)}};return u.jsx(an,{open:e,onOpenChange:t,children:u.jsxs(cn,{className:"sm:max-w-[500px]",children:[u.jsxs(un,{children:[u.jsx(dn,{children:"Open Petri Net"}),u.jsx(Ri,{children:"Load a CPN Tools .cpn or cpn-py JSON file to visualize your Petri Net."})]}),u.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-primary bg-primary/10":"border-muted-foreground/25"}`,onDragOver:d,onDragLeave:f,onDrop:h,children:u.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[u.jsx(Db,{className:"h-10 w-10 text-muted-foreground"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Drag & Drop"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drop your Petri Net file here, or click to browse"}),u.jsx("input",{ref:c,type:"file",accept:".xml,.json,.cpn,.ocpn",className:"hidden",onChange:m}),u.jsxs(we,{onClick:y,variant:"outline",children:[u.jsx(BP,{className:"mr-2 h-4 w-4"}),"Open File..."]})]})}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx("span",{children:"Or try an example:"}),u.jsxs(we,{variant:"link",className:"p-0 h-auto text-sm",onClick:S,disabled:s,children:[u.jsx(eA,{className:"mr-1 h-3 w-3"}),"Airport Ground Handling"]})]}),u.jsx(Br,{children:u.jsx(we,{variant:"outline",onClick:()=>t(!1),children:"Cancel"})})]})})}function UV({open:e,onOpenChange:t,onSave:n,petriNetName:r}){const[o,s]=b.useState("json"),a=()=>{n(o),t(!1)};return u.jsx(an,{open:e,onOpenChange:t,children:u.jsxs(cn,{className:"sm:max-w-[425px]",children:[u.jsxs(un,{children:[u.jsx(dn,{children:"Save Petri Net"}),u.jsxs(Ri,{children:['Choose a format to save your Petri Net "',r,'".']})]}),u.jsx("div",{className:"py-4",children:u.jsxs(vE,{value:o,onValueChange:s,className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(As,{value:"json",id:"json"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(ke,{htmlFor:"json",className:"font-medium",children:"OCPN JSON"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Simple JSON format. Best for OCPN Tools."})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(As,{value:"cpn-tools",id:"cpn-tools"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(ke,{htmlFor:"cpn-tools",className:"font-medium",children:"CPN Tools XML"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Standard format for CPN Tools. Best for compatibility with CPN Tools."})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(As,{value:"cpn-py",id:"cpn-py"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(ke,{htmlFor:"cpn-py",className:"font-medium",children:"cpn-py JSON"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Format compatible with cpn-py library. Best for Python integration."})]})]})]})}),u.jsxs(Br,{children:[u.jsx(we,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(we,{onClick:a,children:"Save"})]})]})})}function WV(){const e=b.useContext(lf);if(!e)throw new Error("SimulationToolbar must be used within a SimulationProvider");const{reset:t,runStep:n,runMultipleStepsAnimated:r,runMultipleStepsFast:o,stop:s,isRunning:a,simulationConfig:c}=e,d=()=>{t()},f=()=>{s()},h=()=>{n()},m=()=>{r(c.stepsPerRun,c.animationDelayMs)},g=()=>{o(c.stepsPerRun)};return u.jsx("div",{className:"flex items-center gap-1",children:u.jsxs(Un,{children:[u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(we,{variant:"ghost",size:"icon",onClick:d,disabled:a,children:[u.jsx(iA,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Reset Simulation"})]})})}),u.jsx(hn,{children:u.jsx("p",{children:"Reset Simulation"})})]}),u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(we,{variant:"ghost",size:"icon",onClick:f,disabled:!a,children:[u.jsx(Ob,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Stop Simulation"})]})})}),u.jsx(hn,{children:u.jsx("p",{children:"Stop Simulation"})})]}),u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(we,{variant:"ghost",size:"icon",onClick:h,disabled:a,children:[u.jsx(hA,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Execute One Step"})]})})}),u.jsx(hn,{children:u.jsx("p",{children:"Execute One Step"})})]}),u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(we,{variant:"ghost",size:"icon",onClick:m,disabled:a,className:"relative",children:[u.jsx(nA,{className:"h-5 w-5"}),u.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] text-primary-foreground font-medium",children:c.stepsPerRun}),u.jsxs("span",{className:"sr-only",children:["Run ",c.stepsPerRun," Steps (Animated)"]})]})})}),u.jsx(hn,{children:u.jsxs("p",{children:["Run ",c.stepsPerRun," Steps (with intermediate markings)"]})})]}),u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(we,{variant:"ghost",size:"icon",onClick:g,disabled:a,className:"relative",children:[u.jsx($P,{className:"h-5 w-5"}),u.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] text-primary-foreground font-medium",children:c.stepsPerRun}),u.jsxs("span",{className:"sr-only",children:["Run ",c.stepsPerRun," Steps (Fast)"]})]})})}),u.jsx(hn,{children:u.jsxs("p",{children:["Run ",c.stepsPerRun," Steps (without intermediate markings)"]})})]})]})})}function XV(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const GV=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,YV=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qV={};function O1(e,t){return(qV.jsx?YV:GV).test(e)}const KV=/[ \t\n\f\r]/g;function QV(e){return typeof e=="object"?e.type==="text"?D1(e.value):!1:D1(e)}function D1(e){return e.replace(KV,"")===""}class oc{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}oc.prototype.normal={};oc.prototype.property={};oc.prototype.space=void 0;function P_(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new oc(n,r,t)}function qm(e){return e.toLowerCase()}class Rn{constructor(t,n){this.attribute=n,this.property=t}}Rn.prototype.attribute="";Rn.prototype.booleanish=!1;Rn.prototype.boolean=!1;Rn.prototype.commaOrSpaceSeparated=!1;Rn.prototype.commaSeparated=!1;Rn.prototype.defined=!1;Rn.prototype.mustUseProperty=!1;Rn.prototype.number=!1;Rn.prototype.overloadedBoolean=!1;Rn.prototype.property="";Rn.prototype.spaceSeparated=!1;Rn.prototype.space=void 0;let JV=0;const Qe=Mi(),Dt=Mi(),A_=Mi(),xe=Mi(),yt=Mi(),Is=Mi(),Fn=Mi();function Mi(){return 2**++JV}const Km=Object.freeze(Object.defineProperty({__proto__:null,boolean:Qe,booleanish:Dt,commaOrSpaceSeparated:Fn,commaSeparated:Is,number:xe,overloadedBoolean:A_,spaceSeparated:yt},Symbol.toStringTag,{value:"Module"})),qh=Object.keys(Km);class wy extends Rn{constructor(t,n,r,o){let s=-1;if(super(t,n),L1(this,"space",o),typeof r=="number")for(;++s<qh.length;){const a=qh[s];L1(this,qh[s],(r&Km[a])===Km[a])}}}wy.prototype.defined=!0;function L1(e,t,n){n&&(e[t]=n)}function nl(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const s=new wy(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[qm(r)]=r,n[qm(s.attribute)]=r}return new oc(t,n,e.space)}const I_=nl({properties:{ariaActiveDescendant:null,ariaAtomic:Dt,ariaAutoComplete:null,ariaBusy:Dt,ariaChecked:Dt,ariaColCount:xe,ariaColIndex:xe,ariaColSpan:xe,ariaControls:yt,ariaCurrent:null,ariaDescribedBy:yt,ariaDetails:null,ariaDisabled:Dt,ariaDropEffect:yt,ariaErrorMessage:null,ariaExpanded:Dt,ariaFlowTo:yt,ariaGrabbed:Dt,ariaHasPopup:null,ariaHidden:Dt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yt,ariaLevel:xe,ariaLive:null,ariaModal:Dt,ariaMultiLine:Dt,ariaMultiSelectable:Dt,ariaOrientation:null,ariaOwns:yt,ariaPlaceholder:null,ariaPosInSet:xe,ariaPressed:Dt,ariaReadOnly:Dt,ariaRelevant:null,ariaRequired:Dt,ariaRoleDescription:yt,ariaRowCount:xe,ariaRowIndex:xe,ariaRowSpan:xe,ariaSelected:Dt,ariaSetSize:xe,ariaSort:null,ariaValueMax:xe,ariaValueMin:xe,ariaValueNow:xe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function T_(e,t){return t in e?e[t]:t}function R_(e,t){return T_(e,t.toLowerCase())}const ZV=nl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Is,acceptCharset:yt,accessKey:yt,action:null,allow:null,allowFullScreen:Qe,allowPaymentRequest:Qe,allowUserMedia:Qe,alt:null,as:null,async:Qe,autoCapitalize:null,autoComplete:yt,autoFocus:Qe,autoPlay:Qe,blocking:yt,capture:null,charSet:null,checked:Qe,cite:null,className:yt,cols:xe,colSpan:null,content:null,contentEditable:Dt,controls:Qe,controlsList:yt,coords:xe|Is,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Qe,defer:Qe,dir:null,dirName:null,disabled:Qe,download:A_,draggable:Dt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Qe,formTarget:null,headers:yt,height:xe,hidden:Qe,high:xe,href:null,hrefLang:null,htmlFor:yt,httpEquiv:yt,id:null,imageSizes:null,imageSrcSet:null,inert:Qe,inputMode:null,integrity:null,is:null,isMap:Qe,itemId:null,itemProp:yt,itemRef:yt,itemScope:Qe,itemType:yt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Qe,low:xe,manifest:null,max:null,maxLength:xe,media:null,method:null,min:null,minLength:xe,multiple:Qe,muted:Qe,name:null,nonce:null,noModule:Qe,noValidate:Qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Qe,optimum:xe,pattern:null,ping:yt,placeholder:null,playsInline:Qe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Qe,referrerPolicy:null,rel:yt,required:Qe,reversed:Qe,rows:xe,rowSpan:xe,sandbox:yt,scope:null,scoped:Qe,seamless:Qe,selected:Qe,shadowRootClonable:Qe,shadowRootDelegatesFocus:Qe,shadowRootMode:null,shape:null,size:xe,sizes:null,slot:null,span:xe,spellCheck:Dt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:xe,step:null,style:null,tabIndex:xe,target:null,title:null,translate:null,type:null,typeMustMatch:Qe,useMap:null,value:Dt,width:xe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:yt,axis:null,background:null,bgColor:null,border:xe,borderColor:null,bottomMargin:xe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Qe,declare:Qe,event:null,face:null,frame:null,frameBorder:null,hSpace:xe,leftMargin:xe,link:null,longDesc:null,lowSrc:null,marginHeight:xe,marginWidth:xe,noResize:Qe,noHref:Qe,noShade:Qe,noWrap:Qe,object:null,profile:null,prompt:null,rev:null,rightMargin:xe,rules:null,scheme:null,scrolling:Dt,standby:null,summary:null,text:null,topMargin:xe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:xe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Qe,disableRemotePlayback:Qe,prefix:null,property:null,results:xe,security:null,unselectable:null},space:"html",transform:R_}),e8=nl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Fn,accentHeight:xe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:xe,amplitude:xe,arabicForm:null,ascent:xe,attributeName:null,attributeType:null,azimuth:xe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:xe,by:null,calcMode:null,capHeight:xe,className:yt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:xe,diffuseConstant:xe,direction:null,display:null,dur:null,divisor:xe,dominantBaseline:null,download:Qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:xe,enableBackground:null,end:null,event:null,exponent:xe,externalResourcesRequired:null,fill:null,fillOpacity:xe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Is,g2:Is,glyphName:Is,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:xe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:xe,horizOriginX:xe,horizOriginY:xe,id:null,ideographic:xe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:xe,k:xe,k1:xe,k2:xe,k3:xe,k4:xe,kernelMatrix:Fn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:xe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:xe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:xe,overlineThickness:xe,paintOrder:null,panose1:null,path:null,pathLength:xe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:yt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:xe,pointsAtY:xe,pointsAtZ:xe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Fn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Fn,rev:Fn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Fn,requiredFeatures:Fn,requiredFonts:Fn,requiredFormats:Fn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:xe,specularExponent:xe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:xe,strikethroughThickness:xe,string:null,stroke:null,strokeDashArray:Fn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:xe,strokeOpacity:xe,strokeWidth:null,style:null,surfaceScale:xe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Fn,tabIndex:xe,tableValues:null,target:null,targetX:xe,targetY:xe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Fn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:xe,underlineThickness:xe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:xe,values:null,vAlphabetic:xe,vMathematical:xe,vectorEffect:null,vHanging:xe,vIdeographic:xe,version:null,vertAdvY:xe,vertOriginX:xe,vertOriginY:xe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:xe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:T_}),M_=nl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),O_=nl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:R_}),D_=nl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),t8={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},n8=/[A-Z]/g,z1=/-[a-z]/g,r8=/^data[-\w.:]+$/i;function o8(e,t){const n=qm(t);let r=t,o=Rn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&r8.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(z1,s8);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!z1.test(s)){let a=s.replace(n8,i8);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}o=wy}return new o(r,t)}function i8(e){return"-"+e.toLowerCase()}function s8(e){return e.charAt(1).toUpperCase()}const l8=P_([I_,ZV,M_,O_,D_],"html"),by=P_([I_,e8,M_,O_,D_],"svg");function a8(e){return e.join(" ").trim()}var gs={},Kh,$1;function c8(){if($1)return Kh;$1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,f="/",h="*",m="",g="comment",y="declaration";Kh=function(v,w){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];w=w||{};var N=1,_=1;function k(V){var j=V.match(t);j&&(N+=j.length);var O=V.lastIndexOf(d);_=~O?V.length-O:_+V.length}function P(){var V={line:N,column:_};return function(j){return j.position=new I(V),$(),j}}function I(V){this.start=V,this.end={line:N,column:_},this.source=w.source}I.prototype.content=v;function A(V){var j=new Error(w.source+":"+N+":"+_+": "+V);if(j.reason=V,j.filename=w.source,j.line=N,j.column=_,j.source=v,!w.silent)throw j}function T(V){var j=V.exec(v);if(j){var O=j[0];return k(O),v=v.slice(O.length),j}}function $(){T(n)}function G(V){var j;for(V=V||[];j=X();)j!==!1&&V.push(j);return V}function X(){var V=P();if(!(f!=v.charAt(0)||h!=v.charAt(1))){for(var j=2;m!=v.charAt(j)&&(h!=v.charAt(j)||f!=v.charAt(j+1));)++j;if(j+=2,m===v.charAt(j-1))return A("End of comment missing");var O=v.slice(2,j-2);return _+=2,k(O),v=v.slice(j),_+=2,V({type:g,comment:O})}}function Y(){var V=P(),j=T(r);if(j){if(X(),!T(o))return A("property missing ':'");var O=T(s),z=V({type:y,property:S(j[0].replace(e,m)),value:O?S(O[0].replace(e,m)):m});return T(a),z}}function U(){var V=[];G(V);for(var j;j=Y();)j!==!1&&(V.push(j),G(V));return V}return $(),U()};function S(v){return v?v.replace(c,m):m}return Kh}var F1;function u8(){if(F1)return gs;F1=1;var e=gs&&gs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gs,"__esModule",{value:!0}),gs.default=n;var t=e(c8());function n(r,o){var s=null;if(!r||typeof r!="string")return s;var a=(0,t.default)(r),c=typeof o=="function";return a.forEach(function(d){if(d.type==="declaration"){var f=d.property,h=d.value;c?o(f,h,d):h&&(s=s||{},s[f]=h)}}),s}return gs}var Zl={},B1;function d8(){if(B1)return Zl;B1=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,s=function(f){return!f||n.test(f)||e.test(f)},a=function(f,h){return h.toUpperCase()},c=function(f,h){return"".concat(h,"-")},d=function(f,h){return h===void 0&&(h={}),s(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(o,c):f=f.replace(r,c),f.replace(t,a))};return Zl.camelCase=d,Zl}var ea,V1;function f8(){if(V1)return ea;V1=1;var e=ea&&ea.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(u8()),n=d8();function r(o,s){var a={};return!o||typeof o!="string"||(0,t.default)(o,function(c,d){c&&d&&(a[(0,n.camelCase)(c,s)]=d)}),a}return r.default=r,ea=r,ea}var p8=f8();const h8=Va(p8),L_=z_("end"),Sy=z_("start");function z_(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function m8(e){const t=Sy(e),n=L_(e);if(t&&n)return{start:t,end:n}}function xa(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?H1(e.position):"start"in e||"end"in e?H1(e):"line"in e||"column"in e?Qm(e):""}function Qm(e){return U1(e&&e.line)+":"+U1(e&&e.column)}function H1(e){return Qm(e&&e.start)+"-"+Qm(e&&e.end)}function U1(e){return e&&typeof e=="number"?e:1}class gn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?o=t:!s.cause&&t&&(a=!0,o=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?s.ruleId=r:(s.source=r.slice(0,d),s.ruleId=r.slice(d+1))}if(!s.place&&s.ancestors&&s.ancestors){const d=s.ancestors[s.ancestors.length-1];d&&(s.place=d.position)}const c=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=c?c.line:void 0,this.name=xa(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}gn.prototype.file="";gn.prototype.name="";gn.prototype.reason="";gn.prototype.message="";gn.prototype.stack="";gn.prototype.column=void 0;gn.prototype.line=void 0;gn.prototype.ancestors=void 0;gn.prototype.cause=void 0;gn.prototype.fatal=void 0;gn.prototype.place=void 0;gn.prototype.ruleId=void 0;gn.prototype.source=void 0;const Ny={}.hasOwnProperty,g8=new Map,y8=/[A-Z]/g,x8=new Set(["table","tbody","thead","tfoot","tr"]),v8=new Set(["td","th"]),$_="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function w8(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=j8(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=_8(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?by:l8,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=F_(o,e,void 0);return s&&typeof s!="string"?s:o.create(e,o.Fragment,{children:s||void 0},void 0)}function F_(e,t,n){if(t.type==="element")return b8(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return S8(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return C8(e,t,n);if(t.type==="mdxjsEsm")return N8(e,t);if(t.type==="root")return k8(e,t,n);if(t.type==="text")return E8(e,t)}function b8(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=by,e.schema=o),e.ancestors.push(t);const s=V_(e,t.tagName,!1),a=P8(e,t);let c=ky(e,t);return x8.has(t.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!QV(d):!0})),B_(e,a,s,t),Cy(a,c),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function S8(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ba(e,t.position)}function N8(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ba(e,t.position)}function C8(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=by,e.schema=o),e.ancestors.push(t);const s=t.name===null?e.Fragment:V_(e,t.name,!0),a=A8(e,t),c=ky(e,t);return B_(e,a,s,t),Cy(a,c),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function k8(e,t,n){const r={};return Cy(r,ky(e,t)),e.create(t,e.Fragment,r,n)}function E8(e,t){return t.value}function B_(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Cy(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function _8(e,t,n){return r;function r(o,s,a,c){const f=Array.isArray(a.children)?n:t;return c?f(s,a,c):f(s,a)}}function j8(e,t){return n;function n(r,o,s,a){const c=Array.isArray(s.children),d=Sy(r);return t(o,s,a,c,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function P8(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&Ny.call(t.properties,o)){const s=I8(e,o,t.properties[o]);if(s){const[a,c]=s;e.tableCellAlignToStyle&&a==="align"&&typeof c=="string"&&v8.has(t.tagName)?r=c:n[a]=c}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function A8(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const c=a.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else Ba(e,t.position);else{const o=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,s=e.evaluater.evaluateExpression(c.expression)}else Ba(e,t.position);else s=r.value===null?!0:r.value;n[o]=s}return n}function ky(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:g8;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const d=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(d){const f=o.get(d)||0;a=d+"-"+f,o.set(d,f+1)}}const c=F_(e,s,a);c!==void 0&&n.push(c)}return n}function I8(e,t,n){const r=o8(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?XV(n):a8(n)),r.property==="style"){let o=typeof n=="object"?n:T8(e,String(n));return e.stylePropertyNameCase==="css"&&(o=R8(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?t8[r.property]||r.property:r.attribute,n]}}function T8(e,t){try{return h8(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new gn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=$_+"#cannot-parse-style-attribute",o}}function V_(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let s=-1,a;for(;++s<o.length;){const c=O1(o[s])?{type:"Identifier",name:o[s]}:{type:"Literal",value:o[s]};a=a?{type:"MemberExpression",object:a,property:c,computed:!!(s&&c.type==="Literal"),optional:!1}:c}r=a}else r=O1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return Ny.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ba(e)}function Ba(e,t){const n=new gn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=$_+"#cannot-handle-mdx-estrees-without-createevaluater",n}function R8(e){const t={};let n;for(n in e)Ny.call(e,n)&&(t[M8(n)]=e[n]);return t}function M8(e){let t=e.replace(y8,O8);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function O8(e){return"-"+e.toLowerCase()}const Qh={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},D8={};function L8(e,t){const n=D8,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return H_(e,r,o)}function H_(e,t,n){if(z8(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return W1(e.children,t,n)}return Array.isArray(e)?W1(e,t,n):""}function W1(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=H_(e[o],t,n);return r.join("")}function z8(e){return!!(e&&typeof e=="object")}const X1=document.createElement("i");function Ey(e){const t="&"+e+";";X1.innerHTML=t;const n=X1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function zr(e,t,n,r){const o=e.length;let s=0,a;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function rr(e,t){return e.length>0?(zr(e,e.length,0,t),e):t}const G1={}.hasOwnProperty;function $8(e){const t={};let n=-1;for(;++n<e.length;)F8(t,e[n]);return t}function F8(e,t){let n;for(n in t){const o=(G1.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){G1.call(o,a)||(o[a]=[]);const c=s[a];B8(o[a],Array.isArray(c)?c:c?[c]:[])}}}function B8(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);zr(e,0,0,r)}function U_(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ts(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Tr=qo(/[A-Za-z]/),Wn=qo(/[\dA-Za-z]/),V8=qo(/[#-'*+\--9=?A-Z^-~]/);function Jm(e){return e!==null&&(e<32||e===127)}const Zm=qo(/\d/),H8=qo(/[\dA-Fa-f]/),U8=qo(/[!-/:-@[-`{-~]/);function Ye(e){return e!==null&&e<-2}function In(e){return e!==null&&(e<0||e===32)}function dt(e){return e===-2||e===-1||e===32}const W8=qo(new RegExp("\\p{P}|\\p{S}","u")),X8=qo(/\s/);function qo(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function rl(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&Wn(e.charCodeAt(n+1))&&Wn(e.charCodeAt(n+2)))o=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const c=e.charCodeAt(n+1);s<56320&&c>56319&&c<57344?(a=String.fromCharCode(s,c),o=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+o+1,a=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function xt(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(d){return dt(d)?(e.enter(n),c(d)):t(d)}function c(d){return dt(d)&&s++<o?(e.consume(d),c):(e.exit(n),t(d))}}const G8={tokenize:Y8};function Y8(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),xt(e,t,"linePrefix")}function o(c){return e.enter("paragraph"),s(c)}function s(c){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,a(c)}function a(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Ye(c)?(e.consume(c),e.exit("chunkText"),s):(e.consume(c),a)}}const q8={tokenize:K8},Y1={tokenize:Q8};function K8(e){const t=this,n=[];let r=0,o,s,a;return c;function c(k){if(r<n.length){const P=n[r];return t.containerState=P[1],e.attempt(P[0].continuation,d,f)(k)}return f(k)}function d(k){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&_();const P=t.events.length;let I=P,A;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){A=t.events[I][1].end;break}N(r);let T=P;for(;T<t.events.length;)t.events[T][1].end={...A},T++;return zr(t.events,I+1,0,t.events.slice(P)),t.events.length=T,f(k)}return c(k)}function f(k){if(r===n.length){if(!o)return g(k);if(o.currentConstruct&&o.currentConstruct.concrete)return S(k);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Y1,h,m)(k)}function h(k){return o&&_(),N(r),g(k)}function m(k){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,S(k)}function g(k){return t.containerState={},e.attempt(Y1,y,S)(k)}function y(k){return r++,n.push([t.currentConstruct,t.containerState]),g(k)}function S(k){if(k===null){o&&_(),N(0),e.consume(k);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:s}),v(k)}function v(k){if(k===null){w(e.exit("chunkFlow"),!0),N(0),e.consume(k);return}return Ye(k)?(e.consume(k),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(k),v)}function w(k,P){const I=t.sliceStream(k);if(P&&I.push(null),k.previous=s,s&&(s.next=k),s=k,o.defineSkip(k.start),o.write(I),t.parser.lazy[k.start.line]){let A=o.events.length;for(;A--;)if(o.events[A][1].start.offset<a&&(!o.events[A][1].end||o.events[A][1].end.offset>a))return;const T=t.events.length;let $=T,G,X;for(;$--;)if(t.events[$][0]==="exit"&&t.events[$][1].type==="chunkFlow"){if(G){X=t.events[$][1].end;break}G=!0}for(N(r),A=T;A<t.events.length;)t.events[A][1].end={...X},A++;zr(t.events,$+1,0,t.events.slice(T)),t.events.length=A}}function N(k){let P=n.length;for(;P-- >k;){const I=n[P];t.containerState=I[1],I[0].exit.call(t,e)}n.length=k}function _(){o.write([null]),s=void 0,o=void 0,t.containerState._closeFlow=void 0}}function Q8(e,t,n){return xt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function q1(e){if(e===null||In(e)||X8(e))return 1;if(W8(e))return 2}function _y(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const s=e[o].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const eg={name:"attention",resolveAll:J8,tokenize:Z8};function J8(e,t){let n=-1,r,o,s,a,c,d,f,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[r][1].end},g={...e[n][1].start};K1(m,-d),K1(g,d),a={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...e[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:d>1?"strong":"emphasis",start:{...a.start},end:{...c.end}},e[r][1].end={...a.start},e[n][1].start={...c.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=rr(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=rr(f,[["enter",o,t],["enter",a,t],["exit",a,t],["enter",s,t]]),f=rr(f,_y(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=rr(f,[["exit",s,t],["enter",c,t],["exit",c,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,f=rr(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,zr(e,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Z8(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=q1(r);let s;return a;function a(d){return s=d,e.enter("attentionSequence"),c(d)}function c(d){if(d===s)return e.consume(d),c;const f=e.exit("attentionSequence"),h=q1(d),m=!h||h===2&&o||n.includes(d),g=!o||o===2&&h||n.includes(r);return f._open=!!(s===42?m:m&&(o||!g)),f._close=!!(s===42?g:g&&(h||!m)),t(d)}}function K1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const eH={name:"autolink",tokenize:tH};function tH(e,t,n){let r=0;return o;function o(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(y){return Tr(y)?(e.consume(y),a):y===64?n(y):f(y)}function a(y){return y===43||y===45||y===46||Wn(y)?(r=1,c(y)):f(y)}function c(y){return y===58?(e.consume(y),r=0,d):(y===43||y===45||y===46||Wn(y))&&r++<32?(e.consume(y),c):(r=0,f(y))}function d(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||Jm(y)?n(y):(e.consume(y),d)}function f(y){return y===64?(e.consume(y),h):V8(y)?(e.consume(y),f):n(y)}function h(y){return Wn(y)?m(y):n(y)}function m(y){return y===46?(e.consume(y),r=0,h):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):g(y)}function g(y){if((y===45||Wn(y))&&r++<63){const S=y===45?g:m;return e.consume(y),S}return n(y)}}const mf={partial:!0,tokenize:nH};function nH(e,t,n){return r;function r(s){return dt(s)?xt(e,o,"linePrefix")(s):o(s)}function o(s){return s===null||Ye(s)?t(s):n(s)}}const W_={continuation:{tokenize:oH},exit:iH,name:"blockQuote",tokenize:rH};function rH(e,t,n){const r=this;return o;function o(a){if(a===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return dt(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function oH(e,t,n){const r=this;return o;function o(a){return dt(a)?xt(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(W_,t,n)(a)}}function iH(e){e.exit("blockQuote")}const X_={name:"characterEscape",tokenize:sH};function sH(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),o}function o(s){return U8(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const G_={name:"characterReference",tokenize:lH};function lH(e,t,n){const r=this;let o=0,s,a;return c;function c(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),d}function d(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),s=31,a=Wn,h(m))}function f(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=H8,h):(e.enter("characterReferenceValue"),s=7,a=Zm,h(m))}function h(m){if(m===59&&o){const g=e.exit("characterReferenceValue");return a===Wn&&!Ey(r.sliceSerialize(g))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(m)&&o++<s?(e.consume(m),h):n(m)}}const Q1={partial:!0,tokenize:cH},J1={concrete:!0,name:"codeFenced",tokenize:aH};function aH(e,t,n){const r=this,o={partial:!0,tokenize:I};let s=0,a=0,c;return d;function d(A){return f(A)}function f(A){const T=r.events[r.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,c=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(A)}function h(A){return A===c?(a++,e.consume(A),h):a<3?n(A):(e.exit("codeFencedFenceSequence"),dt(A)?xt(e,m,"whitespace")(A):m(A))}function m(A){return A===null||Ye(A)?(e.exit("codeFencedFence"),r.interrupt?t(A):e.check(Q1,v,P)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(A))}function g(A){return A===null||Ye(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(A)):dt(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),xt(e,y,"whitespace")(A)):A===96&&A===c?n(A):(e.consume(A),g)}function y(A){return A===null||Ye(A)?m(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),S(A))}function S(A){return A===null||Ye(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(A)):A===96&&A===c?n(A):(e.consume(A),S)}function v(A){return e.attempt(o,P,w)(A)}function w(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),N}function N(A){return s>0&&dt(A)?xt(e,_,"linePrefix",s+1)(A):_(A)}function _(A){return A===null||Ye(A)?e.check(Q1,v,P)(A):(e.enter("codeFlowValue"),k(A))}function k(A){return A===null||Ye(A)?(e.exit("codeFlowValue"),_(A)):(e.consume(A),k)}function P(A){return e.exit("codeFenced"),t(A)}function I(A,T,$){let G=0;return X;function X(O){return A.enter("lineEnding"),A.consume(O),A.exit("lineEnding"),Y}function Y(O){return A.enter("codeFencedFence"),dt(O)?xt(A,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):U(O)}function U(O){return O===c?(A.enter("codeFencedFenceSequence"),V(O)):$(O)}function V(O){return O===c?(G++,A.consume(O),V):G>=a?(A.exit("codeFencedFenceSequence"),dt(O)?xt(A,j,"whitespace")(O):j(O)):$(O)}function j(O){return O===null||Ye(O)?(A.exit("codeFencedFence"),T(O)):$(O)}}}function cH(e,t,n){const r=this;return o;function o(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Jh={name:"codeIndented",tokenize:dH},uH={partial:!0,tokenize:fH};function dH(e,t,n){const r=this;return o;function o(f){return e.enter("codeIndented"),xt(e,s,"linePrefix",5)(f)}function s(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(f):n(f)}function a(f){return f===null?d(f):Ye(f)?e.attempt(uH,a,d)(f):(e.enter("codeFlowValue"),c(f))}function c(f){return f===null||Ye(f)?(e.exit("codeFlowValue"),a(f)):(e.consume(f),c)}function d(f){return e.exit("codeIndented"),t(f)}}function fH(e,t,n){const r=this;return o;function o(a){return r.parser.lazy[r.now().line]?n(a):Ye(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):xt(e,s,"linePrefix",5)(a)}function s(a){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(a):Ye(a)?o(a):n(a)}}const pH={name:"codeText",previous:mH,resolve:hH,tokenize:gH};function hH(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function mH(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function gH(e,t,n){let r=0,o,s;return a;function a(m){return e.enter("codeText"),e.enter("codeTextSequence"),c(m)}function c(m){return m===96?(e.consume(m),r++,c):(e.exit("codeTextSequence"),d(m))}function d(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),d):m===96?(s=e.enter("codeTextSequence"),o=0,h(m)):Ye(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||Ye(m)?(e.exit("codeTextData"),d(m)):(e.consume(m),f)}function h(m){return m===96?(e.consume(m),o++,h):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(s.type="codeTextData",f(m))}}class yH{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&ta(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ta(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ta(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ta(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ta(this.left,n.reverse())}}}function ta(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Y_(e){const t={};let n=-1,r,o,s,a,c,d,f;const h=new yH(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,s=0,s<d.length&&d[s][1].type==="lineEndingBlank"&&(s+=2),s<d.length&&d[s][1].type==="content"))for(;++s<d.length&&d[s][1].type!=="content";)d[s][1].type==="chunkText"&&(d[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,xH(h,n)),n=t[n],f=!0);else if(r[1]._container){for(s=n,o=void 0;s--;)if(a=h.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(o&&(h.get(o)[1].type="lineEndingBlank"),a[1].type="lineEnding",o=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;o&&(r[1].end={...h.get(o)[1].start},c=h.slice(o,n),c.unshift(r),h.splice(o,n-o+1,c))}}return zr(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function xH(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const c=a.events,d=[],f={};let h,m,g=-1,y=n,S=0,v=0;const w=[v];for(;y;){for(;e.get(++o)[1]!==y;);s.push(o),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),m&&a.defineSkip(y.start),y._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),y._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),m=y,y=y.next}for(y=n;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(v=g+1,w.push(v),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(a.events=[],y?(y._tokenizer=void 0,y.previous=void 0):w.pop(),g=w.length;g--;){const N=c.slice(w[g],w[g+1]),_=s.pop();d.push([_,_+N.length-1]),e.splice(_,2,N)}for(d.reverse(),g=-1;++g<d.length;)f[S+d[g][0]]=S+d[g][1],S+=d[g][1]-d[g][0]-1;return f}const vH={resolve:bH,tokenize:SH},wH={partial:!0,tokenize:NH};function bH(e){return Y_(e),e}function SH(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(c)}function o(c){return c===null?s(c):Ye(c)?e.check(wH,a,s)(c):(e.consume(c),o)}function s(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function a(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function NH(e,t,n){const r=this;return o;function o(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),xt(e,s,"linePrefix")}function s(a){if(a===null||Ye(a))return n(a);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function q_(e,t,n,r,o,s,a,c,d){const f=d||Number.POSITIVE_INFINITY;let h=0;return m;function m(N){return N===60?(e.enter(r),e.enter(o),e.enter(s),e.consume(N),e.exit(s),g):N===null||N===32||N===41||Jm(N)?n(N):(e.enter(r),e.enter(a),e.enter(c),e.enter("chunkString",{contentType:"string"}),v(N))}function g(N){return N===62?(e.enter(s),e.consume(N),e.exit(s),e.exit(o),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),y(N))}function y(N){return N===62?(e.exit("chunkString"),e.exit(c),g(N)):N===null||N===60||Ye(N)?n(N):(e.consume(N),N===92?S:y)}function S(N){return N===60||N===62||N===92?(e.consume(N),y):y(N)}function v(N){return!h&&(N===null||N===41||In(N))?(e.exit("chunkString"),e.exit(c),e.exit(a),e.exit(r),t(N)):h<f&&N===40?(e.consume(N),h++,v):N===41?(e.consume(N),h--,v):N===null||N===32||N===40||Jm(N)?n(N):(e.consume(N),N===92?w:v)}function w(N){return N===40||N===41||N===92?(e.consume(N),v):v(N)}}function K_(e,t,n,r,o,s){const a=this;let c=0,d;return f;function f(y){return e.enter(r),e.enter(o),e.consume(y),e.exit(o),e.enter(s),h}function h(y){return c>999||y===null||y===91||y===93&&!d||y===94&&!c&&"_hiddenFootnoteSupport"in a.parser.constructs?n(y):y===93?(e.exit(s),e.enter(o),e.consume(y),e.exit(o),e.exit(r),t):Ye(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||y===91||y===93||Ye(y)||c++>999?(e.exit("chunkString"),h(y)):(e.consume(y),d||(d=!dt(y)),y===92?g:m)}function g(y){return y===91||y===92||y===93?(e.consume(y),c++,m):m(y)}}function Q_(e,t,n,r,o,s){let a;return c;function c(g){return g===34||g===39||g===40?(e.enter(r),e.enter(o),e.consume(g),e.exit(o),a=g===40?41:g,d):n(g)}function d(g){return g===a?(e.enter(o),e.consume(g),e.exit(o),e.exit(r),t):(e.enter(s),f(g))}function f(g){return g===a?(e.exit(s),d(a)):g===null?n(g):Ye(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),xt(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===a||g===null||Ye(g)?(e.exit("chunkString"),f(g)):(e.consume(g),g===92?m:h)}function m(g){return g===a||g===92?(e.consume(g),h):h(g)}}function va(e,t){let n;return r;function r(o){return Ye(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):dt(o)?xt(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const CH={name:"definition",tokenize:EH},kH={partial:!0,tokenize:_H};function EH(e,t,n){const r=this;let o;return s;function s(y){return e.enter("definition"),a(y)}function a(y){return K_.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function c(y){return o=Ts(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),d):n(y)}function d(y){return In(y)?va(e,f)(y):f(y)}function f(y){return q_(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return e.attempt(kH,m,m)(y)}function m(y){return dt(y)?xt(e,g,"whitespace")(y):g(y)}function g(y){return y===null||Ye(y)?(e.exit("definition"),r.parser.defined.push(o),t(y)):n(y)}}function _H(e,t,n){return r;function r(c){return In(c)?va(e,o)(c):n(c)}function o(c){return Q_(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function s(c){return dt(c)?xt(e,a,"whitespace")(c):a(c)}function a(c){return c===null||Ye(c)?t(c):n(c)}}const jH={name:"hardBreakEscape",tokenize:PH};function PH(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),o}function o(s){return Ye(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const AH={name:"headingAtx",resolve:IH,tokenize:TH};function IH(e,t){let n=e.length-2,r=3,o,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},zr(e,r,n-r+1,[["enter",o,t],["enter",s,t],["exit",s,t],["exit",o,t]])),e}function TH(e,t,n){let r=0;return o;function o(h){return e.enter("atxHeading"),s(h)}function s(h){return e.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&r++<6?(e.consume(h),a):h===null||In(h)?(e.exit("atxHeadingSequence"),c(h)):n(h)}function c(h){return h===35?(e.enter("atxHeadingSequence"),d(h)):h===null||Ye(h)?(e.exit("atxHeading"),t(h)):dt(h)?xt(e,c,"whitespace")(h):(e.enter("atxHeadingText"),f(h))}function d(h){return h===35?(e.consume(h),d):(e.exit("atxHeadingSequence"),c(h))}function f(h){return h===null||h===35||In(h)?(e.exit("atxHeadingText"),c(h)):(e.consume(h),f)}}const RH=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Z1=["pre","script","style","textarea"],MH={concrete:!0,name:"htmlFlow",resolveTo:LH,tokenize:zH},OH={partial:!0,tokenize:FH},DH={partial:!0,tokenize:$H};function LH(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function zH(e,t,n){const r=this;let o,s,a,c,d;return f;function f(R){return h(R)}function h(R){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(R),m}function m(R){return R===33?(e.consume(R),g):R===47?(e.consume(R),s=!0,v):R===63?(e.consume(R),o=3,r.interrupt?t:M):Tr(R)?(e.consume(R),a=String.fromCharCode(R),w):n(R)}function g(R){return R===45?(e.consume(R),o=2,y):R===91?(e.consume(R),o=5,c=0,S):Tr(R)?(e.consume(R),o=4,r.interrupt?t:M):n(R)}function y(R){return R===45?(e.consume(R),r.interrupt?t:M):n(R)}function S(R){const J="CDATA[";return R===J.charCodeAt(c++)?(e.consume(R),c===J.length?r.interrupt?t:U:S):n(R)}function v(R){return Tr(R)?(e.consume(R),a=String.fromCharCode(R),w):n(R)}function w(R){if(R===null||R===47||R===62||In(R)){const J=R===47,ne=a.toLowerCase();return!J&&!s&&Z1.includes(ne)?(o=1,r.interrupt?t(R):U(R)):RH.includes(a.toLowerCase())?(o=6,J?(e.consume(R),N):r.interrupt?t(R):U(R)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(R):s?_(R):k(R))}return R===45||Wn(R)?(e.consume(R),a+=String.fromCharCode(R),w):n(R)}function N(R){return R===62?(e.consume(R),r.interrupt?t:U):n(R)}function _(R){return dt(R)?(e.consume(R),_):X(R)}function k(R){return R===47?(e.consume(R),X):R===58||R===95||Tr(R)?(e.consume(R),P):dt(R)?(e.consume(R),k):X(R)}function P(R){return R===45||R===46||R===58||R===95||Wn(R)?(e.consume(R),P):I(R)}function I(R){return R===61?(e.consume(R),A):dt(R)?(e.consume(R),I):k(R)}function A(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),d=R,T):dt(R)?(e.consume(R),A):$(R)}function T(R){return R===d?(e.consume(R),d=null,G):R===null||Ye(R)?n(R):(e.consume(R),T)}function $(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||In(R)?I(R):(e.consume(R),$)}function G(R){return R===47||R===62||dt(R)?k(R):n(R)}function X(R){return R===62?(e.consume(R),Y):n(R)}function Y(R){return R===null||Ye(R)?U(R):dt(R)?(e.consume(R),Y):n(R)}function U(R){return R===45&&o===2?(e.consume(R),z):R===60&&o===1?(e.consume(R),H):R===62&&o===4?(e.consume(R),F):R===63&&o===3?(e.consume(R),M):R===93&&o===5?(e.consume(R),W):Ye(R)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(OH,q,V)(R)):R===null||Ye(R)?(e.exit("htmlFlowData"),V(R)):(e.consume(R),U)}function V(R){return e.check(DH,j,q)(R)}function j(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),O}function O(R){return R===null||Ye(R)?V(R):(e.enter("htmlFlowData"),U(R))}function z(R){return R===45?(e.consume(R),M):U(R)}function H(R){return R===47?(e.consume(R),a="",L):U(R)}function L(R){if(R===62){const J=a.toLowerCase();return Z1.includes(J)?(e.consume(R),F):U(R)}return Tr(R)&&a.length<8?(e.consume(R),a+=String.fromCharCode(R),L):U(R)}function W(R){return R===93?(e.consume(R),M):U(R)}function M(R){return R===62?(e.consume(R),F):R===45&&o===2?(e.consume(R),M):U(R)}function F(R){return R===null||Ye(R)?(e.exit("htmlFlowData"),q(R)):(e.consume(R),F)}function q(R){return e.exit("htmlFlow"),t(R)}}function $H(e,t,n){const r=this;return o;function o(a){return Ye(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function FH(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(mf,t,n)}}const BH={name:"htmlText",tokenize:VH};function VH(e,t,n){const r=this;let o,s,a;return c;function c(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),d}function d(M){return M===33?(e.consume(M),f):M===47?(e.consume(M),I):M===63?(e.consume(M),k):Tr(M)?(e.consume(M),$):n(M)}function f(M){return M===45?(e.consume(M),h):M===91?(e.consume(M),s=0,S):Tr(M)?(e.consume(M),_):n(M)}function h(M){return M===45?(e.consume(M),y):n(M)}function m(M){return M===null?n(M):M===45?(e.consume(M),g):Ye(M)?(a=m,H(M)):(e.consume(M),m)}function g(M){return M===45?(e.consume(M),y):m(M)}function y(M){return M===62?z(M):M===45?g(M):m(M)}function S(M){const F="CDATA[";return M===F.charCodeAt(s++)?(e.consume(M),s===F.length?v:S):n(M)}function v(M){return M===null?n(M):M===93?(e.consume(M),w):Ye(M)?(a=v,H(M)):(e.consume(M),v)}function w(M){return M===93?(e.consume(M),N):v(M)}function N(M){return M===62?z(M):M===93?(e.consume(M),N):v(M)}function _(M){return M===null||M===62?z(M):Ye(M)?(a=_,H(M)):(e.consume(M),_)}function k(M){return M===null?n(M):M===63?(e.consume(M),P):Ye(M)?(a=k,H(M)):(e.consume(M),k)}function P(M){return M===62?z(M):k(M)}function I(M){return Tr(M)?(e.consume(M),A):n(M)}function A(M){return M===45||Wn(M)?(e.consume(M),A):T(M)}function T(M){return Ye(M)?(a=T,H(M)):dt(M)?(e.consume(M),T):z(M)}function $(M){return M===45||Wn(M)?(e.consume(M),$):M===47||M===62||In(M)?G(M):n(M)}function G(M){return M===47?(e.consume(M),z):M===58||M===95||Tr(M)?(e.consume(M),X):Ye(M)?(a=G,H(M)):dt(M)?(e.consume(M),G):z(M)}function X(M){return M===45||M===46||M===58||M===95||Wn(M)?(e.consume(M),X):Y(M)}function Y(M){return M===61?(e.consume(M),U):Ye(M)?(a=Y,H(M)):dt(M)?(e.consume(M),Y):G(M)}function U(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),o=M,V):Ye(M)?(a=U,H(M)):dt(M)?(e.consume(M),U):(e.consume(M),j)}function V(M){return M===o?(e.consume(M),o=void 0,O):M===null?n(M):Ye(M)?(a=V,H(M)):(e.consume(M),V)}function j(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||In(M)?G(M):(e.consume(M),j)}function O(M){return M===47||M===62||In(M)?G(M):n(M)}function z(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):n(M)}function H(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),L}function L(M){return dt(M)?xt(e,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):W(M)}function W(M){return e.enter("htmlTextData"),a(M)}}const jy={name:"labelEnd",resolveAll:XH,resolveTo:GH,tokenize:YH},HH={tokenize:qH},UH={tokenize:KH},WH={tokenize:QH};function XH(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&zr(e,0,e.length,n),e}function GH(e,t){let n=e.length,r=0,o,s,a,c;for(;n--;)if(o=e[n][1],s){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(s=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(a=n);const d={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},h={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return c=[["enter",d,t],["enter",f,t]],c=rr(c,e.slice(s+1,s+r+3)),c=rr(c,[["enter",h,t]]),c=rr(c,_y(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),c=rr(c,[["exit",h,t],e[a-2],e[a-1],["exit",f,t]]),c=rr(c,e.slice(a+1)),c=rr(c,[["exit",d,t]]),zr(e,s,e.length,c),e}function YH(e,t,n){const r=this;let o=r.events.length,s,a;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){s=r.events[o][1];break}return c;function c(g){return s?s._inactive?m(g):(a=r.parser.defined.includes(Ts(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),d):n(g)}function d(g){return g===40?e.attempt(HH,h,a?h:m)(g):g===91?e.attempt(UH,h,a?f:m)(g):a?h(g):m(g)}function f(g){return e.attempt(WH,h,m)(g)}function h(g){return t(g)}function m(g){return s._balanced=!0,n(g)}}function qH(e,t,n){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),o}function o(m){return In(m)?va(e,s)(m):s(m)}function s(m){return m===41?h(m):q_(e,a,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function a(m){return In(m)?va(e,d)(m):h(m)}function c(m){return n(m)}function d(m){return m===34||m===39||m===40?Q_(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):h(m)}function f(m){return In(m)?va(e,h)(m):h(m)}function h(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function KH(e,t,n){const r=this;return o;function o(c){return K_.call(r,e,s,a,"reference","referenceMarker","referenceString")(c)}function s(c){return r.parser.defined.includes(Ts(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function a(c){return n(c)}}function QH(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),o}function o(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const JH={name:"labelStartImage",resolveAll:jy.resolveAll,tokenize:ZH};function ZH(e,t,n){const r=this;return o;function o(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),s}function s(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),a):n(c)}function a(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const e9={name:"labelStartLink",resolveAll:jy.resolveAll,tokenize:t9};function t9(e,t,n){const r=this;return o;function o(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Zh={name:"lineEnding",tokenize:n9};function n9(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),xt(e,t,"linePrefix")}}const Ku={name:"thematicBreak",tokenize:r9};function r9(e,t,n){let r=0,o;return s;function s(f){return e.enter("thematicBreak"),a(f)}function a(f){return o=f,c(f)}function c(f){return f===o?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Ye(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===o?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),dt(f)?xt(e,c,"whitespace")(f):c(f))}}const jn={continuation:{tokenize:l9},exit:c9,name:"list",tokenize:s9},o9={partial:!0,tokenize:u9},i9={partial:!0,tokenize:a9};function s9(e,t,n){const r=this,o=r.events[r.events.length-1];let s=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,a=0;return c;function c(y){const S=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:Zm(y)){if(r.containerState.type||(r.containerState.type=S,e.enter(S,{_container:!0})),S==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(Ku,n,f)(y):f(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(y)}return n(y)}function d(y){return Zm(y)&&++a<10?(e.consume(y),d):(!r.interrupt||a<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),f(y)):n(y)}function f(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(mf,r.interrupt?n:h,e.attempt(o9,g,m))}function h(y){return r.containerState.initialBlankLine=!0,s++,g(y)}function m(y){return dt(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function l9(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(mf,o,s);function o(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,xt(e,t,"listItemIndent",r.containerState.size+1)(c)}function s(c){return r.containerState.furtherBlankLines||!dt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(i9,t,a)(c))}function a(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,xt(e,e.attempt(jn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function a9(e,t,n){const r=this;return xt(e,o,"listItemIndent",r.containerState.size+1);function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function c9(e){e.exit(this.containerState.type)}function u9(e,t,n){const r=this;return xt(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(s){const a=r.events[r.events.length-1];return!dt(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const eb={name:"setextUnderline",resolveTo:d9,tokenize:f9};function d9(e,t){let n=e.length,r,o,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",s?(e.splice(o,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function f9(e,t,n){const r=this;let o;return s;function s(f){let h=r.events.length,m;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){m=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),o=f,a(f)):n(f)}function a(f){return e.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===o?(e.consume(f),c):(e.exit("setextHeadingLineSequence"),dt(f)?xt(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Ye(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const p9={tokenize:h9};function h9(e){const t=this,n=e.attempt(mf,r,e.attempt(this.parser.constructs.flowInitial,o,xt(e,e.attempt(this.parser.constructs.flow,o,e.attempt(vH,o)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const m9={resolveAll:Z_()},g9=J_("string"),y9=J_("text");function J_(e){return{resolveAll:Z_(e==="text"?x9:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],s=n.attempt(o,a,c);return a;function a(h){return f(h)?s(h):c(h)}function c(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),d}function d(h){return f(h)?(n.exit("data"),s(h)):(n.consume(h),d)}function f(h){if(h===null)return!0;const m=o[h];let g=-1;if(m)for(;++g<m.length;){const y=m[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Z_(e){return t;function t(n,r){let o=-1,s;for(;++o<=n.length;)s===void 0?n[o]&&n[o][1].type==="data"&&(s=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==s+2&&(n[s][1].end=n[o-1][1].end,n.splice(s+2,o-s-2),o=s+2),s=void 0);return e?e(n,r):n}}function x9(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let s=o.length,a=-1,c=0,d;for(;s--;){const f=o[s];if(typeof f=="string"){for(a=f.length;f.charCodeAt(a-1)===32;)c++,a--;if(a)break;a=-1}else if(f===-2)d=!0,c++;else if(f!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const f={type:n===e.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const v9={42:jn,43:jn,45:jn,48:jn,49:jn,50:jn,51:jn,52:jn,53:jn,54:jn,55:jn,56:jn,57:jn,62:W_},w9={91:CH},b9={[-2]:Jh,[-1]:Jh,32:Jh},S9={35:AH,42:Ku,45:[eb,Ku],60:MH,61:eb,95:Ku,96:J1,126:J1},N9={38:G_,92:X_},C9={[-5]:Zh,[-4]:Zh,[-3]:Zh,33:JH,38:G_,42:eg,60:[eH,BH],91:e9,92:[jH,X_],93:jy,95:eg,96:pH},k9={null:[eg,m9]},E9={null:[42,95]},_9={null:[]},j9=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:E9,contentInitial:w9,disable:_9,document:v9,flow:S9,flowInitial:b9,insideSpan:k9,string:N9,text:C9},Symbol.toStringTag,{value:"Module"}));function P9(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},s=[];let a=[],c=[];const d={attempt:T(I),check:T(A),consume:_,enter:k,exit:P,interrupt:T(A,{interrupt:!0})},f={code:null,containerState:{},defineSkip:v,events:[],now:S,parser:e,previous:null,sliceSerialize:g,sliceStream:y,write:m};let h=t.tokenize.call(f,d);return t.resolveAll&&s.push(t),f;function m(Y){return a=rr(a,Y),w(),a[a.length-1]!==null?[]:($(t,0),f.events=_y(s,f.events,f),f.events)}function g(Y,U){return I9(y(Y),U)}function y(Y){return A9(a,Y)}function S(){const{_bufferIndex:Y,_index:U,line:V,column:j,offset:O}=r;return{_bufferIndex:Y,_index:U,line:V,column:j,offset:O}}function v(Y){o[Y.line]=Y.column,X()}function w(){let Y;for(;r._index<a.length;){const U=a[r._index];if(typeof U=="string")for(Y=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Y&&r._bufferIndex<U.length;)N(U.charCodeAt(r._bufferIndex));else N(U)}}function N(Y){h=h(Y)}function _(Y){Ye(Y)?(r.line++,r.column=1,r.offset+=Y===-3?2:1,X()):Y!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=Y}function k(Y,U){const V=U||{};return V.type=Y,V.start=S(),f.events.push(["enter",V,f]),c.push(V),V}function P(Y){const U=c.pop();return U.end=S(),f.events.push(["exit",U,f]),U}function I(Y,U){$(Y,U.from)}function A(Y,U){U.restore()}function T(Y,U){return V;function V(j,O,z){let H,L,W,M;return Array.isArray(j)?q(j):"tokenize"in j?q([j]):F(j);function F(te){return B;function B(Q){const oe=Q!==null&&te[Q],ie=Q!==null&&te.null,ue=[...Array.isArray(oe)?oe:oe?[oe]:[],...Array.isArray(ie)?ie:ie?[ie]:[]];return q(ue)(Q)}}function q(te){return H=te,L=0,te.length===0?z:R(te[L])}function R(te){return B;function B(Q){return M=G(),W=te,te.partial||(f.currentConstruct=te),te.name&&f.parser.constructs.disable.null.includes(te.name)?ne():te.tokenize.call(U?Object.assign(Object.create(f),U):f,d,J,ne)(Q)}}function J(te){return Y(W,M),O}function ne(te){return M.restore(),++L<H.length?R(H[L]):z}}}function $(Y,U){Y.resolveAll&&!s.includes(Y)&&s.push(Y),Y.resolve&&zr(f.events,U,f.events.length-U,Y.resolve(f.events.slice(U),f)),Y.resolveTo&&(f.events=Y.resolveTo(f.events,f))}function G(){const Y=S(),U=f.previous,V=f.currentConstruct,j=f.events.length,O=Array.from(c);return{from:j,restore:z};function z(){r=Y,f.previous=U,f.currentConstruct=V,f.events.length=j,c=O,X()}}function X(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function A9(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,s=t.end._bufferIndex;let a;if(n===o)a=[e[n].slice(r,s)];else{if(a=e.slice(n,o),r>-1){const c=a[0];typeof c=="string"?a[0]=c.slice(r):a.shift()}s>0&&a.push(e[o].slice(0,s))}return a}function I9(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&o)continue;a=" ";break}default:a=String.fromCharCode(s)}o=s===-2,r.push(a)}return r.join("")}function T9(e){const r={constructs:$8([j9,...(e||{}).extensions||[]]),content:o(G8),defined:[],document:o(q8),flow:o(p9),lazy:{},string:o(g9),text:o(y9)};return r;function o(s){return a;function a(c){return P9(r,s,c)}}}function R9(e){for(;!Y_(e););return e}const tb=/[\0\t\n\r]/g;function M9(){let e=1,t="",n=!0,r;return o;function o(s,a,c){const d=[];let f,h,m,g,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),m=0,t="",n&&(s.charCodeAt(0)===65279&&m++,n=void 0);m<s.length;){if(tb.lastIndex=m,f=tb.exec(s),g=f&&f.index!==void 0?f.index:s.length,y=s.charCodeAt(g),!f){t=s.slice(m);break}if(y===10&&m===g&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),m<g&&(d.push(s.slice(m,g)),e+=g-m),y){case 0:{d.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,d.push(-2);e++<h;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}m=g+1}return c&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const O9=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function D9(e){return e.replace(O9,L9)}function L9(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),s=o===120||o===88;return U_(n.slice(s?2:1),s?16:10)}return Ey(n)||e}const ej={}.hasOwnProperty;function z9(e,t,n){return typeof t!="string"&&(n=t,t=void 0),$9(n)(R9(T9(n).document().write(M9()(e,t,!0))))}function $9(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ye),autolinkProtocol:G,autolinkEmail:G,atxHeading:s(De),blockQuote:s(ie),characterEscape:G,characterReference:G,codeFenced:s(ue),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(ue,a),codeText:s(de,a),codeTextData:G,data:G,codeFlowValue:G,definition:s(be),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Se),hardBreakEscape:s(We),hardBreakTrailing:s(We),htmlFlow:s(ft,a),htmlFlowData:G,htmlText:s(ft,a),htmlTextData:G,image:s(ut),label:a,link:s(ye),listItem:s(He),listItemValue:g,listOrdered:s(Be,m),listUnordered:s(Be),paragraph:s(rt),reference:R,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(De),strong:s(pt),thematicBreak:s(st)},exit:{atxHeading:d(),atxHeadingSequence:I,autolink:d(),autolinkEmail:oe,autolinkProtocol:Q,blockQuote:d(),characterEscapeValue:X,characterReferenceMarkerHexadecimal:ne,characterReferenceMarkerNumeric:ne,characterReferenceValue:te,characterReference:B,codeFenced:d(w),codeFencedFence:v,codeFencedFenceInfo:y,codeFencedFenceMeta:S,codeFlowValue:X,codeIndented:d(N),codeText:d(O),codeTextData:X,data:X,definition:d(),definitionDestinationString:P,definitionLabelString:_,definitionTitleString:k,emphasis:d(),hardBreakEscape:d(U),hardBreakTrailing:d(U),htmlFlow:d(V),htmlFlowData:X,htmlText:d(j),htmlTextData:X,image:d(H),label:W,labelText:L,lineEnding:Y,link:d(z),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:J,resourceDestinationString:M,resourceTitleString:F,resource:q,setextHeading:d($),setextHeadingLineSequence:T,setextHeadingText:A,strong:d(),thematicBreak:d()}};tj(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(le){let fe={type:"root",children:[]};const Ae={stack:[fe],tokenStack:[],config:t,enter:c,exit:f,buffer:a,resume:h,data:n},Ve=[];let Ke=-1;for(;++Ke<le.length;)if(le[Ke][1].type==="listOrdered"||le[Ke][1].type==="listUnordered")if(le[Ke][0]==="enter")Ve.push(Ke);else{const It=Ve.pop();Ke=o(le,It,Ke)}for(Ke=-1;++Ke<le.length;){const It=t[le[Ke][0]];ej.call(It,le[Ke][1].type)&&It[le[Ke][1].type].call(Object.assign({sliceSerialize:le[Ke][2].sliceSerialize},Ae),le[Ke][1])}if(Ae.tokenStack.length>0){const It=Ae.tokenStack[Ae.tokenStack.length-1];(It[1]||nb).call(Ae,void 0,It[0])}for(fe.position={start:To(le.length>0?le[0][1].start:{line:1,column:1,offset:0}),end:To(le.length>0?le[le.length-2][1].end:{line:1,column:1,offset:0})},Ke=-1;++Ke<t.transforms.length;)fe=t.transforms[Ke](fe)||fe;return fe}function o(le,fe,Ae){let Ve=fe-1,Ke=-1,It=!1,Mn,Qt,qn,wn;for(;++Ve<=Ae;){const bt=le[Ve];switch(bt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{bt[0]==="enter"?Ke++:Ke--,wn=void 0;break}case"lineEndingBlank":{bt[0]==="enter"&&(Mn&&!wn&&!Ke&&!qn&&(qn=Ve),wn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:wn=void 0}if(!Ke&&bt[0]==="enter"&&bt[1].type==="listItemPrefix"||Ke===-1&&bt[0]==="exit"&&(bt[1].type==="listUnordered"||bt[1].type==="listOrdered")){if(Mn){let Ut=Ve;for(Qt=void 0;Ut--;){const Rt=le[Ut];if(Rt[1].type==="lineEnding"||Rt[1].type==="lineEndingBlank"){if(Rt[0]==="exit")continue;Qt&&(le[Qt][1].type="lineEndingBlank",It=!0),Rt[1].type="lineEnding",Qt=Ut}else if(!(Rt[1].type==="linePrefix"||Rt[1].type==="blockQuotePrefix"||Rt[1].type==="blockQuotePrefixWhitespace"||Rt[1].type==="blockQuoteMarker"||Rt[1].type==="listItemIndent"))break}qn&&(!Qt||qn<Qt)&&(Mn._spread=!0),Mn.end=Object.assign({},Qt?le[Qt][1].start:bt[1].end),le.splice(Qt||Ve,0,["exit",Mn,bt[2]]),Ve++,Ae++}if(bt[1].type==="listItemPrefix"){const Ut={type:"listItem",_spread:!1,start:Object.assign({},bt[1].start),end:void 0};Mn=Ut,le.splice(Ve,0,["enter",Ut,bt[2]]),Ve++,Ae++,qn=void 0,wn=!0}}}return le[fe][1]._spread=It,Ae}function s(le,fe){return Ae;function Ae(Ve){c.call(this,le(Ve),Ve),fe&&fe.call(this,Ve)}}function a(){this.stack.push({type:"fragment",children:[]})}function c(le,fe,Ae){this.stack[this.stack.length-1].children.push(le),this.stack.push(le),this.tokenStack.push([fe,Ae||void 0]),le.position={start:To(fe.start),end:void 0}}function d(le){return fe;function fe(Ae){le&&le.call(this,Ae),f.call(this,Ae)}}function f(le,fe){const Ae=this.stack.pop(),Ve=this.tokenStack.pop();if(Ve)Ve[0].type!==le.type&&(fe?fe.call(this,le,Ve[0]):(Ve[1]||nb).call(this,le,Ve[0]));else throw new Error("Cannot close `"+le.type+"` ("+xa({start:le.start,end:le.end})+"): its not open");Ae.position.end=To(le.end)}function h(){return L8(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function g(le){if(this.data.expectingFirstListItemValue){const fe=this.stack[this.stack.length-2];fe.start=Number.parseInt(this.sliceSerialize(le),10),this.data.expectingFirstListItemValue=void 0}}function y(){const le=this.resume(),fe=this.stack[this.stack.length-1];fe.lang=le}function S(){const le=this.resume(),fe=this.stack[this.stack.length-1];fe.meta=le}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const le=this.resume(),fe=this.stack[this.stack.length-1];fe.value=le.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const le=this.resume(),fe=this.stack[this.stack.length-1];fe.value=le.replace(/(\r?\n|\r)$/g,"")}function _(le){const fe=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=fe,Ae.identifier=Ts(this.sliceSerialize(le)).toLowerCase()}function k(){const le=this.resume(),fe=this.stack[this.stack.length-1];fe.title=le}function P(){const le=this.resume(),fe=this.stack[this.stack.length-1];fe.url=le}function I(le){const fe=this.stack[this.stack.length-1];if(!fe.depth){const Ae=this.sliceSerialize(le).length;fe.depth=Ae}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function T(le){const fe=this.stack[this.stack.length-1];fe.depth=this.sliceSerialize(le).codePointAt(0)===61?1:2}function $(){this.data.setextHeadingSlurpLineEnding=void 0}function G(le){const Ae=this.stack[this.stack.length-1].children;let Ve=Ae[Ae.length-1];(!Ve||Ve.type!=="text")&&(Ve=At(),Ve.position={start:To(le.start),end:void 0},Ae.push(Ve)),this.stack.push(Ve)}function X(le){const fe=this.stack.pop();fe.value+=this.sliceSerialize(le),fe.position.end=To(le.end)}function Y(le){const fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ae=fe.children[fe.children.length-1];Ae.position.end=To(le.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(fe.type)&&(G.call(this,le),X.call(this,le))}function U(){this.data.atHardBreak=!0}function V(){const le=this.resume(),fe=this.stack[this.stack.length-1];fe.value=le}function j(){const le=this.resume(),fe=this.stack[this.stack.length-1];fe.value=le}function O(){const le=this.resume(),fe=this.stack[this.stack.length-1];fe.value=le}function z(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=fe,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function H(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=fe,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function L(le){const fe=this.sliceSerialize(le),Ae=this.stack[this.stack.length-2];Ae.label=D9(fe),Ae.identifier=Ts(fe).toLowerCase()}function W(){const le=this.stack[this.stack.length-1],fe=this.resume(),Ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ae.type==="link"){const Ve=le.children;Ae.children=Ve}else Ae.alt=fe}function M(){const le=this.resume(),fe=this.stack[this.stack.length-1];fe.url=le}function F(){const le=this.resume(),fe=this.stack[this.stack.length-1];fe.title=le}function q(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function J(le){const fe=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=fe,Ae.identifier=Ts(this.sliceSerialize(le)).toLowerCase(),this.data.referenceType="full"}function ne(le){this.data.characterReferenceType=le.type}function te(le){const fe=this.sliceSerialize(le),Ae=this.data.characterReferenceType;let Ve;Ae?(Ve=U_(fe,Ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ve=Ey(fe);const Ke=this.stack[this.stack.length-1];Ke.value+=Ve}function B(le){const fe=this.stack.pop();fe.position.end=To(le.end)}function Q(le){X.call(this,le);const fe=this.stack[this.stack.length-1];fe.url=this.sliceSerialize(le)}function oe(le){X.call(this,le);const fe=this.stack[this.stack.length-1];fe.url="mailto:"+this.sliceSerialize(le)}function ie(){return{type:"blockquote",children:[]}}function ue(){return{type:"code",lang:null,meta:null,value:""}}function de(){return{type:"inlineCode",value:""}}function be(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Se(){return{type:"emphasis",children:[]}}function De(){return{type:"heading",depth:0,children:[]}}function We(){return{type:"break"}}function ft(){return{type:"html",value:""}}function ut(){return{type:"image",title:null,url:"",alt:null}}function ye(){return{type:"link",title:null,url:"",children:[]}}function Be(le){return{type:"list",ordered:le.type==="listOrdered",start:null,spread:le._spread,children:[]}}function He(le){return{type:"listItem",spread:le._spread,checked:null,children:[]}}function rt(){return{type:"paragraph",children:[]}}function pt(){return{type:"strong",children:[]}}function At(){return{type:"text",value:""}}function st(){return{type:"thematicBreak"}}}function To(e){return{line:e.line,column:e.column,offset:e.offset}}function tj(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?tj(e,r):F9(e,r)}}function F9(e,t){let n;for(n in t)if(ej.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function nb(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+xa({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+xa({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+xa({start:t.start,end:t.end})+") is still open")}function B9(e){const t=this;t.parser=n;function n(r){return z9(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function V9(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function H9(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function U9(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function W9(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function X9(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function G9(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=rl(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,c+=1,e.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function Y9(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function q9(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function nj(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),s=o[0];s&&s.type==="text"?s.value="["+s.value:o.unshift({type:"text",value:"["});const a=o[o.length-1];return a&&a.type==="text"?a.value+=r:o.push({type:"text",value:r}),o}function K9(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return nj(e,t);const o={src:rl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const s={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,s),e.applyData(t,s)}function Q9(e,t){const n={src:rl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function J9(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Z9(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return nj(e,t);const o={href:rl(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const s={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function eU(e,t){const n={href:rl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function tU(e,t,n){const r=e.all(t),o=n?nU(n):rj(t),s={},a=[];if(typeof t.checked=="boolean"){const h=r[0];let m;h&&h.type==="element"&&h.tagName==="p"?m=h:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const h=r[c];(o||c!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!o?a.push(...h.children):a.push(h)}const d=r[r.length-1];d&&(o||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,f),e.applyData(t,f)}function nU(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=rj(n[r])}return t}function rj(e){const t=e.spread;return t??e.children.length>1}function rU(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const a=r[o];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function oU(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iU(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function sU(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lU(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),o.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=Sy(t.children[1]),d=L_(t.children[t.children.length-1]);c&&d&&(a.position={start:c,end:d}),o.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,s),e.applyData(t,s)}function aU(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,c=a?a.length:t.children.length;let d=-1;const f=[];for(;++d<c;){const m=t.children[d],g={},y=a?a[d]:void 0;y&&(g.align=y);let S={type:"element",tagName:s,properties:g,children:[]};m&&(S.children=e.all(m),e.patch(m,S),S=e.applyData(m,S)),f.push(S)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,h),e.applyData(t,h)}function cU(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const rb=9,ob=32;function uU(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const s=[];for(;r;)s.push(ib(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return s.push(ib(t.slice(o),o>0,!1)),s.join("")}function ib(e,t,n){let r=0,o=e.length;if(t){let s=e.codePointAt(r);for(;s===rb||s===ob;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(o-1);for(;s===rb||s===ob;)o--,s=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function dU(e,t){const n={type:"text",value:uU(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function fU(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const pU={blockquote:V9,break:H9,code:U9,delete:W9,emphasis:X9,footnoteReference:G9,heading:Y9,html:q9,imageReference:K9,image:Q9,inlineCode:J9,linkReference:Z9,link:eU,listItem:tU,list:rU,paragraph:oU,root:iU,strong:sU,table:lU,tableCell:cU,tableRow:aU,text:dU,thematicBreak:fU,toml:$u,yaml:$u,definition:$u,footnoteDefinition:$u};function $u(){}const oj=-1,gf=0,wa=1,Sd=2,Py=3,Ay=4,Iy=5,Ty=6,ij=7,sj=8,sb=typeof self=="object"?self:globalThis,hU=(e,t)=>{const n=(o,s)=>(e.set(s,o),o),r=o=>{if(e.has(o))return e.get(o);const[s,a]=t[o];switch(s){case gf:case oj:return n(a,o);case wa:{const c=n([],o);for(const d of a)c.push(r(d));return c}case Sd:{const c=n({},o);for(const[d,f]of a)c[r(d)]=r(f);return c}case Py:return n(new Date(a),o);case Ay:{const{source:c,flags:d}=a;return n(new RegExp(c,d),o)}case Iy:{const c=n(new Map,o);for(const[d,f]of a)c.set(r(d),r(f));return c}case Ty:{const c=n(new Set,o);for(const d of a)c.add(r(d));return c}case ij:{const{name:c,message:d}=a;return n(new sb[c](d),o)}case sj:return n(BigInt(a),o);case"BigInt":return n(Object(BigInt(a)),o);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:c}=new Uint8Array(a);return n(new DataView(c),a)}}return n(new sb[s](a),o)};return r},lb=e=>hU(new Map,e)(0),ys="",{toString:mU}={},{keys:gU}=Object,na=e=>{const t=typeof e;if(t!=="object"||!e)return[gf,t];const n=mU.call(e).slice(8,-1);switch(n){case"Array":return[wa,ys];case"Object":return[Sd,ys];case"Date":return[Py,ys];case"RegExp":return[Ay,ys];case"Map":return[Iy,ys];case"Set":return[Ty,ys];case"DataView":return[wa,n]}return n.includes("Array")?[wa,n]:n.includes("Error")?[ij,n]:[Sd,n]},Fu=([e,t])=>e===gf&&(t==="function"||t==="symbol"),yU=(e,t,n,r)=>{const o=(a,c)=>{const d=r.push(a)-1;return n.set(c,d),d},s=a=>{if(n.has(a))return n.get(a);let[c,d]=na(a);switch(c){case gf:{let h=a;switch(d){case"bigint":c=sj,h=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);h=null;break;case"undefined":return o([oj],a)}return o([c,h],a)}case wa:{if(d){let g=a;return d==="DataView"?g=new Uint8Array(a.buffer):d==="ArrayBuffer"&&(g=new Uint8Array(a)),o([d,[...g]],a)}const h=[],m=o([c,h],a);for(const g of a)h.push(s(g));return m}case Sd:{if(d)switch(d){case"BigInt":return o([d,a.toString()],a);case"Boolean":case"Number":case"String":return o([d,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const h=[],m=o([c,h],a);for(const g of gU(a))(e||!Fu(na(a[g])))&&h.push([s(g),s(a[g])]);return m}case Py:return o([c,a.toISOString()],a);case Ay:{const{source:h,flags:m}=a;return o([c,{source:h,flags:m}],a)}case Iy:{const h=[],m=o([c,h],a);for(const[g,y]of a)(e||!(Fu(na(g))||Fu(na(y))))&&h.push([s(g),s(y)]);return m}case Ty:{const h=[],m=o([c,h],a);for(const g of a)(e||!Fu(na(g)))&&h.push(s(g));return m}}const{message:f}=a;return o([c,{name:d,message:f}],a)};return s},ab=(e,{json:t,lossy:n}={})=>{const r=[];return yU(!(t||n),!!t,new Map,r)(e),r},Nd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?lb(ab(e,t)):structuredClone(e):(e,t)=>lb(ab(e,t));function xU(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function vU(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function wU(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||xU,r=e.options.footnoteBackLabel||vU,o=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const h=e.all(f),m=String(f.identifier).toUpperCase(),g=rl(m.toLowerCase());let y=0;const S=[],v=e.footnoteCounts.get(m);for(;v!==void 0&&++y<=v;){S.length>0&&S.push({type:"text",value:" "});let _=typeof n=="string"?n:n(d,y);typeof _=="string"&&(_={type:"text",value:_}),S.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,y),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const w=h[h.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const _=w.children[w.children.length-1];_&&_.type==="text"?_.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...S)}else h.push(...S);const N={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(h,!0)};e.patch(f,N),c.push(N)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Nd(a),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const lj=function(e){if(e==null)return CU;if(typeof e=="function")return yf(e);if(typeof e=="object")return Array.isArray(e)?bU(e):SU(e);if(typeof e=="string")return NU(e);throw new Error("Expected function, string, or object as test")};function bU(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=lj(e[n]);return yf(r);function r(...o){let s=-1;for(;++s<t.length;)if(t[s].apply(this,o))return!0;return!1}}function SU(e){const t=e;return yf(n);function n(r){const o=r;let s;for(s in e)if(o[s]!==t[s])return!1;return!0}}function NU(e){return yf(t);function t(n){return n&&n.type===e}}function yf(e){return t;function t(n,r,o){return!!(kU(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function CU(){return!0}function kU(e){return e!==null&&typeof e=="object"&&"type"in e}const aj=[],EU=!0,cb=!1,_U="skip";function jU(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const s=lj(o),a=r?-1:1;c(e,void 0,[])();function c(d,f,h){const m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){const y=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(d.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=aj,S,v,w;if((!t||s(d,f,h[h.length-1]||void 0))&&(y=PU(n(d,h)),y[0]===cb))return y;if("children"in d&&d.children){const N=d;if(N.children&&y[0]!==_U)for(v=(r?N.children.length:-1)+a,w=h.concat(N);v>-1&&v<N.children.length;){const _=N.children[v];if(S=c(_,v,w)(),S[0]===cb)return S;v=typeof S[1]=="number"?S[1]:v+a}}return y}}}function PU(e){return Array.isArray(e)?e:typeof e=="number"?[EU,e]:e==null?aj:[e]}function cj(e,t,n,r){let o,s,a;typeof t=="function"?(s=void 0,a=t,o=n):(s=t,a=n,o=r),jU(e,s,c,o);function c(d,f){const h=f[f.length-1],m=h?h.children.indexOf(d):void 0;return a(d,m,h)}}const tg={}.hasOwnProperty,AU={};function IU(e,t){const n=t||AU,r=new Map,o=new Map,s=new Map,a={...pU,...n.handlers},c={all:f,applyData:RU,definitionById:r,footnoteById:o,footnoteCounts:s,footnoteOrder:[],handlers:a,one:d,options:n,patch:TU,wrap:OU};return cj(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const m=h.type==="definition"?r:o,g=String(h.identifier).toUpperCase();m.has(g)||m.set(g,h)}}),c;function d(h,m){const g=h.type,y=c.handlers[g];if(tg.call(c.handlers,g)&&y)return y(c,h,m);if(c.options.passThrough&&c.options.passThrough.includes(g)){if("children"in h){const{children:v,...w}=h,N=Nd(w);return N.children=c.all(h),N}return Nd(h)}return(c.options.unknownHandler||MU)(c,h,m)}function f(h){const m=[];if("children"in h){const g=h.children;let y=-1;for(;++y<g.length;){const S=c.one(g[y],h);if(S){if(y&&g[y-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=ub(S.value)),!Array.isArray(S)&&S.type==="element")){const v=S.children[0];v&&v.type==="text"&&(v.value=ub(v.value))}Array.isArray(S)?m.push(...S):m.push(S)}}}return m}}function TU(e,t){e.position&&(t.position=m8(e))}function RU(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Nd(s)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function MU(e,t){const n=t.data||{},r="value"in t&&!(tg.call(n,"hProperties")||tg.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function OU(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ub(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function db(e,t){const n=IU(e,t),r=n.one(e,void 0),o=wU(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&s.children.push({type:"text",value:`
`},o),s}function DU(e,t){return e&&"run"in e?async function(n,r){const o=db(n,{file:r,...t});await e.run(o,r)}:function(n,r){return db(n,{file:r,...e||t})}}function fb(e){if(e)throw e}var em,pb;function LU(){if(pb)return em;pb=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},s=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var h=e.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!m)return!1;var g;for(g in f);return typeof g>"u"||e.call(f,g)},a=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},c=function(f,h){if(h==="__proto__")if(e.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return em=function d(){var f,h,m,g,y,S,v=arguments[0],w=1,N=arguments.length,_=!1;for(typeof v=="boolean"&&(_=v,v=arguments[1]||{},w=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});w<N;++w)if(f=arguments[w],f!=null)for(h in f)m=c(v,h),g=c(f,h),v!==g&&(_&&g&&(s(g)||(y=o(g)))?(y?(y=!1,S=m&&o(m)?m:[]):S=m&&s(m)?m:{},a(v,{name:h,newValue:d(_,S,g)})):typeof g<"u"&&a(v,{name:h,newValue:g}));return v},em}var zU=LU();const tm=Va(zU);function ng(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function $U(){const e=[],t={run:n,use:r};return t;function n(...o){let s=-1;const a=o.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);c(null,...o);function c(d,...f){const h=e[++s];let m=-1;if(d){a(d);return}for(;++m<o.length;)(f[m]===null||f[m]===void 0)&&(f[m]=o[m]);o=f,h?FU(h,c)(...f):a(null,...f)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function FU(e,t){let n;return r;function r(...a){const c=e.length>a.length;let d;c&&a.push(o);try{d=e.apply(this,a)}catch(f){const h=f;if(c&&n)throw h;return o(h)}c||(d&&d.then&&typeof d.then=="function"?d.then(s,o):d instanceof Error?o(d):s(d))}function o(a,...c){n||(n=!0,t(a,...c))}function s(a){o(null,a)}}const Ar={basename:BU,dirname:VU,extname:HU,join:UU,sep:"/"};function BU(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ic(e);let n=0,r=-1,o=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(s){n=o+1;break}}else r<0&&(s=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,c=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(s){n=o+1;break}}else a<0&&(s=!0,a=o+1),c>-1&&(e.codePointAt(o)===t.codePointAt(c--)?c<0&&(r=o):(c=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function VU(e){if(ic(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function HU(e){ic(e);let t=e.length,n=-1,r=0,o=-1,s=0,a;for(;t--;){const c=e.codePointAt(t);if(c===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),c===46?o<0?o=t:s!==1&&(s=1):o>-1&&(s=-1)}return o<0||n<0||s===0||s===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function UU(...e){let t=-1,n;for(;++t<e.length;)ic(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":WU(n)}function WU(e){ic(e);const t=e.codePointAt(0)===47;let n=XU(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function XU(e,t){let n="",r=0,o=-1,s=0,a=-1,c,d;for(;++a<=e.length;){if(a<e.length)c=e.codePointAt(a);else{if(c===47)break;c=47}if(c===47){if(!(o===a-1||s===1))if(o!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),o=a,s=0;continue}}else if(n.length>0){n="",r=0,o=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,a):n=e.slice(o+1,a),r=a-o-1;o=a,s=0}else c===46&&s>-1?s++:s=-1}return n}function ic(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const GU={cwd:YU};function YU(){return"/"}function rg(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function qU(e){if(typeof e=="string")e=new URL(e);else if(!rg(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return KU(e)}function KU(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const nm=["history","path","basename","stem","extname","dirname"];class uj{constructor(t){let n;t?rg(t)?n={path:t}:typeof t=="string"||QU(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":GU.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<nm.length;){const s=nm[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let o;for(o in n)nm.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Ar.basename(this.path):void 0}set basename(t){om(t,"basename"),rm(t,"basename"),this.path=Ar.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ar.dirname(this.path):void 0}set dirname(t){hb(this.basename,"dirname"),this.path=Ar.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ar.extname(this.path):void 0}set extname(t){if(rm(t,"extname"),hb(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ar.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){rg(t)&&(t=qU(t)),om(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ar.basename(this.path,this.extname):void 0}set stem(t){om(t,"stem"),rm(t,"stem"),this.path=Ar.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new gn(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function rm(e,t){if(e&&e.includes(Ar.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ar.sep+"`")}function om(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function hb(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function QU(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const JU=function(e){const r=this.constructor.prototype,o=r[e],s=function(){return o.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},ZU={}.hasOwnProperty;class Ry extends JU{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=$U()}copy(){const t=new Ry;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(tm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(lm("data",this.frozen),this.namespace[t]=n,this):ZU.call(this.namespace,t)&&this.namespace[t]||void 0:t?(lm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Bu(t),r=this.parser||this.Parser;return im("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),im("process",this.parser||this.Parser),sm("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(s,a){const c=Bu(t),d=r.parse(c);r.run(d,c,function(h,m,g){if(h||!m||!g)return f(h);const y=m,S=r.stringify(y,g);nW(S)?g.value=S:g.result=S,f(h,g)});function f(h,m){h||!m?a(h):s?s(m):n(void 0,m)}}}processSync(t){let n=!1,r;return this.freeze(),im("processSync",this.parser||this.Parser),sm("processSync",this.compiler||this.Compiler),this.process(t,o),gb("processSync","process",n),r;function o(s,a){n=!0,fb(s),r=a}}run(t,n,r){mb(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,c){const d=Bu(n);o.run(t,d,f);function f(h,m,g){const y=m||t;h?c(h):a?a(y):r(void 0,y,g)}}}runSync(t,n){let r=!1,o;return this.run(t,n,s),gb("runSync","run",r),o;function s(a,c){fb(a),o=c,r=!0}}stringify(t,n){this.freeze();const r=Bu(n),o=this.compiler||this.Compiler;return sm("stringify",o),mb(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(lm("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...m]=f;d(h,m)}else a(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function a(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(o.settings=tm(!0,o.settings,f.settings))}function c(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const m=f[h];s(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,h){let m=-1,g=-1;for(;++m<r.length;)if(r[m][0]===f){g=m;break}if(g===-1)r.push([f,...h]);else if(h.length>0){let[y,...S]=h;const v=r[g][1];ng(v)&&ng(y)&&(y=tm(!0,v,y)),r[g]=[f,y,...S]}}}}const eW=new Ry().freeze();function im(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function sm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function lm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function mb(e){if(!ng(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function gb(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Bu(e){return tW(e)?e:new uj(e)}function tW(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function nW(e){return typeof e=="string"||rW(e)}function rW(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const oW="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",yb=[],xb={allowDangerousHtml:!0},iW=/^(https?|ircs?|mailto|xmpp)$/i,sW=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function lW(e){const t=aW(e),n=cW(e);return uW(t.runSync(t.parse(n),n),e)}function aW(e){const t=e.rehypePlugins||yb,n=e.remarkPlugins||yb,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...xb}:xb;return eW().use(B9).use(n).use(DU,r).use(t)}function cW(e){const t=e.children||"",n=new uj;return typeof t=="string"&&(n.value=t),n}function uW(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,s=t.disallowedElements,a=t.skipHtml,c=t.unwrapDisallowed,d=t.urlTransform||dW;for(const h of sW)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+oW+h.id,void 0);return cj(e,f),w8(e,{Fragment:u.Fragment,components:o,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function f(h,m,g){if(h.type==="raw"&&g&&typeof m=="number")return a?g.children.splice(m,1):g.children[m]={type:"text",value:h.value},m;if(h.type==="element"){let y;for(y in Qh)if(Object.hasOwn(Qh,y)&&Object.hasOwn(h.properties,y)){const S=h.properties[y],v=Qh[y];(v===null||v.includes(h.tagName))&&(h.properties[y]=d(String(S||""),y,h))}}if(h.type==="element"){let y=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!y&&r&&typeof m=="number"&&(y=!r(h,m,g)),y&&g&&typeof m=="number")return c&&h.children?g.children.splice(m,1,...h.children):g.children.splice(m,1),m}}}function dW(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||iW.test(e.slice(0,t))?e:""}function fW({open:e,onOpenChange:t}){const[n,r]=b.useState("");return b.useEffect(()=>{e&&fetch("usage-guide.md").then(o=>o.text()).then(o=>r(o)).catch(o=>{console.error("Error loading help content:",o),r(`# Error
Failed to load help content. Please try again later.`)})},[e]),u.jsx(an,{open:e,onOpenChange:t,modal:!0,children:u.jsxs(cn,{className:"sm:max-w-[800px] max-h-[80vh]",children:[u.jsxs(un,{children:[u.jsx(dn,{children:"Help & Documentation"}),u.jsx(Ri,{children:"Learn how to use OCPN Tools with this guide."})]}),u.jsx(of,{className:"flex-1 pr-4 h-[60vh]",children:u.jsx("div",{className:"prose",children:u.jsx(lW,{children:n})})}),u.jsx(Br,{className:"mt-4",children:u.jsx(we,{onClick:()=>t(!1),children:"Close"})})]})})}function pW({onToggleAIAssistant:e}){const[t,n]=b.useState(!1);return u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Un,{children:u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(we,{variant:"ghost",size:"icon",onClick:()=>n(!0),children:[u.jsx(EP,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Help & Documentation"})]})})}),u.jsx(hn,{children:u.jsx("p",{children:"Help & Documentation"})})]})}),u.jsx(Un,{children:u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(we,{variant:"ghost",size:"icon",onClick:e,children:[u.jsx(gA,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Toggle AI Assistant"})]})})}),u.jsx(hn,{children:u.jsx("p",{children:"Toggle AI Assistant"})})]})}),u.jsx(fW,{open:t,onOpenChange:n})]})}function hW(e){const t=Object.values(e.petriNetsById).map(s=>{const a=s.nodes.filter(f=>f.type==="place").map(f=>`<place id="${f.id}">
            <posattr x="${f.position.x}" y="${f.position.y}"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="Solid"/>
            <textattr colour="Black" bold="false"/>
            <text>${f.data.label}</text>
            <ellipse w="60.000000" h="40.000000"/>
            <type id="${f.data.colorSet}">
              <text>${f.data.colorSet}</text>
            </type>
            <initmark id="${f.id}_initmark">
              <text>${f.data.initialMarking||""}</text>
            </initmark>
          </place>`).join(`
`),c=s.nodes.filter(f=>f.type==="transition").map(f=>`<trans id="${f.id}">
            <posattr x="${f.position.x}" y="${f.position.y}"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="solid"/>
            <textattr colour="Black" bold="false"/>
            <text>${f.data.label}</text>
            <box w="60.000000" h="40.000000"/>
            ${f.data.guard?`<cond id="${f.id}_guard">
                  <text>${f.data.guard}</text>
                </cond>`:""}
            ${f.data.time?`<time id="${f.id}_time">
                  <text>${f.data.time}</text>
                </time>`:""}
            ${f.data.priority?`<priority id="${f.id}_priority">
                  <text>${f.data.priority}</text>
                </priority>`:""}
          </trans>`).join(`
`),d=s.edges.map(f=>`<arc id="${f.id}" orientation="PtoT">
            <posattr x="0.000000" y="0.000000"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="Solid"/>
            <textattr colour="Black" bold="false"/>
            <arrowattr headsize="1.200000" currentcyckle="2"/>
            <transend idref="${f.target}"/>
            <placeend idref="${f.source}"/>
            <annot id="${f.id}_inscription">
              <text>${f.label||""}</text>
            </annot>
          </arc>`).join(`
`);return`<page id="${s.id}">
        <pageattr name="${s.name}"/>
        ${a}
        ${c}
        ${d}
        <constraints/>
      </page>`}).join(`
`),n=e.uses.map(s=>`<use file="${s.name}"/>`).join(`
`),r=e.functions.map(s=>`<ml id="${s.id}">
        ${s.code}
        <layout>${s.code}</layout>
      </ml>`).join(`
        `);return`<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE workspaceElements PUBLIC "-//CPN//DTD CPNXML 1.0//EN" "http://cpntools.org/DTD/6/cpn.dtd">
<workspaceElements>
  <generator tool="CPN Tools" version="4.0.1" format="6"/>
  <cpnet>
    <globbox>
      ${n}
      <block id="ID2">
        <id>Standard priorities</id>
        ${e.priorities.map(s=>`<ml id="${s.id}">
          val ${s.name} = ${s.level};
          <layout>val ${s.name} = ${s.level};</layout>
        </ml>`).join(`
        `)}
      </block>
      <block id="ID1">
        <id>Standard declarations</id>
        ${e.colorSets.map(s=>{const a=["int","unit","bool","intinf","time","real","string"],c=s.definition.match(/colset\s+\w+\s*=\s*(\w+);$/),d=c?c[1].toLowerCase():null;return`<color id="${s.id}">
              <id>${s.name}</id>
              ${d&&a.includes(d)?`<${d}/>`:""}
              <layout>${s.definition}</layout>
            </color>`}).join(`
        `)}
        ${e.variables.map(s=>`<var id="${s.id}">
          <type>
            <id>${s.colorSet}</id>
          </type>
          <id>${s.name}</id>
          <layout>var ${s.name}:${s.colorSet};</layout>
        </var>`).join(`
        `)}
        ${r}
      </block>
    </globbox>
    ${t}
    <monitorblock name="Monitors"/>
  </cpnet>
</workspaceElements>`}function mW(e){const t=Object.values(e.petriNetsById).flatMap(o=>o.nodes),n=Object.values(e.petriNetsById).flatMap(o=>o.edges),r={$schema:"http://json-schema.org/draft-07/schema#",colorSets:e.colorSets.map(o=>o.definition),places:t.filter(o=>o.type==="place").map(o=>({name:o.data.label,colorSet:o.data.colorSet})),transitions:t.filter(o=>o.type==="transition").map(o=>({name:o.data.label,variables:o.data.variables||[],guard:o.data.guard||"True",inArcs:n.filter(s=>s.target===o.id).map(s=>{var a;return{place:((a=t.find(c=>c.id===s.source))==null?void 0:a.data.label)||"",expression:s.label||""}}),outArcs:n.filter(s=>s.source===o.id).map(s=>{var a;return{place:((a=t.find(c=>c.id===s.target))==null?void 0:a.data.label)||"",expression:s.label||""}})})),initialMarking:t.filter(o=>o.type==="place").reduce((o,s)=>{const a=s.data.initialMarking||[];return o[String(s.data.label)]=a&&Array.isArray(a)?{tokens:a.map(c=>Array.isArray(c)?c.map(d=>typeof d=="string"?d:Number(d)):[typeof c=="string"?c:Number(c)])}:{tokens:[]},o},{}),evaluationContext:null};return JSON.stringify(r,null,2)}function My(e){const t={petriNets:e.petriNetOrder.map(n=>{const r=e.petriNetsById[n];return{id:r.id,name:r.name,places:r.nodes.filter(o=>o.type==="place").map(o=>({id:o.id,name:o.data.label,colorSet:o.data.colorSet,initialMarking:o.data.initialMarking||"",marking:o.data.marking||"",position:o.position,size:o.measured||{width:50,height:30},colorSetOffset:o.data.colorSetOffset||void 0,tokenCountOffset:o.data.tokenCountOffset||void 0,markingOffset:o.data.markingOffset||void 0})),transitions:r.nodes.filter(o=>o.type==="transition").map(o=>({id:o.id,name:o.data.label,guard:o.data.guard||"",time:o.data.time||"",priority:o.data.priority||"",position:o.position,size:o.measured||{width:50,height:30}})),arcs:r.edges.map(o=>{var s,a;return{id:o.id,source:o.source,target:o.target,inscription:o.label||"",isBidirectional:((s=o.data)==null?void 0:s.isBidirectional)||!1,labelOffset:((a=o.data)==null?void 0:a.labelOffset)||void 0}})}}),colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses,simulationSettings:e.simulationSettings||void 0};return JSON.stringify(t,null,2)}function gW(e){const t=JSON.parse(e);if(!t||!Array.isArray(t.petriNets))throw new Error("Invalid JSON format: Missing 'petriNets' array.");const n={},r=[];t.petriNets.forEach(h=>{const m=h.places.map(v=>{var w,N;return{id:v.id,type:"place",position:v.position||{x:0,y:0},data:{label:v.name,colorSet:v.colorSet,initialMarking:v.initialMarking||"",marking:v.marking||"",colorSetOffset:v.colorSetOffset||void 0,tokenCountOffset:v.tokenCountOffset||void 0,markingOffset:v.markingOffset||void 0},width:((w=v.size)==null?void 0:w.width)||50,height:((N=v.size)==null?void 0:N.height)||30}}),g=h.transitions.map(v=>{var w,N;return{id:v.id,type:"transition",position:v.position||{x:0,y:0},data:{label:v.name,guard:v.guard||"",time:v.time||"",priority:v.priority||""},width:((w=v.size)==null?void 0:w.width)||50,height:((N=v.size)==null?void 0:N.height)||30}}),y=h.arcs.map(v=>({id:v.id,source:v.source,target:v.target,label:v.inscription||"",data:{isBidirectional:v.isBidirectional||!1,labelOffset:v.labelOffset||void 0}})),S={id:h.id,name:h.name,nodes:[...m,...g],edges:y,selectedElement:null};n[h.id]=S,r.push(h.id)});const o=t.colorSets||[],s=t.variables||[],a=t.priorities||[],c=t.functions||[],d=t.uses||[],f=t.simulationSettings?{stepsPerRun:t.simulationSettings.stepsPerRun,animationDelayMs:t.simulationSettings.animationDelayMs,simulationEpoch:t.simulationSettings.simulationEpoch}:void 0;return{petriNetsById:n,petriNetOrder:r,colorSets:o,variables:s,priorities:a,functions:c,uses:d,simulationSettings:f}}function yW(e,t){const n=new Blob([e],{type:"text/plain;charset=utf-8"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}function xW(e,t){var n;try{const r=(n=t.split(".").pop())==null?void 0:n.toLowerCase();if(r==="ocpn")return gW(e);if(r==="json")return wW(e);if((r==="xml"||r==="cpn")&&(e.includes("<workspaceElements>")||e.includes("<cpnet>")))return vW(e);throw new Error("Unsupported file format")}catch(r){return console.error("Error parsing file:",r),null}}function da(){const e="0123456789ABCDEF";let t="#";for(let n=0;n<6;n++)t+=e[Math.floor(Math.random()*16)];return t}function vW(e){const n=new DOMParser().parseFromString(e,"text/xml"),r={},o=[],s=Array.from(n.querySelectorAll("globbox color")).map(m=>{var k,P;const g=((k=m.querySelector("id"))==null?void 0:k.textContent)||"",y=m.querySelector("product");if(y){const I=Array.from(y.querySelectorAll(":scope > id")).map(T=>T.textContent||""),A=`colset ${g} = product ${I.join(" * ")};`;return{id:g,name:g,type:"product",definition:A,color:da()}}const S=m.querySelector("int");if(S){const I=S.querySelector("with");if(I){const A=I.querySelectorAll("ml");if(A.length>=2){const T=A[0].textContent||"0",$=A[1].textContent||"0",G=`colset ${g} = int with ${T}..${$};`;return{id:g,name:g,type:"basic",definition:G,color:da()}}}return{id:g,name:g,type:"basic",definition:`colset ${g} = int;`,color:da()}}const v=Array.from(m.children).find(I=>{const A=I.tagName.toLowerCase();return["bool","string","real","unit","time","intinf"].includes(A)}),w=v?v.tagName.toLowerCase():null,N=((P=m.querySelector("layout"))==null?void 0:P.textContent)||"",_=w?`colset ${g} = ${w};`:N||`colset ${g} = complex;`;return{id:g,name:g,type:w?"basic":"complex",definition:_,color:da()}}),a=Array.from(n.querySelectorAll("globbox var")).flatMap(m=>{var _,k;const g=m.getAttribute("id")||qe(),y=((_=m.querySelector("type > id"))==null?void 0:_.textContent)||"",S=((k=m.querySelector("layout"))==null?void 0:k.textContent)||"",v=Array.from(m.querySelectorAll(":scope > id"));if(v.length>0)return v.map((P,I)=>({id:`${g}_${I}`,name:P.textContent||"",colorSet:y}));const w=S.match(/var\s+([^:]+):/);return!w||!w[1]?(console.warn(`Could not parse variable names from layout: ${S}`),[]):w[1].split(",").map(P=>P.trim()).filter(P=>P).map((P,I)=>({id:`${g}_${I}`,name:P,colorSet:y}))}),c=Array.from(n.querySelectorAll("globbox ml")).reduce((m,g)=>{var v;const S=(((v=g.querySelector("layout"))==null?void 0:v.textContent)||"").match(/val\s+(\w+)\s*=\s*(\d+);/);return S&&m.push({id:qe(),name:S[1],level:parseInt(S[2],10)}),m},[]),d=[];Array.from(n.querySelectorAll("globbox block ml")).forEach(m=>{var S;const g=((S=m.querySelector("layout"))==null?void 0:S.textContent)||"",y=m.getAttribute("id")||qe();if(g.trim().startsWith("fun ")){const v=g.match(/^fun\s+([a-zA-Z0-9_]+)/),w=v?v[1]:`func_${y}`;d.push({id:y,name:w,code:g})}}),Array.from(n.querySelectorAll("globbox > ml")).forEach(m=>{var S;const g=((S=m.textContent)==null?void 0:S.trim())||"",y=m.getAttribute("id")||qe();if(g.startsWith("fun ")){const v=g.match(/^fun\s+([a-zA-Z0-9_]+)/),w=v?v[1]:`func_${y}`;d.push({id:y,name:w,code:g})}});const f=Array.from(n.querySelectorAll("globbox use")).map(m=>{var w,N;const g=((w=m.querySelector("ml"))==null?void 0:w.textContent)||"",y=((N=m.querySelector("layout"))==null?void 0:N.textContent)||"",S=g.match(/"([^"]+)"/)||y.match(/"([^"]+)"/),v=S?S[1]:"";return{id:qe(),name:v,content:""}});return Array.from(n.querySelectorAll("page")).forEach(m=>{var P;const g=m.getAttribute("id")||qe(),y=((P=m.querySelector("pageattr"))==null?void 0:P.getAttribute("name"))||`Page ${g}`,S=(I,A,T,$,G,X,Y,U="text")=>{var R;if(!X)return null;const V=((R=X.querySelector(U))==null?void 0:R.textContent)||"";if(!V.trim())return null;const j=X.querySelector("posattr");if(!j)return null;const O=parseFloat(j.getAttribute("x")||"0"),z=-parseFloat(j.getAttribute("y")||"0"),H=A-$/2,L=T-G/2,W=O-H,M=z-L,F=X.querySelector("textattr"),q=(F==null?void 0:F.getAttribute("colour"))||void 0;return{id:X.getAttribute("id")||qe(),type:"inscription",position:{x:W,y:M},parentId:I,draggable:!0,data:{label:V,inscriptionType:Y,color:q}}},v=Array.from(m.querySelectorAll("place")).flatMap(I=>{var O,z,H,L,W;const A=I.querySelector("ellipse"),T=A?parseFloat(A.getAttribute("w")||"60"):60,$=A?parseFloat(A.getAttribute("h")||"40"):40,G=((O=I.querySelector("initmark text"))==null?void 0:O.textContent)||"",X=parseFloat(((z=I.querySelector("posattr"))==null?void 0:z.getAttribute("x"))||"0"),Y=-parseFloat(((H=I.querySelector("posattr"))==null?void 0:H.getAttribute("y"))||"0"),U=I.getAttribute("id")||qe(),V={id:U,type:"place",position:{x:X-T/2,y:Y-$/2},width:T,height:$,data:{label:((L=I.querySelector("text"))==null?void 0:L.textContent)||"",colorSet:((W=I.querySelector("type text"))==null?void 0:W.textContent)||"",initialMarking:G}},j=[S(U,X,Y,T,$,I.querySelector("type"),"colorSet"),S(U,X,Y,T,$,I.querySelector("initmark"),"initialMarking")].filter(M=>M!==null);return[V,...j]}),w=Array.from(m.querySelectorAll("trans")).flatMap(I=>{var j,O,z,H,L,W;const A=I.querySelector("box"),T=A?parseFloat(A.getAttribute("w")||"60"):60,$=A?parseFloat(A.getAttribute("h")||"40"):40,G=parseFloat(((j=I.querySelector("posattr"))==null?void 0:j.getAttribute("x"))||"0"),X=-parseFloat(((O=I.querySelector("posattr"))==null?void 0:O.getAttribute("y"))||"0"),Y=I.getAttribute("id")||qe(),U={id:Y,type:"transition",position:{x:G-T/2,y:X-$/2},width:T,height:$,data:{label:((z=I.querySelector("text"))==null?void 0:z.textContent)||"",guard:((H=I.querySelector("cond text"))==null?void 0:H.textContent)||"",time:((L=I.querySelector("time text"))==null?void 0:L.textContent)||"",priority:((W=I.querySelector("priority text"))==null?void 0:W.textContent)||""}},V=[S(Y,G,X,T,$,I.querySelector("cond"),"guard"),S(Y,G,X,T,$,I.querySelector("time"),"time"),S(Y,G,X,T,$,I.querySelector("priority"),"priority"),S(Y,G,X,T,$,I.querySelector("code"),"codeSegment")].filter(M=>M!==null);return[U,...V]}),N=Array.from(m.querySelectorAll("arc")).flatMap(I=>{var O,z,H;const A=I.getAttribute("id")||qe(),T=I.getAttribute("orientation"),$=parseInt(I.getAttribute("order")||"0",10),G=((O=I.querySelector("placeend"))==null?void 0:O.getAttribute("idref"))||"",X=((z=I.querySelector("transend"))==null?void 0:z.getAttribute("idref"))||"",Y=((H=I.querySelector("annot text"))==null?void 0:H.textContent)||"",U=Array.from(I.querySelectorAll("bendpoint")).map(L=>{var W,M;return{x:parseFloat(((W=L.querySelector("posattr"))==null?void 0:W.getAttribute("x"))||"0"),y:-parseFloat(((M=L.querySelector("posattr"))==null?void 0:M.getAttribute("y"))||"0")}});if(T==="BOTHDIR")return[{id:A,type:"floating",source:G,target:X,label:Y,data:{bendpoints:U,isBidirectional:!0,order:$}}];let V="",j="";return T==="PtoT"?(V=G,j=X):T==="TtoP"?(V=X,j=G):(V=G,j=X,console.warn(`Unhandled arc orientation: ${T} for arc ${A}. Assuming PtoT.`)),[{id:A,type:"floating",source:V,target:j,label:Y,data:{bendpoints:U,order:$}}]}),_=Array.from(m.querySelectorAll("Aux")).map(I=>{var V,j,O;const A=I.getAttribute("id")||qe(),T=((V=I.querySelector("text"))==null?void 0:V.textContent)||"",$=parseFloat(((j=I.querySelector("posattr"))==null?void 0:j.getAttribute("x"))||"0"),G=-parseFloat(((O=I.querySelector("posattr"))==null?void 0:O.getAttribute("y"))||"0"),X=I.querySelector("textattr"),Y=(X==null?void 0:X.getAttribute("colour"))||void 0,U=(X==null?void 0:X.getAttribute("bold"))==="true";return{id:A,type:"auxText",position:{x:$,y:G},data:{label:T,color:Y,bold:U}}}),k={id:g,name:y,nodes:[...v,...w,..._],edges:N,selectedElement:null};r[g]=k,o.push(g)}),{petriNetsById:r,petriNetOrder:o,colorSets:s,variables:a,priorities:c,functions:d,uses:f}}function wW(e){const t=JSON.parse(e),n=t.places.map(c=>{var d;return{id:qe(),type:"place",position:{x:0,y:0},data:{label:c.name,colorSet:c.colorSet,initialMarking:((d=t.initialMarking[c.name])==null?void 0:d.tokens.map(f=>Array.isArray(f)?f:[f]))||[]}}}),r=t.transitions.map(c=>({id:qe(),type:"transition",position:{x:0,y:0},data:{label:c.name,guard:c.guard,variables:c.variables}})),o=t.transitions.flatMap(c=>{const d=r.find(f=>f.data.label===c.name);return[...c.inArcs.map(f=>{var h;return{id:qe(),source:((h=n.find(m=>m.data.label===f.place))==null?void 0:h.id)||"",target:(d==null?void 0:d.id)||"",label:f.expression}}),...c.outArcs.map(f=>{var h;return{id:qe(),source:(d==null?void 0:d.id)||"",target:((h=n.find(m=>m.data.label===f.place))==null?void 0:h.id)||"",label:f.expression}})]}),s=qe(),a={id:s,name:"Default Petri Net",nodes:[...n,...r],edges:o,selectedElement:null};return{petriNetsById:{[s]:a},petriNetOrder:[s],colorSets:t.colorSets.map(c=>({id:qe(),name:c.split(" ")[1],type:"basic",definition:c,color:da()})),variables:[],priorities:[],functions:[],uses:[]}}const bW=e=>({petriNetOrder:e.petriNetOrder,petriNetsById:e.petriNetsById,activePetriNetId:e.activePetriNetId,colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses,simulationEpoch:e.simulationEpoch,setSimulationEpoch:e.setSimulationEpoch,createPetriNet:e.createPetriNet,setActivePetriNet:e.setActivePetriNet,setNodes:e.setNodes,setEdges:e.setEdges,setColorSets:e.setColorSets,setVariables:e.setVariables,setPriorities:e.setPriorities,setFunctions:e.setFunctions,setUses:e.setUses,toggleArcMode:e.toggleArcMode,reset:e.reset}),SW={type:"floating",markerEnd:{type:Ta.ArrowClosed,color:"#000",width:10,height:10}},NW=({onToggleAIAssistant:e})=>{const[t,n]=b.useState(!1),[r,o]=b.useState(!1),[s,a]=b.useState(!1),[c,d]=b.useState(""),[f,h]=b.useState(!1),[m,g]=b.useState({x:0,y:0}),y=b.useContext(lf),{petriNetOrder:S,petriNetsById:v,activePetriNetId:w,colorSets:N,variables:_,priorities:k,functions:P,uses:I,simulationEpoch:A,setSimulationEpoch:T,createPetriNet:$,setActivePetriNet:G,setNodes:X,setColorSets:Y,setVariables:U,setPriorities:V,setFunctions:j,setUses:O,toggleArcMode:z,reset:H}=ge(N6(bW)),L=ge(ye=>w?ye.petriNetsById[w]:null),W=w6(w||""),{onNodesChange:M,onEdgesChange:F,onConnect:q}=w?W:{onNodesChange:()=>{},onEdgesChange:()=>{},onConnect:()=>{}},{fitView:R,screenToFlowPosition:J}=Ai(),[ne]=j_(),te=[{key:"bottom",label:[""],angle:90},{key:"undo",label:["Undo"],angle:150,disabled:!0},{key:"redo",label:["Redo"],angle:30,disabled:!0},{key:"new-place",label:["New","Place"],angle:210},{key:"create-aux",label:["Create aux","text"],angle:270,disabled:!0},{key:"new-transition",label:["New","Transition"],angle:330}],B=(ye,Be)=>{if(ye){if(H(),Object.values(ye.petriNetsById).forEach(He=>{ge.getState().addPetriNet(He)}),ye.petriNetOrder.length>0&&ge.getState().setActivePetriNet(ye.petriNetOrder[0]),ye.colorSets&&Y(ye.colorSets),ye.variables&&U(ye.variables),ye.priorities&&V(ye.priorities),ye.functions&&j(ye.functions),ye.uses&&O(ye.uses),ye.simulationSettings&&(ye.simulationSettings.simulationEpoch!==void 0&&T(ye.simulationSettings.simulationEpoch),y!=null&&y.setSimulationConfig)){const He=y.simulationConfig;y.setSimulationConfig({...He,stepsPerRun:ye.simulationSettings.stepsPerRun??He.stepsPerRun,animationDelayMs:ye.simulationSettings.animationDelayMs??He.animationDelayMs})}if(Be.endsWith(".json")){const He={algorithm:"dagre",direction:"TB",nodeSeparation:150,rankSeparation:50};Object.values(ye.petriNetsById).forEach(rt=>{ft(He,rt.nodes,rt.edges)})}else window.requestAnimationFrame(()=>{R({padding:.2,maxZoom:4})})}},Q=(ye,Be)=>{y?y.reset():console.error("Simulation context not found, cannot reset simulation state.");const He=xW(ye,Be);He?B(He,Be):alert("Failed to parse the file. Please check the file format.")},oe=ye=>{var pt,At;let Be,He;const rt={petriNetsById:v,petriNetOrder:S,colorSets:N,variables:_,priorities:k,functions:P,uses:I,simulationSettings:{stepsPerRun:(pt=y==null?void 0:y.simulationConfig)==null?void 0:pt.stepsPerRun,animationDelayMs:(At=y==null?void 0:y.simulationConfig)==null?void 0:At.animationDelayMs,simulationEpoch:A}};switch(ye){case"cpn-tools":Be=hW({...rt,petriNetsById:Object.fromEntries(Object.entries(rt.petriNetsById).map(([st,le])=>[st,{...le,nodes:le.nodes.map(fe=>({...fe,position:{...fe.position,y:-fe.position.y}}))}]))}),He="PetriNet.cpn";break;case"cpn-py":Be=mW(rt),He="PetriNet.json";break;case"json":default:Be=My(rt),He="PetriNet.ocpn";break}yW(Be,He)},ie=b.useCallback(ye=>{ye.preventDefault(),ye.dataTransfer.dropEffect="move"},[]),ue=b.useCallback(ye=>{if(ye.preventDefault(),!ne||typeof ne!="string")return;const Be=J({x:ye.clientX,y:ye.clientY}),He={id:`node_${Date.now()}`,type:ne,position:Be,width:ne==="transition"?60:30,data:{label:ne==="auxText"?"Annotation":`${ne}`,...ne==="place"?{colorSet:""}:ne==="transition"?{guard:""}:{}}};w?ge.getState().addNode(w,He):console.error("Cannot add node: activePetriNetId is null.")},[J,ne,w]),de=b.useCallback((ye,Be)=>{h(!1),w?ge.getState().setSelectedElement(w,{type:"node",element:Be}):console.error("Cannot set selected element: activePetriNetId is null.")},[w]),be=b.useCallback((ye,Be)=>{h(!1),w?ge.getState().setSelectedElement(w,{type:"edge",element:Be}):console.error("Cannot set selected element: activePetriNetId is null.")},[w]),Se=b.useCallback(()=>{w?ge.getState().setSelectedElement(w,null):console.error("Cannot set selected element: activePetriNetId is null."),h(!1)},[w]),De=b.useCallback(ye=>{ye.preventDefault();const Be=ye,He={x:Be.clientX,y:Be.clientY};g(He),h(!0)},[]),We=(ye,Be)=>{const He=Be.key==="new-place"?50:60,rt=Be.key==="new-place"?50:40,pt={x:J(m).x-He/2,y:J(m).y-rt/2};if(Be.key==="new-place"){const At={id:`node_${Date.now()}`,type:"place",position:pt,data:{label:"place",isArcMode:!1,colorSet:""}};w&&ge.getState().addNode(w,At)}else if(Be.key==="new-transition"){const At={id:`node_${Date.now()}`,type:"transition",position:pt,width:60,data:{label:"transition",isArcMode:!1,guard:""}};w&&ge.getState().addNode(w,At)}h(!1)},ft=b.useCallback(async(ye,Be,He)=>{if(Be.length)try{if(ye.algorithm==="dagre"){const rt=await j1(()=>import("./index-BetYdQai.js").then(st=>st.i),[]),pt=new rt.graphlib.Graph;pt.setGraph({rankdir:ye.direction,nodesep:ye.nodeSeparation,ranksep:ye.rankSeparation,ranker:"network-simplex"}),pt.setDefaultEdgeLabel(()=>({})),He.forEach(st=>pt.setEdge(st.source,st.target)),Be.forEach(st=>{var le,fe;return pt.setNode(st.id,{...st,width:((le=st.measured)==null?void 0:le.width)??0,height:((fe=st.measured)==null?void 0:fe.height)??0})}),rt.layout(pt);const At=Be.map(st=>{var Ve,Ke;const le=pt.node(st.id),fe=le.x-(((Ve=st.measured)==null?void 0:Ve.width)??0)/2,Ae=le.y-(((Ke=st.measured)==null?void 0:Ke.height)??0)/2;return{...st,position:{x:fe,y:Ae}}});w&&X(w,[...At])}else if(ye.algorithm==="elk"){const{default:rt}=await j1(async()=>{const{default:le}=await import("./elk.bundled-BJq0K9LO.js").then(fe=>fe.e);return{default:le}},[]),pt=new rt,At={id:"root",layoutOptions:{"elk.algorithm":"layered","elk.direction":ye.direction==="TB"?"DOWN":"RIGHT","elk.spacing.nodeNode":ye.nodeSeparation.toString(),"elk.layered.spacing.nodeNodeBetweenLayers":ye.rankSeparation.toString()},children:Be.map(le=>{var fe,Ae;return{id:le.id,width:Number(((fe=le.style)==null?void 0:fe.width)||80),height:Number(((Ae=le.style)==null?void 0:Ae.height)||80)}}),edges:He.map(le=>({id:le.id,sources:[le.source],targets:[le.target]}))},st=await pt.layout(At);if(st.children){const le=Be.map(fe=>{var Ve;const Ae=(Ve=st.children)==null?void 0:Ve.find(Ke=>Ke.id===fe.id);return Ae&&Ae.x!==void 0&&Ae.y!==void 0?{...fe,position:{x:Ae.x,y:Ae.y}}:fe});w&&X(w,[...le])}}window.requestAnimationFrame(()=>{R({padding:.2})})}catch(rt){console.error("Error applying layout:",rt)}},[X,R,w]),ut=ye=>{ye.preventDefault(),$(c),a(!1),d("")};return u.jsxs("div",{className:"dndflow flex flex-col grow",children:[" ",u.jsxs("div",{className:"flex flex-col grow",style:{height:100},children:[" ",u.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Un,{children:u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(we,{variant:"ghost",size:"icon",title:"Open",onClick:()=>o(!0),children:[u.jsx(HP,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Open Petri Net"})]})})}),u.jsx(hn,{children:u.jsx("p",{children:"Open Petri Net"})})]})}),u.jsx(Un,{children:u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(we,{variant:"ghost",size:"icon",title:"Save",onClick:()=>n(!0),children:[u.jsx(lA,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Save Petri Net"})]})})}),u.jsx(hn,{children:u.jsx("p",{children:"Save Petri Net"})})]})})]}),u.jsx(WV,{}),u.jsx(pW,{onToggleAIAssistant:e})]}),u.jsx(HV,{open:r,onOpenChange:o,onFileLoaded:Q}),u.jsx(UV,{open:t,onOpenChange:n,onSave:oe,petriNetName:"Petri Net"}),u.jsx("div",{className:"flex flex-col w-full mx-auto bg-muted",children:u.jsx(Ii,{defaultValue:w||S[0],value:w??void 0,onValueChange:ye=>G(ye),className:"flex flex-col gap-2 items-start",children:u.jsxs(Ti,{className:"flex gap-4 items-center",children:[S.map(ye=>u.jsx(Yn,{value:ye,children:v[ye].name},ye)),u.jsx(we,{variant:"ghost",onClick:()=>a(!0),children:"New Subnet"}),u.jsx(an,{open:s,onOpenChange:a,children:u.jsxs(cn,{className:"p-4",children:[u.jsx(un,{children:u.jsx(dn,{children:"Add New Subnet"})}),u.jsxs("form",{onSubmit:ut,className:"space-y-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(ke,{htmlFor:"petri-net-name",children:"Subnet Name"}),u.jsx(Xe,{id:"petri-net-name",placeholder:"Enter Petri Net name",value:c,onChange:ye=>d(ye.target.value)})]}),u.jsx(we,{type:"submit",className:"w-full",children:"Add Petri Net"})]})]})})]})})}),u.jsxs(mz,{nodes:(L==null?void 0:L.nodes)||[],nodeTypes:Zz,edges:(L==null?void 0:L.edges)||[],edgeTypes:i4,onNodesChange:M,onEdgesChange:F,onNodeDragStart:de,onNodeClick:de,onEdgeClick:be,onPaneClick:Se,onPaneContextMenu:De,onConnect:q,onDrop:ue,onDragOver:ie,fitView:!0,defaultEdgeOptions:SW,connectionLineComponent:VV,maxZoom:4,onInit:ye=>{requestAnimationFrame(()=>{ye.fitView({maxZoom:4,padding:.1})})},children:[u.jsx(Sz,{}),u.jsx(Vz,{}),u.jsx(Pz,{}),u.jsx(Ka,{position:"top-center",children:u.jsx(FV,{toggleArcMode:z,onApplyLayout:ye=>L&&ft(ye,L.nodes,L.edges)})}),u.jsx(BV,{slices:te,position:m,isOpen:f,onClose:()=>h(!1),onSliceClick:We,size:200})]})]})]})};function CW({open:e,onOpenChange:t,apiKey:n,onApiKeyChange:r}){const[o,s]=b.useState(n||""),[a,c]=b.useState(!1);b.useEffect(()=>{s(n||"")},[n]);const d=()=>{r(o),t(!1)};return u.jsx(an,{open:e,onOpenChange:t,children:u.jsxs(cn,{className:"sm:max-w-[500px]",children:[u.jsxs(un,{children:[u.jsx(dn,{children:"Settings"}),u.jsx(Ri,{children:"Configure your OCPN Tools preferences."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ke,{htmlFor:"openai-api-key",children:"OpenAI API Key"}),u.jsxs("div",{className:"relative",children:[u.jsx(Xe,{id:"openai-api-key",type:a?"text":"password",placeholder:"sk-...",value:o,onChange:f=>s(f.target.value),className:"w-full pr-10",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",inputMode:"text",autoFocus:!0}),u.jsx(we,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>c(!a),children:a?u.jsx(OP,{className:"h-4 w-4"}):u.jsx(LP,{className:"h-4 w-4"})})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Your API key is stored locally in your browser and never sent to our servers."})]}),u.jsxs(Br,{children:[u.jsx(we,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(we,{onClick:d,children:"Save Changes"})]})]})})}const vb="ocpn-tools-openai-api-key";function kW(){const[e,t]=b.useState([{id:"welcome",role:"assistant",content:"Hello! I'm Carl, your OCPN assistant. I can help you analyze your model, explain concepts, or suggest improvements. What would you like to know?",timestamp:new Date}]),[n,r]=b.useState(""),[o,s]=b.useState(!1),a=b.useRef(null),[c,d]=b.useState(!1),[f,h]=b.useState(null);b.useEffect(()=>{const v=localStorage.getItem(vb);v&&h(v)},[]);const m=v=>{h(v),localStorage.setItem(vb,v)};b.useEffect(()=>{var v;(v=a.current)==null||v.scrollIntoView({behavior:"smooth"})},[e]);const g=()=>{const v={petriNetsById:ge.getState().petriNetsById,petriNetOrder:ge.getState().petriNetOrder,colorSets:ge.getState().colorSets,variables:ge.getState().variables,priorities:ge.getState().priorities,functions:ge.getState().functions,uses:ge.getState().uses};return`
      Here is the current state of the Petri Net:

      ${My(v)}
    `},y=async()=>{if(!n.trim()||o)return;if(!f){t(w=>[...w,{id:Date.now().toString(),role:"user",content:n,timestamp:new Date},{id:Date.now().toString()+"-error",role:"assistant",content:"Please set your OpenAI API key in the settings to use the AI assistant. Click the settings icon in the top right corner.",timestamp:new Date}]),r("");return}const v={id:Date.now().toString(),role:"user",content:n,timestamp:new Date};t(w=>[...w,v]),r(""),s(!0);try{const N=[{role:"system",content:`You are an AI assistant specialized in Colored Petri Nets (CPN). 
          Help the user understand and analyze their Petri Net model.
          Here is the current state of the Petri Net:
          
          ${g()}
          
          Be concise but informative in your responses. If asked about concepts, explain them clearly.
          If asked to analyze the model, provide insights based on the structure and properties.`},...e.filter(I=>I.id!=="welcome").map(I=>({role:I.role,content:I.content})),{role:v.role,content:v.content}],_=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({model:"gpt-4o",messages:N,temperature:.7,max_tokens:1e3})});if(!_.ok)throw new Error(`API error: ${_.status}`);const k=await _.json(),P={id:Date.now().toString()+"-response",role:"assistant",content:k.choices[0].message.content,timestamp:new Date};t(I=>[...I,P])}catch(w){console.error("Error calling OpenAI API:",w),t(N=>[...N,{id:Date.now().toString()+"-error",role:"assistant",content:"Sorry, there was an error processing your request. Please try again later.",timestamp:new Date}])}finally{s(!1)}},S=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),y())};return u.jsxs(ma,{defaultSize:20,className:"min-w-[400px] border-l h-screen",children:[u.jsxs("div",{className:"flex flex-col h-full overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("div",{className:"flex items-center",children:u.jsx("h2",{className:"font-semibold",children:"OCPN AI Assistant"})}),u.jsx(we,{variant:"ghost",size:"icon",onClick:()=>d(!0),children:u.jsx(Mb,{className:"h-4 w-4"})})]}),u.jsx(of,{className:"flex-1 p-4",children:u.jsxs("div",{className:"space-y-4",children:[e.map(v=>u.jsxs("div",{className:ze("flex flex-col max-w-[90%] rounded-lg p-3",v.role==="user"?"ml-auto bg-primary text-primary-foreground":"bg-muted text-foreground"),children:[u.jsx("div",{className:"whitespace-pre-wrap",children:v.content}),u.jsx("div",{className:"text-xs opacity-70 mt-1 self-end",children:v.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},v.id)),o&&u.jsx("div",{className:"flex max-w-[90%] rounded-lg p-3 bg-muted text-foreground",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground/50 animate-bounce"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground/50 animate-bounce",style:{animationDelay:"0.2s"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground/50 animate-bounce",style:{animationDelay:"0.4s"}})]})}),u.jsx("div",{ref:a})]})}),u.jsx(Qa,{}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Xe,{placeholder:"Ask about your OCPN",value:n,onChange:v=>r(v.target.value),onKeyDown:S,disabled:o||!f,className:"flex-1"}),u.jsx(we,{size:"icon",onClick:y,disabled:o||!n.trim()||!f,children:u.jsx(dA,{className:"h-4 w-4"})})]}),!f&&u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Please set your OpenAI API key in settings to use the AI assistant."})]})]}),u.jsx(CW,{open:c,onOpenChange:d,apiKey:f,onApiKeyChange:m})]})}class og{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,wb.unregister(this),t}free(){const t=this.__destroy_into_raw();ot.__wbg_wasmsimulator_free(t,0)}advanceTime(t){ot.wasmsimulator_advanceTime(this.__wbg_ptr,t)}fireTransition(t){const n=Qu(t,ot.__wbindgen_malloc,ot.__wbindgen_realloc),r=Rs,o=ot.wasmsimulator_fireTransition(this.__wbg_ptr,n,r);if(o[2])throw eo(o[1]);return eo(o[0])}getCurrentTime(){return ot.wasmsimulator_getCurrentTime(this.__wbg_ptr)}getEnabledTransitions(){const t=ot.wasmsimulator_getEnabledTransitions(this.__wbg_ptr);if(t[2])throw eo(t[1]);return eo(t[0])}getSimulationEpoch(){return ot.wasmsimulator_getSimulationEpoch(this.__wbg_ptr)}constructor(t){const n=Qu(t,ot.__wbindgen_malloc,ot.__wbindgen_realloc),r=Rs,o=ot.wasmsimulator_new(n,r);if(o[2])throw eo(o[1]);return this.__wbg_ptr=o[0]>>>0,wb.register(this,this.__wbg_ptr,this),this}runMultipleSteps(t){const n=ot.wasmsimulator_runMultipleSteps(this.__wbg_ptr,t);if(n[2])throw eo(n[1]);return eo(n[0])}run_step(){const t=ot.wasmsimulator_run_step(this.__wbg_ptr);if(t[2])throw eo(t[1]);return eo(t[0])}setCurrentTime(t){ot.wasmsimulator_setCurrentTime(this.__wbg_ptr,t)}setEventListener(t){ot.wasmsimulator_setEventListener(this.__wbg_ptr,t)}setSimulationEpoch(t){var n=ha(t)?0:Qu(t,ot.__wbindgen_malloc,ot.__wbindgen_realloc),r=Rs;ot.wasmsimulator_setSimulationEpoch(this.__wbg_ptr,n,r)}}Symbol.dispose&&(og.prototype[Symbol.dispose]=og.prototype.free);function EW(){return{__proto__:null,"./cpnsim_bg.js":{__proto__:null,__wbg_Error_8c4e43fe74559d73:function(t,n){return Error(ra(t,n))},__wbg_String_8f0eb39a4a4c2f66:function(t,n){const r=String(n),o=Qu(r,ot.__wbindgen_malloc,ot.__wbindgen_realloc),s=Rs;Sb().setInt32(t+4,s,!0),Sb().setInt32(t+0,o,!0)},__wbg___wbindgen_is_string_cd444516edc5b180:function(t){return typeof t=="string"},__wbg___wbindgen_is_undefined_9e4d92534c42d778:function(t){return t===void 0},__wbg___wbindgen_throw_be289d5034ed271b:function(t,n){throw new Error(ra(t,n))},__wbg_call_389efe28435a9388:function(){return oa(function(t,n){return t.call(n)},arguments)},__wbg_call_4708e0c13bdc8e95:function(){return oa(function(t,n,r){return t.call(n,r)},arguments)},__wbg_fromCodePoint_22365db7b7d6ac39:function(){return oa(function(t){return String.fromCodePoint(t>>>0)},arguments)},__wbg_from_bddd64e7d5ff6941:function(t){return Array.from(t)},__wbg_getRandomValues_1c61fac11405ffdc:function(){return oa(function(t,n){globalThis.crypto.getRandomValues(bb(t,n))},arguments)},__wbg_log_6b5ca2e6124b2808:function(t){console.log(t)},__wbg_log_8e6002fe4b368b1d:function(t,n){console.log(ra(t,n))},__wbg_new_361308b2356cecd0:function(){return new Object},__wbg_new_3eb36ae241fe6f44:function(){return new Array},__wbg_new_dca287b076112a51:function(){return new Map},__wbg_new_dd2b680c8bf6ae29:function(t){return new Uint8Array(t)},__wbg_new_no_args_1c7c842f08d00ebb:function(t,n){return new Function(ra(t,n))},__wbg_now_2c95c9de01293173:function(t){return t.now()},__wbg_performance_7a3ffd0b17f663ad:function(t){return t.performance},__wbg_push_8ffdcb2063340ba5:function(t,n){return t.push(n)},__wbg_set_1eb0999cf5d27fc8:function(t,n,r){return t.set(n,r)},__wbg_set_3f1d0b984ed272ed:function(t,n,r){t[n]=r},__wbg_set_6cb8631f80447a67:function(){return oa(function(t,n,r){return Reflect.set(t,n,r)},arguments)},__wbg_set_f43e577aea94465b:function(t,n,r){t[n>>>0]=r},__wbg_static_accessor_GLOBAL_12837167ad935116:function(){const t=typeof global>"u"?null:global;return ha(t)?0:fa(t)},__wbg_static_accessor_GLOBAL_THIS_e628e89ab3b1c95f:function(){const t=typeof globalThis>"u"?null:globalThis;return ha(t)?0:fa(t)},__wbg_static_accessor_SELF_a621d3dfbb60d0ce:function(){const t=typeof self>"u"?null:self;return ha(t)?0:fa(t)},__wbg_static_accessor_WINDOW_f8727f0cf888e0bd:function(){const t=typeof window>"u"?null:window;return ha(t)?0:fa(t)},__wbindgen_cast_0000000000000001:function(t){return t},__wbindgen_cast_0000000000000002:function(t){return t},__wbindgen_cast_0000000000000003:function(t,n){return bb(t,n)},__wbindgen_cast_0000000000000004:function(t,n){return ra(t,n)},__wbindgen_init_externref_table:function(){const t=ot.__wbindgen_externrefs,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)}}}}const wb=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>ot.__wbg_wasmsimulator_free(e>>>0,1));function fa(e){const t=ot.__externref_table_alloc();return ot.__wbindgen_externrefs.set(t,e),t}function bb(e,t){return e=e>>>0,ba().subarray(e/1,e/1+t)}let mi=null;function Sb(){return(mi===null||mi.buffer.detached===!0||mi.buffer.detached===void 0&&mi.buffer!==ot.memory.buffer)&&(mi=new DataView(ot.memory.buffer)),mi}function ra(e,t){return e=e>>>0,jW(e,t)}let pa=null;function ba(){return(pa===null||pa.byteLength===0)&&(pa=new Uint8Array(ot.memory.buffer)),pa}function oa(e,t){try{return e.apply(this,t)}catch(n){const r=fa(n);ot.__wbindgen_exn_store(r)}}function ha(e){return e==null}function Qu(e,t,n){if(n===void 0){const c=Sa.encode(e),d=t(c.length,1)>>>0;return ba().subarray(d,d+c.length).set(c),Rs=c.length,d}let r=e.length,o=t(r,1)>>>0;const s=ba();let a=0;for(;a<r;a++){const c=e.charCodeAt(a);if(c>127)break;s[o+a]=c}if(a!==r){a!==0&&(e=e.slice(a)),o=n(o,r,r=a+e.length*3,1)>>>0;const c=ba().subarray(o+a,o+r),d=Sa.encodeInto(e,c);a+=d.written,o=n(o,r,a,1)>>>0}return Rs=a,o}function eo(e){const t=ot.__wbindgen_externrefs.get(e);return ot.__externref_table_dealloc(e),t}let Ju=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Ju.decode();const _W=2146435072;let am=0;function jW(e,t){return am+=t,am>=_W&&(Ju=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),Ju.decode(),am=t),Ju.decode(ba().subarray(e,e+t))}const Sa=new TextEncoder;"encodeInto"in Sa||(Sa.encodeInto=function(e,t){const n=Sa.encode(e);return t.set(n),{read:e.length,written:n.length}});let Rs=0,ot;function PW(e,t){return ot=e.exports,mi=null,pa=null,ot.__wbindgen_start(),ot}async function AW(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(o){if(e.ok&&n(e.type)&&e.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}else{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}function n(r){switch(r){case"basic":case"cors":case"default":return!0}return!1}}async function IW(e){if(ot!==void 0)return ot;e!==void 0&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),e===void 0&&(e=new URL("/ocpn-tools/assets/cpnsim_bg-PHPBndKi.wasm",import.meta.url));const t=EW();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await AW(await e,t);return PW(n)}function Ms(e){if(e==null)return null;if(e instanceof Map){const t={},n=Array.from(e.keys()).map(String).sort();for(const r of n)t[r]=Ms(e.get(r));return t}else{if(Array.isArray(e))return e.map(Ms);if(typeof e=="object"){const t={},n=Object.keys(e).sort();for(const r of n)t[r]=Ms(e[r]);return t}}return e}function Nb(e){const t=Ms(e);return JSON.stringify(t)}function TW(e,t){if(t||e.every(n=>n==null)){const n=e.length;return n<=3?"".repeat(n):`${n}`}return JSON.stringify(e)}function RW(){const e=b.useRef(null),t=b.useRef(null),[n,r]=b.useState(!1),[o,s]=b.useState(!1),a=b.useRef(!1),[c,d]=b.useState([]),[f,h]=b.useState(0),[m,g]=b.useState(0),[y,S]=b.useState(mB),v=ge(j=>j.updateNodeMarking),w=ge(j=>j.applyInitialMarkings),N=b.useCallback(j=>{const O=ge.getState().petriNetsById;for(const z in O){const H=O[z].nodes.find(L=>L.id===j);if(H)return H}},[]),_=b.useCallback(j=>{var q;j.consumed instanceof Map?j.consumed.forEach((R,J)=>{var te;const ne=N(J);if(ne&&ne.type==="place"){let B=[];try{const oe=N(J),ie=(te=oe==null?void 0:oe.data)==null?void 0:te.marking;if(Array.isArray(ie))B=ie;else if(typeof ie=="number")B=[ie];else if(typeof ie=="string"&&ie.trim()!==""){const ue=JSON.parse(ie);B=Array.isArray(ue)?ue:[ue]}}catch(oe){console.error(`Error reading/parsing marking for node ${J}:`,ne.data.marking,oe),B=[]}const Q=[...B];R.forEach(oe=>{const ie=Nb(oe),ue=Q.findIndex(de=>Nb(de)===ie);ue!==-1?Q.splice(ue,1):console.warn(`Token not found for removal in node ${J}:`,oe,Q)}),v(J,Q)}else console.warn(`Place node not found or invalid for consumed event: ${J}`)}):j.consumed&&console.warn("eventData.consumed is not a Map:",j.consumed),j.produced instanceof Map?j.produced.forEach((R,J)=>{var te;const ne=N(J);if(ne&&ne.type==="place"){let B=[];try{const ie=N(J),ue=(te=ie==null?void 0:ie.data)==null?void 0:te.marking;if(Array.isArray(ue))B=ue;else if(typeof ue=="number")B=[ue];else if(typeof ue=="string"&&ue.trim()!==""){const de=JSON.parse(ue);B=Array.isArray(de)?de:[de]}}catch(ie){console.error(`Error reading/parsing marking for node ${J}:`,ne.data.marking,ie),B=[]}const Q=R.map(ie=>Ms(ie)),oe=[...B,...Q];v(J,oe)}else console.warn(`Place node not found or invalid for produced event: ${J}`)}):j.produced&&console.warn("eventData.produced is not a Map:",j.produced);const O=N(j.transitionId),z=(q=O==null?void 0:O.data)!=null&&q.label&&typeof O.data.label=="string"?O.data.label:j.transitionId,H=ge.getState().colorSets,L=R=>{if(!R)return[];const J=[];return R.forEach((ne,te)=>{var de,be;const B=N(te),Q=(de=B==null?void 0:B.data)!=null&&de.label&&typeof B.data.label=="string"?B.data.label:te,oe=typeof((be=B==null?void 0:B.data)==null?void 0:be.colorSet)=="string"?B.data.colorSet:"",ie=oe.toUpperCase()==="UNIT"||H.some(Se=>Se.name===oe&&Se.name.toUpperCase()==="UNIT"),ue=ne.map(Se=>Ms(Se));J.push({placeId:te,placeName:Q,tokens:TW(ue,ie)})}),J};let W=0;h(R=>(W=R+1,W));const M=j.simulationTime!==void 0?Number(j.simulationTime):j.time??0,F={id:qe(),step:W,time:M,transitionId:j.transitionId,transitionName:z,tokens:{consumed:L(j.consumed),produced:L(j.produced)},timestamp:new Date};d(R=>[...R,F]),g(M)},[v,N,h,d,g]);async function k(){d([]),h(0),g(0),r(!1),e.current=null,t.current=null;try{e.current=await IW(),w();const j=ge.getState().petriNetsById,O=ge.getState().petriNetOrder,z=ge.getState().colorSets,H=ge.getState().variables,L=ge.getState().priorities,W=ge.getState().functions,M=ge.getState().uses,F={petriNetsById:structuredClone(j),petriNetOrder:O,colorSets:z,variables:H,priorities:L,functions:W,uses:M};Object.values(F.petriNetsById).forEach(R=>{R.nodes.forEach(J=>{if(J.type==="place"){let ne=[];if(Array.isArray(J.data.marking))ne=J.data.marking;else if(typeof J.data.marking=="string")try{const te=JSON.parse(J.data.marking);Array.isArray(te)&&(ne=te)}catch{console.warn(`Could not parse marking string for node ${J.id}: ${J.data.marking}`)}if(J.data.marking=JSON.stringify(ne),J.data.initialMarking){const te=J.data.initialMarking;typeof te=="string"?te.startsWith("[")&&te.endsWith("]")||te.endsWith(".all()")||te.trim()===""&&(J.data.initialMarking="[]"):Array.isArray(te)&&(J.data.initialMarking=JSON.stringify(te))}else J.data.initialMarking="[]"}}),R.edges.forEach(J=>{if(J.label&&typeof J.label=="string"){const ne=J.label.match(/(\d+)\`(\w+)/);if(ne){const te=parseInt(ne[1],10),B=ne[2];if(!isNaN(te)&&te>0){const Q=`[${Array(te).fill(B).join(",")}]`;console.log(`Converted arc inscription "${J.label}" to "${Q}"`),J.label=Q}}}})});const q=My(F);console.log("Creating WASM Simulator with JSON:",q),t.current=new og(q),console.log("WASM Simulator created successfully"),t.current.setEventListener(_),r(!0),console.log("WASM Simulator initialized successfully.")}catch(j){console.error("Error initializing WASM Simulator:",j),r(!1),e.current=null,t.current=null}}const P=async()=>{(!n||!e.current||!t.current)&&await k()},I=()=>{if(t.current)try{console.log("Requesting simulation step...");const j=t.current.run_step();console.log("Simulation step result:",j)}catch(j){console.error("Error running simulation step:",j)}else console.warn("WASM Simulator ref is null after initialization attempt, cannot run step.")};return{runStep:async()=>{await P(),I()},runMultipleStepsAnimated:async(j,O=50)=>{if(!o){s(!0),a.current=!1;try{await P();for(let z=0;z<j;z++){if(a.current){console.log("Simulation stopped by user");break}I(),await new Promise(H=>setTimeout(H,O))}}finally{s(!1)}}},runMultipleStepsFast:async j=>{if(!o){s(!0),a.current=!1;try{if(await P(),t.current){const O=t.current;if(typeof O.runMultipleSteps=="function"){const z=O.runMultipleSteps(j);if(Array.isArray(z))for(const H of z)H&&typeof H=="object"&&_(H)}else for(let z=0;z<j&&!a.current;z++)I()}}finally{s(!1)}}},stop:()=>{console.log("Stop requested"),a.current=!0},fireTransition:async j=>{if(await P(),t.current){const O=t.current;if(typeof O.fireTransition=="function")try{const z=O.fireTransition(j);console.log(`Fire transition ${j} result:`,z)}catch(z){console.error(`Error firing transition ${j}:`,z)}else console.warn("fireTransition method not available in WASM simulator")}},getEnabledTransitions:async()=>{if(await P(),t.current){const j=t.current;if(typeof j.getEnabledTransitions=="function")try{return j.getEnabledTransitions()}catch(O){console.error("Error getting enabled transitions:",O)}}return[]},reset:async()=>{a.current=!0,s(!1),h(0),g(0),d([]),await k()},events:c,clearEvents:()=>{d([])},isInitialized:n,isRunning:o,simulationTime:m,stepCounter:f,simulationConfig:y,setSimulationConfig:S,ensureInitialized:P,_executeWasmStep:I}}function MW({children:e}){const t=RW();return u.jsx(lf.Provider,{value:t,children:e})}function ig(e){const t=OW(e),n=b.forwardRef((r,o)=>{const{children:s,...a}=r,c=b.Children.toArray(s),d=c.find(LW);if(d){const f=d.props.children,h=c.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return u.jsx(t,{...a,ref:o,children:b.isValidElement(f)?b.cloneElement(f,void 0,h):null})}return u.jsx(t,{...a,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function OW(e){const t=b.forwardRef((n,r)=>{const{children:o,...s}=n;if(b.isValidElement(o)){const a=$W(o),c=zW(s,o.props);return o.type!==b.Fragment&&(c.ref=r?qs(r,a):a),b.cloneElement(o,c)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var DW=Symbol("radix.slottable");function LW(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===DW}function zW(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...c)=>{const d=s(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function $W(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function FW(e){const t=e+"CollectionProvider",[n,r]=Kt(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:w,children:N}=v,_=Ie.useRef(null),k=Ie.useRef(new Map).current;return u.jsx(o,{scope:w,itemMap:k,collectionRef:_,children:N})};a.displayName=t;const c=e+"CollectionSlot",d=ig(c),f=Ie.forwardRef((v,w)=>{const{scope:N,children:_}=v,k=s(c,N),P=Ue(w,k.collectionRef);return u.jsx(d,{ref:P,children:_})});f.displayName=c;const h=e+"CollectionItemSlot",m="data-radix-collection-item",g=ig(h),y=Ie.forwardRef((v,w)=>{const{scope:N,children:_,...k}=v,P=Ie.useRef(null),I=Ue(w,P),A=s(h,N);return Ie.useEffect(()=>(A.itemMap.set(P,{ref:P,...k}),()=>void A.itemMap.delete(P))),u.jsx(g,{[m]:"",ref:I,children:_})});y.displayName=h;function S(v){const w=s(e+"CollectionConsumer",v);return Ie.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const k=Array.from(_.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((A,T)=>k.indexOf(A.ref.current)-k.indexOf(T.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:f,ItemSlot:y},S,r]}function BW(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}var VW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dj=VW.reduce((e,t)=>{const n=ig(`Primitive.${t}`),r=b.forwardRef((o,s)=>{const{asChild:a,...c}=o,d=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Nr="Accordion",HW=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Oy,UW,WW]=FW(Nr),[xf,w7]=Kt(Nr,[WW,ME]),Dy=ME(),fj=Ie.forwardRef((e,t)=>{const{type:n,...r}=e,o=r,s=r;return u.jsx(Oy.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?u.jsx(qW,{...s,ref:t}):u.jsx(YW,{...o,ref:t})})});fj.displayName=Nr;var[pj,XW]=xf(Nr),[hj,GW]=xf(Nr,{collapsible:!1}),YW=Ie.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},collapsible:s=!1,...a}=e,[c,d]=mn({prop:n,defaultProp:r??"",onChange:o,caller:Nr});return u.jsx(pj,{scope:e.__scopeAccordion,value:Ie.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:Ie.useCallback(()=>s&&d(""),[s,d]),children:u.jsx(hj,{scope:e.__scopeAccordion,collapsible:s,children:u.jsx(mj,{...a,ref:t})})})}),qW=Ie.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[a,c]=mn({prop:n,defaultProp:r??[],onChange:o,caller:Nr}),d=Ie.useCallback(h=>c((m=[])=>[...m,h]),[c]),f=Ie.useCallback(h=>c((m=[])=>m.filter(g=>g!==h)),[c]);return u.jsx(pj,{scope:e.__scopeAccordion,value:a,onItemOpen:d,onItemClose:f,children:u.jsx(hj,{scope:e.__scopeAccordion,collapsible:!0,children:u.jsx(mj,{...s,ref:t})})})}),[KW,vf]=xf(Nr),mj=Ie.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:o,orientation:s="vertical",...a}=e,c=Ie.useRef(null),d=Ue(c,t),f=UW(n),m=Uo(o)==="ltr",g=BW(e.onKeyDown,y=>{var $;if(!HW.includes(y.key))return;const S=y.target,v=f().filter(G=>{var X;return!((X=G.ref.current)!=null&&X.disabled)}),w=v.findIndex(G=>G.ref.current===S),N=v.length;if(w===-1)return;y.preventDefault();let _=w;const k=0,P=N-1,I=()=>{_=w+1,_>P&&(_=k)},A=()=>{_=w-1,_<k&&(_=P)};switch(y.key){case"Home":_=k;break;case"End":_=P;break;case"ArrowRight":s==="horizontal"&&(m?I():A());break;case"ArrowDown":s==="vertical"&&I();break;case"ArrowLeft":s==="horizontal"&&(m?A():I());break;case"ArrowUp":s==="vertical"&&A();break}const T=_%N;($=v[T].ref.current)==null||$.focus()});return u.jsx(KW,{scope:n,disabled:r,direction:o,orientation:s,children:u.jsx(Oy.Slot,{scope:n,children:u.jsx(dj.div,{...a,"data-orientation":s,ref:d,onKeyDown:r?void 0:g})})})}),Cd="AccordionItem",[QW,Ly]=xf(Cd),gj=Ie.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...o}=e,s=vf(Cd,n),a=XW(Cd,n),c=Dy(n),d=or(),f=r&&a.value.includes(r)||!1,h=s.disabled||e.disabled;return u.jsx(QW,{scope:n,open:f,disabled:h,triggerId:d,children:u.jsx(LE,{"data-orientation":s.orientation,"data-state":Sj(f),...c,...o,ref:t,disabled:h,open:f,onOpenChange:m=>{m?a.onItemOpen(r):a.onItemClose(r)}})})});gj.displayName=Cd;var yj="AccordionHeader",xj=Ie.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=vf(Nr,n),s=Ly(yj,n);return u.jsx(dj.h3,{"data-orientation":o.orientation,"data-state":Sj(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:t})});xj.displayName=yj;var sg="AccordionTrigger",vj=Ie.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=vf(Nr,n),s=Ly(sg,n),a=GW(sg,n),c=Dy(n);return u.jsx(Oy.ItemSlot,{scope:n,children:u.jsx(h6,{"aria-disabled":s.open&&!a.collapsible||void 0,"data-orientation":o.orientation,id:s.triggerId,...c,...r,ref:t})})});vj.displayName=sg;var wj="AccordionContent",bj=Ie.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=vf(Nr,n),s=Ly(wj,n),a=Dy(n);return u.jsx(m6,{role:"region","aria-labelledby":s.triggerId,"data-orientation":o.orientation,...a,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});bj.displayName=wj;function Sj(e){return e?"open":"closed"}var JW=fj,ZW=gj,e7=xj,t7=vj,n7=bj;function r7({...e}){return u.jsx(JW,{"data-slot":"accordion",...e})}function Cb({className:e,...t}){return u.jsx(ZW,{"data-slot":"accordion-item",className:ze("border-b last:border-b-0",e),...t})}function kb({className:e,children:t,...n}){return u.jsx(e7,{className:"flex",children:u.jsxs(t7,{"data-slot":"accordion-trigger",className:ze("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,u.jsx(Oo,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function Eb({className:e,children:t,...n}){return u.jsx(n7,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:u.jsx("div",{className:ze("pt-0 pb-4",e),children:t})})}function _b({attribute:e,timeRange:t,valueChanges:n,onAddChange:r,onEditChange:o}){const s=b.useRef(null),[a,c]=b.useState(0);b.useEffect(()=>{const g=s.current;if(!g)return;const y=()=>{c(g.offsetWidth)};y();const S=new ResizeObserver(y);return S.observe(g),()=>{g&&S.unobserve(g)}},[]);const d=g=>{const[y,S]=t,v=S-y,w=(g-y)/v*a;return Math.max(0,Math.min(a,w))},f=g=>{const[y,S]=t,v=S-y,w=y+g/a*v;return Math.max(y,Math.min(S,w))},h=g=>{if(!s.current)return;const y=s.current.getBoundingClientRect(),S=g.clientX-y.left,v=f(S);r(Math.round(v))},m=(g,y)=>{switch(g){case"set":return`= ${y}`;case"add":return`+ ${y}`;case"subtract":return`- ${y}`;case"prefix":return`prefix "${y}"`;case"append":return`append "${y}"`;case"increasePercent":return`+${y}%`;case"decreasePercent":return`-${y}%`;case"reset":return"reset";default:return g}};return u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs(ke,{className:"text-sm font-medium",children:[e.name,u.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",e.type,", initial: ",e.initialValue.toString(),")"]})]})}),u.jsxs("div",{ref:s,className:"h-8 bg-muted rounded-md relative cursor-pointer",onClick:h,children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:[0,.25,.5,.75,1].map(g=>u.jsx("div",{className:"absolute h-2 border-l border-muted-foreground/30",style:{left:`${g*100}%`}},g))}),u.jsxs("div",{className:"absolute inset-x-0 -bottom-5 flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:t[0]}),u.jsx("span",{children:Math.round((t[0]+t[1])/2)}),u.jsx("span",{children:t[1]})]}),u.jsx(Un,{children:n.map(g=>u.jsxs(fn,{children:[u.jsx(pn,{asChild:!0,children:u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-primary rounded-full cursor-pointer z-10",style:{left:`${d(g.timestamp)}px`},onClick:y=>{y.stopPropagation(),o(g)}})}),u.jsxs(hn,{children:[u.jsxs("p",{children:["Time: ",g.timestamp]}),u.jsx("p",{children:m(g.operation,g.value)})]})]},g.id))})]})]})}function o7({open:e,onOpenChange:t,attribute:n,timestamp:r,existingChange:o,onSave:s,onDelete:a}){const[c,d]=b.useState("set"),[f,h]=b.useState(""),[m,g]=b.useState(r);b.useEffect(()=>{e&&(o?(d(o.operation),h(o.value.toString()),g(o.timestamp)):(d(n.type==="string"?"set":"add"),h(""),g(r)))},[e,n,r,o]);const y=()=>n.type==="string"?[{value:"set",label:"Set to"},{value:"prefix",label:"Prefix"},{value:"append",label:"Append"},{value:"reset",label:"Reset to initial value"}]:n.type==="int"||n.type==="real"?[{value:"set",label:"Set to"},{value:"add",label:"Add"},{value:"subtract",label:"Subtract"},{value:"increasePercent",label:"Increase by %"},{value:"decreasePercent",label:"Decrease by %"},{value:"reset",label:"Reset to initial value"}]:n.type==="boolean"?[{value:"set",label:"Set to"},{value:"toggle",label:"Toggle"},{value:"reset",label:"Reset to initial value"}]:[],S=()=>{const v=n.type==="int"?Number.parseInt(f,10):n.type==="real"?Number.parseFloat(f):n.type==="boolean"?f==="true":f,w={id:(o==null?void 0:o.id)||qe(),attributeId:n.id,timestamp:m,operation:c,value:v};s(w)};return u.jsx(an,{open:e,onOpenChange:t,children:u.jsxs(cn,{className:"sm:max-w-[425px]",children:[u.jsxs(un,{children:[u.jsx(dn,{children:o?"Edit Value Change":"Add Value Change"}),u.jsxs(Ri,{children:['Define how the attribute "',n.name,'" changes at a specific time.']})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ke,{htmlFor:"timestamp",className:"text-right",children:"Timestamp"}),u.jsx(Xe,{id:"timestamp",type:"number",value:m,onChange:v=>g(Number(v.target.value)),className:"col-span-3",min:0})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ke,{htmlFor:"operation",className:"text-right",children:"Operation"}),u.jsxs(rn,{value:c,onValueChange:d,children:[u.jsx(sn,{className:"col-span-3",children:u.jsx(on,{placeholder:"Select operation"})}),u.jsx(ln,{children:y().map(v=>u.jsx(nt,{value:v.value,children:v.label},v.value))})]})]}),c!=="reset"&&c!=="toggle"&&u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ke,{htmlFor:"value",className:"text-right",children:"Value"}),n.type==="boolean"?u.jsxs(rn,{value:f,onValueChange:h,children:[u.jsx(sn,{className:"col-span-3",children:u.jsx(on,{placeholder:"Select value"})}),u.jsxs(ln,{children:[u.jsx(nt,{value:"true",children:"True"}),u.jsx(nt,{value:"false",children:"False"})]})]}):u.jsx(Xe,{id:"value",type:n.type==="int"||n.type==="real"?"number":"text",value:f,onChange:v=>h(v.target.value),className:"col-span-3"})]})]}),u.jsxs(Br,{className:"flex justify-between",children:[u.jsx("div",{children:o&&a&&u.jsx(we,{variant:"destructive",onClick:a,children:"Delete"})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(we,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(we,{onClick:S,children:"Save"})]})]})]})})}function i7({open:e,onOpenChange:t,onAdd:n}){const[r,o]=b.useState(""),[s,a]=b.useState("string"),[c,d]=b.useState(""),f=()=>{let h;switch(s){case"int":h=Number.parseInt(c,10)||0;break;case"real":h=Number.parseFloat(c)||0;break;case"boolean":h=c==="true";break;default:h=c}const m={id:qe(),name:r,type:s,initialValue:h};n(m),o(""),a("string"),d("")};return u.jsx(an,{open:e,onOpenChange:t,children:u.jsxs(cn,{className:"sm:max-w-[425px]",children:[u.jsxs(un,{children:[u.jsx(dn,{children:"Add Global Attribute"}),u.jsx(Ri,{children:"Create a new attribute for the global context."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ke,{htmlFor:"name",className:"text-right",children:"Name"}),u.jsx(Xe,{id:"name",value:r,onChange:h=>o(h.target.value),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ke,{htmlFor:"type",className:"text-right",children:"Type"}),u.jsxs(rn,{value:s,onValueChange:h=>a(h),children:[u.jsx(sn,{className:"col-span-3",children:u.jsx(on,{placeholder:"Select type"})}),u.jsxs(ln,{children:[u.jsx(nt,{value:"string",children:"String"}),u.jsx(nt,{value:"int",children:"Integer"}),u.jsx(nt,{value:"real",children:"Real"}),u.jsx(nt,{value:"boolean",children:"Boolean"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ke,{htmlFor:"initialValue",className:"text-right",children:"Initial Value"}),s==="boolean"?u.jsxs(rn,{value:c,onValueChange:d,children:[u.jsx(sn,{className:"col-span-3",children:u.jsx(on,{placeholder:"Select value"})}),u.jsxs(ln,{children:[u.jsx(nt,{value:"true",children:"True"}),u.jsx(nt,{value:"false",children:"False"})]})]}):u.jsx(Xe,{id:"initialValue",type:s==="int"||s==="real"?"number":"text",value:c,onChange:h=>d(h.target.value),className:"col-span-3"})]})]}),u.jsxs(Br,{children:[u.jsx(we,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(we,{onClick:f,disabled:!r,children:"Add Attribute"})]})]})})}function s7({simulationTimeRange:e}){const[t,n]=b.useState([{id:"global-tax",name:"Sales Tax",type:"real",initialValue:19.5}]),[r,o]=b.useState([]),s=ge(A=>A.colorSets),[a,c]=b.useState([{id:"change-1",attributeId:"global-1",timestamp:10,operation:"set",value:"PROC-002"},{id:"change-2",attributeId:"global-2",timestamp:25,operation:"add",value:50}]),[d,f]=b.useState(!1),[h,m]=b.useState(!1),[g,y]=b.useState(null),[S,v]=b.useState(null),[w,N]=b.useState(null);b.useEffect(()=>{const T=s.filter($=>$.type==="record"||$.type==="complex").filter($=>typeof $.id=="string"&&typeof $.definition=="string"&&$.definition.includes("record")).map($=>{const G=[],X=$.definition,Y=X.match(/record\s+(.*);/);return Y&&Y[1]?Y[1].trim().split("*").forEach((j,O)=>{const z=j.split(":");if(z.length===2){const H=z[0].trim(),L=z[1].trim();let W="string";switch(L.toUpperCase()){case"INT":W="int";break;case"STRING":W="string";break;case"BOOL":W="boolean";break;case"REAL":W="real";break;default:console.warn(`Unknown attribute type "${L}" in definition: ${X}. Defaulting to string.`)}G.push({id:`${$.id}-attr-${O}`,name:H,type:W,initialValue:""})}else console.warn(`Could not parse attribute pair: "${j}" in definition: ${X}`)}):console.warn(`Could not parse record attributes from definition: ${X}`),{id:$.id,name:$.name,attributes:G}});o(T)},[s]);const _=(A,T,$)=>{y(A),N(T),v($||null),f(!0)},k=A=>{c(S?T=>T.map($=>$.id===S.id?A:$):T=>[...T,A]),f(!1)},P=A=>{c(T=>T.filter($=>$.id!==A)),f(!1)},I=A=>{n(T=>[...T,A]),m(!1)};return u.jsxs(of,{className:"h-full",children:[u.jsxs(Pg,{className:"w-full border-none shadow-none gap-0",children:[u.jsx(Ag,{children:u.jsx(lC,{children:"Object Evolution Layer"})}),u.jsx(Ig,{children:u.jsxs(r7,{type:"multiple",defaultValue:["global-context"],children:[u.jsxs(Cb,{value:"global-context",children:[u.jsx(kb,{className:"flex items-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(WP,{className:"h-4 w-4"}),u.jsx("span",{children:"Global Context"})]})}),u.jsx(Eb,{children:u.jsxs("div",{className:"space-y-4",children:[t.map(A=>u.jsx(_b,{attribute:A,timeRange:e,valueChanges:a.filter(T=>T.attributeId===A.id),onAddChange:T=>_(A,T),onEditChange:T=>_(A,T.timestamp,T)},A.id)),u.jsxs(we,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>m(!0),children:[u.jsx(Rb,{className:"h-4 w-4 mr-2"}),"Add Attribute"]})]})})]}),r.map(A=>u.jsxs(Cb,{value:A.id,children:[u.jsx(kb,{className:"flex items-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(vP,{className:"h-4 w-4"}),u.jsx("span",{children:A.name})]})}),u.jsx(Eb,{children:u.jsx("div",{className:"space-y-4",children:A.attributes.map(T=>u.jsx(_b,{attribute:T,timeRange:e,valueChanges:a.filter($=>$.attributeId===T.id),onAddChange:$=>_(T,$),onEditChange:$=>_(T,$.timestamp,$)},T.id))})})]},A.id))]})})]}),g&&u.jsx(o7,{open:d,onOpenChange:f,attribute:g,timestamp:w||0,existingChange:S,onSave:k,onDelete:S?()=>P(S.id):void 0}),u.jsx(i7,{open:h,onOpenChange:m,onAdd:I})]})}function l7(){const[e,t]=b.useState(!1),n=[0,100],r=()=>{t(o=>!o)};return u.jsx(MW,{children:u.jsx("div",{className:"h-screen",children:u.jsxs(A0,{direction:"horizontal",children:[u.jsx(y6,{}),u.jsx(I0,{}),u.jsx(ma,{children:u.jsxs(A0,{direction:"vertical",children:[u.jsx(ma,{className:"flex flex-col",children:u.jsx(ZN,{children:u.jsx($V,{children:u.jsx(NW,{onToggleAIAssistant:r})})})}),u.jsx(I0,{}),u.jsx(ma,{defaultSize:0,collapsedSize:0,collapsible:!0,minSize:10,children:u.jsx(s7,{simulationTimeRange:n})})]})}),e&&u.jsx(u.Fragment,{children:u.jsx(kW,{})})]})})})}uP.createRoot(document.getElementById("root")).render(u.jsx(Ie.StrictMode,{children:u.jsx(l7,{})}));export{a7 as c,Va as g};
