function qA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var ZG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wh={exports:{}},da={},qh={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew;function YA(){if(ew)return mt;ew=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function g(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function w(H,Y,I){this.props=H,this.context=Y,this.refs=v,this.updater=I||x}w.prototype.isReactComponent={},w.prototype.setState=function(H,Y){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Y,"setState")},w.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=w.prototype;function E(H,Y,I){this.props=H,this.context=Y,this.refs=v,this.updater=I||x}var C=E.prototype=new k;C.constructor=E,b(C,w.prototype),C.isPureReactComponent=!0;var _=Array.isArray,R=Object.prototype.hasOwnProperty,P={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function L(H,Y,I){var V,Z={},J=null,K=null;if(Y!=null)for(V in Y.ref!==void 0&&(K=Y.ref),Y.key!==void 0&&(J=""+Y.key),Y)R.call(Y,V)&&!T.hasOwnProperty(V)&&(Z[V]=Y[V]);var te=arguments.length-2;if(te===1)Z.children=I;else if(1<te){for(var Q=Array(te),ie=0;ie<te;ie++)Q[ie]=arguments[ie+2];Z.children=Q}if(H&&H.defaultProps)for(V in te=H.defaultProps,te)Z[V]===void 0&&(Z[V]=te[V]);return{$$typeof:e,type:H,key:J,ref:K,props:Z,_owner:P.current}}function U(H,Y){return{$$typeof:e,type:H.type,key:Y,ref:H.ref,props:H.props,_owner:H._owner}}function z(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function B(H){var Y={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(I){return Y[I]})}var q=/\/+/g;function G(H,Y){return typeof H=="object"&&H!==null&&H.key!=null?B(""+H.key):Y.toString(36)}function A(H,Y,I,V,Z){var J=typeof H;(J==="undefined"||J==="boolean")&&(H=null);var K=!1;if(H===null)K=!0;else switch(J){case"string":case"number":K=!0;break;case"object":switch(H.$$typeof){case e:case t:K=!0}}if(K)return K=H,Z=Z(K),H=V===""?"."+G(K,0):V,_(Z)?(I="",H!=null&&(I=H.replace(q,"$&/")+"/"),A(Z,Y,I,"",function(ie){return ie})):Z!=null&&(z(Z)&&(Z=U(Z,I+(!Z.key||K&&K.key===Z.key?"":(""+Z.key).replace(q,"$&/")+"/")+H)),Y.push(Z)),1;if(K=0,V=V===""?".":V+":",_(H))for(var te=0;te<H.length;te++){J=H[te];var Q=V+G(J,te);K+=A(J,Y,I,Q,Z)}else if(Q=g(H),typeof Q=="function")for(H=Q.call(H),te=0;!(J=H.next()).done;)J=J.value,Q=V+G(J,te++),K+=A(J,Y,I,Q,Z);else if(J==="object")throw Y=String(H),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return K}function O(H,Y,I){if(H==null)return H;var V=[],Z=0;return A(H,V,"","",function(J){return Y.call(I,J,Z++)}),V}function F(H){if(H._status===-1){var Y=H._result;Y=Y(),Y.then(function(I){(H._status===0||H._status===-1)&&(H._status=1,H._result=I)},function(I){(H._status===0||H._status===-1)&&(H._status=2,H._result=I)}),H._status===-1&&(H._status=0,H._result=Y)}if(H._status===1)return H._result.default;throw H._result}var X={current:null},D={transition:null},W={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:D,ReactCurrentOwner:P};function M(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:O,forEach:function(H,Y,I){O(H,function(){Y.apply(this,arguments)},I)},count:function(H){var Y=0;return O(H,function(){Y++}),Y},toArray:function(H){return O(H,function(Y){return Y})||[]},only:function(H){if(!z(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},mt.Component=w,mt.Fragment=n,mt.Profiler=o,mt.PureComponent=E,mt.StrictMode=r,mt.Suspense=d,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,mt.act=M,mt.cloneElement=function(H,Y,I){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var V=b({},H.props),Z=H.key,J=H.ref,K=H._owner;if(Y!=null){if(Y.ref!==void 0&&(J=Y.ref,K=P.current),Y.key!==void 0&&(Z=""+Y.key),H.type&&H.type.defaultProps)var te=H.type.defaultProps;for(Q in Y)R.call(Y,Q)&&!T.hasOwnProperty(Q)&&(V[Q]=Y[Q]===void 0&&te!==void 0?te[Q]:Y[Q])}var Q=arguments.length-2;if(Q===1)V.children=I;else if(1<Q){te=Array(Q);for(var ie=0;ie<Q;ie++)te[ie]=arguments[ie+2];V.children=te}return{$$typeof:e,type:H.type,key:Z,ref:J,props:V,_owner:K}},mt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:i,_context:H},H.Consumer=H},mt.createElement=L,mt.createFactory=function(H){var Y=L.bind(null,H);return Y.type=H,Y},mt.createRef=function(){return{current:null}},mt.forwardRef=function(H){return{$$typeof:c,render:H}},mt.isValidElement=z,mt.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:F}},mt.memo=function(H,Y){return{$$typeof:f,type:H,compare:Y===void 0?null:Y}},mt.startTransition=function(H){var Y=D.transition;D.transition={};try{H()}finally{D.transition=Y}},mt.unstable_act=M,mt.useCallback=function(H,Y){return X.current.useCallback(H,Y)},mt.useContext=function(H){return X.current.useContext(H)},mt.useDebugValue=function(){},mt.useDeferredValue=function(H){return X.current.useDeferredValue(H)},mt.useEffect=function(H,Y){return X.current.useEffect(H,Y)},mt.useId=function(){return X.current.useId()},mt.useImperativeHandle=function(H,Y,I){return X.current.useImperativeHandle(H,Y,I)},mt.useInsertionEffect=function(H,Y){return X.current.useInsertionEffect(H,Y)},mt.useLayoutEffect=function(H,Y){return X.current.useLayoutEffect(H,Y)},mt.useMemo=function(H,Y){return X.current.useMemo(H,Y)},mt.useReducer=function(H,Y,I){return X.current.useReducer(H,Y,I)},mt.useRef=function(H){return X.current.useRef(H)},mt.useState=function(H){return X.current.useState(H)},mt.useSyncExternalStore=function(H,Y,I){return X.current.useSyncExternalStore(H,Y,I)},mt.useTransition=function(){return X.current.useTransition()},mt.version="18.3.1",mt}var tw;function hc(){return tw||(tw=1,qh.exports=YA()),qh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw;function XA(){if(nw)return da;nw=1;var e=hc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var m,p={},g=null,x=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(x=d.ref);for(m in d)r.call(d,m)&&!i.hasOwnProperty(m)&&(p[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)p[m]===void 0&&(p[m]=d[m]);return{$$typeof:t,type:c,key:g,ref:x,props:p,_owner:o.current}}return da.Fragment=n,da.jsx=l,da.jsxs=l,da}var rw;function GA(){return rw||(rw=1,Wh.exports=XA()),Wh.exports}var u=GA(),S=hc();const qe=pc(S),lf=qA({__proto__:null,default:qe},[S]);var Vu={},Yh={exports:{}},qn={},Xh={exports:{}},Gh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function KA(){return ow||(ow=1,(function(e){function t(D,W){var M=D.length;D.push(W);e:for(;0<M;){var H=M-1>>>1,Y=D[H];if(0<o(Y,W))D[H]=W,D[M]=Y,M=H;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var W=D[0],M=D.pop();if(M!==W){D[0]=M;e:for(var H=0,Y=D.length,I=Y>>>1;H<I;){var V=2*(H+1)-1,Z=D[V],J=V+1,K=D[J];if(0>o(Z,M))J<Y&&0>o(K,Z)?(D[H]=K,D[J]=M,H=J):(D[H]=Z,D[V]=M,H=V);else if(J<Y&&0>o(K,M))D[H]=K,D[J]=M,H=J;else break e}}return W}function o(D,W){var M=D.sortIndex-W.sortIndex;return M!==0?M:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,p=null,g=3,x=!1,b=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(D){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=D)r(f),W.sortIndex=W.expirationTime,t(d,W);else break;W=n(f)}}function _(D){if(v=!1,C(D),!b)if(n(d)!==null)b=!0,F(R);else{var W=n(f);W!==null&&X(_,W.startTime-D)}}function R(D,W){b=!1,v&&(v=!1,k(L),L=-1),x=!0;var M=g;try{for(C(W),p=n(d);p!==null&&(!(p.expirationTime>W)||D&&!B());){var H=p.callback;if(typeof H=="function"){p.callback=null,g=p.priorityLevel;var Y=H(p.expirationTime<=W);W=e.unstable_now(),typeof Y=="function"?p.callback=Y:p===n(d)&&r(d),C(W)}else r(d);p=n(d)}if(p!==null)var I=!0;else{var V=n(f);V!==null&&X(_,V.startTime-W),I=!1}return I}finally{p=null,g=M,x=!1}}var P=!1,T=null,L=-1,U=5,z=-1;function B(){return!(e.unstable_now()-z<U)}function q(){if(T!==null){var D=e.unstable_now();z=D;var W=!0;try{W=T(!0,D)}finally{W?G():(P=!1,T=null)}}else P=!1}var G;if(typeof E=="function")G=function(){E(q)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,O=A.port2;A.port1.onmessage=q,G=function(){O.postMessage(null)}}else G=function(){w(q,0)};function F(D){T=D,P||(P=!0,G())}function X(D,W){L=w(function(){D(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,F(R))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var M=g;g=W;try{return D()}finally{g=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var M=g;g=D;try{return W()}finally{g=M}},e.unstable_scheduleCallback=function(D,W,M){var H=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?H+M:H):M=H,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=M+Y,D={id:m++,callback:W,priorityLevel:D,startTime:M,expirationTime:Y,sortIndex:-1},M>H?(D.sortIndex=M,t(f,D),n(d)===null&&D===n(f)&&(v?(k(L),L=-1):v=!0,X(_,M-H))):(D.sortIndex=Y,t(d,D),b||x||(b=!0,F(R))),D},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(D){var W=g;return function(){var M=g;g=W;try{return D.apply(this,arguments)}finally{g=M}}}})(Gh)),Gh}var iw;function QA(){return iw||(iw=1,Xh.exports=KA()),Xh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function JA(){if(sw)return qn;sw=1;var e=hc(),t=QA();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function i(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(o[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function g(s){return d.call(p,s)?!0:d.call(m,s)?!1:f.test(s)?p[s]=!0:(m[s]=!0,!1)}function x(s,a,h,y){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return y?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,a,h,y){if(a===null||typeof a>"u"||x(s,a,h,y))return!0;if(y)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function v(s,a,h,y,N,j,$){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=y,this.attributeNamespace=N,this.mustUseProperty=h,this.propertyName=s,this.type=a,this.sanitizeURL=j,this.removeEmptyString=$}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new v(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];w[a]=new v(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new v(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new v(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new v(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new v(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new v(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new v(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new v(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(k,E);w[a]=new v(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(k,E);w[a]=new v(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(k,E);w[a]=new v(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new v(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new v(s,1,!1,s.toLowerCase(),null,!0,!0)});function C(s,a,h,y){var N=w.hasOwnProperty(a)?w[a]:null;(N!==null?N.type!==0:y||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,h,N,y)&&(h=null),y||N===null?g(a)&&(h===null?s.removeAttribute(a):s.setAttribute(a,""+h)):N.mustUseProperty?s[N.propertyName]=h===null?N.type===3?!1:"":h:(a=N.attributeName,y=N.attributeNamespace,h===null?s.removeAttribute(a):(N=N.type,h=N===3||N===4&&h===!0?"":""+h,y?s.setAttributeNS(y,a,h):s.setAttribute(a,h))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),P=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),D=Symbol.iterator;function W(s){return s===null||typeof s!="object"?null:(s=D&&s[D]||s["@@iterator"],typeof s=="function"?s:null)}var M=Object.assign,H;function Y(s){if(H===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+s}var I=!1;function V(s,a){if(!s||I)return"";I=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ce){var y=ce}Reflect.construct(s,[],a)}else{try{a.call()}catch(ce){y=ce}s.call(a.prototype)}else{try{throw Error()}catch(ce){y=ce}s()}}catch(ce){if(ce&&y&&typeof ce.stack=="string"){for(var N=ce.stack.split(`
`),j=y.stack.split(`
`),$=N.length-1,ee=j.length-1;1<=$&&0<=ee&&N[$]!==j[ee];)ee--;for(;1<=$&&0<=ee;$--,ee--)if(N[$]!==j[ee]){if($!==1||ee!==1)do if($--,ee--,0>ee||N[$]!==j[ee]){var ne=`
`+N[$].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=$&&0<=ee);break}}}finally{I=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?Y(s):""}function Z(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=V(s.type,!1),s;case 11:return s=V(s.type.render,!1),s;case 1:return s=V(s.type,!0),s;default:return""}}function J(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case P:return"Portal";case U:return"Profiler";case L:return"StrictMode";case G:return"Suspense";case A:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case B:return(s.displayName||"Context")+".Consumer";case z:return(s._context.displayName||"Context")+".Provider";case q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return a=s.displayName||null,a!==null?a:J(s.type)||"Memo";case F:a=s._payload,s=s._init;try{return J(s(a))}catch{}}return null}function K(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(a);case 8:return a===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function te(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Q(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ie(s){var a=Q(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),y=""+s[a];if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var N=h.get,j=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return N.call(this)},set:function($){y=""+$,j.call(this,$)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function($){y=""+$},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function le(s){s._valueTracker||(s._valueTracker=ie(s))}function de(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var h=a.getValue(),y="";return s&&(y=Q(s)?s.checked?"true":"false":s.value),s=y,s!==h?(a.setValue(s),!0):!1}function fe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function xe(s,a){var h=a.checked;return M({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function De(s,a){var h=a.defaultValue==null?"":a.defaultValue,y=a.checked!=null?a.checked:a.defaultChecked;h=te(a.value!=null?a.value:h),s._wrapperState={initialChecked:y,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Me(s,a){a=a.checked,a!=null&&C(s,"checked",a,!1)}function it(s,a){Me(s,a);var h=te(a.value),y=a.type;if(h!=null)y==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(y==="submit"||y==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?et(s,a.type,h):a.hasOwnProperty("defaultValue")&&et(s,a.type,te(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function nt(s,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var y=a.type;if(!(y!=="submit"&&y!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,h||a===s.value||(s.value=a),s.defaultValue=a}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function et(s,a,h){(a!=="number"||fe(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var ke=Array.isArray;function We(s,a,h,y){if(s=s.options,a){a={};for(var N=0;N<h.length;N++)a["$"+h[N]]=!0;for(h=0;h<s.length;h++)N=a.hasOwnProperty("$"+s[h].value),s[h].selected!==N&&(s[h].selected=N),N&&y&&(s[h].defaultSelected=!0)}else{for(h=""+te(h),a=null,N=0;N<s.length;N++){if(s[N].value===h){s[N].selected=!0,y&&(s[N].defaultSelected=!0);return}a!==null||s[N].disabled||(a=s[N])}a!==null&&(a.selected=!0)}}function lt(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function vt(s,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(n(92));if(ke(h)){if(1<h.length)throw Error(n(93));h=h[0]}a=h}a==null&&(a=""),h=a}s._wrapperState={initialValue:te(h)}}function Et(s,a){var h=te(a.value),y=te(a.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),a.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),y!=null&&(s.defaultValue=""+y)}function It(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ue(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ue(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ae,_e=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,y,N){MSApp.execUnsafeLocalFunction(function(){return s(a,h,y,N)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Ae=Ae||document.createElement("div"),Ae.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ae.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Ye(s,a){if(a){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=a;return}}s.textContent=a}var ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];Object.keys(ut).forEach(function(s){bt.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),ut[a]=ut[s]})});function Ct(s,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||ut.hasOwnProperty(s)&&ut[s]?(""+a).trim():a+"px"}function Tt(s,a){s=s.style;for(var h in a)if(a.hasOwnProperty(h)){var y=h.indexOf("--")===0,N=Ct(h,a[h],y);h==="float"&&(h="cssFloat"),y?s.setProperty(h,N):s[h]=N}}var _t=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pt(s,a){if(a){if(_t[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Pt(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var he=null;function Ne(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var re=null,Ce=null,Be=null;function Ee(s){if(s=Kl(s)){if(typeof re!="function")throw Error(n(280));var a=s.stateNode;a&&(a=ru(a),re(s.stateNode,s.type,a))}}function Ze(s){Ce?Be?Be.push(s):Be=[s]:Ce=s}function Fe(){if(Ce){var s=Ce,a=Be;if(Be=Ce=null,Ee(s),a)for(s=0;s<a.length;s++)Ee(a[s])}}function Oe(s,a){return s(a)}function Ge(){}var dt=!1;function Rt(s,a,h){if(dt)return s(a,h);dt=!0;try{return Oe(s,a,h)}finally{dt=!1,(Ce!==null||Be!==null)&&(Ge(),Fe())}}function jt(s,a){var h=s.stateNode;if(h===null)return null;var y=ru(h);if(y===null)return null;h=y[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(n(231,a,typeof h));return h}var zt=!1;if(c)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch{zt=!1}function dr(s,a,h,y,N,j,$,ee,ne){var ce=Array.prototype.slice.call(arguments,3);try{a.apply(h,ce)}catch(ve){this.onError(ve)}}var Zt=!1,lo=null,Fn=!1,wi=null,ao={onError:function(s){Zt=!0,lo=s}};function Vr(s,a,h,y,N,j,$,ee,ne){Zt=!1,lo=null,dr.apply(ao,arguments)}function _l(s,a,h,y,N,j,$,ee,ne){if(Vr.apply(this,arguments),Zt){if(Zt){var ce=lo;Zt=!1,lo=null}else throw Error(n(198));Fn||(Fn=!0,wi=ce)}}function Hr(s){var a=s,h=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(h=a.return),s=a.return;while(s)}return a.tag===3?h:null}function Pl(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Al(s){if(Hr(s)!==s)throw Error(n(188))}function ip(s){var a=s.alternate;if(!a){if(a=Hr(s),a===null)throw Error(n(188));return a!==s?null:s}for(var h=s,y=a;;){var N=h.return;if(N===null)break;var j=N.alternate;if(j===null){if(y=N.return,y!==null){h=y;continue}break}if(N.child===j.child){for(j=N.child;j;){if(j===h)return Al(N),s;if(j===y)return Al(N),a;j=j.sibling}throw Error(n(188))}if(h.return!==y.return)h=N,y=j;else{for(var $=!1,ee=N.child;ee;){if(ee===h){$=!0,h=N,y=j;break}if(ee===y){$=!0,y=N,h=j;break}ee=ee.sibling}if(!$){for(ee=j.child;ee;){if(ee===h){$=!0,h=j,y=N;break}if(ee===y){$=!0,y=j,h=N;break}ee=ee.sibling}if(!$)throw Error(n(189))}}if(h.alternate!==y)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?s:a}function Rc(s){return s=ip(s),s!==null?Mc(s):null}function Mc(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Mc(s);if(a!==null)return a;s=s.sibling}return null}var Dc=t.unstable_scheduleCallback,Oc=t.unstable_cancelCallback,sp=t.unstable_shouldYield,Lc=t.unstable_requestPaint,Ut=t.unstable_now,lp=t.unstable_getCurrentPriorityLevel,Il=t.unstable_ImmediatePriority,zc=t.unstable_UserBlockingPriority,is=t.unstable_NormalPriority,ap=t.unstable_LowPriority,$c=t.unstable_IdlePriority,bi=null,fr=null;function cp(s){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(bi,s,void 0,(s.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:fp,up=Math.log,dp=Math.LN2;function fp(s){return s>>>=0,s===0?32:31-(up(s)/dp|0)|0}var ss=64,ls=4194304;function Ur(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function as(s,a){var h=s.pendingLanes;if(h===0)return 0;var y=0,N=s.suspendedLanes,j=s.pingedLanes,$=h&268435455;if($!==0){var ee=$&~N;ee!==0?y=Ur(ee):(j&=$,j!==0&&(y=Ur(j)))}else $=h&~N,$!==0?y=Ur($):j!==0&&(y=Ur(j));if(y===0)return 0;if(a!==0&&a!==y&&(a&N)===0&&(N=y&-y,j=a&-a,N>=j||N===16&&(j&4194240)!==0))return a;if((y&4)!==0&&(y|=h&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=y;0<a;)h=31-Qn(a),N=1<<h,y|=s[h],a&=~N;return y}function Fc(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pp(s,a){for(var h=s.suspendedLanes,y=s.pingedLanes,N=s.expirationTimes,j=s.pendingLanes;0<j;){var $=31-Qn(j),ee=1<<$,ne=N[$];ne===-1?((ee&h)===0||(ee&y)!==0)&&(N[$]=Fc(ee,a)):ne<=a&&(s.expiredLanes|=ee),j&=~ee}}function Tl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function cs(){var s=ss;return ss<<=1,(ss&4194240)===0&&(ss=64),s}function Rl(s){for(var a=[],h=0;31>h;h++)a.push(s);return a}function Si(s,a,h){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Qn(a),s[a]=h}function Bc(s,a){var h=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var y=s.eventTimes;for(s=s.expirationTimes;0<h;){var N=31-Qn(h),j=1<<N;a[N]=0,y[N]=-1,s[N]=-1,h&=~j}}function hp(s,a){var h=s.entangledLanes|=a;for(s=s.entanglements;h;){var y=31-Qn(h),N=1<<y;N&a|s[y]&a&&(s[y]|=a),h&=~N}}var At=0;function Ty(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ry,mp,My,Dy,Oy,gp=!1,Vc=[],Io=null,To=null,Ro=null,Ml=new Map,Dl=new Map,Mo=[],hP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ly(s,a){switch(s){case"focusin":case"focusout":Io=null;break;case"dragenter":case"dragleave":To=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":Ml.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(a.pointerId)}}function Ol(s,a,h,y,N,j){return s===null||s.nativeEvent!==j?(s={blockedOn:a,domEventName:h,eventSystemFlags:y,nativeEvent:j,targetContainers:[N]},a!==null&&(a=Kl(a),a!==null&&mp(a)),s):(s.eventSystemFlags|=y,a=s.targetContainers,N!==null&&a.indexOf(N)===-1&&a.push(N),s)}function mP(s,a,h,y,N){switch(a){case"focusin":return Io=Ol(Io,s,a,h,y,N),!0;case"dragenter":return To=Ol(To,s,a,h,y,N),!0;case"mouseover":return Ro=Ol(Ro,s,a,h,y,N),!0;case"pointerover":var j=N.pointerId;return Ml.set(j,Ol(Ml.get(j)||null,s,a,h,y,N)),!0;case"gotpointercapture":return j=N.pointerId,Dl.set(j,Ol(Dl.get(j)||null,s,a,h,y,N)),!0}return!1}function zy(s){var a=ki(s.target);if(a!==null){var h=Hr(a);if(h!==null){if(a=h.tag,a===13){if(a=Pl(h),a!==null){s.blockedOn=a,Oy(s.priority,function(){My(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Hc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var h=yp(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var y=new h.constructor(h.type,h);he=y,h.target.dispatchEvent(y),he=null}else return a=Kl(h),a!==null&&mp(a),s.blockedOn=h,!1;a.shift()}return!0}function $y(s,a,h){Hc(s)&&h.delete(a)}function gP(){gp=!1,Io!==null&&Hc(Io)&&(Io=null),To!==null&&Hc(To)&&(To=null),Ro!==null&&Hc(Ro)&&(Ro=null),Ml.forEach($y),Dl.forEach($y)}function Ll(s,a){s.blockedOn===a&&(s.blockedOn=null,gp||(gp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gP)))}function zl(s){function a(N){return Ll(N,s)}if(0<Vc.length){Ll(Vc[0],s);for(var h=1;h<Vc.length;h++){var y=Vc[h];y.blockedOn===s&&(y.blockedOn=null)}}for(Io!==null&&Ll(Io,s),To!==null&&Ll(To,s),Ro!==null&&Ll(Ro,s),Ml.forEach(a),Dl.forEach(a),h=0;h<Mo.length;h++)y=Mo[h],y.blockedOn===s&&(y.blockedOn=null);for(;0<Mo.length&&(h=Mo[0],h.blockedOn===null);)zy(h),h.blockedOn===null&&Mo.shift()}var us=_.ReactCurrentBatchConfig,Uc=!0;function xP(s,a,h,y){var N=At,j=us.transition;us.transition=null;try{At=1,xp(s,a,h,y)}finally{At=N,us.transition=j}}function yP(s,a,h,y){var N=At,j=us.transition;us.transition=null;try{At=4,xp(s,a,h,y)}finally{At=N,us.transition=j}}function xp(s,a,h,y){if(Uc){var N=yp(s,a,h,y);if(N===null)Dp(s,a,y,Wc,h),Ly(s,y);else if(mP(N,s,a,h,y))y.stopPropagation();else if(Ly(s,y),a&4&&-1<hP.indexOf(s)){for(;N!==null;){var j=Kl(N);if(j!==null&&Ry(j),j=yp(s,a,h,y),j===null&&Dp(s,a,y,Wc,h),j===N)break;N=j}N!==null&&y.stopPropagation()}else Dp(s,a,y,null,h)}}var Wc=null;function yp(s,a,h,y){if(Wc=null,s=Ne(y),s=ki(s),s!==null)if(a=Hr(s),a===null)s=null;else if(h=a.tag,h===13){if(s=Pl(a),s!==null)return s;s=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Wc=s,null}function Fy(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lp()){case Il:return 1;case zc:return 4;case is:case ap:return 16;case $c:return 536870912;default:return 16}default:return 16}}var Do=null,vp=null,qc=null;function By(){if(qc)return qc;var s,a=vp,h=a.length,y,N="value"in Do?Do.value:Do.textContent,j=N.length;for(s=0;s<h&&a[s]===N[s];s++);var $=h-s;for(y=1;y<=$&&a[h-y]===N[j-y];y++);return qc=N.slice(s,1<y?1-y:void 0)}function Yc(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Xc(){return!0}function Vy(){return!1}function Jn(s){function a(h,y,N,j,$){this._reactName=h,this._targetInst=N,this.type=y,this.nativeEvent=j,this.target=$,this.currentTarget=null;for(var ee in s)s.hasOwnProperty(ee)&&(h=s[ee],this[ee]=h?h(j):j[ee]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Xc:Vy,this.isPropagationStopped=Vy,this}return M(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),a}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wp=Jn(ds),$l=M({},ds,{view:0,detail:0}),vP=Jn($l),bp,Sp,Fl,Gc=M({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fl&&(Fl&&s.type==="mousemove"?(bp=s.screenX-Fl.screenX,Sp=s.screenY-Fl.screenY):Sp=bp=0,Fl=s),bp)},movementY:function(s){return"movementY"in s?s.movementY:Sp}}),Hy=Jn(Gc),wP=M({},Gc,{dataTransfer:0}),bP=Jn(wP),SP=M({},$l,{relatedTarget:0}),kp=Jn(SP),kP=M({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),CP=Jn(kP),NP=M({},ds,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),EP=Jn(NP),jP=M({},ds,{data:0}),Uy=Jn(jP),_P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IP(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=AP[s])?!!a[s]:!1}function Cp(){return IP}var TP=M({},$l,{key:function(s){if(s.key){var a=_P[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Yc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?PP[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cp,charCode:function(s){return s.type==="keypress"?Yc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Yc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),RP=Jn(TP),MP=M({},Gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wy=Jn(MP),DP=M({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cp}),OP=Jn(DP),LP=M({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),zP=Jn(LP),$P=M({},Gc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),FP=Jn($P),BP=[9,13,27,32],Np=c&&"CompositionEvent"in window,Bl=null;c&&"documentMode"in document&&(Bl=document.documentMode);var VP=c&&"TextEvent"in window&&!Bl,qy=c&&(!Np||Bl&&8<Bl&&11>=Bl),Yy=" ",Xy=!1;function Gy(s,a){switch(s){case"keyup":return BP.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ky(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var fs=!1;function HP(s,a){switch(s){case"compositionend":return Ky(a);case"keypress":return a.which!==32?null:(Xy=!0,Yy);case"textInput":return s=a.data,s===Yy&&Xy?null:s;default:return null}}function UP(s,a){if(fs)return s==="compositionend"||!Np&&Gy(s,a)?(s=By(),qc=vp=Do=null,fs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return qy&&a.locale!=="ko"?null:a.data;default:return null}}var WP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qy(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!WP[s.type]:a==="textarea"}function Jy(s,a,h,y){Ze(y),a=eu(a,"onChange"),0<a.length&&(h=new wp("onChange","change",null,h,y),s.push({event:h,listeners:a}))}var Vl=null,Hl=null;function qP(s){gv(s,0)}function Kc(s){var a=xs(s);if(de(a))return s}function YP(s,a){if(s==="change")return a}var Zy=!1;if(c){var Ep;if(c){var jp="oninput"in document;if(!jp){var ev=document.createElement("div");ev.setAttribute("oninput","return;"),jp=typeof ev.oninput=="function"}Ep=jp}else Ep=!1;Zy=Ep&&(!document.documentMode||9<document.documentMode)}function tv(){Vl&&(Vl.detachEvent("onpropertychange",nv),Hl=Vl=null)}function nv(s){if(s.propertyName==="value"&&Kc(Hl)){var a=[];Jy(a,Hl,s,Ne(s)),Rt(qP,a)}}function XP(s,a,h){s==="focusin"?(tv(),Vl=a,Hl=h,Vl.attachEvent("onpropertychange",nv)):s==="focusout"&&tv()}function GP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Kc(Hl)}function KP(s,a){if(s==="click")return Kc(a)}function QP(s,a){if(s==="input"||s==="change")return Kc(a)}function JP(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Cr=typeof Object.is=="function"?Object.is:JP;function Ul(s,a){if(Cr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var h=Object.keys(s),y=Object.keys(a);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var N=h[y];if(!d.call(a,N)||!Cr(s[N],a[N]))return!1}return!0}function rv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ov(s,a){var h=rv(s);s=0;for(var y;h;){if(h.nodeType===3){if(y=s+h.textContent.length,s<=a&&y>=a)return{node:h,offset:a-s};s=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=rv(h)}}function iv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?iv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function sv(){for(var s=window,a=fe();a instanceof s.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)s=a.contentWindow;else break;a=fe(s.document)}return a}function _p(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function ZP(s){var a=sv(),h=s.focusedElem,y=s.selectionRange;if(a!==h&&h&&h.ownerDocument&&iv(h.ownerDocument.documentElement,h)){if(y!==null&&_p(h)){if(a=y.start,s=y.end,s===void 0&&(s=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(s,h.value.length);else if(s=(a=h.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var N=h.textContent.length,j=Math.min(y.start,N);y=y.end===void 0?j:Math.min(y.end,N),!s.extend&&j>y&&(N=y,y=j,j=N),N=ov(h,j);var $=ov(h,y);N&&$&&(s.rangeCount!==1||s.anchorNode!==N.node||s.anchorOffset!==N.offset||s.focusNode!==$.node||s.focusOffset!==$.offset)&&(a=a.createRange(),a.setStart(N.node,N.offset),s.removeAllRanges(),j>y?(s.addRange(a),s.extend($.node,$.offset)):(a.setEnd($.node,$.offset),s.addRange(a)))}}for(a=[],s=h;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)s=a[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var eA=c&&"documentMode"in document&&11>=document.documentMode,ps=null,Pp=null,Wl=null,Ap=!1;function lv(s,a,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ap||ps==null||ps!==fe(y)||(y=ps,"selectionStart"in y&&_p(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Wl&&Ul(Wl,y)||(Wl=y,y=eu(Pp,"onSelect"),0<y.length&&(a=new wp("onSelect","select",null,a,h),s.push({event:a,listeners:y}),a.target=ps)))}function Qc(s,a){var h={};return h[s.toLowerCase()]=a.toLowerCase(),h["Webkit"+s]="webkit"+a,h["Moz"+s]="moz"+a,h}var hs={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionend:Qc("Transition","TransitionEnd")},Ip={},av={};c&&(av=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Jc(s){if(Ip[s])return Ip[s];if(!hs[s])return s;var a=hs[s],h;for(h in a)if(a.hasOwnProperty(h)&&h in av)return Ip[s]=a[h];return s}var cv=Jc("animationend"),uv=Jc("animationiteration"),dv=Jc("animationstart"),fv=Jc("transitionend"),pv=new Map,hv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oo(s,a){pv.set(s,a),i(a,[s])}for(var Tp=0;Tp<hv.length;Tp++){var Rp=hv[Tp],tA=Rp.toLowerCase(),nA=Rp[0].toUpperCase()+Rp.slice(1);Oo(tA,"on"+nA)}Oo(cv,"onAnimationEnd"),Oo(uv,"onAnimationIteration"),Oo(dv,"onAnimationStart"),Oo("dblclick","onDoubleClick"),Oo("focusin","onFocus"),Oo("focusout","onBlur"),Oo(fv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ql));function mv(s,a,h){var y=s.type||"unknown-event";s.currentTarget=h,_l(y,a,void 0,s),s.currentTarget=null}function gv(s,a){a=(a&4)!==0;for(var h=0;h<s.length;h++){var y=s[h],N=y.event;y=y.listeners;e:{var j=void 0;if(a)for(var $=y.length-1;0<=$;$--){var ee=y[$],ne=ee.instance,ce=ee.currentTarget;if(ee=ee.listener,ne!==j&&N.isPropagationStopped())break e;mv(N,ee,ce),j=ne}else for($=0;$<y.length;$++){if(ee=y[$],ne=ee.instance,ce=ee.currentTarget,ee=ee.listener,ne!==j&&N.isPropagationStopped())break e;mv(N,ee,ce),j=ne}}}if(Fn)throw s=wi,Fn=!1,wi=null,s}function $t(s,a){var h=a[Bp];h===void 0&&(h=a[Bp]=new Set);var y=s+"__bubble";h.has(y)||(xv(a,s,2,!1),h.add(y))}function Mp(s,a,h){var y=0;a&&(y|=4),xv(h,s,y,a)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Yl(s){if(!s[Zc]){s[Zc]=!0,r.forEach(function(h){h!=="selectionchange"&&(rA.has(h)||Mp(h,!1,s),Mp(h,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Zc]||(a[Zc]=!0,Mp("selectionchange",!1,a))}}function xv(s,a,h,y){switch(Fy(a)){case 1:var N=xP;break;case 4:N=yP;break;default:N=xp}h=N.bind(null,a,h,s),N=void 0,!zt||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(N=!0),y?N!==void 0?s.addEventListener(a,h,{capture:!0,passive:N}):s.addEventListener(a,h,!0):N!==void 0?s.addEventListener(a,h,{passive:N}):s.addEventListener(a,h,!1)}function Dp(s,a,h,y,N){var j=y;if((a&1)===0&&(a&2)===0&&y!==null)e:for(;;){if(y===null)return;var $=y.tag;if($===3||$===4){var ee=y.stateNode.containerInfo;if(ee===N||ee.nodeType===8&&ee.parentNode===N)break;if($===4)for($=y.return;$!==null;){var ne=$.tag;if((ne===3||ne===4)&&(ne=$.stateNode.containerInfo,ne===N||ne.nodeType===8&&ne.parentNode===N))return;$=$.return}for(;ee!==null;){if($=ki(ee),$===null)return;if(ne=$.tag,ne===5||ne===6){y=j=$;continue e}ee=ee.parentNode}}y=y.return}Rt(function(){var ce=j,ve=Ne(h),we=[];e:{var ye=pv.get(s);if(ye!==void 0){var Pe=wp,Le=s;switch(s){case"keypress":if(Yc(h)===0)break e;case"keydown":case"keyup":Pe=RP;break;case"focusin":Le="focus",Pe=kp;break;case"focusout":Le="blur",Pe=kp;break;case"beforeblur":case"afterblur":Pe=kp;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Hy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=bP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=OP;break;case cv:case uv:case dv:Pe=CP;break;case fv:Pe=zP;break;case"scroll":Pe=vP;break;case"wheel":Pe=FP;break;case"copy":case"cut":case"paste":Pe=EP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Wy}var Ve=(a&4)!==0,Gt=!Ve&&s==="scroll",se=Ve?ye!==null?ye+"Capture":null:ye;Ve=[];for(var oe=ce,ae;oe!==null;){ae=oe;var Se=ae.stateNode;if(ae.tag===5&&Se!==null&&(ae=Se,se!==null&&(Se=jt(oe,se),Se!=null&&Ve.push(Xl(oe,Se,ae)))),Gt)break;oe=oe.return}0<Ve.length&&(ye=new Pe(ye,Le,null,h,ve),we.push({event:ye,listeners:Ve}))}}if((a&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",Pe=s==="mouseout"||s==="pointerout",ye&&h!==he&&(Le=h.relatedTarget||h.fromElement)&&(ki(Le)||Le[co]))break e;if((Pe||ye)&&(ye=ve.window===ve?ve:(ye=ve.ownerDocument)?ye.defaultView||ye.parentWindow:window,Pe?(Le=h.relatedTarget||h.toElement,Pe=ce,Le=Le?ki(Le):null,Le!==null&&(Gt=Hr(Le),Le!==Gt||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Pe=null,Le=ce),Pe!==Le)){if(Ve=Hy,Se="onMouseLeave",se="onMouseEnter",oe="mouse",(s==="pointerout"||s==="pointerover")&&(Ve=Wy,Se="onPointerLeave",se="onPointerEnter",oe="pointer"),Gt=Pe==null?ye:xs(Pe),ae=Le==null?ye:xs(Le),ye=new Ve(Se,oe+"leave",Pe,h,ve),ye.target=Gt,ye.relatedTarget=ae,Se=null,ki(ve)===ce&&(Ve=new Ve(se,oe+"enter",Le,h,ve),Ve.target=ae,Ve.relatedTarget=Gt,Se=Ve),Gt=Se,Pe&&Le)t:{for(Ve=Pe,se=Le,oe=0,ae=Ve;ae;ae=ms(ae))oe++;for(ae=0,Se=se;Se;Se=ms(Se))ae++;for(;0<oe-ae;)Ve=ms(Ve),oe--;for(;0<ae-oe;)se=ms(se),ae--;for(;oe--;){if(Ve===se||se!==null&&Ve===se.alternate)break t;Ve=ms(Ve),se=ms(se)}Ve=null}else Ve=null;Pe!==null&&yv(we,ye,Pe,Ve,!1),Le!==null&&Gt!==null&&yv(we,Gt,Le,Ve,!0)}}e:{if(ye=ce?xs(ce):window,Pe=ye.nodeName&&ye.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ye.type==="file")var He=YP;else if(Qy(ye))if(Zy)He=QP;else{He=GP;var Ke=XP}else(Pe=ye.nodeName)&&Pe.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(He=KP);if(He&&(He=He(s,ce))){Jy(we,He,h,ve);break e}Ke&&Ke(s,ye,ce),s==="focusout"&&(Ke=ye._wrapperState)&&Ke.controlled&&ye.type==="number"&&et(ye,"number",ye.value)}switch(Ke=ce?xs(ce):window,s){case"focusin":(Qy(Ke)||Ke.contentEditable==="true")&&(ps=Ke,Pp=ce,Wl=null);break;case"focusout":Wl=Pp=ps=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,lv(we,h,ve);break;case"selectionchange":if(eA)break;case"keydown":case"keyup":lv(we,h,ve)}var Qe;if(Np)e:{switch(s){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else fs?Gy(s,h)&&(rt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(rt="onCompositionStart");rt&&(qy&&h.locale!=="ko"&&(fs||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&fs&&(Qe=By()):(Do=ve,vp="value"in Do?Do.value:Do.textContent,fs=!0)),Ke=eu(ce,rt),0<Ke.length&&(rt=new Uy(rt,s,null,h,ve),we.push({event:rt,listeners:Ke}),Qe?rt.data=Qe:(Qe=Ky(h),Qe!==null&&(rt.data=Qe)))),(Qe=VP?HP(s,h):UP(s,h))&&(ce=eu(ce,"onBeforeInput"),0<ce.length&&(ve=new Uy("onBeforeInput","beforeinput",null,h,ve),we.push({event:ve,listeners:ce}),ve.data=Qe))}gv(we,a)})}function Xl(s,a,h){return{instance:s,listener:a,currentTarget:h}}function eu(s,a){for(var h=a+"Capture",y=[];s!==null;){var N=s,j=N.stateNode;N.tag===5&&j!==null&&(N=j,j=jt(s,h),j!=null&&y.unshift(Xl(s,j,N)),j=jt(s,a),j!=null&&y.push(Xl(s,j,N))),s=s.return}return y}function ms(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function yv(s,a,h,y,N){for(var j=a._reactName,$=[];h!==null&&h!==y;){var ee=h,ne=ee.alternate,ce=ee.stateNode;if(ne!==null&&ne===y)break;ee.tag===5&&ce!==null&&(ee=ce,N?(ne=jt(h,j),ne!=null&&$.unshift(Xl(h,ne,ee))):N||(ne=jt(h,j),ne!=null&&$.push(Xl(h,ne,ee)))),h=h.return}$.length!==0&&s.push({event:a,listeners:$})}var oA=/\r\n?/g,iA=/\u0000|\uFFFD/g;function vv(s){return(typeof s=="string"?s:""+s).replace(oA,`
`).replace(iA,"")}function tu(s,a,h){if(a=vv(a),vv(s)!==a&&h)throw Error(n(425))}function nu(){}var Op=null,Lp=null;function zp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var $p=typeof setTimeout=="function"?setTimeout:void 0,sA=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,lA=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(s){return wv.resolve(null).then(s).catch(aA)}:$p;function aA(s){setTimeout(function(){throw s})}function Fp(s,a){var h=a,y=0;do{var N=h.nextSibling;if(s.removeChild(h),N&&N.nodeType===8)if(h=N.data,h==="/$"){if(y===0){s.removeChild(N),zl(a);return}y--}else h!=="$"&&h!=="$?"&&h!=="$!"||y++;h=N}while(h);zl(a)}function Lo(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function bv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return s;a--}else h==="/$"&&a++}s=s.previousSibling}return null}var gs=Math.random().toString(36).slice(2),Wr="__reactFiber$"+gs,Gl="__reactProps$"+gs,co="__reactContainer$"+gs,Bp="__reactEvents$"+gs,cA="__reactListeners$"+gs,uA="__reactHandles$"+gs;function ki(s){var a=s[Wr];if(a)return a;for(var h=s.parentNode;h;){if(a=h[co]||h[Wr]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(s=bv(s);s!==null;){if(h=s[Wr])return h;s=bv(s)}return a}s=h,h=s.parentNode}return null}function Kl(s){return s=s[Wr]||s[co],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function xs(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function ru(s){return s[Gl]||null}var Vp=[],ys=-1;function zo(s){return{current:s}}function Ft(s){0>ys||(s.current=Vp[ys],Vp[ys]=null,ys--)}function Ot(s,a){ys++,Vp[ys]=s.current,s.current=a}var $o={},Cn=zo($o),Bn=zo(!1),Ci=$o;function vs(s,a){var h=s.type.contextTypes;if(!h)return $o;var y=s.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===a)return y.__reactInternalMemoizedMaskedChildContext;var N={},j;for(j in h)N[j]=a[j];return y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=N),N}function Vn(s){return s=s.childContextTypes,s!=null}function ou(){Ft(Bn),Ft(Cn)}function Sv(s,a,h){if(Cn.current!==$o)throw Error(n(168));Ot(Cn,a),Ot(Bn,h)}function kv(s,a,h){var y=s.stateNode;if(a=a.childContextTypes,typeof y.getChildContext!="function")return h;y=y.getChildContext();for(var N in y)if(!(N in a))throw Error(n(108,K(s)||"Unknown",N));return M({},h,y)}function iu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||$o,Ci=Cn.current,Ot(Cn,s),Ot(Bn,Bn.current),!0}function Cv(s,a,h){var y=s.stateNode;if(!y)throw Error(n(169));h?(s=kv(s,a,Ci),y.__reactInternalMemoizedMergedChildContext=s,Ft(Bn),Ft(Cn),Ot(Cn,s)):Ft(Bn),Ot(Bn,h)}var uo=null,su=!1,Hp=!1;function Nv(s){uo===null?uo=[s]:uo.push(s)}function dA(s){su=!0,Nv(s)}function Fo(){if(!Hp&&uo!==null){Hp=!0;var s=0,a=At;try{var h=uo;for(At=1;s<h.length;s++){var y=h[s];do y=y(!0);while(y!==null)}uo=null,su=!1}catch(N){throw uo!==null&&(uo=uo.slice(s+1)),Dc(Il,Fo),N}finally{At=a,Hp=!1}}return null}var ws=[],bs=0,lu=null,au=0,pr=[],hr=0,Ni=null,fo=1,po="";function Ei(s,a){ws[bs++]=au,ws[bs++]=lu,lu=s,au=a}function Ev(s,a,h){pr[hr++]=fo,pr[hr++]=po,pr[hr++]=Ni,Ni=s;var y=fo;s=po;var N=32-Qn(y)-1;y&=~(1<<N),h+=1;var j=32-Qn(a)+N;if(30<j){var $=N-N%5;j=(y&(1<<$)-1).toString(32),y>>=$,N-=$,fo=1<<32-Qn(a)+N|h<<N|y,po=j+s}else fo=1<<j|h<<N|y,po=s}function Up(s){s.return!==null&&(Ei(s,1),Ev(s,1,0))}function Wp(s){for(;s===lu;)lu=ws[--bs],ws[bs]=null,au=ws[--bs],ws[bs]=null;for(;s===Ni;)Ni=pr[--hr],pr[hr]=null,po=pr[--hr],pr[hr]=null,fo=pr[--hr],pr[hr]=null}var Zn=null,er=null,Vt=!1,Nr=null;function jv(s,a){var h=yr(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=s,a=s.deletions,a===null?(s.deletions=[h],s.flags|=16):a.push(h)}function _v(s,a){switch(s.tag){case 5:var h=s.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Zn=s,er=Lo(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Zn=s,er=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=Ni!==null?{id:fo,overflow:po}:null,s.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=yr(18,null,null,0),h.stateNode=a,h.return=s,s.child=h,Zn=s,er=null,!0):!1;default:return!1}}function qp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Yp(s){if(Vt){var a=er;if(a){var h=a;if(!_v(s,a)){if(qp(s))throw Error(n(418));a=Lo(h.nextSibling);var y=Zn;a&&_v(s,a)?jv(y,h):(s.flags=s.flags&-4097|2,Vt=!1,Zn=s)}}else{if(qp(s))throw Error(n(418));s.flags=s.flags&-4097|2,Vt=!1,Zn=s}}}function Pv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Zn=s}function cu(s){if(s!==Zn)return!1;if(!Vt)return Pv(s),Vt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!zp(s.type,s.memoizedProps)),a&&(a=er)){if(qp(s))throw Av(),Error(n(418));for(;a;)jv(s,a),a=Lo(a.nextSibling)}if(Pv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(a===0){er=Lo(s.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}s=s.nextSibling}er=null}}else er=Zn?Lo(s.stateNode.nextSibling):null;return!0}function Av(){for(var s=er;s;)s=Lo(s.nextSibling)}function Ss(){er=Zn=null,Vt=!1}function Xp(s){Nr===null?Nr=[s]:Nr.push(s)}var fA=_.ReactCurrentBatchConfig;function Ql(s,a,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var y=h.stateNode}if(!y)throw Error(n(147,s));var N=y,j=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===j?a.ref:(a=function($){var ee=N.refs;$===null?delete ee[j]:ee[j]=$},a._stringRef=j,a)}if(typeof s!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,s))}return s}function uu(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Iv(s){var a=s._init;return a(s._payload)}function Tv(s){function a(se,oe){if(s){var ae=se.deletions;ae===null?(se.deletions=[oe],se.flags|=16):ae.push(oe)}}function h(se,oe){if(!s)return null;for(;oe!==null;)a(se,oe),oe=oe.sibling;return null}function y(se,oe){for(se=new Map;oe!==null;)oe.key!==null?se.set(oe.key,oe):se.set(oe.index,oe),oe=oe.sibling;return se}function N(se,oe){return se=Xo(se,oe),se.index=0,se.sibling=null,se}function j(se,oe,ae){return se.index=ae,s?(ae=se.alternate,ae!==null?(ae=ae.index,ae<oe?(se.flags|=2,oe):ae):(se.flags|=2,oe)):(se.flags|=1048576,oe)}function $(se){return s&&se.alternate===null&&(se.flags|=2),se}function ee(se,oe,ae,Se){return oe===null||oe.tag!==6?(oe=$h(ae,se.mode,Se),oe.return=se,oe):(oe=N(oe,ae),oe.return=se,oe)}function ne(se,oe,ae,Se){var He=ae.type;return He===T?ve(se,oe,ae.props.children,Se,ae.key):oe!==null&&(oe.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===F&&Iv(He)===oe.type)?(Se=N(oe,ae.props),Se.ref=Ql(se,oe,ae),Se.return=se,Se):(Se=Mu(ae.type,ae.key,ae.props,null,se.mode,Se),Se.ref=Ql(se,oe,ae),Se.return=se,Se)}function ce(se,oe,ae,Se){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ae.containerInfo||oe.stateNode.implementation!==ae.implementation?(oe=Fh(ae,se.mode,Se),oe.return=se,oe):(oe=N(oe,ae.children||[]),oe.return=se,oe)}function ve(se,oe,ae,Se,He){return oe===null||oe.tag!==7?(oe=Mi(ae,se.mode,Se,He),oe.return=se,oe):(oe=N(oe,ae),oe.return=se,oe)}function we(se,oe,ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=$h(""+oe,se.mode,ae),oe.return=se,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:return ae=Mu(oe.type,oe.key,oe.props,null,se.mode,ae),ae.ref=Ql(se,null,oe),ae.return=se,ae;case P:return oe=Fh(oe,se.mode,ae),oe.return=se,oe;case F:var Se=oe._init;return we(se,Se(oe._payload),ae)}if(ke(oe)||W(oe))return oe=Mi(oe,se.mode,ae,null),oe.return=se,oe;uu(se,oe)}return null}function ye(se,oe,ae,Se){var He=oe!==null?oe.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return He!==null?null:ee(se,oe,""+ae,Se);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case R:return ae.key===He?ne(se,oe,ae,Se):null;case P:return ae.key===He?ce(se,oe,ae,Se):null;case F:return He=ae._init,ye(se,oe,He(ae._payload),Se)}if(ke(ae)||W(ae))return He!==null?null:ve(se,oe,ae,Se,null);uu(se,ae)}return null}function Pe(se,oe,ae,Se,He){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return se=se.get(ae)||null,ee(oe,se,""+Se,He);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case R:return se=se.get(Se.key===null?ae:Se.key)||null,ne(oe,se,Se,He);case P:return se=se.get(Se.key===null?ae:Se.key)||null,ce(oe,se,Se,He);case F:var Ke=Se._init;return Pe(se,oe,ae,Ke(Se._payload),He)}if(ke(Se)||W(Se))return se=se.get(ae)||null,ve(oe,se,Se,He,null);uu(oe,Se)}return null}function Le(se,oe,ae,Se){for(var He=null,Ke=null,Qe=oe,rt=oe=0,pn=null;Qe!==null&&rt<ae.length;rt++){Qe.index>rt?(pn=Qe,Qe=null):pn=Qe.sibling;var Nt=ye(se,Qe,ae[rt],Se);if(Nt===null){Qe===null&&(Qe=pn);break}s&&Qe&&Nt.alternate===null&&a(se,Qe),oe=j(Nt,oe,rt),Ke===null?He=Nt:Ke.sibling=Nt,Ke=Nt,Qe=pn}if(rt===ae.length)return h(se,Qe),Vt&&Ei(se,rt),He;if(Qe===null){for(;rt<ae.length;rt++)Qe=we(se,ae[rt],Se),Qe!==null&&(oe=j(Qe,oe,rt),Ke===null?He=Qe:Ke.sibling=Qe,Ke=Qe);return Vt&&Ei(se,rt),He}for(Qe=y(se,Qe);rt<ae.length;rt++)pn=Pe(Qe,se,rt,ae[rt],Se),pn!==null&&(s&&pn.alternate!==null&&Qe.delete(pn.key===null?rt:pn.key),oe=j(pn,oe,rt),Ke===null?He=pn:Ke.sibling=pn,Ke=pn);return s&&Qe.forEach(function(Go){return a(se,Go)}),Vt&&Ei(se,rt),He}function Ve(se,oe,ae,Se){var He=W(ae);if(typeof He!="function")throw Error(n(150));if(ae=He.call(ae),ae==null)throw Error(n(151));for(var Ke=He=null,Qe=oe,rt=oe=0,pn=null,Nt=ae.next();Qe!==null&&!Nt.done;rt++,Nt=ae.next()){Qe.index>rt?(pn=Qe,Qe=null):pn=Qe.sibling;var Go=ye(se,Qe,Nt.value,Se);if(Go===null){Qe===null&&(Qe=pn);break}s&&Qe&&Go.alternate===null&&a(se,Qe),oe=j(Go,oe,rt),Ke===null?He=Go:Ke.sibling=Go,Ke=Go,Qe=pn}if(Nt.done)return h(se,Qe),Vt&&Ei(se,rt),He;if(Qe===null){for(;!Nt.done;rt++,Nt=ae.next())Nt=we(se,Nt.value,Se),Nt!==null&&(oe=j(Nt,oe,rt),Ke===null?He=Nt:Ke.sibling=Nt,Ke=Nt);return Vt&&Ei(se,rt),He}for(Qe=y(se,Qe);!Nt.done;rt++,Nt=ae.next())Nt=Pe(Qe,se,rt,Nt.value,Se),Nt!==null&&(s&&Nt.alternate!==null&&Qe.delete(Nt.key===null?rt:Nt.key),oe=j(Nt,oe,rt),Ke===null?He=Nt:Ke.sibling=Nt,Ke=Nt);return s&&Qe.forEach(function(WA){return a(se,WA)}),Vt&&Ei(se,rt),He}function Gt(se,oe,ae,Se){if(typeof ae=="object"&&ae!==null&&ae.type===T&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case R:e:{for(var He=ae.key,Ke=oe;Ke!==null;){if(Ke.key===He){if(He=ae.type,He===T){if(Ke.tag===7){h(se,Ke.sibling),oe=N(Ke,ae.props.children),oe.return=se,se=oe;break e}}else if(Ke.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===F&&Iv(He)===Ke.type){h(se,Ke.sibling),oe=N(Ke,ae.props),oe.ref=Ql(se,Ke,ae),oe.return=se,se=oe;break e}h(se,Ke);break}else a(se,Ke);Ke=Ke.sibling}ae.type===T?(oe=Mi(ae.props.children,se.mode,Se,ae.key),oe.return=se,se=oe):(Se=Mu(ae.type,ae.key,ae.props,null,se.mode,Se),Se.ref=Ql(se,oe,ae),Se.return=se,se=Se)}return $(se);case P:e:{for(Ke=ae.key;oe!==null;){if(oe.key===Ke)if(oe.tag===4&&oe.stateNode.containerInfo===ae.containerInfo&&oe.stateNode.implementation===ae.implementation){h(se,oe.sibling),oe=N(oe,ae.children||[]),oe.return=se,se=oe;break e}else{h(se,oe);break}else a(se,oe);oe=oe.sibling}oe=Fh(ae,se.mode,Se),oe.return=se,se=oe}return $(se);case F:return Ke=ae._init,Gt(se,oe,Ke(ae._payload),Se)}if(ke(ae))return Le(se,oe,ae,Se);if(W(ae))return Ve(se,oe,ae,Se);uu(se,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,oe!==null&&oe.tag===6?(h(se,oe.sibling),oe=N(oe,ae),oe.return=se,se=oe):(h(se,oe),oe=$h(ae,se.mode,Se),oe.return=se,se=oe),$(se)):h(se,oe)}return Gt}var ks=Tv(!0),Rv=Tv(!1),du=zo(null),fu=null,Cs=null,Gp=null;function Kp(){Gp=Cs=fu=null}function Qp(s){var a=du.current;Ft(du),s._currentValue=a}function Jp(s,a,h){for(;s!==null;){var y=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,y!==null&&(y.childLanes|=a)):y!==null&&(y.childLanes&a)!==a&&(y.childLanes|=a),s===h)break;s=s.return}}function Ns(s,a){fu=s,Gp=Cs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Hn=!0),s.firstContext=null)}function mr(s){var a=s._currentValue;if(Gp!==s)if(s={context:s,memoizedValue:a,next:null},Cs===null){if(fu===null)throw Error(n(308));Cs=s,fu.dependencies={lanes:0,firstContext:s}}else Cs=Cs.next=s;return a}var ji=null;function Zp(s){ji===null?ji=[s]:ji.push(s)}function Mv(s,a,h,y){var N=a.interleaved;return N===null?(h.next=h,Zp(a)):(h.next=N.next,N.next=h),a.interleaved=h,ho(s,y)}function ho(s,a){s.lanes|=a;var h=s.alternate;for(h!==null&&(h.lanes|=a),h=s,s=s.return;s!==null;)s.childLanes|=a,h=s.alternate,h!==null&&(h.childLanes|=a),h=s,s=s.return;return h.tag===3?h.stateNode:null}var Bo=!1;function eh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function mo(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Vo(s,a,h){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(kt&2)!==0){var N=y.pending;return N===null?a.next=a:(a.next=N.next,N.next=a),y.pending=a,ho(s,h)}return N=y.interleaved,N===null?(a.next=a,Zp(y)):(a.next=N.next,N.next=a),y.interleaved=a,ho(s,h)}function pu(s,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var y=a.lanes;y&=s.pendingLanes,h|=y,a.lanes=h,hp(s,h)}}function Ov(s,a){var h=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var N=null,j=null;if(h=h.firstBaseUpdate,h!==null){do{var $={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};j===null?N=j=$:j=j.next=$,h=h.next}while(h!==null);j===null?N=j=a:j=j.next=a}else N=j=a;h={baseState:y.baseState,firstBaseUpdate:N,lastBaseUpdate:j,shared:y.shared,effects:y.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=a:s.next=a,h.lastBaseUpdate=a}function hu(s,a,h,y){var N=s.updateQueue;Bo=!1;var j=N.firstBaseUpdate,$=N.lastBaseUpdate,ee=N.shared.pending;if(ee!==null){N.shared.pending=null;var ne=ee,ce=ne.next;ne.next=null,$===null?j=ce:$.next=ce,$=ne;var ve=s.alternate;ve!==null&&(ve=ve.updateQueue,ee=ve.lastBaseUpdate,ee!==$&&(ee===null?ve.firstBaseUpdate=ce:ee.next=ce,ve.lastBaseUpdate=ne))}if(j!==null){var we=N.baseState;$=0,ve=ce=ne=null,ee=j;do{var ye=ee.lane,Pe=ee.eventTime;if((y&ye)===ye){ve!==null&&(ve=ve.next={eventTime:Pe,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var Le=s,Ve=ee;switch(ye=a,Pe=h,Ve.tag){case 1:if(Le=Ve.payload,typeof Le=="function"){we=Le.call(Pe,we,ye);break e}we=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ve.payload,ye=typeof Le=="function"?Le.call(Pe,we,ye):Le,ye==null)break e;we=M({},we,ye);break e;case 2:Bo=!0}}ee.callback!==null&&ee.lane!==0&&(s.flags|=64,ye=N.effects,ye===null?N.effects=[ee]:ye.push(ee))}else Pe={eventTime:Pe,lane:ye,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},ve===null?(ce=ve=Pe,ne=we):ve=ve.next=Pe,$|=ye;if(ee=ee.next,ee===null){if(ee=N.shared.pending,ee===null)break;ye=ee,ee=ye.next,ye.next=null,N.lastBaseUpdate=ye,N.shared.pending=null}}while(!0);if(ve===null&&(ne=we),N.baseState=ne,N.firstBaseUpdate=ce,N.lastBaseUpdate=ve,a=N.shared.interleaved,a!==null){N=a;do $|=N.lane,N=N.next;while(N!==a)}else j===null&&(N.shared.lanes=0);Ai|=$,s.lanes=$,s.memoizedState=we}}function Lv(s,a,h){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var y=s[a],N=y.callback;if(N!==null){if(y.callback=null,y=h,typeof N!="function")throw Error(n(191,N));N.call(y)}}}var Jl={},qr=zo(Jl),Zl=zo(Jl),ea=zo(Jl);function _i(s){if(s===Jl)throw Error(n(174));return s}function th(s,a){switch(Ot(ea,a),Ot(Zl,s),Ot(qr,Jl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:pe(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=pe(a,s)}Ft(qr),Ot(qr,a)}function Es(){Ft(qr),Ft(Zl),Ft(ea)}function zv(s){_i(ea.current);var a=_i(qr.current),h=pe(a,s.type);a!==h&&(Ot(Zl,s),Ot(qr,h))}function nh(s){Zl.current===s&&(Ft(qr),Ft(Zl))}var Wt=zo(0);function mu(s){for(var a=s;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var rh=[];function oh(){for(var s=0;s<rh.length;s++)rh[s]._workInProgressVersionPrimary=null;rh.length=0}var gu=_.ReactCurrentDispatcher,ih=_.ReactCurrentBatchConfig,Pi=0,qt=null,en=null,dn=null,xu=!1,ta=!1,na=0,pA=0;function Nn(){throw Error(n(321))}function sh(s,a){if(a===null)return!1;for(var h=0;h<a.length&&h<s.length;h++)if(!Cr(s[h],a[h]))return!1;return!0}function lh(s,a,h,y,N,j){if(Pi=j,qt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,gu.current=s===null||s.memoizedState===null?xA:yA,s=h(y,N),ta){j=0;do{if(ta=!1,na=0,25<=j)throw Error(n(301));j+=1,dn=en=null,a.updateQueue=null,gu.current=vA,s=h(y,N)}while(ta)}if(gu.current=wu,a=en!==null&&en.next!==null,Pi=0,dn=en=qt=null,xu=!1,a)throw Error(n(300));return s}function ah(){var s=na!==0;return na=0,s}function Yr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?qt.memoizedState=dn=s:dn=dn.next=s,dn}function gr(){if(en===null){var s=qt.alternate;s=s!==null?s.memoizedState:null}else s=en.next;var a=dn===null?qt.memoizedState:dn.next;if(a!==null)dn=a,en=s;else{if(s===null)throw Error(n(310));en=s,s={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},dn===null?qt.memoizedState=dn=s:dn=dn.next=s}return dn}function ra(s,a){return typeof a=="function"?a(s):a}function ch(s){var a=gr(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var y=en,N=y.baseQueue,j=h.pending;if(j!==null){if(N!==null){var $=N.next;N.next=j.next,j.next=$}y.baseQueue=N=j,h.pending=null}if(N!==null){j=N.next,y=y.baseState;var ee=$=null,ne=null,ce=j;do{var ve=ce.lane;if((Pi&ve)===ve)ne!==null&&(ne=ne.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),y=ce.hasEagerState?ce.eagerState:s(y,ce.action);else{var we={lane:ve,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};ne===null?(ee=ne=we,$=y):ne=ne.next=we,qt.lanes|=ve,Ai|=ve}ce=ce.next}while(ce!==null&&ce!==j);ne===null?$=y:ne.next=ee,Cr(y,a.memoizedState)||(Hn=!0),a.memoizedState=y,a.baseState=$,a.baseQueue=ne,h.lastRenderedState=y}if(s=h.interleaved,s!==null){N=s;do j=N.lane,qt.lanes|=j,Ai|=j,N=N.next;while(N!==s)}else N===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function uh(s){var a=gr(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var y=h.dispatch,N=h.pending,j=a.memoizedState;if(N!==null){h.pending=null;var $=N=N.next;do j=s(j,$.action),$=$.next;while($!==N);Cr(j,a.memoizedState)||(Hn=!0),a.memoizedState=j,a.baseQueue===null&&(a.baseState=j),h.lastRenderedState=j}return[j,y]}function $v(){}function Fv(s,a){var h=qt,y=gr(),N=a(),j=!Cr(y.memoizedState,N);if(j&&(y.memoizedState=N,Hn=!0),y=y.queue,dh(Hv.bind(null,h,y,s),[s]),y.getSnapshot!==a||j||dn!==null&&dn.memoizedState.tag&1){if(h.flags|=2048,oa(9,Vv.bind(null,h,y,N,a),void 0,null),fn===null)throw Error(n(349));(Pi&30)!==0||Bv(h,a,N)}return N}function Bv(s,a,h){s.flags|=16384,s={getSnapshot:a,value:h},a=qt.updateQueue,a===null?(a={lastEffect:null,stores:null},qt.updateQueue=a,a.stores=[s]):(h=a.stores,h===null?a.stores=[s]:h.push(s))}function Vv(s,a,h,y){a.value=h,a.getSnapshot=y,Uv(a)&&Wv(s)}function Hv(s,a,h){return h(function(){Uv(a)&&Wv(s)})}function Uv(s){var a=s.getSnapshot;s=s.value;try{var h=a();return!Cr(s,h)}catch{return!0}}function Wv(s){var a=ho(s,1);a!==null&&Pr(a,s,1,-1)}function qv(s){var a=Yr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:s},a.queue=s,s=s.dispatch=gA.bind(null,qt,s),[a.memoizedState,s]}function oa(s,a,h,y){return s={tag:s,create:a,destroy:h,deps:y,next:null},a=qt.updateQueue,a===null?(a={lastEffect:null,stores:null},qt.updateQueue=a,a.lastEffect=s.next=s):(h=a.lastEffect,h===null?a.lastEffect=s.next=s:(y=h.next,h.next=s,s.next=y,a.lastEffect=s)),s}function Yv(){return gr().memoizedState}function yu(s,a,h,y){var N=Yr();qt.flags|=s,N.memoizedState=oa(1|a,h,void 0,y===void 0?null:y)}function vu(s,a,h,y){var N=gr();y=y===void 0?null:y;var j=void 0;if(en!==null){var $=en.memoizedState;if(j=$.destroy,y!==null&&sh(y,$.deps)){N.memoizedState=oa(a,h,j,y);return}}qt.flags|=s,N.memoizedState=oa(1|a,h,j,y)}function Xv(s,a){return yu(8390656,8,s,a)}function dh(s,a){return vu(2048,8,s,a)}function Gv(s,a){return vu(4,2,s,a)}function Kv(s,a){return vu(4,4,s,a)}function Qv(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Jv(s,a,h){return h=h!=null?h.concat([s]):null,vu(4,4,Qv.bind(null,a,s),h)}function fh(){}function Zv(s,a){var h=gr();a=a===void 0?null:a;var y=h.memoizedState;return y!==null&&a!==null&&sh(a,y[1])?y[0]:(h.memoizedState=[s,a],s)}function e0(s,a){var h=gr();a=a===void 0?null:a;var y=h.memoizedState;return y!==null&&a!==null&&sh(a,y[1])?y[0]:(s=s(),h.memoizedState=[s,a],s)}function t0(s,a,h){return(Pi&21)===0?(s.baseState&&(s.baseState=!1,Hn=!0),s.memoizedState=h):(Cr(h,a)||(h=cs(),qt.lanes|=h,Ai|=h,s.baseState=!0),a)}function hA(s,a){var h=At;At=h!==0&&4>h?h:4,s(!0);var y=ih.transition;ih.transition={};try{s(!1),a()}finally{At=h,ih.transition=y}}function n0(){return gr().memoizedState}function mA(s,a,h){var y=qo(s);if(h={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null},r0(s))o0(a,h);else if(h=Mv(s,a,h,y),h!==null){var N=On();Pr(h,s,y,N),i0(h,a,y)}}function gA(s,a,h){var y=qo(s),N={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null};if(r0(s))o0(a,N);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=a.lastRenderedReducer,j!==null))try{var $=a.lastRenderedState,ee=j($,h);if(N.hasEagerState=!0,N.eagerState=ee,Cr(ee,$)){var ne=a.interleaved;ne===null?(N.next=N,Zp(a)):(N.next=ne.next,ne.next=N),a.interleaved=N;return}}catch{}finally{}h=Mv(s,a,N,y),h!==null&&(N=On(),Pr(h,s,y,N),i0(h,a,y))}}function r0(s){var a=s.alternate;return s===qt||a!==null&&a===qt}function o0(s,a){ta=xu=!0;var h=s.pending;h===null?a.next=a:(a.next=h.next,h.next=a),s.pending=a}function i0(s,a,h){if((h&4194240)!==0){var y=a.lanes;y&=s.pendingLanes,h|=y,a.lanes=h,hp(s,h)}}var wu={readContext:mr,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},xA={readContext:mr,useCallback:function(s,a){return Yr().memoizedState=[s,a===void 0?null:a],s},useContext:mr,useEffect:Xv,useImperativeHandle:function(s,a,h){return h=h!=null?h.concat([s]):null,yu(4194308,4,Qv.bind(null,a,s),h)},useLayoutEffect:function(s,a){return yu(4194308,4,s,a)},useInsertionEffect:function(s,a){return yu(4,2,s,a)},useMemo:function(s,a){var h=Yr();return a=a===void 0?null:a,s=s(),h.memoizedState=[s,a],s},useReducer:function(s,a,h){var y=Yr();return a=h!==void 0?h(a):a,y.memoizedState=y.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},y.queue=s,s=s.dispatch=mA.bind(null,qt,s),[y.memoizedState,s]},useRef:function(s){var a=Yr();return s={current:s},a.memoizedState=s},useState:qv,useDebugValue:fh,useDeferredValue:function(s){return Yr().memoizedState=s},useTransition:function(){var s=qv(!1),a=s[0];return s=hA.bind(null,s[1]),Yr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,h){var y=qt,N=Yr();if(Vt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=a(),fn===null)throw Error(n(349));(Pi&30)!==0||Bv(y,a,h)}N.memoizedState=h;var j={value:h,getSnapshot:a};return N.queue=j,Xv(Hv.bind(null,y,j,s),[s]),y.flags|=2048,oa(9,Vv.bind(null,y,j,h,a),void 0,null),h},useId:function(){var s=Yr(),a=fn.identifierPrefix;if(Vt){var h=po,y=fo;h=(y&~(1<<32-Qn(y)-1)).toString(32)+h,a=":"+a+"R"+h,h=na++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=pA++,a=":"+a+"r"+h.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},yA={readContext:mr,useCallback:Zv,useContext:mr,useEffect:dh,useImperativeHandle:Jv,useInsertionEffect:Gv,useLayoutEffect:Kv,useMemo:e0,useReducer:ch,useRef:Yv,useState:function(){return ch(ra)},useDebugValue:fh,useDeferredValue:function(s){var a=gr();return t0(a,en.memoizedState,s)},useTransition:function(){var s=ch(ra)[0],a=gr().memoizedState;return[s,a]},useMutableSource:$v,useSyncExternalStore:Fv,useId:n0,unstable_isNewReconciler:!1},vA={readContext:mr,useCallback:Zv,useContext:mr,useEffect:dh,useImperativeHandle:Jv,useInsertionEffect:Gv,useLayoutEffect:Kv,useMemo:e0,useReducer:uh,useRef:Yv,useState:function(){return uh(ra)},useDebugValue:fh,useDeferredValue:function(s){var a=gr();return en===null?a.memoizedState=s:t0(a,en.memoizedState,s)},useTransition:function(){var s=uh(ra)[0],a=gr().memoizedState;return[s,a]},useMutableSource:$v,useSyncExternalStore:Fv,useId:n0,unstable_isNewReconciler:!1};function Er(s,a){if(s&&s.defaultProps){a=M({},a),s=s.defaultProps;for(var h in s)a[h]===void 0&&(a[h]=s[h]);return a}return a}function ph(s,a,h,y){a=s.memoizedState,h=h(y,a),h=h==null?a:M({},a,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var bu={isMounted:function(s){return(s=s._reactInternals)?Hr(s)===s:!1},enqueueSetState:function(s,a,h){s=s._reactInternals;var y=On(),N=qo(s),j=mo(y,N);j.payload=a,h!=null&&(j.callback=h),a=Vo(s,j,N),a!==null&&(Pr(a,s,N,y),pu(a,s,N))},enqueueReplaceState:function(s,a,h){s=s._reactInternals;var y=On(),N=qo(s),j=mo(y,N);j.tag=1,j.payload=a,h!=null&&(j.callback=h),a=Vo(s,j,N),a!==null&&(Pr(a,s,N,y),pu(a,s,N))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var h=On(),y=qo(s),N=mo(h,y);N.tag=2,a!=null&&(N.callback=a),a=Vo(s,N,y),a!==null&&(Pr(a,s,y,h),pu(a,s,y))}};function s0(s,a,h,y,N,j,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,j,$):a.prototype&&a.prototype.isPureReactComponent?!Ul(h,y)||!Ul(N,j):!0}function l0(s,a,h){var y=!1,N=$o,j=a.contextType;return typeof j=="object"&&j!==null?j=mr(j):(N=Vn(a)?Ci:Cn.current,y=a.contextTypes,j=(y=y!=null)?vs(s,N):$o),a=new a(h,j),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=bu,s.stateNode=a,a._reactInternals=s,y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=N,s.__reactInternalMemoizedMaskedChildContext=j),a}function a0(s,a,h,y){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,y),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,y),a.state!==s&&bu.enqueueReplaceState(a,a.state,null)}function hh(s,a,h,y){var N=s.stateNode;N.props=h,N.state=s.memoizedState,N.refs={},eh(s);var j=a.contextType;typeof j=="object"&&j!==null?N.context=mr(j):(j=Vn(a)?Ci:Cn.current,N.context=vs(s,j)),N.state=s.memoizedState,j=a.getDerivedStateFromProps,typeof j=="function"&&(ph(s,a,j,h),N.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(a=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),a!==N.state&&bu.enqueueReplaceState(N,N.state,null),hu(s,h,N,y),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=4194308)}function js(s,a){try{var h="",y=a;do h+=Z(y),y=y.return;while(y);var N=h}catch(j){N=`
Error generating stack: `+j.message+`
`+j.stack}return{value:s,source:a,stack:N,digest:null}}function mh(s,a,h){return{value:s,source:null,stack:h??null,digest:a??null}}function gh(s,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var wA=typeof WeakMap=="function"?WeakMap:Map;function c0(s,a,h){h=mo(-1,h),h.tag=3,h.payload={element:null};var y=a.value;return h.callback=function(){_u||(_u=!0,Ih=y),gh(s,a)},h}function u0(s,a,h){h=mo(-1,h),h.tag=3;var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var N=a.value;h.payload=function(){return y(N)},h.callback=function(){gh(s,a)}}var j=s.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(h.callback=function(){gh(s,a),typeof y!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var $=a.stack;this.componentDidCatch(a.value,{componentStack:$!==null?$:""})}),h}function d0(s,a,h){var y=s.pingCache;if(y===null){y=s.pingCache=new wA;var N=new Set;y.set(a,N)}else N=y.get(a),N===void 0&&(N=new Set,y.set(a,N));N.has(h)||(N.add(h),s=MA.bind(null,s,a,h),a.then(s,s))}function f0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function p0(s,a,h,y,N){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=mo(-1,1),a.tag=2,Vo(h,a,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=N,s)}var bA=_.ReactCurrentOwner,Hn=!1;function Dn(s,a,h,y){a.child=s===null?Rv(a,null,h,y):ks(a,s.child,h,y)}function h0(s,a,h,y,N){h=h.render;var j=a.ref;return Ns(a,N),y=lh(s,a,h,y,j,N),h=ah(),s!==null&&!Hn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~N,go(s,a,N)):(Vt&&h&&Up(a),a.flags|=1,Dn(s,a,y,N),a.child)}function m0(s,a,h,y,N){if(s===null){var j=h.type;return typeof j=="function"&&!zh(j)&&j.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=j,g0(s,a,j,y,N)):(s=Mu(h.type,null,y,a,a.mode,N),s.ref=a.ref,s.return=a,a.child=s)}if(j=s.child,(s.lanes&N)===0){var $=j.memoizedProps;if(h=h.compare,h=h!==null?h:Ul,h($,y)&&s.ref===a.ref)return go(s,a,N)}return a.flags|=1,s=Xo(j,y),s.ref=a.ref,s.return=a,a.child=s}function g0(s,a,h,y,N){if(s!==null){var j=s.memoizedProps;if(Ul(j,y)&&s.ref===a.ref)if(Hn=!1,a.pendingProps=y=j,(s.lanes&N)!==0)(s.flags&131072)!==0&&(Hn=!0);else return a.lanes=s.lanes,go(s,a,N)}return xh(s,a,h,y,N)}function x0(s,a,h){var y=a.pendingProps,N=y.children,j=s!==null?s.memoizedState:null;if(y.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(Ps,tr),tr|=h;else{if((h&1073741824)===0)return s=j!==null?j.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Ot(Ps,tr),tr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=j!==null?j.baseLanes:h,Ot(Ps,tr),tr|=y}else j!==null?(y=j.baseLanes|h,a.memoizedState=null):y=h,Ot(Ps,tr),tr|=y;return Dn(s,a,N,h),a.child}function y0(s,a){var h=a.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function xh(s,a,h,y,N){var j=Vn(h)?Ci:Cn.current;return j=vs(a,j),Ns(a,N),h=lh(s,a,h,y,j,N),y=ah(),s!==null&&!Hn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~N,go(s,a,N)):(Vt&&y&&Up(a),a.flags|=1,Dn(s,a,h,N),a.child)}function v0(s,a,h,y,N){if(Vn(h)){var j=!0;iu(a)}else j=!1;if(Ns(a,N),a.stateNode===null)ku(s,a),l0(a,h,y),hh(a,h,y,N),y=!0;else if(s===null){var $=a.stateNode,ee=a.memoizedProps;$.props=ee;var ne=$.context,ce=h.contextType;typeof ce=="object"&&ce!==null?ce=mr(ce):(ce=Vn(h)?Ci:Cn.current,ce=vs(a,ce));var ve=h.getDerivedStateFromProps,we=typeof ve=="function"||typeof $.getSnapshotBeforeUpdate=="function";we||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ee!==y||ne!==ce)&&a0(a,$,y,ce),Bo=!1;var ye=a.memoizedState;$.state=ye,hu(a,y,$,N),ne=a.memoizedState,ee!==y||ye!==ne||Bn.current||Bo?(typeof ve=="function"&&(ph(a,h,ve,y),ne=a.memoizedState),(ee=Bo||s0(a,h,ee,y,ye,ne,ce))?(we||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(a.flags|=4194308)):(typeof $.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=y,a.memoizedState=ne),$.props=y,$.state=ne,$.context=ce,y=ee):(typeof $.componentDidMount=="function"&&(a.flags|=4194308),y=!1)}else{$=a.stateNode,Dv(s,a),ee=a.memoizedProps,ce=a.type===a.elementType?ee:Er(a.type,ee),$.props=ce,we=a.pendingProps,ye=$.context,ne=h.contextType,typeof ne=="object"&&ne!==null?ne=mr(ne):(ne=Vn(h)?Ci:Cn.current,ne=vs(a,ne));var Pe=h.getDerivedStateFromProps;(ve=typeof Pe=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ee!==we||ye!==ne)&&a0(a,$,y,ne),Bo=!1,ye=a.memoizedState,$.state=ye,hu(a,y,$,N);var Le=a.memoizedState;ee!==we||ye!==Le||Bn.current||Bo?(typeof Pe=="function"&&(ph(a,h,Pe,y),Le=a.memoizedState),(ce=Bo||s0(a,h,ce,y,ye,Le,ne)||!1)?(ve||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(y,Le,ne),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(y,Le,ne)),typeof $.componentDidUpdate=="function"&&(a.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof $.componentDidUpdate!="function"||ee===s.memoizedProps&&ye===s.memoizedState||(a.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ee===s.memoizedProps&&ye===s.memoizedState||(a.flags|=1024),a.memoizedProps=y,a.memoizedState=Le),$.props=y,$.state=Le,$.context=ne,y=ce):(typeof $.componentDidUpdate!="function"||ee===s.memoizedProps&&ye===s.memoizedState||(a.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ee===s.memoizedProps&&ye===s.memoizedState||(a.flags|=1024),y=!1)}return yh(s,a,h,y,j,N)}function yh(s,a,h,y,N,j){y0(s,a);var $=(a.flags&128)!==0;if(!y&&!$)return N&&Cv(a,h,!1),go(s,a,j);y=a.stateNode,bA.current=a;var ee=$&&typeof h.getDerivedStateFromError!="function"?null:y.render();return a.flags|=1,s!==null&&$?(a.child=ks(a,s.child,null,j),a.child=ks(a,null,ee,j)):Dn(s,a,ee,j),a.memoizedState=y.state,N&&Cv(a,h,!0),a.child}function w0(s){var a=s.stateNode;a.pendingContext?Sv(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Sv(s,a.context,!1),th(s,a.containerInfo)}function b0(s,a,h,y,N){return Ss(),Xp(N),a.flags|=256,Dn(s,a,h,y),a.child}var vh={dehydrated:null,treeContext:null,retryLane:0};function wh(s){return{baseLanes:s,cachePool:null,transitions:null}}function S0(s,a,h){var y=a.pendingProps,N=Wt.current,j=!1,$=(a.flags&128)!==0,ee;if((ee=$)||(ee=s!==null&&s.memoizedState===null?!1:(N&2)!==0),ee?(j=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(N|=1),Ot(Wt,N&1),s===null)return Yp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):($=y.children,s=y.fallback,j?(y=a.mode,j=a.child,$={mode:"hidden",children:$},(y&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=$):j=Du($,y,0,null),s=Mi(s,y,h,null),j.return=a,s.return=a,j.sibling=s,a.child=j,a.child.memoizedState=wh(h),a.memoizedState=vh,s):bh(a,$));if(N=s.memoizedState,N!==null&&(ee=N.dehydrated,ee!==null))return SA(s,a,$,y,ee,N,h);if(j){j=y.fallback,$=a.mode,N=s.child,ee=N.sibling;var ne={mode:"hidden",children:y.children};return($&1)===0&&a.child!==N?(y=a.child,y.childLanes=0,y.pendingProps=ne,a.deletions=null):(y=Xo(N,ne),y.subtreeFlags=N.subtreeFlags&14680064),ee!==null?j=Xo(ee,j):(j=Mi(j,$,h,null),j.flags|=2),j.return=a,y.return=a,y.sibling=j,a.child=y,y=j,j=a.child,$=s.child.memoizedState,$=$===null?wh(h):{baseLanes:$.baseLanes|h,cachePool:null,transitions:$.transitions},j.memoizedState=$,j.childLanes=s.childLanes&~h,a.memoizedState=vh,y}return j=s.child,s=j.sibling,y=Xo(j,{mode:"visible",children:y.children}),(a.mode&1)===0&&(y.lanes=h),y.return=a,y.sibling=null,s!==null&&(h=a.deletions,h===null?(a.deletions=[s],a.flags|=16):h.push(s)),a.child=y,a.memoizedState=null,y}function bh(s,a){return a=Du({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Su(s,a,h,y){return y!==null&&Xp(y),ks(a,s.child,null,h),s=bh(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function SA(s,a,h,y,N,j,$){if(h)return a.flags&256?(a.flags&=-257,y=mh(Error(n(422))),Su(s,a,$,y)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(j=y.fallback,N=a.mode,y=Du({mode:"visible",children:y.children},N,0,null),j=Mi(j,N,$,null),j.flags|=2,y.return=a,j.return=a,y.sibling=j,a.child=y,(a.mode&1)!==0&&ks(a,s.child,null,$),a.child.memoizedState=wh($),a.memoizedState=vh,j);if((a.mode&1)===0)return Su(s,a,$,null);if(N.data==="$!"){if(y=N.nextSibling&&N.nextSibling.dataset,y)var ee=y.dgst;return y=ee,j=Error(n(419)),y=mh(j,y,void 0),Su(s,a,$,y)}if(ee=($&s.childLanes)!==0,Hn||ee){if(y=fn,y!==null){switch($&-$){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(y.suspendedLanes|$))!==0?0:N,N!==0&&N!==j.retryLane&&(j.retryLane=N,ho(s,N),Pr(y,s,N,-1))}return Lh(),y=mh(Error(n(421))),Su(s,a,$,y)}return N.data==="$?"?(a.flags|=128,a.child=s.child,a=DA.bind(null,s),N._reactRetry=a,null):(s=j.treeContext,er=Lo(N.nextSibling),Zn=a,Vt=!0,Nr=null,s!==null&&(pr[hr++]=fo,pr[hr++]=po,pr[hr++]=Ni,fo=s.id,po=s.overflow,Ni=a),a=bh(a,y.children),a.flags|=4096,a)}function k0(s,a,h){s.lanes|=a;var y=s.alternate;y!==null&&(y.lanes|=a),Jp(s.return,a,h)}function Sh(s,a,h,y,N){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:N}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=y,j.tail=h,j.tailMode=N)}function C0(s,a,h){var y=a.pendingProps,N=y.revealOrder,j=y.tail;if(Dn(s,a,y.children,h),y=Wt.current,(y&2)!==0)y=y&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&k0(s,h,a);else if(s.tag===19)k0(s,h,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}y&=1}if(Ot(Wt,y),(a.mode&1)===0)a.memoizedState=null;else switch(N){case"forwards":for(h=a.child,N=null;h!==null;)s=h.alternate,s!==null&&mu(s)===null&&(N=h),h=h.sibling;h=N,h===null?(N=a.child,a.child=null):(N=h.sibling,h.sibling=null),Sh(a,!1,N,h,j);break;case"backwards":for(h=null,N=a.child,a.child=null;N!==null;){if(s=N.alternate,s!==null&&mu(s)===null){a.child=N;break}s=N.sibling,N.sibling=h,h=N,N=s}Sh(a,!0,h,null,j);break;case"together":Sh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ku(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function go(s,a,h){if(s!==null&&(a.dependencies=s.dependencies),Ai|=a.lanes,(h&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,h=Xo(s,s.pendingProps),a.child=h,h.return=a;s.sibling!==null;)s=s.sibling,h=h.sibling=Xo(s,s.pendingProps),h.return=a;h.sibling=null}return a.child}function kA(s,a,h){switch(a.tag){case 3:w0(a),Ss();break;case 5:zv(a);break;case 1:Vn(a.type)&&iu(a);break;case 4:th(a,a.stateNode.containerInfo);break;case 10:var y=a.type._context,N=a.memoizedProps.value;Ot(du,y._currentValue),y._currentValue=N;break;case 13:if(y=a.memoizedState,y!==null)return y.dehydrated!==null?(Ot(Wt,Wt.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?S0(s,a,h):(Ot(Wt,Wt.current&1),s=go(s,a,h),s!==null?s.sibling:null);Ot(Wt,Wt.current&1);break;case 19:if(y=(h&a.childLanes)!==0,(s.flags&128)!==0){if(y)return C0(s,a,h);a.flags|=128}if(N=a.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Ot(Wt,Wt.current),y)break;return null;case 22:case 23:return a.lanes=0,x0(s,a,h)}return go(s,a,h)}var N0,kh,E0,j0;N0=function(s,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},kh=function(){},E0=function(s,a,h,y){var N=s.memoizedProps;if(N!==y){s=a.stateNode,_i(qr.current);var j=null;switch(h){case"input":N=xe(s,N),y=xe(s,y),j=[];break;case"select":N=M({},N,{value:void 0}),y=M({},y,{value:void 0}),j=[];break;case"textarea":N=lt(s,N),y=lt(s,y),j=[];break;default:typeof N.onClick!="function"&&typeof y.onClick=="function"&&(s.onclick=nu)}pt(h,y);var $;h=null;for(ce in N)if(!y.hasOwnProperty(ce)&&N.hasOwnProperty(ce)&&N[ce]!=null)if(ce==="style"){var ee=N[ce];for($ in ee)ee.hasOwnProperty($)&&(h||(h={}),h[$]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?j||(j=[]):(j=j||[]).push(ce,null));for(ce in y){var ne=y[ce];if(ee=N!=null?N[ce]:void 0,y.hasOwnProperty(ce)&&ne!==ee&&(ne!=null||ee!=null))if(ce==="style")if(ee){for($ in ee)!ee.hasOwnProperty($)||ne&&ne.hasOwnProperty($)||(h||(h={}),h[$]="");for($ in ne)ne.hasOwnProperty($)&&ee[$]!==ne[$]&&(h||(h={}),h[$]=ne[$])}else h||(j||(j=[]),j.push(ce,h)),h=ne;else ce==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ee=ee?ee.__html:void 0,ne!=null&&ee!==ne&&(j=j||[]).push(ce,ne)):ce==="children"?typeof ne!="string"&&typeof ne!="number"||(j=j||[]).push(ce,""+ne):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(ne!=null&&ce==="onScroll"&&$t("scroll",s),j||ee===ne||(j=[])):(j=j||[]).push(ce,ne))}h&&(j=j||[]).push("style",h);var ce=j;(a.updateQueue=ce)&&(a.flags|=4)}},j0=function(s,a,h,y){h!==y&&(a.flags|=4)};function ia(s,a){if(!Vt)switch(s.tailMode){case"hidden":a=s.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function En(s){var a=s.alternate!==null&&s.alternate.child===s.child,h=0,y=0;if(a)for(var N=s.child;N!==null;)h|=N.lanes|N.childLanes,y|=N.subtreeFlags&14680064,y|=N.flags&14680064,N.return=s,N=N.sibling;else for(N=s.child;N!==null;)h|=N.lanes|N.childLanes,y|=N.subtreeFlags,y|=N.flags,N.return=s,N=N.sibling;return s.subtreeFlags|=y,s.childLanes=h,a}function CA(s,a,h){var y=a.pendingProps;switch(Wp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(a),null;case 1:return Vn(a.type)&&ou(),En(a),null;case 3:return y=a.stateNode,Es(),Ft(Bn),Ft(Cn),oh(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(s===null||s.child===null)&&(cu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Nr!==null&&(Mh(Nr),Nr=null))),kh(s,a),En(a),null;case 5:nh(a);var N=_i(ea.current);if(h=a.type,s!==null&&a.stateNode!=null)E0(s,a,h,y,N),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!y){if(a.stateNode===null)throw Error(n(166));return En(a),null}if(s=_i(qr.current),cu(a)){y=a.stateNode,h=a.type;var j=a.memoizedProps;switch(y[Wr]=a,y[Gl]=j,s=(a.mode&1)!==0,h){case"dialog":$t("cancel",y),$t("close",y);break;case"iframe":case"object":case"embed":$t("load",y);break;case"video":case"audio":for(N=0;N<ql.length;N++)$t(ql[N],y);break;case"source":$t("error",y);break;case"img":case"image":case"link":$t("error",y),$t("load",y);break;case"details":$t("toggle",y);break;case"input":De(y,j),$t("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!j.multiple},$t("invalid",y);break;case"textarea":vt(y,j),$t("invalid",y)}pt(h,j),N=null;for(var $ in j)if(j.hasOwnProperty($)){var ee=j[$];$==="children"?typeof ee=="string"?y.textContent!==ee&&(j.suppressHydrationWarning!==!0&&tu(y.textContent,ee,s),N=["children",ee]):typeof ee=="number"&&y.textContent!==""+ee&&(j.suppressHydrationWarning!==!0&&tu(y.textContent,ee,s),N=["children",""+ee]):o.hasOwnProperty($)&&ee!=null&&$==="onScroll"&&$t("scroll",y)}switch(h){case"input":le(y),nt(y,j,!0);break;case"textarea":le(y),It(y);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(y.onclick=nu)}y=N,a.updateQueue=y,y!==null&&(a.flags|=4)}else{$=N.nodeType===9?N:N.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ue(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=$.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof y.is=="string"?s=$.createElement(h,{is:y.is}):(s=$.createElement(h),h==="select"&&($=s,y.multiple?$.multiple=!0:y.size&&($.size=y.size))):s=$.createElementNS(s,h),s[Wr]=a,s[Gl]=y,N0(s,a,!1,!1),a.stateNode=s;e:{switch($=Pt(h,y),h){case"dialog":$t("cancel",s),$t("close",s),N=y;break;case"iframe":case"object":case"embed":$t("load",s),N=y;break;case"video":case"audio":for(N=0;N<ql.length;N++)$t(ql[N],s);N=y;break;case"source":$t("error",s),N=y;break;case"img":case"image":case"link":$t("error",s),$t("load",s),N=y;break;case"details":$t("toggle",s),N=y;break;case"input":De(s,y),N=xe(s,y),$t("invalid",s);break;case"option":N=y;break;case"select":s._wrapperState={wasMultiple:!!y.multiple},N=M({},y,{value:void 0}),$t("invalid",s);break;case"textarea":vt(s,y),N=lt(s,y),$t("invalid",s);break;default:N=y}pt(h,N),ee=N;for(j in ee)if(ee.hasOwnProperty(j)){var ne=ee[j];j==="style"?Tt(s,ne):j==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&_e(s,ne)):j==="children"?typeof ne=="string"?(h!=="textarea"||ne!=="")&&Ye(s,ne):typeof ne=="number"&&Ye(s,""+ne):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?ne!=null&&j==="onScroll"&&$t("scroll",s):ne!=null&&C(s,j,ne,$))}switch(h){case"input":le(s),nt(s,y,!1);break;case"textarea":le(s),It(s);break;case"option":y.value!=null&&s.setAttribute("value",""+te(y.value));break;case"select":s.multiple=!!y.multiple,j=y.value,j!=null?We(s,!!y.multiple,j,!1):y.defaultValue!=null&&We(s,!!y.multiple,y.defaultValue,!0);break;default:typeof N.onClick=="function"&&(s.onclick=nu)}switch(h){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return En(a),null;case 6:if(s&&a.stateNode!=null)j0(s,a,s.memoizedProps,y);else{if(typeof y!="string"&&a.stateNode===null)throw Error(n(166));if(h=_i(ea.current),_i(qr.current),cu(a)){if(y=a.stateNode,h=a.memoizedProps,y[Wr]=a,(j=y.nodeValue!==h)&&(s=Zn,s!==null))switch(s.tag){case 3:tu(y.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&tu(y.nodeValue,h,(s.mode&1)!==0)}j&&(a.flags|=4)}else y=(h.nodeType===9?h:h.ownerDocument).createTextNode(y),y[Wr]=a,a.stateNode=y}return En(a),null;case 13:if(Ft(Wt),y=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Vt&&er!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Av(),Ss(),a.flags|=98560,j=!1;else if(j=cu(a),y!==null&&y.dehydrated!==null){if(s===null){if(!j)throw Error(n(318));if(j=a.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Wr]=a}else Ss(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;En(a),j=!1}else Nr!==null&&(Mh(Nr),Nr=null),j=!0;if(!j)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(y=y!==null,y!==(s!==null&&s.memoizedState!==null)&&y&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Wt.current&1)!==0?tn===0&&(tn=3):Lh())),a.updateQueue!==null&&(a.flags|=4),En(a),null);case 4:return Es(),kh(s,a),s===null&&Yl(a.stateNode.containerInfo),En(a),null;case 10:return Qp(a.type._context),En(a),null;case 17:return Vn(a.type)&&ou(),En(a),null;case 19:if(Ft(Wt),j=a.memoizedState,j===null)return En(a),null;if(y=(a.flags&128)!==0,$=j.rendering,$===null)if(y)ia(j,!1);else{if(tn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if($=mu(s),$!==null){for(a.flags|=128,ia(j,!1),y=$.updateQueue,y!==null&&(a.updateQueue=y,a.flags|=4),a.subtreeFlags=0,y=h,h=a.child;h!==null;)j=h,s=y,j.flags&=14680066,$=j.alternate,$===null?(j.childLanes=0,j.lanes=s,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=$.childLanes,j.lanes=$.lanes,j.child=$.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=$.memoizedProps,j.memoizedState=$.memoizedState,j.updateQueue=$.updateQueue,j.type=$.type,s=$.dependencies,j.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return Ot(Wt,Wt.current&1|2),a.child}s=s.sibling}j.tail!==null&&Ut()>As&&(a.flags|=128,y=!0,ia(j,!1),a.lanes=4194304)}else{if(!y)if(s=mu($),s!==null){if(a.flags|=128,y=!0,h=s.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),ia(j,!0),j.tail===null&&j.tailMode==="hidden"&&!$.alternate&&!Vt)return En(a),null}else 2*Ut()-j.renderingStartTime>As&&h!==1073741824&&(a.flags|=128,y=!0,ia(j,!1),a.lanes=4194304);j.isBackwards?($.sibling=a.child,a.child=$):(h=j.last,h!==null?h.sibling=$:a.child=$,j.last=$)}return j.tail!==null?(a=j.tail,j.rendering=a,j.tail=a.sibling,j.renderingStartTime=Ut(),a.sibling=null,h=Wt.current,Ot(Wt,y?h&1|2:h&1),a):(En(a),null);case 22:case 23:return Oh(),y=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==y&&(a.flags|=8192),y&&(a.mode&1)!==0?(tr&1073741824)!==0&&(En(a),a.subtreeFlags&6&&(a.flags|=8192)):En(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function NA(s,a){switch(Wp(a),a.tag){case 1:return Vn(a.type)&&ou(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Es(),Ft(Bn),Ft(Cn),oh(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return nh(a),null;case 13:if(Ft(Wt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ss()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Ft(Wt),null;case 4:return Es(),null;case 10:return Qp(a.type._context),null;case 22:case 23:return Oh(),null;case 24:return null;default:return null}}var Cu=!1,jn=!1,EA=typeof WeakSet=="function"?WeakSet:Set,Te=null;function _s(s,a){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(y){Yt(s,a,y)}else h.current=null}function Ch(s,a,h){try{h()}catch(y){Yt(s,a,y)}}var _0=!1;function jA(s,a){if(Op=Uc,s=sv(),_p(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var N=y.anchorOffset,j=y.focusNode;y=y.focusOffset;try{h.nodeType,j.nodeType}catch{h=null;break e}var $=0,ee=-1,ne=-1,ce=0,ve=0,we=s,ye=null;t:for(;;){for(var Pe;we!==h||N!==0&&we.nodeType!==3||(ee=$+N),we!==j||y!==0&&we.nodeType!==3||(ne=$+y),we.nodeType===3&&($+=we.nodeValue.length),(Pe=we.firstChild)!==null;)ye=we,we=Pe;for(;;){if(we===s)break t;if(ye===h&&++ce===N&&(ee=$),ye===j&&++ve===y&&(ne=$),(Pe=we.nextSibling)!==null)break;we=ye,ye=we.parentNode}we=Pe}h=ee===-1||ne===-1?null:{start:ee,end:ne}}else h=null}h=h||{start:0,end:0}}else h=null;for(Lp={focusedElem:s,selectionRange:h},Uc=!1,Te=a;Te!==null;)if(a=Te,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Te=s;else for(;Te!==null;){a=Te;try{var Le=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Ve=Le.memoizedProps,Gt=Le.memoizedState,se=a.stateNode,oe=se.getSnapshotBeforeUpdate(a.elementType===a.type?Ve:Er(a.type,Ve),Gt);se.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var ae=a.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Se){Yt(a,a.return,Se)}if(s=a.sibling,s!==null){s.return=a.return,Te=s;break}Te=a.return}return Le=_0,_0=!1,Le}function sa(s,a,h){var y=a.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var N=y=y.next;do{if((N.tag&s)===s){var j=N.destroy;N.destroy=void 0,j!==void 0&&Ch(a,h,j)}N=N.next}while(N!==y)}}function Nu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&s)===s){var y=h.create;h.destroy=y()}h=h.next}while(h!==a)}}function Nh(s){var a=s.ref;if(a!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof a=="function"?a(s):a.current=s}}function P0(s){var a=s.alternate;a!==null&&(s.alternate=null,P0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Wr],delete a[Gl],delete a[Bp],delete a[cA],delete a[uA])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function A0(s){return s.tag===5||s.tag===3||s.tag===4}function I0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||A0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Eh(s,a,h){var y=s.tag;if(y===5||y===6)s=s.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(s,a):h.insertBefore(s,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(s,h)):(a=h,a.appendChild(s)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=nu));else if(y!==4&&(s=s.child,s!==null))for(Eh(s,a,h),s=s.sibling;s!==null;)Eh(s,a,h),s=s.sibling}function jh(s,a,h){var y=s.tag;if(y===5||y===6)s=s.stateNode,a?h.insertBefore(s,a):h.appendChild(s);else if(y!==4&&(s=s.child,s!==null))for(jh(s,a,h),s=s.sibling;s!==null;)jh(s,a,h),s=s.sibling}var wn=null,jr=!1;function Ho(s,a,h){for(h=h.child;h!==null;)T0(s,a,h),h=h.sibling}function T0(s,a,h){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(bi,h)}catch{}switch(h.tag){case 5:jn||_s(h,a);case 6:var y=wn,N=jr;wn=null,Ho(s,a,h),wn=y,jr=N,wn!==null&&(jr?(s=wn,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):wn.removeChild(h.stateNode));break;case 18:wn!==null&&(jr?(s=wn,h=h.stateNode,s.nodeType===8?Fp(s.parentNode,h):s.nodeType===1&&Fp(s,h),zl(s)):Fp(wn,h.stateNode));break;case 4:y=wn,N=jr,wn=h.stateNode.containerInfo,jr=!0,Ho(s,a,h),wn=y,jr=N;break;case 0:case 11:case 14:case 15:if(!jn&&(y=h.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){N=y=y.next;do{var j=N,$=j.destroy;j=j.tag,$!==void 0&&((j&2)!==0||(j&4)!==0)&&Ch(h,a,$),N=N.next}while(N!==y)}Ho(s,a,h);break;case 1:if(!jn&&(_s(h,a),y=h.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=h.memoizedProps,y.state=h.memoizedState,y.componentWillUnmount()}catch(ee){Yt(h,a,ee)}Ho(s,a,h);break;case 21:Ho(s,a,h);break;case 22:h.mode&1?(jn=(y=jn)||h.memoizedState!==null,Ho(s,a,h),jn=y):Ho(s,a,h);break;default:Ho(s,a,h)}}function R0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new EA),a.forEach(function(y){var N=OA.bind(null,s,y);h.has(y)||(h.add(y),y.then(N,N))})}}function _r(s,a){var h=a.deletions;if(h!==null)for(var y=0;y<h.length;y++){var N=h[y];try{var j=s,$=a,ee=$;e:for(;ee!==null;){switch(ee.tag){case 5:wn=ee.stateNode,jr=!1;break e;case 3:wn=ee.stateNode.containerInfo,jr=!0;break e;case 4:wn=ee.stateNode.containerInfo,jr=!0;break e}ee=ee.return}if(wn===null)throw Error(n(160));T0(j,$,N),wn=null,jr=!1;var ne=N.alternate;ne!==null&&(ne.return=null),N.return=null}catch(ce){Yt(N,a,ce)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)M0(a,s),a=a.sibling}function M0(s,a){var h=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(_r(a,s),Xr(s),y&4){try{sa(3,s,s.return),Nu(3,s)}catch(Ve){Yt(s,s.return,Ve)}try{sa(5,s,s.return)}catch(Ve){Yt(s,s.return,Ve)}}break;case 1:_r(a,s),Xr(s),y&512&&h!==null&&_s(h,h.return);break;case 5:if(_r(a,s),Xr(s),y&512&&h!==null&&_s(h,h.return),s.flags&32){var N=s.stateNode;try{Ye(N,"")}catch(Ve){Yt(s,s.return,Ve)}}if(y&4&&(N=s.stateNode,N!=null)){var j=s.memoizedProps,$=h!==null?h.memoizedProps:j,ee=s.type,ne=s.updateQueue;if(s.updateQueue=null,ne!==null)try{ee==="input"&&j.type==="radio"&&j.name!=null&&Me(N,j),Pt(ee,$);var ce=Pt(ee,j);for($=0;$<ne.length;$+=2){var ve=ne[$],we=ne[$+1];ve==="style"?Tt(N,we):ve==="dangerouslySetInnerHTML"?_e(N,we):ve==="children"?Ye(N,we):C(N,ve,we,ce)}switch(ee){case"input":it(N,j);break;case"textarea":Et(N,j);break;case"select":var ye=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!j.multiple;var Pe=j.value;Pe!=null?We(N,!!j.multiple,Pe,!1):ye!==!!j.multiple&&(j.defaultValue!=null?We(N,!!j.multiple,j.defaultValue,!0):We(N,!!j.multiple,j.multiple?[]:"",!1))}N[Gl]=j}catch(Ve){Yt(s,s.return,Ve)}}break;case 6:if(_r(a,s),Xr(s),y&4){if(s.stateNode===null)throw Error(n(162));N=s.stateNode,j=s.memoizedProps;try{N.nodeValue=j}catch(Ve){Yt(s,s.return,Ve)}}break;case 3:if(_r(a,s),Xr(s),y&4&&h!==null&&h.memoizedState.isDehydrated)try{zl(a.containerInfo)}catch(Ve){Yt(s,s.return,Ve)}break;case 4:_r(a,s),Xr(s);break;case 13:_r(a,s),Xr(s),N=s.child,N.flags&8192&&(j=N.memoizedState!==null,N.stateNode.isHidden=j,!j||N.alternate!==null&&N.alternate.memoizedState!==null||(Ah=Ut())),y&4&&R0(s);break;case 22:if(ve=h!==null&&h.memoizedState!==null,s.mode&1?(jn=(ce=jn)||ve,_r(a,s),jn=ce):_r(a,s),Xr(s),y&8192){if(ce=s.memoizedState!==null,(s.stateNode.isHidden=ce)&&!ve&&(s.mode&1)!==0)for(Te=s,ve=s.child;ve!==null;){for(we=Te=ve;Te!==null;){switch(ye=Te,Pe=ye.child,ye.tag){case 0:case 11:case 14:case 15:sa(4,ye,ye.return);break;case 1:_s(ye,ye.return);var Le=ye.stateNode;if(typeof Le.componentWillUnmount=="function"){y=ye,h=ye.return;try{a=y,Le.props=a.memoizedProps,Le.state=a.memoizedState,Le.componentWillUnmount()}catch(Ve){Yt(y,h,Ve)}}break;case 5:_s(ye,ye.return);break;case 22:if(ye.memoizedState!==null){L0(we);continue}}Pe!==null?(Pe.return=ye,Te=Pe):L0(we)}ve=ve.sibling}e:for(ve=null,we=s;;){if(we.tag===5){if(ve===null){ve=we;try{N=we.stateNode,ce?(j=N.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(ee=we.stateNode,ne=we.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,ee.style.display=Ct("display",$))}catch(Ve){Yt(s,s.return,Ve)}}}else if(we.tag===6){if(ve===null)try{we.stateNode.nodeValue=ce?"":we.memoizedProps}catch(Ve){Yt(s,s.return,Ve)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===s)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===s)break e;for(;we.sibling===null;){if(we.return===null||we.return===s)break e;ve===we&&(ve=null),we=we.return}ve===we&&(ve=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:_r(a,s),Xr(s),y&4&&R0(s);break;case 21:break;default:_r(a,s),Xr(s)}}function Xr(s){var a=s.flags;if(a&2){try{e:{for(var h=s.return;h!==null;){if(A0(h)){var y=h;break e}h=h.return}throw Error(n(160))}switch(y.tag){case 5:var N=y.stateNode;y.flags&32&&(Ye(N,""),y.flags&=-33);var j=I0(s);jh(s,j,N);break;case 3:case 4:var $=y.stateNode.containerInfo,ee=I0(s);Eh(s,ee,$);break;default:throw Error(n(161))}}catch(ne){Yt(s,s.return,ne)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function _A(s,a,h){Te=s,D0(s)}function D0(s,a,h){for(var y=(s.mode&1)!==0;Te!==null;){var N=Te,j=N.child;if(N.tag===22&&y){var $=N.memoizedState!==null||Cu;if(!$){var ee=N.alternate,ne=ee!==null&&ee.memoizedState!==null||jn;ee=Cu;var ce=jn;if(Cu=$,(jn=ne)&&!ce)for(Te=N;Te!==null;)$=Te,ne=$.child,$.tag===22&&$.memoizedState!==null?z0(N):ne!==null?(ne.return=$,Te=ne):z0(N);for(;j!==null;)Te=j,D0(j),j=j.sibling;Te=N,Cu=ee,jn=ce}O0(s)}else(N.subtreeFlags&8772)!==0&&j!==null?(j.return=N,Te=j):O0(s)}}function O0(s){for(;Te!==null;){var a=Te;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:jn||Nu(5,a);break;case 1:var y=a.stateNode;if(a.flags&4&&!jn)if(h===null)y.componentDidMount();else{var N=a.elementType===a.type?h.memoizedProps:Er(a.type,h.memoizedProps);y.componentDidUpdate(N,h.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var j=a.updateQueue;j!==null&&Lv(a,j,y);break;case 3:var $=a.updateQueue;if($!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}Lv(a,$,h)}break;case 5:var ee=a.stateNode;if(h===null&&a.flags&4){h=ee;var ne=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&h.focus();break;case"img":ne.src&&(h.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ce=a.alternate;if(ce!==null){var ve=ce.memoizedState;if(ve!==null){var we=ve.dehydrated;we!==null&&zl(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}jn||a.flags&512&&Nh(a)}catch(ye){Yt(a,a.return,ye)}}if(a===s){Te=null;break}if(h=a.sibling,h!==null){h.return=a.return,Te=h;break}Te=a.return}}function L0(s){for(;Te!==null;){var a=Te;if(a===s){Te=null;break}var h=a.sibling;if(h!==null){h.return=a.return,Te=h;break}Te=a.return}}function z0(s){for(;Te!==null;){var a=Te;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{Nu(4,a)}catch(ne){Yt(a,h,ne)}break;case 1:var y=a.stateNode;if(typeof y.componentDidMount=="function"){var N=a.return;try{y.componentDidMount()}catch(ne){Yt(a,N,ne)}}var j=a.return;try{Nh(a)}catch(ne){Yt(a,j,ne)}break;case 5:var $=a.return;try{Nh(a)}catch(ne){Yt(a,$,ne)}}}catch(ne){Yt(a,a.return,ne)}if(a===s){Te=null;break}var ee=a.sibling;if(ee!==null){ee.return=a.return,Te=ee;break}Te=a.return}}var PA=Math.ceil,Eu=_.ReactCurrentDispatcher,_h=_.ReactCurrentOwner,xr=_.ReactCurrentBatchConfig,kt=0,fn=null,Kt=null,bn=0,tr=0,Ps=zo(0),tn=0,la=null,Ai=0,ju=0,Ph=0,aa=null,Un=null,Ah=0,As=1/0,xo=null,_u=!1,Ih=null,Uo=null,Pu=!1,Wo=null,Au=0,ca=0,Th=null,Iu=-1,Tu=0;function On(){return(kt&6)!==0?Ut():Iu!==-1?Iu:Iu=Ut()}function qo(s){return(s.mode&1)===0?1:(kt&2)!==0&&bn!==0?bn&-bn:fA.transition!==null?(Tu===0&&(Tu=cs()),Tu):(s=At,s!==0||(s=window.event,s=s===void 0?16:Fy(s.type)),s)}function Pr(s,a,h,y){if(50<ca)throw ca=0,Th=null,Error(n(185));Si(s,h,y),((kt&2)===0||s!==fn)&&(s===fn&&((kt&2)===0&&(ju|=h),tn===4&&Yo(s,bn)),Wn(s,y),h===1&&kt===0&&(a.mode&1)===0&&(As=Ut()+500,su&&Fo()))}function Wn(s,a){var h=s.callbackNode;pp(s,a);var y=as(s,s===fn?bn:0);if(y===0)h!==null&&Oc(h),s.callbackNode=null,s.callbackPriority=0;else if(a=y&-y,s.callbackPriority!==a){if(h!=null&&Oc(h),a===1)s.tag===0?dA(F0.bind(null,s)):Nv(F0.bind(null,s)),lA(function(){(kt&6)===0&&Fo()}),h=null;else{switch(Ty(y)){case 1:h=Il;break;case 4:h=zc;break;case 16:h=is;break;case 536870912:h=$c;break;default:h=is}h=X0(h,$0.bind(null,s))}s.callbackPriority=a,s.callbackNode=h}}function $0(s,a){if(Iu=-1,Tu=0,(kt&6)!==0)throw Error(n(327));var h=s.callbackNode;if(Is()&&s.callbackNode!==h)return null;var y=as(s,s===fn?bn:0);if(y===0)return null;if((y&30)!==0||(y&s.expiredLanes)!==0||a)a=Ru(s,y);else{a=y;var N=kt;kt|=2;var j=V0();(fn!==s||bn!==a)&&(xo=null,As=Ut()+500,Ti(s,a));do try{TA();break}catch(ee){B0(s,ee)}while(!0);Kp(),Eu.current=j,kt=N,Kt!==null?a=0:(fn=null,bn=0,a=tn)}if(a!==0){if(a===2&&(N=Tl(s),N!==0&&(y=N,a=Rh(s,N))),a===1)throw h=la,Ti(s,0),Yo(s,y),Wn(s,Ut()),h;if(a===6)Yo(s,y);else{if(N=s.current.alternate,(y&30)===0&&!AA(N)&&(a=Ru(s,y),a===2&&(j=Tl(s),j!==0&&(y=j,a=Rh(s,j))),a===1))throw h=la,Ti(s,0),Yo(s,y),Wn(s,Ut()),h;switch(s.finishedWork=N,s.finishedLanes=y,a){case 0:case 1:throw Error(n(345));case 2:Ri(s,Un,xo);break;case 3:if(Yo(s,y),(y&130023424)===y&&(a=Ah+500-Ut(),10<a)){if(as(s,0)!==0)break;if(N=s.suspendedLanes,(N&y)!==y){On(),s.pingedLanes|=s.suspendedLanes&N;break}s.timeoutHandle=$p(Ri.bind(null,s,Un,xo),a);break}Ri(s,Un,xo);break;case 4:if(Yo(s,y),(y&4194240)===y)break;for(a=s.eventTimes,N=-1;0<y;){var $=31-Qn(y);j=1<<$,$=a[$],$>N&&(N=$),y&=~j}if(y=N,y=Ut()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*PA(y/1960))-y,10<y){s.timeoutHandle=$p(Ri.bind(null,s,Un,xo),y);break}Ri(s,Un,xo);break;case 5:Ri(s,Un,xo);break;default:throw Error(n(329))}}}return Wn(s,Ut()),s.callbackNode===h?$0.bind(null,s):null}function Rh(s,a){var h=aa;return s.current.memoizedState.isDehydrated&&(Ti(s,a).flags|=256),s=Ru(s,a),s!==2&&(a=Un,Un=h,a!==null&&Mh(a)),s}function Mh(s){Un===null?Un=s:Un.push.apply(Un,s)}function AA(s){for(var a=s;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var y=0;y<h.length;y++){var N=h[y],j=N.getSnapshot;N=N.value;try{if(!Cr(j(),N))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Yo(s,a){for(a&=~Ph,a&=~ju,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var h=31-Qn(a),y=1<<h;s[h]=-1,a&=~y}}function F0(s){if((kt&6)!==0)throw Error(n(327));Is();var a=as(s,0);if((a&1)===0)return Wn(s,Ut()),null;var h=Ru(s,a);if(s.tag!==0&&h===2){var y=Tl(s);y!==0&&(a=y,h=Rh(s,y))}if(h===1)throw h=la,Ti(s,0),Yo(s,a),Wn(s,Ut()),h;if(h===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ri(s,Un,xo),Wn(s,Ut()),null}function Dh(s,a){var h=kt;kt|=1;try{return s(a)}finally{kt=h,kt===0&&(As=Ut()+500,su&&Fo())}}function Ii(s){Wo!==null&&Wo.tag===0&&(kt&6)===0&&Is();var a=kt;kt|=1;var h=xr.transition,y=At;try{if(xr.transition=null,At=1,s)return s()}finally{At=y,xr.transition=h,kt=a,(kt&6)===0&&Fo()}}function Oh(){tr=Ps.current,Ft(Ps)}function Ti(s,a){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,sA(h)),Kt!==null)for(h=Kt.return;h!==null;){var y=h;switch(Wp(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&ou();break;case 3:Es(),Ft(Bn),Ft(Cn),oh();break;case 5:nh(y);break;case 4:Es();break;case 13:Ft(Wt);break;case 19:Ft(Wt);break;case 10:Qp(y.type._context);break;case 22:case 23:Oh()}h=h.return}if(fn=s,Kt=s=Xo(s.current,null),bn=tr=a,tn=0,la=null,Ph=ju=Ai=0,Un=aa=null,ji!==null){for(a=0;a<ji.length;a++)if(h=ji[a],y=h.interleaved,y!==null){h.interleaved=null;var N=y.next,j=h.pending;if(j!==null){var $=j.next;j.next=N,y.next=$}h.pending=y}ji=null}return s}function B0(s,a){do{var h=Kt;try{if(Kp(),gu.current=wu,xu){for(var y=qt.memoizedState;y!==null;){var N=y.queue;N!==null&&(N.pending=null),y=y.next}xu=!1}if(Pi=0,dn=en=qt=null,ta=!1,na=0,_h.current=null,h===null||h.return===null){tn=1,la=a,Kt=null;break}e:{var j=s,$=h.return,ee=h,ne=a;if(a=bn,ee.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ce=ne,ve=ee,we=ve.tag;if((ve.mode&1)===0&&(we===0||we===11||we===15)){var ye=ve.alternate;ye?(ve.updateQueue=ye.updateQueue,ve.memoizedState=ye.memoizedState,ve.lanes=ye.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Pe=f0($);if(Pe!==null){Pe.flags&=-257,p0(Pe,$,ee,j,a),Pe.mode&1&&d0(j,ce,a),a=Pe,ne=ce;var Le=a.updateQueue;if(Le===null){var Ve=new Set;Ve.add(ne),a.updateQueue=Ve}else Le.add(ne);break e}else{if((a&1)===0){d0(j,ce,a),Lh();break e}ne=Error(n(426))}}else if(Vt&&ee.mode&1){var Gt=f0($);if(Gt!==null){(Gt.flags&65536)===0&&(Gt.flags|=256),p0(Gt,$,ee,j,a),Xp(js(ne,ee));break e}}j=ne=js(ne,ee),tn!==4&&(tn=2),aa===null?aa=[j]:aa.push(j),j=$;do{switch(j.tag){case 3:j.flags|=65536,a&=-a,j.lanes|=a;var se=c0(j,ne,a);Ov(j,se);break e;case 1:ee=ne;var oe=j.type,ae=j.stateNode;if((j.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Uo===null||!Uo.has(ae)))){j.flags|=65536,a&=-a,j.lanes|=a;var Se=u0(j,ee,a);Ov(j,Se);break e}}j=j.return}while(j!==null)}U0(h)}catch(He){a=He,Kt===h&&h!==null&&(Kt=h=h.return);continue}break}while(!0)}function V0(){var s=Eu.current;return Eu.current=wu,s===null?wu:s}function Lh(){(tn===0||tn===3||tn===2)&&(tn=4),fn===null||(Ai&268435455)===0&&(ju&268435455)===0||Yo(fn,bn)}function Ru(s,a){var h=kt;kt|=2;var y=V0();(fn!==s||bn!==a)&&(xo=null,Ti(s,a));do try{IA();break}catch(N){B0(s,N)}while(!0);if(Kp(),kt=h,Eu.current=y,Kt!==null)throw Error(n(261));return fn=null,bn=0,tn}function IA(){for(;Kt!==null;)H0(Kt)}function TA(){for(;Kt!==null&&!sp();)H0(Kt)}function H0(s){var a=Y0(s.alternate,s,tr);s.memoizedProps=s.pendingProps,a===null?U0(s):Kt=a,_h.current=null}function U0(s){var a=s;do{var h=a.alternate;if(s=a.return,(a.flags&32768)===0){if(h=CA(h,a,tr),h!==null){Kt=h;return}}else{if(h=NA(h,a),h!==null){h.flags&=32767,Kt=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{tn=6,Kt=null;return}}if(a=a.sibling,a!==null){Kt=a;return}Kt=a=s}while(a!==null);tn===0&&(tn=5)}function Ri(s,a,h){var y=At,N=xr.transition;try{xr.transition=null,At=1,RA(s,a,h,y)}finally{xr.transition=N,At=y}return null}function RA(s,a,h,y){do Is();while(Wo!==null);if((kt&6)!==0)throw Error(n(327));h=s.finishedWork;var N=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var j=h.lanes|h.childLanes;if(Bc(s,j),s===fn&&(Kt=fn=null,bn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Pu||(Pu=!0,X0(is,function(){return Is(),null})),j=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||j){j=xr.transition,xr.transition=null;var $=At;At=1;var ee=kt;kt|=4,_h.current=null,jA(s,h),M0(h,s),ZP(Lp),Uc=!!Op,Lp=Op=null,s.current=h,_A(h),Lc(),kt=ee,At=$,xr.transition=j}else s.current=h;if(Pu&&(Pu=!1,Wo=s,Au=N),j=s.pendingLanes,j===0&&(Uo=null),cp(h.stateNode),Wn(s,Ut()),a!==null)for(y=s.onRecoverableError,h=0;h<a.length;h++)N=a[h],y(N.value,{componentStack:N.stack,digest:N.digest});if(_u)throw _u=!1,s=Ih,Ih=null,s;return(Au&1)!==0&&s.tag!==0&&Is(),j=s.pendingLanes,(j&1)!==0?s===Th?ca++:(ca=0,Th=s):ca=0,Fo(),null}function Is(){if(Wo!==null){var s=Ty(Au),a=xr.transition,h=At;try{if(xr.transition=null,At=16>s?16:s,Wo===null)var y=!1;else{if(s=Wo,Wo=null,Au=0,(kt&6)!==0)throw Error(n(331));var N=kt;for(kt|=4,Te=s.current;Te!==null;){var j=Te,$=j.child;if((Te.flags&16)!==0){var ee=j.deletions;if(ee!==null){for(var ne=0;ne<ee.length;ne++){var ce=ee[ne];for(Te=ce;Te!==null;){var ve=Te;switch(ve.tag){case 0:case 11:case 15:sa(8,ve,j)}var we=ve.child;if(we!==null)we.return=ve,Te=we;else for(;Te!==null;){ve=Te;var ye=ve.sibling,Pe=ve.return;if(P0(ve),ve===ce){Te=null;break}if(ye!==null){ye.return=Pe,Te=ye;break}Te=Pe}}}var Le=j.alternate;if(Le!==null){var Ve=Le.child;if(Ve!==null){Le.child=null;do{var Gt=Ve.sibling;Ve.sibling=null,Ve=Gt}while(Ve!==null)}}Te=j}}if((j.subtreeFlags&2064)!==0&&$!==null)$.return=j,Te=$;else e:for(;Te!==null;){if(j=Te,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:sa(9,j,j.return)}var se=j.sibling;if(se!==null){se.return=j.return,Te=se;break e}Te=j.return}}var oe=s.current;for(Te=oe;Te!==null;){$=Te;var ae=$.child;if(($.subtreeFlags&2064)!==0&&ae!==null)ae.return=$,Te=ae;else e:for($=oe;Te!==null;){if(ee=Te,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:Nu(9,ee)}}catch(He){Yt(ee,ee.return,He)}if(ee===$){Te=null;break e}var Se=ee.sibling;if(Se!==null){Se.return=ee.return,Te=Se;break e}Te=ee.return}}if(kt=N,Fo(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(bi,s)}catch{}y=!0}return y}finally{At=h,xr.transition=a}}return!1}function W0(s,a,h){a=js(h,a),a=c0(s,a,1),s=Vo(s,a,1),a=On(),s!==null&&(Si(s,1,a),Wn(s,a))}function Yt(s,a,h){if(s.tag===3)W0(s,s,h);else for(;a!==null;){if(a.tag===3){W0(a,s,h);break}else if(a.tag===1){var y=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Uo===null||!Uo.has(y))){s=js(h,s),s=u0(a,s,1),a=Vo(a,s,1),s=On(),a!==null&&(Si(a,1,s),Wn(a,s));break}}a=a.return}}function MA(s,a,h){var y=s.pingCache;y!==null&&y.delete(a),a=On(),s.pingedLanes|=s.suspendedLanes&h,fn===s&&(bn&h)===h&&(tn===4||tn===3&&(bn&130023424)===bn&&500>Ut()-Ah?Ti(s,0):Ph|=h),Wn(s,a)}function q0(s,a){a===0&&((s.mode&1)===0?a=1:(a=ls,ls<<=1,(ls&130023424)===0&&(ls=4194304)));var h=On();s=ho(s,a),s!==null&&(Si(s,a,h),Wn(s,h))}function DA(s){var a=s.memoizedState,h=0;a!==null&&(h=a.retryLane),q0(s,h)}function OA(s,a){var h=0;switch(s.tag){case 13:var y=s.stateNode,N=s.memoizedState;N!==null&&(h=N.retryLane);break;case 19:y=s.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(a),q0(s,h)}var Y0;Y0=function(s,a,h){if(s!==null)if(s.memoizedProps!==a.pendingProps||Bn.current)Hn=!0;else{if((s.lanes&h)===0&&(a.flags&128)===0)return Hn=!1,kA(s,a,h);Hn=(s.flags&131072)!==0}else Hn=!1,Vt&&(a.flags&1048576)!==0&&Ev(a,au,a.index);switch(a.lanes=0,a.tag){case 2:var y=a.type;ku(s,a),s=a.pendingProps;var N=vs(a,Cn.current);Ns(a,h),N=lh(null,a,y,s,N,h);var j=ah();return a.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Vn(y)?(j=!0,iu(a)):j=!1,a.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,eh(a),N.updater=bu,a.stateNode=N,N._reactInternals=a,hh(a,y,s,h),a=yh(null,a,y,!0,j,h)):(a.tag=0,Vt&&j&&Up(a),Dn(null,a,N,h),a=a.child),a;case 16:y=a.elementType;e:{switch(ku(s,a),s=a.pendingProps,N=y._init,y=N(y._payload),a.type=y,N=a.tag=zA(y),s=Er(y,s),N){case 0:a=xh(null,a,y,s,h);break e;case 1:a=v0(null,a,y,s,h);break e;case 11:a=h0(null,a,y,s,h);break e;case 14:a=m0(null,a,y,Er(y.type,s),h);break e}throw Error(n(306,y,""))}return a;case 0:return y=a.type,N=a.pendingProps,N=a.elementType===y?N:Er(y,N),xh(s,a,y,N,h);case 1:return y=a.type,N=a.pendingProps,N=a.elementType===y?N:Er(y,N),v0(s,a,y,N,h);case 3:e:{if(w0(a),s===null)throw Error(n(387));y=a.pendingProps,j=a.memoizedState,N=j.element,Dv(s,a),hu(a,y,null,h);var $=a.memoizedState;if(y=$.element,j.isDehydrated)if(j={element:y,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},a.updateQueue.baseState=j,a.memoizedState=j,a.flags&256){N=js(Error(n(423)),a),a=b0(s,a,y,h,N);break e}else if(y!==N){N=js(Error(n(424)),a),a=b0(s,a,y,h,N);break e}else for(er=Lo(a.stateNode.containerInfo.firstChild),Zn=a,Vt=!0,Nr=null,h=Rv(a,null,y,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ss(),y===N){a=go(s,a,h);break e}Dn(s,a,y,h)}a=a.child}return a;case 5:return zv(a),s===null&&Yp(a),y=a.type,N=a.pendingProps,j=s!==null?s.memoizedProps:null,$=N.children,zp(y,N)?$=null:j!==null&&zp(y,j)&&(a.flags|=32),y0(s,a),Dn(s,a,$,h),a.child;case 6:return s===null&&Yp(a),null;case 13:return S0(s,a,h);case 4:return th(a,a.stateNode.containerInfo),y=a.pendingProps,s===null?a.child=ks(a,null,y,h):Dn(s,a,y,h),a.child;case 11:return y=a.type,N=a.pendingProps,N=a.elementType===y?N:Er(y,N),h0(s,a,y,N,h);case 7:return Dn(s,a,a.pendingProps,h),a.child;case 8:return Dn(s,a,a.pendingProps.children,h),a.child;case 12:return Dn(s,a,a.pendingProps.children,h),a.child;case 10:e:{if(y=a.type._context,N=a.pendingProps,j=a.memoizedProps,$=N.value,Ot(du,y._currentValue),y._currentValue=$,j!==null)if(Cr(j.value,$)){if(j.children===N.children&&!Bn.current){a=go(s,a,h);break e}}else for(j=a.child,j!==null&&(j.return=a);j!==null;){var ee=j.dependencies;if(ee!==null){$=j.child;for(var ne=ee.firstContext;ne!==null;){if(ne.context===y){if(j.tag===1){ne=mo(-1,h&-h),ne.tag=2;var ce=j.updateQueue;if(ce!==null){ce=ce.shared;var ve=ce.pending;ve===null?ne.next=ne:(ne.next=ve.next,ve.next=ne),ce.pending=ne}}j.lanes|=h,ne=j.alternate,ne!==null&&(ne.lanes|=h),Jp(j.return,h,a),ee.lanes|=h;break}ne=ne.next}}else if(j.tag===10)$=j.type===a.type?null:j.child;else if(j.tag===18){if($=j.return,$===null)throw Error(n(341));$.lanes|=h,ee=$.alternate,ee!==null&&(ee.lanes|=h),Jp($,h,a),$=j.sibling}else $=j.child;if($!==null)$.return=j;else for($=j;$!==null;){if($===a){$=null;break}if(j=$.sibling,j!==null){j.return=$.return,$=j;break}$=$.return}j=$}Dn(s,a,N.children,h),a=a.child}return a;case 9:return N=a.type,y=a.pendingProps.children,Ns(a,h),N=mr(N),y=y(N),a.flags|=1,Dn(s,a,y,h),a.child;case 14:return y=a.type,N=Er(y,a.pendingProps),N=Er(y.type,N),m0(s,a,y,N,h);case 15:return g0(s,a,a.type,a.pendingProps,h);case 17:return y=a.type,N=a.pendingProps,N=a.elementType===y?N:Er(y,N),ku(s,a),a.tag=1,Vn(y)?(s=!0,iu(a)):s=!1,Ns(a,h),l0(a,y,N),hh(a,y,N,h),yh(null,a,y,!0,s,h);case 19:return C0(s,a,h);case 22:return x0(s,a,h)}throw Error(n(156,a.tag))};function X0(s,a){return Dc(s,a)}function LA(s,a,h,y){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(s,a,h,y){return new LA(s,a,h,y)}function zh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function zA(s){if(typeof s=="function")return zh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===q)return 11;if(s===O)return 14}return 2}function Xo(s,a){var h=s.alternate;return h===null?(h=yr(s.tag,a,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=a,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,a=s.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function Mu(s,a,h,y,N,j){var $=2;if(y=s,typeof s=="function")zh(s)&&($=1);else if(typeof s=="string")$=5;else e:switch(s){case T:return Mi(h.children,N,j,a);case L:$=8,N|=8;break;case U:return s=yr(12,h,a,N|2),s.elementType=U,s.lanes=j,s;case G:return s=yr(13,h,a,N),s.elementType=G,s.lanes=j,s;case A:return s=yr(19,h,a,N),s.elementType=A,s.lanes=j,s;case X:return Du(h,N,j,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:$=10;break e;case B:$=9;break e;case q:$=11;break e;case O:$=14;break e;case F:$=16,y=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=yr($,h,a,N),a.elementType=s,a.type=y,a.lanes=j,a}function Mi(s,a,h,y){return s=yr(7,s,y,a),s.lanes=h,s}function Du(s,a,h,y){return s=yr(22,s,y,a),s.elementType=X,s.lanes=h,s.stateNode={isHidden:!1},s}function $h(s,a,h){return s=yr(6,s,null,a),s.lanes=h,s}function Fh(s,a,h){return a=yr(4,s.children!==null?s.children:[],s.key,a),a.lanes=h,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function $A(s,a,h,y,N){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rl(0),this.expirationTimes=Rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.identifierPrefix=y,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Bh(s,a,h,y,N,j,$,ee,ne){return s=new $A(s,a,h,ee,ne),a===1?(a=1,j===!0&&(a|=8)):a=0,j=yr(3,null,null,a),s.current=j,j.stateNode=s,j.memoizedState={element:y,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},eh(j),s}function FA(s,a,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:y==null?null:""+y,children:s,containerInfo:a,implementation:h}}function G0(s){if(!s)return $o;s=s._reactInternals;e:{if(Hr(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Vn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var h=s.type;if(Vn(h))return kv(s,h,a)}return a}function K0(s,a,h,y,N,j,$,ee,ne){return s=Bh(h,y,!0,s,N,j,$,ee,ne),s.context=G0(null),h=s.current,y=On(),N=qo(h),j=mo(y,N),j.callback=a??null,Vo(h,j,N),s.current.lanes=N,Si(s,N,y),Wn(s,y),s}function Ou(s,a,h,y){var N=a.current,j=On(),$=qo(N);return h=G0(h),a.context===null?a.context=h:a.pendingContext=h,a=mo(j,$),a.payload={element:s},y=y===void 0?null:y,y!==null&&(a.callback=y),s=Vo(N,a,$),s!==null&&(Pr(s,N,$,j),pu(s,N,$)),$}function Lu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Q0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<a?h:a}}function Vh(s,a){Q0(s,a),(s=s.alternate)&&Q0(s,a)}function BA(){return null}var J0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Hh(s){this._internalRoot=s}zu.prototype.render=Hh.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Ou(s,a,null,null)},zu.prototype.unmount=Hh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ii(function(){Ou(null,s,null,null)}),a[co]=null}};function zu(s){this._internalRoot=s}zu.prototype.unstable_scheduleHydration=function(s){if(s){var a=Dy();s={blockedOn:null,target:s,priority:a};for(var h=0;h<Mo.length&&a!==0&&a<Mo[h].priority;h++);Mo.splice(h,0,s),h===0&&zy(s)}};function Uh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function $u(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Z0(){}function VA(s,a,h,y,N){if(N){if(typeof y=="function"){var j=y;y=function(){var ce=Lu($);j.call(ce)}}var $=K0(a,y,s,0,null,!1,!1,"",Z0);return s._reactRootContainer=$,s[co]=$.current,Yl(s.nodeType===8?s.parentNode:s),Ii(),$}for(;N=s.lastChild;)s.removeChild(N);if(typeof y=="function"){var ee=y;y=function(){var ce=Lu(ne);ee.call(ce)}}var ne=Bh(s,0,!1,null,null,!1,!1,"",Z0);return s._reactRootContainer=ne,s[co]=ne.current,Yl(s.nodeType===8?s.parentNode:s),Ii(function(){Ou(a,ne,h,y)}),ne}function Fu(s,a,h,y,N){var j=h._reactRootContainer;if(j){var $=j;if(typeof N=="function"){var ee=N;N=function(){var ne=Lu($);ee.call(ne)}}Ou(a,$,s,N)}else $=VA(h,a,s,N,y);return Lu($)}Ry=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var h=Ur(a.pendingLanes);h!==0&&(hp(a,h|1),Wn(a,Ut()),(kt&6)===0&&(As=Ut()+500,Fo()))}break;case 13:Ii(function(){var y=ho(s,1);if(y!==null){var N=On();Pr(y,s,1,N)}}),Vh(s,1)}},mp=function(s){if(s.tag===13){var a=ho(s,134217728);if(a!==null){var h=On();Pr(a,s,134217728,h)}Vh(s,134217728)}},My=function(s){if(s.tag===13){var a=qo(s),h=ho(s,a);if(h!==null){var y=On();Pr(h,s,a,y)}Vh(s,a)}},Dy=function(){return At},Oy=function(s,a){var h=At;try{return At=s,a()}finally{At=h}},re=function(s,a,h){switch(a){case"input":if(it(s,h),a=h.name,h.type==="radio"&&a!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var y=h[a];if(y!==s&&y.form===s.form){var N=ru(y);if(!N)throw Error(n(90));de(y),it(y,N)}}}break;case"textarea":Et(s,h);break;case"select":a=h.value,a!=null&&We(s,!!h.multiple,a,!1)}},Oe=Dh,Ge=Ii;var HA={usingClientEntryPoint:!1,Events:[Kl,xs,ru,Ze,Fe,Dh]},ua={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UA={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Rc(s),s===null?null:s.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||BA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{bi=Bu.inject(UA),fr=Bu}catch{}}return qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HA,qn.createPortal=function(s,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uh(a))throw Error(n(200));return FA(s,a,null,h)},qn.createRoot=function(s,a){if(!Uh(s))throw Error(n(299));var h=!1,y="",N=J0;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),a=Bh(s,1,!1,null,null,h,!1,y,N),s[co]=a.current,Yl(s.nodeType===8?s.parentNode:s),new Hh(a)},qn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Rc(a),s=s===null?null:s.stateNode,s},qn.flushSync=function(s){return Ii(s)},qn.hydrate=function(s,a,h){if(!$u(a))throw Error(n(200));return Fu(null,s,a,!0,h)},qn.hydrateRoot=function(s,a,h){if(!Uh(s))throw Error(n(405));var y=h!=null&&h.hydratedSources||null,N=!1,j="",$=J0;if(h!=null&&(h.unstable_strictMode===!0&&(N=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onRecoverableError!==void 0&&($=h.onRecoverableError)),a=K0(a,null,s,1,h??null,N,!1,j,$),s[co]=a.current,Yl(s),y)for(s=0;s<y.length;s++)h=y[s],N=h._getVersion,N=N(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,N]:a.mutableSourceEagerHydrationData.push(h,N);return new zu(a)},qn.render=function(s,a,h){if(!$u(a))throw Error(n(200));return Fu(null,s,a,!1,h)},qn.unmountComponentAtNode=function(s){if(!$u(s))throw Error(n(40));return s._reactRootContainer?(Ii(function(){Fu(null,null,s,!1,function(){s._reactRootContainer=null,s[co]=null})}),!0):!1},qn.unstable_batchedUpdates=Dh,qn.unstable_renderSubtreeIntoContainer=function(s,a,h,y){if(!$u(h))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Fu(s,a,h,!1,y)},qn.version="18.3.1-next-f1338f8080-20240426",qn}var lw;function DS(){if(lw)return Yh.exports;lw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yh.exports=JA(),Yh.exports}var aw;function ZA(){if(aw)return Vu;aw=1;var e=DS();return Vu.createRoot=e.createRoot,Vu.hydrateRoot=e.hydrateRoot,Vu}var eI=ZA();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nI=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),cw=e=>{const t=nI(e);return t.charAt(0).toUpperCase()+t.slice(1)},OS=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:l,...c},d)=>S.createElement("svg",{ref:d,...rI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:OS("lucide",o),...c},[...l.map(([f,m])=>S.createElement(f,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(e,t)=>{const n=S.forwardRef(({className:r,...o},i)=>S.createElement(oI,{ref:i,iconNode:t,className:OS(`lucide-${tI(cw(e))}`,`lucide-${e}`,r),...o}));return n.displayName=cw(e),n};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],sI=tt("arrow-down",iI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],LS=tt("arrow-right",lI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],cI=tt("box",aI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zS=tt("check",uI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ti=tt("chevron-down",dI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$S=tt("chevron-left",fI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Fi=tt("chevron-right",pI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],mI=tt("chevron-up",hI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],FS=tt("chevrons-left",gI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],BS=tt("chevrons-right",xI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vI=tt("circle-alert",yI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bI=tt("circle-check",wI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kI=tt("circle-help",SI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Xm=tt("circle-plus",CI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],VS=tt("circle",NI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Gg=tt("clock",EI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],_I=tt("database",jI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],HS=tt("download",PI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],II=tt("eye-off",AI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RI=tt("eye",TI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]],DI=tt("fast-forward",MI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],LI=tt("file-up",OI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],$I=tt("folder-open",zI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],BI=tt("globe",FI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Ea=tt("grip-vertical",VI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],UI=tt("hash",HI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["path",{d:"M15 12h6",key:"upa0zy"}],["path",{d:"M15 6h6",key:"1jlkvy"}],["path",{d:"m3 13 3.553-7.724a.5.5 0 0 1 .894 0L11 13",key:"blevx4"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M4 11h6",key:"olkgv1"}]],qI=tt("letter-text",WI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],XI=tt("loader-circle",YI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],KI=tt("message-square-plus",GI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],JI=tt("network",QI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],eT=tt("plane",ZI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],nT=tt("play",tT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],US=tt("plus",rT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],iT=tt("redo-2",oT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],lT=tt("rotate-ccw",sT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cT=tt("save",aT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],dT=tt("search",uT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pT=tt("send",fT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WS=tt("settings",hT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],gT=tt("skip-forward",mT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],yT=tt("sparkles",xT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fa=tt("square-pen",vT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M4 10c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"4i38lg"}],["path",{d:"M10 16c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"mlte4a"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]],bT=tt("square-stack",wT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],qS=tt("square",ST);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],sr=tt("trash-2",kT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],NT=tt("trash",CT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],jT=tt("undo-2",ET);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Kg=tt("upload",_T);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],AT=tt("x",PT),af=S.createContext(null);af.displayName="PanelGroupContext";const Xt={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Qg=10,Ui=S.useLayoutEffect,uw=lf.useId,IT=typeof uw=="function"?uw:()=>null;let TT=0;function Jg(e=null){const t=IT(),n=S.useRef(e||t||null);return n.current===null&&(n.current=""+TT++),e??n.current}function YS({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:o,forwardedRef:i,id:l,maxSize:c,minSize:d,onCollapse:f,onExpand:m,onResize:p,order:g,style:x,tagName:b="div",...v}){const w=S.useContext(af);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:k,expandPanel:E,getPanelSize:C,getPanelStyle:_,groupId:R,isPanelCollapsed:P,reevaluatePanelConstraints:T,registerPanel:L,resizePanel:U,unregisterPanel:z}=w,B=Jg(l),q=S.useRef({callbacks:{onCollapse:f,onExpand:m,onResize:p},constraints:{collapsedSize:n,collapsible:r,defaultSize:o,maxSize:c,minSize:d},id:B,idIsFromProps:l!==void 0,order:g});S.useRef({didLogMissingDefaultSizeWarning:!1}),Ui(()=>{const{callbacks:A,constraints:O}=q.current,F={...O};q.current.id=B,q.current.idIsFromProps=l!==void 0,q.current.order=g,A.onCollapse=f,A.onExpand=m,A.onResize=p,O.collapsedSize=n,O.collapsible=r,O.defaultSize=o,O.maxSize=c,O.minSize=d,(F.collapsedSize!==O.collapsedSize||F.collapsible!==O.collapsible||F.maxSize!==O.maxSize||F.minSize!==O.minSize)&&T(q.current,F)}),Ui(()=>{const A=q.current;return L(A),()=>{z(A)}},[g,B,L,z]),S.useImperativeHandle(i,()=>({collapse:()=>{k(q.current)},expand:A=>{E(q.current,A)},getId(){return B},getSize(){return C(q.current)},isCollapsed(){return P(q.current)},isExpanded(){return!P(q.current)},resize:A=>{U(q.current,A)}}),[k,E,C,P,B,U]);const G=_(q.current,o);return S.createElement(b,{...v,children:e,className:t,id:B,style:{...G,...x},[Xt.groupId]:R,[Xt.panel]:"",[Xt.panelCollapsible]:r||void 0,[Xt.panelId]:B,[Xt.panelSize]:parseFloat(""+G.flexGrow).toFixed(1)})}const XS=S.forwardRef((e,t)=>S.createElement(YS,{...e,forwardedRef:t}));YS.displayName="Panel";XS.displayName="forwardRef(Panel)";let Gm=null,md=-1,ni=null;function RT(e,t){if(t){const n=(t&ZS)!==0,r=(t&ek)!==0,o=(t&tk)!==0,i=(t&nk)!==0;if(n)return o?"se-resize":i?"ne-resize":"e-resize";if(r)return o?"sw-resize":i?"nw-resize":"w-resize";if(o)return"s-resize";if(i)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function MT(){ni!==null&&(document.head.removeChild(ni),Gm=null,ni=null,md=-1)}function Kh(e,t){var n,r;const o=RT(e,t);if(Gm!==o){if(Gm=o,ni===null&&(ni=document.createElement("style"),document.head.appendChild(ni)),md>=0){var i;(i=ni.sheet)===null||i===void 0||i.removeRule(md)}md=(n=(r=ni.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${o} !important;}`))!==null&&n!==void 0?n:-1}}function GS(e){return e.type==="keydown"}function KS(e){return e.type.startsWith("pointer")}function QS(e){return e.type.startsWith("mouse")}function cf(e){if(KS(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(QS(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function DT(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function OT(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function LT(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:pw(e),b:pw(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;ft(r,"Stacking order can only be calculated for elements with a common ancestor");const o={a:fw(dw(n.a)),b:fw(dw(n.b))};if(o.a===o.b){const i=r.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)};let c=i.length;for(;c--;){const d=i[c];if(d===l.a)return 1;if(d===l.b)return-1}}return Math.sign(o.a-o.b)}const zT=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function $T(e){var t;const n=getComputedStyle((t=JS(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function FT(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||$T(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||zT.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function dw(e){let t=e.length;for(;t--;){const n=e[t];if(ft(n,"Missing node"),FT(n))return n}return null}function fw(e){return e&&Number(getComputedStyle(e).zIndex)||0}function pw(e){const t=[];for(;e;)t.push(e),e=JS(e);return t}function JS(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const ZS=1,ek=2,tk=4,nk=8,BT=DT()==="coarse";let Dr=[],qs=!1,Bi=new Map,uf=new Map;const Xa=new Set;function VT(e,t,n,r,o){var i;const{ownerDocument:l}=t,c={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:o},d=(i=Bi.get(l))!==null&&i!==void 0?i:0;return Bi.set(l,d+1),Xa.add(c),Pd(),function(){var m;uf.delete(e),Xa.delete(c);const p=(m=Bi.get(l))!==null&&m!==void 0?m:1;if(Bi.set(l,p-1),Pd(),p===1&&Bi.delete(l),Dr.includes(c)){const g=Dr.indexOf(c);g>=0&&Dr.splice(g,1),ex(),o("up",!0,null)}}}function HT(e){const{target:t}=e,{x:n,y:r}=cf(e);qs=!0,Zg({target:t,x:n,y:r}),Pd(),Dr.length>0&&(Ad("down",e),e.preventDefault(),rk(t)||e.stopImmediatePropagation())}function Qh(e){const{x:t,y:n}=cf(e);if(qs&&e.buttons===0&&(qs=!1,Ad("up",e)),!qs){const{target:r}=e;Zg({target:r,x:t,y:n})}Ad("move",e),ex(),Dr.length>0&&e.preventDefault()}function Jh(e){const{target:t}=e,{x:n,y:r}=cf(e);uf.clear(),qs=!1,Dr.length>0&&(e.preventDefault(),rk(t)||e.stopImmediatePropagation()),Ad("up",e),Zg({target:t,x:n,y:r}),ex(),Pd()}function rk(e){let t=e;for(;t;){if(t.hasAttribute(Xt.resizeHandle))return!0;t=t.parentElement}return!1}function Zg({target:e,x:t,y:n}){Dr.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),Xa.forEach(o=>{const{element:i,hitAreaMargins:l}=o,c=i.getBoundingClientRect(),{bottom:d,left:f,right:m,top:p}=c,g=BT?l.coarse:l.fine;if(t>=f-g&&t<=m+g&&n>=p-g&&n<=d+g){if(r!==null&&document.contains(r)&&i!==r&&!i.contains(r)&&!r.contains(i)&&LT(r,i)>0){let b=r,v=!1;for(;b&&!b.contains(i);){if(OT(b.getBoundingClientRect(),c)){v=!0;break}b=b.parentElement}if(v)return}Dr.push(o)}})}function Zh(e,t){uf.set(e,t)}function ex(){let e=!1,t=!1;Dr.forEach(r=>{const{direction:o}=r;o==="horizontal"?e=!0:t=!0});let n=0;uf.forEach(r=>{n|=r}),e&&t?Kh("intersection",n):e?Kh("horizontal",n):t?Kh("vertical",n):MT()}let em=new AbortController;function Pd(){em.abort(),em=new AbortController;const e={capture:!0,signal:em.signal};Xa.size&&(qs?(Dr.length>0&&Bi.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("contextmenu",Jh,e),r.addEventListener("pointerleave",Qh,e),r.addEventListener("pointermove",Qh,e))}),window.addEventListener("pointerup",Jh,e),window.addEventListener("pointercancel",Jh,e)):Bi.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("pointerdown",HT,e),r.addEventListener("pointermove",Qh,e))}))}function Ad(e,t){Xa.forEach(n=>{const{setResizeHandlerState:r}=n,o=Dr.includes(n);r(e,o,t)})}function UT(){const[e,t]=S.useState(0);return S.useCallback(()=>t(n=>n+1),[])}function ft(e,t){if(!e)throw console.error(t),Error(t)}function Yi(e,t,n=Qg){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function So(e,t,n=Qg){return Yi(e,t,n)===0}function rr(e,t,n){return Yi(e,t,n)===0}function WT(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const o=e[r],i=t[r];if(!rr(o,i,n))return!1}return!0}function Vs({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];ft(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:o=0,collapsible:i,maxSize:l=100,minSize:c=0}=r;if(Yi(n,c)<0)if(i){const d=(o+c)/2;Yi(n,d)<0?n=o:n=c}else n=c;return n=Math.min(l,n),n=parseFloat(n.toFixed(Qg)),n}function ja({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:o,trigger:i}){if(rr(e,0))return t;const l=[...t],[c,d]=r;ft(c!=null,"Invalid first pivot index"),ft(d!=null,"Invalid second pivot index");let f=0;if(i==="keyboard"){{const p=e<0?d:c,g=n[p];ft(g,`Panel constraints not found for index ${p}`);const{collapsedSize:x=0,collapsible:b,minSize:v=0}=g;if(b){const w=t[p];if(ft(w!=null,`Previous layout not found for panel index ${p}`),rr(w,x)){const k=v-w;Yi(k,Math.abs(e))>0&&(e=e<0?0-k:k)}}}{const p=e<0?c:d,g=n[p];ft(g,`No panel constraints found for index ${p}`);const{collapsedSize:x=0,collapsible:b,minSize:v=0}=g;if(b){const w=t[p];if(ft(w!=null,`Previous layout not found for panel index ${p}`),rr(w,v)){const k=w-x;Yi(k,Math.abs(e))>0&&(e=e<0?0-k:k)}}}}{const p=e<0?1:-1;let g=e<0?d:c,x=0;for(;;){const v=t[g];ft(v!=null,`Previous layout not found for panel index ${g}`);const k=Vs({panelConstraints:n,panelIndex:g,size:100})-v;if(x+=k,g+=p,g<0||g>=n.length)break}const b=Math.min(Math.abs(e),Math.abs(x));e=e<0?0-b:b}{let g=e<0?c:d;for(;g>=0&&g<n.length;){const x=Math.abs(e)-Math.abs(f),b=t[g];ft(b!=null,`Previous layout not found for panel index ${g}`);const v=b-x,w=Vs({panelConstraints:n,panelIndex:g,size:v});if(!rr(b,w)&&(f+=b-w,l[g]=w,f.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?g--:g++}}if(WT(o,l))return o;{const p=e<0?d:c,g=t[p];ft(g!=null,`Previous layout not found for panel index ${p}`);const x=g+f,b=Vs({panelConstraints:n,panelIndex:p,size:x});if(l[p]=b,!rr(b,x)){let v=x-b,k=e<0?d:c;for(;k>=0&&k<n.length;){const E=l[k];ft(E!=null,`Previous layout not found for panel index ${k}`);const C=E+v,_=Vs({panelConstraints:n,panelIndex:k,size:C});if(rr(E,_)||(v-=_-E,l[k]=_),rr(v,0))break;e>0?k--:k++}}}const m=l.reduce((p,g)=>g+p,0);return rr(m,100)?l:o}function qT({layout:e,panelsArray:t,pivotIndices:n}){let r=0,o=100,i=0,l=0;const c=n[0];ft(c!=null,"No pivot index found"),t.forEach((p,g)=>{const{constraints:x}=p,{maxSize:b=100,minSize:v=0}=x;g===c?(r=v,o=b):(i+=v,l+=b)});const d=Math.min(o,100-i),f=Math.max(r,100-l),m=e[c];return{valueMax:d,valueMin:f,valueNow:m}}function Ga(e,t=document){return Array.from(t.querySelectorAll(`[${Xt.resizeHandleId}][data-panel-group-id="${e}"]`))}function ok(e,t,n=document){const o=Ga(e,n).findIndex(i=>i.getAttribute(Xt.resizeHandleId)===t);return o??null}function ik(e,t,n){const r=ok(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function sk(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function df(e,t=document){const n=t.querySelector(`[${Xt.resizeHandleId}="${e}"]`);return n||null}function YT(e,t,n,r=document){var o,i,l,c;const d=df(t,r),f=Ga(e,r),m=d?f.indexOf(d):-1,p=(o=(i=n[m])===null||i===void 0?void 0:i.id)!==null&&o!==void 0?o:null,g=(l=(c=n[m+1])===null||c===void 0?void 0:c.id)!==null&&l!==void 0?l:null;return[p,g]}function XT({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:o,panelGroupElement:i,setLayout:l}){S.useRef({didWarnAboutMissingResizeHandle:!1}),Ui(()=>{if(!i)return;const c=Ga(n,i);for(let d=0;d<o.length-1;d++){const{valueMax:f,valueMin:m,valueNow:p}=qT({layout:r,panelsArray:o,pivotIndices:[d,d+1]}),g=c[d];if(g!=null){const x=o[d];ft(x,`No panel data found for index "${d}"`),g.setAttribute("aria-controls",x.id),g.setAttribute("aria-valuemax",""+Math.round(f)),g.setAttribute("aria-valuemin",""+Math.round(m)),g.setAttribute("aria-valuenow",p!=null?""+Math.round(p):"")}}return()=>{c.forEach((d,f)=>{d.removeAttribute("aria-controls"),d.removeAttribute("aria-valuemax"),d.removeAttribute("aria-valuemin"),d.removeAttribute("aria-valuenow")})}},[n,r,o,i]),S.useEffect(()=>{if(!i)return;const c=t.current;ft(c,"Eager values not found");const{panelDataArray:d}=c,f=sk(n,i);ft(f!=null,`No group found for id "${n}"`);const m=Ga(n,i);ft(m,`No resize handles found for group id "${n}"`);const p=m.map(g=>{const x=g.getAttribute(Xt.resizeHandleId);ft(x,"Resize handle element has no handle id attribute");const[b,v]=YT(n,x,d,i);if(b==null||v==null)return()=>{};const w=k=>{if(!k.defaultPrevented)switch(k.key){case"Enter":{k.preventDefault();const E=d.findIndex(C=>C.id===b);if(E>=0){const C=d[E];ft(C,`No panel data found for index ${E}`);const _=r[E],{collapsedSize:R=0,collapsible:P,minSize:T=0}=C.constraints;if(_!=null&&P){const L=ja({delta:rr(_,R)?T-R:R-_,initialLayout:r,panelConstraints:d.map(U=>U.constraints),pivotIndices:ik(n,x,i),prevLayout:r,trigger:"keyboard"});r!==L&&l(L)}}break}}};return g.addEventListener("keydown",w),()=>{g.removeEventListener("keydown",w)}});return()=>{p.forEach(g=>g())}},[i,e,t,n,r,o,l])}function hw(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function lk(e,t){const n=e==="horizontal",{x:r,y:o}=cf(t);return n?r:o}function GT(e,t,n,r,o){const i=n==="horizontal",l=df(t,o);ft(l,`No resize handle element found for id "${t}"`);const c=l.getAttribute(Xt.groupId);ft(c,"Resize handle element has no group id attribute");let{initialCursorPosition:d}=r;const f=lk(n,e),m=sk(c,o);ft(m,`No group element found for id "${c}"`);const p=m.getBoundingClientRect(),g=i?p.width:p.height;return(f-d)/g*100}function KT(e,t,n,r,o,i){if(GS(e)){const l=n==="horizontal";let c=0;e.shiftKey?c=100:o!=null?c=o:c=10;let d=0;switch(e.key){case"ArrowDown":d=l?0:c;break;case"ArrowLeft":d=l?-c:0;break;case"ArrowRight":d=l?c:0;break;case"ArrowUp":d=l?0:-c;break;case"End":d=100;break;case"Home":d=-100;break}return d}else return r==null?0:GT(e,t,n,r,i)}function QT({panelDataArray:e}){const t=Array(e.length),n=e.map(i=>i.constraints);let r=0,o=100;for(let i=0;i<e.length;i++){const l=n[i];ft(l,`Panel constraints not found for index ${i}`);const{defaultSize:c}=l;c!=null&&(r++,t[i]=c,o-=c)}for(let i=0;i<e.length;i++){const l=n[i];ft(l,`Panel constraints not found for index ${i}`);const{defaultSize:c}=l;if(c!=null)continue;const d=e.length-r,f=o/d;r++,t[i]=f,o-=f}return t}function Ts(e,t,n){t.forEach((r,o)=>{const i=e[o];ft(i,`Panel data not found for index ${o}`);const{callbacks:l,constraints:c,id:d}=i,{collapsedSize:f=0,collapsible:m}=c,p=n[d];if(p==null||r!==p){n[d]=r;const{onCollapse:g,onExpand:x,onResize:b}=l;b&&b(r,p),m&&(g||x)&&(x&&(p==null||So(p,f))&&!So(r,f)&&x(),g&&(p==null||!So(p,f))&&So(r,f)&&g())}})}function Hu(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function JT({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:o,precision:i=3}){const l=n[o];let c;return l==null?c=e!=null?e.toPrecision(i):"1":r.length===1?c="1":c=l.toPrecision(i),{flexBasis:0,flexGrow:c,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function ZT(e,t=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}function mw(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function ak(e){return`react-resizable-panels:${e}`}function ck(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:o,order:i}=t;return o?r:i?`${i}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function uk(e,t){try{const n=ak(e),r=t.getItem(n);if(r){const o=JSON.parse(r);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function eR(e,t,n){var r,o;const i=(r=uk(e,n))!==null&&r!==void 0?r:{},l=ck(t);return(o=i[l])!==null&&o!==void 0?o:null}function tR(e,t,n,r,o){var i;const l=ak(e),c=ck(t),d=(i=uk(e,o))!==null&&i!==void 0?i:{};d[c]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{o.setItem(l,JSON.stringify(d))}catch(f){console.error(f)}}function gw({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((i,l)=>i+l,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(i=>`${i}%`).join(", ")}`);if(!rr(r,100)&&n.length>0)for(let i=0;i<t.length;i++){const l=n[i];ft(l!=null,`No layout data found for index ${i}`);const c=100/r*l;n[i]=c}let o=0;for(let i=0;i<t.length;i++){const l=n[i];ft(l!=null,`No layout data found for index ${i}`);const c=Vs({panelConstraints:t,panelIndex:i,size:l});l!=c&&(o+=l-c,n[i]=c)}if(!rr(o,0))for(let i=0;i<t.length;i++){const l=n[i];ft(l!=null,`No layout data found for index ${i}`);const c=l+o,d=Vs({panelConstraints:t,panelIndex:i,size:c});if(l!==d&&(o-=d-l,n[i]=d,rr(o,0)))break}return n}const nR=100,_a={getItem:e=>(mw(_a),_a.getItem(e)),setItem:(e,t)=>{mw(_a),_a.setItem(e,t)}},xw={};function dk({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:o,id:i=null,onLayout:l=null,keyboardResizeBy:c=null,storage:d=_a,style:f,tagName:m="div",...p}){const g=Jg(i),x=S.useRef(null),[b,v]=S.useState(null),[w,k]=S.useState([]),E=UT(),C=S.useRef({}),_=S.useRef(new Map),R=S.useRef(0),P=S.useRef({autoSaveId:e,direction:r,dragState:b,id:g,keyboardResizeBy:c,onLayout:l,storage:d}),T=S.useRef({layout:w,panelDataArray:[],panelDataArrayChanged:!1});S.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),S.useImperativeHandle(o,()=>({getId:()=>P.current.id,getLayout:()=>{const{layout:I}=T.current;return I},setLayout:I=>{const{onLayout:V}=P.current,{layout:Z,panelDataArray:J}=T.current,K=gw({layout:I,panelConstraints:J.map(te=>te.constraints)});hw(Z,K)||(k(K),T.current.layout=K,V&&V(K),Ts(J,K,C.current))}}),[]),Ui(()=>{P.current.autoSaveId=e,P.current.direction=r,P.current.dragState=b,P.current.id=g,P.current.onLayout=l,P.current.storage=d}),XT({committedValuesRef:P,eagerValuesRef:T,groupId:g,layout:w,panelDataArray:T.current.panelDataArray,setLayout:k,panelGroupElement:x.current}),S.useEffect(()=>{const{panelDataArray:I}=T.current;if(e){if(w.length===0||w.length!==I.length)return;let V=xw[e];V==null&&(V=ZT(tR,nR),xw[e]=V);const Z=[...I],J=new Map(_.current);V(e,Z,J,w,d)}},[e,w,d]),S.useEffect(()=>{});const L=S.useCallback(I=>{const{onLayout:V}=P.current,{layout:Z,panelDataArray:J}=T.current;if(I.constraints.collapsible){const K=J.map(le=>le.constraints),{collapsedSize:te=0,panelSize:Q,pivotIndices:ie}=Di(J,I,Z);if(ft(Q!=null,`Panel size not found for panel "${I.id}"`),!So(Q,te)){_.current.set(I.id,Q);const de=Fs(J,I)===J.length-1?Q-te:te-Q,fe=ja({delta:de,initialLayout:Z,panelConstraints:K,pivotIndices:ie,prevLayout:Z,trigger:"imperative-api"});Hu(Z,fe)||(k(fe),T.current.layout=fe,V&&V(fe),Ts(J,fe,C.current))}}},[]),U=S.useCallback((I,V)=>{const{onLayout:Z}=P.current,{layout:J,panelDataArray:K}=T.current;if(I.constraints.collapsible){const te=K.map(xe=>xe.constraints),{collapsedSize:Q=0,panelSize:ie=0,minSize:le=0,pivotIndices:de}=Di(K,I,J),fe=V??le;if(So(ie,Q)){const xe=_.current.get(I.id),De=xe!=null&&xe>=fe?xe:fe,it=Fs(K,I)===K.length-1?ie-De:De-ie,nt=ja({delta:it,initialLayout:J,panelConstraints:te,pivotIndices:de,prevLayout:J,trigger:"imperative-api"});Hu(J,nt)||(k(nt),T.current.layout=nt,Z&&Z(nt),Ts(K,nt,C.current))}}},[]),z=S.useCallback(I=>{const{layout:V,panelDataArray:Z}=T.current,{panelSize:J}=Di(Z,I,V);return ft(J!=null,`Panel size not found for panel "${I.id}"`),J},[]),B=S.useCallback((I,V)=>{const{panelDataArray:Z}=T.current,J=Fs(Z,I);return JT({defaultSize:V,dragState:b,layout:w,panelData:Z,panelIndex:J})},[b,w]),q=S.useCallback(I=>{const{layout:V,panelDataArray:Z}=T.current,{collapsedSize:J=0,collapsible:K,panelSize:te}=Di(Z,I,V);return ft(te!=null,`Panel size not found for panel "${I.id}"`),K===!0&&So(te,J)},[]),G=S.useCallback(I=>{const{layout:V,panelDataArray:Z}=T.current,{collapsedSize:J=0,collapsible:K,panelSize:te}=Di(Z,I,V);return ft(te!=null,`Panel size not found for panel "${I.id}"`),!K||Yi(te,J)>0},[]),A=S.useCallback(I=>{const{panelDataArray:V}=T.current;V.push(I),V.sort((Z,J)=>{const K=Z.order,te=J.order;return K==null&&te==null?0:K==null?-1:te==null?1:K-te}),T.current.panelDataArrayChanged=!0,E()},[E]);Ui(()=>{if(T.current.panelDataArrayChanged){T.current.panelDataArrayChanged=!1;const{autoSaveId:I,onLayout:V,storage:Z}=P.current,{layout:J,panelDataArray:K}=T.current;let te=null;if(I){const ie=eR(I,K,Z);ie&&(_.current=new Map(Object.entries(ie.expandToSizes)),te=ie.layout)}te==null&&(te=QT({panelDataArray:K}));const Q=gw({layout:te,panelConstraints:K.map(ie=>ie.constraints)});hw(J,Q)||(k(Q),T.current.layout=Q,V&&V(Q),Ts(K,Q,C.current))}}),Ui(()=>{const I=T.current;return()=>{I.layout=[]}},[]);const O=S.useCallback(I=>{let V=!1;const Z=x.current;return Z&&window.getComputedStyle(Z,null).getPropertyValue("direction")==="rtl"&&(V=!0),function(K){K.preventDefault();const te=x.current;if(!te)return()=>null;const{direction:Q,dragState:ie,id:le,keyboardResizeBy:de,onLayout:fe}=P.current,{layout:xe,panelDataArray:De}=T.current,{initialLayout:Me}=ie??{},it=ik(le,I,te);let nt=KT(K,I,Q,ie,de,te);const et=Q==="horizontal";et&&V&&(nt=-nt);const ke=De.map(vt=>vt.constraints),We=ja({delta:nt,initialLayout:Me??xe,panelConstraints:ke,pivotIndices:it,prevLayout:xe,trigger:GS(K)?"keyboard":"mouse-or-touch"}),lt=!Hu(xe,We);(KS(K)||QS(K))&&R.current!=nt&&(R.current=nt,!lt&&nt!==0?et?Zh(I,nt<0?ZS:ek):Zh(I,nt<0?tk:nk):Zh(I,0)),lt&&(k(We),T.current.layout=We,fe&&fe(We),Ts(De,We,C.current))}},[]),F=S.useCallback((I,V)=>{const{onLayout:Z}=P.current,{layout:J,panelDataArray:K}=T.current,te=K.map(xe=>xe.constraints),{panelSize:Q,pivotIndices:ie}=Di(K,I,J);ft(Q!=null,`Panel size not found for panel "${I.id}"`);const de=Fs(K,I)===K.length-1?Q-V:V-Q,fe=ja({delta:de,initialLayout:J,panelConstraints:te,pivotIndices:ie,prevLayout:J,trigger:"imperative-api"});Hu(J,fe)||(k(fe),T.current.layout=fe,Z&&Z(fe),Ts(K,fe,C.current))},[]),X=S.useCallback((I,V)=>{const{layout:Z,panelDataArray:J}=T.current,{collapsedSize:K=0,collapsible:te}=V,{collapsedSize:Q=0,collapsible:ie,maxSize:le=100,minSize:de=0}=I.constraints,{panelSize:fe}=Di(J,I,Z);fe!=null&&(te&&ie&&So(fe,K)?So(K,Q)||F(I,Q):fe<de?F(I,de):fe>le&&F(I,le))},[F]),D=S.useCallback((I,V)=>{const{direction:Z}=P.current,{layout:J}=T.current;if(!x.current)return;const K=df(I,x.current);ft(K,`Drag handle element not found for id "${I}"`);const te=lk(Z,V);v({dragHandleId:I,dragHandleRect:K.getBoundingClientRect(),initialCursorPosition:te,initialLayout:J})},[]),W=S.useCallback(()=>{v(null)},[]),M=S.useCallback(I=>{const{panelDataArray:V}=T.current,Z=Fs(V,I);Z>=0&&(V.splice(Z,1),delete C.current[I.id],T.current.panelDataArrayChanged=!0,E())},[E]),H=S.useMemo(()=>({collapsePanel:L,direction:r,dragState:b,expandPanel:U,getPanelSize:z,getPanelStyle:B,groupId:g,isPanelCollapsed:q,isPanelExpanded:G,reevaluatePanelConstraints:X,registerPanel:A,registerResizeHandle:O,resizePanel:F,startDragging:D,stopDragging:W,unregisterPanel:M,panelGroupElement:x.current}),[L,b,r,U,z,B,g,q,G,X,A,O,F,D,W,M]),Y={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return S.createElement(af.Provider,{value:H},S.createElement(m,{...p,children:t,className:n,id:i,ref:x,style:{...Y,...f},[Xt.group]:"",[Xt.groupDirection]:r,[Xt.groupId]:g}))}const fk=S.forwardRef((e,t)=>S.createElement(dk,{...e,forwardedRef:t}));dk.displayName="PanelGroup";fk.displayName="forwardRef(PanelGroup)";function Fs(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function Di(e,t,n){const r=Fs(e,t),i=r===e.length-1?[r-1,r]:[r,r+1],l=n[r];return{...t.constraints,panelSize:l,pivotIndices:i}}function rR({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){S.useEffect(()=>{if(e||n==null||r==null)return;const o=df(t,r);if(o==null)return;const i=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),n(l);break}case"F6":{l.preventDefault();const c=o.getAttribute(Xt.groupId);ft(c,`No group element found for id "${c}"`);const d=Ga(c,r),f=ok(c,t,r);ft(f!==null,`No resize element found for id "${t}"`);const m=l.shiftKey?f>0?f-1:d.length-1:f+1<d.length?f+1:0;d[m].focus();break}}};return o.addEventListener("keydown",i),()=>{o.removeEventListener("keydown",i)}},[r,e,t,n])}function pk({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:o,onBlur:i,onClick:l,onDragging:c,onFocus:d,onPointerDown:f,onPointerUp:m,style:p={},tabIndex:g=0,tagName:x="div",...b}){var v,w;const k=S.useRef(null),E=S.useRef({onClick:l,onDragging:c,onPointerDown:f,onPointerUp:m});S.useEffect(()=>{E.current.onClick=l,E.current.onDragging=c,E.current.onPointerDown=f,E.current.onPointerUp=m});const C=S.useContext(af);if(C===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:_,groupId:R,registerResizeHandle:P,startDragging:T,stopDragging:L,panelGroupElement:U}=C,z=Jg(o),[B,q]=S.useState("inactive"),[G,A]=S.useState(!1),[O,F]=S.useState(null),X=S.useRef({state:B});Ui(()=>{X.current.state=B}),S.useEffect(()=>{if(n)F(null);else{const H=P(z);F(()=>H)}},[n,z,P]);const D=(v=r==null?void 0:r.coarse)!==null&&v!==void 0?v:15,W=(w=r==null?void 0:r.fine)!==null&&w!==void 0?w:5;S.useEffect(()=>{if(n||O==null)return;const H=k.current;ft(H,"Element ref not attached");let Y=!1;return VT(z,H,_,{coarse:D,fine:W},(V,Z,J)=>{if(!Z){q("inactive");return}switch(V){case"down":{q("drag"),Y=!1,ft(J,'Expected event to be defined for "down" action'),T(z,J);const{onDragging:K,onPointerDown:te}=E.current;K==null||K(!0),te==null||te();break}case"move":{const{state:K}=X.current;Y=!0,K!=="drag"&&q("hover"),ft(J,'Expected event to be defined for "move" action'),O(J);break}case"up":{q("hover"),L();const{onClick:K,onDragging:te,onPointerUp:Q}=E.current;te==null||te(!1),Q==null||Q(),Y||K==null||K();break}}})},[D,_,n,W,P,z,O,T,L]),rR({disabled:n,handleId:z,resizeHandler:O,panelGroupElement:U});const M={touchAction:"none",userSelect:"none"};return S.createElement(x,{...b,children:e,className:t,id:o,onBlur:()=>{A(!1),i==null||i()},onFocus:()=>{A(!0),d==null||d()},ref:k,role:"separator",style:{...M,...p},tabIndex:g,[Xt.groupDirection]:_,[Xt.groupId]:R,[Xt.resizeHandle]:"",[Xt.resizeHandleActive]:B==="drag"?"pointer":G?"keyboard":void 0,[Xt.resizeHandleEnabled]:!n,[Xt.resizeHandleId]:z,[Xt.resizeHandleState]:B})}pk.displayName="PanelResizeHandle";function hk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=hk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function mk(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=hk(e))&&(r&&(r+=" "),r+=t);return r}const oR=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},iR=(e,t)=>({classGroupId:e,validator:t}),gk=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Id="-",yw=[],sR="arbitrary..",lR=e=>{const t=cR(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return aR(l);const c=l.split(Id),d=c[0]===""&&c.length>1?1:0;return xk(c,d,t)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=n[l];return d?f?oR(f,d):d:f||yw}return n[l]||yw}}},xk=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const o=e[t],i=n.nextPart.get(o);if(i){const f=xk(e,t+1,i);if(f)return f}const l=n.validators;if(l===null)return;const c=t===0?e.join(Id):e.slice(t).join(Id),d=l.length;for(let f=0;f<d;f++){const m=l[f];if(m.validator(c))return m.classGroupId}},aR=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?sR+r:void 0})(),cR=e=>{const{theme:t,classGroups:n}=e;return uR(n,t)},uR=(e,t)=>{const n=gk();for(const r in e){const o=e[r];tx(o,n,r,t)}return n},tx=(e,t,n,r)=>{const o=e.length;for(let i=0;i<o;i++){const l=e[i];dR(l,t,n,r)}},dR=(e,t,n,r)=>{if(typeof e=="string"){fR(e,t,n);return}if(typeof e=="function"){pR(e,t,n,r);return}hR(e,t,n,r)},fR=(e,t,n)=>{const r=e===""?t:yk(t,e);r.classGroupId=n},pR=(e,t,n,r)=>{if(mR(e)){tx(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(iR(n,e))},hR=(e,t,n,r)=>{const o=Object.entries(e),i=o.length;for(let l=0;l<i;l++){const[c,d]=o[l];tx(d,yk(t,c),n,r)}},yk=(e,t)=>{let n=e;const r=t.split(Id),o=r.length;for(let i=0;i<o;i++){const l=r[i];let c=n.nextPart.get(l);c||(c=gk(),n.nextPart.set(l,c)),n=c}return n},mR=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,gR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const o=(i,l)=>{n[i]=l,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(i){let l=n[i];if(l!==void 0)return l;if((l=r[i])!==void 0)return o(i,l),l},set(i,l){i in n?n[i]=l:o(i,l)}}},Km="!",vw=":",xR=[],ww=(e,t,n,r,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),yR=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const i=[];let l=0,c=0,d=0,f;const m=o.length;for(let v=0;v<m;v++){const w=o[v];if(l===0&&c===0){if(w===vw){i.push(o.slice(d,v)),d=v+1;continue}if(w==="/"){f=v;continue}}w==="["?l++:w==="]"?l--:w==="("?c++:w===")"&&c--}const p=i.length===0?o:o.slice(d);let g=p,x=!1;p.endsWith(Km)?(g=p.slice(0,-1),x=!0):p.startsWith(Km)&&(g=p.slice(1),x=!0);const b=f&&f>d?f-d:void 0;return ww(i,x,g,b)};if(t){const o=t+vw,i=r;r=l=>l.startsWith(o)?i(l.slice(o.length)):ww(xR,!1,l,void 0,!0)}if(n){const o=r;r=i=>n({className:i,parseClassName:o})}return r},vR=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let o=[];for(let i=0;i<n.length;i++){const l=n[i],c=l[0]==="[",d=t.has(l);c||d?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(l)):o.push(l)}return o.length>0&&(o.sort(),r.push(...o)),r}},wR=e=>({cache:gR(e.cacheSize),parseClassName:yR(e),sortModifiers:vR(e),...lR(e)}),bR=/\s+/,SR=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:i}=t,l=[],c=e.trim().split(bR);let d="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{isExternal:p,modifiers:g,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:v}=n(m);if(p){d=m+(d.length>0?" "+d:d);continue}let w=!!v,k=r(w?b.substring(0,v):b);if(!k){if(!w){d=m+(d.length>0?" "+d:d);continue}if(k=r(b),!k){d=m+(d.length>0?" "+d:d);continue}w=!1}const E=g.length===0?"":g.length===1?g[0]:i(g).join(":"),C=x?E+Km:E,_=C+k;if(l.indexOf(_)>-1)continue;l.push(_);const R=o(k,w);for(let P=0;P<R.length;++P){const T=R[P];l.push(C+T)}d=m+(d.length>0?" "+d:d)}return d},kR=(...e)=>{let t=0,n,r,o="";for(;t<e.length;)(n=e[t++])&&(r=vk(n))&&(o&&(o+=" "),o+=r);return o},vk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=vk(e[r]))&&(n&&(n+=" "),n+=t);return n},CR=(e,...t)=>{let n,r,o,i;const l=d=>{const f=t.reduce((m,p)=>p(m),e());return n=wR(f),r=n.cache.get,o=n.cache.set,i=c,c(d)},c=d=>{const f=r(d);if(f)return f;const m=SR(d,n);return o(d,m),m};return i=l,(...d)=>i(kR(...d))},NR=[],nn=e=>{const t=n=>n[e]||NR;return t.isThemeGetter=!0,t},wk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,bk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ER=/^\d+\/\d+$/,jR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_R=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,AR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rs=e=>ER.test(e),ht=e=>!!e&&!Number.isNaN(Number(e)),Ko=e=>!!e&&Number.isInteger(Number(e)),tm=e=>e.endsWith("%")&&ht(e.slice(0,-1)),yo=e=>jR.test(e),TR=()=>!0,RR=e=>_R.test(e)&&!PR.test(e),Sk=()=>!1,MR=e=>AR.test(e),DR=e=>IR.test(e),OR=e=>!ze(e)&&!$e(e),LR=e=>gl(e,Nk,Sk),ze=e=>wk.test(e),Oi=e=>gl(e,Ek,RR),nm=e=>gl(e,VR,ht),bw=e=>gl(e,kk,Sk),zR=e=>gl(e,Ck,DR),Uu=e=>gl(e,jk,MR),$e=e=>bk.test(e),pa=e=>xl(e,Ek),$R=e=>xl(e,HR),Sw=e=>xl(e,kk),FR=e=>xl(e,Nk),BR=e=>xl(e,Ck),Wu=e=>xl(e,jk,!0),gl=(e,t,n)=>{const r=wk.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},xl=(e,t,n=!1)=>{const r=bk.exec(e);return r?r[1]?t(r[1]):n:!1},kk=e=>e==="position"||e==="percentage",Ck=e=>e==="image"||e==="url",Nk=e=>e==="length"||e==="size"||e==="bg-size",Ek=e=>e==="length",VR=e=>e==="number",HR=e=>e==="family-name",jk=e=>e==="shadow",UR=()=>{const e=nn("color"),t=nn("font"),n=nn("text"),r=nn("font-weight"),o=nn("tracking"),i=nn("leading"),l=nn("breakpoint"),c=nn("container"),d=nn("spacing"),f=nn("radius"),m=nn("shadow"),p=nn("inset-shadow"),g=nn("text-shadow"),x=nn("drop-shadow"),b=nn("blur"),v=nn("perspective"),w=nn("aspect"),k=nn("ease"),E=nn("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[..._(),$e,ze],P=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],L=()=>[$e,ze,d],U=()=>[Rs,"full","auto",...L()],z=()=>[Ko,"none","subgrid",$e,ze],B=()=>["auto",{span:["full",Ko,$e,ze]},Ko,$e,ze],q=()=>[Ko,"auto",$e,ze],G=()=>["auto","min","max","fr",$e,ze],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],O=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...L()],X=()=>[Rs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],D=()=>[e,$e,ze],W=()=>[..._(),Sw,bw,{position:[$e,ze]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",FR,LR,{size:[$e,ze]}],Y=()=>[tm,pa,Oi],I=()=>["","none","full",f,$e,ze],V=()=>["",ht,pa,Oi],Z=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[ht,tm,Sw,bw],te=()=>["","none",b,$e,ze],Q=()=>["none",ht,$e,ze],ie=()=>["none",ht,$e,ze],le=()=>[ht,$e,ze],de=()=>[Rs,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[yo],breakpoint:[yo],color:[TR],container:[yo],"drop-shadow":[yo],ease:["in","out","in-out"],font:[OR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[yo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[yo],shadow:[yo],spacing:["px",ht],text:[yo],"text-shadow":[yo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Rs,ze,$e,w]}],container:["container"],columns:[{columns:[ht,ze,$e,c]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[Ko,"auto",$e,ze]}],basis:[{basis:[Rs,"full","auto",c,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ht,Rs,"auto","initial","none",ze]}],grow:[{grow:["",ht,$e,ze]}],shrink:[{shrink:["",ht,$e,ze]}],order:[{order:[Ko,"first","last","none",$e,ze]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...O(),"normal"]}],"justify-self":[{"justify-self":["auto",...O()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...O(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...O(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...O(),"baseline"]}],"place-self":[{"place-self":["auto",...O()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[c,"screen",...X()]}],"min-w":[{"min-w":[c,"screen","none",...X()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",n,pa,Oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,$e,nm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",tm,ze]}],"font-family":[{font:[$R,ze,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,$e,ze]}],"line-clamp":[{"line-clamp":[ht,"none",$e,nm]}],leading:[{leading:[i,...L()]}],"list-image":[{"list-image":["none",$e,ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",$e,ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[ht,"from-font","auto",$e,Oi]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[ht,"auto",$e,ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e,ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e,ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ko,$e,ze],radial:["",$e,ze],conic:[Ko,$e,ze]},BR,zR]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:I()}],"rounded-s":[{"rounded-s":I()}],"rounded-e":[{"rounded-e":I()}],"rounded-t":[{"rounded-t":I()}],"rounded-r":[{"rounded-r":I()}],"rounded-b":[{"rounded-b":I()}],"rounded-l":[{"rounded-l":I()}],"rounded-ss":[{"rounded-ss":I()}],"rounded-se":[{"rounded-se":I()}],"rounded-ee":[{"rounded-ee":I()}],"rounded-es":[{"rounded-es":I()}],"rounded-tl":[{"rounded-tl":I()}],"rounded-tr":[{"rounded-tr":I()}],"rounded-br":[{"rounded-br":I()}],"rounded-bl":[{"rounded-bl":I()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ht,$e,ze]}],"outline-w":[{outline:["",ht,pa,Oi]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",m,Wu,Uu]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",p,Wu,Uu]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[ht,Oi]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",g,Wu,Uu]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[ht,$e,ze]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ht]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[$e,ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[ht]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",$e,ze]}],filter:[{filter:["","none",$e,ze]}],blur:[{blur:te()}],brightness:[{brightness:[ht,$e,ze]}],contrast:[{contrast:[ht,$e,ze]}],"drop-shadow":[{"drop-shadow":["","none",x,Wu,Uu]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",ht,$e,ze]}],"hue-rotate":[{"hue-rotate":[ht,$e,ze]}],invert:[{invert:["",ht,$e,ze]}],saturate:[{saturate:[ht,$e,ze]}],sepia:[{sepia:["",ht,$e,ze]}],"backdrop-filter":[{"backdrop-filter":["","none",$e,ze]}],"backdrop-blur":[{"backdrop-blur":te()}],"backdrop-brightness":[{"backdrop-brightness":[ht,$e,ze]}],"backdrop-contrast":[{"backdrop-contrast":[ht,$e,ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ht,$e,ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ht,$e,ze]}],"backdrop-invert":[{"backdrop-invert":["",ht,$e,ze]}],"backdrop-opacity":[{"backdrop-opacity":[ht,$e,ze]}],"backdrop-saturate":[{"backdrop-saturate":[ht,$e,ze]}],"backdrop-sepia":[{"backdrop-sepia":["",ht,$e,ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",$e,ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ht,"initial",$e,ze]}],ease:[{ease:["linear","initial",k,$e,ze]}],delay:[{delay:[ht,$e,ze]}],animate:[{animate:["none",E,$e,ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,$e,ze]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:Q()}],"rotate-x":[{"rotate-x":Q()}],"rotate-y":[{"rotate-y":Q()}],"rotate-z":[{"rotate-z":Q()}],scale:[{scale:ie()}],"scale-x":[{"scale-x":ie()}],"scale-y":[{"scale-y":ie()}],"scale-z":[{"scale-z":ie()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[$e,ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e,ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e,ze]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[ht,pa,Oi,nm]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},WR=CR(UR);function Xe(...e){return WR(mk(e))}function kw({className:e,...t}){return u.jsx(fk,{"data-slot":"resizable-panel-group",className:Xe("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function Oa({...e}){return u.jsx(XS,{"data-slot":"resizable-panel",...e})}function Cw({withHandle:e,className:t,...n}){return u.jsx(pk,{"data-slot":"resizable-handle",className:Xe("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&u.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:u.jsx(Ea,{className:"size-2.5"})})})}const Nw=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const g=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,g))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,o,c);return c},_k=(e=>e?Nw(e):Nw),qR=e=>e;function YR(e,t=qR){const n=qe.useSyncExternalStore(e.subscribe,qe.useCallback(()=>t(e.getState()),[e,t]),qe.useCallback(()=>t(e.getInitialState()),[e,t]));return qe.useDebugValue(n),n}const Ew=e=>{const t=_k(e),n=r=>YR(t,r);return Object.assign(n,t),n},XR=(e=>e?Ew(e):Ew);var jw=(e,t,n)=>(o,i)=>({pastStates:(n==null?void 0:n.pastStates)||[],futureStates:(n==null?void 0:n.futureStates)||[],undo:(l=1)=>{var c,d;if(i().pastStates.length){const f=((c=n==null?void 0:n.partialize)==null?void 0:c.call(n,t()))||t(),m=i().pastStates.splice(-l,l),p=m.shift();e(p),o({pastStates:i().pastStates,futureStates:i().futureStates.concat(((d=n==null?void 0:n.diff)==null?void 0:d.call(n,f,p))||f,m.reverse())})}},redo:(l=1)=>{var c,d;if(i().futureStates.length){const f=((c=n==null?void 0:n.partialize)==null?void 0:c.call(n,t()))||t(),m=i().futureStates.splice(-l,l),p=m.shift();e(p),o({pastStates:i().pastStates.concat(((d=n==null?void 0:n.diff)==null?void 0:d.call(n,f,p))||f,m.reverse()),futureStates:i().futureStates})}},clear:()=>o({pastStates:[],futureStates:[]}),isTracking:!0,pause:()=>o({isTracking:!1}),resume:()=>o({isTracking:!0}),setOnSave:l=>o({_onSave:l}),_onSave:n==null?void 0:n.onSave,_handleSet:(l,c,d,f)=>{var m,p;n!=null&&n.limit&&i().pastStates.length>=(n==null?void 0:n.limit)&&i().pastStates.shift(),(p=(m=i())._onSave)==null||p.call(m,l,d),o({pastStates:i().pastStates.concat(f||l),futureStates:[]})}}),GR=(e,t)=>(r,o,i)=>{var f,m;i.temporal=_k(((f=t==null?void 0:t.wrapTemporal)==null?void 0:f.call(t,jw(r,o,t)))||jw(r,o,t));const l=((m=t==null?void 0:t.handleSet)==null?void 0:m.call(t,i.temporal.getState()._handleSet))||i.temporal.getState()._handleSet,c=p=>{var b,v,w;if(!i.temporal.getState().isTracking)return;const g=((b=t==null?void 0:t.partialize)==null?void 0:b.call(t,o()))||o(),x=(v=t==null?void 0:t.diff)==null?void 0:v.call(t,p,g);x===null||(w=t==null?void 0:t.equality)!=null&&w.call(t,p,g)||l(p,void 0,g,x)},d=i.setState;return i.setState=(...p)=>{var x;const g=((x=t==null?void 0:t.partialize)==null?void 0:x.call(t,o()))||o();d(...p),c(g)},e((...p)=>{var x;const g=((x=t==null?void 0:t.partialize)==null?void 0:x.call(t,o()))||o();r(...p),c(g)},o,i)};const Sn=[];for(let e=0;e<256;++e)Sn.push((e+256).toString(16).slice(1));function KR(e,t=0){return(Sn[e[t+0]]+Sn[e[t+1]]+Sn[e[t+2]]+Sn[e[t+3]]+"-"+Sn[e[t+4]]+Sn[e[t+5]]+"-"+Sn[e[t+6]]+Sn[e[t+7]]+"-"+Sn[e[t+8]]+Sn[e[t+9]]+"-"+Sn[e[t+10]]+Sn[e[t+11]]+Sn[e[t+12]]+Sn[e[t+13]]+Sn[e[t+14]]+Sn[e[t+15]]).toLowerCase()}let rm;const QR=new Uint8Array(16);function JR(){if(!rm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");rm=crypto.getRandomValues.bind(crypto)}return rm(QR)}const ZR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_w={randomUUID:ZR};function eM(e,t,n){var o;e=e||{};const r=e.random??((o=e.rng)==null?void 0:o.call(e))??JR();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,KR(r)}function ot(e,t,n){return _w.randomUUID&&!e?_w.randomUUID():eM(e)}function Jt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Jt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var tM={value:()=>{}};function ff(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new gd(n)}function gd(e){this._=e}function nM(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}gd.prototype=ff.prototype={constructor:gd,on:function(e,t){var n=this._,r=nM(e+"",n),o,i=-1,l=r.length;if(arguments.length<2){for(;++i<l;)if((o=(e=r[i]).type)&&(o=rM(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<l;)if(o=(e=r[i]).type)n[o]=Pw(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Pw(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new gd(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function rM(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Pw(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=tM,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Qm="http://www.w3.org/1999/xhtml";const Aw={svg:"http://www.w3.org/2000/svg",xhtml:Qm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pf(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Aw.hasOwnProperty(t)?{space:Aw[t],local:e}:e}function oM(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Qm&&t.documentElement.namespaceURI===Qm?t.createElement(e):t.createElementNS(n,e)}}function iM(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Pk(e){var t=pf(e);return(t.local?iM:oM)(t)}function sM(){}function nx(e){return e==null?sM:function(){return this.querySelector(e)}}function lM(e){typeof e!="function"&&(e=nx(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],l=i.length,c=r[o]=new Array(l),d,f,m=0;m<l;++m)(d=i[m])&&(f=e.call(d,d.__data__,m,i))&&("__data__"in d&&(f.__data__=d.__data__),c[m]=f);return new ur(r,this._parents)}function aM(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function cM(){return[]}function Ak(e){return e==null?cM:function(){return this.querySelectorAll(e)}}function uM(e){return function(){return aM(e.apply(this,arguments))}}function dM(e){typeof e=="function"?e=uM(e):e=Ak(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var l=t[i],c=l.length,d,f=0;f<c;++f)(d=l[f])&&(r.push(e.call(d,d.__data__,f,l)),o.push(d));return new ur(r,o)}function Ik(e){return function(){return this.matches(e)}}function Tk(e){return function(t){return t.matches(e)}}var fM=Array.prototype.find;function pM(e){return function(){return fM.call(this.children,e)}}function hM(){return this.firstElementChild}function mM(e){return this.select(e==null?hM:pM(typeof e=="function"?e:Tk(e)))}var gM=Array.prototype.filter;function xM(){return Array.from(this.children)}function yM(e){return function(){return gM.call(this.children,e)}}function vM(e){return this.selectAll(e==null?xM:yM(typeof e=="function"?e:Tk(e)))}function wM(e){typeof e!="function"&&(e=Ik(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],l=i.length,c=r[o]=[],d,f=0;f<l;++f)(d=i[f])&&e.call(d,d.__data__,f,i)&&c.push(d);return new ur(r,this._parents)}function Rk(e){return new Array(e.length)}function bM(){return new ur(this._enter||this._groups.map(Rk),this._parents)}function Td(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Td.prototype={constructor:Td,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function SM(e){return function(){return e}}function kM(e,t,n,r,o,i){for(var l=0,c,d=t.length,f=i.length;l<f;++l)(c=t[l])?(c.__data__=i[l],r[l]=c):n[l]=new Td(e,i[l]);for(;l<d;++l)(c=t[l])&&(o[l]=c)}function CM(e,t,n,r,o,i,l){var c,d,f=new Map,m=t.length,p=i.length,g=new Array(m),x;for(c=0;c<m;++c)(d=t[c])&&(g[c]=x=l.call(d,d.__data__,c,t)+"",f.has(x)?o[c]=d:f.set(x,d));for(c=0;c<p;++c)x=l.call(e,i[c],c,i)+"",(d=f.get(x))?(r[c]=d,d.__data__=i[c],f.delete(x)):n[c]=new Td(e,i[c]);for(c=0;c<m;++c)(d=t[c])&&f.get(g[c])===d&&(o[c]=d)}function NM(e){return e.__data__}function EM(e,t){if(!arguments.length)return Array.from(this,NM);var n=t?CM:kM,r=this._parents,o=this._groups;typeof e!="function"&&(e=SM(e));for(var i=o.length,l=new Array(i),c=new Array(i),d=new Array(i),f=0;f<i;++f){var m=r[f],p=o[f],g=p.length,x=jM(e.call(m,m&&m.__data__,f,r)),b=x.length,v=c[f]=new Array(b),w=l[f]=new Array(b),k=d[f]=new Array(g);n(m,p,v,w,k,x,t);for(var E=0,C=0,_,R;E<b;++E)if(_=v[E]){for(E>=C&&(C=E+1);!(R=w[C])&&++C<b;);_._next=R||null}}return l=new ur(l,r),l._enter=c,l._exit=d,l}function jM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _M(){return new ur(this._exit||this._groups.map(Rk),this._parents)}function PM(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function AM(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,l=Math.min(o,i),c=new Array(o),d=0;d<l;++d)for(var f=n[d],m=r[d],p=f.length,g=c[d]=new Array(p),x,b=0;b<p;++b)(x=f[b]||m[b])&&(g[b]=x);for(;d<o;++d)c[d]=n[d];return new ur(c,this._parents)}function IM(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],l;--o>=0;)(l=r[o])&&(i&&l.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(l,i),i=l);return this}function TM(e){e||(e=RM);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var l=n[i],c=l.length,d=o[i]=new Array(c),f,m=0;m<c;++m)(f=l[m])&&(d[m]=f);d.sort(t)}return new ur(o,this._parents).order()}function RM(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function MM(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function DM(){return Array.from(this)}function OM(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var l=r[o];if(l)return l}return null}function LM(){let e=0;for(const t of this)++e;return e}function zM(){return!this.node()}function $M(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,l=o.length,c;i<l;++i)(c=o[i])&&e.call(c,c.__data__,i,o);return this}function FM(e){return function(){this.removeAttribute(e)}}function BM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function VM(e,t){return function(){this.setAttribute(e,t)}}function HM(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function UM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function WM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function qM(e,t){var n=pf(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?BM:FM:typeof t=="function"?n.local?WM:UM:n.local?HM:VM)(n,t))}function Mk(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function YM(e){return function(){this.style.removeProperty(e)}}function XM(e,t,n){return function(){this.style.setProperty(e,t,n)}}function GM(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function KM(e,t,n){return arguments.length>1?this.each((t==null?YM:typeof t=="function"?GM:XM)(e,t,n??"")):tl(this.node(),e)}function tl(e,t){return e.style.getPropertyValue(t)||Mk(e).getComputedStyle(e,null).getPropertyValue(t)}function QM(e){return function(){delete this[e]}}function JM(e,t){return function(){this[e]=t}}function ZM(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function eD(e,t){return arguments.length>1?this.each((t==null?QM:typeof t=="function"?ZM:JM)(e,t)):this.node()[e]}function Dk(e){return e.trim().split(/^|\s+/)}function rx(e){return e.classList||new Ok(e)}function Ok(e){this._node=e,this._names=Dk(e.getAttribute("class")||"")}Ok.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Lk(e,t){for(var n=rx(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function zk(e,t){for(var n=rx(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function tD(e){return function(){Lk(this,e)}}function nD(e){return function(){zk(this,e)}}function rD(e,t){return function(){(t.apply(this,arguments)?Lk:zk)(this,e)}}function oD(e,t){var n=Dk(e+"");if(arguments.length<2){for(var r=rx(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?rD:t?tD:nD)(n,t))}function iD(){this.textContent=""}function sD(e){return function(){this.textContent=e}}function lD(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function aD(e){return arguments.length?this.each(e==null?iD:(typeof e=="function"?lD:sD)(e)):this.node().textContent}function cD(){this.innerHTML=""}function uD(e){return function(){this.innerHTML=e}}function dD(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function fD(e){return arguments.length?this.each(e==null?cD:(typeof e=="function"?dD:uD)(e)):this.node().innerHTML}function pD(){this.nextSibling&&this.parentNode.appendChild(this)}function hD(){return this.each(pD)}function mD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gD(){return this.each(mD)}function xD(e){var t=typeof e=="function"?e:Pk(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function yD(){return null}function vD(e,t){var n=typeof e=="function"?e:Pk(e),r=t==null?yD:typeof t=="function"?t:nx(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function wD(){var e=this.parentNode;e&&e.removeChild(this)}function bD(){return this.each(wD)}function SD(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kD(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function CD(e){return this.select(e?kD:SD)}function ND(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ED(e){return function(t){e.call(this,t,this.__data__)}}function jD(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function _D(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function PD(e,t,n){return function(){var r=this.__on,o,i=ED(t);if(r){for(var l=0,c=r.length;l<c;++l)if((o=r[l]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function AD(e,t,n){var r=jD(e+""),o,i=r.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var d=0,f=c.length,m;d<f;++d)for(o=0,m=c[d];o<i;++o)if((l=r[o]).type===m.type&&l.name===m.name)return m.value}return}for(c=t?PD:_D,o=0;o<i;++o)this.each(c(r[o],t,n));return this}function $k(e,t,n){var r=Mk(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function ID(e,t){return function(){return $k(this,e,t)}}function TD(e,t){return function(){return $k(this,e,t.apply(this,arguments))}}function RD(e,t){return this.each((typeof t=="function"?TD:ID)(e,t))}function*MD(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,l;o<i;++o)(l=r[o])&&(yield l)}var Fk=[null];function ur(e,t){this._groups=e,this._parents=t}function mc(){return new ur([[document.documentElement]],Fk)}function DD(){return this}ur.prototype=mc.prototype={constructor:ur,select:lM,selectAll:dM,selectChild:mM,selectChildren:vM,filter:wM,data:EM,enter:bM,exit:_M,join:PM,merge:AM,selection:DD,order:IM,sort:TM,call:MM,nodes:DM,node:OM,size:LM,empty:zM,each:$M,attr:qM,style:KM,property:eD,classed:oD,text:aD,html:fD,raise:hD,lower:gD,append:xD,insert:vD,remove:bD,clone:CD,datum:ND,on:AD,dispatch:RD,[Symbol.iterator]:MD};function lr(e){return typeof e=="string"?new ur([[document.querySelector(e)]],[document.documentElement]):new ur([[e]],Fk)}function OD(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ir(e,t){if(e=OD(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const LD={passive:!1},Ka={capture:!0,passive:!1};function om(e){e.stopImmediatePropagation()}function Ys(e){e.preventDefault(),e.stopImmediatePropagation()}function Bk(e){var t=e.document.documentElement,n=lr(e).on("dragstart.drag",Ys,Ka);"onselectstart"in t?n.on("selectstart.drag",Ys,Ka):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Vk(e,t){var n=e.document.documentElement,r=lr(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ys,Ka),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const qu=e=>()=>e;function Jm(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:l,y:c,dx:d,dy:f,dispatch:m}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:m}})}Jm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function zD(e){return!e.ctrlKey&&!e.button}function $D(){return this.parentNode}function FD(e,t){return t??{x:e.x,y:e.y}}function BD(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hk(){var e=zD,t=$D,n=FD,r=BD,o={},i=ff("start","drag","end"),l=0,c,d,f,m,p=0;function g(_){_.on("mousedown.drag",x).filter(r).on("touchstart.drag",w).on("touchmove.drag",k,LD).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(_,R){if(!(m||!e.call(this,_,R))){var P=C(this,t.call(this,_,R),_,R,"mouse");P&&(lr(_.view).on("mousemove.drag",b,Ka).on("mouseup.drag",v,Ka),Bk(_.view),om(_),f=!1,c=_.clientX,d=_.clientY,P("start",_))}}function b(_){if(Ys(_),!f){var R=_.clientX-c,P=_.clientY-d;f=R*R+P*P>p}o.mouse("drag",_)}function v(_){lr(_.view).on("mousemove.drag mouseup.drag",null),Vk(_.view,f),Ys(_),o.mouse("end",_)}function w(_,R){if(e.call(this,_,R)){var P=_.changedTouches,T=t.call(this,_,R),L=P.length,U,z;for(U=0;U<L;++U)(z=C(this,T,_,R,P[U].identifier,P[U]))&&(om(_),z("start",_,P[U]))}}function k(_){var R=_.changedTouches,P=R.length,T,L;for(T=0;T<P;++T)(L=o[R[T].identifier])&&(Ys(_),L("drag",_,R[T]))}function E(_){var R=_.changedTouches,P=R.length,T,L;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),T=0;T<P;++T)(L=o[R[T].identifier])&&(om(_),L("end",_,R[T]))}function C(_,R,P,T,L,U){var z=i.copy(),B=Ir(U||P,R),q,G,A;if((A=n.call(_,new Jm("beforestart",{sourceEvent:P,target:g,identifier:L,active:l,x:B[0],y:B[1],dx:0,dy:0,dispatch:z}),T))!=null)return q=A.x-B[0]||0,G=A.y-B[1]||0,function O(F,X,D){var W=B,M;switch(F){case"start":o[L]=O,M=l++;break;case"end":delete o[L],--l;case"drag":B=Ir(D||X,R),M=l;break}z.call(F,_,new Jm(F,{sourceEvent:X,subject:A,target:g,identifier:L,active:M,x:B[0]+q,y:B[1]+G,dx:B[0]-W[0],dy:B[1]-W[1],dispatch:z}),T)}}return g.filter=function(_){return arguments.length?(e=typeof _=="function"?_:qu(!!_),g):e},g.container=function(_){return arguments.length?(t=typeof _=="function"?_:qu(_),g):t},g.subject=function(_){return arguments.length?(n=typeof _=="function"?_:qu(_),g):n},g.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:qu(!!_),g):r},g.on=function(){var _=i.on.apply(i,arguments);return _===i?g:_},g.clickDistance=function(_){return arguments.length?(p=(_=+_)*_,g):Math.sqrt(p)},g}function ox(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Uk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function gc(){}var Qa=.7,Rd=1/Qa,Xs="\\s*([+-]?\\d+)\\s*",Ja="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VD=/^#([0-9a-f]{3,8})$/,HD=new RegExp(`^rgb\\(${Xs},${Xs},${Xs}\\)$`),UD=new RegExp(`^rgb\\(${Zr},${Zr},${Zr}\\)$`),WD=new RegExp(`^rgba\\(${Xs},${Xs},${Xs},${Ja}\\)$`),qD=new RegExp(`^rgba\\(${Zr},${Zr},${Zr},${Ja}\\)$`),YD=new RegExp(`^hsl\\(${Ja},${Zr},${Zr}\\)$`),XD=new RegExp(`^hsla\\(${Ja},${Zr},${Zr},${Ja}\\)$`),Iw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ox(gc,Xi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Tw,formatHex:Tw,formatHex8:GD,formatHsl:KD,formatRgb:Rw,toString:Rw});function Tw(){return this.rgb().formatHex()}function GD(){return this.rgb().formatHex8()}function KD(){return Wk(this).formatHsl()}function Rw(){return this.rgb().formatRgb()}function Xi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=VD.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Mw(t):n===3?new Gn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Yu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Yu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=HD.exec(e))?new Gn(t[1],t[2],t[3],1):(t=UD.exec(e))?new Gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=WD.exec(e))?Yu(t[1],t[2],t[3],t[4]):(t=qD.exec(e))?Yu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YD.exec(e))?Lw(t[1],t[2]/100,t[3]/100,1):(t=XD.exec(e))?Lw(t[1],t[2]/100,t[3]/100,t[4]):Iw.hasOwnProperty(e)?Mw(Iw[e]):e==="transparent"?new Gn(NaN,NaN,NaN,0):null}function Mw(e){return new Gn(e>>16&255,e>>8&255,e&255,1)}function Yu(e,t,n,r){return r<=0&&(e=t=n=NaN),new Gn(e,t,n,r)}function QD(e){return e instanceof gc||(e=Xi(e)),e?(e=e.rgb(),new Gn(e.r,e.g,e.b,e.opacity)):new Gn}function Zm(e,t,n,r){return arguments.length===1?QD(e):new Gn(e,t,n,r??1)}function Gn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ox(Gn,Zm,Uk(gc,{brighter(e){return e=e==null?Rd:Math.pow(Rd,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qa:Math.pow(Qa,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gn(Wi(this.r),Wi(this.g),Wi(this.b),Md(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dw,formatHex:Dw,formatHex8:JD,formatRgb:Ow,toString:Ow}));function Dw(){return`#${Vi(this.r)}${Vi(this.g)}${Vi(this.b)}`}function JD(){return`#${Vi(this.r)}${Vi(this.g)}${Vi(this.b)}${Vi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ow(){const e=Md(this.opacity);return`${e===1?"rgb(":"rgba("}${Wi(this.r)}, ${Wi(this.g)}, ${Wi(this.b)}${e===1?")":`, ${e})`}`}function Md(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vi(e){return e=Wi(e),(e<16?"0":"")+e.toString(16)}function Lw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Tr(e,t,n,r)}function Wk(e){if(e instanceof Tr)return new Tr(e.h,e.s,e.l,e.opacity);if(e instanceof gc||(e=Xi(e)),!e)return new Tr;if(e instanceof Tr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),l=NaN,c=i-o,d=(i+o)/2;return c?(t===i?l=(n-r)/c+(n<r)*6:n===i?l=(r-t)/c+2:l=(t-n)/c+4,c/=d<.5?i+o:2-i-o,l*=60):c=d>0&&d<1?0:l,new Tr(l,c,d,e.opacity)}function ZD(e,t,n,r){return arguments.length===1?Wk(e):new Tr(e,t,n,r??1)}function Tr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ox(Tr,ZD,Uk(gc,{brighter(e){return e=e==null?Rd:Math.pow(Rd,e),new Tr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qa:Math.pow(Qa,e),new Tr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Gn(im(e>=240?e-240:e+120,o,r),im(e,o,r),im(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Tr(zw(this.h),Xu(this.s),Xu(this.l),Md(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Md(this.opacity);return`${e===1?"hsl(":"hsla("}${zw(this.h)}, ${Xu(this.s)*100}%, ${Xu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zw(e){return e=(e||0)%360,e<0?e+360:e}function Xu(e){return Math.max(0,Math.min(1,e||0))}function im(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ix=e=>()=>e;function eO(e,t){return function(n){return e+n*t}}function tO(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function nO(e){return(e=+e)==1?qk:function(t,n){return n-t?tO(t,n,e):ix(isNaN(t)?n:t)}}function qk(e,t){var n=t-e;return n?eO(e,n):ix(isNaN(e)?t:e)}const Dd=(function e(t){var n=nO(t);function r(o,i){var l=n((o=Zm(o)).r,(i=Zm(i)).r),c=n(o.g,i.g),d=n(o.b,i.b),f=qk(o.opacity,i.opacity);return function(m){return o.r=l(m),o.g=c(m),o.b=d(m),o.opacity=f(m),o+""}}return r.gamma=e,r})(1);function rO(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function oO(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iO(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),l;for(l=0;l<r;++l)o[l]=La(e[l],t[l]);for(;l<n;++l)i[l]=t[l];return function(c){for(l=0;l<r;++l)i[l]=o[l](c);return i}}function sO(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Kr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function lO(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=La(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var eg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sm=new RegExp(eg.source,"g");function aO(e){return function(){return e}}function cO(e){return function(t){return e(t)+""}}function Yk(e,t){var n=eg.lastIndex=sm.lastIndex=0,r,o,i,l=-1,c=[],d=[];for(e=e+"",t=t+"";(r=eg.exec(e))&&(o=sm.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),c[l]?c[l]+=i:c[++l]=i),(r=r[0])===(o=o[0])?c[l]?c[l]+=o:c[++l]=o:(c[++l]=null,d.push({i:l,x:Kr(r,o)})),n=sm.lastIndex;return n<t.length&&(i=t.slice(n),c[l]?c[l]+=i:c[++l]=i),c.length<2?d[0]?cO(d[0].x):aO(t):(t=d.length,function(f){for(var m=0,p;m<t;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function La(e,t){var n=typeof t,r;return t==null||n==="boolean"?ix(t):(n==="number"?Kr:n==="string"?(r=Xi(t))?(t=r,Dd):Yk:t instanceof Xi?Dd:t instanceof Date?sO:oO(t)?rO:Array.isArray(t)?iO:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lO:Kr)(e,t)}var $w=180/Math.PI,tg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xk(e,t,n,r,o,i){var l,c,d;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(d=e*n+t*r)&&(n-=e*d,r-=t*d),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,d/=c),e*r<t*n&&(e=-e,t=-t,d=-d,l=-l),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*$w,skewX:Math.atan(d)*$w,scaleX:l,scaleY:c}}var Gu;function uO(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?tg:Xk(t.a,t.b,t.c,t.d,t.e,t.f)}function dO(e){return e==null||(Gu||(Gu=document.createElementNS("http://www.w3.org/2000/svg","g")),Gu.setAttribute("transform",e),!(e=Gu.transform.baseVal.consolidate()))?tg:(e=e.matrix,Xk(e.a,e.b,e.c,e.d,e.e,e.f))}function Gk(e,t,n,r){function o(f){return f.length?f.pop()+" ":""}function i(f,m,p,g,x,b){if(f!==p||m!==g){var v=x.push("translate(",null,t,null,n);b.push({i:v-4,x:Kr(f,p)},{i:v-2,x:Kr(m,g)})}else(p||g)&&x.push("translate("+p+t+g+n)}function l(f,m,p,g){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),g.push({i:p.push(o(p)+"rotate(",null,r)-2,x:Kr(f,m)})):m&&p.push(o(p)+"rotate("+m+r)}function c(f,m,p,g){f!==m?g.push({i:p.push(o(p)+"skewX(",null,r)-2,x:Kr(f,m)}):m&&p.push(o(p)+"skewX("+m+r)}function d(f,m,p,g,x,b){if(f!==p||m!==g){var v=x.push(o(x)+"scale(",null,",",null,")");b.push({i:v-4,x:Kr(f,p)},{i:v-2,x:Kr(m,g)})}else(p!==1||g!==1)&&x.push(o(x)+"scale("+p+","+g+")")}return function(f,m){var p=[],g=[];return f=e(f),m=e(m),i(f.translateX,f.translateY,m.translateX,m.translateY,p,g),l(f.rotate,m.rotate,p,g),c(f.skewX,m.skewX,p,g),d(f.scaleX,f.scaleY,m.scaleX,m.scaleY,p,g),f=m=null,function(x){for(var b=-1,v=g.length,w;++b<v;)p[(w=g[b]).i]=w.x(x);return p.join("")}}}var fO=Gk(uO,"px, ","px)","deg)"),pO=Gk(dO,", ",")",")"),hO=1e-12;function Fw(e){return((e=Math.exp(e))+1/e)/2}function mO(e){return((e=Math.exp(e))-1/e)/2}function gO(e){return((e=Math.exp(2*e))-1)/(e+1)}const xd=(function e(t,n,r){function o(i,l){var c=i[0],d=i[1],f=i[2],m=l[0],p=l[1],g=l[2],x=m-c,b=p-d,v=x*x+b*b,w,k;if(v<hO)k=Math.log(g/f)/t,w=function(T){return[c+T*x,d+T*b,f*Math.exp(t*T*k)]};else{var E=Math.sqrt(v),C=(g*g-f*f+r*v)/(2*f*n*E),_=(g*g-f*f-r*v)/(2*g*n*E),R=Math.log(Math.sqrt(C*C+1)-C),P=Math.log(Math.sqrt(_*_+1)-_);k=(P-R)/t,w=function(T){var L=T*k,U=Fw(R),z=f/(n*E)*(U*gO(t*L+R)-mO(R));return[c+z*x,d+z*b,f*U/Fw(t*L+R)]}}return w.duration=k*1e3*t/Math.SQRT2,w}return o.rho=function(i){var l=Math.max(.001,+i),c=l*l,d=c*c;return e(l,c,d)},o})(Math.SQRT2,2,4);var nl=0,Pa=0,ha=0,Kk=1e3,Od,Aa,Ld=0,Gi=0,hf=0,Za=typeof performance=="object"&&performance.now?performance:Date,Qk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function sx(){return Gi||(Qk(xO),Gi=Za.now()+hf)}function xO(){Gi=0}function zd(){this._call=this._time=this._next=null}zd.prototype=Jk.prototype={constructor:zd,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?sx():+n)+(t==null?0:+t),!this._next&&Aa!==this&&(Aa?Aa._next=this:Od=this,Aa=this),this._call=e,this._time=n,ng()},stop:function(){this._call&&(this._call=null,this._time=1/0,ng())}};function Jk(e,t,n){var r=new zd;return r.restart(e,t,n),r}function yO(){sx(),++nl;for(var e=Od,t;e;)(t=Gi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--nl}function Bw(){Gi=(Ld=Za.now())+hf,nl=Pa=0;try{yO()}finally{nl=0,wO(),Gi=0}}function vO(){var e=Za.now(),t=e-Ld;t>Kk&&(hf-=t,Ld=e)}function wO(){for(var e,t=Od,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Od=n);Aa=e,ng(r)}function ng(e){if(!nl){Pa&&(Pa=clearTimeout(Pa));var t=e-Gi;t>24?(e<1/0&&(Pa=setTimeout(Bw,e-Za.now()-hf)),ha&&(ha=clearInterval(ha))):(ha||(Ld=Za.now(),ha=setInterval(vO,Kk)),nl=1,Qk(Bw))}}function Vw(e,t,n){var r=new zd;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var bO=ff("start","end","cancel","interrupt"),SO=[],Zk=0,Hw=1,rg=2,yd=3,Uw=4,og=5,vd=6;function mf(e,t,n,r,o,i){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;kO(e,n,{name:t,index:r,group:o,on:bO,tween:SO,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Zk})}function lx(e,t){var n=$r(e,t);if(n.state>Zk)throw new Error("too late; already scheduled");return n}function ro(e,t){var n=$r(e,t);if(n.state>yd)throw new Error("too late; already running");return n}function $r(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function kO(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Jk(i,0,n.time);function i(f){n.state=Hw,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var m,p,g,x;if(n.state!==Hw)return d();for(m in r)if(x=r[m],x.name===n.name){if(x.state===yd)return Vw(l);x.state===Uw?(x.state=vd,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete r[m]):+m<t&&(x.state=vd,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete r[m])}if(Vw(function(){n.state===yd&&(n.state=Uw,n.timer.restart(c,n.delay,n.time),c(f))}),n.state=rg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===rg){for(n.state=yd,o=new Array(g=n.tween.length),m=0,p=-1;m<g;++m)(x=n.tween[m].value.call(e,e.__data__,n.index,n.group))&&(o[++p]=x);o.length=p+1}}function c(f){for(var m=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=og,1),p=-1,g=o.length;++p<g;)o[p].call(e,m);n.state===og&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=vd,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function wd(e,t){var n=e.__transition,r,o,i=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){i=!1;continue}o=r.state>rg&&r.state<og,r.state=vd,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}i&&delete e.__transition}}function CO(e){return this.each(function(){wd(this,e)})}function NO(e,t){var n,r;return function(){var o=ro(this,e),i=o.tween;if(i!==n){r=n=i;for(var l=0,c=r.length;l<c;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}o.tween=r}}function EO(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=ro(this,e),l=i.tween;if(l!==r){o=(r=l).slice();for(var c={name:t,value:n},d=0,f=o.length;d<f;++d)if(o[d].name===t){o[d]=c;break}d===f&&o.push(c)}i.tween=o}}function jO(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=$r(this.node(),n).tween,o=0,i=r.length,l;o<i;++o)if((l=r[o]).name===e)return l.value;return null}return this.each((t==null?NO:EO)(n,e,t))}function ax(e,t,n){var r=e._id;return e.each(function(){var o=ro(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return $r(o,r).value[t]}}function eC(e,t){var n;return(typeof t=="number"?Kr:t instanceof Xi?Dd:(n=Xi(t))?(t=n,Dd):Yk)(e,t)}function _O(e){return function(){this.removeAttribute(e)}}function PO(e){return function(){this.removeAttributeNS(e.space,e.local)}}function AO(e,t,n){var r,o=n+"",i;return function(){var l=this.getAttribute(e);return l===o?null:l===r?i:i=t(r=l,n)}}function IO(e,t,n){var r,o=n+"",i;return function(){var l=this.getAttributeNS(e.space,e.local);return l===o?null:l===r?i:i=t(r=l,n)}}function TO(e,t,n){var r,o,i;return function(){var l,c=n(this),d;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=c+"",l===d?null:l===r&&d===o?i:(o=d,i=t(r=l,c)))}}function RO(e,t,n){var r,o,i;return function(){var l,c=n(this),d;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=c+"",l===d?null:l===r&&d===o?i:(o=d,i=t(r=l,c)))}}function MO(e,t){var n=pf(e),r=n==="transform"?pO:eC;return this.attrTween(e,typeof t=="function"?(n.local?RO:TO)(n,r,ax(this,"attr."+e,t)):t==null?(n.local?PO:_O)(n):(n.local?IO:AO)(n,r,t))}function DO(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function OO(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function LO(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&OO(e,i)),n}return o._value=t,o}function zO(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&DO(e,i)),n}return o._value=t,o}function $O(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=pf(e);return this.tween(n,(r.local?LO:zO)(r,t))}function FO(e,t){return function(){lx(this,e).delay=+t.apply(this,arguments)}}function BO(e,t){return t=+t,function(){lx(this,e).delay=t}}function VO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?FO:BO)(t,e)):$r(this.node(),t).delay}function HO(e,t){return function(){ro(this,e).duration=+t.apply(this,arguments)}}function UO(e,t){return t=+t,function(){ro(this,e).duration=t}}function WO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?HO:UO)(t,e)):$r(this.node(),t).duration}function qO(e,t){if(typeof t!="function")throw new Error;return function(){ro(this,e).ease=t}}function YO(e){var t=this._id;return arguments.length?this.each(qO(t,e)):$r(this.node(),t).ease}function XO(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ro(this,e).ease=n}}function GO(e){if(typeof e!="function")throw new Error;return this.each(XO(this._id,e))}function KO(e){typeof e!="function"&&(e=Ik(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],l=i.length,c=r[o]=[],d,f=0;f<l;++f)(d=i[f])&&e.call(d,d.__data__,f,i)&&c.push(d);return new No(r,this._parents,this._name,this._id)}function QO(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),l=new Array(r),c=0;c<i;++c)for(var d=t[c],f=n[c],m=d.length,p=l[c]=new Array(m),g,x=0;x<m;++x)(g=d[x]||f[x])&&(p[x]=g);for(;c<r;++c)l[c]=t[c];return new No(l,this._parents,this._name,this._id)}function JO(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function ZO(e,t,n){var r,o,i=JO(t)?lx:ro;return function(){var l=i(this,e),c=l.on;c!==r&&(o=(r=c).copy()).on(t,n),l.on=o}}function eL(e,t){var n=this._id;return arguments.length<2?$r(this.node(),n).on.on(e):this.each(ZO(n,e,t))}function tL(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function nL(){return this.on("end.remove",tL(this._id))}function rL(e){var t=this._name,n=this._id;typeof e!="function"&&(e=nx(e));for(var r=this._groups,o=r.length,i=new Array(o),l=0;l<o;++l)for(var c=r[l],d=c.length,f=i[l]=new Array(d),m,p,g=0;g<d;++g)(m=c[g])&&(p=e.call(m,m.__data__,g,c))&&("__data__"in m&&(p.__data__=m.__data__),f[g]=p,mf(f[g],t,n,g,f,$r(m,n)));return new No(i,this._parents,t,n)}function oL(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ak(e));for(var r=this._groups,o=r.length,i=[],l=[],c=0;c<o;++c)for(var d=r[c],f=d.length,m,p=0;p<f;++p)if(m=d[p]){for(var g=e.call(m,m.__data__,p,d),x,b=$r(m,n),v=0,w=g.length;v<w;++v)(x=g[v])&&mf(x,t,n,v,g,b);i.push(g),l.push(m)}return new No(i,l,t,n)}var iL=mc.prototype.constructor;function sL(){return new iL(this._groups,this._parents)}function lL(e,t){var n,r,o;return function(){var i=tl(this,e),l=(this.style.removeProperty(e),tl(this,e));return i===l?null:i===n&&l===r?o:o=t(n=i,r=l)}}function tC(e){return function(){this.style.removeProperty(e)}}function aL(e,t,n){var r,o=n+"",i;return function(){var l=tl(this,e);return l===o?null:l===r?i:i=t(r=l,n)}}function cL(e,t,n){var r,o,i;return function(){var l=tl(this,e),c=n(this),d=c+"";return c==null&&(d=c=(this.style.removeProperty(e),tl(this,e))),l===d?null:l===r&&d===o?i:(o=d,i=t(r=l,c))}}function uL(e,t){var n,r,o,i="style."+t,l="end."+i,c;return function(){var d=ro(this,e),f=d.on,m=d.value[i]==null?c||(c=tC(t)):void 0;(f!==n||o!==m)&&(r=(n=f).copy()).on(l,o=m),d.on=r}}function dL(e,t,n){var r=(e+="")=="transform"?fO:eC;return t==null?this.styleTween(e,lL(e,r)).on("end.style."+e,tC(e)):typeof t=="function"?this.styleTween(e,cL(e,r,ax(this,"style."+e,t))).each(uL(this._id,e)):this.styleTween(e,aL(e,r,t),n).on("end.style."+e,null)}function fL(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function pL(e,t,n){var r,o;function i(){var l=t.apply(this,arguments);return l!==o&&(r=(o=l)&&fL(e,l,n)),r}return i._value=t,i}function hL(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,pL(e,t,n??""))}function mL(e){return function(){this.textContent=e}}function gL(e){return function(){var t=e(this);this.textContent=t??""}}function xL(e){return this.tween("text",typeof e=="function"?gL(ax(this,"text",e)):mL(e==null?"":e+""))}function yL(e){return function(t){this.textContent=e.call(this,t)}}function vL(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&yL(o)),t}return r._value=e,r}function wL(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,vL(e))}function bL(){for(var e=this._name,t=this._id,n=nC(),r=this._groups,o=r.length,i=0;i<o;++i)for(var l=r[i],c=l.length,d,f=0;f<c;++f)if(d=l[f]){var m=$r(d,t);mf(d,e,n,f,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new No(r,this._parents,e,n)}function SL(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,l){var c={value:l},d={value:function(){--o===0&&i()}};n.each(function(){var f=ro(this,r),m=f.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(d)),f.on=t}),o===0&&i()})}var kL=0;function No(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function nC(){return++kL}var vo=mc.prototype;No.prototype={constructor:No,select:rL,selectAll:oL,selectChild:vo.selectChild,selectChildren:vo.selectChildren,filter:KO,merge:QO,selection:sL,transition:bL,call:vo.call,nodes:vo.nodes,node:vo.node,size:vo.size,empty:vo.empty,each:vo.each,on:eL,attr:MO,attrTween:$O,style:dL,styleTween:hL,text:xL,textTween:wL,remove:nL,tween:jO,delay:VO,duration:WO,ease:YO,easeVarying:GO,end:SL,[Symbol.iterator]:vo[Symbol.iterator]};function CL(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var NL={time:null,delay:0,duration:250,ease:CL};function EL(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function jL(e){var t,n;e instanceof No?(t=e._id,e=e._name):(t=nC(),(n=NL).time=sx(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var l=r[i],c=l.length,d,f=0;f<c;++f)(d=l[f])&&mf(d,e,t,f,l,n||EL(d,t));return new No(r,this._parents,e,t)}mc.prototype.interrupt=CO;mc.prototype.transition=jL;const Ku=e=>()=>e;function _L(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function ko(e,t,n){this.k=e,this.x=t,this.y=n}ko.prototype={constructor:ko,scale:function(e){return e===1?this:new ko(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ko(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var gf=new ko(1,0,0);rC.prototype=ko.prototype;function rC(e){for(;!e.__zoom;)if(!(e=e.parentNode))return gf;return e.__zoom}function lm(e){e.stopImmediatePropagation()}function ma(e){e.preventDefault(),e.stopImmediatePropagation()}function PL(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function AL(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ww(){return this.__zoom||gf}function IL(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function TL(){return navigator.maxTouchPoints||"ontouchstart"in this}function RL(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l))}function oC(){var e=PL,t=AL,n=RL,r=IL,o=TL,i=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,d=xd,f=ff("start","zoom","end"),m,p,g,x=500,b=150,v=0,w=10;function k(A){A.property("__zoom",Ww).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",U).on("dblclick.zoom",z).filter(o).on("touchstart.zoom",B).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(A,O,F,X){var D=A.selection?A.selection():A;D.property("__zoom",Ww),A!==D?R(A,O,F,X):D.interrupt().each(function(){P(this,arguments).event(X).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},k.scaleBy=function(A,O,F,X){k.scaleTo(A,function(){var D=this.__zoom.k,W=typeof O=="function"?O.apply(this,arguments):O;return D*W},F,X)},k.scaleTo=function(A,O,F,X){k.transform(A,function(){var D=t.apply(this,arguments),W=this.__zoom,M=F==null?_(D):typeof F=="function"?F.apply(this,arguments):F,H=W.invert(M),Y=typeof O=="function"?O.apply(this,arguments):O;return n(C(E(W,Y),M,H),D,l)},F,X)},k.translateBy=function(A,O,F,X){k.transform(A,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof F=="function"?F.apply(this,arguments):F),t.apply(this,arguments),l)},null,X)},k.translateTo=function(A,O,F,X,D){k.transform(A,function(){var W=t.apply(this,arguments),M=this.__zoom,H=X==null?_(W):typeof X=="function"?X.apply(this,arguments):X;return n(gf.translate(H[0],H[1]).scale(M.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof F=="function"?-F.apply(this,arguments):-F),W,l)},X,D)};function E(A,O){return O=Math.max(i[0],Math.min(i[1],O)),O===A.k?A:new ko(O,A.x,A.y)}function C(A,O,F){var X=O[0]-F[0]*A.k,D=O[1]-F[1]*A.k;return X===A.x&&D===A.y?A:new ko(A.k,X,D)}function _(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function R(A,O,F,X){A.on("start.zoom",function(){P(this,arguments).event(X).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(X).end()}).tween("zoom",function(){var D=this,W=arguments,M=P(D,W).event(X),H=t.apply(D,W),Y=F==null?_(H):typeof F=="function"?F.apply(D,W):F,I=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),V=D.__zoom,Z=typeof O=="function"?O.apply(D,W):O,J=d(V.invert(Y).concat(I/V.k),Z.invert(Y).concat(I/Z.k));return function(K){if(K===1)K=Z;else{var te=J(K),Q=I/te[2];K=new ko(Q,Y[0]-te[0]*Q,Y[1]-te[1]*Q)}M.zoom(null,K)}})}function P(A,O,F){return!F&&A.__zooming||new T(A,O)}function T(A,O){this.that=A,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,O),this.taps=0}T.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,O){return this.mouse&&A!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var O=lr(this.that).datum();f.call(A,this.that,new _L(A,{sourceEvent:this.sourceEvent,target:k,transform:this.that.__zoom,dispatch:f}),O)}};function L(A,...O){if(!e.apply(this,arguments))return;var F=P(this,O).event(A),X=this.__zoom,D=Math.max(i[0],Math.min(i[1],X.k*Math.pow(2,r.apply(this,arguments)))),W=Ir(A);if(F.wheel)(F.mouse[0][0]!==W[0]||F.mouse[0][1]!==W[1])&&(F.mouse[1]=X.invert(F.mouse[0]=W)),clearTimeout(F.wheel);else{if(X.k===D)return;F.mouse=[W,X.invert(W)],wd(this),F.start()}ma(A),F.wheel=setTimeout(M,b),F.zoom("mouse",n(C(E(X,D),F.mouse[0],F.mouse[1]),F.extent,l));function M(){F.wheel=null,F.end()}}function U(A,...O){if(g||!e.apply(this,arguments))return;var F=A.currentTarget,X=P(this,O,!0).event(A),D=lr(A.view).on("mousemove.zoom",Y,!0).on("mouseup.zoom",I,!0),W=Ir(A,F),M=A.clientX,H=A.clientY;Bk(A.view),lm(A),X.mouse=[W,this.__zoom.invert(W)],wd(this),X.start();function Y(V){if(ma(V),!X.moved){var Z=V.clientX-M,J=V.clientY-H;X.moved=Z*Z+J*J>v}X.event(V).zoom("mouse",n(C(X.that.__zoom,X.mouse[0]=Ir(V,F),X.mouse[1]),X.extent,l))}function I(V){D.on("mousemove.zoom mouseup.zoom",null),Vk(V.view,X.moved),ma(V),X.event(V).end()}}function z(A,...O){if(e.apply(this,arguments)){var F=this.__zoom,X=Ir(A.changedTouches?A.changedTouches[0]:A,this),D=F.invert(X),W=F.k*(A.shiftKey?.5:2),M=n(C(E(F,W),X,D),t.apply(this,O),l);ma(A),c>0?lr(this).transition().duration(c).call(R,M,X,A):lr(this).call(k.transform,M,X,A)}}function B(A,...O){if(e.apply(this,arguments)){var F=A.touches,X=F.length,D=P(this,O,A.changedTouches.length===X).event(A),W,M,H,Y;for(lm(A),M=0;M<X;++M)H=F[M],Y=Ir(H,this),Y=[Y,this.__zoom.invert(Y),H.identifier],D.touch0?!D.touch1&&D.touch0[2]!==Y[2]&&(D.touch1=Y,D.taps=0):(D.touch0=Y,W=!0,D.taps=1+!!m);m&&(m=clearTimeout(m)),W&&(D.taps<2&&(p=Y[0],m=setTimeout(function(){m=null},x)),wd(this),D.start())}}function q(A,...O){if(this.__zooming){var F=P(this,O).event(A),X=A.changedTouches,D=X.length,W,M,H,Y;for(ma(A),W=0;W<D;++W)M=X[W],H=Ir(M,this),F.touch0&&F.touch0[2]===M.identifier?F.touch0[0]=H:F.touch1&&F.touch1[2]===M.identifier&&(F.touch1[0]=H);if(M=F.that.__zoom,F.touch1){var I=F.touch0[0],V=F.touch0[1],Z=F.touch1[0],J=F.touch1[1],K=(K=Z[0]-I[0])*K+(K=Z[1]-I[1])*K,te=(te=J[0]-V[0])*te+(te=J[1]-V[1])*te;M=E(M,Math.sqrt(K/te)),H=[(I[0]+Z[0])/2,(I[1]+Z[1])/2],Y=[(V[0]+J[0])/2,(V[1]+J[1])/2]}else if(F.touch0)H=F.touch0[0],Y=F.touch0[1];else return;F.zoom("touch",n(C(M,H,Y),F.extent,l))}}function G(A,...O){if(this.__zooming){var F=P(this,O).event(A),X=A.changedTouches,D=X.length,W,M;for(lm(A),g&&clearTimeout(g),g=setTimeout(function(){g=null},x),W=0;W<D;++W)M=X[W],F.touch0&&F.touch0[2]===M.identifier?delete F.touch0:F.touch1&&F.touch1[2]===M.identifier&&delete F.touch1;if(F.touch1&&!F.touch0&&(F.touch0=F.touch1,delete F.touch1),F.touch0)F.touch0[1]=this.__zoom.invert(F.touch0[0]);else if(F.end(),F.taps===2&&(M=Ir(M,this),Math.hypot(p[0]-M[0],p[1]-M[1])<w)){var H=lr(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return k.wheelDelta=function(A){return arguments.length?(r=typeof A=="function"?A:Ku(+A),k):r},k.filter=function(A){return arguments.length?(e=typeof A=="function"?A:Ku(!!A),k):e},k.touchable=function(A){return arguments.length?(o=typeof A=="function"?A:Ku(!!A),k):o},k.extent=function(A){return arguments.length?(t=typeof A=="function"?A:Ku([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),k):t},k.scaleExtent=function(A){return arguments.length?(i[0]=+A[0],i[1]=+A[1],k):[i[0],i[1]]},k.translateExtent=function(A){return arguments.length?(l[0][0]=+A[0][0],l[1][0]=+A[1][0],l[0][1]=+A[0][1],l[1][1]=+A[1][1],k):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},k.constrain=function(A){return arguments.length?(n=A,k):n},k.duration=function(A){return arguments.length?(c=+A,k):c},k.interpolate=function(A){return arguments.length?(d=A,k):d},k.on=function(){var A=f.on.apply(f,arguments);return A===f?k:A},k.clickDistance=function(A){return arguments.length?(v=(A=+A)*A,k):Math.sqrt(v)},k.tapDistance=function(A){return arguments.length?(w=+A,k):w},k}const to={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},ec=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],iC=["Enter"," ","Escape"],sC={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var rl;(function(e){e.Strict="strict",e.Loose="loose"})(rl||(rl={}));var qi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(qi||(qi={}));var tc;(function(e){e.Partial="partial",e.Full="full"})(tc||(tc={}));const lC={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ri;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ri||(ri={}));var nc;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(nc||(nc={}));var Ie;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ie||(Ie={}));const qw={[Ie.Left]:Ie.Right,[Ie.Right]:Ie.Left,[Ie.Top]:Ie.Bottom,[Ie.Bottom]:Ie.Top};function aC(e){return e===null?null:e?"valid":"invalid"}const cC=e=>"id"in e&&"source"in e&&"target"in e,ML=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),cx=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),xc=(e,t=[0,0])=>{const{width:n,height:r}=_o(e),o=e.origin??t,i=n*o[0],l=r*o[1];return{x:e.position.x-i,y:e.position.y-l}},DL=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let l=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(l=i?t.nodeLookup.get(o):cx(o)?o:t.nodeLookup.get(o.id));const c=l?$d(l,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return xf(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return yf(n)},yc=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=xf(n,$d(o)),r=!0)}),r?yf(n):{x:0,y:0,width:0,height:0}},ux=(e,t,[n,r,o]=[0,0,1],i=!1,l=!1)=>{const c={...wc(t,[n,r,o]),width:t.width/o,height:t.height/o},d=[];for(const f of e.values()){const{measured:m,selectable:p=!0,hidden:g=!1}=f;if(l&&!p||g)continue;const x=m.width??f.width??f.initialWidth??null,b=m.height??f.height??f.initialHeight??null,v=rc(c,il(f)),w=(x??0)*(b??0),k=i&&v>0;(!f.internals.handleBounds||k||v>=w||f.dragging)&&d.push(f)}return d},OL=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function LL(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function zL({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},l){if(e.size===0)return Promise.resolve(!0);const c=LL(e,l),d=yc(c),f=dx(d,t,n,(l==null?void 0:l.minZoom)??o,(l==null?void 0:l.maxZoom)??i,(l==null?void 0:l.padding)??.1);return await r.setViewport(f,{duration:l==null?void 0:l.duration,ease:l==null?void 0:l.ease,interpolate:l==null?void 0:l.interpolate}),Promise.resolve(!0)}function uC({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const l=n.get(e),c=l.parentId?n.get(l.parentId):void 0,{x:d,y:f}=c?c.internals.positionAbsolute:{x:0,y:0},m=l.origin??r;let p=l.extent||o;if(l.extent==="parent"&&!l.expandParent)if(!c)i==null||i("005",to.error005());else{const x=c.measured.width,b=c.measured.height;x&&b&&(p=[[d,f],[d+x,f+b]])}else c&&sl(l.extent)&&(p=[[l.extent[0][0]+d,l.extent[0][1]+f],[l.extent[1][0]+d,l.extent[1][1]+f]]);const g=sl(p)?Ki(t,p,l.measured):t;return(l.measured.width===void 0||l.measured.height===void 0)&&(i==null||i("015",to.error015())),{position:{x:g.x-d+(l.measured.width??0)*m[0],y:g.y-f+(l.measured.height??0)*m[1]},positionAbsolute:g}}async function $L({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(g=>g.id)),l=[];for(const g of n){if(g.deletable===!1)continue;const x=i.has(g.id),b=!x&&g.parentId&&l.find(v=>v.id===g.parentId);(x||b)&&l.push(g)}const c=new Set(t.map(g=>g.id)),d=r.filter(g=>g.deletable!==!1),m=OL(l,d);for(const g of d)c.has(g.id)&&!m.find(b=>b.id===g.id)&&m.push(g);if(!o)return{edges:m,nodes:l};const p=await o({nodes:l,edges:m});return typeof p=="boolean"?p?{edges:m,nodes:l}:{edges:[],nodes:[]}:p}const ol=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ki=(e={x:0,y:0},t,n)=>({x:ol(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:ol(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function dC(e,t,n){const{width:r,height:o}=_o(n),{x:i,y:l}=n.internals.positionAbsolute;return Ki(e,[[i,l],[i+r,l+o]],t)}const Yw=(e,t,n)=>e<t?ol(Math.abs(e-t),1,t)/t:e>n?-ol(Math.abs(e-n),1,t)/t:0,fC=(e,t,n=15,r=40)=>{const o=Yw(e.x,r,t.width-r)*n,i=Yw(e.y,r,t.height-r)*n;return[o,i]},xf=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ig=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),yf=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),il=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=cx(e)?e.internals.positionAbsolute:xc(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},$d=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=cx(e)?e.internals.positionAbsolute:xc(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},pC=(e,t)=>yf(xf(ig(e),ig(t))),rc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Xw=e=>Rr(e.width)&&Rr(e.height)&&Rr(e.x)&&Rr(e.y),Rr=e=>!isNaN(e)&&isFinite(e),FL=(e,t)=>{},vc=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),wc=({x:e,y:t},[n,r,o],i=!1,l=[1,1])=>{const c={x:(e-n)/o,y:(t-r)/o};return i?vc(c,l):c},Fd=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function Ms(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function BL(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Ms(e,n),o=Ms(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=Ms(e.top??e.y??0,n),o=Ms(e.bottom??e.y??0,n),i=Ms(e.left??e.x??0,t),l=Ms(e.right??e.x??0,t);return{top:r,right:l,bottom:o,left:i,x:i+l,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function VL(e,t,n,r,o,i){const{x:l,y:c}=Fd(e,[t,n,r]),{x:d,y:f}=Fd({x:e.x+e.width,y:e.y+e.height},[t,n,r]),m=o-d,p=i-f;return{left:Math.floor(l),top:Math.floor(c),right:Math.floor(m),bottom:Math.floor(p)}}const dx=(e,t,n,r,o,i)=>{const l=BL(i,t,n),c=(t-l.x)/e.width,d=(n-l.y)/e.height,f=Math.min(c,d),m=ol(f,r,o),p=e.x+e.width/2,g=e.y+e.height/2,x=t/2-p*m,b=n/2-g*m,v=VL(e,x,b,m,t,n),w={left:Math.min(v.left-l.left,0),top:Math.min(v.top-l.top,0),right:Math.min(v.right-l.right,0),bottom:Math.min(v.bottom-l.bottom,0)};return{x:x-w.left+w.right,y:b-w.top+w.bottom,zoom:m}},oc=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function sl(e){return e!=null&&e!=="parent"}function _o(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function fx(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function hC(e,t={width:0,height:0},n,r,o){const i={...e},l=r.get(n);if(l){const c=l.origin||o;i.x+=l.internals.positionAbsolute.x-(t.width??0)*c[0],i.y+=l.internals.positionAbsolute.y-(t.height??0)*c[1]}return i}function Gw(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function HL(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function UL(e){return{...sC,...e||{}}}function za(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:l}=Mr(e),c=wc({x:i-((o==null?void 0:o.left)??0),y:l-((o==null?void 0:o.top)??0)},r),{x:d,y:f}=n?vc(c,t):c;return{xSnapped:d,ySnapped:f,...c}}const px=e=>({width:e.offsetWidth,height:e.offsetHeight}),mC=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},WL=["INPUT","SELECT","TEXTAREA"];function gC(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:WL.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const xC=e=>"clientX"in e,Mr=(e,t)=>{var i,l;const n=xC(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Kw=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:e,nodeId:o,position:l.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...px(l)}})};function yC({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:l,targetControlY:c}){const d=e*.125+o*.375+l*.375+n*.125,f=t*.125+i*.375+c*.375+r*.125,m=Math.abs(d-e),p=Math.abs(f-t);return[d,f,m,p]}function Qu(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Qw({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case Ie.Left:return[t-Qu(t-r,i),n];case Ie.Right:return[t+Qu(r-t,i),n];case Ie.Top:return[t,n-Qu(n-o,i)];case Ie.Bottom:return[t,n+Qu(o-n,i)]}}function vC({sourceX:e,sourceY:t,sourcePosition:n=Ie.Bottom,targetX:r,targetY:o,targetPosition:i=Ie.Top,curvature:l=.25}){const[c,d]=Qw({pos:n,x1:e,y1:t,x2:r,y2:o,c:l}),[f,m]=Qw({pos:i,x1:r,y1:o,x2:e,y2:t,c:l}),[p,g,x,b]=yC({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:c,sourceControlY:d,targetControlX:f,targetControlY:m});return[`M${e},${t} C${c},${d} ${f},${m} ${r},${o}`,p,g,x,b]}function wC({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,l=Math.abs(r-t)/2,c=r<t?r+l:r-l;return[i,c,o,l]}function qL({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const l=o&&n?r+1e3:r,c=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return l+c}function YL({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=xf($d(e),$d(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const l={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return rc(l,yf(i))>0}const XL=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,GL=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),KL=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||XL;let o;return cC(e)?o={...e}:o={...e,id:r(e)},GL(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function hx({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,l,c]=wC({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,l,c]}const Jw={[Ie.Left]:{x:-1,y:0},[Ie.Right]:{x:1,y:0},[Ie.Top]:{x:0,y:-1},[Ie.Bottom]:{x:0,y:1}},QL=({source:e,sourcePosition:t=Ie.Bottom,target:n})=>t===Ie.Left||t===Ie.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Zw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function JL({source:e,sourcePosition:t=Ie.Bottom,target:n,targetPosition:r=Ie.Top,center:o,offset:i,stepPosition:l}){const c=Jw[t],d=Jw[r],f={x:e.x+c.x*i,y:e.y+c.y*i},m={x:n.x+d.x*i,y:n.y+d.y*i},p=QL({source:f,sourcePosition:t,target:m}),g=p.x!==0?"x":"y",x=p[g];let b=[],v,w;const k={x:0,y:0},E={x:0,y:0},[,,C,_]=wC({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(c[g]*d[g]===-1){g==="x"?(v=o.x??f.x+(m.x-f.x)*l,w=o.y??(f.y+m.y)/2):(v=o.x??(f.x+m.x)/2,w=o.y??f.y+(m.y-f.y)*l);const P=[{x:v,y:f.y},{x:v,y:m.y}],T=[{x:f.x,y:w},{x:m.x,y:w}];c[g]===x?b=g==="x"?P:T:b=g==="x"?T:P}else{const P=[{x:f.x,y:m.y}],T=[{x:m.x,y:f.y}];if(g==="x"?b=c.x===x?T:P:b=c.y===x?P:T,t===r){const q=Math.abs(e[g]-n[g]);if(q<=i){const G=Math.min(i-1,i-q);c[g]===x?k[g]=(f[g]>e[g]?-1:1)*G:E[g]=(m[g]>n[g]?-1:1)*G}}if(t!==r){const q=g==="x"?"y":"x",G=c[g]===d[q],A=f[q]>m[q],O=f[q]<m[q];(c[g]===1&&(!G&&A||G&&O)||c[g]!==1&&(!G&&O||G&&A))&&(b=g==="x"?P:T)}const L={x:f.x+k.x,y:f.y+k.y},U={x:m.x+E.x,y:m.y+E.y},z=Math.max(Math.abs(L.x-b[0].x),Math.abs(U.x-b[0].x)),B=Math.max(Math.abs(L.y-b[0].y),Math.abs(U.y-b[0].y));z>=B?(v=(L.x+U.x)/2,w=b[0].y):(v=b[0].x,w=(L.y+U.y)/2)}return[[e,{x:f.x+k.x,y:f.y+k.y},...b,{x:m.x+E.x,y:m.y+E.y},n],v,w,C,_]}function ZL(e,t,n,r){const o=Math.min(Zw(e,t)/2,Zw(t,n)/2,r),{x:i,y:l}=t;if(e.x===i&&i===n.x||e.y===l&&l===n.y)return`L${i} ${l}`;if(e.y===l){const f=e.x<n.x?-1:1,m=e.y<n.y?1:-1;return`L ${i+o*f},${l}Q ${i},${l} ${i},${l+o*m}`}const c=e.x<n.x?1:-1,d=e.y<n.y?-1:1;return`L ${i},${l+o*d}Q ${i},${l} ${i+o*c},${l}`}function sg({sourceX:e,sourceY:t,sourcePosition:n=Ie.Bottom,targetX:r,targetY:o,targetPosition:i=Ie.Top,borderRadius:l=5,centerX:c,centerY:d,offset:f=20,stepPosition:m=.5}){const[p,g,x,b,v]=JL({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:c,y:d},offset:f,stepPosition:m});return[p.reduce((k,E,C)=>{let _="";return C>0&&C<p.length-1?_=ZL(p[C-1],E,p[C+1],l):_=`${C===0?"M":"L"}${E.x} ${E.y}`,k+=_,k},""),g,x,b,v]}function eb(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function ez(e){var p;const{sourceNode:t,targetNode:n}=e;if(!eb(t)||!eb(n))return null;const r=t.internals.handleBounds||tb(t.handles),o=n.internals.handleBounds||tb(n.handles),i=nb((r==null?void 0:r.source)??[],e.sourceHandle),l=nb(e.connectionMode===rl.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!l)return(p=e.onError)==null||p.call(e,"008",to.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const c=(i==null?void 0:i.position)||Ie.Bottom,d=(l==null?void 0:l.position)||Ie.Top,f=Qi(t,i,c),m=Qi(n,l,d);return{sourceX:f.x,sourceY:f.y,targetX:m.x,targetY:m.y,sourcePosition:c,targetPosition:d}}function tb(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Qi(e,t,n=Ie.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:l,height:c}=t??_o(e);if(r)return{x:o+l/2,y:i+c/2};switch((t==null?void 0:t.position)??n){case Ie.Top:return{x:o+l/2,y:i};case Ie.Right:return{x:o+l,y:i+c/2};case Ie.Bottom:return{x:o+l/2,y:i+c};case Ie.Left:return{x:o,y:i+c/2}}}function nb(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function lg(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function tz(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((l,c)=>([c.markerStart||r,c.markerEnd||o].forEach(d=>{if(d&&typeof d=="object"){const f=lg(d,t);i.has(f)||(l.push({id:f,color:d.color||n,...d}),i.add(f))}}),l),[]).sort((l,c)=>l.id.localeCompare(c.id))}const bC=1e3,nz=10,mx={nodeOrigin:[0,0],nodeExtent:ec,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},rz={...mx,checkEquality:!0};function gx(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function oz(e,t,n){const r=gx(mx,n);for(const o of e.values())if(o.parentId)yx(o,e,t,r);else{const i=xc(o,r.nodeOrigin),l=sl(o.extent)?o.extent:r.nodeExtent,c=Ki(i,l,_o(o));o.internals.positionAbsolute=c}}function iz(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const i={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(i):o.type==="target"&&r.push(i)}return{source:n,target:r}}function xx(e){return e==="manual"}function ag(e,t,n,r={}){var f,m;const o=gx(rz,r),i={i:0},l=new Map(t),c=o!=null&&o.elevateNodesOnSelect&&!xx(o.zIndexMode)?bC:0;let d=e.length>0;t.clear(),n.clear();for(const p of e){let g=l.get(p.id);if(o.checkEquality&&p===(g==null?void 0:g.internals.userNode))t.set(p.id,g);else{const x=xc(p,o.nodeOrigin),b=sl(p.extent)?p.extent:o.nodeExtent,v=Ki(x,b,_o(p));g={...o.defaults,...p,measured:{width:(f=p.measured)==null?void 0:f.width,height:(m=p.measured)==null?void 0:m.height},internals:{positionAbsolute:v,handleBounds:iz(p,g),z:SC(p,c,o.zIndexMode),userNode:p}},t.set(p.id,g)}(g.measured===void 0||g.measured.width===void 0||g.measured.height===void 0)&&!g.hidden&&(d=!1),p.parentId&&yx(g,t,n,r,i)}return d}function sz(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function yx(e,t,n,r,o){const{elevateNodesOnSelect:i,nodeOrigin:l,nodeExtent:c,zIndexMode:d}=gx(mx,r),f=e.parentId,m=t.get(f);if(!m){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}sz(e,n),o&&!m.parentId&&m.internals.rootParentIndex===void 0&&d==="auto"&&(m.internals.rootParentIndex=++o.i,m.internals.z=m.internals.z+o.i*nz),o&&m.internals.rootParentIndex!==void 0&&(o.i=m.internals.rootParentIndex);const p=i&&!xx(d)?bC:0,{x:g,y:x,z:b}=lz(e,m,l,c,p,d),{positionAbsolute:v}=e.internals,w=g!==v.x||x!==v.y;(w||b!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:w?{x:g,y:x}:v,z:b}})}function SC(e,t,n){const r=Rr(e.zIndex)?e.zIndex:0;return xx(n)?r:r+(e.selected?t:0)}function lz(e,t,n,r,o,i){const{x:l,y:c}=t.internals.positionAbsolute,d=_o(e),f=xc(e,n),m=sl(e.extent)?Ki(f,e.extent,d):f;let p=Ki({x:l+m.x,y:c+m.y},r,d);e.extent==="parent"&&(p=dC(p,d,t));const g=SC(e,o,i),x=t.internals.z??0;return{x:p.x,y:p.y,z:x>=g?x+1:g}}function vx(e,t,n,r=[0,0]){var l;const o=[],i=new Map;for(const c of e){const d=t.get(c.parentId);if(!d)continue;const f=((l=i.get(c.parentId))==null?void 0:l.expandedRect)??il(d),m=pC(f,c.rect);i.set(c.parentId,{expandedRect:m,parent:d})}return i.size>0&&i.forEach(({expandedRect:c,parent:d},f)=>{var C;const m=d.internals.positionAbsolute,p=_o(d),g=d.origin??r,x=c.x<m.x?Math.round(Math.abs(m.x-c.x)):0,b=c.y<m.y?Math.round(Math.abs(m.y-c.y)):0,v=Math.max(p.width,Math.round(c.width)),w=Math.max(p.height,Math.round(c.height)),k=(v-p.width)*g[0],E=(w-p.height)*g[1];(x>0||b>0||k||E)&&(o.push({id:f,type:"position",position:{x:d.position.x-x+k,y:d.position.y-b+E}}),(C=n.get(f))==null||C.forEach(_=>{e.some(R=>R.id===_.id)||o.push({id:_.id,type:"position",position:{x:_.position.x+x,y:_.position.y+b}})})),(p.width<c.width||p.height<c.height||x||b)&&o.push({id:f,type:"dimensions",setAttributes:!0,dimensions:{width:v+(x?g[0]*x-k:0),height:w+(b?g[1]*b-E:0)}})}),o}function az(e,t,n,r,o,i,l){const c=r==null?void 0:r.querySelector(".xyflow__viewport");let d=!1;if(!c)return{changes:[],updatedInternals:d};const f=[],m=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(m.transform),g=[];for(const x of e.values()){const b=t.get(x.id);if(!b)continue;if(b.hidden){t.set(b.id,{...b,internals:{...b.internals,handleBounds:void 0}}),d=!0;continue}const v=px(x.nodeElement),w=b.measured.width!==v.width||b.measured.height!==v.height;if(!!(v.width&&v.height&&(w||!b.internals.handleBounds||x.force))){const E=x.nodeElement.getBoundingClientRect(),C=sl(b.extent)?b.extent:i;let{positionAbsolute:_}=b.internals;b.parentId&&b.extent==="parent"?_=dC(_,v,t.get(b.parentId)):C&&(_=Ki(_,C,v));const R={...b,measured:v,internals:{...b.internals,positionAbsolute:_,handleBounds:{source:Kw("source",x.nodeElement,E,p,b.id),target:Kw("target",x.nodeElement,E,p,b.id)}}};t.set(b.id,R),b.parentId&&yx(R,t,n,{nodeOrigin:o,zIndexMode:l}),d=!0,w&&(f.push({id:b.id,type:"dimensions",dimensions:v}),b.expandParent&&b.parentId&&g.push({id:b.id,parentId:b.parentId,rect:il(R,o)}))}}if(g.length>0){const x=vx(g,t,n,o);f.push(...x)}return{changes:f,updatedInternals:d}}async function cz({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const l=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),c=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(c)}function rb(e,t,n,r,o,i){let l=o;const c=r.get(l)||new Map;r.set(l,c.set(n,t)),l=`${o}-${e}`;const d=r.get(l)||new Map;if(r.set(l,d.set(n,t)),i){l=`${o}-${e}-${i}`;const f=r.get(l)||new Map;r.set(l,f.set(n,t))}}function kC(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:l=null,targetHandle:c=null}=r,d={edgeId:r.id,source:o,target:i,sourceHandle:l,targetHandle:c},f=`${o}-${l}--${i}-${c}`,m=`${i}-${c}--${o}-${l}`;rb("source",d,m,e,o,l),rb("target",d,f,e,i,c),t.set(r.id,r)}}function CC(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:CC(n,t):!1}function ob(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function uz(e,t,n,r){const o=new Map;for(const[i,l]of e)if((l.selected||l.id===r)&&(!l.parentId||!CC(l,e))&&(l.draggable||t&&typeof l.draggable>"u")){const c=e.get(i);c&&o.set(i,{id:i,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return o}function am({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var l,c,d;const o=[];for(const[f,m]of t){const p=(l=n.get(f))==null?void 0:l.internals.userNode;p&&o.push({...p,position:m.position,dragging:r})}if(!e)return[o[0],o];const i=(c=n.get(e))==null?void 0:c.internals.userNode;return[i?{...i,position:((d=t.get(e))==null?void 0:d.position)||i.position,dragging:r}:o[0],o]}function dz({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},l=vc(i,t);return{x:l.x-i.x,y:l.y-i.y}}function fz({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},l=0,c=new Map,d=!1,f={x:0,y:0},m=null,p=!1,g=null,x=!1,b=!1,v=null;function w({noDragClassName:E,handleSelector:C,domNode:_,isSelectable:R,nodeId:P,nodeClickDistance:T=0}){g=lr(_);function L({x:q,y:G}){const{nodeLookup:A,nodeExtent:O,snapGrid:F,snapToGrid:X,nodeOrigin:D,onNodeDrag:W,onSelectionDrag:M,onError:H,updateNodePositions:Y}=t();i={x:q,y:G};let I=!1;const V=c.size>1,Z=V&&O?ig(yc(c)):null,J=V&&X?dz({dragItems:c,snapGrid:F,x:q,y:G}):null;for(const[K,te]of c){if(!A.has(K))continue;let Q={x:q-te.distance.x,y:G-te.distance.y};X&&(Q=J?{x:Math.round(Q.x+J.x),y:Math.round(Q.y+J.y)}:vc(Q,F));let ie=null;if(V&&O&&!te.extent&&Z){const{positionAbsolute:fe}=te.internals,xe=fe.x-Z.x+O[0][0],De=fe.x+te.measured.width-Z.x2+O[1][0],Me=fe.y-Z.y+O[0][1],it=fe.y+te.measured.height-Z.y2+O[1][1];ie=[[xe,Me],[De,it]]}const{position:le,positionAbsolute:de}=uC({nodeId:K,nextPosition:Q,nodeLookup:A,nodeExtent:ie||O,nodeOrigin:D,onError:H});I=I||te.position.x!==le.x||te.position.y!==le.y,te.position=le,te.internals.positionAbsolute=de}if(b=b||I,!!I&&(Y(c,!0),v&&(r||W||!P&&M))){const[K,te]=am({nodeId:P,dragItems:c,nodeLookup:A});r==null||r(v,c,K,te),W==null||W(v,K,te),P||M==null||M(v,te)}}async function U(){if(!m)return;const{transform:q,panBy:G,autoPanSpeed:A,autoPanOnNodeDrag:O}=t();if(!O){d=!1,cancelAnimationFrame(l);return}const[F,X]=fC(f,m,A);(F!==0||X!==0)&&(i.x=(i.x??0)-F/q[2],i.y=(i.y??0)-X/q[2],await G({x:F,y:X})&&L(i)),l=requestAnimationFrame(U)}function z(q){var V;const{nodeLookup:G,multiSelectionActive:A,nodesDraggable:O,transform:F,snapGrid:X,snapToGrid:D,selectNodesOnDrag:W,onNodeDragStart:M,onSelectionDragStart:H,unselectNodesAndEdges:Y}=t();p=!0,(!W||!R)&&!A&&P&&((V=G.get(P))!=null&&V.selected||Y()),R&&W&&P&&(e==null||e(P));const I=za(q.sourceEvent,{transform:F,snapGrid:X,snapToGrid:D,containerBounds:m});if(i=I,c=uz(G,O,I,P),c.size>0&&(n||M||!P&&H)){const[Z,J]=am({nodeId:P,dragItems:c,nodeLookup:G});n==null||n(q.sourceEvent,c,Z,J),M==null||M(q.sourceEvent,Z,J),P||H==null||H(q.sourceEvent,J)}}const B=Hk().clickDistance(T).on("start",q=>{const{domNode:G,nodeDragThreshold:A,transform:O,snapGrid:F,snapToGrid:X}=t();m=(G==null?void 0:G.getBoundingClientRect())||null,x=!1,b=!1,v=q.sourceEvent,A===0&&z(q),i=za(q.sourceEvent,{transform:O,snapGrid:F,snapToGrid:X,containerBounds:m}),f=Mr(q.sourceEvent,m)}).on("drag",q=>{const{autoPanOnNodeDrag:G,transform:A,snapGrid:O,snapToGrid:F,nodeDragThreshold:X,nodeLookup:D}=t(),W=za(q.sourceEvent,{transform:A,snapGrid:O,snapToGrid:F,containerBounds:m});if(v=q.sourceEvent,(q.sourceEvent.type==="touchmove"&&q.sourceEvent.touches.length>1||P&&!D.has(P))&&(x=!0),!x){if(!d&&G&&p&&(d=!0,U()),!p){const M=Mr(q.sourceEvent,m),H=M.x-f.x,Y=M.y-f.y;Math.sqrt(H*H+Y*Y)>X&&z(q)}(i.x!==W.xSnapped||i.y!==W.ySnapped)&&c&&p&&(f=Mr(q.sourceEvent,m),L(W))}}).on("end",q=>{if(!(!p||x)&&(d=!1,p=!1,cancelAnimationFrame(l),c.size>0)){const{nodeLookup:G,updateNodePositions:A,onNodeDragStop:O,onSelectionDragStop:F}=t();if(b&&(A(c,!1),b=!1),o||O||!P&&F){const[X,D]=am({nodeId:P,dragItems:c,nodeLookup:G,dragging:!1});o==null||o(q.sourceEvent,c,X,D),O==null||O(q.sourceEvent,X,D),P||F==null||F(q.sourceEvent,D)}}}).filter(q=>{const G=q.target;return!q.button&&(!E||!ob(G,`.${E}`,_))&&(!C||ob(G,C,_))});g.call(B)}function k(){g==null||g.on(".drag",null)}return{update:w,destroy:k}}function pz(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())rc(o,il(i))>0&&r.push(i);return r}const hz=250;function mz(e,t,n,r){var c,d;let o=[],i=1/0;const l=pz(e,n,t+hz);for(const f of l){const m=[...((c=f.internals.handleBounds)==null?void 0:c.source)??[],...((d=f.internals.handleBounds)==null?void 0:d.target)??[]];for(const p of m){if(r.nodeId===p.nodeId&&r.type===p.type&&r.id===p.id)continue;const{x:g,y:x}=Qi(f,p,p.position,!0),b=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(x-e.y,2));b>t||(b<i?(o=[{...p,x:g,y:x}],i=b):b===i&&o.push({...p,x:g,y:x}))}}if(!o.length)return null;if(o.length>1){const f=r.type==="source"?"target":"source";return o.find(m=>m.type===f)??o[0]}return o[0]}function NC(e,t,n,r,o,i=!1){var f,m,p;const l=r.get(e);if(!l)return null;const c=o==="strict"?(f=l.internals.handleBounds)==null?void 0:f[t]:[...((m=l.internals.handleBounds)==null?void 0:m.source)??[],...((p=l.internals.handleBounds)==null?void 0:p.target)??[]],d=(n?c==null?void 0:c.find(g=>g.id===n):c==null?void 0:c[0])??null;return d&&i?{...d,...Qi(l,d,d.position,!0)}:d}function EC(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function gz(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const jC=()=>!0;function xz(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:l,domNode:c,nodeLookup:d,lib:f,autoPanOnConnect:m,flowId:p,panBy:g,cancelConnection:x,onConnectStart:b,onConnect:v,onConnectEnd:w,isValidConnection:k=jC,onReconnectEnd:E,updateConnection:C,getTransform:_,getFromHandle:R,autoPanSpeed:P,dragThreshold:T=1,handleDomNode:L}){const U=mC(e.target);let z=0,B;const{x:q,y:G}=Mr(e),A=EC(i,L),O=c==null?void 0:c.getBoundingClientRect();let F=!1;if(!O||!A)return;const X=NC(o,A,r,d,t);if(!X)return;let D=Mr(e,O),W=!1,M=null,H=!1,Y=null;function I(){if(!m||!O)return;const[le,de]=fC(D,O,P);g({x:le,y:de}),z=requestAnimationFrame(I)}const V={...X,nodeId:o,type:A,position:X.position},Z=d.get(o);let K={inProgress:!0,isValid:null,from:Qi(Z,V,Ie.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:Z,to:D,toHandle:null,toPosition:qw[V.position],toNode:null,pointer:D};function te(){F=!0,C(K),b==null||b(e,{nodeId:o,handleId:r,handleType:A})}T===0&&te();function Q(le){if(!F){const{x:it,y:nt}=Mr(le),et=it-q,ke=nt-G;if(!(et*et+ke*ke>T*T))return;te()}if(!R()||!V){ie(le);return}const de=_();D=Mr(le,O),B=mz(wc(D,de,!1,[1,1]),n,d,V),W||(I(),W=!0);const fe=_C(le,{handle:B,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:l?"target":"source",isValidConnection:k,doc:U,lib:f,flowId:p,nodeLookup:d});Y=fe.handleDomNode,M=fe.connection,H=gz(!!B,fe.isValid);const xe=d.get(o),De=xe?Qi(xe,V,Ie.Left,!0):K.from,Me={...K,from:De,isValid:H,to:fe.toHandle&&H?Fd({x:fe.toHandle.x,y:fe.toHandle.y},de):D,toHandle:fe.toHandle,toPosition:H&&fe.toHandle?fe.toHandle.position:qw[V.position],toNode:fe.toHandle?d.get(fe.toHandle.nodeId):null,pointer:D};C(Me),K=Me}function ie(le){if(!("touches"in le&&le.touches.length>0)){if(F){(B||Y)&&M&&H&&(v==null||v(M));const{inProgress:de,...fe}=K,xe={...fe,toPosition:K.toHandle?K.toPosition:null};w==null||w(le,xe),i&&(E==null||E(le,xe))}x(),cancelAnimationFrame(z),W=!1,H=!1,M=null,Y=null,U.removeEventListener("mousemove",Q),U.removeEventListener("mouseup",ie),U.removeEventListener("touchmove",Q),U.removeEventListener("touchend",ie)}}U.addEventListener("mousemove",Q),U.addEventListener("mouseup",ie),U.addEventListener("touchmove",Q),U.addEventListener("touchend",ie)}function _C(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:l,lib:c,flowId:d,isValidConnection:f=jC,nodeLookup:m}){const p=i==="target",g=t?l.querySelector(`.${c}-flow__handle[data-id="${d}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x,y:b}=Mr(e),v=l.elementFromPoint(x,b),w=v!=null&&v.classList.contains(`${c}-flow__handle`)?v:g,k={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const E=EC(void 0,w),C=w.getAttribute("data-nodeid"),_=w.getAttribute("data-handleid"),R=w.classList.contains("connectable"),P=w.classList.contains("connectableend");if(!C||!E)return k;const T={source:p?C:r,sourceHandle:p?_:o,target:p?r:C,targetHandle:p?o:_};k.connection=T;const U=R&&P&&(n===rl.Strict?p&&E==="source"||!p&&E==="target":C!==r||_!==o);k.isValid=U&&f(T),k.toHandle=NC(C,E,_,m,n,!0)}return k}const cg={onPointerDown:xz,isValid:_C};function yz({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=lr(e);function i({translateExtent:c,width:d,height:f,zoomStep:m=1,pannable:p=!0,zoomable:g=!0,inversePan:x=!1}){const b=C=>{if(C.sourceEvent.type!=="wheel"||!t)return;const _=n(),R=C.sourceEvent.ctrlKey&&oc()?10:1,P=-C.sourceEvent.deltaY*(C.sourceEvent.deltaMode===1?.05:C.sourceEvent.deltaMode?1:.002)*m,T=_[2]*Math.pow(2,P*R);t.scaleTo(T)};let v=[0,0];const w=C=>{(C.sourceEvent.type==="mousedown"||C.sourceEvent.type==="touchstart")&&(v=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY])},k=C=>{const _=n();if(C.sourceEvent.type!=="mousemove"&&C.sourceEvent.type!=="touchmove"||!t)return;const R=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY],P=[R[0]-v[0],R[1]-v[1]];v=R;const T=r()*Math.max(_[2],Math.log(_[2]))*(x?-1:1),L={x:_[0]-P[0]*T,y:_[1]-P[1]*T},U=[[0,0],[d,f]];t.setViewportConstrained({x:L.x,y:L.y,zoom:_[2]},U,c)},E=oC().on("start",w).on("zoom",p?k:null).on("zoom.wheel",g?b:null);o.call(E,{})}function l(){o.on("zoom",null)}return{update:i,destroy:l,pointer:Ir}}const vf=e=>({x:e.x,y:e.y,zoom:e.k}),cm=({x:e,y:t,zoom:n})=>gf.translate(e,t).scale(n),Hs=(e,t)=>e.target.closest(`.${t}`),PC=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),vz=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,um=(e,t=0,n=vz,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},AC=e=>{const t=e.ctrlKey&&oc()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function wz({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:l,onPanZoomStart:c,onPanZoom:d,onPanZoomEnd:f}){return m=>{if(Hs(m,t))return m.ctrlKey&&m.preventDefault(),!1;m.preventDefault(),m.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(m.ctrlKey&&l){const w=Ir(m),k=AC(m),E=p*Math.pow(2,k);r.scaleTo(n,E,w,m);return}const g=m.deltaMode===1?20:1;let x=o===qi.Vertical?0:m.deltaX*g,b=o===qi.Horizontal?0:m.deltaY*g;!oc()&&m.shiftKey&&o!==qi.Vertical&&(x=m.deltaY*g,b=0),r.translateBy(n,-(x/p)*i,-(b/p)*i,{internal:!0});const v=vf(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(d==null||d(m,v),e.panScrollTimeout=setTimeout(()=>{f==null||f(m,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,c==null||c(m,v))}}function bz({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",l=!t&&i&&!r.ctrlKey,c=Hs(r,e);if(r.ctrlKey&&i&&c&&r.preventDefault(),l||c)return null;r.preventDefault(),n.call(this,r,o)}}function Sz({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,l,c;if((i=r.sourceEvent)!=null&&i.internal)return;const o=vf(r.transform);e.mouseButton=((l=r.sourceEvent)==null?void 0:l.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((c=r.sourceEvent)==null?void 0:c.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function kz({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var l,c;e.usedRightMouseButton=!!(n&&PC(t,e.mouseButton??0)),(l=i.sourceEvent)!=null&&l.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((c=i.sourceEvent)!=null&&c.internal)&&(o==null||o(i.sourceEvent,vf(i.transform)))}}function Cz({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return l=>{var c;if(!((c=l.sourceEvent)!=null&&c.internal)&&(e.isZoomingOrPanning=!1,i&&PC(t,e.mouseButton??0)&&!e.usedRightMouseButton&&l.sourceEvent&&i(l.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const d=vf(l.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(l.sourceEvent,d)},n?150:0)}}}function Nz({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:l,noWheelClassName:c,noPanClassName:d,lib:f,connectionInProgress:m}){return p=>{var w;const g=e||t,x=n&&p.ctrlKey,b=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(Hs(p,`${f}-flow__node`)||Hs(p,`${f}-flow__edge`)))return!0;if(!r&&!g&&!o&&!i&&!n||l||m&&!b||Hs(p,c)&&b||Hs(p,d)&&(!b||o&&b&&!e)||!n&&p.ctrlKey&&b)return!1;if(!n&&p.type==="touchstart"&&((w=p.touches)==null?void 0:w.length)>1)return p.preventDefault(),!1;if(!g&&!o&&!x&&b||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||b)&&v}}function Ez({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:i,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=e.getBoundingClientRect(),p=oC().scaleExtent([t,n]).translateExtent(r),g=lr(e).call(p);E({x:o.x,y:o.y,zoom:ol(o.zoom,t,n)},[[0,0],[m.width,m.height]],r);const x=g.on("wheel.zoom"),b=g.on("dblclick.zoom");p.wheelDelta(AC);function v(B,q){return g?new Promise(G=>{p==null||p.interpolate((q==null?void 0:q.interpolate)==="linear"?La:xd).transform(um(g,q==null?void 0:q.duration,q==null?void 0:q.ease,()=>G(!0)),B)}):Promise.resolve(!1)}function w({noWheelClassName:B,noPanClassName:q,onPaneContextMenu:G,userSelectionActive:A,panOnScroll:O,panOnDrag:F,panOnScrollMode:X,panOnScrollSpeed:D,preventScrolling:W,zoomOnPinch:M,zoomOnScroll:H,zoomOnDoubleClick:Y,zoomActivationKeyPressed:I,lib:V,onTransformChange:Z,connectionInProgress:J,paneClickDistance:K,selectionOnDrag:te}){A&&!f.isZoomingOrPanning&&k();const Q=O&&!I&&!A;p.clickDistance(te?1/0:!Rr(K)||K<0?0:K);const ie=Q?wz({zoomPanValues:f,noWheelClassName:B,d3Selection:g,d3Zoom:p,panOnScrollMode:X,panOnScrollSpeed:D,zoomOnPinch:M,onPanZoomStart:l,onPanZoom:i,onPanZoomEnd:c}):bz({noWheelClassName:B,preventScrolling:W,d3ZoomHandler:x});if(g.on("wheel.zoom",ie,{passive:!1}),!A){const de=Sz({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:l});p.on("start",de);const fe=kz({zoomPanValues:f,panOnDrag:F,onPaneContextMenu:!!G,onPanZoom:i,onTransformChange:Z});p.on("zoom",fe);const xe=Cz({zoomPanValues:f,panOnDrag:F,panOnScroll:O,onPaneContextMenu:G,onPanZoomEnd:c,onDraggingChange:d});p.on("end",xe)}const le=Nz({zoomActivationKeyPressed:I,panOnDrag:F,zoomOnScroll:H,panOnScroll:O,zoomOnDoubleClick:Y,zoomOnPinch:M,userSelectionActive:A,noPanClassName:q,noWheelClassName:B,lib:V,connectionInProgress:J});p.filter(le),Y?g.on("dblclick.zoom",b):g.on("dblclick.zoom",null)}function k(){p.on("zoom",null)}async function E(B,q,G){const A=cm(B),O=p==null?void 0:p.constrain()(A,q,G);return O&&await v(O),new Promise(F=>F(O))}async function C(B,q){const G=cm(B);return await v(G,q),new Promise(A=>A(G))}function _(B){if(g){const q=cm(B),G=g.property("__zoom");(G.k!==B.zoom||G.x!==B.x||G.y!==B.y)&&(p==null||p.transform(g,q,null,{sync:!0}))}}function R(){const B=g?rC(g.node()):{x:0,y:0,k:1};return{x:B.x,y:B.y,zoom:B.k}}function P(B,q){return g?new Promise(G=>{p==null||p.interpolate((q==null?void 0:q.interpolate)==="linear"?La:xd).scaleTo(um(g,q==null?void 0:q.duration,q==null?void 0:q.ease,()=>G(!0)),B)}):Promise.resolve(!1)}function T(B,q){return g?new Promise(G=>{p==null||p.interpolate((q==null?void 0:q.interpolate)==="linear"?La:xd).scaleBy(um(g,q==null?void 0:q.duration,q==null?void 0:q.ease,()=>G(!0)),B)}):Promise.resolve(!1)}function L(B){p==null||p.scaleExtent(B)}function U(B){p==null||p.translateExtent(B)}function z(B){const q=!Rr(B)||B<0?0:B;p==null||p.clickDistance(q)}return{update:w,destroy:k,setViewport:C,setViewportConstrained:E,getViewport:R,scaleTo:P,scaleBy:T,setScaleExtent:L,setTranslateExtent:U,syncViewport:_,setClickDistance:z}}var Ji;(function(e){e.Line="line",e.Handle="handle"})(Ji||(Ji={}));const jz=["top-left","top-right","bottom-left","bottom-right"],_z=["top","right","bottom","left"];function Pz({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const l=e-t,c=n-r,d=[l>0?1:l<0?-1:0,c>0?1:c<0?-1:0];return l&&o&&(d[0]=d[0]*-1),c&&i&&(d[1]=d[1]*-1),d}function ib(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function Qo(e,t){return Math.max(0,t-e)}function Jo(e,t){return Math.max(0,e-t)}function Ju(e,t,n){return Math.max(0,t-e,e-n)}function sb(e,t){return e?!t:t}function Az(e,t,n,r,o,i,l,c){let{affectsX:d,affectsY:f}=t;const{isHorizontal:m,isVertical:p}=t,g=m&&p,{xSnapped:x,ySnapped:b}=n,{minWidth:v,maxWidth:w,minHeight:k,maxHeight:E}=r,{x:C,y:_,width:R,height:P,aspectRatio:T}=e;let L=Math.floor(m?x-e.pointerX:0),U=Math.floor(p?b-e.pointerY:0);const z=R+(d?-L:L),B=P+(f?-U:U),q=-i[0]*R,G=-i[1]*P;let A=Ju(z,v,w),O=Ju(B,k,E);if(l){let D=0,W=0;d&&L<0?D=Qo(C+L+q,l[0][0]):!d&&L>0&&(D=Jo(C+z+q,l[1][0])),f&&U<0?W=Qo(_+U+G,l[0][1]):!f&&U>0&&(W=Jo(_+B+G,l[1][1])),A=Math.max(A,D),O=Math.max(O,W)}if(c){let D=0,W=0;d&&L>0?D=Jo(C+L,c[0][0]):!d&&L<0&&(D=Qo(C+z,c[1][0])),f&&U>0?W=Jo(_+U,c[0][1]):!f&&U<0&&(W=Qo(_+B,c[1][1])),A=Math.max(A,D),O=Math.max(O,W)}if(o){if(m){const D=Ju(z/T,k,E)*T;if(A=Math.max(A,D),l){let W=0;!d&&!f||d&&!f&&g?W=Jo(_+G+z/T,l[1][1])*T:W=Qo(_+G+(d?L:-L)/T,l[0][1])*T,A=Math.max(A,W)}if(c){let W=0;!d&&!f||d&&!f&&g?W=Qo(_+z/T,c[1][1])*T:W=Jo(_+(d?L:-L)/T,c[0][1])*T,A=Math.max(A,W)}}if(p){const D=Ju(B*T,v,w)/T;if(O=Math.max(O,D),l){let W=0;!d&&!f||f&&!d&&g?W=Jo(C+B*T+q,l[1][0])/T:W=Qo(C+(f?U:-U)*T+q,l[0][0])/T,O=Math.max(O,W)}if(c){let W=0;!d&&!f||f&&!d&&g?W=Qo(C+B*T,c[1][0])/T:W=Jo(C+(f?U:-U)*T,c[0][0])/T,O=Math.max(O,W)}}}U=U+(U<0?O:-O),L=L+(L<0?A:-A),o&&(g?z>B*T?U=(sb(d,f)?-L:L)/T:L=(sb(d,f)?-U:U)*T:m?(U=L/T,f=d):(L=U*T,d=f));const F=d?C+L:C,X=f?_+U:_;return{width:R+(d?-L:L),height:P+(f?-U:U),x:i[0]*L*(d?-1:1)+F,y:i[1]*U*(f?-1:1)+X}}const IC={width:0,height:0,x:0,y:0},Iz={...IC,pointerX:0,pointerY:0,aspectRatio:1};function Tz(e){return[[0,0],[e.measured.width,e.measured.height]]}function Rz(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,l=e.measured.height??0,c=n[0]*i,d=n[1]*l;return[[r-c,o-d],[r+i-c,o+l-d]]}function Mz({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=lr(e);let l={controlDirection:ib("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function c({controlPosition:f,boundaries:m,keepAspectRatio:p,resizeDirection:g,onResizeStart:x,onResize:b,onResizeEnd:v,shouldResize:w}){let k={...IC},E={...Iz};l={boundaries:m,resizeDirection:g,keepAspectRatio:p,controlDirection:ib(f)};let C,_=null,R=[],P,T,L,U=!1;const z=Hk().on("start",B=>{const{nodeLookup:q,transform:G,snapGrid:A,snapToGrid:O,nodeOrigin:F,paneDomNode:X}=n();if(C=q.get(t),!C)return;_=(X==null?void 0:X.getBoundingClientRect())??null;const{xSnapped:D,ySnapped:W}=za(B.sourceEvent,{transform:G,snapGrid:A,snapToGrid:O,containerBounds:_});k={width:C.measured.width??0,height:C.measured.height??0,x:C.position.x??0,y:C.position.y??0},E={...k,pointerX:D,pointerY:W,aspectRatio:k.width/k.height},P=void 0,C.parentId&&(C.extent==="parent"||C.expandParent)&&(P=q.get(C.parentId),T=P&&C.extent==="parent"?Tz(P):void 0),R=[],L=void 0;for(const[M,H]of q)if(H.parentId===t&&(R.push({id:M,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const Y=Rz(H,C,H.origin??F);L?L=[[Math.min(Y[0][0],L[0][0]),Math.min(Y[0][1],L[0][1])],[Math.max(Y[1][0],L[1][0]),Math.max(Y[1][1],L[1][1])]]:L=Y}x==null||x(B,{...k})}).on("drag",B=>{const{transform:q,snapGrid:G,snapToGrid:A,nodeOrigin:O}=n(),F=za(B.sourceEvent,{transform:q,snapGrid:G,snapToGrid:A,containerBounds:_}),X=[];if(!C)return;const{x:D,y:W,width:M,height:H}=k,Y={},I=C.origin??O,{width:V,height:Z,x:J,y:K}=Az(E,l.controlDirection,F,l.boundaries,l.keepAspectRatio,I,T,L),te=V!==M,Q=Z!==H,ie=J!==D&&te,le=K!==W&&Q;if(!ie&&!le&&!te&&!Q)return;if((ie||le||I[0]===1||I[1]===1)&&(Y.x=ie?J:k.x,Y.y=le?K:k.y,k.x=Y.x,k.y=Y.y,R.length>0)){const De=J-D,Me=K-W;for(const it of R)it.position={x:it.position.x-De+I[0]*(V-M),y:it.position.y-Me+I[1]*(Z-H)},X.push(it)}if((te||Q)&&(Y.width=te&&(!l.resizeDirection||l.resizeDirection==="horizontal")?V:k.width,Y.height=Q&&(!l.resizeDirection||l.resizeDirection==="vertical")?Z:k.height,k.width=Y.width,k.height=Y.height),P&&C.expandParent){const De=I[0]*(Y.width??0);Y.x&&Y.x<De&&(k.x=De,E.x=E.x-(Y.x-De));const Me=I[1]*(Y.height??0);Y.y&&Y.y<Me&&(k.y=Me,E.y=E.y-(Y.y-Me))}const de=Pz({width:k.width,prevWidth:M,height:k.height,prevHeight:H,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),fe={...k,direction:de};(w==null?void 0:w(B,fe))!==!1&&(U=!0,b==null||b(B,fe),r(Y,X))}).on("end",B=>{U&&(v==null||v(B,{...k}),o==null||o({...k}),U=!1)});i.call(z)}function d(){i.on(".drag",null)}return{update:c,destroy:d}}var dm={exports:{}},fm={},pm={exports:{}},hm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function Dz(){if(lb)return hm;lb=1;var e=hc();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function c(p,g){var x=g(),b=r({inst:{value:x,getSnapshot:g}}),v=b[0].inst,w=b[1];return i(function(){v.value=x,v.getSnapshot=g,d(v)&&w({inst:v})},[p,x,g]),o(function(){return d(v)&&w({inst:v}),p(function(){d(v)&&w({inst:v})})},[p]),l(x),x}function d(p){var g=p.getSnapshot;p=p.value;try{var x=g();return!n(p,x)}catch{return!0}}function f(p,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return hm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,hm}var ab;function Oz(){return ab||(ab=1,pm.exports=Dz()),pm.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function Lz(){if(cb)return fm;cb=1;var e=hc(),t=Oz();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return fm.useSyncExternalStoreWithSelector=function(f,m,p,g,x){var b=i(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=c(function(){function k(P){if(!E){if(E=!0,C=P,P=g(P),x!==void 0&&v.hasValue){var T=v.value;if(x(T,P))return _=T}return _=P}if(T=_,r(C,P))return T;var L=g(P);return x!==void 0&&x(T,L)?(C=P,T):(C=P,_=L)}var E=!1,C,_,R=p===void 0?null:p;return[function(){return k(m())},R===null?void 0:function(){return k(R())}]},[m,p,g,x]);var w=o(f,b[0],b[1]);return l(function(){v.hasValue=!0,v.value=w},[w]),d(w),w},fm}var ub;function zz(){return ub||(ub=1,dm.exports=Lz()),dm.exports}var $z=zz();const Fz=pc($z),Bz={},db=e=>{let t;const n=new Set,r=(m,p)=>{const g=typeof m=="function"?m(t):m;if(!Object.is(g,t)){const x=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(b=>b(t,x))}},o=()=>t,d={setState:r,getState:o,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(Bz?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,o,d);return d},Vz=e=>e?db(e):db,{useDebugValue:Hz}=qe,{useSyncExternalStoreWithSelector:Uz}=Fz,Wz=e=>e;function TC(e,t=Wz,n){const r=Uz(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Hz(r),r}const fb=(e,t)=>{const n=Vz(e),r=(o,i=t)=>TC(n,o,i);return Object.assign(r,n),r},qz=(e,t)=>e?fb(e,t):fb;function Bt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var yl=DS();const Yz=pc(yl),wf=S.createContext(null),Xz=wf.Provider,RC=to.error001();function yt(e,t){const n=S.useContext(wf);if(n===null)throw new Error(RC);return TC(n,e,t)}function Ht(){const e=S.useContext(wf);if(e===null)throw new Error(RC);return S.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const pb={display:"none"},Gz={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},MC="react-flow__node-desc",DC="react-flow__edge-desc",Kz="react-flow__aria-live",Qz=e=>e.ariaLiveMessage,Jz=e=>e.ariaLabelConfig;function Zz({rfId:e}){const t=yt(Qz);return u.jsx("div",{id:`${Kz}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Gz,children:t})}function e4({rfId:e,disableKeyboardA11y:t}){const n=yt(Jz);return u.jsxs(u.Fragment,{children:[u.jsx("div",{id:`${MC}-${e}`,style:pb,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),u.jsx("div",{id:`${DC}-${e}`,style:pb,children:n["edge.a11yDescription.default"]}),!t&&u.jsx(Zz,{rfId:e})]})}const bc=S.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const l=`${e}`.split("-");return u.jsx("div",{className:Jt(["react-flow__panel",n,...l]),style:r,ref:i,...o,children:t})});bc.displayName="Panel";function t4({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:u.jsx(bc,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:u.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const n4=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Zu=e=>e.id;function r4(e,t){return Bt(e.selectedNodes.map(Zu),t.selectedNodes.map(Zu))&&Bt(e.selectedEdges.map(Zu),t.selectedEdges.map(Zu))}function o4({onSelectionChange:e}){const t=Ht(),{selectedNodes:n,selectedEdges:r}=yt(n4,r4);return S.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const i4=e=>!!e.onSelectionChangeHandlers;function s4({onSelectionChange:e}){const t=yt(i4);return e||t?u.jsx(o4,{onSelectionChange:e}):null}const OC=[0,0],l4={x:0,y:0,zoom:1},a4=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],hb=[...a4,"rfId"],c4=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),mb={translateExtent:ec,nodeOrigin:OC,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function u4(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:l,reset:c,setDefaultNodesAndEdges:d}=yt(c4,Bt),f=Ht();S.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{m.current=mb,c()}),[]);const m=S.useRef(mb);return S.useEffect(()=>{for(const p of hb){const g=e[p],x=m.current[p];g!==x&&(typeof e[p]>"u"||(p==="nodes"?t(g):p==="edges"?n(g):p==="minZoom"?r(g):p==="maxZoom"?o(g):p==="translateExtent"?i(g):p==="nodeExtent"?l(g):p==="ariaLabelConfig"?f.setState({ariaLabelConfig:UL(g)}):p==="fitView"?f.setState({fitViewQueued:g}):p==="fitViewOptions"?f.setState({fitViewOptions:g}):f.setState({[p]:g})))}m.current=e},hb.map(p=>e[p])),null}function gb(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function d4(e){var r;const[t,n]=S.useState(e==="system"?null:e);return S.useEffect(()=>{if(e!=="system"){n(e);return}const o=gb(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=gb())!=null&&r.matches?"dark":"light"}const xb=typeof document<"u"?document:null;function ic(e=null,t={target:xb,actInsideInputWithModifier:!0}){const[n,r]=S.useState(!1),o=S.useRef(!1),i=S.useRef(new Set([])),[l,c]=S.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=f.reduce((p,g)=>p.concat(...g),[]);return[f,m]}return[[],[]]},[e]);return S.useEffect(()=>{const d=(t==null?void 0:t.target)??xb,f=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const m=x=>{var w,k;if(o.current=x.ctrlKey||x.metaKey||x.shiftKey||x.altKey,(!o.current||o.current&&!f)&&gC(x))return!1;const v=vb(x.code,c);if(i.current.add(x[v]),yb(l,i.current,!1)){const E=((k=(w=x.composedPath)==null?void 0:w.call(x))==null?void 0:k[0])||x.target,C=(E==null?void 0:E.nodeName)==="BUTTON"||(E==null?void 0:E.nodeName)==="A";t.preventDefault!==!1&&(o.current||!C)&&x.preventDefault(),r(!0)}},p=x=>{const b=vb(x.code,c);yb(l,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(x[b]),x.key==="Meta"&&i.current.clear(),o.current=!1},g=()=>{i.current.clear(),r(!1)};return d==null||d.addEventListener("keydown",m),d==null||d.addEventListener("keyup",p),window.addEventListener("blur",g),window.addEventListener("contextmenu",g),()=>{d==null||d.removeEventListener("keydown",m),d==null||d.removeEventListener("keyup",p),window.removeEventListener("blur",g),window.removeEventListener("contextmenu",g)}}},[e,r]),n}function yb(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function vb(e,t){return t.includes(e)?"code":"key"}const f4=()=>{const e=Ht();return S.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:l}=e.getState();return l?(await l.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:l,panZoom:c}=e.getState(),d=dx(t,r,o,i,l,(n==null?void 0:n.padding)??.1);return c?(await c.setViewport(d,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:l}=e.getState();if(!l)return t;const{x:c,y:d}=l.getBoundingClientRect(),f={x:t.x-c,y:t.y-d},m=n.snapGrid??o,p=n.snapToGrid??i;return wc(f,r,p,m)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),l=Fd(t,n);return{x:l.x+o,y:l.y+i}}}),[])};function LC(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const l=r.get(i.id);l?l.push(i):r.set(i.id,[i])}for(const i of t){const l=r.get(i.id);if(!l){n.push(i);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const c={...i};for(const d of l)p4(d,c);n.push(c)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function p4(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function zC(e,t){return LC(e,t)}function $C(e,t){return LC(e,t)}function zi(e,t){return{id:e,type:"select",selected:t}}function Us(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const l=t.has(o);!(i.selected===void 0&&!l)&&i.selected!==l&&(n&&(i.selected=l),r.push(zi(i.id,l)))}return r}function wb({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,l]of e.entries()){const c=t.get(l.id),d=((o=c==null?void 0:c.internals)==null?void 0:o.userNode)??c;d!==void 0&&d!==l&&n.push({id:l.id,item:l,type:"replace"}),d===void 0&&n.push({item:l,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function bb(e){return{id:e.id,type:"remove"}}const Sb=e=>ML(e),h4=e=>cC(e);function FC(e){return S.forwardRef(e)}const m4=typeof window<"u"?S.useLayoutEffect:S.useEffect;function kb(e){const[t,n]=S.useState(BigInt(0)),[r]=S.useState(()=>g4(()=>n(o=>o+BigInt(1))));return m4(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function g4(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const BC=S.createContext(null);function x4({children:e}){const t=Ht(),n=S.useCallback(c=>{const{nodes:d=[],setNodes:f,hasDefaultNodes:m,onNodesChange:p,nodeLookup:g,fitViewQueued:x,onNodesChangeMiddlewareMap:b}=t.getState();let v=d;for(const k of c)v=typeof k=="function"?k(v):k;let w=wb({items:v,lookup:g});for(const k of b.values())w=k(w);m&&f(v),w.length>0?p==null||p(w):x&&window.requestAnimationFrame(()=>{const{fitViewQueued:k,nodes:E,setNodes:C}=t.getState();k&&C(E)})},[]),r=kb(n),o=S.useCallback(c=>{const{edges:d=[],setEdges:f,hasDefaultEdges:m,onEdgesChange:p,edgeLookup:g}=t.getState();let x=d;for(const b of c)x=typeof b=="function"?b(x):b;m?f(x):p&&p(wb({items:x,lookup:g}))},[]),i=kb(o),l=S.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return u.jsx(BC.Provider,{value:l,children:e})}function y4(){const e=S.useContext(BC);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const v4=e=>!!e.panZoom;function di(){const e=f4(),t=Ht(),n=y4(),r=yt(v4),o=S.useMemo(()=>{const i=p=>t.getState().nodeLookup.get(p),l=p=>{n.nodeQueue.push(p)},c=p=>{n.edgeQueue.push(p)},d=p=>{var k,E;const{nodeLookup:g,nodeOrigin:x}=t.getState(),b=Sb(p)?p:g.get(p.id),v=b.parentId?hC(b.position,b.measured,b.parentId,g,x):b.position,w={...b,position:v,width:((k=b.measured)==null?void 0:k.width)??b.width,height:((E=b.measured)==null?void 0:E.height)??b.height};return il(w)},f=(p,g,x={replace:!1})=>{l(b=>b.map(v=>{if(v.id===p){const w=typeof g=="function"?g(v):g;return x.replace&&Sb(w)?w:{...v,...w}}return v}))},m=(p,g,x={replace:!1})=>{c(b=>b.map(v=>{if(v.id===p){const w=typeof g=="function"?g(v):g;return x.replace&&h4(w)?w:{...v,...w}}return v}))};return{getNodes:()=>t.getState().nodes.map(p=>({...p})),getNode:p=>{var g;return(g=i(p))==null?void 0:g.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:p=[]}=t.getState();return p.map(g=>({...g}))},getEdge:p=>t.getState().edgeLookup.get(p),setNodes:l,setEdges:c,addNodes:p=>{const g=Array.isArray(p)?p:[p];n.nodeQueue.push(x=>[...x,...g])},addEdges:p=>{const g=Array.isArray(p)?p:[p];n.edgeQueue.push(x=>[...x,...g])},toObject:()=>{const{nodes:p=[],edges:g=[],transform:x}=t.getState(),[b,v,w]=x;return{nodes:p.map(k=>({...k})),edges:g.map(k=>({...k})),viewport:{x:b,y:v,zoom:w}}},deleteElements:async({nodes:p=[],edges:g=[]})=>{const{nodes:x,edges:b,onNodesDelete:v,onEdgesDelete:w,triggerNodeChanges:k,triggerEdgeChanges:E,onDelete:C,onBeforeDelete:_}=t.getState(),{nodes:R,edges:P}=await $L({nodesToRemove:p,edgesToRemove:g,nodes:x,edges:b,onBeforeDelete:_}),T=P.length>0,L=R.length>0;if(T){const U=P.map(bb);w==null||w(P),E(U)}if(L){const U=R.map(bb);v==null||v(R),k(U)}return(L||T)&&(C==null||C({nodes:R,edges:P})),{deletedNodes:R,deletedEdges:P}},getIntersectingNodes:(p,g=!0,x)=>{const b=Xw(p),v=b?p:d(p),w=x!==void 0;return v?(x||t.getState().nodes).filter(k=>{const E=t.getState().nodeLookup.get(k.id);if(E&&!b&&(k.id===p.id||!E.internals.positionAbsolute))return!1;const C=il(w?k:E),_=rc(C,v);return g&&_>0||_>=C.width*C.height||_>=v.width*v.height}):[]},isNodeIntersecting:(p,g,x=!0)=>{const v=Xw(p)?p:d(p);if(!v)return!1;const w=rc(v,g);return x&&w>0||w>=g.width*g.height||w>=v.width*v.height},updateNode:f,updateNodeData:(p,g,x={replace:!1})=>{f(p,b=>{const v=typeof g=="function"?g(b):g;return x.replace?{...b,data:v}:{...b,data:{...b.data,...v}}},x)},updateEdge:m,updateEdgeData:(p,g,x={replace:!1})=>{m(p,b=>{const v=typeof g=="function"?g(b):g;return x.replace?{...b,data:v}:{...b,data:{...b.data,...v}}},x)},getNodesBounds:p=>{const{nodeLookup:g,nodeOrigin:x}=t.getState();return DL(p,{nodeLookup:g,nodeOrigin:x})},getHandleConnections:({type:p,id:g,nodeId:x})=>{var b;return Array.from(((b=t.getState().connectionLookup.get(`${x}-${p}${g?`-${g}`:""}`))==null?void 0:b.values())??[])},getNodeConnections:({type:p,handleId:g,nodeId:x})=>{var b;return Array.from(((b=t.getState().connectionLookup.get(`${x}${p?g?`-${p}-${g}`:`-${p}`:""}`))==null?void 0:b.values())??[])},fitView:async p=>{const g=t.getState().fitViewResolver??HL();return t.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:g}),n.nodeQueue.push(x=>[...x]),g.promise}}},[]);return S.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const Cb=e=>e.selected,w4=typeof window<"u"?window:void 0;function b4({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Ht(),{deleteElements:r}=di(),o=ic(e,{actInsideInputWithModifier:!1}),i=ic(t,{target:w4});S.useEffect(()=>{if(o){const{edges:l,nodes:c}=n.getState();r({nodes:c.filter(Cb),edges:l.filter(Cb)}),n.setState({nodesSelectionActive:!1})}},[o]),S.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function S4(e){const t=Ht();S.useEffect(()=>{const n=()=>{var o,i,l,c;if(!e.current||!(((i=(o=e.current).checkVisibility)==null?void 0:i.call(o))??!0))return!1;const r=px(e.current);(r.height===0||r.width===0)&&((c=(l=t.getState()).onError)==null||c.call(l,"004",to.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const bf={position:"absolute",width:"100%",height:"100%",top:0,left:0},k4=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function C4({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=qi.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:d,translateExtent:f,minZoom:m,maxZoom:p,zoomActivationKeyCode:g,preventScrolling:x=!0,children:b,noWheelClassName:v,noPanClassName:w,onViewportChange:k,isControlledViewport:E,paneClickDistance:C,selectionOnDrag:_}){const R=Ht(),P=S.useRef(null),{userSelectionActive:T,lib:L,connectionInProgress:U}=yt(k4,Bt),z=ic(g),B=S.useRef();S4(P);const q=S.useCallback(G=>{k==null||k({x:G[0],y:G[1],zoom:G[2]}),E||R.setState({transform:G})},[k,E]);return S.useEffect(()=>{if(P.current){B.current=Ez({domNode:P.current,minZoom:m,maxZoom:p,translateExtent:f,viewport:d,onDraggingChange:F=>R.setState({paneDragging:F}),onPanZoomStart:(F,X)=>{const{onViewportChangeStart:D,onMoveStart:W}=R.getState();W==null||W(F,X),D==null||D(X)},onPanZoom:(F,X)=>{const{onViewportChange:D,onMove:W}=R.getState();W==null||W(F,X),D==null||D(X)},onPanZoomEnd:(F,X)=>{const{onViewportChangeEnd:D,onMoveEnd:W}=R.getState();W==null||W(F,X),D==null||D(X)}});const{x:G,y:A,zoom:O}=B.current.getViewport();return R.setState({panZoom:B.current,transform:[G,A,O],domNode:P.current.closest(".react-flow")}),()=>{var F;(F=B.current)==null||F.destroy()}}},[]),S.useEffect(()=>{var G;(G=B.current)==null||G.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:z,preventScrolling:x,noPanClassName:w,userSelectionActive:T,noWheelClassName:v,lib:L,onTransformChange:q,connectionInProgress:U,selectionOnDrag:_,paneClickDistance:C})},[e,t,n,r,o,i,l,c,z,x,w,T,v,L,q,U,_,C]),u.jsx("div",{className:"react-flow__renderer",ref:P,style:bf,children:b})}const N4=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function E4(){const{userSelectionActive:e,userSelectionRect:t}=yt(N4,Bt);return e&&t?u.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const mm=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},j4=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function _4({isSelecting:e,selectionKeyPressed:t,selectionMode:n=tc.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:i,onSelectionStart:l,onSelectionEnd:c,onPaneClick:d,onPaneContextMenu:f,onPaneScroll:m,onPaneMouseEnter:p,onPaneMouseMove:g,onPaneMouseLeave:x,children:b}){const v=Ht(),{userSelectionActive:w,elementsSelectable:k,dragging:E,connectionInProgress:C}=yt(j4,Bt),_=k&&(e||w),R=S.useRef(null),P=S.useRef(),T=S.useRef(new Set),L=S.useRef(new Set),U=S.useRef(!1),z=D=>{if(U.current||C){U.current=!1;return}d==null||d(D),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},B=D=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){D.preventDefault();return}f==null||f(D)},q=m?D=>m(D):void 0,G=D=>{U.current&&(D.stopPropagation(),U.current=!1)},A=D=>{var Z,J;const{domNode:W}=v.getState();if(P.current=W==null?void 0:W.getBoundingClientRect(),!P.current)return;const M=D.target===R.current;if(!M&&!!D.target.closest(".nokey")||!e||!(i&&M||t)||D.button!==0||!D.isPrimary)return;(J=(Z=D.target)==null?void 0:Z.setPointerCapture)==null||J.call(Z,D.pointerId),U.current=!1;const{x:I,y:V}=Mr(D.nativeEvent,P.current);v.setState({userSelectionRect:{width:0,height:0,startX:I,startY:V,x:I,y:V}}),M||(D.stopPropagation(),D.preventDefault())},O=D=>{const{userSelectionRect:W,transform:M,nodeLookup:H,edgeLookup:Y,connectionLookup:I,triggerNodeChanges:V,triggerEdgeChanges:Z,defaultEdgeOptions:J,resetSelectedElements:K}=v.getState();if(!P.current||!W)return;const{x:te,y:Q}=Mr(D.nativeEvent,P.current),{startX:ie,startY:le}=W;if(!U.current){const Me=t?0:o;if(Math.hypot(te-ie,Q-le)<=Me)return;K(),l==null||l(D)}U.current=!0;const de={startX:ie,startY:le,x:te<ie?te:ie,y:Q<le?Q:le,width:Math.abs(te-ie),height:Math.abs(Q-le)},fe=T.current,xe=L.current;T.current=new Set(ux(H,de,M,n===tc.Partial,!0).map(Me=>Me.id)),L.current=new Set;const De=(J==null?void 0:J.selectable)??!0;for(const Me of T.current){const it=I.get(Me);if(it)for(const{edgeId:nt}of it.values()){const et=Y.get(nt);et&&(et.selectable??De)&&L.current.add(nt)}}if(!Gw(fe,T.current)){const Me=Us(H,T.current,!0);V(Me)}if(!Gw(xe,L.current)){const Me=Us(Y,L.current);Z(Me)}v.setState({userSelectionRect:de,userSelectionActive:!0,nodesSelectionActive:!1})},F=D=>{var W,M;D.button===0&&((M=(W=D.target)==null?void 0:W.releasePointerCapture)==null||M.call(W,D.pointerId),!w&&D.target===R.current&&v.getState().userSelectionRect&&(z==null||z(D)),v.setState({userSelectionActive:!1,userSelectionRect:null}),U.current&&(c==null||c(D),v.setState({nodesSelectionActive:T.current.size>0})))},X=r===!0||Array.isArray(r)&&r.includes(0);return u.jsxs("div",{className:Jt(["react-flow__pane",{draggable:X,dragging:E,selection:e}]),onClick:_?void 0:mm(z,R),onContextMenu:mm(B,R),onWheel:mm(q,R),onPointerEnter:_?void 0:p,onPointerMove:_?O:g,onPointerUp:_?F:void 0,onPointerDownCapture:_?A:void 0,onClickCapture:_?G:void 0,onPointerLeave:x,ref:R,style:bf,children:[b,u.jsx(E4,{})]})}function ug({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:l,nodeLookup:c,onError:d}=t.getState(),f=c.get(e);if(!f){d==null||d("012",to.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&l)&&(i({nodes:[f],edges:[]}),requestAnimationFrame(()=>{var m;return(m=r==null?void 0:r.current)==null?void 0:m.blur()})):o([e])}function VC({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:l}){const c=Ht(),[d,f]=S.useState(!1),m=S.useRef();return S.useEffect(()=>{m.current=fz({getStoreItems:()=>c.getState(),onNodeMouseDown:p=>{ug({id:p,store:c,nodeRef:e})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),S.useEffect(()=>{var p,g;if(t)(p=m.current)==null||p.destroy();else if(e.current)return(g=m.current)==null||g.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:l}),()=>{var x;(x=m.current)==null||x.destroy()}},[n,r,t,i,e,o]),d}const P4=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function HC(){const e=Ht();return S.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:l,onError:c,updateNodePositions:d,nodeLookup:f,nodeOrigin:m}=e.getState(),p=new Map,g=P4(l),x=o?i[0]:5,b=o?i[1]:5,v=n.direction.x*x*n.factor,w=n.direction.y*b*n.factor;for(const[,k]of f){if(!g(k))continue;let E={x:k.internals.positionAbsolute.x+v,y:k.internals.positionAbsolute.y+w};o&&(E=vc(E,i));const{position:C,positionAbsolute:_}=uC({nodeId:k.id,nextPosition:E,nodeLookup:f,nodeExtent:r,nodeOrigin:m,onError:c});k.position=C,k.internals.positionAbsolute=_,p.set(k.id,k)}d(p)},[])}const wx=S.createContext(null),A4=wx.Provider;wx.Consumer;const UC=()=>S.useContext(wx),I4=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),T4=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:l}=r,{fromHandle:c,toHandle:d,isValid:f}=l,m=(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===n;return{connectingFrom:(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n,connectingTo:m,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===rl.Strict?(c==null?void 0:c.type)!==n:e!==(c==null?void 0:c.nodeId)||t!==(c==null?void 0:c.id),connectionInProcess:!!c,clickConnectionInProcess:!!o,valid:m&&f}};function R4({type:e="source",position:t=Ie.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:l,onConnect:c,children:d,className:f,onMouseDown:m,onTouchStart:p,...g},x){var O,F;const b=l||null,v=e==="target",w=Ht(),k=UC(),{connectOnClick:E,noPanClassName:C,rfId:_}=yt(I4,Bt),{connectingFrom:R,connectingTo:P,clickConnecting:T,isPossibleEndHandle:L,connectionInProcess:U,clickConnectionInProcess:z,valid:B}=yt(T4(k,b,e),Bt);k||(F=(O=w.getState()).onError)==null||F.call(O,"010",to.error010());const q=X=>{const{defaultEdgeOptions:D,onConnect:W,hasDefaultEdges:M}=w.getState(),H={...D,...X};if(M){const{edges:Y,setEdges:I}=w.getState();I(KL(H,Y))}W==null||W(H),c==null||c(H)},G=X=>{if(!k)return;const D=xC(X.nativeEvent);if(o&&(D&&X.button===0||!D)){const W=w.getState();cg.onPointerDown(X.nativeEvent,{handleDomNode:X.currentTarget,autoPanOnConnect:W.autoPanOnConnect,connectionMode:W.connectionMode,connectionRadius:W.connectionRadius,domNode:W.domNode,nodeLookup:W.nodeLookup,lib:W.lib,isTarget:v,handleId:b,nodeId:k,flowId:W.rfId,panBy:W.panBy,cancelConnection:W.cancelConnection,onConnectStart:W.onConnectStart,onConnectEnd:W.onConnectEnd,updateConnection:W.updateConnection,onConnect:q,isValidConnection:n||W.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:W.autoPanSpeed,dragThreshold:W.connectionDragThreshold})}D?m==null||m(X):p==null||p(X)},A=X=>{const{onClickConnectStart:D,onClickConnectEnd:W,connectionClickStartHandle:M,connectionMode:H,isValidConnection:Y,lib:I,rfId:V,nodeLookup:Z,connection:J}=w.getState();if(!k||!M&&!o)return;if(!M){D==null||D(X.nativeEvent,{nodeId:k,handleId:b,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:k,type:e,id:b}});return}const K=mC(X.target),te=n||Y,{connection:Q,isValid:ie}=cg.isValid(X.nativeEvent,{handle:{nodeId:k,id:b,type:e},connectionMode:H,fromNodeId:M.nodeId,fromHandleId:M.id||null,fromType:M.type,isValidConnection:te,flowId:V,doc:K,lib:I,nodeLookup:Z});ie&&Q&&q(Q);const le=structuredClone(J);delete le.inProgress,le.toPosition=le.toHandle?le.toHandle.position:null,W==null||W(X,le),w.setState({connectionClickStartHandle:null})};return u.jsx("div",{"data-handleid":b,"data-nodeid":k,"data-handlepos":t,"data-id":`${_}-${k}-${b}-${e}`,className:Jt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",C,f,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:i,clickconnecting:T,connectingfrom:R,connectingto:P,valid:B,connectionindicator:r&&(!U||L)&&(U||z?i:o)}]),onMouseDown:G,onTouchStart:G,onClick:E?A:void 0,ref:x,...g,children:d})}const ai=S.memo(FC(R4));function M4({data:e,isConnectable:t,sourcePosition:n=Ie.Bottom}){return u.jsxs(u.Fragment,{children:[e==null?void 0:e.label,u.jsx(ai,{type:"source",position:n,isConnectable:t})]})}function D4({data:e,isConnectable:t,targetPosition:n=Ie.Top,sourcePosition:r=Ie.Bottom}){return u.jsxs(u.Fragment,{children:[u.jsx(ai,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,u.jsx(ai,{type:"source",position:r,isConnectable:t})]})}function O4(){return null}function L4({data:e,isConnectable:t,targetPosition:n=Ie.Top}){return u.jsxs(u.Fragment,{children:[u.jsx(ai,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Bd={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Nb={input:M4,default:D4,output:L4,group:O4};function z4(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const $4=e=>{const{width:t,height:n,x:r,y:o}=yc(e.nodeLookup,{filter:i=>!!i.selected});return{width:Rr(t)?t:null,height:Rr(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function F4({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ht(),{width:o,height:i,transformString:l,userSelectionActive:c}=yt($4,Bt),d=HC(),f=S.useRef(null);if(S.useEffect(()=>{var g;n||(g=f.current)==null||g.focus({preventScroll:!0})},[n]),VC({nodeRef:f}),c||!o||!i)return null;const m=e?g=>{const x=r.getState().nodes.filter(b=>b.selected);e(g,x)}:void 0,p=g=>{Object.prototype.hasOwnProperty.call(Bd,g.key)&&(g.preventDefault(),d({direction:Bd[g.key],factor:g.shiftKey?4:1}))};return u.jsx("div",{className:Jt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:u.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:o,height:i}})})}const Eb=typeof window<"u"?window:void 0,B4=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function WC({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:d,selectionKeyCode:f,selectionOnDrag:m,selectionMode:p,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:b,panActivationKeyCode:v,zoomActivationKeyCode:w,elementsSelectable:k,zoomOnScroll:E,zoomOnPinch:C,panOnScroll:_,panOnScrollSpeed:R,panOnScrollMode:P,zoomOnDoubleClick:T,panOnDrag:L,defaultViewport:U,translateExtent:z,minZoom:B,maxZoom:q,preventScrolling:G,onSelectionContextMenu:A,noWheelClassName:O,noPanClassName:F,disableKeyboardA11y:X,onViewportChange:D,isControlledViewport:W}){const{nodesSelectionActive:M,userSelectionActive:H}=yt(B4,Bt),Y=ic(f,{target:Eb}),I=ic(v,{target:Eb}),V=I||L,Z=I||_,J=m&&V!==!0,K=Y||H||J;return b4({deleteKeyCode:d,multiSelectionKeyCode:b}),u.jsx(C4,{onPaneContextMenu:i,elementsSelectable:k,zoomOnScroll:E,zoomOnPinch:C,panOnScroll:Z,panOnScrollSpeed:R,panOnScrollMode:P,zoomOnDoubleClick:T,panOnDrag:!Y&&V,defaultViewport:U,translateExtent:z,minZoom:B,maxZoom:q,zoomActivationKeyCode:w,preventScrolling:G,noWheelClassName:O,noPanClassName:F,onViewportChange:D,isControlledViewport:W,paneClickDistance:c,selectionOnDrag:J,children:u.jsxs(_4,{onSelectionStart:g,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:l,panOnDrag:V,isSelecting:!!K,selectionMode:p,selectionKeyPressed:Y,paneClickDistance:c,selectionOnDrag:J,children:[e,M&&u.jsx(F4,{onSelectionContextMenu:A,noPanClassName:F,disableKeyboardA11y:X})]})})}WC.displayName="FlowRenderer";const V4=S.memo(WC),H4=e=>t=>e?ux(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function U4(e){return yt(S.useCallback(H4(e),[e]),Bt)}const W4=e=>e.updateNodeInternals;function q4(){const e=yt(W4),[t]=S.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return S.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Y4({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=Ht(),i=S.useRef(null),l=S.useRef(null),c=S.useRef(e.sourcePosition),d=S.useRef(e.targetPosition),f=S.useRef(t),m=n&&!!e.internals.handleBounds;return S.useEffect(()=>{i.current&&!e.hidden&&(!m||l.current!==i.current)&&(l.current&&(r==null||r.unobserve(l.current)),r==null||r.observe(i.current),l.current=i.current)},[m,e.hidden]),S.useEffect(()=>()=>{l.current&&(r==null||r.unobserve(l.current),l.current=null)},[]),S.useEffect(()=>{if(i.current){const p=f.current!==t,g=c.current!==e.sourcePosition,x=d.current!==e.targetPosition;(p||g||x)&&(f.current=t,c.current=e.sourcePosition,d.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function X4({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:l,nodesDraggable:c,elementsSelectable:d,nodesConnectable:f,nodesFocusable:m,resizeObserver:p,noDragClassName:g,noPanClassName:x,disableKeyboardA11y:b,rfId:v,nodeTypes:w,nodeClickDistance:k,onError:E}){const{node:C,internals:_,isParent:R}=yt(te=>{const Q=te.nodeLookup.get(e),ie=te.parentLookup.has(e);return{node:Q,internals:Q.internals,isParent:ie}},Bt);let P=C.type||"default",T=(w==null?void 0:w[P])||Nb[P];T===void 0&&(E==null||E("003",to.error003(P)),P="default",T=(w==null?void 0:w.default)||Nb.default);const L=!!(C.draggable||c&&typeof C.draggable>"u"),U=!!(C.selectable||d&&typeof C.selectable>"u"),z=!!(C.connectable||f&&typeof C.connectable>"u"),B=!!(C.focusable||m&&typeof C.focusable>"u"),q=Ht(),G=fx(C),A=Y4({node:C,nodeType:P,hasDimensions:G,resizeObserver:p}),O=VC({nodeRef:A,disabled:C.hidden||!L,noDragClassName:g,handleSelector:C.dragHandle,nodeId:e,isSelectable:U,nodeClickDistance:k}),F=HC();if(C.hidden)return null;const X=_o(C),D=z4(C),W=U||L||t||n||r||o,M=n?te=>n(te,{..._.userNode}):void 0,H=r?te=>r(te,{..._.userNode}):void 0,Y=o?te=>o(te,{..._.userNode}):void 0,I=i?te=>i(te,{..._.userNode}):void 0,V=l?te=>l(te,{..._.userNode}):void 0,Z=te=>{const{selectNodesOnDrag:Q,nodeDragThreshold:ie}=q.getState();U&&(!Q||!L||ie>0)&&ug({id:e,store:q,nodeRef:A}),t&&t(te,{..._.userNode})},J=te=>{if(!(gC(te.nativeEvent)||b)){if(iC.includes(te.key)&&U){const Q=te.key==="Escape";ug({id:e,store:q,unselect:Q,nodeRef:A})}else if(L&&C.selected&&Object.prototype.hasOwnProperty.call(Bd,te.key)){te.preventDefault();const{ariaLabelConfig:Q}=q.getState();q.setState({ariaLiveMessage:Q["node.a11yDescription.ariaLiveMessage"]({direction:te.key.replace("Arrow","").toLowerCase(),x:~~_.positionAbsolute.x,y:~~_.positionAbsolute.y})}),F({direction:Bd[te.key],factor:te.shiftKey?4:1})}}},K=()=>{var xe;if(b||!((xe=A.current)!=null&&xe.matches(":focus-visible")))return;const{transform:te,width:Q,height:ie,autoPanOnNodeFocus:le,setCenter:de}=q.getState();if(!le)return;ux(new Map([[e,C]]),{x:0,y:0,width:Q,height:ie},te,!0).length>0||de(C.position.x+X.width/2,C.position.y+X.height/2,{zoom:te[2]})};return u.jsx("div",{className:Jt(["react-flow__node",`react-flow__node-${P}`,{[x]:L},C.className,{selected:C.selected,selectable:U,parent:R,draggable:L,dragging:O}]),ref:A,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:W?"all":"none",visibility:G?"visible":"hidden",...C.style,...D},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:M,onMouseMove:H,onMouseLeave:Y,onContextMenu:I,onClick:Z,onDoubleClick:V,onKeyDown:B?J:void 0,tabIndex:B?0:void 0,onFocus:B?K:void 0,role:C.ariaRole??(B?"group":void 0),"aria-roledescription":"node","aria-describedby":b?void 0:`${MC}-${v}`,"aria-label":C.ariaLabel,...C.domAttributes,children:u.jsx(A4,{value:e,children:u.jsx(T,{id:e,data:C.data,type:P,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:C.selected??!1,selectable:U,draggable:L,deletable:C.deletable??!0,isConnectable:z,sourcePosition:C.sourcePosition,targetPosition:C.targetPosition,dragging:O,dragHandle:C.dragHandle,zIndex:_.z,parentId:C.parentId,...X})})})}var G4=S.memo(X4);const K4=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function qC(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=yt(K4,Bt),l=U4(e.onlyRenderVisibleElements),c=q4();return u.jsx("div",{className:"react-flow__nodes",style:bf,children:l.map(d=>u.jsx(G4,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:c,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},d))})}qC.displayName="NodeRenderer";const Q4=S.memo(qC);function J4(e){return yt(S.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),l=n.nodeLookup.get(o.target);i&&l&&YL({sourceNode:i,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),Bt)}const Z4=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return u.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},e3=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return u.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},jb={[nc.Arrow]:Z4,[nc.ArrowClosed]:e3};function t3(e){const t=Ht();return S.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(jb,e)?jb[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",to.error009(e)),null)},[e])}const n3=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{const d=t3(t);return d?u.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:c,refX:"0",refY:"0",children:u.jsx(d,{color:n,strokeWidth:l})}):null},YC=({defaultColor:e,rfId:t})=>{const n=yt(i=>i.edges),r=yt(i=>i.defaultEdgeOptions),o=S.useMemo(()=>tz(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?u.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:u.jsx("defs",{children:o.map(i=>u.jsx(n3,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};YC.displayName="MarkerDefinitions";var r3=S.memo(YC);function XC({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:d,className:f,...m}){const[p,g]=S.useState({x:1,y:0,width:0,height:0}),x=Jt(["react-flow__edge-textwrapper",f]),b=S.useRef(null);return S.useEffect(()=>{if(b.current){const v=b.current.getBBox();g({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?u.jsxs("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:x,visibility:p.width?"visible":"hidden",...m,children:[o&&u.jsx("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:i,rx:c,ry:c}),u.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:b,style:r,children:n}),d]}):null}XC.displayName="EdgeText";const o3=S.memo(XC);function Sf({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,interactionWidth:f=20,...m}){return u.jsxs(u.Fragment,{children:[u.jsx("path",{...m,d:e,fill:"none",className:Jt(["react-flow__edge-path",m.className])}),f?u.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&Rr(t)&&Rr(n)?u.jsx(o3,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d}):null]})}function _b({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Ie.Left||e===Ie.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function GC({sourceX:e,sourceY:t,sourcePosition:n=Ie.Bottom,targetX:r,targetY:o,targetPosition:i=Ie.Top}){const[l,c]=_b({pos:n,x1:e,y1:t,x2:r,y2:o}),[d,f]=_b({pos:i,x1:r,y1:o,x2:e,y2:t}),[m,p,g,x]=yC({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:f});return[`M${e},${t} C${l},${c} ${d},${f} ${r},${o}`,m,p,g,x]}function KC(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:l,targetPosition:c,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:v,markerStart:w,interactionWidth:k})=>{const[E,C,_]=GC({sourceX:n,sourceY:r,sourcePosition:l,targetX:o,targetY:i,targetPosition:c}),R=e.isInternal?void 0:t;return u.jsx(Sf,{id:R,path:E,labelX:C,labelY:_,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:v,markerStart:w,interactionWidth:k})})}const i3=KC({isInternal:!1}),QC=KC({isInternal:!0});i3.displayName="SimpleBezierEdge";QC.displayName="SimpleBezierEdgeInternal";function JC(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:g,sourcePosition:x=Ie.Bottom,targetPosition:b=Ie.Top,markerEnd:v,markerStart:w,pathOptions:k,interactionWidth:E})=>{const[C,_,R]=sg({sourceX:n,sourceY:r,sourcePosition:x,targetX:o,targetY:i,targetPosition:b,borderRadius:k==null?void 0:k.borderRadius,offset:k==null?void 0:k.offset,stepPosition:k==null?void 0:k.stepPosition}),P=e.isInternal?void 0:t;return u.jsx(Sf,{id:P,path:C,labelX:_,labelY:R,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:g,markerEnd:v,markerStart:w,interactionWidth:E})})}const ZC=JC({isInternal:!1}),eN=JC({isInternal:!0});ZC.displayName="SmoothStepEdge";eN.displayName="SmoothStepEdgeInternal";function tN(e){return S.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return u.jsx(ZC,{...n,id:r,pathOptions:S.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const s3=tN({isInternal:!1}),nN=tN({isInternal:!0});s3.displayName="StepEdge";nN.displayName="StepEdgeInternal";function rN(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:g,markerEnd:x,markerStart:b,interactionWidth:v})=>{const[w,k,E]=hx({sourceX:n,sourceY:r,targetX:o,targetY:i}),C=e.isInternal?void 0:t;return u.jsx(Sf,{id:C,path:w,labelX:k,labelY:E,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:g,markerEnd:x,markerStart:b,interactionWidth:v})})}const l3=rN({isInternal:!1}),oN=rN({isInternal:!0});l3.displayName="StraightEdge";oN.displayName="StraightEdgeInternal";function iN(e){return S.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:l=Ie.Bottom,targetPosition:c=Ie.Top,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:v,markerStart:w,pathOptions:k,interactionWidth:E})=>{const[C,_,R]=vC({sourceX:n,sourceY:r,sourcePosition:l,targetX:o,targetY:i,targetPosition:c,curvature:k==null?void 0:k.curvature}),P=e.isInternal?void 0:t;return u.jsx(Sf,{id:P,path:C,labelX:_,labelY:R,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:v,markerStart:w,interactionWidth:E})})}const a3=iN({isInternal:!1}),sN=iN({isInternal:!0});a3.displayName="BezierEdge";sN.displayName="BezierEdgeInternal";const Pb={default:sN,straight:oN,step:nN,smoothstep:eN,simplebezier:QC},Ab={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},c3=(e,t,n)=>n===Ie.Left?e-t:n===Ie.Right?e+t:e,u3=(e,t,n)=>n===Ie.Top?e-t:n===Ie.Bottom?e+t:e,Ib="react-flow__edgeupdater";function Tb({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:l,type:c}){return u.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:l,className:Jt([Ib,`${Ib}-${c}`]),cx:c3(t,r,e),cy:u3(n,r,e),r,stroke:"transparent",fill:"transparent"})}function d3({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:l,sourcePosition:c,targetPosition:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:p,setReconnecting:g,setUpdateHover:x}){const b=Ht(),v=(_,R)=>{if(_.button!==0)return;const{autoPanOnConnect:P,domNode:T,isValidConnection:L,connectionMode:U,connectionRadius:z,lib:B,onConnectStart:q,onConnectEnd:G,cancelConnection:A,nodeLookup:O,rfId:F,panBy:X,updateConnection:D}=b.getState(),W=R.type==="target",M=(I,V)=>{g(!1),p==null||p(I,n,R.type,V)},H=I=>f==null?void 0:f(n,I),Y=(I,V)=>{g(!0),m==null||m(_,n,R.type),q==null||q(I,V)};cg.onPointerDown(_.nativeEvent,{autoPanOnConnect:P,connectionMode:U,connectionRadius:z,domNode:T,handleId:R.id,nodeId:R.nodeId,nodeLookup:O,isTarget:W,edgeUpdaterType:R.type,lib:B,flowId:F,cancelConnection:A,panBy:X,isValidConnection:L,onConnect:H,onConnectStart:Y,onConnectEnd:G,onReconnectEnd:M,updateConnection:D,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,dragThreshold:b.getState().connectionDragThreshold,handleDomNode:_.currentTarget})},w=_=>v(_,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),k=_=>v(_,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),E=()=>x(!0),C=()=>x(!1);return u.jsxs(u.Fragment,{children:[(e===!0||e==="source")&&u.jsx(Tb,{position:c,centerX:r,centerY:o,radius:t,onMouseDown:w,onMouseEnter:E,onMouseOut:C,type:"source"}),(e===!0||e==="target")&&u.jsx(Tb,{position:d,centerX:i,centerY:l,radius:t,onMouseDown:k,onMouseEnter:E,onMouseOut:C,type:"target"})]})}function f3({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:l,onMouseEnter:c,onMouseMove:d,onMouseLeave:f,reconnectRadius:m,onReconnect:p,onReconnectStart:g,onReconnectEnd:x,rfId:b,edgeTypes:v,noPanClassName:w,onError:k,disableKeyboardA11y:E}){let C=yt(de=>de.edgeLookup.get(e));const _=yt(de=>de.defaultEdgeOptions);C=_?{..._,...C}:C;let R=C.type||"default",P=(v==null?void 0:v[R])||Pb[R];P===void 0&&(k==null||k("011",to.error011(R)),R="default",P=(v==null?void 0:v.default)||Pb.default);const T=!!(C.focusable||t&&typeof C.focusable>"u"),L=typeof p<"u"&&(C.reconnectable||n&&typeof C.reconnectable>"u"),U=!!(C.selectable||r&&typeof C.selectable>"u"),z=S.useRef(null),[B,q]=S.useState(!1),[G,A]=S.useState(!1),O=Ht(),{zIndex:F,sourceX:X,sourceY:D,targetX:W,targetY:M,sourcePosition:H,targetPosition:Y}=yt(S.useCallback(de=>{const fe=de.nodeLookup.get(C.source),xe=de.nodeLookup.get(C.target);if(!fe||!xe)return{zIndex:C.zIndex,...Ab};const De=ez({id:e,sourceNode:fe,targetNode:xe,sourceHandle:C.sourceHandle||null,targetHandle:C.targetHandle||null,connectionMode:de.connectionMode,onError:k});return{zIndex:qL({selected:C.selected,zIndex:C.zIndex,sourceNode:fe,targetNode:xe,elevateOnSelect:de.elevateEdgesOnSelect,zIndexMode:de.zIndexMode}),...De||Ab}},[C.source,C.target,C.sourceHandle,C.targetHandle,C.selected,C.zIndex]),Bt),I=S.useMemo(()=>C.markerStart?`url('#${lg(C.markerStart,b)}')`:void 0,[C.markerStart,b]),V=S.useMemo(()=>C.markerEnd?`url('#${lg(C.markerEnd,b)}')`:void 0,[C.markerEnd,b]);if(C.hidden||X===null||D===null||W===null||M===null)return null;const Z=de=>{var Me;const{addSelectedEdges:fe,unselectNodesAndEdges:xe,multiSelectionActive:De}=O.getState();U&&(O.setState({nodesSelectionActive:!1}),C.selected&&De?(xe({nodes:[],edges:[C]}),(Me=z.current)==null||Me.blur()):fe([e])),o&&o(de,C)},J=i?de=>{i(de,{...C})}:void 0,K=l?de=>{l(de,{...C})}:void 0,te=c?de=>{c(de,{...C})}:void 0,Q=d?de=>{d(de,{...C})}:void 0,ie=f?de=>{f(de,{...C})}:void 0,le=de=>{var fe;if(!E&&iC.includes(de.key)&&U){const{unselectNodesAndEdges:xe,addSelectedEdges:De}=O.getState();de.key==="Escape"?((fe=z.current)==null||fe.blur(),xe({edges:[C]})):De([e])}};return u.jsx("svg",{style:{zIndex:F},children:u.jsxs("g",{className:Jt(["react-flow__edge",`react-flow__edge-${R}`,C.className,w,{selected:C.selected,animated:C.animated,inactive:!U&&!o,updating:B,selectable:U}]),onClick:Z,onDoubleClick:J,onContextMenu:K,onMouseEnter:te,onMouseMove:Q,onMouseLeave:ie,onKeyDown:T?le:void 0,tabIndex:T?0:void 0,role:C.ariaRole??(T?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":C.ariaLabel===null?void 0:C.ariaLabel||`Edge from ${C.source} to ${C.target}`,"aria-describedby":T?`${DC}-${b}`:void 0,ref:z,...C.domAttributes,children:[!G&&u.jsx(P,{id:e,source:C.source,target:C.target,type:C.type,selected:C.selected,animated:C.animated,selectable:U,deletable:C.deletable??!0,label:C.label,labelStyle:C.labelStyle,labelShowBg:C.labelShowBg,labelBgStyle:C.labelBgStyle,labelBgPadding:C.labelBgPadding,labelBgBorderRadius:C.labelBgBorderRadius,sourceX:X,sourceY:D,targetX:W,targetY:M,sourcePosition:H,targetPosition:Y,data:C.data,style:C.style,sourceHandleId:C.sourceHandle,targetHandleId:C.targetHandle,markerStart:I,markerEnd:V,pathOptions:"pathOptions"in C?C.pathOptions:void 0,interactionWidth:C.interactionWidth}),L&&u.jsx(d3,{edge:C,isReconnectable:L,reconnectRadius:m,onReconnect:p,onReconnectStart:g,onReconnectEnd:x,sourceX:X,sourceY:D,targetX:W,targetY:M,sourcePosition:H,targetPosition:Y,setUpdateHover:q,setReconnecting:A})]})})}var p3=S.memo(f3);const h3=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function lN({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:m,reconnectRadius:p,onEdgeDoubleClick:g,onReconnectStart:x,onReconnectEnd:b,disableKeyboardA11y:v}){const{edgesFocusable:w,edgesReconnectable:k,elementsSelectable:E,onError:C}=yt(h3,Bt),_=J4(t);return u.jsxs("div",{className:"react-flow__edges",children:[u.jsx(r3,{defaultColor:e,rfId:n}),_.map(R=>u.jsx(p3,{id:R,edgesFocusable:w,edgesReconnectable:k,elementsSelectable:E,noPanClassName:o,onReconnect:i,onContextMenu:l,onMouseEnter:c,onMouseMove:d,onMouseLeave:f,onClick:m,reconnectRadius:p,onDoubleClick:g,onReconnectStart:x,onReconnectEnd:b,rfId:n,onError:C,edgeTypes:r,disableKeyboardA11y:v},R))]})}lN.displayName="EdgeRenderer";const m3=S.memo(lN),g3=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function x3({children:e}){const t=yt(g3);return u.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function y3(e){const t=di(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const v3=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function w3(e){const t=yt(v3),n=Ht();return S.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function b3(e){return e.connection.inProgress?{...e.connection,to:wc(e.connection.to,e.transform)}:{...e.connection}}function S3(e){return b3}function bx(e){const t=S3();return yt(t,Bt)}const k3=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function C3({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:l,isValid:c,inProgress:d}=yt(k3,Bt);return!(i&&o&&d)?null:u.jsx("svg",{style:e,width:i,height:l,className:"react-flow__connectionline react-flow__container",children:u.jsx("g",{className:Jt(["react-flow__connection",aC(c)]),children:u.jsx(aN,{style:t,type:n,CustomComponent:r,isValid:c})})})}const aN=({style:e,type:t=ri.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:l,fromHandle:c,fromPosition:d,to:f,toNode:m,toHandle:p,toPosition:g,pointer:x}=bx();if(!o)return;if(n)return u.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:c,fromX:i.x,fromY:i.y,toX:f.x,toY:f.y,fromPosition:d,toPosition:g,connectionStatus:aC(r),toNode:m,toHandle:p,pointer:x});let b="";const v={sourceX:i.x,sourceY:i.y,sourcePosition:d,targetX:f.x,targetY:f.y,targetPosition:g};switch(t){case ri.Bezier:[b]=vC(v);break;case ri.SimpleBezier:[b]=GC(v);break;case ri.Step:[b]=sg({...v,borderRadius:0});break;case ri.SmoothStep:[b]=sg(v);break;default:[b]=hx(v)}return u.jsx("path",{d:b,fill:"none",className:"react-flow__connection-path",style:e})};aN.displayName="ConnectionLine";const N3={};function Rb(e=N3){S.useRef(e),Ht(),S.useEffect(()=>{},[e])}function E3(){Ht(),S.useRef(!1),S.useEffect(()=>{},[])}function cN({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:p,onSelectionStart:g,onSelectionEnd:x,connectionLineType:b,connectionLineStyle:v,connectionLineComponent:w,connectionLineContainerStyle:k,selectionKeyCode:E,selectionOnDrag:C,selectionMode:_,multiSelectionKeyCode:R,panActivationKeyCode:P,zoomActivationKeyCode:T,deleteKeyCode:L,onlyRenderVisibleElements:U,elementsSelectable:z,defaultViewport:B,translateExtent:q,minZoom:G,maxZoom:A,preventScrolling:O,defaultMarkerColor:F,zoomOnScroll:X,zoomOnPinch:D,panOnScroll:W,panOnScrollSpeed:M,panOnScrollMode:H,zoomOnDoubleClick:Y,panOnDrag:I,onPaneClick:V,onPaneMouseEnter:Z,onPaneMouseMove:J,onPaneMouseLeave:K,onPaneScroll:te,onPaneContextMenu:Q,paneClickDistance:ie,nodeClickDistance:le,onEdgeContextMenu:de,onEdgeMouseEnter:fe,onEdgeMouseMove:xe,onEdgeMouseLeave:De,reconnectRadius:Me,onReconnect:it,onReconnectStart:nt,onReconnectEnd:et,noDragClassName:ke,noWheelClassName:We,noPanClassName:lt,disableKeyboardA11y:vt,nodeExtent:Et,rfId:It,viewport:ue,onViewportChange:pe}){return Rb(e),Rb(t),E3(),y3(n),w3(ue),u.jsx(V4,{onPaneClick:V,onPaneMouseEnter:Z,onPaneMouseMove:J,onPaneMouseLeave:K,onPaneContextMenu:Q,onPaneScroll:te,paneClickDistance:ie,deleteKeyCode:L,selectionKeyCode:E,selectionOnDrag:C,selectionMode:_,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:R,panActivationKeyCode:P,zoomActivationKeyCode:T,elementsSelectable:z,zoomOnScroll:X,zoomOnPinch:D,zoomOnDoubleClick:Y,panOnScroll:W,panOnScrollSpeed:M,panOnScrollMode:H,panOnDrag:I,defaultViewport:B,translateExtent:q,minZoom:G,maxZoom:A,onSelectionContextMenu:p,preventScrolling:O,noDragClassName:ke,noWheelClassName:We,noPanClassName:lt,disableKeyboardA11y:vt,onViewportChange:pe,isControlledViewport:!!ue,children:u.jsxs(x3,{children:[u.jsx(m3,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:l,onReconnect:it,onReconnectStart:nt,onReconnectEnd:et,onlyRenderVisibleElements:U,onEdgeContextMenu:de,onEdgeMouseEnter:fe,onEdgeMouseMove:xe,onEdgeMouseLeave:De,reconnectRadius:Me,defaultMarkerColor:F,noPanClassName:lt,disableKeyboardA11y:vt,rfId:It}),u.jsx(C3,{style:v,type:b,component:w,containerStyle:k}),u.jsx("div",{className:"react-flow__edgelabel-renderer"}),u.jsx(Q4,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,nodeClickDistance:le,onlyRenderVisibleElements:U,noPanClassName:lt,noDragClassName:ke,disableKeyboardA11y:vt,nodeExtent:Et,rfId:It}),u.jsx("div",{className:"react-flow__viewport-portal"})]})})}cN.displayName="GraphView";const j3=S.memo(cN),Mb=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:l,fitViewOptions:c,minZoom:d=.5,maxZoom:f=2,nodeOrigin:m,nodeExtent:p,zIndexMode:g="basic"}={})=>{const x=new Map,b=new Map,v=new Map,w=new Map,k=r??t??[],E=n??e??[],C=m??[0,0],_=p??ec;kC(v,w,k);const R=ag(E,x,b,{nodeOrigin:C,nodeExtent:_,zIndexMode:g});let P=[0,0,1];if(l&&o&&i){const T=yc(x,{filter:B=>!!((B.width||B.initialWidth)&&(B.height||B.initialHeight))}),{x:L,y:U,zoom:z}=dx(T,o,i,d,f,(c==null?void 0:c.padding)??.1);P=[L,U,z]}return{rfId:"1",width:o??0,height:i??0,transform:P,nodes:E,nodesInitialized:R,nodeLookup:x,parentLookup:b,edges:k,edgeLookup:w,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:d,maxZoom:f,translateExtent:ec,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:rl.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:C,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:c,fitViewResolver:null,connection:{...lC},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:FL,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:sC,zIndexMode:g,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},_3=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:f,nodeOrigin:m,nodeExtent:p,zIndexMode:g})=>qz((x,b)=>{async function v(){const{nodeLookup:w,panZoom:k,fitViewOptions:E,fitViewResolver:C,width:_,height:R,minZoom:P,maxZoom:T}=b();k&&(await zL({nodes:w,width:_,height:R,panZoom:k,minZoom:P,maxZoom:T},E),C==null||C.resolve(!0),x({fitViewResolver:null}))}return{...Mb({nodes:e,edges:t,width:o,height:i,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:f,nodeOrigin:m,nodeExtent:p,defaultNodes:n,defaultEdges:r,zIndexMode:g}),setNodes:w=>{const{nodeLookup:k,parentLookup:E,nodeOrigin:C,elevateNodesOnSelect:_,fitViewQueued:R,zIndexMode:P}=b(),T=ag(w,k,E,{nodeOrigin:C,nodeExtent:p,elevateNodesOnSelect:_,checkEquality:!0,zIndexMode:P});R&&T?(v(),x({nodes:w,nodesInitialized:T,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:w,nodesInitialized:T})},setEdges:w=>{const{connectionLookup:k,edgeLookup:E}=b();kC(k,E,w),x({edges:w})},setDefaultNodesAndEdges:(w,k)=>{if(w){const{setNodes:E}=b();E(w),x({hasDefaultNodes:!0})}if(k){const{setEdges:E}=b();E(k),x({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:k,nodeLookup:E,parentLookup:C,domNode:_,nodeOrigin:R,nodeExtent:P,debug:T,fitViewQueued:L,zIndexMode:U}=b(),{changes:z,updatedInternals:B}=az(w,E,C,_,R,P,U);B&&(oz(E,C,{nodeOrigin:R,nodeExtent:P,zIndexMode:U}),L?(v(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),(z==null?void 0:z.length)>0&&(T&&console.log("React Flow: trigger node changes",z),k==null||k(z)))},updateNodePositions:(w,k=!1)=>{const E=[];let C=[];const{nodeLookup:_,triggerNodeChanges:R,connection:P,updateConnection:T,onNodesChangeMiddlewareMap:L}=b();for(const[U,z]of w){const B=_.get(U),q=!!(B!=null&&B.expandParent&&(B!=null&&B.parentId)&&(z!=null&&z.position)),G={id:U,type:"position",position:q?{x:Math.max(0,z.position.x),y:Math.max(0,z.position.y)}:z.position,dragging:k};if(B&&P.inProgress&&P.fromNode.id===B.id){const A=Qi(B,P.fromHandle,Ie.Left,!0);T({...P,from:A})}q&&B.parentId&&E.push({id:U,parentId:B.parentId,rect:{...z.internals.positionAbsolute,width:z.measured.width??0,height:z.measured.height??0}}),C.push(G)}if(E.length>0){const{parentLookup:U,nodeOrigin:z}=b(),B=vx(E,_,U,z);C.push(...B)}for(const U of L.values())C=U(C);R(C)},triggerNodeChanges:w=>{const{onNodesChange:k,setNodes:E,nodes:C,hasDefaultNodes:_,debug:R}=b();if(w!=null&&w.length){if(_){const P=zC(w,C);E(P)}R&&console.log("React Flow: trigger node changes",w),k==null||k(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:k,setEdges:E,edges:C,hasDefaultEdges:_,debug:R}=b();if(w!=null&&w.length){if(_){const P=$C(w,C);E(P)}R&&console.log("React Flow: trigger edge changes",w),k==null||k(w)}},addSelectedNodes:w=>{const{multiSelectionActive:k,edgeLookup:E,nodeLookup:C,triggerNodeChanges:_,triggerEdgeChanges:R}=b();if(k){const P=w.map(T=>zi(T,!0));_(P);return}_(Us(C,new Set([...w]),!0)),R(Us(E))},addSelectedEdges:w=>{const{multiSelectionActive:k,edgeLookup:E,nodeLookup:C,triggerNodeChanges:_,triggerEdgeChanges:R}=b();if(k){const P=w.map(T=>zi(T,!0));R(P);return}R(Us(E,new Set([...w]))),_(Us(C,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:k}={})=>{const{edges:E,nodes:C,nodeLookup:_,triggerNodeChanges:R,triggerEdgeChanges:P}=b(),T=w||C,L=k||E,U=T.map(B=>{const q=_.get(B.id);return q&&(q.selected=!1),zi(B.id,!1)}),z=L.map(B=>zi(B.id,!1));R(U),P(z)},setMinZoom:w=>{const{panZoom:k,maxZoom:E}=b();k==null||k.setScaleExtent([w,E]),x({minZoom:w})},setMaxZoom:w=>{const{panZoom:k,minZoom:E}=b();k==null||k.setScaleExtent([E,w]),x({maxZoom:w})},setTranslateExtent:w=>{var k;(k=b().panZoom)==null||k.setTranslateExtent(w),x({translateExtent:w})},resetSelectedElements:()=>{const{edges:w,nodes:k,triggerNodeChanges:E,triggerEdgeChanges:C,elementsSelectable:_}=b();if(!_)return;const R=k.reduce((T,L)=>L.selected?[...T,zi(L.id,!1)]:T,[]),P=w.reduce((T,L)=>L.selected?[...T,zi(L.id,!1)]:T,[]);E(R),C(P)},setNodeExtent:w=>{const{nodes:k,nodeLookup:E,parentLookup:C,nodeOrigin:_,elevateNodesOnSelect:R,nodeExtent:P,zIndexMode:T}=b();w[0][0]===P[0][0]&&w[0][1]===P[0][1]&&w[1][0]===P[1][0]&&w[1][1]===P[1][1]||(ag(k,E,C,{nodeOrigin:_,nodeExtent:w,elevateNodesOnSelect:R,checkEquality:!1,zIndexMode:T}),x({nodeExtent:w}))},panBy:w=>{const{transform:k,width:E,height:C,panZoom:_,translateExtent:R}=b();return cz({delta:w,panZoom:_,transform:k,translateExtent:R,width:E,height:C})},setCenter:async(w,k,E)=>{const{width:C,height:_,maxZoom:R,panZoom:P}=b();if(!P)return Promise.resolve(!1);const T=typeof(E==null?void 0:E.zoom)<"u"?E.zoom:R;return await P.setViewport({x:C/2-w*T,y:_/2-k*T,zoom:T},{duration:E==null?void 0:E.duration,ease:E==null?void 0:E.ease,interpolate:E==null?void 0:E.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{...lC}})},updateConnection:w=>{x({connection:w})},reset:()=>x({...Mb()})}},Object.is);function uN({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:d,fitView:f,nodeOrigin:m,nodeExtent:p,zIndexMode:g,children:x}){const[b]=S.useState(()=>_3({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:f,minZoom:l,maxZoom:c,fitViewOptions:d,nodeOrigin:m,nodeExtent:p,zIndexMode:g}));return u.jsx(Xz,{value:b,children:u.jsx(x4,{children:x})})}function P3({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:l,fitView:c,fitViewOptions:d,minZoom:f,maxZoom:m,nodeOrigin:p,nodeExtent:g,zIndexMode:x}){return S.useContext(wf)?u.jsx(u.Fragment,{children:e}):u.jsx(uN,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:l,fitView:c,initialFitViewOptions:d,initialMinZoom:f,initialMaxZoom:m,nodeOrigin:p,nodeExtent:g,zIndexMode:x,children:e})}const A3={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function I3({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:l,onNodeClick:c,onEdgeClick:d,onInit:f,onMove:m,onMoveStart:p,onMoveEnd:g,onConnect:x,onConnectStart:b,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:k,onNodeMouseEnter:E,onNodeMouseMove:C,onNodeMouseLeave:_,onNodeContextMenu:R,onNodeDoubleClick:P,onNodeDragStart:T,onNodeDrag:L,onNodeDragStop:U,onNodesDelete:z,onEdgesDelete:B,onDelete:q,onSelectionChange:G,onSelectionDragStart:A,onSelectionDrag:O,onSelectionDragStop:F,onSelectionContextMenu:X,onSelectionStart:D,onSelectionEnd:W,onBeforeDelete:M,connectionMode:H,connectionLineType:Y=ri.Bezier,connectionLineStyle:I,connectionLineComponent:V,connectionLineContainerStyle:Z,deleteKeyCode:J="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:te=!1,selectionMode:Q=tc.Full,panActivationKeyCode:ie="Space",multiSelectionKeyCode:le=oc()?"Meta":"Control",zoomActivationKeyCode:de=oc()?"Meta":"Control",snapToGrid:fe,snapGrid:xe,onlyRenderVisibleElements:De=!1,selectNodesOnDrag:Me,nodesDraggable:it,autoPanOnNodeFocus:nt,nodesConnectable:et,nodesFocusable:ke,nodeOrigin:We=OC,edgesFocusable:lt,edgesReconnectable:vt,elementsSelectable:Et=!0,defaultViewport:It=l4,minZoom:ue=.5,maxZoom:pe=2,translateExtent:Ae=ec,preventScrolling:_e=!0,nodeExtent:Ye,defaultMarkerColor:ut="#b1b1b7",zoomOnScroll:bt=!0,zoomOnPinch:Ct=!0,panOnScroll:Tt=!1,panOnScrollSpeed:_t=.5,panOnScrollMode:pt=qi.Free,zoomOnDoubleClick:Pt=!0,panOnDrag:he=!0,onPaneClick:Ne,onPaneMouseEnter:re,onPaneMouseMove:Ce,onPaneMouseLeave:Be,onPaneScroll:Ee,onPaneContextMenu:Ze,paneClickDistance:Fe=1,nodeClickDistance:Oe=0,children:Ge,onReconnect:dt,onReconnectStart:Rt,onReconnectEnd:jt,onEdgeContextMenu:zt,onEdgeDoubleClick:Mt,onEdgeMouseEnter:dr,onEdgeMouseMove:Zt,onEdgeMouseLeave:lo,reconnectRadius:Fn=10,onNodesChange:wi,onEdgesChange:ao,noDragClassName:Vr="nodrag",noWheelClassName:_l="nowheel",noPanClassName:Hr="nopan",fitView:Pl,fitViewOptions:Al,connectOnClick:ip,attributionPosition:Rc,proOptions:Mc,defaultEdgeOptions:Dc,elevateNodesOnSelect:Oc=!0,elevateEdgesOnSelect:sp=!1,disableKeyboardA11y:Lc=!1,autoPanOnConnect:Ut,autoPanOnNodeDrag:lp,autoPanSpeed:Il,connectionRadius:zc,isValidConnection:is,onError:ap,style:$c,id:bi,nodeDragThreshold:fr,connectionDragThreshold:cp,viewport:Qn,onViewportChange:up,width:dp,height:fp,colorMode:ss="light",debug:ls,onScroll:Ur,ariaLabelConfig:as,zIndexMode:Fc="basic",...pp},Tl){const cs=bi||"1",Rl=d4(ss),Si=S.useCallback(Bc=>{Bc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ur==null||Ur(Bc)},[Ur]);return u.jsx("div",{"data-testid":"rf__wrapper",...pp,onScroll:Si,style:{...$c,...A3},ref:Tl,className:Jt(["react-flow",o,Rl]),id:bi,role:"application",children:u.jsxs(P3,{nodes:e,edges:t,width:dp,height:fp,fitView:Pl,fitViewOptions:Al,minZoom:ue,maxZoom:pe,nodeOrigin:We,nodeExtent:Ye,zIndexMode:Fc,children:[u.jsx(j3,{onInit:f,onNodeClick:c,onEdgeClick:d,onNodeMouseEnter:E,onNodeMouseMove:C,onNodeMouseLeave:_,onNodeContextMenu:R,onNodeDoubleClick:P,nodeTypes:i,edgeTypes:l,connectionLineType:Y,connectionLineStyle:I,connectionLineComponent:V,connectionLineContainerStyle:Z,selectionKeyCode:K,selectionOnDrag:te,selectionMode:Q,deleteKeyCode:J,multiSelectionKeyCode:le,panActivationKeyCode:ie,zoomActivationKeyCode:de,onlyRenderVisibleElements:De,defaultViewport:It,translateExtent:Ae,minZoom:ue,maxZoom:pe,preventScrolling:_e,zoomOnScroll:bt,zoomOnPinch:Ct,zoomOnDoubleClick:Pt,panOnScroll:Tt,panOnScrollSpeed:_t,panOnScrollMode:pt,panOnDrag:he,onPaneClick:Ne,onPaneMouseEnter:re,onPaneMouseMove:Ce,onPaneMouseLeave:Be,onPaneScroll:Ee,onPaneContextMenu:Ze,paneClickDistance:Fe,nodeClickDistance:Oe,onSelectionContextMenu:X,onSelectionStart:D,onSelectionEnd:W,onReconnect:dt,onReconnectStart:Rt,onReconnectEnd:jt,onEdgeContextMenu:zt,onEdgeDoubleClick:Mt,onEdgeMouseEnter:dr,onEdgeMouseMove:Zt,onEdgeMouseLeave:lo,reconnectRadius:Fn,defaultMarkerColor:ut,noDragClassName:Vr,noWheelClassName:_l,noPanClassName:Hr,rfId:cs,disableKeyboardA11y:Lc,nodeExtent:Ye,viewport:Qn,onViewportChange:up}),u.jsx(u4,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:b,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:k,nodesDraggable:it,autoPanOnNodeFocus:nt,nodesConnectable:et,nodesFocusable:ke,edgesFocusable:lt,edgesReconnectable:vt,elementsSelectable:Et,elevateNodesOnSelect:Oc,elevateEdgesOnSelect:sp,minZoom:ue,maxZoom:pe,nodeExtent:Ye,onNodesChange:wi,onEdgesChange:ao,snapToGrid:fe,snapGrid:xe,connectionMode:H,translateExtent:Ae,connectOnClick:ip,defaultEdgeOptions:Dc,fitView:Pl,fitViewOptions:Al,onNodesDelete:z,onEdgesDelete:B,onDelete:q,onNodeDragStart:T,onNodeDrag:L,onNodeDragStop:U,onSelectionDrag:O,onSelectionDragStart:A,onSelectionDragStop:F,onMove:m,onMoveStart:p,onMoveEnd:g,noPanClassName:Hr,nodeOrigin:We,rfId:cs,autoPanOnConnect:Ut,autoPanOnNodeDrag:lp,autoPanSpeed:Il,onError:ap,connectionRadius:zc,isValidConnection:is,selectNodesOnDrag:Me,nodeDragThreshold:fr,connectionDragThreshold:cp,onBeforeDelete:M,debug:ls,ariaLabelConfig:as,zIndexMode:Fc}),u.jsx(s4,{onSelectionChange:G}),Ge,u.jsx(t4,{proOptions:Mc,position:Rc}),u.jsx(e4,{rfId:cs,disableKeyboardA11y:Lc})]})})}var T3=FC(I3);const R3=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function M3({children:e}){const t=yt(R3);return t?yl.createPortal(e,t):null}const D3=e=>t=>{if(!e.includeHiddenNodes)return t.nodesInitialized;if(t.nodeLookup.size===0)return!1;for(const[,{internals:n}]of t.nodeLookup)if(n.handleBounds===void 0||!fx(n.userNode))return!1;return!0};function O3(e={includeHiddenNodes:!1}){return yt(D3(e))}function Db(e){return yt(S.useCallback(n=>n.nodeLookup.get(e),[e]),Bt)}function L3({dimensions:e,lineWidth:t,variant:n,className:r}){return u.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Jt(["react-flow__background-pattern",n,r])})}function z3({radius:e,className:t}){return u.jsx("circle",{cx:e,cy:e,r:e,className:Jt(["react-flow__background-pattern","dots",t])})}var si;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(si||(si={}));const $3={[si.Dots]:1,[si.Lines]:1,[si.Cross]:6},F3=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function dN({id:e,variant:t=si.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:l,bgColor:c,style:d,className:f,patternClassName:m}){const p=S.useRef(null),{transform:g,patternId:x}=yt(F3,Bt),b=r||$3[t],v=t===si.Dots,w=t===si.Cross,k=Array.isArray(n)?n:[n,n],E=[k[0]*g[2]||1,k[1]*g[2]||1],C=b*g[2],_=Array.isArray(i)?i:[i,i],R=w?[C,C]:E,P=[_[0]*g[2]||1+R[0]/2,_[1]*g[2]||1+R[1]/2],T=`${x}${e||""}`;return u.jsxs("svg",{className:Jt(["react-flow__background",f]),style:{...d,...bf,"--xy-background-color-props":c,"--xy-background-pattern-color-props":l},ref:p,"data-testid":"rf__background",children:[u.jsx("pattern",{id:T,x:g[0]%E[0],y:g[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${P[0]},-${P[1]})`,children:v?u.jsx(z3,{radius:C/2,className:m}):u.jsx(L3,{dimensions:R,lineWidth:o,variant:t,className:m})}),u.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${T})`})]})}dN.displayName="Background";const B3=S.memo(dN);function V3(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:u.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function H3(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:u.jsx("path",{d:"M0 0h32v4.2H0z"})})}function U3(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:u.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function W3(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function q3(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ed({children:e,className:t,...n}){return u.jsx("button",{type:"button",className:Jt(["react-flow__controls-button",t]),...n,children:e})}const Y3=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function fN({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:l,onFitView:c,onInteractiveChange:d,className:f,children:m,position:p="bottom-left",orientation:g="vertical","aria-label":x}){const b=Ht(),{isInteractive:v,minZoomReached:w,maxZoomReached:k,ariaLabelConfig:E}=yt(Y3,Bt),{zoomIn:C,zoomOut:_,fitView:R}=di(),P=()=>{C(),i==null||i()},T=()=>{_(),l==null||l()},L=()=>{R(o),c==null||c()},U=()=>{b.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),d==null||d(!v)},z=g==="horizontal"?"horizontal":"vertical";return u.jsxs(bc,{className:Jt(["react-flow__controls",z,f]),position:p,style:e,"data-testid":"rf__controls","aria-label":x??E["controls.ariaLabel"],children:[t&&u.jsxs(u.Fragment,{children:[u.jsx(ed,{onClick:P,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:k,children:u.jsx(V3,{})}),u.jsx(ed,{onClick:T,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:w,children:u.jsx(H3,{})})]}),n&&u.jsx(ed,{className:"react-flow__controls-fitview",onClick:L,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:u.jsx(U3,{})}),r&&u.jsx(ed,{className:"react-flow__controls-interactive",onClick:U,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:v?u.jsx(q3,{}):u.jsx(W3,{})}),m]})}fN.displayName="Controls";const X3=S.memo(fN);function G3({id:e,x:t,y:n,width:r,height:o,style:i,color:l,strokeColor:c,strokeWidth:d,className:f,borderRadius:m,shapeRendering:p,selected:g,onClick:x}){const{background:b,backgroundColor:v}=i||{},w=l||b||v;return u.jsx("rect",{className:Jt(["react-flow__minimap-node",{selected:g},f]),x:t,y:n,rx:m,ry:m,width:r,height:o,style:{fill:w,stroke:c,strokeWidth:d},shapeRendering:p,onClick:x?k=>x(k,e):void 0})}const K3=S.memo(G3),Q3=e=>e.nodes.map(t=>t.id),gm=e=>e instanceof Function?e:()=>e;function J3({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=K3,onClick:l}){const c=yt(Q3,Bt),d=gm(t),f=gm(e),m=gm(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return u.jsx(u.Fragment,{children:c.map(g=>u.jsx(e$,{id:g,nodeColorFunc:d,nodeStrokeColorFunc:f,nodeClassNameFunc:m,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:l,shapeRendering:p},g))})}function Z3({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:l,NodeComponent:c,onClick:d}){const{node:f,x:m,y:p,width:g,height:x}=yt(b=>{const{internals:v}=b.nodeLookup.get(e),w=v.userNode,{x:k,y:E}=v.positionAbsolute,{width:C,height:_}=_o(w);return{node:w,x:k,y:E,width:C,height:_}},Bt);return!f||f.hidden||!fx(f)?null:u.jsx(c,{x:m,y:p,width:g,height:x,style:f.style,selected:!!f.selected,className:r(f),color:t(f),borderRadius:o,strokeColor:n(f),strokeWidth:i,shapeRendering:l,onClick:d,id:f.id})}const e$=S.memo(Z3);var t$=S.memo(J3);const n$=200,r$=150,o$=e=>!e.hidden,i$=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?pC(yc(e.nodeLookup,{filter:o$}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},s$="react-flow__minimap-desc";function pN({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:l,nodeComponent:c,bgColor:d,maskColor:f,maskStrokeColor:m,maskStrokeWidth:p,position:g="bottom-right",onClick:x,onNodeClick:b,pannable:v=!1,zoomable:w=!1,ariaLabel:k,inversePan:E,zoomStep:C=1,offsetScale:_=5}){const R=Ht(),P=S.useRef(null),{boundingRect:T,viewBB:L,rfId:U,panZoom:z,translateExtent:B,flowWidth:q,flowHeight:G,ariaLabelConfig:A}=yt(i$,Bt),O=(e==null?void 0:e.width)??n$,F=(e==null?void 0:e.height)??r$,X=T.width/O,D=T.height/F,W=Math.max(X,D),M=W*O,H=W*F,Y=_*W,I=T.x-(M-T.width)/2-Y,V=T.y-(H-T.height)/2-Y,Z=M+Y*2,J=H+Y*2,K=`${s$}-${U}`,te=S.useRef(0),Q=S.useRef();te.current=W,S.useEffect(()=>{if(P.current&&z)return Q.current=yz({domNode:P.current,panZoom:z,getTransform:()=>R.getState().transform,getViewScale:()=>te.current}),()=>{var fe;(fe=Q.current)==null||fe.destroy()}},[z]),S.useEffect(()=>{var fe;(fe=Q.current)==null||fe.update({translateExtent:B,width:q,height:G,inversePan:E,pannable:v,zoomStep:C,zoomable:w})},[v,w,E,C,B,q,G]);const ie=x?fe=>{var Me;const[xe,De]=((Me=Q.current)==null?void 0:Me.pointer(fe))||[0,0];x(fe,{x:xe,y:De})}:void 0,le=b?S.useCallback((fe,xe)=>{const De=R.getState().nodeLookup.get(xe).internals.userNode;b(fe,De)},[]):void 0,de=k??A["minimap.ariaLabel"];return u.jsx(bc,{position:g,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*W:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:Jt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:u.jsxs("svg",{width:O,height:F,viewBox:`${I} ${V} ${Z} ${J}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":K,ref:P,onClick:ie,children:[de&&u.jsx("title",{id:K,children:de}),u.jsx(t$,{onClick:le,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:l,nodeComponent:c}),u.jsx("path",{className:"react-flow__minimap-mask",d:`M${I-Y},${V-Y}h${Z+Y*2}v${J+Y*2}h${-Z-Y*2}z
        M${L.x},${L.y}h${L.width}v${L.height}h${-L.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}pN.displayName="MiniMap";const l$=S.memo(pN),a$=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,c$={[Ji.Line]:"right",[Ji.Handle]:"bottom-right"};function u$({nodeId:e,position:t,variant:n=Ji.Handle,className:r,style:o=void 0,children:i,color:l,minWidth:c=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:g,autoScale:x=!0,shouldResize:b,onResizeStart:v,onResize:w,onResizeEnd:k}){const E=UC(),C=typeof e=="string"?e:E,_=Ht(),R=S.useRef(null),P=n===Ji.Handle,T=yt(S.useCallback(a$(P&&x),[P,x]),Bt),L=S.useRef(null),U=t??c$[n];S.useEffect(()=>{if(!(!R.current||!C))return L.current||(L.current=Mz({domNode:R.current,nodeId:C,getStoreItems:()=>{const{nodeLookup:B,transform:q,snapGrid:G,snapToGrid:A,nodeOrigin:O,domNode:F}=_.getState();return{nodeLookup:B,transform:q,snapGrid:G,snapToGrid:A,nodeOrigin:O,paneDomNode:F}},onChange:(B,q)=>{const{triggerNodeChanges:G,nodeLookup:A,parentLookup:O,nodeOrigin:F}=_.getState(),X=[],D={x:B.x,y:B.y},W=A.get(C);if(W&&W.expandParent&&W.parentId){const M=W.origin??F,H=B.width??W.measured.width??0,Y=B.height??W.measured.height??0,I={id:W.id,parentId:W.parentId,rect:{width:H,height:Y,...hC({x:B.x??W.position.x,y:B.y??W.position.y},{width:H,height:Y},W.parentId,A,M)}},V=vx([I],A,O,F);X.push(...V),D.x=B.x?Math.max(M[0]*H,B.x):void 0,D.y=B.y?Math.max(M[1]*Y,B.y):void 0}if(D.x!==void 0&&D.y!==void 0){const M={id:C,type:"position",position:{...D}};X.push(M)}if(B.width!==void 0&&B.height!==void 0){const H={id:C,type:"dimensions",resizing:!0,setAttributes:g?g==="horizontal"?"width":"height":!0,dimensions:{width:B.width,height:B.height}};X.push(H)}for(const M of q){const H={...M,type:"position"};X.push(H)}G(X)},onEnd:({width:B,height:q})=>{const G={id:C,type:"dimensions",resizing:!1,dimensions:{width:B,height:q}};_.getState().triggerNodeChanges([G])}})),L.current.update({controlPosition:U,boundaries:{minWidth:c,minHeight:d,maxWidth:f,maxHeight:m},keepAspectRatio:p,resizeDirection:g,onResizeStart:v,onResize:w,onResizeEnd:k,shouldResize:b}),()=>{var B;(B=L.current)==null||B.destroy()}},[U,c,d,f,m,p,v,w,k,b]);const z=U.split("-");return u.jsx("div",{className:Jt(["react-flow__resize-control","nodrag",...z,n,r]),ref:R,style:{...o,scale:T,...l&&{[P?"backgroundColor":"borderColor"]:l}},children:i})}const Ob=S.memo(u$);function hN({nodeId:e,isVisible:t=!0,handleClassName:n,handleStyle:r,lineClassName:o,lineStyle:i,color:l,minWidth:c=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:p=!1,autoScale:g=!0,shouldResize:x,onResizeStart:b,onResize:v,onResizeEnd:w}){return t?u.jsxs(u.Fragment,{children:[_z.map(k=>u.jsx(Ob,{className:o,style:i,nodeId:e,position:k,variant:Ji.Line,color:l,minWidth:c,minHeight:d,maxWidth:f,maxHeight:m,onResizeStart:b,keepAspectRatio:p,autoScale:g,shouldResize:x,onResize:v,onResizeEnd:w},k)),jz.map(k=>u.jsx(Ob,{className:n,style:r,nodeId:e,position:k,color:l,minWidth:c,minHeight:d,maxWidth:f,maxHeight:m,onResizeStart:b,keepAspectRatio:p,autoScale:g,shouldResize:x,onResize:v,onResizeEnd:w},k))]}):null}function dg(e){return e!==null&&typeof e=="object"&&"value"in e&&"timestamp"in e&&typeof e.timestamp=="number"}function xm({children:e,offset:t,onDragEnd:n,className:r,style:o}){const[i,l]=S.useState(!1),[c,d]=S.useState(t),f=S.useRef(c),m=S.useRef(null),{getZoom:p}=di();f.current=c,qe.useEffect(()=>{d(t)},[t]);const g=S.useCallback(x=>{x.stopPropagation(),l(!0),m.current={x:x.clientX,y:x.clientY,offsetX:f.current.x,offsetY:f.current.y};const b=w=>{if(!m.current)return;const k=p(),E=(w.clientX-m.current.x)/k,C=(w.clientY-m.current.y)/k,_={x:m.current.offsetX+E,y:m.current.offsetY+C};d(_),f.current=_},v=()=>{l(!1),m.current&&n(f.current),m.current=null,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",v)};document.addEventListener("mousemove",b),document.addEventListener("mouseup",v)},[p,n]);return u.jsx("div",{style:{position:"absolute",transform:`translate(${c.x}px, ${c.y}px)`,cursor:i?"grabbing":"grab",userSelect:"none",...o},className:`nodrag ${r||""}`,onMouseDown:g,children:e})}function Ws(e,t=!1){if(e==null)return t?"":"()";if(e instanceof Map){const n=[];return e.forEach((r,o)=>{n.push(`${o}=${Ws(r)}`)}),`{${n.join(", ")}}`}else return Array.isArray(e)?`(${e.map(n=>Ws(n)).join(",")})`:typeof e=="object"?dg(e)?Ws(e.value,t):`{${Object.entries(e).map(([r,o])=>`${r}=${Ws(o)}`).join(", ")}}`:typeof e=="string"?`"${e}"`:String(e)}function d$(e,t){if(t)return new Date(t.getTime()+e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});if(e===0)return"@0";const n=e/1e3;if(n<60)return`@${n.toFixed(n%1===0?0:1)}s`;const r=n/60;if(r<60)return`@${r.toFixed(r%1===0?0:1)}m`;const o=r/60;if(o<24)return`@${o.toFixed(o%1===0?0:1)}h`;const i=o/24;return`@${i.toFixed(i%1===0?0:1)}d`}function f$(e,t=!1,n=!1,r=null){if(t&&!n)return[{count:e.length,value:"",timestamp:0,timeDisplay:""}];const o=new Map;for(const i of e){const l=dg(i)?i.timestamp:0,c=dg(i)?Ws(i.value,t):Ws(i,t),d=n?`${c}@${l}`:c,f=o.get(d);f?f.count++:o.set(d,{count:1,value:c,timestamp:l,timeDisplay:n?d$(l,r):""})}return Array.from(o.values())}const ym=10,p$=({id:e,data:t,selected:n})=>{var U;const r=bx(),o=me(z=>z.colorSets.find(B=>B.name===t.colorSet)),i=(o==null?void 0:o.color)||"#000000",l=(o==null?void 0:o.type)==="basic"&&((U=o==null?void 0:o.definition)==null?void 0:U.includes("= unit;")),c=(o==null?void 0:o.timed)===!0,d=me(z=>z.activePetriNetId),f=me(z=>z.updateNodeData),m=me(z=>z.showMarkingDisplay),p=me(z=>z.simulationEpoch),g=p?new Date(p):null,x=r.inProgress&&r.fromNode.id!==e&&r.fromNode.type==="transition",b=t.marking&&Array.isArray(t.marking)&&t.marking.length>0,v=b?t.marking.length:0,w=b?f$(t.marking,l,c,g):[],k=w.slice(0,ym),E=w.length>ym,C=t.colorSetOffset??{x:0,y:35},_=t.tokenCountOffset??{x:25,y:-5},R=t.markingOffset??{x:40,y:0},P=S.useCallback(z=>{d&&f(d,e,{...t,colorSetOffset:z})},[d,e,t,f]),T=S.useCallback(z=>{d&&f(d,e,{...t,tokenCountOffset:z})},[d,e,t,f]),L=S.useCallback(z=>{d&&f(d,e,{...t,markingOffset:z})},[d,e,t,f]);return u.jsxs("div",{className:"relative cpn-node place-node",style:{borderColor:i},children:[u.jsx(hN,{isVisible:n,minWidth:30,minHeight:30}),u.jsx("div",{className:"whitespace-pre-wrap leading-tight",children:t.label}),t.colorSet&&u.jsx(xm,{offset:C,onDragEnd:P,className:"text-[9px] font-mono whitespace-nowrap",style:{top:"50%",left:"50%"},children:t.colorSet}),b&&u.jsx(xm,{offset:_,onDragEnd:T,style:{top:"50%",left:"50%"},children:u.jsx("div",{className:"marking flex items-center justify-center text-[9px] text-black rounded-full min-w-[14px] h-[14px] px-0.5",children:v})}),b&&m&&u.jsx(xm,{offset:R,onDragEnd:L,style:{top:"50%",left:"50%"},children:u.jsx("table",{className:"marking text-[7px] font-mono text-black rounded-sm border-collapse",children:u.jsxs("tbody",{children:[k.map((z,B)=>u.jsxs("tr",{children:[u.jsxs("td",{className:"px-1 py-0.5 text-right",children:[z.count,"`"]}),u.jsx("td",{className:"px-1 py-0.5",children:z.value}),c&&u.jsx("td",{className:"px-1 py-0.5 text-muted-foreground whitespace-nowrap",children:z.timeDisplay})]},B)),E&&u.jsx("tr",{children:u.jsxs("td",{colSpan:c?3:2,className:"px-1 py-0.5 text-center text-muted-foreground",children:["...",w.length-ym," more"]})})]})})}),u.jsx(ai,{className:"custom-handle",type:"source",position:Ie.Right,style:{visibility:t.isArcMode&&!r.inProgress?"visible":"hidden"}}),u.jsx(ai,{className:"custom-handle",type:"target",position:Ie.Left,style:{visibility:t.isArcMode&&x?"visible":"hidden"},isConnectable:x})]})};function Lb({children:e,offset:t,onDragEnd:n,className:r,style:o}){const[i,l]=S.useState(!1),[c,d]=S.useState(t),f=S.useRef(c),m=S.useRef(null),{getZoom:p}=di();f.current=c;const g=S.useRef(t);qe.useEffect(()=>{g.current.x===t.x&&g.current.y===t.y||(g.current=t,d(t))},[t]);const x=S.useCallback(b=>{b.stopPropagation(),l(!0),m.current={x:b.clientX,y:b.clientY,offsetX:f.current.x,offsetY:f.current.y};const v=k=>{if(!m.current)return;const E=p(),C=(k.clientX-m.current.x)/E,_=(k.clientY-m.current.y)/E,R=m.current.offsetX+C,P=m.current.offsetY+_,T={x:R,y:P};d(T),f.current=T},w=()=>{l(!1),m.current&&n(f.current),m.current=null,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",w)},[p,n]);return u.jsx("div",{style:{position:"absolute",left:"50%",top:0,transform:`translate(calc(-50% + ${c.x}px), ${c.y}px)`,cursor:i?"grabbing":"grab",userSelect:"none",whiteSpace:"nowrap",...o},className:`nodrag ${r||""}`,onMouseDown:x,children:e})}const h$=({id:e,data:t,selected:n})=>{const r=bx(),o=me(p=>p.activePetriNetId),i=me(p=>p.updateNodeData),l=r.inProgress&&r.fromNode.id!==e&&r.fromNode.type==="place",c=t.guardOffset??{x:-45,y:-15},d=t.timeOffset??{x:45,y:-15},f=S.useCallback(p=>{o&&i(o,e,{...t,guardOffset:p})},[o,e,t,i]),m=S.useCallback(p=>{o&&i(o,e,{...t,timeOffset:p})},[o,e,t,i]);return u.jsxs("div",{className:"relative cpn-node transition-node",children:[u.jsx(hN,{isVisible:n,minWidth:15,minHeight:30}),u.jsx("div",{className:"whitespace-pre-wrap leading-tight",children:t.label}),t.guard&&u.jsx(Lb,{offset:c,onDragEnd:f,className:"text-[9px] font-mono whitespace-nowrap text-[#006400]",children:t.guard}),t.time&&u.jsxs(Lb,{offset:d,onDragEnd:m,className:"text-[9px] font-mono whitespace-nowrap text-[#8B4513]",children:["@+",t.time]}),u.jsx(ai,{className:"custom-handle",type:"source",position:Ie.Right,style:{visibility:t.isArcMode&&!r.inProgress?"visible":"hidden"}}),u.jsx(ai,{className:"custom-handle",type:"target",position:Ie.Left,style:{visibility:t.isArcMode&&l?"visible":"hidden"},isConnectable:l})]})},m$=S.memo(h$),g$=({data:e})=>{const t={color:e.color||"inherit",fontWeight:e.bold?"bold":"normal",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",whiteSpace:"pre-wrap",textAlign:"center",fontSize:"9px"};return u.jsx("div",{className:"cpn-node auxtext-node",style:t,children:e.label})},x$=({data:e})=>{const t=e.color||"inherit";return u.jsx("div",{className:"inscription-node font-mono text-[9px] whitespace-pre-wrap cursor-move select-none",style:{color:t},children:e.label})},y$=S.memo(x$),v$=[{id:"a",type:"place",position:{x:-200,y:0},data:{label:"start",colorSet:"INT",initialMarking:"[1, 5, 5, 10]"}},{id:"b",type:"transition",position:{x:-110,y:100},width:70,height:30,data:{label:"transition",guard:"var1>4",time:"",priority:"",codeSegment:""}},{id:"c",type:"place",position:{x:0,y:200},width:50,height:30,data:{label:"end place",colorSet:"INT"}}],w$={place:p$,transition:m$,auxText:g$,inscription:y$};function zb(e,t){var C,_;const{width:n=0,height:r=0}=e.measured||{},o=e.internals.positionAbsolute,i=t.internals.positionAbsolute,l=n/2,c=r/2,d=o.x+l,f=o.y+c,m=i.x+(((C=t.measured)==null?void 0:C.width)??0)/2,p=i.y+(((_=t.measured)==null?void 0:_.height)??0)/2;if(e.type==="place"){const R=m-d,P=p-f,T=Math.atan2(P,R),L=l,U=c,z=d+L*Math.cos(T),B=f+U*Math.sin(T);return{x:z,y:B}}const g=(m-d)/(2*l)-(p-f)/(2*c),x=(m-d)/(2*l)+(p-f)/(2*c),b=1/(Math.abs(g)+Math.abs(x)||1),v=b*g,w=b*x,k=l*(v+w)+d,E=c*(-v+w)+f;return{x:k,y:E}}function $b(e,t){const{width:n=0,height:r=0}=e.measured||{},o=e.internals.positionAbsolute,i=n/2,l=r/2,c=o.x+i,d=o.y+l,f=t.x,m=t.y;if(e.type==="place"){const w=f-c,k=m-d,E=Math.atan2(k,w),C=i,_=l,R=c+C*Math.cos(E),P=d+_*Math.sin(E);return{x:R,y:P}}const p=f-c,g=m-d;if(p===0&&g===0)return{x:c,y:d};let x=1/0;if(p!==0){const w=i/Math.abs(p),k=i/Math.abs(p);x=Math.min(x,p>0?w:k)}if(g!==0){const w=l/Math.abs(g),k=l/Math.abs(g);x=Math.min(x,g>0?w:k)}const b=c+x*p,v=d+x*g;return{x:b,y:v}}function Fb(e,t){var c,d,f,m;const n={...e.internals.positionAbsolute,...e},r=Math.round(n.x),o=Math.round(n.y),i=Math.round(t.x),l=Math.round(t.y);if(e.type==="place"){const p=i-(r+(((c=n.measured)==null?void 0:c.width)??0)/2),g=l-(o+(((d=n.measured)==null?void 0:d.height)??0)/2),x=Math.atan2(g,p);return Math.abs(x)<Math.PI/4?Ie.Right:Math.abs(x)>3*Math.PI/4?Ie.Left:x>0?Ie.Bottom:Ie.Top}return i<=r+1?Ie.Left:i>=r+(((f=n.measured)==null?void 0:f.width)??0)-1?Ie.Right:l<=o+1?Ie.Top:l>=n.y+((((m=n.measured)==null?void 0:m.height)??0)-1)?Ie.Bottom:Ie.Top}function b$(e,t){const n=zb(e,t),r=zb(t,e),o=Fb(e,n),i=Fb(t,r);return{sx:n.x,sy:n.y,tx:r.x,ty:r.y,sourcePos:o,targetPos:i}}function S$(e,t,n){const r=n.x-t.x,o=n.y-t.y,i=r*r+o*o;if(i===0)return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2);let l=((e.x-t.x)*r+(e.y-t.y)*o)/i;l=Math.max(0,Math.min(1,l));const c=t.x+l*r,d=t.y+l*o;return Math.sqrt((e.x-c)**2+(e.y-d)**2)}function Bb(e,t,n,r,o){if(!o||o.length===0)return{path:`M ${e},${t} L ${n},${r}`,labelX:(e+n)/2,labelY:(t+r)/2};let i=`M ${e},${t}`;for(const x of o)i+=` L ${x.x},${x.y}`;i+=` L ${n},${r}`;const l=[{x:e,y:t},...o,{x:n,y:r}],c=[];let d=0;for(let x=1;x<l.length;x++){const b=l[x].x-l[x-1].x,v=l[x].y-l[x-1].y,w=Math.sqrt(b*b+v*v);c.push(w),d+=w}const f=d/2;let m=0,p=(e+n)/2,g=(t+r)/2;for(let x=0;x<c.length;x++){const b=c[x];if(m+b>=f){const v=f-m,w=b>0?v/b:0;p=l[x].x+w*(l[x+1].x-l[x].x),g=l[x].y+w*(l[x+1].y-l[x].y);break}m+=b}return{path:i,labelX:p,labelY:g}}function k$({id:e,source:t,target:n,style:r,label:o,data:i}){const l=Db(t),c=Db(n),{getZoom:d}=di(),[f,m]=S.useState(null),[p,g]=S.useState(null),x=S.useRef(null),b=S.useRef(null),v=me(ke=>ke.activePetriNetId),w=me(ke=>ke.updateEdgeData),k=me(ke=>ke.setSelectedElement),E=me(ke=>{const We=ke.activePetriNetId,lt=We?ke.petriNetsById[We]:null;return(lt==null?void 0:lt.edges)??[]}),{parallelArcIndex:C,totalParallelArcs:_}=S.useMemo(()=>{const ke=E.filter(vt=>vt.source===t&&vt.target===n||vt.source===n&&vt.target===t),We=ke.length;let lt=ke.findIndex(vt=>vt.id===e);return lt===-1&&(lt=0),{parallelArcIndex:lt,totalParallelArcs:We}},[E,e,t,n]),R=me(ke=>{var ue;const We=ke.activePetriNetId,lt=We?ke.petriNetsById[We]:null;if(!lt)return"#000";const vt=lt.nodes.find(pe=>pe.id===t),Et=lt.nodes.find(pe=>pe.id===n),It=(vt==null?void 0:vt.type)==="place"?vt:(Et==null?void 0:Et.type)==="place"?Et:null;if(It&&((ue=It.data)!=null&&ue.colorSet)){const pe=ke.colorSets.find(Ae=>Ae.name===It.data.colorSet);if(pe!=null&&pe.color)return pe.color}if(typeof o=="string"){const pe=ke.variables.find(Ae=>Ae.name===o.trim());if(pe){const Ae=ke.colorSets.find(_e=>_e.name===pe.colorSet);if(Ae!=null&&Ae.color)return Ae.color}}return"#000"}),P=S.useCallback(ke=>{v&&w(v,e,{...i,labelOffset:ke})},[v,e,i,w]),T=S.useCallback((ke,We)=>{ke.stopPropagation(),ke.preventDefault(),g(We),x.current={startX:ke.clientX,startY:ke.clientY,lastClientX:ke.clientX,lastClientY:ke.clientY,originalBendpoints:[...(i==null?void 0:i.bendpoints)??[]],hasDragged:!1,index:We};const lt=()=>{var _t,pt,Pt,he,Ne,re;const _e=((_t=x.current)==null?void 0:_t.originalBendpoints)??[],Ye=l?{x:l.internals.positionAbsolute.x+(((pt=l.measured)==null?void 0:pt.width)??0)/2,y:l.internals.positionAbsolute.y+(((Pt=l.measured)==null?void 0:Pt.height)??0)/2}:null,ut=c?{x:c.internals.positionAbsolute.x+(((he=c.measured)==null?void 0:he.width)??0)/2,y:c.internals.positionAbsolute.y+(((Ne=c.measured)==null?void 0:Ne.height)??0)/2}:null,bt=((re=x.current)==null?void 0:re.index)??0,Ct=bt===0?Ye:_e[bt-1],Tt=bt===_e.length-1?ut:_e[bt+1];return{prevPoint:Ct,nextPoint:Tt}},vt=(_e,Ye)=>{const{prevPoint:ut,nextPoint:bt}=lt();if(!ut&&!bt)return{x:_e,y:Ye};let Ct=_e,Tt=Ye;if(ut){const _t=Math.abs(_e-ut.x),pt=Math.abs(Ye-ut.y);_t<20&&(Ct=ut.x),pt<20&&(Tt=ut.y)}if(bt){const _t=Math.abs(_e-bt.x),pt=Math.abs(Ye-bt.y);_t<20&&(Ct=bt.x),pt<20&&(Tt=bt.y)}return{x:Ct,y:Tt}},Et=(_e,Ye,ut)=>{if(!x.current||!v)return;const bt=d(),Ct=(_e-x.current.startX)/bt,Tt=(Ye-x.current.startY)/bt;(Math.abs(Ct)>3||Math.abs(Tt)>3)&&(x.current.hasDragged=!0);const _t=x.current.index,pt=x.current.originalBendpoints[_t];let Pt=pt.x+Ct,he=pt.y+Tt;if(ut){const re=vt(Pt,he);Pt=re.x,he=re.y}const Ne=x.current.originalBendpoints.map((re,Ce)=>Ce===_t?{x:Pt,y:he}:re);w(v,e,{bendpoints:Ne})},It=_e=>{x.current&&(x.current.lastClientX=_e.clientX,x.current.lastClientY=_e.clientY,Et(_e.clientX,_e.clientY,_e.shiftKey))},ue=_e=>{_e.key==="Shift"&&x.current&&Et(x.current.lastClientX,x.current.lastClientY,!0)},pe=_e=>{_e.key==="Shift"&&x.current&&Et(x.current.lastClientX,x.current.lastClientY,!1)},Ae=()=>{var Ye;const _e=((Ye=x.current)==null?void 0:Ye.hasDragged)??!1;if(g(null),!_e&&v&&(i!=null&&i.bendpoints)){const ut=i.bendpoints.filter((bt,Ct)=>Ct!==We);w(v,e,{bendpoints:ut.length>0?ut:void 0})}x.current=null,document.removeEventListener("mousemove",It),document.removeEventListener("mouseup",Ae),document.removeEventListener("keydown",ue),document.removeEventListener("keyup",pe)};document.addEventListener("mousemove",It),document.addEventListener("mouseup",Ae),document.addEventListener("keydown",ue),document.addEventListener("keyup",pe)},[v,e,i==null?void 0:i.bendpoints,l,c,w,d]),L=S.useCallback(ke=>{var _t,pt,Pt,he,Ne,re,Ce,Be;if(ke.button!==0||(ke.stopPropagation(),ke.preventDefault(),!v))return;const We=ke.target.closest("svg");if(!We)return;const lt=We.createSVGPoint();lt.x=ke.clientX,lt.y=ke.clientY;const vt=We.getScreenCTM();let Et;if(vt){const Ee=lt.matrixTransform(vt.inverse());Et={x:Ee.x,y:Ee.y}}else{const Ee=We.getBoundingClientRect(),Ze=d(),Fe=We.viewBox.baseVal;if(Fe&&Fe.width>0){const Oe=Fe.width/Ee.width,Ge=Fe.height/Ee.height;Et={x:Fe.x+(ke.clientX-Ee.left)*Oe,y:Fe.y+(ke.clientY-Ee.top)*Ge}}else Et={x:(ke.clientX-Ee.left)/Ze,y:(ke.clientY-Ee.top)/Ze}}const It={x:Et.x,y:Et.y},ue=(i==null?void 0:i.bendpoints)??[];let pe=0;if(ue.length>0){const Ee=l?{x:l.internals.positionAbsolute.x+(((_t=l.measured)==null?void 0:_t.width)??0)/2,y:l.internals.positionAbsolute.y+(((pt=l.measured)==null?void 0:pt.height)??0)/2}:{x:0,y:0},Ze=c?{x:c.internals.positionAbsolute.x+(((Pt=c.measured)==null?void 0:Pt.width)??0)/2,y:c.internals.positionAbsolute.y+(((he=c.measured)==null?void 0:he.height)??0)/2}:{x:0,y:0},Fe=[Ee,...ue,Ze];let Oe=1/0;for(let Ge=0;Ge<Fe.length-1;Ge++){const dt=Fe[Ge],Rt=Fe[Ge+1],jt=S$(It,dt,Rt);jt<Oe&&(Oe=jt,pe=Ge)}}b.current={startX:ke.clientX,startY:ke.clientY,insertIndex:pe,newBendpoint:It,hasDragged:!1};const Ae=l?{x:l.internals.positionAbsolute.x+(((Ne=l.measured)==null?void 0:Ne.width)??0)/2,y:l.internals.positionAbsolute.y+(((re=l.measured)==null?void 0:re.height)??0)/2}:{x:0,y:0},_e=c?{x:c.internals.positionAbsolute.x+(((Ce=c.measured)==null?void 0:Ce.width)??0)/2,y:c.internals.positionAbsolute.y+(((Be=c.measured)==null?void 0:Be.height)??0)/2}:{x:0,y:0},Ye=(Ee,Ze,Fe,Oe)=>{const Ge=Oe===0?Ae:Fe[Oe-1],dt=Oe===Fe.length-1?_e:Fe[Oe+1];let Rt=Ee,jt=Ze;return Ge&&(Math.abs(Ee-Ge.x)<20&&(Rt=Ge.x),Math.abs(Ze-Ge.y)<20&&(jt=Ge.y)),dt&&(Math.abs(Ee-dt.x)<20&&(Rt=dt.x),Math.abs(Ze-dt.y)<20&&(jt=dt.y)),{x:Rt,y:jt}},ut=Ee=>{if(!b.current||!v)return;const Ze=d(),Fe=(Ee.clientX-b.current.startX)/Ze,Oe=(Ee.clientY-b.current.startY)/Ze;if(!b.current.hasDragged&&(Math.abs(Fe)>3||Math.abs(Oe)>3)){b.current.hasDragged=!0;const Ge=[...ue.slice(0,pe),b.current.newBendpoint,...ue.slice(pe)];w(v,e,{bendpoints:Ge}),g(pe),x.current={startX:b.current.startX,startY:b.current.startY,lastClientX:Ee.clientX,lastClientY:Ee.clientY,originalBendpoints:Ge,hasDragged:!0,index:pe}}if(x.current){x.current.lastClientX=Ee.clientX,x.current.lastClientY=Ee.clientY;const Ge=x.current.index,dt=x.current.originalBendpoints[Ge];let Rt=dt.x+Fe,jt=dt.y+Oe;if(Ee.shiftKey){const Mt=Ye(Rt,jt,x.current.originalBendpoints,Ge);Rt=Mt.x,jt=Mt.y}const zt=x.current.originalBendpoints.map((Mt,dr)=>dr===Ge?{x:Rt,y:jt}:Mt);w(v,e,{bendpoints:zt})}},bt=Ee=>{if(Ee.key==="Shift"&&x.current&&v){const Ze=d(),Fe=(x.current.lastClientX-x.current.startX)/Ze,Oe=(x.current.lastClientY-x.current.startY)/Ze,Ge=x.current.index,dt=x.current.originalBendpoints[Ge],Rt=Ye(dt.x+Fe,dt.y+Oe,x.current.originalBendpoints,Ge),jt=x.current.originalBendpoints.map((zt,Mt)=>Mt===Ge?Rt:zt);w(v,e,{bendpoints:jt})}},Ct=Ee=>{if(Ee.key==="Shift"&&x.current&&v){const Ze=d(),Fe=(x.current.lastClientX-x.current.startX)/Ze,Oe=(x.current.lastClientY-x.current.startY)/Ze,Ge=x.current.index,dt=x.current.originalBendpoints[Ge],Rt=x.current.originalBendpoints.map((jt,zt)=>zt===Ge?{x:dt.x+Fe,y:dt.y+Oe}:jt);w(v,e,{bendpoints:Rt})}},Tt=()=>{if(b.current&&!b.current.hasDragged){const Ee=E.find(Ze=>Ze.id===e);Ee&&v&&k(v,{type:"edge",element:Ee})}g(null),b.current=null,x.current=null,document.removeEventListener("mousemove",ut),document.removeEventListener("mouseup",Tt),document.removeEventListener("keydown",bt),document.removeEventListener("keyup",Ct)};document.addEventListener("mousemove",ut),document.addEventListener("mouseup",Tt),document.addEventListener("keydown",bt),document.addEventListener("keyup",Ct)},[v,e,i==null?void 0:i.bendpoints,l,c,E,w,k,d]);if(!l||!c)return null;const U=i==null?void 0:i.bendpoints,z=(i==null?void 0:i.labelOffset)??{x:0,y:0},B=(i==null?void 0:i.isBidirectional)??!1,q=12;let G=0;if(_>1){const ke=(_-1)/2;G=(C-ke)*q}const A=b$(l,c),O=t<n?t:n,F=t===O,X=A.tx-A.sx,D=A.ty-A.sy,W=Math.sqrt(X*X+D*D);let M=W>0?-D/W:0,H=W>0?X/W:1;F||(M=-M,H=-H);let Y,I,V,Z,J,K,te;if(U&&U.length>0){const ke=G!==0?U.map(ue=>({x:ue.x+M*G,y:ue.y+H*G})):U,We=ke[0],lt=ke[ke.length-1],vt=$b(l,We);Y=vt.x,I=vt.y;const Et=$b(c,lt);V=Et.x,Z=Et.y;const It=Bb(Y,I,V,Z,ke);J=It.path,K=It.labelX,te=It.labelY}else{Y=A.sx+M*G,I=A.sy+H*G,V=A.tx+M*G,Z=A.ty+H*G;const ke=Bb(Y,I,V,Z,void 0);J=ke.path,K=ke.labelX,te=ke.labelY}const Q=V-Y,ie=Z-I,le=Math.sqrt(Q*Q+ie*ie),de=12;let fe=le>0?-ie/le:0,xe=le>0?Q/le:-1;xe>0&&(fe=-fe,xe=-xe);const De=K+fe*de,Me=te+xe*de,nt=typeof o=="string"&&(o.trim()==="1`()"||o.trim()==="()")?null:o,et=U&&G!==0?U.map(ke=>({x:ke.x+M*G,y:ke.y+H*G})):U;return u.jsxs(u.Fragment,{children:[C$(e,J,R,B,r,L),et&&et.length>0&&u.jsx("g",{className:"bendpoint-handles",children:et.map((ke,We)=>u.jsxs("g",{children:[u.jsx("circle",{cx:ke.x,cy:ke.y,r:12,fill:"transparent",style:{cursor:"grab",pointerEvents:"all"},onMouseEnter:()=>m(We),onMouseLeave:()=>{p!==We&&m(null)},onMouseDown:lt=>T(lt,We)}),(f===We||p===We)&&u.jsx("circle",{cx:ke.x,cy:ke.y,r:5,fill:R,stroke:"white",strokeWidth:1.5,style:{pointerEvents:"none",cursor:p===We?"grabbing":"grab"}})]},We))}),nt&&u.jsx(N$,{id:e,label:nt,baseLabelX:De,baseLabelY:Me,labelOffset:z,onLabelDragEnd:P})]})}function C$(e,t,n,r,o,i){return u.jsxs("g",{children:[u.jsxs("defs",{children:[u.jsx("marker",{id:`arrow-end-${e}`,markerWidth:"10",markerHeight:"10",refX:"10",refY:"5",orient:"auto",markerUnits:"userSpaceOnUse",children:u.jsx("polygon",{points:"0,0 10,5 0,10",fill:n})}),u.jsx("marker",{id:`arrow-start-${e}`,markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",orient:"auto",markerUnits:"userSpaceOnUse",children:u.jsx("polygon",{points:"10,0 0,5 10,10",fill:n})})]}),i&&u.jsx("path",{d:t,fill:"none",stroke:"transparent",strokeWidth:16,style:{cursor:"pointer",pointerEvents:"stroke"},onMouseDown:i}),u.jsx("path",{id:e,d:t,fill:"none",className:"stroke-[currentColor]",style:{stroke:n,...o},markerEnd:`url(#arrow-end-${e})`,markerStart:r?`url(#arrow-start-${e})`:void 0})]})}function N$({id:e,label:t,baseLabelX:n,baseLabelY:r,labelOffset:o,onLabelDragEnd:i}){const[l,c]=S.useState(!1),[d,f]=S.useState(o),m=S.useRef(null),p=S.useRef(d);p.current=d;const{getZoom:g}=di(),x=me(_=>_.activePetriNetId),b=me(_=>_.setSelectedElement),v=me(_=>{const R=_.activePetriNetId?_.petriNetsById[_.activePetriNetId]:null;return(R==null?void 0:R.edges)||[]}),w=S.useCallback(_=>{_.stopPropagation(),c(!0),m.current={x:_.clientX,y:_.clientY,offsetX:p.current.x,offsetY:p.current.y};const R=T=>{if(!m.current)return;const L=g(),U=(T.clientX-m.current.x)/L,z=(T.clientY-m.current.y)/L,B={x:m.current.offsetX+U,y:m.current.offsetY+z};f(B),p.current=B},P=()=>{c(!1),m.current&&i(p.current),m.current=null,document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",P)};document.addEventListener("mousemove",R),document.addEventListener("mouseup",P)},[i,g]),k=S.useCallback(_=>{_.stopPropagation();const R=v.find(P=>P.id===e);R&&x&&b(x,{type:"edge",element:R})},[e,v,x,b]);qe.useEffect(()=>{f(o)},[o]);const E=n+d.x,C=r+d.y;return u.jsx(M3,{children:u.jsx("div",{style:{transform:`translate(-50%, -100%) translate(${E}px,${C}px)`,cursor:l?"grabbing":"grab",pointerEvents:"auto"},className:`nodrag nopan edge-label-renderer__custom-edge text-[10px] font-mono whitespace-pre-wrap ${l?"":"hover:bg-accent/50"} px-1 rounded`,onMouseDown:w,onClick:k,children:t})})}const E$=[{id:"a->b",source:"a",target:"b",label:"var1"},{id:"b->c",source:"b",target:"c",label:"var1"}],j$={floating:k$},_$=[{id:ot(),name:"UNIT",type:"basic",definition:"colset UNIT = unit;",color:"#3b82f6"},{id:ot(),name:"BOOL",type:"basic",definition:"colset BOOL = bool;",color:"#10b981"},{id:ot(),name:"INT",type:"basic",definition:"colset INT = int;",color:"#3b82f6"},{id:ot(),name:"INTINF",type:"basic",definition:"colset INTINF = intinf;",color:"#3b82f6"},{id:ot(),name:"TIME",type:"basic",definition:"colset TIME = time;",color:"#8b5cf6"},{id:ot(),name:"REAL",type:"basic",definition:"colset REAL = real;",color:"#ef4444"},{id:ot(),name:"STRING",type:"basic",definition:"colset STRING = string;",color:"#f59e0b"}],P$=[{id:ot(),name:"var1",colorSet:"INT"}],A$=[{id:ot(),name:"P_HIGH",level:100},{id:ot(),name:"P_NORMAL",level:1e3},{id:ot(),name:"P_LOW",level:1e4}],I$=[],T$={petriNetsById:{},petriNetOrder:[],activePetriNetId:null,colorSets:[],variables:[],priorities:[],functions:[],uses:[],simulationEpoch:null,showMarkingDisplay:!0},bd="ID6",R$={id:bd,name:"Petri Net",nodes:v$,edges:E$,selectedElement:null};let $a=0,Fa,fg,pg;const Vb=e=>{const t={};for(const[n,r]of Object.entries(e))t[n]={id:r.id,name:r.name,nodes:r.nodes.map(o=>({id:o.id,type:o.type,position:o.position,data:o.data})),edges:r.edges.map(o=>({id:o.id,source:o.source,target:o.target,label:o.label,data:o.data}))};return t},me=XR()(GR(e=>({petriNetsById:{[bd]:R$},petriNetOrder:[bd],activePetriNetId:bd,colorSets:_$,variables:P$,priorities:A$,functions:I$,uses:[],simulationEpoch:null,showMarkingDisplay:!0,setNodes:(t,n)=>{e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],nodes:n}}}))},setEdges:(t,n)=>{e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],edges:n}}}))},createPetriNet:t=>{const n=ot(),r={id:n,name:t,nodes:[],edges:[],selectedElement:null};e(o=>({petriNetsById:{...o.petriNetsById,[n]:r},petriNetOrder:[...o.petriNetOrder,n],activePetriNetId:n}))},addPetriNet:t=>{e(n=>({petriNetsById:{...n.petriNetsById,[t.id]:{...t,selectedElement:null}},petriNetOrder:[...n.petriNetOrder,t.id],activePetriNetId:t.id}))},setActivePetriNet:t=>{e(n=>({activePetriNetId:t,petriNetsById:{...n.petriNetsById,[t]:{...n.petriNetsById[t],selectedElement:null}}}))},renamePetriNet:(t,n)=>{e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],name:n}}}))},addNode:(t,n)=>{e(r=>{const o=r.petriNetsById[t],i=[...o.nodes,{...n,id:n.id??ot()}];return{petriNetsById:{...r.petriNetsById,[t]:{...o,nodes:i}}}})},addEdge:(t,n)=>{e(r=>{const o=r.petriNetsById[t],i=[...o.edges,{...n,id:n.id??ot()}];return{petriNetsById:{...r.petriNetsById,[t]:{...o,edges:i}}}})},updateNode:(t,n)=>{e(r=>{const o=r.petriNetsById[t],i=o.nodes.map(l=>l.id===n.id?{...n}:l);return{petriNetsById:{...r.petriNetsById,[t]:{...o,nodes:i}}}})},updateNodeMarking:(t,n)=>{e(r=>{const o=r.petriNetsById[r.activePetriNetId],i=o.nodes.map(l=>l.id===t?{...l,data:{...l.data,marking:n}}:l);return{petriNetsById:{...r.petriNetsById,[r.activePetriNetId]:{...o,nodes:i}}}})},updateNodeData:(t,n,r)=>{e(o=>{var f;const i=o.petriNetsById[t],l={initialMarking:"initialMarking",colorSet:"colorSet",guard:"guard",time:"time",priority:"priority",codeSegment:"codeSegment"};let c=i.nodes.map(m=>m.id===n?{...m,data:{...m.data,...r}}:m);c=c.map(m=>{var p,g;if(m.type==="inscription"&&m.parentId===n){const x=(p=m.data)==null?void 0:p.inscriptionType,b=(g=Object.entries(l).find(([,v])=>v===x))==null?void 0:g[0];if(b&&b in r){const v=r[b];return{...m,data:{...m.data,label:v||""}}}}return m});const d=((f=i.selectedElement)==null?void 0:f.type)==="node"&&i.selectedElement.element.id===n?{...i.selectedElement,element:{...i.selectedElement.element,data:{...r}}}:i.selectedElement;return{petriNetsById:{...o.petriNetsById,[t]:{...i,nodes:c,selectedElement:d}}}})},updateEdgeData:(t,n,r)=>{e(o=>{var d;const i=o.petriNetsById[t],l=i.edges.map(f=>f.id===n?{...f,data:{...f.data,...r}}:f),c=((d=i.selectedElement)==null?void 0:d.type)==="edge"&&i.selectedElement.element.id===n?{...i.selectedElement,element:{...i.selectedElement.element,data:{...i.selectedElement.element.data,...r}}}:i.selectedElement;return{petriNetsById:{...o.petriNetsById,[t]:{...i,edges:l,selectedElement:c}}}})},updateEdgeLabel:(t,n,r)=>{e(o=>{var d;const i=o.petriNetsById[t],l=i.edges.map(f=>f.id===n?{...f,label:r}:f),c=((d=i.selectedElement)==null?void 0:d.type)==="edge"&&i.selectedElement.element.id===n?{...i.selectedElement,element:{...i.selectedElement.element,label:r}}:i.selectedElement;return{petriNetsById:{...o.petriNetsById,[t]:{...i,edges:l,selectedElement:c}}}})},swapEdgeDirection:(t,n)=>{e(r=>{var d;const o=r.petriNetsById[t],i=o.edges.map(f=>f.id===n?{...f,source:f.target,target:f.source}:f),l=o.edges.find(f=>f.id===n),c=((d=o.selectedElement)==null?void 0:d.type)==="edge"&&o.selectedElement.element.id===n&&l?{...o.selectedElement,element:{...o.selectedElement.element,source:l.target,target:l.source}}:o.selectedElement;return{petriNetsById:{...r.petriNetsById,[t]:{...o,edges:i,selectedElement:c}}}})},applyInitialMarkings:()=>{e(t=>{const n=t.petriNetsById[t.activePetriNetId],r=n.nodes.map(o=>{if(o.type==="place"){let i=[];if(o.data.initialMarking)try{if(typeof o.data.initialMarking=="string"&&o.data.initialMarking.trim()!==""){let l=[];if(o.data.initialMarking.match(/^\s*\[\s*((?:\(\)\s*,?\s*)*)\s*\]\s*$/)){const d=(o.data.initialMarking.match(/\(\)/g)||[]).length;l=Array(d).fill(null)}else if(o.data.initialMarking.endsWith(".all()")){const d=o.data.initialMarking.substring(0,o.data.initialMarking.length-6).trim(),f=t.colorSets.find(m=>m.name===d);if(f&&f.definition.includes("int")){const m=f.definition.match(/with\s+(\d+)\.\.(\d+);/);if(m){const p=parseInt(m[1],10),g=parseInt(m[2],10);!isNaN(p)&&!isNaN(g)?l=Array.from({length:g-p+1},(x,b)=>p+b):console.warn(`Invalid range values in color set definition: "${f.definition}"`)}else console.warn(`No valid range found in color set definition: "${f.definition}"`)}else console.warn(`Cannot apply '.all()' to color set "${d}". It's either not found, not a 'basic' type, or doesn't contain 'int' in its definition.`),l=[]}else{const d=JSON.parse(o.data.initialMarking);Array.isArray(d)?l=d:l=[d]}i=l}}catch(l){console.error(`Error parsing initial marking for node ${o.id}:`,o.data.initialMarking,l),i=[]}return{...o,data:{...o.data,marking:i}}}return o});return{petriNetsById:{...t.petriNetsById,[t.activePetriNetId]:{...n,nodes:r}}}})},setSelectedElement:(t,n)=>e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],selectedElement:n}}})),setColorSets:t=>{e({colorSets:t})},setVariables:t=>{e({variables:t})},setPriorities:t=>{e({priorities:t})},setFunctions:t=>{e({functions:t})},setUses:t=>{e({uses:t})},addColorSet:t=>e(n=>({colorSets:[...n.colorSets,{...t,id:t.id??ot()}]})),addVariable:t=>e(n=>({variables:[...n.variables,{...t,id:t.id??ot()}]})),addPriority:t=>e(n=>({priorities:[...n.priorities,{...t,id:t.id??ot()}]})),addFunction:t=>e(n=>({functions:[...n.functions,{...t,id:t.id??ot()}]})),renameColorSet:(t,n)=>e(r=>{const o=r.colorSets.find(f=>f.id===t);if(!o)return r;const i=o.name;if(i===n)return r;const l=r.colorSets.map(f=>f.id===t?{...f,name:n}:f),c=r.variables.map(f=>f.colorSet===i?{...f,colorSet:n}:f),d={};for(const[f,m]of Object.entries(r.petriNetsById)){const p=m.nodes.map(g=>{var x;return g.type==="place"&&((x=g.data)==null?void 0:x.colorSet)===i?{...g,data:{...g.data,colorSet:n}}:g});d[f]={...m,nodes:p}}return{colorSets:l,variables:c,petriNetsById:d}}),deleteColorSet:t=>e(n=>({colorSets:n.colorSets.filter(r=>r.id!==t)})),deleteVariable:t=>e(n=>({variables:n.variables.filter(r=>r.id!==t)})),deletePriority:t=>e(n=>({priorities:n.priorities.filter(r=>r.id!==t)})),deleteFunction:t=>e(n=>({functions:n.functions.filter(r=>r.id!==t)})),addUse:t=>e(n=>({uses:[...n.uses,{...t,id:t.id??ot()}]})),updateUse:(t,n)=>e(r=>({uses:r.uses.map(o=>o.id===t?{name:n.name,content:n.content}:o)})),deleteUse:t=>e(n=>({uses:n.uses.filter(r=>r.id!==t)})),toggleArcMode:t=>e(n=>({petriNetsById:Object.fromEntries(Object.entries(n.petriNetsById).map(([r,o])=>[r,{...o,nodes:o.nodes.map(i=>({...i,data:{...i.data,isArcMode:t}}))}]))})),setSimulationEpoch:t=>e(()=>({simulationEpoch:t})),setShowMarkingDisplay:t=>e(()=>({showMarkingDisplay:t})),reset:()=>{e(T$)}}),{handleSet:e=>(pg=e,(t,n)=>{if($a>0){Fa||(Fa=t,fg=n);return}e(t,n)}),partialize:e=>({petriNetsById:e.petriNetsById,petriNetOrder:e.petriNetOrder,activePetriNetId:e.activePetriNetId,colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses}),equality:(e,t)=>JSON.stringify({petriNetsById:Vb(e.petriNetsById),petriNetOrder:e.petriNetOrder,activePetriNetId:e.activePetriNetId,colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses})===JSON.stringify({petriNetsById:Vb(t.petriNetsById),petriNetOrder:t.petriNetOrder,activePetriNetId:t.activePetriNetId,colorSets:t.colorSets,variables:t.variables,priorities:t.priorities,functions:t.functions,uses:t.uses}),limit:100})),ll=()=>{$a++},al=()=>{$a<=0||($a--,$a===0&&Fa!==void 0&&pg&&(pg(Fa,fg),Fa=void 0,fg=void 0))};function Hb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Sx(...e){return t=>{let n=!1;const r=e.map(o=>{const i=Hb(o,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():Hb(e[o],null)}}}}function st(...e){return S.useCallback(Sx(...e),e)}var M$=Symbol.for("react.lazy"),Vd=lf[" use ".trim().toString()];function D$(e){return typeof e=="object"&&e!==null&&"then"in e}function mN(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===M$&&"_payload"in e&&D$(e._payload)}function gN(e){const t=O$(e),n=S.forwardRef((r,o)=>{let{children:i,...l}=r;mN(i)&&typeof Vd=="function"&&(i=Vd(i._payload));const c=S.Children.toArray(i),d=c.find(z$);if(d){const f=d.props.children,m=c.map(p=>p===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:S.isValidElement(f)?S.cloneElement(f,void 0,m):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}var xN=gN("Slot");function O$(e){const t=S.forwardRef((n,r)=>{let{children:o,...i}=n;if(mN(o)&&typeof Vd=="function"&&(o=Vd(o._payload)),S.isValidElement(o)){const l=F$(o),c=$$(i,o.props);return o.type!==S.Fragment&&(c.ref=r?Sx(r,l):l),S.cloneElement(o,c)}return S.Children.count(o)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var L$=Symbol("radix.slottable");function z$(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===L$}function $$(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function F$(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var B$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kx=B$.reduce((e,t)=>{const n=gN(`Primitive.${t}`),r=S.forwardRef((o,i)=>{const{asChild:l,...c}=o,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),V$="Separator",Ub="horizontal",H$=["horizontal","vertical"],yN=S.forwardRef((e,t)=>{const{decorative:n,orientation:r=Ub,...o}=e,i=U$(r)?r:Ub,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return u.jsx(kx.div,{"data-orientation":i,...c,...o,ref:t})});yN.displayName=V$;function U$(e){return H$.includes(e)}var W$=yN;function Sc({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return u.jsx(W$,{"data-slot":"separator-root",decorative:n,orientation:t,className:Xe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function Re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function q$(e,t){const n=S.createContext(t),r=i=>{const{children:l,...c}=i,d=S.useMemo(()=>c,Object.values(c));return u.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function o(i){const l=S.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,o]}function Tn(e,t=[]){let n=[];function r(i,l){const c=S.createContext(l),d=n.length;n=[...n,l];const f=p=>{var k;const{scope:g,children:x,...b}=p,v=((k=g==null?void 0:g[e])==null?void 0:k[d])||c,w=S.useMemo(()=>b,Object.values(b));return u.jsx(v.Provider,{value:w,children:x})};f.displayName=i+"Provider";function m(p,g){var v;const x=((v=g==null?void 0:g[e])==null?void 0:v[d])||c,b=S.useContext(x);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,m]}const o=()=>{const i=n.map(l=>S.createContext(l));return function(c){const d=(c==null?void 0:c[e])||i;return S.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return o.scopeName=e,[r,Y$(o,...t)]}function Y$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const p=d(i)[`__scope${f}`];return{...c,...p}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function cl(e){const t=X$(e),n=S.forwardRef((r,o)=>{const{children:i,...l}=r,c=S.Children.toArray(i),d=c.find(K$);if(d){const f=d.props.children,m=c.map(p=>p===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:S.isValidElement(f)?S.cloneElement(f,void 0,m):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function X$(e){const t=S.forwardRef((n,r)=>{const{children:o,...i}=n;if(S.isValidElement(o)){const l=J$(o),c=Q$(i,o.props);return o.type!==S.Fragment&&(c.ref=r?Sx(r,l):l),S.cloneElement(o,c)}return S.Children.count(o)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vN=Symbol("radix.slottable");function G$(e){const t=({children:n})=>u.jsx(u.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=vN,t}function K$(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vN}function Q$(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function J$(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function kf(e){const t=e+"CollectionProvider",[n,r]=Tn(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:w,children:k}=v,E=qe.useRef(null),C=qe.useRef(new Map).current;return u.jsx(o,{scope:w,itemMap:C,collectionRef:E,children:k})};l.displayName=t;const c=e+"CollectionSlot",d=cl(c),f=qe.forwardRef((v,w)=>{const{scope:k,children:E}=v,C=i(c,k),_=st(w,C.collectionRef);return u.jsx(d,{ref:_,children:E})});f.displayName=c;const m=e+"CollectionItemSlot",p="data-radix-collection-item",g=cl(m),x=qe.forwardRef((v,w)=>{const{scope:k,children:E,...C}=v,_=qe.useRef(null),R=st(w,_),P=i(m,k);return qe.useEffect(()=>(P.itemMap.set(_,{ref:_,...C}),()=>void P.itemMap.delete(_))),u.jsx(g,{[p]:"",ref:R,children:E})});x.displayName=m;function b(v){const w=i(e+"CollectionConsumer",v);return qe.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const C=Array.from(E.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((P,T)=>C.indexOf(P.ref.current)-C.indexOf(T.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:f,ItemSlot:x},b,r]}var vn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},Z$=lf[" useId ".trim().toString()]||(()=>{}),e5=0;function wr(e){const[t,n]=S.useState(Z$());return vn(()=>{n(r=>r??String(e5++))},[e]),e||(t?`radix-${t}`:"")}var t5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ue=t5.reduce((e,t)=>{const n=cl(`Primitive.${t}`),r=S.forwardRef((o,i)=>{const{asChild:l,...c}=o,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function n5(e,t){e&&yl.flushSync(()=>e.dispatchEvent(t))}function Ln(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var r5=lf[" useInsertionEffect ".trim().toString()]||vn;function In({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,i,l]=o5({defaultProp:t,onChange:n}),c=e!==void 0,d=c?e:o;{const m=S.useRef(e!==void 0);S.useEffect(()=>{const p=m.current;p!==c&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const f=S.useCallback(m=>{var p;if(c){const g=i5(m)?m(e):m;g!==e&&((p=l.current)==null||p.call(l,g))}else i(m)},[c,e,i,l]);return[d,f]}function o5({defaultProp:e,onChange:t}){const[n,r]=S.useState(e),o=S.useRef(n),i=S.useRef(t);return r5(()=>{i.current=t},[t]),S.useEffect(()=>{var l;o.current!==n&&((l=i.current)==null||l.call(i,n),o.current=n)},[n,o]),[n,r,i]}function i5(e){return typeof e=="function"}var s5=S.createContext(void 0);function fi(e){const t=S.useContext(s5);return e||t||"ltr"}var vm="rovingFocusGroup.onEntryFocus",l5={bubbles:!1,cancelable:!0},kc="RovingFocusGroup",[hg,wN,a5]=kf(kc),[c5,vl]=Tn(kc,[a5]),[u5,d5]=c5(kc),bN=S.forwardRef((e,t)=>u.jsx(hg.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(hg.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(f5,{...e,ref:t})})}));bN.displayName=kc;var f5=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...p}=e,g=S.useRef(null),x=st(t,g),b=fi(i),[v,w]=In({prop:l,defaultProp:c??null,onChange:d,caller:kc}),[k,E]=S.useState(!1),C=Ln(f),_=wN(n),R=S.useRef(!1),[P,T]=S.useState(0);return S.useEffect(()=>{const L=g.current;if(L)return L.addEventListener(vm,C),()=>L.removeEventListener(vm,C)},[C]),u.jsx(u5,{scope:n,orientation:r,dir:b,loop:o,currentTabStopId:v,onItemFocus:S.useCallback(L=>w(L),[w]),onItemShiftTab:S.useCallback(()=>E(!0),[]),onFocusableItemAdd:S.useCallback(()=>T(L=>L+1),[]),onFocusableItemRemove:S.useCallback(()=>T(L=>L-1),[]),children:u.jsx(Ue.div,{tabIndex:k||P===0?-1:0,"data-orientation":r,...p,ref:x,style:{outline:"none",...e.style},onMouseDown:Re(e.onMouseDown,()=>{R.current=!0}),onFocus:Re(e.onFocus,L=>{const U=!R.current;if(L.target===L.currentTarget&&U&&!k){const z=new CustomEvent(vm,l5);if(L.currentTarget.dispatchEvent(z),!z.defaultPrevented){const B=_().filter(F=>F.focusable),q=B.find(F=>F.active),G=B.find(F=>F.id===v),O=[q,G,...B].filter(Boolean).map(F=>F.ref.current);CN(O,m)}}R.current=!1}),onBlur:Re(e.onBlur,()=>E(!1))})})}),SN="RovingFocusGroupItem",kN=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,children:l,...c}=e,d=wr(),f=i||d,m=d5(SN,n),p=m.currentTabStopId===f,g=wN(n),{onFocusableItemAdd:x,onFocusableItemRemove:b,currentTabStopId:v}=m;return S.useEffect(()=>{if(r)return x(),()=>b()},[r,x,b]),u.jsx(hg.ItemSlot,{scope:n,id:f,focusable:r,active:o,children:u.jsx(Ue.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:Re(e.onMouseDown,w=>{r?m.onItemFocus(f):w.preventDefault()}),onFocus:Re(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:Re(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){m.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const k=m5(w,m.orientation,m.dir);if(k!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let C=g().filter(_=>_.focusable).map(_=>_.ref.current);if(k==="last")C.reverse();else if(k==="prev"||k==="next"){k==="prev"&&C.reverse();const _=C.indexOf(w.currentTarget);C=m.loop?g5(C,_+1):C.slice(_+1)}setTimeout(()=>CN(C))}}),children:typeof l=="function"?l({isCurrentTabStop:p,hasTabStop:v!=null}):l})})});kN.displayName=SN;var p5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function h5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function m5(e,t,n){const r=h5(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return p5[r]}function CN(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function g5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Cx=bN,Nx=kN;function x5(e,t){return S.useReducer((n,r)=>t[n][r]??n,e)}var Rn=e=>{const{present:t,children:n}=e,r=y5(t),o=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),i=st(r.ref,v5(o));return typeof n=="function"||r.isPresent?S.cloneElement(o,{ref:i}):null};Rn.displayName="Presence";function y5(e){const[t,n]=S.useState(),r=S.useRef(null),o=S.useRef(e),i=S.useRef("none"),l=e?"mounted":"unmounted",[c,d]=x5(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const f=td(r.current);i.current=c==="mounted"?f:"none"},[c]),vn(()=>{const f=r.current,m=o.current;if(m!==e){const g=i.current,x=td(f);e?d("MOUNT"):x==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(m&&g!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),vn(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,p=x=>{const v=td(r.current).includes(CSS.escape(x.animationName));if(x.target===t&&v&&(d("ANIMATION_END"),!o.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},g=x=>{x.target===t&&(i.current=td(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:S.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function td(e){return(e==null?void 0:e.animationName)||"none"}function v5(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Cf="Tabs",[w5]=Tn(Cf,[vl]),NN=vl(),[b5,Ex]=w5(Cf),EN=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:d="automatic",...f}=e,m=fi(c),[p,g]=In({prop:r,onChange:o,defaultProp:i??"",caller:Cf});return u.jsx(b5,{scope:n,baseId:wr(),value:p,onValueChange:g,orientation:l,dir:m,activationMode:d,children:u.jsx(Ue.div,{dir:m,"data-orientation":l,...f,ref:t})})});EN.displayName=Cf;var jN="TabsList",_N=S.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,i=Ex(jN,n),l=NN(n);return u.jsx(Cx,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(Ue.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:t})})});_N.displayName=jN;var PN="TabsTrigger",AN=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...i}=e,l=Ex(PN,n),c=NN(n),d=TN(l.baseId,r),f=RN(l.baseId,r),m=r===l.value;return u.jsx(Nx,{asChild:!0,...c,focusable:!o,active:m,children:u.jsx(Ue.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...i,ref:t,onMouseDown:Re(e.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?l.onValueChange(r):p.preventDefault()}),onKeyDown:Re(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(r)}),onFocus:Re(e.onFocus,()=>{const p=l.activationMode!=="manual";!m&&!o&&p&&l.onValueChange(r)})})})});AN.displayName=PN;var IN="TabsContent",Hd=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:i,...l}=e,c=Ex(IN,n),d=TN(c.baseId,r),f=RN(c.baseId,r),m=r===c.value,p=S.useRef(m);return S.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),u.jsx(Rn,{present:o||m,children:({present:g})=>u.jsx(Ue.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:g&&i})})});Hd.displayName=IN;function TN(e,t){return`${e}-trigger-${t}`}function RN(e,t){return`${e}-content-${t}`}var S5=EN,k5=_N,C5=AN,N5=Hd;function pi({className:e,...t}){return u.jsx(S5,{"data-slot":"tabs",className:Xe("flex flex-col gap-2",e),...t})}function hi({className:e,...t}){return u.jsx(k5,{"data-slot":"tabs-list",className:Xe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function $n({className:e,...t}){return u.jsx(C5,{"data-slot":"tabs-trigger",className:Xe("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function br({className:e,...t}){return u.jsx(N5,{"data-slot":"tabs-content",className:Xe("flex-1 outline-none",e),...t})}var E5="Label",MN=S.forwardRef((e,t)=>u.jsx(kx.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));MN.displayName=E5;var j5=MN;function je({className:e,...t}){return u.jsx(j5,{"data-slot":"label",className:Xe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function at({className:e,type:t,...n}){return u.jsx("input",{type:t,"data-slot":"input",className:Xe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}const wl=S.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:Xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));wl.displayName="Textarea";const DN=S.forwardRef(({className:e,value:t,onChange:n,...r},o)=>{const i=S.useRef(null),l=S.useCallback(d=>{i.current=d,typeof o=="function"?o(d):o&&(o.current=d)},[o]),c=S.useCallback(()=>{const d=i.current;d&&(d.style.height="auto",d.style.height=`${d.scrollHeight}px`)},[]);return S.useEffect(()=>{c()},[t,c]),u.jsx("textarea",{ref:l,rows:1,value:t,onChange:d=>{n==null||n(d)},className:Xe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","resize-none overflow-hidden leading-[1.5] min-h-0",e),...r})});DN.displayName="AutoExpandingInput";const bo=S.forwardRef(({onFocus:e,onBlur:t,...n},r)=>u.jsx(at,{ref:r,onFocus:o=>{ll(),e==null||e(o)},onBlur:o=>{al(),t==null||t(o)},...n}));bo.displayName="UndoableInput";const ii=S.forwardRef(({onFocus:e,onBlur:t,...n},r)=>u.jsx(wl,{ref:r,onFocus:o=>{ll(),e==null||e(o)},onBlur:o=>{al(),t==null||t(o)},...n}));ii.displayName="UndoableTextarea";const jx=S.forwardRef(({onFocus:e,onBlur:t,...n},r)=>u.jsx(DN,{ref:r,onFocus:o=>{ll(),e==null||e(o)},onBlur:o=>{al(),t==null||t(o)},...n}));jx.displayName="UndoableAutoExpandingInput";function sc(e,[t,n]){return Math.min(n,Math.max(t,e))}function _5(e,t=globalThis==null?void 0:globalThis.document){const n=Ln(e);S.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var P5="DismissableLayer",mg="dismissableLayer.update",A5="dismissableLayer.pointerDownOutside",I5="dismissableLayer.focusOutside",Wb,ON=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cc=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...d}=e,f=S.useContext(ON),[m,p]=S.useState(null),g=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=S.useState({}),b=st(t,T=>p(T)),v=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),k=v.indexOf(w),E=m?v.indexOf(m):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,_=E>=k,R=M5(T=>{const L=T.target,U=[...f.branches].some(z=>z.contains(L));!_||U||(o==null||o(T),l==null||l(T),T.defaultPrevented||c==null||c())},g),P=D5(T=>{const L=T.target;[...f.branches].some(z=>z.contains(L))||(i==null||i(T),l==null||l(T),T.defaultPrevented||c==null||c())},g);return _5(T=>{E===f.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&c&&(T.preventDefault(),c()))},g),S.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Wb=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),qb(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Wb)}},[m,g,n,f]),S.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),qb())},[m,f]),S.useEffect(()=>{const T=()=>x({});return document.addEventListener(mg,T),()=>document.removeEventListener(mg,T)},[]),u.jsx(Ue.div,{...d,ref:b,style:{pointerEvents:C?_?"auto":"none":void 0,...e.style},onFocusCapture:Re(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Re(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Re(e.onPointerDownCapture,R.onPointerDownCapture)})});Cc.displayName=P5;var T5="DismissableLayerBranch",R5=S.forwardRef((e,t)=>{const n=S.useContext(ON),r=S.useRef(null),o=st(t,r);return S.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(Ue.div,{...e,ref:o})});R5.displayName=T5;function M5(e,t=globalThis==null?void 0:globalThis.document){const n=Ln(e),r=S.useRef(!1),o=S.useRef(()=>{});return S.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let d=function(){LN(A5,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function D5(e,t=globalThis==null?void 0:globalThis.document){const n=Ln(e),r=S.useRef(!1);return S.useEffect(()=>{const o=i=>{i.target&&!r.current&&LN(I5,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function qb(){const e=new CustomEvent(mg);document.dispatchEvent(e)}function LN(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?n5(o,i):o.dispatchEvent(i)}var wm=0;function _x(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Yb()),document.body.insertAdjacentElement("beforeend",e[1]??Yb()),wm++,()=>{wm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),wm--}},[])}function Yb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var bm="focusScope.autoFocusOnMount",Sm="focusScope.autoFocusOnUnmount",Xb={bubbles:!1,cancelable:!0},O5="FocusScope",Nf=S.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...l}=e,[c,d]=S.useState(null),f=Ln(o),m=Ln(i),p=S.useRef(null),g=st(t,v=>d(v)),x=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let v=function(C){if(x.paused||!c)return;const _=C.target;c.contains(_)?p.current=_:ei(p.current,{select:!0})},w=function(C){if(x.paused||!c)return;const _=C.relatedTarget;_!==null&&(c.contains(_)||ei(p.current,{select:!0}))},k=function(C){if(document.activeElement===document.body)for(const R of C)R.removedNodes.length>0&&ei(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const E=new MutationObserver(k);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),E.disconnect()}}},[r,c,x.paused]),S.useEffect(()=>{if(c){Kb.add(x);const v=document.activeElement;if(!c.contains(v)){const k=new CustomEvent(bm,Xb);c.addEventListener(bm,f),c.dispatchEvent(k),k.defaultPrevented||(L5(V5(zN(c)),{select:!0}),document.activeElement===v&&ei(c))}return()=>{c.removeEventListener(bm,f),setTimeout(()=>{const k=new CustomEvent(Sm,Xb);c.addEventListener(Sm,m),c.dispatchEvent(k),k.defaultPrevented||ei(v??document.body,{select:!0}),c.removeEventListener(Sm,m),Kb.remove(x)},0)}}},[c,f,m,x]);const b=S.useCallback(v=>{if(!n&&!r||x.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,k=document.activeElement;if(w&&k){const E=v.currentTarget,[C,_]=z5(E);C&&_?!v.shiftKey&&k===_?(v.preventDefault(),n&&ei(C,{select:!0})):v.shiftKey&&k===C&&(v.preventDefault(),n&&ei(_,{select:!0})):k===E&&v.preventDefault()}},[n,r,x.paused]);return u.jsx(Ue.div,{tabIndex:-1,...l,ref:g,onKeyDown:b})});Nf.displayName=O5;function L5(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ei(r,{select:t}),document.activeElement!==n)return}function z5(e){const t=zN(e),n=Gb(t,e),r=Gb(t.reverse(),e);return[n,r]}function zN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Gb(e,t){for(const n of e)if(!$5(n,{upTo:t}))return n}function $5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function F5(e){return e instanceof HTMLInputElement&&"select"in e}function ei(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&F5(e)&&t&&e.select()}}var Kb=B5();function B5(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Qb(e,t),e.unshift(t)},remove(t){var n;e=Qb(e,t),(n=e[0])==null||n.resume()}}}function Qb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function V5(e){return e.filter(t=>t.tagName!=="A")}const H5=["top","right","bottom","left"],ci=Math.min,ir=Math.max,Ud=Math.round,nd=Math.floor,eo=e=>({x:e,y:e}),U5={left:"right",right:"left",bottom:"top",top:"bottom"},W5={start:"end",end:"start"};function gg(e,t,n){return ir(e,ci(t,n))}function Eo(e,t){return typeof e=="function"?e(t):e}function jo(e){return e.split("-")[0]}function bl(e){return e.split("-")[1]}function Px(e){return e==="x"?"y":"x"}function Ax(e){return e==="y"?"height":"width"}const q5=new Set(["top","bottom"]);function Jr(e){return q5.has(jo(e))?"y":"x"}function Ix(e){return Px(Jr(e))}function Y5(e,t,n){n===void 0&&(n=!1);const r=bl(e),o=Ix(e),i=Ax(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=Wd(l)),[l,Wd(l)]}function X5(e){const t=Wd(e);return[xg(e),t,xg(t)]}function xg(e){return e.replace(/start|end/g,t=>W5[t])}const Jb=["left","right"],Zb=["right","left"],G5=["top","bottom"],K5=["bottom","top"];function Q5(e,t,n){switch(e){case"top":case"bottom":return n?t?Zb:Jb:t?Jb:Zb;case"left":case"right":return t?G5:K5;default:return[]}}function J5(e,t,n,r){const o=bl(e);let i=Q5(jo(e),n==="start",r);return o&&(i=i.map(l=>l+"-"+o),t&&(i=i.concat(i.map(xg)))),i}function Wd(e){return e.replace(/left|right|bottom|top/g,t=>U5[t])}function Z5(e){return{top:0,right:0,bottom:0,left:0,...e}}function $N(e){return typeof e!="number"?Z5(e):{top:e,right:e,bottom:e,left:e}}function qd(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function e1(e,t,n){let{reference:r,floating:o}=e;const i=Jr(t),l=Ix(t),c=Ax(l),d=jo(t),f=i==="y",m=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,g=r[c]/2-o[c]/2;let x;switch(d){case"top":x={x:m,y:r.y-o.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:p};break;case"left":x={x:r.x-o.width,y:p};break;default:x={x:r.x,y:r.y}}switch(bl(t)){case"start":x[l]-=g*(n&&f?-1:1);break;case"end":x[l]+=g*(n&&f?-1:1);break}return x}async function eF(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:l,elements:c,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:g=!1,padding:x=0}=Eo(t,e),b=$N(x),w=c[g?p==="floating"?"reference":"floating":p],k=qd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:m,strategy:d})),E=p==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),_=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},R=qd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:C,strategy:d}):E);return{top:(k.top-R.top+b.top)/_.y,bottom:(R.bottom-k.bottom+b.bottom)/_.y,left:(k.left-R.left+b.left)/_.x,right:(R.right-k.right+b.right)/_.x}}const tF=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:l}=n,c=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:p}=e1(f,r,d),g=r,x={},b=0;for(let w=0;w<c.length;w++){var v;const{name:k,fn:E}=c[w],{x:C,y:_,data:R,reset:P}=await E({x:m,y:p,initialPlacement:r,placement:g,strategy:o,middlewareData:x,rects:f,platform:{...l,detectOverflow:(v=l.detectOverflow)!=null?v:eF},elements:{reference:e,floating:t}});m=C??m,p=_??p,x={...x,[k]:{...x[k],...R}},P&&b<=50&&(b++,typeof P=="object"&&(P.placement&&(g=P.placement),P.rects&&(f=P.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):P.rects),{x:m,y:p}=e1(f,g,d)),w=-1)}return{x:m,y:p,placement:g,strategy:o,middlewareData:x}},nF=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:l,elements:c,middlewareData:d}=t,{element:f,padding:m=0}=Eo(e,t)||{};if(f==null)return{};const p=$N(m),g={x:n,y:r},x=Ix(o),b=Ax(x),v=await l.getDimensions(f),w=x==="y",k=w?"top":"left",E=w?"bottom":"right",C=w?"clientHeight":"clientWidth",_=i.reference[b]+i.reference[x]-g[x]-i.floating[b],R=g[x]-i.reference[x],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let T=P?P[C]:0;(!T||!await(l.isElement==null?void 0:l.isElement(P)))&&(T=c.floating[C]||i.floating[b]);const L=_/2-R/2,U=T/2-v[b]/2-1,z=ci(p[k],U),B=ci(p[E],U),q=z,G=T-v[b]-B,A=T/2-v[b]/2+L,O=gg(q,A,G),F=!d.arrow&&bl(o)!=null&&A!==O&&i.reference[b]/2-(A<q?z:B)-v[b]/2<0,X=F?A<q?A-q:A-G:0;return{[x]:g[x]+X,data:{[x]:O,centerOffset:A-O-X,...F&&{alignmentOffset:X}},reset:F}}}),rF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:l,initialPlacement:c,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...w}=Eo(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const k=jo(o),E=Jr(c),C=jo(c)===c,_=await(d.isRTL==null?void 0:d.isRTL(f.floating)),R=g||(C||!v?[Wd(c)]:X5(c)),P=b!=="none";!g&&P&&R.push(...J5(c,v,b,_));const T=[c,...R],L=await d.detectOverflow(t,w),U=[];let z=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&U.push(L[k]),p){const A=Y5(o,l,_);U.push(L[A[0]],L[A[1]])}if(z=[...z,{placement:o,overflows:U}],!U.every(A=>A<=0)){var B,q;const A=(((B=i.flip)==null?void 0:B.index)||0)+1,O=T[A];if(O&&(!(p==="alignment"?E!==Jr(O):!1)||z.every(D=>Jr(D.placement)===E?D.overflows[0]>0:!0)))return{data:{index:A,overflows:z},reset:{placement:O}};let F=(q=z.filter(X=>X.overflows[0]<=0).sort((X,D)=>X.overflows[1]-D.overflows[1])[0])==null?void 0:q.placement;if(!F)switch(x){case"bestFit":{var G;const X=(G=z.filter(D=>{if(P){const W=Jr(D.placement);return W===E||W==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(W=>W>0).reduce((W,M)=>W+M,0)]).sort((D,W)=>D[1]-W[1])[0])==null?void 0:G[0];X&&(F=X);break}case"initialPlacement":F=c;break}if(o!==F)return{reset:{placement:F}}}return{}}}};function t1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function n1(e){return H5.some(t=>e[t]>=0)}const oF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:o="referenceHidden",...i}=Eo(e,t);switch(o){case"referenceHidden":{const l=await r.detectOverflow(t,{...i,elementContext:"reference"}),c=t1(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:n1(c)}}}case"escaped":{const l=await r.detectOverflow(t,{...i,altBoundary:!0}),c=t1(l,n.floating);return{data:{escapedOffsets:c,escaped:n1(c)}}}default:return{}}}}},FN=new Set(["left","top"]);async function iF(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=jo(n),c=bl(n),d=Jr(n)==="y",f=FN.has(l)?-1:1,m=i&&d?-1:1,p=Eo(t,e);let{mainAxis:g,crossAxis:x,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof b=="number"&&(x=c==="end"?b*-1:b),d?{x:x*m,y:g*f}:{x:g*f,y:x*m}}const sF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:l,middlewareData:c}=t,d=await iF(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+d.x,y:i+d.y,data:{...d,placement:l}}}}},lF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o,platform:i}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:k=>{let{x:E,y:C}=k;return{x:E,y:C}}},...f}=Eo(e,t),m={x:n,y:r},p=await i.detectOverflow(t,f),g=Jr(jo(o)),x=Px(g);let b=m[x],v=m[g];if(l){const k=x==="y"?"top":"left",E=x==="y"?"bottom":"right",C=b+p[k],_=b-p[E];b=gg(C,b,_)}if(c){const k=g==="y"?"top":"left",E=g==="y"?"bottom":"right",C=v+p[k],_=v-p[E];v=gg(C,v,_)}const w=d.fn({...t,[x]:b,[g]:v});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[x]:l,[g]:c}}}}}},aF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:l}=t,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=Eo(e,t),m={x:n,y:r},p=Jr(o),g=Px(p);let x=m[g],b=m[p];const v=Eo(c,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const C=g==="y"?"height":"width",_=i.reference[g]-i.floating[C]+w.mainAxis,R=i.reference[g]+i.reference[C]-w.mainAxis;x<_?x=_:x>R&&(x=R)}if(f){var k,E;const C=g==="y"?"width":"height",_=FN.has(jo(o)),R=i.reference[p]-i.floating[C]+(_&&((k=l.offset)==null?void 0:k[p])||0)+(_?0:w.crossAxis),P=i.reference[p]+i.reference[C]+(_?0:((E=l.offset)==null?void 0:E[p])||0)-(_?w.crossAxis:0);b<R?b=R:b>P&&(b=P)}return{[g]:x,[p]:b}}}},cF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:l,elements:c}=t,{apply:d=()=>{},...f}=Eo(e,t),m=await l.detectOverflow(t,f),p=jo(o),g=bl(o),x=Jr(o)==="y",{width:b,height:v}=i.floating;let w,k;p==="top"||p==="bottom"?(w=p,k=g===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(k=p,w=g==="end"?"top":"bottom");const E=v-m.top-m.bottom,C=b-m.left-m.right,_=ci(v-m[w],E),R=ci(b-m[k],C),P=!t.middlewareData.shift;let T=_,L=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(L=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=E),P&&!g){const z=ir(m.left,0),B=ir(m.right,0),q=ir(m.top,0),G=ir(m.bottom,0);x?L=b-2*(z!==0||B!==0?z+B:ir(m.left,m.right)):T=v-2*(q!==0||G!==0?q+G:ir(m.top,m.bottom))}await d({...t,availableWidth:L,availableHeight:T});const U=await l.getDimensions(c.floating);return b!==U.width||v!==U.height?{reset:{rects:!0}}:{}}}};function Ef(){return typeof window<"u"}function Sl(e){return BN(e)?(e.nodeName||"").toLowerCase():"#document"}function ar(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function oo(e){var t;return(t=(BN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BN(e){return Ef()?e instanceof Node||e instanceof ar(e).Node:!1}function Lr(e){return Ef()?e instanceof Element||e instanceof ar(e).Element:!1}function no(e){return Ef()?e instanceof HTMLElement||e instanceof ar(e).HTMLElement:!1}function r1(e){return!Ef()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ar(e).ShadowRoot}const uF=new Set(["inline","contents"]);function Nc(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=zr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!uF.has(o)}const dF=new Set(["table","td","th"]);function fF(e){return dF.has(Sl(e))}const pF=[":popover-open",":modal"];function jf(e){return pF.some(t=>{try{return e.matches(t)}catch{return!1}})}const hF=["transform","translate","scale","rotate","perspective"],mF=["transform","translate","scale","rotate","perspective","filter"],gF=["paint","layout","strict","content"];function Tx(e){const t=Rx(),n=Lr(e)?zr(e):e;return hF.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||mF.some(r=>(n.willChange||"").includes(r))||gF.some(r=>(n.contain||"").includes(r))}function xF(e){let t=ui(e);for(;no(t)&&!ul(t);){if(Tx(t))return t;if(jf(t))return null;t=ui(t)}return null}function Rx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yF=new Set(["html","body","#document"]);function ul(e){return yF.has(Sl(e))}function zr(e){return ar(e).getComputedStyle(e)}function _f(e){return Lr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ui(e){if(Sl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||r1(e)&&e.host||oo(e);return r1(t)?t.host:t}function VN(e){const t=ui(e);return ul(t)?e.ownerDocument?e.ownerDocument.body:e.body:no(t)&&Nc(t)?t:VN(t)}function lc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=VN(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),l=ar(o);if(i){const c=yg(l);return t.concat(l,l.visualViewport||[],Nc(o)?o:[],c&&n?lc(c):[])}return t.concat(o,lc(o,[],n))}function yg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function HN(e){const t=zr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=no(e),i=o?e.offsetWidth:n,l=o?e.offsetHeight:r,c=Ud(n)!==i||Ud(r)!==l;return c&&(n=i,r=l),{width:n,height:r,$:c}}function Mx(e){return Lr(e)?e:e.contextElement}function Gs(e){const t=Mx(e);if(!no(t))return eo(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=HN(t);let l=(i?Ud(n.width):n.width)/r,c=(i?Ud(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const vF=eo(0);function UN(e){const t=ar(e);return!Rx()||!t.visualViewport?vF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wF(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ar(e)?!1:t}function Zi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Mx(e);let l=eo(1);t&&(r?Lr(r)&&(l=Gs(r)):l=Gs(e));const c=wF(i,n,r)?UN(i):eo(0);let d=(o.left+c.x)/l.x,f=(o.top+c.y)/l.y,m=o.width/l.x,p=o.height/l.y;if(i){const g=ar(i),x=r&&Lr(r)?ar(r):r;let b=g,v=yg(b);for(;v&&r&&x!==b;){const w=Gs(v),k=v.getBoundingClientRect(),E=zr(v),C=k.left+(v.clientLeft+parseFloat(E.paddingLeft))*w.x,_=k.top+(v.clientTop+parseFloat(E.paddingTop))*w.y;d*=w.x,f*=w.y,m*=w.x,p*=w.y,d+=C,f+=_,b=ar(v),v=yg(b)}}return qd({width:m,height:p,x:d,y:f})}function Pf(e,t){const n=_f(e).scrollLeft;return t?t.left+n:Zi(oo(e)).left+n}function WN(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Pf(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function bF(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",l=oo(r),c=t?jf(t.floating):!1;if(r===l||c&&i)return n;let d={scrollLeft:0,scrollTop:0},f=eo(1);const m=eo(0),p=no(r);if((p||!p&&!i)&&((Sl(r)!=="body"||Nc(l))&&(d=_f(r)),no(r))){const x=Zi(r);f=Gs(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const g=l&&!p&&!i?WN(l,d):eo(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+m.x+g.x,y:n.y*f.y-d.scrollTop*f.y+m.y+g.y}}function SF(e){return Array.from(e.getClientRects())}function kF(e){const t=oo(e),n=_f(e),r=e.ownerDocument.body,o=ir(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ir(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Pf(e);const c=-n.scrollTop;return zr(r).direction==="rtl"&&(l+=ir(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:l,y:c}}const o1=25;function CF(e,t){const n=ar(e),r=oo(e),o=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,c=0,d=0;if(o){i=o.width,l=o.height;const m=Rx();(!m||m&&t==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}const f=Pf(r);if(f<=0){const m=r.ownerDocument,p=m.body,g=getComputedStyle(p),x=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(r.clientWidth-p.clientWidth-x);b<=o1&&(i-=b)}else f<=o1&&(i+=f);return{width:i,height:l,x:c,y:d}}const NF=new Set(["absolute","fixed"]);function EF(e,t){const n=Zi(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=no(e)?Gs(e):eo(1),l=e.clientWidth*i.x,c=e.clientHeight*i.y,d=o*i.x,f=r*i.y;return{width:l,height:c,x:d,y:f}}function i1(e,t,n){let r;if(t==="viewport")r=CF(e,n);else if(t==="document")r=kF(oo(e));else if(Lr(t))r=EF(t,n);else{const o=UN(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return qd(r)}function qN(e,t){const n=ui(e);return n===t||!Lr(n)||ul(n)?!1:zr(n).position==="fixed"||qN(n,t)}function jF(e,t){const n=t.get(e);if(n)return n;let r=lc(e,[],!1).filter(c=>Lr(c)&&Sl(c)!=="body"),o=null;const i=zr(e).position==="fixed";let l=i?ui(e):e;for(;Lr(l)&&!ul(l);){const c=zr(l),d=Tx(l);!d&&c.position==="fixed"&&(o=null),(i?!d&&!o:!d&&c.position==="static"&&!!o&&NF.has(o.position)||Nc(l)&&!d&&qN(e,l))?r=r.filter(m=>m!==l):o=c,l=ui(l)}return t.set(e,r),r}function _F(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const l=[...n==="clippingAncestors"?jf(t)?[]:jF(t,this._c):[].concat(n),r],c=l[0],d=l.reduce((f,m)=>{const p=i1(t,m,o);return f.top=ir(p.top,f.top),f.right=ci(p.right,f.right),f.bottom=ci(p.bottom,f.bottom),f.left=ir(p.left,f.left),f},i1(t,c,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function PF(e){const{width:t,height:n}=HN(e);return{width:t,height:n}}function AF(e,t,n){const r=no(t),o=oo(t),i=n==="fixed",l=Zi(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=eo(0);function f(){d.x=Pf(o)}if(r||!r&&!i)if((Sl(t)!=="body"||Nc(o))&&(c=_f(t)),r){const x=Zi(t,!0,i,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else o&&f();i&&!r&&o&&f();const m=o&&!r&&!i?WN(o,c):eo(0),p=l.left+c.scrollLeft-d.x-m.x,g=l.top+c.scrollTop-d.y-m.y;return{x:p,y:g,width:l.width,height:l.height}}function km(e){return zr(e).position==="static"}function s1(e,t){if(!no(e)||zr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return oo(e)===n&&(n=n.ownerDocument.body),n}function YN(e,t){const n=ar(e);if(jf(e))return n;if(!no(e)){let o=ui(e);for(;o&&!ul(o);){if(Lr(o)&&!km(o))return o;o=ui(o)}return n}let r=s1(e,t);for(;r&&fF(r)&&km(r);)r=s1(r,t);return r&&ul(r)&&km(r)&&!Tx(r)?n:r||xF(e)||n}const IF=async function(e){const t=this.getOffsetParent||YN,n=this.getDimensions,r=await n(e.floating);return{reference:AF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function TF(e){return zr(e).direction==="rtl"}const RF={convertOffsetParentRelativeRectToViewportRelativeRect:bF,getDocumentElement:oo,getClippingRect:_F,getOffsetParent:YN,getElementRects:IF,getClientRects:SF,getDimensions:PF,getScale:Gs,isElement:Lr,isRTL:TF};function XN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function MF(e,t){let n=null,r;const o=oo(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:m,top:p,width:g,height:x}=f;if(c||t(),!g||!x)return;const b=nd(p),v=nd(o.clientWidth-(m+g)),w=nd(o.clientHeight-(p+x)),k=nd(m),C={rootMargin:-b+"px "+-v+"px "+-w+"px "+-k+"px",threshold:ir(0,ci(1,d))||1};let _=!0;function R(P){const T=P[0].intersectionRatio;if(T!==d){if(!_)return l();T?l(!1,T):r=setTimeout(()=>{l(!1,1e-7)},1e3)}T===1&&!XN(f,e.getBoundingClientRect())&&l(),_=!1}try{n=new IntersectionObserver(R,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(R,C)}n.observe(e)}return l(!0),i}function DF(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=Mx(e),m=o||i?[...f?lc(f):[],...lc(t)]:[];m.forEach(k=>{o&&k.addEventListener("scroll",n,{passive:!0}),i&&k.addEventListener("resize",n)});const p=f&&c?MF(f,n):null;let g=-1,x=null;l&&(x=new ResizeObserver(k=>{let[E]=k;E&&E.target===f&&x&&(x.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=x)==null||C.observe(t)})),n()}),f&&!d&&x.observe(f),x.observe(t));let b,v=d?Zi(e):null;d&&w();function w(){const k=Zi(e);v&&!XN(v,k)&&n(),v=k,b=requestAnimationFrame(w)}return n(),()=>{var k;m.forEach(E=>{o&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),p==null||p(),(k=x)==null||k.disconnect(),x=null,d&&cancelAnimationFrame(b)}}const OF=sF,LF=lF,zF=rF,$F=cF,FF=oF,l1=nF,BF=aF,VF=(e,t,n)=>{const r=new Map,o={platform:RF,...n},i={...o.platform,_c:r};return tF(e,t,{...o,platform:i})};var HF=typeof document<"u",UF=function(){},Sd=HF?S.useLayoutEffect:UF;function Yd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Yd(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Yd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function GN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function a1(e,t){const n=GN(e);return Math.round(t*n)/n}function Cm(e){const t=S.useRef(e);return Sd(()=>{t.current=e}),t}function WF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:l}={},transform:c=!0,whileElementsMounted:d,open:f}=e,[m,p]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,x]=S.useState(r);Yd(g,r)||x(r);const[b,v]=S.useState(null),[w,k]=S.useState(null),E=S.useCallback(D=>{D!==P.current&&(P.current=D,v(D))},[]),C=S.useCallback(D=>{D!==T.current&&(T.current=D,k(D))},[]),_=i||b,R=l||w,P=S.useRef(null),T=S.useRef(null),L=S.useRef(m),U=d!=null,z=Cm(d),B=Cm(o),q=Cm(f),G=S.useCallback(()=>{if(!P.current||!T.current)return;const D={placement:t,strategy:n,middleware:g};B.current&&(D.platform=B.current),VF(P.current,T.current,D).then(W=>{const M={...W,isPositioned:q.current!==!1};A.current&&!Yd(L.current,M)&&(L.current=M,yl.flushSync(()=>{p(M)}))})},[g,t,n,B,q]);Sd(()=>{f===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,p(D=>({...D,isPositioned:!1})))},[f]);const A=S.useRef(!1);Sd(()=>(A.current=!0,()=>{A.current=!1}),[]),Sd(()=>{if(_&&(P.current=_),R&&(T.current=R),_&&R){if(z.current)return z.current(_,R,G);G()}},[_,R,G,z,U]);const O=S.useMemo(()=>({reference:P,floating:T,setReference:E,setFloating:C}),[E,C]),F=S.useMemo(()=>({reference:_,floating:R}),[_,R]),X=S.useMemo(()=>{const D={position:n,left:0,top:0};if(!F.floating)return D;const W=a1(F.floating,m.x),M=a1(F.floating,m.y);return c?{...D,transform:"translate("+W+"px, "+M+"px)",...GN(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:M}},[n,c,F.floating,m.x,m.y]);return S.useMemo(()=>({...m,update:G,refs:O,elements:F,floatingStyles:X}),[m,G,O,F,X])}const qF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?l1({element:r.current,padding:o}).fn(n):{}:r?l1({element:r,padding:o}).fn(n):{}}}},YF=(e,t)=>({...OF(e),options:[e,t]}),XF=(e,t)=>({...LF(e),options:[e,t]}),GF=(e,t)=>({...BF(e),options:[e,t]}),KF=(e,t)=>({...zF(e),options:[e,t]}),QF=(e,t)=>({...$F(e),options:[e,t]}),JF=(e,t)=>({...FF(e),options:[e,t]}),ZF=(e,t)=>({...qF(e),options:[e,t]});var eB="Arrow",KN=S.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return u.jsx(Ue.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});KN.displayName=eB;var tB=KN;function Af(e){const[t,n]=S.useState(void 0);return vn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let l,c;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,c=f.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Dx="Popper",[QN,kl]=Tn(Dx),[nB,JN]=QN(Dx),ZN=e=>{const{__scopePopper:t,children:n}=e,[r,o]=S.useState(null);return u.jsx(nB,{scope:t,anchor:r,onAnchorChange:o,children:n})};ZN.displayName=Dx;var eE="PopperAnchor",tE=S.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=JN(eE,n),l=S.useRef(null),c=st(t,l),d=S.useRef(null);return S.useEffect(()=>{const f=d.current;d.current=(r==null?void 0:r.current)||l.current,f!==d.current&&i.onAnchorChange(d.current)}),r?null:u.jsx(Ue.div,{...o,ref:c})});tE.displayName=eE;var Ox="PopperContent",[rB,oB]=QN(Ox),nE=S.forwardRef((e,t)=>{var K,te,Q,ie,le,de;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:b,...v}=e,w=JN(Ox,n),[k,E]=S.useState(null),C=st(t,fe=>E(fe)),[_,R]=S.useState(null),P=Af(_),T=(P==null?void 0:P.width)??0,L=(P==null?void 0:P.height)??0,U=r+(i!=="center"?"-"+i:""),z=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},B=Array.isArray(f)?f:[f],q=B.length>0,G={padding:z,boundary:B.filter(sB),altBoundary:q},{refs:A,floatingStyles:O,placement:F,isPositioned:X,middlewareData:D}=WF({strategy:"fixed",placement:U,whileElementsMounted:(...fe)=>DF(...fe,{animationFrame:x==="always"}),elements:{reference:w.anchor},middleware:[YF({mainAxis:o+L,alignmentAxis:l}),d&&XF({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?GF():void 0,...G}),d&&KF({...G}),QF({...G,apply:({elements:fe,rects:xe,availableWidth:De,availableHeight:Me})=>{const{width:it,height:nt}=xe.reference,et=fe.floating.style;et.setProperty("--radix-popper-available-width",`${De}px`),et.setProperty("--radix-popper-available-height",`${Me}px`),et.setProperty("--radix-popper-anchor-width",`${it}px`),et.setProperty("--radix-popper-anchor-height",`${nt}px`)}}),_&&ZF({element:_,padding:c}),lB({arrowWidth:T,arrowHeight:L}),g&&JF({strategy:"referenceHidden",...G})]}),[W,M]=iE(F),H=Ln(b);vn(()=>{X&&(H==null||H())},[X,H]);const Y=(K=D.arrow)==null?void 0:K.x,I=(te=D.arrow)==null?void 0:te.y,V=((Q=D.arrow)==null?void 0:Q.centerOffset)!==0,[Z,J]=S.useState();return vn(()=>{k&&J(window.getComputedStyle(k).zIndex)},[k]),u.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:X?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(ie=D.transformOrigin)==null?void 0:ie.x,(le=D.transformOrigin)==null?void 0:le.y].join(" "),...((de=D.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(rB,{scope:n,placedSide:W,onArrowChange:R,arrowX:Y,arrowY:I,shouldHideArrow:V,children:u.jsx(Ue.div,{"data-side":W,"data-align":M,...v,ref:C,style:{...v.style,animation:X?void 0:"none"}})})})});nE.displayName=Ox;var rE="PopperArrow",iB={top:"bottom",right:"left",bottom:"top",left:"right"},oE=S.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=oB(rE,r),l=iB[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(tB,{...o,ref:n,style:{...o.style,display:"block"}})})});oE.displayName=rE;function sB(e){return e!==null}var lB=e=>({name:"transformOrigin",options:e,fn(t){var w,k,E;const{placement:n,rects:r,middlewareData:o}=t,l=((w=o.arrow)==null?void 0:w.centerOffset)!==0,c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,m]=iE(n),p={start:"0%",center:"50%",end:"100%"}[m],g=(((k=o.arrow)==null?void 0:k.x)??0)+c/2,x=(((E=o.arrow)==null?void 0:E.y)??0)+d/2;let b="",v="";return f==="bottom"?(b=l?p:`${g}px`,v=`${-d}px`):f==="top"?(b=l?p:`${g}px`,v=`${r.floating.height+d}px`):f==="right"?(b=`${-d}px`,v=l?p:`${x}px`):f==="left"&&(b=`${r.floating.width+d}px`,v=l?p:`${x}px`),{data:{x:b,y:v}}}});function iE(e){const[t,n="center"]=e.split("-");return[t,n]}var Lx=ZN,If=tE,zx=nE,$x=oE,aB="Portal",Ec=S.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[o,i]=S.useState(!1);vn(()=>i(!0),[]);const l=n||o&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Yz.createPortal(u.jsx(Ue.div,{...r,ref:t}),l):null});Ec.displayName=aB;function Tf(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var sE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cB="VisuallyHidden",lE=S.forwardRef((e,t)=>u.jsx(Ue.span,{...e,ref:t,style:{...sE,...e.style}}));lE.displayName=cB;var uB=lE,dB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ds=new WeakMap,rd=new WeakMap,od={},Nm=0,aE=function(e){return e&&(e.host||aE(e.parentNode))},fB=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=aE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},pB=function(e,t,n,r){var o=fB(t,Array.isArray(e)?e:[e]);od[n]||(od[n]=new WeakMap);var i=od[n],l=[],c=new Set,d=new Set(o),f=function(p){!p||c.has(p)||(c.add(p),f(p.parentNode))};o.forEach(f);var m=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(g){if(c.has(g))m(g);else try{var x=g.getAttribute(r),b=x!==null&&x!=="false",v=(Ds.get(g)||0)+1,w=(i.get(g)||0)+1;Ds.set(g,v),i.set(g,w),l.push(g),v===1&&b&&rd.set(g,!0),w===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",g,k)}})};return m(t),c.clear(),Nm++,function(){l.forEach(function(p){var g=Ds.get(p)-1,x=i.get(p)-1;Ds.set(p,g),i.set(p,x),g||(rd.has(p)||p.removeAttribute(r),rd.delete(p)),x||p.removeAttribute(n)}),Nm--,Nm||(Ds=new WeakMap,Ds=new WeakMap,rd=new WeakMap,od={})}},Fx=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=dB(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),pB(r,o,n,"aria-hidden")):function(){return null}},Qr=function(){return Qr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qr.apply(this,arguments)};function cE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function hB(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var kd="right-scroll-bar-position",Cd="width-before-scroll-bar",mB="with-scroll-bars-hidden",gB="--removed-body-scroll-bar-size";function Em(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function xB(e,t){var n=S.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var yB=typeof window<"u"?S.useLayoutEffect:S.useEffect,c1=new WeakMap;function vB(e,t){var n=xB(null,function(r){return e.forEach(function(o){return Em(o,r)})});return yB(function(){var r=c1.get(n);if(r){var o=new Set(r),i=new Set(e),l=n.current;o.forEach(function(c){i.has(c)||Em(c,null)}),i.forEach(function(c){o.has(c)||Em(c,l)})}c1.set(n,e)},[e]),n}function wB(e){return e}function bB(e,t){t===void 0&&(t=wB);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=t(i,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(i),l=n}var d=function(){var m=l;l=[],m.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(m){l.push(m),f()},filter:function(m){return l=l.filter(m),n}}}};return o}function SB(e){e===void 0&&(e={});var t=bB(null);return t.options=Qr({async:!0,ssr:!1},e),t}var uE=function(e){var t=e.sideCar,n=cE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Qr({},n))};uE.isSideCarExport=!0;function kB(e,t){return e.useMedium(t),uE}var dE=SB(),jm=function(){},Rf=S.forwardRef(function(e,t){var n=S.useRef(null),r=S.useState({onScrollCapture:jm,onWheelCapture:jm,onTouchMoveCapture:jm}),o=r[0],i=r[1],l=e.forwardProps,c=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,p=e.shards,g=e.sideCar,x=e.noRelative,b=e.noIsolation,v=e.inert,w=e.allowPinchZoom,k=e.as,E=k===void 0?"div":k,C=e.gapMode,_=cE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,P=vB([n,t]),T=Qr(Qr({},_),o);return S.createElement(S.Fragment,null,m&&S.createElement(R,{sideCar:dE,removeScrollBar:f,shards:p,noRelative:x,noIsolation:b,inert:v,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:C}),l?S.cloneElement(S.Children.only(c),Qr(Qr({},T),{ref:P})):S.createElement(E,Qr({},T,{className:d,ref:P}),c))});Rf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rf.classNames={fullWidth:Cd,zeroRight:kd};var CB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function NB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=CB();return t&&e.setAttribute("nonce",t),e}function EB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _B=function(){var e=0,t=null;return{add:function(n){e==0&&(t=NB())&&(EB(t,n),jB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},PB=function(){var e=_B();return function(t,n){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},fE=function(){var e=PB(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},AB={left:0,top:0,right:0,gap:0},_m=function(e){return parseInt(e||"",10)||0},IB=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[_m(n),_m(r),_m(o)]},TB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return AB;var t=IB(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},RB=fE(),Ks="data-scroll-locked",MB=function(e,t,n,r){var o=e.left,i=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(mB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Ks,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kd,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Cd,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(kd," .").concat(kd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Cd," .").concat(Cd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ks,`] {
    `).concat(gB,": ").concat(c,`px;
  }
`)},u1=function(){var e=parseInt(document.body.getAttribute(Ks)||"0",10);return isFinite(e)?e:0},DB=function(){S.useEffect(function(){return document.body.setAttribute(Ks,(u1()+1).toString()),function(){var e=u1()-1;e<=0?document.body.removeAttribute(Ks):document.body.setAttribute(Ks,e.toString())}},[])},OB=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;DB();var i=S.useMemo(function(){return TB(o)},[o]);return S.createElement(RB,{styles:MB(i,!t,o,n?"":"!important")})},vg=!1;if(typeof window<"u")try{var id=Object.defineProperty({},"passive",{get:function(){return vg=!0,!0}});window.addEventListener("test",id,id),window.removeEventListener("test",id,id)}catch{vg=!1}var Os=vg?{passive:!1}:!1,LB=function(e){return e.tagName==="TEXTAREA"},pE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!LB(e)&&n[t]==="visible")},zB=function(e){return pE(e,"overflowY")},$B=function(e){return pE(e,"overflowX")},d1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=hE(e,r);if(o){var i=mE(e,r),l=i[1],c=i[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},FB=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},BB=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},hE=function(e,t){return e==="v"?zB(t):$B(t)},mE=function(e,t){return e==="v"?FB(t):BB(t)},VB=function(e,t){return e==="h"&&t==="rtl"?-1:1},HB=function(e,t,n,r,o){var i=VB(e,window.getComputedStyle(t).direction),l=i*r,c=n.target,d=t.contains(c),f=!1,m=l>0,p=0,g=0;do{if(!c)break;var x=mE(e,c),b=x[0],v=x[1],w=x[2],k=v-w-i*b;(b||k)&&hE(e,c)&&(p+=k,g+=b);var E=c.parentNode;c=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(m&&Math.abs(p)<1||!m&&Math.abs(g)<1)&&(f=!0),f},sd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},f1=function(e){return[e.deltaX,e.deltaY]},p1=function(e){return e&&"current"in e?e.current:e},UB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},WB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},qB=0,Ls=[];function YB(e){var t=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),o=S.useState(qB++)[0],i=S.useState(fE)[0],l=S.useRef(e);S.useEffect(function(){l.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var v=hB([e.lockRef.current],(e.shards||[]).map(p1),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=S.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var k=sd(v),E=n.current,C="deltaX"in v?v.deltaX:E[0]-k[0],_="deltaY"in v?v.deltaY:E[1]-k[1],R,P=v.target,T=Math.abs(C)>Math.abs(_)?"h":"v";if("touches"in v&&T==="h"&&P.type==="range")return!1;var L=window.getSelection(),U=L&&L.anchorNode,z=U?U===P||U.contains(P):!1;if(z)return!1;var B=d1(T,P);if(!B)return!0;if(B?R=T:(R=T==="v"?"h":"v",B=d1(T,P)),!B)return!1;if(!r.current&&"changedTouches"in v&&(C||_)&&(r.current=R),!R)return!0;var q=r.current||R;return HB(q,w,v,q==="h"?C:_)},[]),d=S.useCallback(function(v){var w=v;if(!(!Ls.length||Ls[Ls.length-1]!==i)){var k="deltaY"in w?f1(w):sd(w),E=t.current.filter(function(R){return R.name===w.type&&(R.target===w.target||w.target===R.shadowParent)&&UB(R.delta,k)})[0];if(E&&E.should){w.cancelable&&w.preventDefault();return}if(!E){var C=(l.current.shards||[]).map(p1).filter(Boolean).filter(function(R){return R.contains(w.target)}),_=C.length>0?c(w,C[0]):!l.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),f=S.useCallback(function(v,w,k,E){var C={name:v,delta:w,target:k,should:E,shadowParent:XB(k)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(_){return _!==C})},1)},[]),m=S.useCallback(function(v){n.current=sd(v),r.current=void 0},[]),p=S.useCallback(function(v){f(v.type,f1(v),v.target,c(v,e.lockRef.current))},[]),g=S.useCallback(function(v){f(v.type,sd(v),v.target,c(v,e.lockRef.current))},[]);S.useEffect(function(){return Ls.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Os),document.addEventListener("touchmove",d,Os),document.addEventListener("touchstart",m,Os),function(){Ls=Ls.filter(function(v){return v!==i}),document.removeEventListener("wheel",d,Os),document.removeEventListener("touchmove",d,Os),document.removeEventListener("touchstart",m,Os)}},[]);var x=e.removeScrollBar,b=e.inert;return S.createElement(S.Fragment,null,b?S.createElement(i,{styles:WB(o)}):null,x?S.createElement(OB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function XB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const GB=kB(dE,YB);var Mf=S.forwardRef(function(e,t){return S.createElement(Rf,Qr({},e,{ref:t,sideCar:GB}))});Mf.classNames=Rf.classNames;var KB=[" ","Enter","ArrowUp","ArrowDown"],QB=[" ","Enter"],es="Select",[Df,Of,JB]=kf(es),[Cl]=Tn(es,[JB,kl]),Lf=kl(),[ZB,mi]=Cl(es),[e6,t6]=Cl(es),gE=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:l,defaultValue:c,onValueChange:d,dir:f,name:m,autoComplete:p,disabled:g,required:x,form:b}=e,v=Lf(t),[w,k]=S.useState(null),[E,C]=S.useState(null),[_,R]=S.useState(!1),P=fi(f),[T,L]=In({prop:r,defaultProp:o??!1,onChange:i,caller:es}),[U,z]=In({prop:l,defaultProp:c,onChange:d,caller:es}),B=S.useRef(null),q=w?b||!!w.closest("form"):!0,[G,A]=S.useState(new Set),O=Array.from(G).map(F=>F.props.value).join(";");return u.jsx(Lx,{...v,children:u.jsxs(ZB,{required:x,scope:t,trigger:w,onTriggerChange:k,valueNode:E,onValueNodeChange:C,valueNodeHasChildren:_,onValueNodeHasChildrenChange:R,contentId:wr(),value:U,onValueChange:z,open:T,onOpenChange:L,dir:P,triggerPointerDownPosRef:B,disabled:g,children:[u.jsx(Df.Provider,{scope:t,children:u.jsx(e6,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(F=>{A(X=>new Set(X).add(F))},[]),onNativeOptionRemove:S.useCallback(F=>{A(X=>{const D=new Set(X);return D.delete(F),D})},[]),children:n})}),q?u.jsxs(zE,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:p,value:U,onChange:F=>z(F.target.value),disabled:g,form:b,children:[U===void 0?u.jsx("option",{value:""}):null,Array.from(G)]},O):null]})})};gE.displayName=es;var xE="SelectTrigger",yE=S.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=Lf(n),l=mi(xE,n),c=l.disabled||r,d=st(t,l.onTriggerChange),f=Of(n),m=S.useRef("touch"),[p,g,x]=FE(v=>{const w=f().filter(C=>!C.disabled),k=w.find(C=>C.value===l.value),E=BE(w,v,k);E!==void 0&&l.onValueChange(E.value)}),b=v=>{c||(l.onOpenChange(!0),x()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return u.jsx(If,{asChild:!0,...i,children:u.jsx(Ue.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":$E(l.value)?"":void 0,...o,ref:d,onClick:Re(o.onClick,v=>{v.currentTarget.focus(),m.current!=="mouse"&&b(v)}),onPointerDown:Re(o.onPointerDown,v=>{m.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(b(v),v.preventDefault())}),onKeyDown:Re(o.onKeyDown,v=>{const w=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(w&&v.key===" ")&&KB.includes(v.key)&&(b(),v.preventDefault())})})})});yE.displayName=xE;var vE="SelectValue",wE=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:l="",...c}=e,d=mi(vE,n),{onValueNodeHasChildrenChange:f}=d,m=i!==void 0,p=st(t,d.onValueNodeChange);return vn(()=>{f(m)},[f,m]),u.jsx(Ue.span,{...c,ref:p,style:{pointerEvents:"none"},children:$E(d.value)?u.jsx(u.Fragment,{children:l}):i})});wE.displayName=vE;var n6="SelectIcon",bE=S.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return u.jsx(Ue.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});bE.displayName=n6;var r6="SelectPortal",SE=e=>u.jsx(Ec,{asChild:!0,...e});SE.displayName=r6;var ts="SelectContent",kE=S.forwardRef((e,t)=>{const n=mi(ts,e.__scopeSelect),[r,o]=S.useState();if(vn(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?yl.createPortal(u.jsx(CE,{scope:e.__scopeSelect,children:u.jsx(Df.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),i):null}return u.jsx(NE,{...e,ref:t})});kE.displayName=ts;var Ar=10,[CE,gi]=Cl(ts),o6="SelectContentImpl",i6=cl("SelectContent.RemoveScroll"),NE=S.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:b,hideWhenDetached:v,avoidCollisions:w,...k}=e,E=mi(ts,n),[C,_]=S.useState(null),[R,P]=S.useState(null),T=st(t,K=>_(K)),[L,U]=S.useState(null),[z,B]=S.useState(null),q=Of(n),[G,A]=S.useState(!1),O=S.useRef(!1);S.useEffect(()=>{if(C)return Fx(C)},[C]),_x();const F=S.useCallback(K=>{const[te,...Q]=q().map(de=>de.ref.current),[ie]=Q.slice(-1),le=document.activeElement;for(const de of K)if(de===le||(de==null||de.scrollIntoView({block:"nearest"}),de===te&&R&&(R.scrollTop=0),de===ie&&R&&(R.scrollTop=R.scrollHeight),de==null||de.focus(),document.activeElement!==le))return},[q,R]),X=S.useCallback(()=>F([L,C]),[F,L,C]);S.useEffect(()=>{G&&X()},[G,X]);const{onOpenChange:D,triggerPointerDownPosRef:W}=E;S.useEffect(()=>{if(C){let K={x:0,y:0};const te=ie=>{var le,de;K={x:Math.abs(Math.round(ie.pageX)-(((le=W.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((de=W.current)==null?void 0:de.y)??0))}},Q=ie=>{K.x<=10&&K.y<=10?ie.preventDefault():C.contains(ie.target)||D(!1),document.removeEventListener("pointermove",te),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",Q,{capture:!0})}}},[C,D,W]),S.useEffect(()=>{const K=()=>D(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[D]);const[M,H]=FE(K=>{const te=q().filter(le=>!le.disabled),Q=te.find(le=>le.ref.current===document.activeElement),ie=BE(te,K,Q);ie&&setTimeout(()=>ie.ref.current.focus())}),Y=S.useCallback((K,te,Q)=>{const ie=!O.current&&!Q;(E.value!==void 0&&E.value===te||ie)&&(U(K),ie&&(O.current=!0))},[E.value]),I=S.useCallback(()=>C==null?void 0:C.focus(),[C]),V=S.useCallback((K,te,Q)=>{const ie=!O.current&&!Q;(E.value!==void 0&&E.value===te||ie)&&B(K)},[E.value]),Z=r==="popper"?wg:EE,J=Z===wg?{side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:b,hideWhenDetached:v,avoidCollisions:w}:{};return u.jsx(CE,{scope:n,content:C,viewport:R,onViewportChange:P,itemRefCallback:Y,selectedItem:L,onItemLeave:I,itemTextRefCallback:V,focusSelectedItem:X,selectedItemText:z,position:r,isPositioned:G,searchRef:M,children:u.jsx(Mf,{as:i6,allowPinchZoom:!0,children:u.jsx(Nf,{asChild:!0,trapped:E.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:Re(o,K=>{var te;(te=E.trigger)==null||te.focus({preventScroll:!0}),K.preventDefault()}),children:u.jsx(Cc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:u.jsx(Z,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:K=>K.preventDefault(),...k,...J,onPlaced:()=>A(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Re(k.onKeyDown,K=>{const te=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!te&&K.key.length===1&&H(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let ie=q().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(K.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const le=K.target,de=ie.indexOf(le);ie=ie.slice(de+1)}setTimeout(()=>F(ie)),K.preventDefault()}})})})})})})});NE.displayName=o6;var s6="SelectItemAlignedPosition",EE=S.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=mi(ts,n),l=gi(ts,n),[c,d]=S.useState(null),[f,m]=S.useState(null),p=st(t,T=>m(T)),g=Of(n),x=S.useRef(!1),b=S.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:k,focusSelectedItem:E}=l,C=S.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&f&&v&&w&&k){const T=i.trigger.getBoundingClientRect(),L=f.getBoundingClientRect(),U=i.valueNode.getBoundingClientRect(),z=k.getBoundingClientRect();if(i.dir!=="rtl"){const le=z.left-L.left,de=U.left-le,fe=T.left-de,xe=T.width+fe,De=Math.max(xe,L.width),Me=window.innerWidth-Ar,it=sc(de,[Ar,Math.max(Ar,Me-De)]);c.style.minWidth=xe+"px",c.style.left=it+"px"}else{const le=L.right-z.right,de=window.innerWidth-U.right-le,fe=window.innerWidth-T.right-de,xe=T.width+fe,De=Math.max(xe,L.width),Me=window.innerWidth-Ar,it=sc(de,[Ar,Math.max(Ar,Me-De)]);c.style.minWidth=xe+"px",c.style.right=it+"px"}const B=g(),q=window.innerHeight-Ar*2,G=v.scrollHeight,A=window.getComputedStyle(f),O=parseInt(A.borderTopWidth,10),F=parseInt(A.paddingTop,10),X=parseInt(A.borderBottomWidth,10),D=parseInt(A.paddingBottom,10),W=O+F+G+D+X,M=Math.min(w.offsetHeight*5,W),H=window.getComputedStyle(v),Y=parseInt(H.paddingTop,10),I=parseInt(H.paddingBottom,10),V=T.top+T.height/2-Ar,Z=q-V,J=w.offsetHeight/2,K=w.offsetTop+J,te=O+F+K,Q=W-te;if(te<=V){const le=B.length>0&&w===B[B.length-1].ref.current;c.style.bottom="0px";const de=f.clientHeight-v.offsetTop-v.offsetHeight,fe=Math.max(Z,J+(le?I:0)+de+X),xe=te+fe;c.style.height=xe+"px"}else{const le=B.length>0&&w===B[0].ref.current;c.style.top="0px";const fe=Math.max(V,O+v.offsetTop+(le?Y:0)+J)+Q;c.style.height=fe+"px",v.scrollTop=te-V+v.offsetTop}c.style.margin=`${Ar}px 0`,c.style.minHeight=M+"px",c.style.maxHeight=q+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[g,i.trigger,i.valueNode,c,f,v,w,k,i.dir,r]);vn(()=>C(),[C]);const[_,R]=S.useState();vn(()=>{f&&R(window.getComputedStyle(f).zIndex)},[f]);const P=S.useCallback(T=>{T&&b.current===!0&&(C(),E==null||E(),b.current=!1)},[C,E]);return u.jsx(a6,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:P,children:u.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(Ue.div,{...o,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});EE.displayName=s6;var l6="SelectPopperPosition",wg=S.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Ar,...i}=e,l=Lf(n);return u.jsx(zx,{...l,...i,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wg.displayName=l6;var[a6,Bx]=Cl(ts,{}),bg="SelectViewport",jE=S.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,i=gi(bg,n),l=Bx(bg,n),c=st(t,i.onViewportChange),d=S.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Df.Slot,{scope:n,children:u.jsx(Ue.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Re(o.onScroll,f=>{const m=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=l;if(g!=null&&g.current&&p){const x=Math.abs(d.current-m.scrollTop);if(x>0){const b=window.innerHeight-Ar*2,v=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),k=Math.max(v,w);if(k<b){const E=k+x,C=Math.min(b,E),_=E-C;p.style.height=C+"px",p.style.bottom==="0px"&&(m.scrollTop=_>0?_:0,p.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});jE.displayName=bg;var _E="SelectGroup",[c6,u6]=Cl(_E),d6=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=wr();return u.jsx(c6,{scope:n,id:o,children:u.jsx(Ue.div,{role:"group","aria-labelledby":o,...r,ref:t})})});d6.displayName=_E;var PE="SelectLabel",f6=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=u6(PE,n);return u.jsx(Ue.div,{id:o.id,...r,ref:t})});f6.displayName=PE;var Xd="SelectItem",[p6,AE]=Cl(Xd),IE=S.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...l}=e,c=mi(Xd,n),d=gi(Xd,n),f=c.value===r,[m,p]=S.useState(i??""),[g,x]=S.useState(!1),b=st(t,E=>{var C;return(C=d.itemRefCallback)==null?void 0:C.call(d,E,r,o)}),v=wr(),w=S.useRef("touch"),k=()=>{o||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(p6,{scope:n,value:r,disabled:o,textId:v,isSelected:f,onItemTextChange:S.useCallback(E=>{p(C=>C||((E==null?void 0:E.textContent)??"").trim())},[]),children:u.jsx(Df.ItemSlot,{scope:n,value:r,disabled:o,textValue:m,children:u.jsx(Ue.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:b,onFocus:Re(l.onFocus,()=>x(!0)),onBlur:Re(l.onBlur,()=>x(!1)),onClick:Re(l.onClick,()=>{w.current!=="mouse"&&k()}),onPointerUp:Re(l.onPointerUp,()=>{w.current==="mouse"&&k()}),onPointerDown:Re(l.onPointerDown,E=>{w.current=E.pointerType}),onPointerMove:Re(l.onPointerMove,E=>{var C;w.current=E.pointerType,o?(C=d.onItemLeave)==null||C.call(d):w.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(l.onPointerLeave,E=>{var C;E.currentTarget===document.activeElement&&((C=d.onItemLeave)==null||C.call(d))}),onKeyDown:Re(l.onKeyDown,E=>{var _;((_=d.searchRef)==null?void 0:_.current)!==""&&E.key===" "||(QB.includes(E.key)&&k(),E.key===" "&&E.preventDefault())})})})})});IE.displayName=Xd;var Ia="SelectItemText",TE=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,l=mi(Ia,n),c=gi(Ia,n),d=AE(Ia,n),f=t6(Ia,n),[m,p]=S.useState(null),g=st(t,k=>p(k),d.onItemTextChange,k=>{var E;return(E=c.itemTextRefCallback)==null?void 0:E.call(c,k,d.value,d.disabled)}),x=m==null?void 0:m.textContent,b=S.useMemo(()=>u.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=f;return vn(()=>(v(b),()=>w(b)),[v,w,b]),u.jsxs(u.Fragment,{children:[u.jsx(Ue.span,{id:d.textId,...i,ref:g}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?yl.createPortal(i.children,l.valueNode):null]})});TE.displayName=Ia;var RE="SelectItemIndicator",ME=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return AE(RE,n).isSelected?u.jsx(Ue.span,{"aria-hidden":!0,...r,ref:t}):null});ME.displayName=RE;var Sg="SelectScrollUpButton",DE=S.forwardRef((e,t)=>{const n=gi(Sg,e.__scopeSelect),r=Bx(Sg,e.__scopeSelect),[o,i]=S.useState(!1),l=st(t,r.onScrollButtonChange);return vn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollTop>0;i(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?u.jsx(LE,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});DE.displayName=Sg;var kg="SelectScrollDownButton",OE=S.forwardRef((e,t)=>{const n=gi(kg,e.__scopeSelect),r=Bx(kg,e.__scopeSelect),[o,i]=S.useState(!1),l=st(t,r.onScrollButtonChange);return vn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;i(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?u.jsx(LE,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});OE.displayName=kg;var LE=S.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,i=gi("SelectScrollButton",n),l=S.useRef(null),c=Of(n),d=S.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return S.useEffect(()=>()=>d(),[d]),vn(()=>{var m;const f=c().find(p=>p.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),u.jsx(Ue.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Re(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Re(o.onPointerMove,()=>{var f;(f=i.onItemLeave)==null||f.call(i),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Re(o.onPointerLeave,()=>{d()})})}),h6="SelectSeparator",m6=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(Ue.div,{"aria-hidden":!0,...r,ref:t})});m6.displayName=h6;var Cg="SelectArrow",g6=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Lf(n),i=mi(Cg,n),l=gi(Cg,n);return i.open&&l.position==="popper"?u.jsx($x,{...o,...r,ref:t}):null});g6.displayName=Cg;var x6="SelectBubbleInput",zE=S.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=S.useRef(null),i=st(r,o),l=Tf(t);return S.useEffect(()=>{const c=o.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const p=new Event("change",{bubbles:!0});m.call(c,t),c.dispatchEvent(p)}},[l,t]),u.jsx(Ue.select,{...n,style:{...sE,...n.style},ref:i,defaultValue:t})});zE.displayName=x6;function $E(e){return e===""||e===void 0}function FE(e){const t=Ln(e),n=S.useRef(""),r=S.useRef(0),o=S.useCallback(l=>{const c=n.current+l;t(c),(function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),i=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function BE(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let l=y6(e,Math.max(i,0));o.length===1&&(l=l.filter(f=>f!==n));const d=l.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function y6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var v6=gE,w6=yE,b6=wE,S6=bE,k6=SE,C6=kE,N6=jE,E6=IE,j6=TE,_6=ME,P6=DE,A6=OE;function mn({...e}){return u.jsx(v6,{"data-slot":"select",...e})}function gn({...e}){return u.jsx(b6,{"data-slot":"select-value",...e})}function xn({className:e,size:t="default",children:n,...r}){return u.jsxs(w6,{"data-slot":"select-trigger","data-size":t,className:Xe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,u.jsx(S6,{asChild:!0,children:u.jsx(ti,{className:"size-4 opacity-50"})})]})}function yn({className:e,children:t,position:n="popper",...r}){return u.jsx(k6,{children:u.jsxs(C6,{"data-slot":"select-content",className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(I6,{}),u.jsx(N6,{className:Xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),u.jsx(T6,{})]})})}function gt({className:e,children:t,...n}){return u.jsxs(E6,{"data-slot":"select-item",className:Xe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[u.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:u.jsx(_6,{children:u.jsx(zS,{className:"size-4"})})}),u.jsx(j6,{children:t})]})}function I6({className:e,...t}){return u.jsx(P6,{"data-slot":"select-scroll-up-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(mI,{className:"size-4"})})}function T6({className:e,...t}){return u.jsx(A6,{"data-slot":"select-scroll-down-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(ti,{className:"size-4"})})}const h1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,m1=mk,zf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return m1(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=t,l=Object.keys(o).map(f=>{const m=n==null?void 0:n[f],p=i==null?void 0:i[f];if(m===null)return null;const g=h1(m)||h1(p);return o[f][g]}),c=n&&Object.entries(n).reduce((f,m)=>{let[p,g]=m;return g===void 0||(f[p]=g),f},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,m)=>{let{class:p,className:g,...x}=m;return Object.entries(x).every(b=>{let[v,w]=b;return Array.isArray(w)?w.includes({...i,...c}[v]):{...i,...c}[v]===w})?[...f,p,g]:f},[]);return m1(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)},R6=zf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all cursor-pointer disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function M6({className:e,variant:t,size:n,asChild:r=!1,...o},i){const l=r?xN:"button";return u.jsx(l,{ref:i,"data-slot":"button",className:Xe(R6({variant:t,size:n,className:e})),...o})}const ge=S.forwardRef(M6);ge.displayName="Button";var $f="Dialog",[VE]=Tn($f),[D6,Fr]=VE($f),HE=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=S.useRef(null),d=S.useRef(null),[f,m]=In({prop:r,defaultProp:o??!1,onChange:i,caller:$f});return u.jsx(D6,{scope:t,triggerRef:c,contentRef:d,contentId:wr(),titleId:wr(),descriptionId:wr(),open:f,onOpenChange:m,onOpenToggle:S.useCallback(()=>m(p=>!p),[m]),modal:l,children:n})};HE.displayName=$f;var UE="DialogTrigger",WE=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fr(UE,n),i=st(t,o.triggerRef);return u.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Ux(o.open),...r,ref:i,onClick:Re(e.onClick,o.onOpenToggle)})});WE.displayName=UE;var Vx="DialogPortal",[O6,qE]=VE(Vx,{forceMount:void 0}),YE=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,i=Fr(Vx,t);return u.jsx(O6,{scope:t,forceMount:n,children:S.Children.map(r,l=>u.jsx(Rn,{present:n||i.open,children:u.jsx(Ec,{asChild:!0,container:o,children:l})}))})};YE.displayName=Vx;var Gd="DialogOverlay",XE=S.forwardRef((e,t)=>{const n=qE(Gd,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Fr(Gd,e.__scopeDialog);return i.modal?u.jsx(Rn,{present:r||i.open,children:u.jsx(z6,{...o,ref:t})}):null});XE.displayName=Gd;var L6=cl("DialogOverlay.RemoveScroll"),z6=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fr(Gd,n);return u.jsx(Mf,{as:L6,allowPinchZoom:!0,shards:[o.contentRef],children:u.jsx(Ue.div,{"data-state":Ux(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ns="DialogContent",GE=S.forwardRef((e,t)=>{const n=qE(ns,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Fr(ns,e.__scopeDialog);return u.jsx(Rn,{present:r||i.open,children:i.modal?u.jsx($6,{...o,ref:t}):u.jsx(F6,{...o,ref:t})})});GE.displayName=ns;var $6=S.forwardRef((e,t)=>{const n=Fr(ns,e.__scopeDialog),r=S.useRef(null),o=st(t,n.contentRef,r);return S.useEffect(()=>{const i=r.current;if(i)return Fx(i)},[]),u.jsx(KE,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Re(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:Re(e.onFocusOutside,i=>i.preventDefault())})}),F6=S.forwardRef((e,t)=>{const n=Fr(ns,e.__scopeDialog),r=S.useRef(!1),o=S.useRef(!1);return u.jsx(KE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),KE=S.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...l}=e,c=Fr(ns,n),d=S.useRef(null),f=st(t,d);return _x(),u.jsxs(u.Fragment,{children:[u.jsx(Nf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:u.jsx(Cc,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Ux(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(B6,{titleId:c.titleId}),u.jsx(H6,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Hx="DialogTitle",QE=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fr(Hx,n);return u.jsx(Ue.h2,{id:o.titleId,...r,ref:t})});QE.displayName=Hx;var JE="DialogDescription",ZE=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fr(JE,n);return u.jsx(Ue.p,{id:o.descriptionId,...r,ref:t})});ZE.displayName=JE;var ej="DialogClose",tj=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fr(ej,n);return u.jsx(Ue.button,{type:"button",...r,ref:t,onClick:Re(e.onClick,()=>o.onOpenChange(!1))})});tj.displayName=ej;function Ux(e){return e?"open":"closed"}var nj="DialogTitleWarning",[eK,rj]=q$(nj,{contentName:ns,titleName:Hx,docsSlug:"dialog"}),B6=({titleId:e})=>{const t=rj(nj),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},V6="DialogDescriptionWarning",H6=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rj(V6).contentName}}.`;return S.useEffect(()=>{var i;const o=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},U6=HE,W6=WE,q6=YE,oj=XE,Y6=GE,X6=QE,ij=ZE,G6=tj,K6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Q6="VisuallyHidden",sj=S.forwardRef((e,t)=>u.jsx(kx.span,{...e,ref:t,style:{...K6,...e.style}}));sj.displayName=Q6;var J6=sj;function rn({...e}){return u.jsx(U6,{"data-slot":"dialog",...e})}function Pm({...e}){return u.jsx(W6,{"data-slot":"dialog-trigger",...e})}function Z6({...e}){return u.jsx(q6,{"data-slot":"dialog-portal",...e})}const lj=S.forwardRef(({className:e,...t},n)=>u.jsx(oj,{ref:n,"data-slot":"dialog-overlay",className:Xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));lj.displayName=oj.displayName;function on({className:e,children:t,...n}){return u.jsxs(Z6,{"data-slot":"dialog-portal",children:[u.jsx(lj,{}),u.jsxs(Y6,{"data-slot":"dialog-content",className:Xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg max-h-[85vh] overflow-y-auto",e),...n,children:[u.jsx(J6,{asChild:!0,children:u.jsx(ij,{children:"Dialog content"})}),t,u.jsxs(G6,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(AT,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function sn({className:e,...t}){return u.jsx("div",{"data-slot":"dialog-header",className:Xe("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Sr({className:e,...t}){return u.jsx("div",{"data-slot":"dialog-footer",className:Xe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function ln({className:e,...t}){return u.jsx(X6,{"data-slot":"dialog-title",className:Xe("text-lg leading-none font-semibold",e),...t})}function Po({className:e,...t}){return u.jsx(ij,{"data-slot":"dialog-description",className:Xe("text-muted-foreground text-sm",e),...t})}function aj({className:e,...t}){return u.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:u.jsx("table",{"data-slot":"table",className:Xe("w-full caption-bottom text-sm",e),...t})})}function cj({className:e,...t}){return u.jsx("thead",{"data-slot":"table-header",className:Xe("[&_tr]:border-b",e),...t})}function uj({className:e,...t}){return u.jsx("tbody",{"data-slot":"table-body",className:Xe("[&_tr:last-child]:border-0",e),...t})}function Qs({className:e,...t}){return u.jsx("tr",{"data-slot":"table-row",className:Xe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Ba({className:e,...t}){return u.jsx("th",{"data-slot":"table-head",className:Xe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Hi({className:e,...t}){return u.jsx("td",{"data-slot":"table-cell",className:Xe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}const eV=zf("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function tV({className:e,variant:t,...n}){return u.jsx("div",{"data-slot":"alert",role:"alert",className:Xe(eV({variant:t}),e),...n})}function nV({className:e,...t}){return u.jsx("div",{"data-slot":"alert-description",className:Xe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function rV({open:e,onOpenChange:t,colorSetName:n,attributes:r,initialData:o,onSave:i}){const[l,c]=S.useState("visual"),[d,f]=S.useState([]),[m,p]=S.useState([]),[g,x]=S.useState(""),[b,v]=S.useState(null),[w,k]=S.useState(1),[E,C]=S.useState(10),_=r.length>0;S.useEffect(()=>{o&&Array.isArray(o)?(_?f(o):p(o),x(JSON.stringify(o,null,2))):(f([]),p([]),x("[]")),k(1)},[o,_]);const R=_?d.length:m.length,P=Math.max(1,Math.ceil(R/E)),T=S.useMemo(()=>{const V=(w-1)*E;return d.slice(V,V+E)},[d,w,E]),L=S.useMemo(()=>{const V=(w-1)*E;return m.slice(V,V+E)},[m,w,E]),U=V=>(w-1)*E+V,z=V=>{C(V),k(1)};S.useEffect(()=>{l==="visual"&&x(JSON.stringify(_?d:m,null,2))},[d,m,l,_]);const B=()=>{const V=[...m,""];p(V),k(Math.ceil(V.length/E))},q=V=>{const Z=[...m];Z.splice(V,1),p(Z);const J=Math.max(1,Math.ceil(Z.length/E));w>J&&k(J)},G=(V,Z)=>{const J=[...m];try{Z.startsWith("[")&&Z.endsWith("]")||Z.startsWith("{")&&Z.endsWith("}")?J[V]=JSON.parse(Z):!isNaN(Number(Z))&&Z.trim()!==""?J[V]=Number(Z):Z.toLowerCase()==="true"?J[V]=!0:Z.toLowerCase()==="false"?J[V]=!1:J[V]=Z}catch{J[V]=Z}p(J)},A=V=>typeof V=="object"?JSON.stringify(V):String(V),O=()=>{const V={};r.forEach(J=>{J.type==="INT"||J.type==="REAL"?V[J.name]=0:J.type==="BOOL"?V[J.name]=!1:V[J.name]=""});const Z=[...d,V];f(Z),k(Math.ceil(Z.length/E))},F=V=>{const Z=[...d];Z.splice(V,1),f(Z);const J=Math.max(1,Math.ceil(Z.length/E));w>J&&k(J)},X=(V,Z,J)=>{const K=[...d];K[V]={...K[V],[Z]:J},f(K)},D=(V,Z)=>{try{if(Z==="INT"){const J=Number.parseInt(V,10);return isNaN(J)?0:J}else if(Z==="REAL"){const J=Number.parseFloat(V);return isNaN(J)?0:J}else if(Z==="BOOL")return V.toLowerCase()==="true";return V}catch{return Z==="INT"||Z==="REAL"?0:Z==="BOOL"?!1:V}},W=V=>{x(V),v(null);try{const Z=JSON.parse(V);Array.isArray(Z)||v("JSON must be an array")}catch{v("Invalid JSON format")}},M=V=>{if(V==="json"&&l==="visual")x(JSON.stringify(_?d:m,null,2));else if(V==="visual"&&l==="json")try{const Z=JSON.parse(g);Array.isArray(Z)?(_?f(Z):p(Z),v(null)):v("JSON must be an array")}catch{v("Invalid JSON format")}c(V)},H=()=>{if(l==="json")try{const V=JSON.parse(g);Array.isArray(V)?(i(V),t(!1)):v("JSON must be an array")}catch{v("Invalid JSON format")}else i(_?d:m),t(!1)},Y=V=>{var K;const Z=(K=V.target.files)==null?void 0:K[0];if(!Z)return;const J=new FileReader;J.onload=te=>{var ie;const Q=(ie=te.target)==null?void 0:ie.result;try{const le=JSON.parse(Q);Array.isArray(le)?(_?f(le):p(le),x(JSON.stringify(le,null,2)),c("visual"),v(null)):v("Uploaded file must contain an array")}catch{try{const le=Q.split(`
`),de=le[0].split(",").map(xe=>xe.trim()),fe=[];for(let xe=1;xe<le.length;xe++){if(!le[xe].trim())continue;const De=le[xe].split(",").map(it=>it.trim()),Me={};de.forEach((it,nt)=>{const et=r.find(ke=>ke.name===it);et&&nt<De.length&&(Me[it]=D(De[nt],et.type))}),fe.push(Me)}f(fe),x(JSON.stringify(fe,null,2)),c("visual"),v(null)}catch{v("Failed to parse file as JSON or CSV")}}},J.readAsText(Z)},I=()=>{const Z=`data:text/csv;charset=utf-8,${r.map(te=>te.name).join(",")}
`,J=encodeURI(Z),K=document.createElement("a");K.setAttribute("href",J),K.setAttribute("download",`${n}_template.csv`),document.body.appendChild(K),K.click(),document.body.removeChild(K)};return u.jsx(rn,{open:e,onOpenChange:t,children:u.jsxs(on,{className:"max-w-3xl",children:[u.jsx(sn,{children:u.jsxs(ln,{children:["Edit Initial Marking for ",n]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"space-x-2",children:[u.jsxs(ge,{variant:"outline",size:"sm",onClick:_?O:B,children:[u.jsx(Xm,{className:"h-4 w-4 mr-2"}),_?"Add Record":"Add Entry"]}),_&&u.jsxs(ge,{variant:"outline",size:"sm",onClick:I,children:[u.jsx(HS,{className:"h-4 w-4 mr-2"}),"CSV Template"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(at,{type:"file",id:"file-upload",className:"hidden",accept:".json,.csv",onChange:Y}),u.jsx(je,{htmlFor:"file-upload",className:"cursor-pointer",children:u.jsx(ge,{variant:"outline",size:"sm",asChild:!0,children:u.jsxs("span",{children:[u.jsx(Kg,{className:"h-4 w-4 mr-2"}),"Import"]})})})]})]}),b&&u.jsx(tV,{variant:"destructive",children:u.jsx(nV,{children:b})}),u.jsxs(pi,{value:l,onValueChange:M,children:[u.jsxs(hi,{className:"grid w-full grid-cols-2",children:[u.jsx($n,{value:"visual",children:"Visual Editor"}),u.jsx($n,{value:"json",children:"JSON Editor"})]}),u.jsxs(br,{value:"visual",className:"space-y-4",children:[_?u.jsxs(aj,{children:[u.jsx(cj,{children:u.jsxs(Qs,{children:[r.map(V=>u.jsx(Ba,{children:V.name},V.name)),u.jsx(Ba,{className:"w-[80px]",children:"Actions"})]})}),u.jsx(uj,{children:T.length===0?u.jsx(Qs,{children:u.jsx(Hi,{colSpan:r.length+1,className:"text-center",children:'No records. Click "Add Record" to create one.'})}):T.map((V,Z)=>{const J=U(Z);return u.jsxs(Qs,{children:[r.map(K=>{var te;return u.jsx(Hi,{children:u.jsx(at,{value:((te=V[K.name])==null?void 0:te.toString())??"",onChange:Q=>X(J,K.name,D(Q.target.value,K.type))})},`${J}-${K.name}`)}),u.jsx(Hi,{children:u.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>F(J),className:"h-8 w-8",children:u.jsx(sr,{className:"h-4 w-4"})})})]},J)})})]}):u.jsx("div",{className:"space-y-2",children:L.length===0?u.jsx("div",{className:"text-center text-muted-foreground py-4",children:'No entries. Click "Add Entry" to create one.'}):L.map((V,Z)=>{const J=U(Z);return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-muted-foreground w-8 text-right",children:[J+1,"."]}),u.jsx(at,{className:"flex-1 font-mono",value:A(V),onChange:K=>G(J,K.target.value),placeholder:'e.g., [1, "Modellin"] or 42 or "text"'}),u.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>q(J),className:"h-8 w-8",children:u.jsx(sr,{className:"h-4 w-4"})})]},J)})}),R>10&&u.jsxs("div",{className:"flex items-center justify-between pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsxs("span",{children:[R===0?0:(w-1)*E+1,"",Math.min(w*E,R)," of ",R]}),u.jsxs(mn,{value:String(E),onValueChange:V=>z(Number(V)),children:[u.jsx(xn,{className:"h-7 w-[70px] text-xs",children:u.jsx(gn,{})}),u.jsx(yn,{children:[10,25,50,100].map(V=>u.jsx(gt,{value:String(V),children:V},V))})]}),u.jsx("span",{className:"text-xs",children:"per page"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(1),disabled:w<=1,children:u.jsx(FS,{className:"h-3 w-3"})}),u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(w-1),disabled:w<=1,children:u.jsx($S,{className:"h-3 w-3"})}),u.jsxs("span",{className:"text-sm px-2",children:[w," / ",P]}),u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(w+1),disabled:w>=P,children:u.jsx(Fi,{className:"h-3 w-3"})}),u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(P),disabled:w>=P,children:u.jsx(BS,{className:"h-3 w-3"})})]})]})]}),u.jsx(br,{value:"json",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"json-editor",children:"JSON Editor"}),u.jsx("textarea",{id:"json-editor",className:"w-full h-[300px] font-mono text-sm p-2 border rounded-md",value:g,onChange:V=>W(V.target.value)})]})})]})]}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ge,{onClick:H,children:"Save"})]})]})})}function dj(e,t,n,r,o){return e+t*1e3+n*60*1e3+r*60*60*1e3+o*24*60*60*1e3}function ac(e){let t=e;const n=Math.floor(t/(1440*60*1e3));t%=1440*60*1e3;const r=Math.floor(t/(3600*1e3));t%=3600*1e3;const o=Math.floor(t/(60*1e3));t%=60*1e3;const i=Math.floor(t/1e3);return{ms:t%1e3,s:i,m:o,h:r,d:n}}function g1(e){const{d:t,h:n,m:r,s:o,ms:i}=ac(e),l=[];return t>0&&l.push(`${t}d`),n>0&&l.push(`${n}h`),r>0&&l.push(`${r}m`),o>0&&l.push(`${o}s`),i>0&&l.push(`${i}ms`),l.length>0?l.join(" "):"0"}function Kd(e,t){return new Date(t.getTime()+e).toISOString().slice(0,16)}function fj(e,t){return new Date(e).getTime()-t.getTime()}function x1(e,t){const n=t.toUpperCase();if(n==="INT"){const r=parseInt(e,10);return isNaN(r)?0:r}else if(n==="REAL"){const r=parseFloat(e);return isNaN(r)?0:r}else if(n==="BOOL")return e.toLowerCase()==="true";return e}function oV(e){const t={};return e.forEach(n=>{const r=n.type.toUpperCase();r==="INT"||r==="REAL"?t[n.name]=0:r==="BOOL"?t[n.name]=!1:t[n.name]=""}),t}function iV({token:e,index:t,colorSetType:n,epoch:r,onChange:o,onRemove:i}){const[l,c]=S.useState("relative"),d=ac(e.timestamp),[f,m]=S.useState(d),[p,g]=S.useState(r?Kd(e.timestamp,r):"");S.useEffect(()=>{const k=ac(e.timestamp);m(k),r&&g(Kd(e.timestamp,r))},[e.timestamp,r]);const x=k=>{o(t,{...e,value:k})},b=(k,E)=>{const C={...f,[k]:E};m(C);const _=dj(C.ms,C.s,C.m,C.h,C.d);o(t,{...e,timestamp:_})},v=k=>{if(g(k),r){const E=fj(k,r);o(t,{...e,timestamp:E})}},w=()=>{switch(n){case"int":return u.jsx(at,{type:"number",value:e.value,onChange:k=>x(parseInt(k.target.value,10)||0),className:"w-24"});case"bool":return u.jsxs("select",{value:String(e.value),onChange:k=>x(k.target.value==="true"),className:"h-9 rounded-md border border-input bg-background px-3 py-1 text-sm",children:[u.jsx("option",{value:"true",children:"true"}),u.jsx("option",{value:"false",children:"false"})]});case"string":return u.jsx(at,{type:"text",value:e.value,onChange:k=>x(k.target.value),className:"w-32"});case"unit":return u.jsx("span",{className:"px-2 py-1 text-muted-foreground",children:"()"});default:return u.jsx(at,{type:"text",value:JSON.stringify(e.value),onChange:k=>{try{x(JSON.parse(k.target.value))}catch{x(k.target.value)}},className:"w-32"})}};return u.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md bg-muted/30",children:[u.jsxs("span",{className:"text-sm text-muted-foreground w-6",children:["#",t+1]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(je,{className:"text-xs",children:"Value:"}),w()]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx(je,{className:"text-xs",children:"Time:"}),u.jsxs(pi,{value:l,onValueChange:k=>c(k),className:"flex-1",children:[u.jsxs(hi,{className:"h-7",children:[u.jsx($n,{value:"relative",className:"text-xs px-2 py-1",children:"Relative"}),u.jsx($n,{value:"absolute",className:"text-xs px-2 py-1",disabled:!r,children:"Absolute"})]}),u.jsx(br,{value:"relative",className:"mt-1",children:u.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[["d","h","m","s"].map(k=>u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(at,{type:"number",min:"0",max:k==="h"?23:k==="m"||k==="s"?59:void 0,value:f[k],onChange:E=>b(k,parseInt(E.target.value,10)||0),className:"w-12 h-7 text-xs"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:k})]},k)),u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(at,{type:"number",min:"0",max:"999",value:f.ms,onChange:k=>b("ms",parseInt(k.target.value,10)||0),className:"w-14 h-7 text-xs"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})]})}),u.jsx(br,{value:"absolute",className:"mt-1",children:r?u.jsx(at,{type:"datetime-local",value:p,onChange:k=>v(k.target.value),className:"h-7 text-xs"}):u.jsx("p",{className:"text-xs text-muted-foreground",children:"Set simulation epoch in Settings to use absolute time"})})]})]}),u.jsx(ge,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>i(t),children:u.jsx(sr,{className:"h-3 w-3"})})]})}const sV=[10,25,50,100];function lV({currentPage:e,totalPages:t,pageSize:n,totalItems:r,onPageChange:o,onPageSizeChange:i}){const l=r===0?0:(e-1)*n+1,c=Math.min(e*n,r);return u.jsxs("div",{className:"flex items-center justify-between pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsxs("span",{children:[l,"",c," of ",r]}),u.jsxs(mn,{value:String(n),onValueChange:d=>i(Number(d)),children:[u.jsx(xn,{className:"h-7 w-[70px] text-xs",children:u.jsx(gn,{})}),u.jsx(yn,{children:sV.map(d=>u.jsx(gt,{value:String(d),children:d},d))})]}),u.jsx("span",{className:"text-xs",children:"per page"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(1),disabled:e<=1,children:u.jsx(FS,{className:"h-3 w-3"})}),u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(e-1),disabled:e<=1,children:u.jsx($S,{className:"h-3 w-3"})}),u.jsxs("span",{className:"text-sm px-2",children:[e," / ",t||1]}),u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(e+1),disabled:e>=t,children:u.jsx(Fi,{className:"h-3 w-3"})}),u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(t),disabled:e>=t,children:u.jsx(BS,{className:"h-3 w-3"})})]})]})}function aV({timestamp:e,epoch:t,onChange:n}){const[r,o]=S.useState(!1),[i,l]=S.useState("relative"),[c,d]=S.useState(ac(e)),[f,m]=S.useState(t?Kd(e,t):"");S.useEffect(()=>{d(ac(e)),t&&m(Kd(e,t))},[e,t]);const p=(v,w)=>{const k={...c,[v]:w};d(k),n(dj(k.ms,k.s,k.m,k.h,k.d))},g=v=>{m(v),t&&n(fj(v,t))},x=i==="absolute"&&t?new Date(t.getTime()+e).toLocaleString():g1(e),b=i==="absolute"?g1(e):t?new Date(t.getTime()+e).toLocaleString():`${e}ms`;return r?u.jsxs("div",{className:"space-y-1",onBlur:v=>{v.currentTarget.contains(v.relatedTarget)||o(!1)},children:[u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("button",{className:`text-[10px] px-1.5 py-0.5 rounded ${i==="relative"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,onClick:()=>l("relative"),children:"Rel"}),u.jsx("button",{className:`text-[10px] px-1.5 py-0.5 rounded ${i==="absolute"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"} ${t?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>{t&&l("absolute")},disabled:!t,children:"Abs"})]}),i==="absolute"&&t?u.jsx(at,{type:"datetime-local",value:f,onChange:v=>g(v.target.value),className:"h-7 text-xs",autoFocus:!0}):u.jsx("div",{className:"flex items-center gap-0.5 flex-wrap",children:["d","h","m","s"].map(v=>u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(at,{type:"number",min:"0",max:v==="h"?23:v==="m"||v==="s"?59:void 0,value:c[v],onChange:w=>p(v,parseInt(w.target.value,10)||0),className:"w-10 h-6 text-xs p-1",autoFocus:v==="d"}),u.jsx("span",{className:"text-[10px] text-muted-foreground",children:v})]},v))})]}):u.jsx("button",{className:"text-left text-sm font-mono hover:bg-muted/50 rounded px-1 py-0.5 w-full",onClick:()=>o(!0),title:b,children:x})}function cV({open:e,onOpenChange:t,colorSetName:n,colorSetType:r,recordAttributes:o,initialData:i,onSave:l}){const[c,d]=S.useState(i),[f,m]=S.useState(1),[p,g]=S.useState(10),[x,b]=S.useState(""),[v,w]=S.useState("visual"),[k,E]=S.useState(null),C=me(Y=>Y.simulationEpoch),_=C?new Date(C):null,R=o&&o.length>0;S.useEffect(()=>{d(i),m(1)},[i,e]),S.useEffect(()=>{v==="visual"&&b(JSON.stringify(c,null,2))},[c,v]);const P=Math.max(1,Math.ceil(c.length/p)),T=S.useMemo(()=>{const Y=(f-1)*p;return c.slice(Y,Y+p)},[c,f,p]),L=Y=>(f-1)*p+Y,U=()=>{let Y;R?Y=oV(o):Y=r==="int"?0:r==="bool"?!0:r==="string"?"":r==="unit"?null:"";const I=[...c,{value:Y,timestamp:0}];d(I),m(Math.ceil(I.length/p))},z=(Y,I)=>{const V=[...c];V[Y]=I,d(V)},B=Y=>{const I=c.filter((Z,J)=>J!==Y);d(I);const V=Math.max(1,Math.ceil(I.length/p));f>V&&m(V)},q=(Y,I,V,Z)=>{const J=[...c],K=J[Y].value;J[Y]={...J[Y],value:{...K,[I]:x1(Z,V)}},d(J)},G=(Y,I)=>{const V=[...c];V[Y]={...V[Y],timestamp:I},d(V)},A=Y=>{g(Y),m(1)},O=()=>{if(!R)return;const I=`data:text/csv;charset=utf-8,${[...o.map(J=>J.name),"Timestamp"].join(",")}
`,V=encodeURI(I),Z=document.createElement("a");Z.setAttribute("href",V),Z.setAttribute("download",`${n}_timed_template.csv`),document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)},F=Y=>{var Z;const I=(Z=Y.target.files)==null?void 0:Z[0];if(!I)return;const V=new FileReader;V.onload=J=>{var te;const K=(te=J.target)==null?void 0:te.result;try{const Q=JSON.parse(K);Array.isArray(Q)?(d(Q),m(1),w("visual"),E(null)):E("Uploaded file must contain an array")}catch{if(!R){E("Non-record types only support JSON import");return}try{const Q=K.split(`
`),ie=Q[0].split(",").map(xe=>xe.trim()),le=ie.findIndex(xe=>xe.toLowerCase()==="timestamp"),de=ie.filter((xe,De)=>De!==le),fe=[];for(let xe=1;xe<Q.length;xe++){if(!Q[xe].trim())continue;const De=Q[xe].split(",").map(nt=>nt.trim()),Me={};de.forEach(nt=>{const et=ie.indexOf(nt),ke=o.find(We=>We.name===nt);ke&&et>=0&&et<De.length&&(Me[nt]=x1(De[et],ke.type))});const it=le>=0&&le<De.length&&parseInt(De[le],10)||0;fe.push({value:Me,timestamp:it})}d(fe),m(1),w("visual"),E(null)}catch{E("Failed to parse file as JSON or CSV")}}},V.readAsText(I),Y.target.value=""},X=Y=>{if(Y==="json"&&v==="visual")b(JSON.stringify(c,null,2));else if(Y==="visual"&&v==="json")try{const I=JSON.parse(x);Array.isArray(I)?(d(I),E(null)):E("JSON must be an array")}catch{E("Invalid JSON format")}w(Y)},D=()=>{if(v==="json")try{const Y=JSON.parse(x);Array.isArray(Y)?(l(Y),t(!1)):E("JSON must be an array")}catch{E("Invalid JSON format")}else l(c),t(!1)},W=()=>c.length>10?u.jsx(lV,{currentPage:f,totalPages:P,pageSize:p,totalItems:c.length,onPageChange:m,onPageSizeChange:A}):null,M=()=>u.jsxs("div",{children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(aj,{children:[u.jsx(cj,{children:u.jsxs(Qs,{children:[o.map(Y=>u.jsx(Ba,{children:Y.name},Y.name)),u.jsx(Ba,{className:"min-w-[160px]",children:"Timestamp"}),u.jsx(Ba,{className:"w-[50px]"})]})}),u.jsx(uj,{children:T.length===0?u.jsx(Qs,{children:u.jsx(Hi,{colSpan:o.length+2,className:"text-center text-muted-foreground py-8",children:'No tokens. Click "Add Token" to add one.'})}):T.map((Y,I)=>{const V=L(I),Z=Y.value||{};return u.jsxs(Qs,{children:[o.map(J=>{var K;return u.jsx(Hi,{className:"p-1",children:u.jsx(at,{value:((K=Z[J.name])==null?void 0:K.toString())??"",onChange:te=>q(V,J.name,J.type,te.target.value),className:"h-7 text-xs"})},J.name)}),u.jsx(Hi,{className:"p-1",children:u.jsx(aV,{timestamp:Y.timestamp,epoch:_,onChange:J=>G(V,J)})}),u.jsx(Hi,{className:"p-1",children:u.jsx(ge,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>B(V),children:u.jsx(sr,{className:"h-3 w-3"})})})]},V)})})]})}),W()]}),H=()=>u.jsxs("div",{children:[u.jsx("div",{className:"space-y-2",children:T.length===0?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No tokens. Click "Add Token" to add a timed token.'}):T.map((Y,I)=>{const V=L(I);return u.jsx(iV,{token:Y,index:V,colorSetType:r,epoch:_,onChange:z,onRemove:B},V)})}),W()]});return u.jsx(rn,{open:e,onOpenChange:t,children:u.jsxs(on,{className:R?"max-w-[90vw] xl:max-w-6xl":"max-w-3xl",children:[u.jsx(sn,{children:u.jsxs(ln,{children:["Edit Timed Marking for ",n]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.length," token",c.length!==1?"s":"",_&&u.jsxs("span",{className:"ml-2",children:["(Epoch: ",_.toLocaleString(),")"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[R&&u.jsxs(ge,{variant:"outline",size:"sm",onClick:O,children:[u.jsx(HS,{className:"h-4 w-4 mr-1"}),"CSV Template"]}),u.jsxs("div",{children:[u.jsx(at,{type:"file",id:"timed-file-upload",className:"hidden",accept:".json,.csv",onChange:F}),u.jsx(je,{htmlFor:"timed-file-upload",className:"cursor-pointer",children:u.jsx(ge,{variant:"outline",size:"sm",asChild:!0,children:u.jsxs("span",{children:[u.jsx(Kg,{className:"h-4 w-4 mr-1"}),"Import"]})})})]}),u.jsxs(ge,{variant:"outline",size:"sm",onClick:U,children:[u.jsx(US,{className:"h-4 w-4 mr-1"}),"Add Token"]})]})]}),u.jsxs(pi,{value:v,onValueChange:X,children:[u.jsxs(hi,{className:"grid w-full grid-cols-2",children:[u.jsx($n,{value:"visual",children:"Visual Editor"}),u.jsx($n,{value:"json",children:"JSON Editor"})]}),u.jsx(br,{value:"visual",className:"space-y-2",children:R?M():H()}),u.jsx(br,{value:"json",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"timed-json-editor",children:"JSON Editor"}),u.jsx("textarea",{id:"timed-json-editor",className:"w-full h-[300px] font-mono text-sm p-2 border rounded-md",value:x,onChange:Y=>{b(Y.target.value),E(null);try{const I=JSON.parse(Y.target.value);Array.isArray(I)||E("JSON must be an array")}catch{E("Invalid JSON format")}}}),k&&u.jsx("p",{className:"text-sm text-destructive",children:k})]})})]})]}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ge,{onClick:D,children:"Save"})]})]})})}const uV=({colorSets:e})=>{var T,L,U,z,B,q,G;const[t,n]=S.useState(!1),[r,o]=S.useState(!1),[i,l]=S.useState(null),c=me(A=>A.activePetriNetId),d=me(A=>{const O=A.activePetriNetId?A.petriNetsById[A.activePetriNetId]:null;return O==null?void 0:O.selectedElement}),f=me(A=>A.updateNodeData);if(!d||d.type!=="node"||!d.element)return u.jsx("div",{children:"No node selected"});const{id:m,data:p}=d.element;if(!("colorSet"in p))return u.jsx("div",{children:"Invalid node type"});const g=e.find(A=>A.name===p.colorSet),x=(g==null?void 0:g.type)==="basic"&&((T=g==null?void 0:g.definition)==null?void 0:T.includes("= unit;")),b=(g==null?void 0:g.timed)===!0,v=()=>{var O;if(!g)return"other";const A=((O=g.definition)==null?void 0:O.toLowerCase())||"";return A.includes("= unit")?"unit":A.includes("= int")?"int":A.includes("= bool")?"bool":A.includes("= string")?"string":"other"},w=A=>{if(!A)return[];try{const O=JSON.parse(A);if(Array.isArray(O))return O.map(F=>typeof F=="object"&&F!==null&&"value"in F&&"timestamp"in F?{value:F.value,timestamp:Number(F.timestamp)||0}:{value:F,timestamp:0})}catch{try{const O=JSON.parse(A);if(Array.isArray(O))return O.map(F=>({value:F,timestamp:0}))}catch{}}return[]},k=A=>A.length===0?"":JSON.stringify(A.map(O=>({value:O.value,timestamp:O.timestamp}))),E=A=>{if(!A)return 0;const O=A.trim();if(/^\d+$/.test(O))return parseInt(O,10);if(O.startsWith("["))try{const F=O.match(/\(\)/g);return F?F.length:0}catch{return 0}return 0},C=A=>A<=0?"":`[${Array(A).fill("()").join(", ")}]`,_=A=>{const O=e.find(F=>F.name===A);if(!O||O.type!=="record")return[];if(A==="Product")return[{name:"id",type:"INT"},{name:"name",type:"STRING"},{name:"price",type:"REAL"}];if(A==="Order")return[{name:"orderId",type:"STRING"},{name:"status",type:"STRING"},{name:"amount",type:"INT"}];try{const F=/colset\s+(\w+)\s*=\s*record\s+([^;]+);/i,X=/(\w+)\s*:\s*(\w+)/g,D=O.definition.match(F);if(!D)return[];const W=D[2],M=[];let H;for(;(H=X.exec(W))!==null;)M.push({name:H[1],type:H[2].toUpperCase()});return M}catch(F){return console.error("Failed to parse record definition:",F),[]}},R=A=>{if(!A)return[];try{if(A.trim().startsWith("["))return JSON.parse(A);const O=/(\d+)`\{([^}]+)\}/g,F=[];let X;for(;(X=O.exec(A))!==null;){const D=Number.parseInt(X[1],10),W=X[2],M=/(\w+)=([^,]+)(?:,|$)/g,H={};let Y;for(;(Y=M.exec(W))!==null;){let I=Y[2].trim();const V=Y[1];isNaN(Number(I))?I.toLowerCase()==="true"||I.toLowerCase()==="false"?H[V]=I.toLowerCase()==="true":((I.startsWith('"')&&I.endsWith('"')||I.startsWith("'")&&I.endsWith("'"))&&(I=I.substring(1,I.length-1)),H[V]=I):I.includes(".")?H[V]=Number.parseFloat(I):H[V]=Number.parseInt(I,10)}for(let I=0;I<D;I++)F.push({...H})}return F}catch(O){return console.error("Failed to parse initial marking:",O),[]}},P=A=>{if(!A||A.length===0)return"";try{return JSON.stringify(A)}catch(O){return console.error("Failed to format record marking:",O),""}};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"label",children:"Label"}),u.jsx(jx,{id:"label",value:p.label||"",onChange:A=>{c&&f(c,m,{...p,label:A.target.value,isArcMode:p.isArcMode||!1,type:p.type||"node",colorSet:p.colorSet||"INT",initialMarking:p.initialMarking||""})}})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"colorSet",children:"Color Set"}),u.jsxs(mn,{value:p.colorSet||"INT",onValueChange:A=>{c&&f(c,m,{...p,label:p.label||"",colorSet:A,isArcMode:p.isArcMode||!1,type:p.type||"node",initialMarking:p.initialMarking||""})},children:[u.jsx(xn,{children:u.jsx(gn,{placeholder:"Select color set"})}),u.jsx(yn,{children:e.map(A=>u.jsx(gt,{value:A.name,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:A.color||"#3b82f6"}}),A.name]})},A.id))})]})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"initialMarking",children:"Initial Marking"}),x&&!b?u.jsx(bo,{id:"initialMarking",type:"number",min:"0",value:E(p.initialMarking||""),onChange:A=>{if(c){const O=parseInt(A.target.value,10)||0;f(c,m,{...p,label:p.label||"",initialMarking:C(O),isArcMode:p.isArcMode||!1,type:p.type||"defaultType",colorSet:p.colorSet||"defaultColorSet"})}}}):b?u.jsx("div",{className:"flex flex-col gap-2",children:u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsxs("div",{className:"flex-1 text-sm text-muted-foreground border rounded-md px-3 py-2 bg-muted/30",children:[w(p.initialMarking||"").length," timed token(s)"]}),u.jsx(ge,{variant:"outline",onClick:()=>{l({id:m,data:{...p}}),o(!0)},children:"Edit"})]})}):u.jsx("div",{className:"flex flex-col gap-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(bo,{id:"initialMarking",value:p.initialMarking||"",placeholder:"e.g., [1, 2, 3]",onChange:A=>{c&&f(c,m,{...p,label:p.label||"",initialMarking:A.target.value,isArcMode:p.isArcMode||!1,type:p.type||"defaultType",colorSet:p.colorSet||"defaultColorSet"})}}),u.jsx(ge,{variant:"outline",onClick:()=>{l({id:m,data:{...p}}),n(!0)},children:"Edit"})]})})]}),i&&u.jsxs(u.Fragment,{children:[u.jsx(rV,{open:t,onOpenChange:A=>{A?ll():al(),n(A)},colorSetName:((L=i.data)==null?void 0:L.colorSet)||"",attributes:_(((U=i.data)==null?void 0:U.colorSet)||""),initialData:R(((z=i.data)==null?void 0:z.initialMarking)||""),onSave:A=>{const O=P(A);c&&i&&f(c,i.id,{label:i.data.label||"",isArcMode:i.data.isArcMode||!1,type:i.data.type||"place",colorSet:i.data.colorSet||"INT",initialMarking:O,marking:A})}}),u.jsx(cV,{open:r,onOpenChange:A=>{A?ll():al(),o(A)},colorSetName:((B=i.data)==null?void 0:B.colorSet)||"",colorSetType:v(),recordAttributes:_(((q=i.data)==null?void 0:q.colorSet)||""),initialData:w(((G=i.data)==null?void 0:G.initialMarking)||""),onSave:A=>{const O=k(A);c&&i&&f(c,i.id,{label:i.data.label||"",isArcMode:i.data.isArcMode||!1,type:i.data.type||"place",colorSet:i.data.colorSet||"INT",initialMarking:O,marking:A})}})]})]})};function dV({value:e,onChange:t}){const[n,r]=S.useState(""),[o,i]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(e||"");S.useEffect(()=>{if(!e){r(""),i(""),c(""),f(`input ();
output ();
action
();`);return}f(e);try{const w=e.match(/input\s*$$(.*?)$$;/s),k=e.match(/output\s*$$(.*?)$$;/s),E=e.match(/action\s*(.*?)(?:$$$$;|$$$$$)/s);r(w?w[1]:""),i(k?k[1]:""),c(E?E[1].trim():"")}catch(w){console.error("Error parsing code segment:",w)}},[e]);const m=()=>{const w=`input (${n});
output (${o});
action
${l}();`;f(w),t(w)},p=w=>{r(w.target.value)},g=w=>{i(w.target.value)},x=w=>{c(w.target.value)},b=w=>{f(w.target.value),t(w.target.value)},v=()=>{m()};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs(pi,{defaultValue:"structured",className:"w-full",children:[u.jsxs(hi,{className:"grid w-full grid-cols-2",children:[u.jsx($n,{value:"structured",children:"Structured Editor"}),u.jsx($n,{value:"raw",children:"Raw Code"})]}),u.jsxs(br,{value:"structured",className:"space-y-4 pt-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"input-pattern",children:"Input Pattern"}),u.jsx(ii,{id:"input-pattern",placeholder:"n, b",className:"font-mono h-[60px]",value:n,onChange:p,onBlur:v}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"List the CPN variables that can be used in the code action, separated by commas."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"output-pattern",children:"Output Pattern"}),u.jsx(ii,{id:"output-pattern",placeholder:"result",className:"font-mono h-[60px]",value:o,onChange:g,onBlur:v}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"List the CPN variables to be changed as a result of the execution, separated by commas."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"action-code",children:"Action Code"}),u.jsx(ii,{id:"action-code",placeholder:"let val result = n + 1 in result end",className:"font-mono h-[120px]",value:l,onChange:x,onBlur:v}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"ML code to execute when the transition fires. Can use variables from input pattern and must return a value matching the output pattern."})]})]}),u.jsx(br,{value:"raw",className:"pt-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"raw-code",children:"Code Segment"}),u.jsx(ii,{id:"raw-code",placeholder:"input (n, b);\\noutput (result);\\naction\\nlet val result = n + 1 in result end();",className:"font-mono h-[240px]",value:d,onChange:b})]})})]}),u.jsx("div",{className:"pt-2",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:"Code segments may use CPN variables and can bind variables on output arcs. The action section is mandatory, while input and output are optional."})})]})}function fV(e){let t=Math.abs(e);const n=Math.floor(t/(1440*60*1e3));t%=1440*60*1e3;const r=Math.floor(t/(3600*1e3));t%=3600*1e3;const o=Math.floor(t/(60*1e3));t%=60*1e3;const i=Math.floor(t/1e3);return{ms:t%1e3,s:i,m:o,h:r,d:n}}function ga(e){const t=[];return e.d>0&&t.push(`delay_days(${e.d})`),e.h>0&&t.push(`delay_hours(${e.h})`),e.m>0&&t.push(`delay_min(${e.m})`),e.s>0&&t.push(`delay_sec(${e.s})`),e.ms>0&&t.push(`delay_ms(${e.ms})`),t.length>0?t.join(" + "):""}function pV(e){if(!e||e.trim()==="")return{ms:0,s:0,m:0,h:0,d:0};const t=/delay_(days|hours|min|sec|ms)\s*\(\s*(\d+)\s*\)/g;let n=0,r=!1,o;if(e.replace(t,"").replace(/\+/g,"").trim()!=="")return null;for(t.lastIndex=0;(o=t.exec(e))!==null;){r=!0;const l=o[1],c=parseInt(o[2],10);switch(l){case"days":n+=c*24*60*60*1e3;break;case"hours":n+=c*60*60*1e3;break;case"min":n+=c*60*1e3;break;case"sec":n+=c*1e3;break;case"ms":n+=c;break}}return!r&&e.trim()!==""?null:fV(n)}const hV=({priorities:e})=>{const t=me(k=>k.activePetriNetId),n=me(k=>{const E=k.activePetriNetId?k.petriNetsById[k.activePetriNetId]:null;return E==null?void 0:E.selectedElement}),r=me(k=>k.updateNodeData),[o,i]=S.useState("relative"),[l,c]=S.useState({ms:0,s:0,m:0,h:0,d:0}),[d,f]=S.useState(""),[m,p]=S.useState(null),g=n&&n.type==="node"&&n.element,x=g?n.element.id:null,b=g?n.element.data:null;if(S.useEffect(()=>{if(x&&x!==m&&b){p(x);const k=b.time||"",E=pV(k);E!==null?(i("relative"),c(E),f(k)):(i("expression"),f(k),c({ms:0,s:0,m:0,h:0,d:0}))}},[x,m,b]),!g||!b)return u.jsx("div",{children:"No node selected"});const v=x,w=b;return"guard"in w?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"label",children:"Label"}),u.jsx(jx,{id:"label",value:w.label??"",onChange:k=>{t&&r(t,v,{...w,label:k.target.value,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet||"defaultColorSet",initialMarking:w.initialMarking||"defaultMarking"})}})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"guard",children:"Guard"}),u.jsx(bo,{id:"guard",value:w.guard||"",onChange:k=>{t&&r(t,v,{...w,label:w.label||"",guard:k.target.value,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet||"defaultColorSet",initialMarking:w.initialMarking||"defaultMarking"})}})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{children:"Time"}),u.jsxs(pi,{value:o,onValueChange:k=>i(k),className:"w-full",children:[u.jsxs(hi,{className:"grid w-full grid-cols-2",children:[u.jsx($n,{value:"relative",children:"Relative"}),u.jsx($n,{value:"expression",children:"Expression"})]}),u.jsx(br,{value:"relative",className:"mt-2",children:u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(bo,{type:"number",min:"0",value:l.d,onChange:k=>{const E={...l,d:parseInt(k.target.value,10)||0};c(E);const C=ga(E);f(C),t&&r(t,v,{...w,label:w.label||"",time:C,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"d"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(bo,{type:"number",min:"0",max:"23",value:l.h,onChange:k=>{const E={...l,h:parseInt(k.target.value,10)||0};c(E);const C=ga(E);f(C),t&&r(t,v,{...w,label:w.label||"",time:C,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"h"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(bo,{type:"number",min:"0",max:"59",value:l.m,onChange:k=>{const E={...l,m:parseInt(k.target.value,10)||0};c(E);const C=ga(E);f(C),t&&r(t,v,{...w,label:w.label||"",time:C,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"m"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(bo,{type:"number",min:"0",max:"59",value:l.s,onChange:k=>{const E={...l,s:parseInt(k.target.value,10)||0};c(E);const C=ga(E);f(C),t&&r(t,v,{...w,label:w.label||"",time:C,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"s"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(bo,{type:"number",min:"0",max:"999",value:l.ms,onChange:k=>{const E={...l,ms:parseInt(k.target.value,10)||0};c(E);const C=ga(E);f(C),t&&r(t,v,{...w,label:w.label||"",time:C,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"w-16 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})]})}),u.jsxs(br,{value:"expression",className:"mt-2",children:[u.jsx(ii,{placeholder:"Rhai expression, e.g.: delay_hours(2) + delay_min(30)",value:d,onChange:k=>{const E=k.target.value;f(E),t&&r(t,v,{...w,label:w.label||"",time:E,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,priority:w.priority||"NONE",codeSegment:w.codeSegment||"",guard:w.guard||""})},className:"min-h-[80px] font-mono text-sm"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available: delay_ms(), delay_sec(), delay_min(), delay_hours(), delay_days()"})]})]})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"priority",children:"Priority"}),u.jsxs(mn,{value:w.priority||"NONE",onValueChange:k=>{t&&r(t,v,{...w,label:w.label||"",priority:k,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,guard:w.guard||"",time:w.time||"",codeSegment:w.codeSegment||""})},children:[u.jsx(xn,{id:"priority",children:u.jsx(gn,{placeholder:"Select priority"})}),u.jsxs(yn,{children:[u.jsx(gt,{value:"NONE",children:"None"}),e.map(k=>u.jsxs(gt,{value:k.name,children:[k.name," (",k.level,")"]},k.id))]})]})]}),u.jsx(Sc,{}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"codeSegment",children:"Code Segment"}),u.jsx(dV,{value:w.codeSegment||"",onChange:k=>{t&&r(t,v,{...w,label:w.label||"",codeSegment:k,isArcMode:w.isArcMode||!1,type:w.type||"defaultType",colorSet:w.colorSet,initialMarking:w.initialMarking,guard:w.guard||"",time:w.time||"",priority:w.priority||"NONE"})}})]})]}):u.jsx("div",{children:"Invalid node type"})},mV=()=>{const e=me(i=>i.activePetriNetId),t=me(i=>{const l=i.activePetriNetId?i.petriNetsById[i.activePetriNetId]:null;return l==null?void 0:l.selectedElement}),n=me(i=>i.updateNodeData);if(!t||t.type!=="node"||!t.element)return u.jsx("div",{children:"No node selected"});const{id:r,data:o}=t.element;return u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"label",children:"Annotation"}),u.jsx(ii,{id:"label",placeholder:"Annotation",className:"font-mono h-[100px]",value:o.label||"",onChange:i=>{e&&n(e,r,{...o,label:i.target.value,type:o.type||"auxText"})}})]})})},gV=()=>{const e=me(C=>C.activePetriNetId),t=me(C=>C.petriNetsById),n=me(C=>{const _=C.activePetriNetId?C.petriNetsById[C.activePetriNetId]:null;return _==null?void 0:_.selectedElement}),r=me(C=>C.updateEdgeLabel),o=me(C=>C.updateEdgeData),i=me(C=>C.swapEdgeDirection);if(!n||n.type!=="edge")return null;const{id:l,label:c,source:d,target:f,data:m}=n.element,p=(m==null?void 0:m.isBidirectional)??!1,g=C=>{var P;if(!e)return C;const _=t[e];if(!_)return C;const R=_.nodes.find(T=>T.id===C);return((P=R==null?void 0:R.data)==null?void 0:P.label)||C},x=C=>{if(!e)return"unknown";const _=t[e];if(!_)return"unknown";const R=_.nodes.find(P=>P.id===C);return(R==null?void 0:R.type)||"unknown"},b=g(d),v=g(f),w=x(d),k=()=>p?"bidirectional":"source-to-target",E=C=>{if(!e)return;const _=k();C!==_&&(C==="bidirectional"?o(e,l,{isBidirectional:!0}):_==="bidirectional"?(o(e,l,{isBidirectional:!1}),C==="target-to-source"&&i(e,l)):i(e,l))};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"direction",children:"Direction"}),u.jsxs(mn,{value:k(),onValueChange:C=>E(C),children:[u.jsx(xn,{id:"direction",children:u.jsx(gn,{})}),u.jsxs(yn,{children:[u.jsxs(gt,{value:"source-to-target",children:[b,"  ",v]}),u.jsxs(gt,{value:"target-to-source",children:[v,"  ",b]}),u.jsx(gt,{value:"bidirectional",children:"Bidirectional"})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:w==="place"?"Place  Transition":"Transition  Place"})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"inscription",children:"Inscription"}),u.jsx(ii,{id:"inscription",value:c??"",rows:3,className:"font-mono text-sm",onChange:C=>{e&&r(e,l,C.target.value)}})]})]})};function xV({elementType:e,elementId:t,elementLabel:n}){const[r,o]=S.useState(!1),i=me(g=>g.activePetriNetId),l=me(g=>g.setNodes),c=me(g=>g.setEdges),d=me(g=>g.setSelectedElement),f=n||t,m=e==="node"?"element":"arc",p=()=>{if(!i)return;const x=me.getState().petriNetsById[i];if(x){if(e==="node"){const b=x.nodes.filter(w=>w.id!==t),v=x.edges.filter(w=>w.source!==t&&w.target!==t);l(i,b),c(i,v)}else{const b=x.edges.filter(v=>v.id!==t);c(i,b)}d(i,null),o(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx(ge,{variant:"outline",size:"icon",className:"text-muted-foreground hover:text-destructive",onClick:()=>o(!0),title:`Delete ${m}`,children:u.jsx(sr,{className:"h-4 w-4"})}),u.jsx(rn,{open:r,onOpenChange:o,children:u.jsxs(on,{className:"max-w-sm",children:[u.jsxs(sn,{children:[u.jsxs(ln,{children:["Delete ",m]}),u.jsxs(Po,{children:["Are you sure you want to delete ",m==="arc"?"the arc":`"${f}"`,"?",e==="node"&&" All connected arcs will also be removed."," ","This action cannot be undone."]})]}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),u.jsx(ge,{variant:"destructive",onClick:p,children:"Delete"})]})]})})]})}function pj({className:e,...t}){return u.jsx("div",{"data-slot":"card",className:Xe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function hj({className:e,...t}){return u.jsx("div",{"data-slot":"card-header",className:Xe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function yV({className:e,...t}){return u.jsx("div",{"data-slot":"card-title",className:Xe("leading-none font-semibold",e),...t})}function mj({className:e,...t}){return u.jsx("div",{"data-slot":"card-content",className:Xe("px-6",e),...t})}function vV(e,t){return S.useReducer((n,r)=>t[n][r]??n,e)}var Wx="ScrollArea",[gj]=Tn(Wx),[wV,kr]=gj(Wx),xj=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:i=600,...l}=e,[c,d]=S.useState(null),[f,m]=S.useState(null),[p,g]=S.useState(null),[x,b]=S.useState(null),[v,w]=S.useState(null),[k,E]=S.useState(0),[C,_]=S.useState(0),[R,P]=S.useState(!1),[T,L]=S.useState(!1),U=st(t,B=>d(B)),z=fi(o);return u.jsx(wV,{scope:n,type:r,dir:z,scrollHideDelay:i,scrollArea:c,viewport:f,onViewportChange:m,content:p,onContentChange:g,scrollbarX:x,onScrollbarXChange:b,scrollbarXEnabled:R,onScrollbarXEnabledChange:P,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:T,onScrollbarYEnabledChange:L,onCornerWidthChange:E,onCornerHeightChange:_,children:u.jsx(Ue.div,{dir:z,...l,ref:U,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});xj.displayName=Wx;var yj="ScrollAreaViewport",vj=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...i}=e,l=kr(yj,n),c=S.useRef(null),d=st(t,c,l.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),u.jsx(Ue.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});vj.displayName=yj;var io="ScrollAreaScrollbar",wj=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=kr(io,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=o,c=e.orientation==="horizontal";return S.useEffect(()=>(c?i(!0):l(!0),()=>{c?i(!1):l(!1)}),[c,i,l]),o.type==="hover"?u.jsx(bV,{...r,ref:t,forceMount:n}):o.type==="scroll"?u.jsx(SV,{...r,ref:t,forceMount:n}):o.type==="auto"?u.jsx(bj,{...r,ref:t,forceMount:n}):o.type==="always"?u.jsx(qx,{...r,ref:t}):null});wj.displayName=io;var bV=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=kr(io,e.__scopeScrollArea),[i,l]=S.useState(!1);return S.useEffect(()=>{const c=o.scrollArea;let d=0;if(c){const f=()=>{window.clearTimeout(d),l(!0)},m=()=>{d=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",m)}}},[o.scrollArea,o.scrollHideDelay]),u.jsx(Rn,{present:n||i,children:u.jsx(bj,{"data-state":i?"visible":"hidden",...r,ref:t})})}),SV=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=kr(io,e.__scopeScrollArea),i=e.orientation==="horizontal",l=Bf(()=>d("SCROLL_END"),100),[c,d]=vV("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,o.scrollHideDelay,d]),S.useEffect(()=>{const f=o.viewport,m=i?"scrollLeft":"scrollTop";if(f){let p=f[m];const g=()=>{const x=f[m];p!==x&&(d("SCROLL"),l()),p=x};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[o.viewport,i,d,l]),u.jsx(Rn,{present:n||c!=="hidden",children:u.jsx(qx,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Re(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Re(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),bj=S.forwardRef((e,t)=>{const n=kr(io,e.__scopeScrollArea),{forceMount:r,...o}=e,[i,l]=S.useState(!1),c=e.orientation==="horizontal",d=Bf(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;l(c?f:m)}},10);return dl(n.viewport,d),dl(n.content,d),u.jsx(Rn,{present:r||i,children:u.jsx(qx,{"data-state":i?"visible":"hidden",...o,ref:t})})}),qx=S.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=kr(io,e.__scopeScrollArea),i=S.useRef(null),l=S.useRef(0),[c,d]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=Ej(c.viewport,c.content),m={...r,sizes:c,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:g=>l.current=g};function p(g,x){return _V(g,l.current,c,x)}return n==="horizontal"?u.jsx(kV,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const g=o.viewport.scrollLeft,x=y1(g,c,o.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollLeft=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollLeft=p(g,o.dir))}}):n==="vertical"?u.jsx(CV,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const g=o.viewport.scrollTop,x=y1(g,c);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollTop=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollTop=p(g))}}):null}),kV=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=kr(io,e.__scopeScrollArea),[l,c]=S.useState(),d=S.useRef(null),f=st(t,d,i.onScrollbarXChange);return S.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),u.jsx(kj,{"data-orientation":"horizontal",...o,ref:f,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ff(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,p)=>{if(i.viewport){const g=i.viewport.scrollLeft+m.deltaX;e.onWheelScroll(g),_j(g,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Jd(l.paddingLeft),paddingEnd:Jd(l.paddingRight)}})}})}),CV=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=kr(io,e.__scopeScrollArea),[l,c]=S.useState(),d=S.useRef(null),f=st(t,d,i.onScrollbarYChange);return S.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),u.jsx(kj,{"data-orientation":"vertical",...o,ref:f,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ff(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,p)=>{if(i.viewport){const g=i.viewport.scrollTop+m.deltaY;e.onWheelScroll(g),_j(g,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Jd(l.paddingTop),paddingEnd:Jd(l.paddingBottom)}})}})}),[NV,Sj]=gj(io),kj=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:m,onResize:p,...g}=e,x=kr(io,n),[b,v]=S.useState(null),w=st(t,U=>v(U)),k=S.useRef(null),E=S.useRef(""),C=x.viewport,_=r.content-r.viewport,R=Ln(m),P=Ln(d),T=Bf(p,10);function L(U){if(k.current){const z=U.clientX-k.current.left,B=U.clientY-k.current.top;f({x:z,y:B})}}return S.useEffect(()=>{const U=z=>{const B=z.target;(b==null?void 0:b.contains(B))&&R(z,_)};return document.addEventListener("wheel",U,{passive:!1}),()=>document.removeEventListener("wheel",U,{passive:!1})},[C,b,_,R]),S.useEffect(P,[r,P]),dl(b,T),dl(x.content,T),u.jsx(NV,{scope:n,scrollbar:b,hasThumb:o,onThumbChange:Ln(i),onThumbPointerUp:Ln(l),onThumbPositionChange:P,onThumbPointerDown:Ln(c),children:u.jsx(Ue.div,{...g,ref:w,style:{position:"absolute",...g.style},onPointerDown:Re(e.onPointerDown,U=>{U.button===0&&(U.target.setPointerCapture(U.pointerId),k.current=b.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),L(U))}),onPointerMove:Re(e.onPointerMove,L),onPointerUp:Re(e.onPointerUp,U=>{const z=U.target;z.hasPointerCapture(U.pointerId)&&z.releasePointerCapture(U.pointerId),document.body.style.webkitUserSelect=E.current,x.viewport&&(x.viewport.style.scrollBehavior=""),k.current=null})})})}),Qd="ScrollAreaThumb",Cj=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Sj(Qd,e.__scopeScrollArea);return u.jsx(Rn,{present:n||o.hasThumb,children:u.jsx(EV,{ref:t,...r})})}),EV=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,i=kr(Qd,n),l=Sj(Qd,n),{onThumbPositionChange:c}=l,d=st(t,p=>l.onThumbChange(p)),f=S.useRef(void 0),m=Bf(()=>{f.current&&(f.current(),f.current=void 0)},100);return S.useEffect(()=>{const p=i.viewport;if(p){const g=()=>{if(m(),!f.current){const x=PV(p,c);f.current=x,c()}};return c(),p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[i.viewport,m,c]),u.jsx(Ue.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Re(e.onPointerDownCapture,p=>{const x=p.target.getBoundingClientRect(),b=p.clientX-x.left,v=p.clientY-x.top;l.onThumbPointerDown({x:b,y:v})}),onPointerUp:Re(e.onPointerUp,l.onThumbPointerUp)})});Cj.displayName=Qd;var Yx="ScrollAreaCorner",Nj=S.forwardRef((e,t)=>{const n=kr(Yx,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(jV,{...e,ref:t}):null});Nj.displayName=Yx;var jV=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=kr(Yx,n),[i,l]=S.useState(0),[c,d]=S.useState(0),f=!!(i&&c);return dl(o.scrollbarX,()=>{var p;const m=((p=o.scrollbarX)==null?void 0:p.offsetHeight)||0;o.onCornerHeightChange(m),d(m)}),dl(o.scrollbarY,()=>{var p;const m=((p=o.scrollbarY)==null?void 0:p.offsetWidth)||0;o.onCornerWidthChange(m),l(m)}),f?u.jsx(Ue.div,{...r,ref:t,style:{width:i,height:c,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Jd(e){return e?parseInt(e,10):0}function Ej(e,t){const n=e/t;return isNaN(n)?0:n}function Ff(e){const t=Ej(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function _V(e,t,n,r="ltr"){const o=Ff(n),i=o/2,l=t||i,c=o-l,d=n.scrollbar.paddingStart+l,f=n.scrollbar.size-n.scrollbar.paddingEnd-c,m=n.content-n.viewport,p=r==="ltr"?[0,m]:[m*-1,0];return jj([d,f],p)(e)}function y1(e,t,n="ltr"){const r=Ff(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,l=t.content-t.viewport,c=i-r,d=n==="ltr"?[0,l]:[l*-1,0],f=sc(e,d);return jj([0,l],[0,c])(f)}function jj(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function _j(e,t){return e>0&&e<t}var PV=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function o(){const i={left:e.scrollLeft,top:e.scrollTop},l=n.left!==i.left,c=n.top!==i.top;(l||c)&&t(),n=i,r=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(r)};function Bf(e,t){const n=Ln(e),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function dl(e,t){const n=Ln(t);vn(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var AV=xj,IV=vj,TV=Nj;function Vf({className:e,children:t,...n}){return u.jsxs(AV,{"data-slot":"scroll-area",className:Xe("relative",e),...n,children:[u.jsx(IV,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),u.jsx(RV,{}),u.jsx(TV,{})]})}function RV({className:e,orientation:t="vertical",...n}){return u.jsx(wj,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Xe("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:u.jsx(Cj,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const MV=zf("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function DV({className:e,variant:t,asChild:n=!1,...r}){const o=n?xN:"span";return u.jsx(o,{"data-slot":"badge",className:Xe(MV({variant:t}),e),...r})}function OV({events:e,onClearLog:t,onExport:n,canExport:r,exportDisabledReason:o}){const[i,l]=S.useState(""),[c,d]=S.useState(new Set),f=me(b=>b.simulationEpoch),m=f?new Date(f):null,p=b=>{const v=new Set(c);v.has(b)?v.delete(b):v.add(b),d(v)},g=e.filter(b=>b.transitionName.toLowerCase().includes(i.toLowerCase())||b.tokens.consumed.some(v=>v.placeName.toLowerCase().includes(i.toLowerCase()))||b.tokens.produced.some(v=>v.placeName.toLowerCase().includes(i.toLowerCase()))),x=b=>{if(m){const C=new Date(m.getTime()+b),_=C.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"}),R=C.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),P=C.getMilliseconds().toString().padStart(3,"0");return{date:_,time:`${R}.${P}`}}if(b===0)return{time:"0"};const v=b/1e3;if(v<60)return{time:`${v.toFixed(v%1===0?0:1)}s`};const w=v/60;if(w<60)return{time:`${w.toFixed(w%1===0?0:1)}m`};const k=w/60;if(k<24)return{time:`${k.toFixed(k%1===0?0:1)}h`};const E=k/24;return{time:`${E.toFixed(E%1===0?0:1)}d`}};return u.jsxs(pj,{className:"w-full h-full flex flex-col overflow-hidden",children:[u.jsxs(hj,{className:"pb-3 flex-shrink-0",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm font-semibold leading-none tracking-tight",children:"Event Log"}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(ge,{variant:"outline",size:"icon",onClick:t,title:"Clear Log",children:u.jsx(NT,{className:"h-4 w-4"})}),n&&u.jsxs(ge,{variant:"outline",onClick:n,disabled:!r,title:o||"Export as OCEL 2.0",className:"flex items-center gap-1 h-9 px-3",children:[u.jsx(_I,{className:"h-4 w-4"}),"Export OCEL"]})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx(dT,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),u.jsx(at,{placeholder:"Search events...",className:"pl-8",value:i,onChange:b=>l(b.target.value)})]})]}),u.jsx(mj,{className:"flex-1 overflow-hidden min-h-0",children:u.jsx(Vf,{className:"h-full",children:g.length===0?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.length===0?"No events recorded yet":"No events match your search"}):u.jsx("div",{className:"space-y-2",children:g.map(b=>u.jsxs("div",{className:"border rounded-md p-3 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>p(b.id),children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(DV,{variant:"outline",children:b.step}),u.jsx("span",{className:"font-medium",children:b.transitionName})]}),u.jsxs("div",{className:"flex items-center space-x-1.5 text-muted-foreground",children:[u.jsx(Gg,{className:"h-3 w-3 flex-shrink-0"}),(()=>{const v=x(b.time);return v.date?u.jsxs("div",{className:"text-right text-xs leading-tight",children:[u.jsx("div",{children:v.date}),u.jsx("div",{children:v.time})]}):u.jsx("span",{className:"text-sm",children:v.time})})()]})]}),c.has(b.id)&&u.jsxs("div",{className:"mt-2 pt-2 border-t text-sm space-y-3 overflow-hidden",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("h4",{className:"font-medium mb-1",children:"Consumed Tokens:"}),b.tokens.consumed.length===0?u.jsx("p",{className:"text-muted-foreground text-xs pl-2",children:"None"}):u.jsx("ul",{className:"space-y-1 pl-2 text-xs",children:b.tokens.consumed.map((v,w)=>u.jsxs("li",{className:"min-w-0",children:[u.jsxs("span",{className:"text-muted-foreground",children:[v.placeName,":"]}),u.jsx("span",{className:"font-mono bg-muted px-1 rounded ml-2 break-all whitespace-pre-wrap",children:v.tokens})]},`consumed-${w}`))})]}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("h4",{className:"font-medium mb-1",children:"Produced Tokens:"}),b.tokens.produced.length===0?u.jsx("p",{className:"text-muted-foreground text-xs pl-2",children:"None"}):u.jsx("ul",{className:"space-y-1 pl-2 text-xs",children:b.tokens.produced.map((v,w)=>u.jsxs("li",{className:"min-w-0",children:[u.jsxs("span",{className:"text-muted-foreground",children:[v.placeName,":"]}),u.jsx("span",{className:"font-mono bg-muted px-1 rounded ml-2 break-all whitespace-pre-wrap",children:v.tokens})]},`produced-${w}`))})]})]})]},b.id))})})})]})}var Xx="Radio",[LV,Pj]=Tn(Xx),[zV,$V]=LV(Xx),Aj=S.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:o=!1,required:i,disabled:l,value:c="on",onCheck:d,form:f,...m}=e,[p,g]=S.useState(null),x=st(t,w=>g(w)),b=S.useRef(!1),v=p?f||!!p.closest("form"):!0;return u.jsxs(zV,{scope:n,checked:o,disabled:l,children:[u.jsx(Ue.button,{type:"button",role:"radio","aria-checked":o,"data-state":Mj(o),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:x,onClick:Re(e.onClick,w=>{o||d==null||d(),v&&(b.current=w.isPropagationStopped(),b.current||w.stopPropagation())})}),v&&u.jsx(Rj,{control:p,bubbles:!b.current,name:r,value:c,checked:o,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});Aj.displayName=Xx;var Ij="RadioIndicator",Tj=S.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...o}=e,i=$V(Ij,n);return u.jsx(Rn,{present:r||i.checked,children:u.jsx(Ue.span,{"data-state":Mj(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t})})});Tj.displayName=Ij;var FV="RadioBubbleInput",Rj=S.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...o},i)=>{const l=S.useRef(null),c=st(l,i),d=Tf(n),f=Af(t);return S.useEffect(()=>{const m=l.current;if(!m)return;const p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==n&&x){const b=new Event("click",{bubbles:r});x.call(m,n),m.dispatchEvent(b)}},[d,n,r]),u.jsx(Ue.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:c,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Rj.displayName=FV;function Mj(e){return e?"checked":"unchecked"}var BV=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Hf="RadioGroup",[VV]=Tn(Hf,[vl,Pj]),Dj=vl(),Oj=Pj(),[HV,UV]=VV(Hf),Lj=S.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:o,value:i,required:l=!1,disabled:c=!1,orientation:d,dir:f,loop:m=!0,onValueChange:p,...g}=e,x=Dj(n),b=fi(f),[v,w]=In({prop:i,defaultProp:o??null,onChange:p,caller:Hf});return u.jsx(HV,{scope:n,name:r,required:l,disabled:c,value:v,onValueChange:w,children:u.jsx(Cx,{asChild:!0,...x,orientation:d,dir:b,loop:m,children:u.jsx(Ue.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":c?"":void 0,dir:b,...g,ref:t})})})});Lj.displayName=Hf;var zj="RadioGroupItem",$j=S.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...o}=e,i=UV(zj,n),l=i.disabled||r,c=Dj(n),d=Oj(n),f=S.useRef(null),m=st(t,f),p=i.value===o.value,g=S.useRef(!1);return S.useEffect(()=>{const x=v=>{BV.includes(v.key)&&(g.current=!0)},b=()=>g.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",b)}},[]),u.jsx(Nx,{asChild:!0,...c,focusable:!l,active:p,children:u.jsx(Aj,{disabled:l,required:i.required,checked:p,...d,...o,name:i.name,ref:m,onCheck:()=>i.onValueChange(o.value),onKeyDown:Re(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:Re(o.onFocus,()=>{var x;g.current&&((x=f.current)==null||x.click())})})})});$j.displayName=zj;var WV="RadioGroupIndicator",Fj=S.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,o=Oj(n);return u.jsx(Tj,{...o,...r,ref:t})});Fj.displayName=WV;var qV=Lj,YV=$j,XV=Fj;function Gx({className:e,...t}){return u.jsx(qV,{"data-slot":"radio-group",className:Xe("grid gap-3",e),...t})}function Co({className:e,...t}){return u.jsx(YV,{"data-slot":"radio-group-item",className:Xe("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(XV,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:u.jsx(VS,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function GV({open:e,onOpenChange:t,onExport:n}){const[r,o]=S.useState("json"),i=()=>{n(r),t(!1)};return u.jsx(rn,{open:e,onOpenChange:t,children:u.jsxs(on,{className:"sm:max-w-[425px]",children:[u.jsxs(sn,{children:[u.jsx(ln,{children:"Export as OCEL 2.0"}),u.jsx(Po,{children:"Choose a format to export your simulation data as an Object-Centric Event Log (OCEL 2.0)."})]}),u.jsx("div",{className:"py-4",children:u.jsxs(Gx,{value:r,onValueChange:l=>o(l),className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Co,{value:"json",id:"json"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(je,{htmlFor:"json",className:"font-medium",children:"JSON"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Standard JSON format for OCEL 2.0. Best for web applications and analysis tools."})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Co,{value:"xml",id:"xml",disabled:!0}),u.jsxs("div",{className:"grid gap-1.5 opacity-50",children:[u.jsx(je,{htmlFor:"xml",className:"font-medium",children:"XML"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"XML format for OCEL 2.0. Good for compatibility with legacy systems. (Coming soon)"})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Co,{value:"sqlite",id:"sqlite",disabled:!0}),u.jsxs("div",{className:"grid gap-1.5 opacity-50",children:[u.jsx(je,{htmlFor:"sqlite",className:"font-medium",children:"SQLite"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"SQLite database format. Best for large event logs and direct database queries. (Coming soon)"})]})]})]})}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ge,{onClick:i,children:"Export"})]})]})})}const KV={stepsPerRun:50,animationDelayMs:500},jc=S.createContext(null);function QV(e){if(e&&typeof e=="object"){const t=e;if("id"in t)return t.id;if("ID"in t)return t.ID}return null}function v1(e,t){const n=t.toLowerCase(),r=QV(e);if(r!==null)return`${n}_${r}`;const o=JSON.stringify(e).split("").reduce((i,l)=>(i=(i<<5)-i+l.charCodeAt(0),i&i),0);return`${n}_${Math.abs(o)}`}function JV(e,t,n,r,o){const i=[],l=t.filter(g=>g.type==="record");for(const g of l){const x=[],b=g.definition.match(/=\s*record\s+(.+);/);if(b){const w=b[1].split("*").map(k=>k.trim());for(const k of w){const[E,C]=k.split(":").map(_=>_.trim());E&&C&&E.toLowerCase()!=="id"&&x.push({name:E.toLowerCase(),type:C.toLowerCase()})}}i.push({name:g.name,attributes:x})}const c=n.map(g=>({name:g.name||g.id,attributes:[]})),d=new Map;for(const g of r)d.set(g.id,g.colorSet);const f=new Map,m=[],p=o?new Date(o):null;for(const g of e){const x=`e${g.step}`,b=g.transitionName,v=p?new Date(p.getTime()+g.time).toISOString():g.timestamp.toISOString(),w=new Map;for(const E of g.tokens.consumed){const C=d.get(E.placeId);if(l.some(R=>R.name===C)&&C)try{const R=JSON.parse(E.tokens);if(Array.isArray(R))for(const P of R){const T=v1(P,C);if(!f.has(T)){const L=[];if(P&&typeof P=="object")for(const[U,z]of Object.entries(P))U.toLowerCase()!=="id"&&L.push({name:U.toLowerCase(),time:v,value:String(z)});f.set(T,{id:T,type:C,attributes:L,relationships:[]})}w.set(T,C)}}catch{}}for(const E of g.tokens.produced){const C=d.get(E.placeId);if(l.some(R=>R.name===C)&&C)try{const R=JSON.parse(E.tokens);if(Array.isArray(R))for(const P of R){const T=v1(P,C);if(!f.has(T)){const L=[];if(P&&typeof P=="object")for(const[U,z]of Object.entries(P))U.toLowerCase()!=="id"&&L.push({name:U.toLowerCase(),time:v,value:String(z)});f.set(T,{id:T,type:C,attributes:L,relationships:[]})}w.set(T,C)}}catch{}}const k=Array.from(w.entries()).map(([E,C])=>({objectId:E,qualifier:C.toLowerCase()}));m.push({id:x,type:b,time:v,attributes:[],relationships:k})}return{objectTypes:i,eventTypes:c,objects:Array.from(f.values()),events:m}}function ZV(){const e=S.useContext(jc);if(!e)throw new Error("SimulationPanel must be used within a SimulationProvider");const{events:t,clearEvents:n,isInitialized:r,stepCounter:o,simulationTime:i,simulationConfig:l,setSimulationConfig:c}=e,d=me(G=>G.colorSets),f=me(G=>G.petriNetsById),m=me(G=>G.activePetriNetId),p=me(G=>G.simulationEpoch),g=me(G=>G.setSimulationEpoch),[x,b]=S.useState(!1),[v,w]=S.useState(!1),[k,E]=S.useState(l),C=G=>{if(!G)return"";const A=new Date(G);if(isNaN(A.getTime()))return G;const O=(F,X=2)=>String(F).padStart(X,"0");return`${A.getFullYear()}-${O(A.getMonth()+1)}-${O(A.getDate())}T${O(A.getHours())}:${O(A.getMinutes())}:${O(A.getSeconds())}.${O(A.getMilliseconds(),3)}`},[_,R]=S.useState(C(p)),P=G=>{G&&(E(l),R(C(p))),w(G)},T=()=>{if(c(k),_){const G=new Date(_);isNaN(G.getTime())?g(_):g(G.toISOString())}else g(null);w(!1)},L=S.useCallback(()=>{if(!m)return{transitions:[],places:[]};const G=f[m];if(!G)return{transitions:[],places:[]};const A=G.nodes.filter(F=>F.type==="transition").map(F=>{var X;return{id:F.id,name:((X=F.data)==null?void 0:X.label)||F.id}}),O=G.nodes.filter(F=>F.type==="place").map(F=>{var X,D;return{id:F.id,name:((X=F.data)==null?void 0:X.label)||F.id,colorSet:((D=F.data)==null?void 0:D.colorSet)||""}});return{transitions:A,places:O}},[m,f]),U=G=>{const{transitions:A,places:O}=L(),F=JV(t,d,A,O,p||null);let X="",D=`simulation_ocel2_${o}_events`,W="application/octet-stream";switch(G){case"json":X=JSON.stringify(F,null,2),D+=".json",W="application/json";break;case"xml":X=`<?xml version="1.0" encoding="UTF-8"?>
<ocel>
  <objectTypes>
${F.objectTypes.map(I=>`    <objectType name="${I.name}">
${I.attributes.map(V=>`      <attribute name="${V.name}" type="${V.type}"/>`).join(`
`)}
    </objectType>`).join(`
`)}
  </objectTypes>
  <eventTypes>
${F.eventTypes.map(I=>`    <eventType name="${I.name}">
${I.attributes.map(V=>`      <attribute name="${V.name}" type="${V.type}"/>`).join(`
`)}
    </eventType>`).join(`
`)}
  </eventTypes>
  <objects>
${F.objects.map(I=>`    <object id="${I.id}" type="${I.type}">
${I.attributes.map(V=>`      <attribute name="${V.name}" time="${V.time}" value="${V.value}"/>`).join(`
`)}
    </object>`).join(`
`)}
  </objects>
  <events>
${F.events.map(I=>`    <event id="${I.id}" type="${I.type}" time="${I.time}">
${I.relationships.map(V=>`      <relationship objectId="${V.objectId}" qualifier="${V.qualifier}"/>`).join(`
`)}
    </event>`).join(`
`)}
  </events>
</ocel>`,D+=".xml",W="application/xml";break;case"sqlite":X="SQLite format not yet implemented - please use JSON or XML format",D+=".txt",W="text/plain";break}const M=new Blob([X],{type:W}),H=URL.createObjectURL(M),Y=document.createElement("a");Y.href=H,Y.download=D,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(H),b(!1)},z=r&&t.length>0,B=p?new Date(p):null,q=G=>{if(G==null&&(G=0),B){const A=new Date(B.getTime()+G),O=A.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"}),F=A.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),X=A.getMilliseconds().toString().padStart(3,"0");return`${O}, ${F}.${X}`}if(G===0)return"0ms";if(G<1e3)return`${G}ms`;if(G<6e4)return`${(G/1e3).toFixed(1)}s`;if(G<36e5){const A=Math.floor(G/6e4),O=Math.floor(G%6e4/1e3);return`${A}m ${O}s`}else{const A=Math.floor(G/36e5),O=Math.floor(G%36e5/6e4),F=Math.floor(G%6e4/1e3);return`${A}h ${O}m ${F}s`}};return u.jsxs("div",{className:"flex flex-col h-full gap-3 overflow-hidden",children:[u.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card flex-shrink-0",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("span",{className:"text-sm font-semibold leading-none tracking-tight",children:"Simulation Status"}),u.jsx(ge,{variant:"outline",size:"icon",onClick:()=>w(!0),title:"Simulation Settings",children:u.jsx(WS,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(UI,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Step"}),u.jsx("div",{className:"text-lg font-mono font-semibold",children:o??0})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gg,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Time"}),u.jsx("div",{className:"text-lg font-mono font-semibold",children:q(i)})]})]})]})]}),u.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:u.jsx(OV,{events:t,onClearLog:n,onExport:()=>b(!0),canExport:z,exportDisabledReason:r?t.length===0?"No simulation events to export":void 0:"Simulation not initialized"})}),u.jsx(GV,{open:x,onOpenChange:b,onExport:U}),u.jsx(rn,{open:v,onOpenChange:P,children:u.jsxs(on,{className:"sm:max-w-[480px]",children:[u.jsx(sn,{children:u.jsx(ln,{children:"Simulation Settings"})}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"stepsPerRun",className:"text-right col-span-2",children:"Steps per run"}),u.jsx(at,{id:"stepsPerRun",type:"number",min:1,max:1e3,value:k.stepsPerRun,onChange:G=>E({...k,stepsPerRun:parseInt(G.target.value)||1}),className:"col-span-2"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"animationDelay",className:"text-right col-span-2",children:"Animation delay (ms)"}),u.jsx(at,{id:"animationDelay",type:"number",min:0,max:5e3,step:50,value:k.animationDelayMs,onChange:G=>E({...k,animationDelayMs:parseInt(G.target.value)||0}),className:"col-span-2"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"simulationEpoch",className:"text-right col-span-2",children:"Simulation epoch"}),u.jsx(at,{id:"simulationEpoch",type:"datetime-local",step:"0.001",value:_,onChange:G=>R(G.target.value),className:"col-span-2"}),u.jsxs("div",{className:"col-span-2 col-start-3 flex gap-2",children:[u.jsx(ge,{type:"button",variant:"outline",size:"sm",onClick:()=>{const G=new Date,A=(F,X=2)=>String(F).padStart(X,"0"),O=`${G.getFullYear()}-${A(G.getMonth()+1)}-${A(G.getDate())}T${A(G.getHours())}:${A(G.getMinutes())}:${A(G.getSeconds())}.${A(G.getMilliseconds(),3)}`;R(O)},children:"Now"}),u.jsx(ge,{type:"button",variant:"outline",size:"sm",onClick:()=>R(""),children:"Reset"})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"The simulation epoch is the real-world datetime that corresponds to simulation time 0. When set, simulation times will be displayed relative to this epoch."})]}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),u.jsx(ge,{onClick:T,children:"Save"})]})]})})]})}var Uf="Checkbox",[eH]=Tn(Uf),[tH,Kx]=eH(Uf);function nH(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:o,disabled:i,form:l,name:c,onCheckedChange:d,required:f,value:m="on",internal_do_not_use_render:p}=e,[g,x]=In({prop:n,defaultProp:o??!1,onChange:d,caller:Uf}),[b,v]=S.useState(null),[w,k]=S.useState(null),E=S.useRef(!1),C=b?!!l||!!b.closest("form"):!0,_={checked:g,disabled:i,setChecked:x,control:b,setControl:v,name:c,form:l,value:m,hasConsumerStoppedPropagationRef:E,required:f,defaultChecked:li(o)?!1:o,isFormControl:C,bubbleInput:w,setBubbleInput:k};return u.jsx(tH,{scope:t,..._,children:rH(p)?p(_):r})}var Bj="CheckboxTrigger",Vj=S.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},o)=>{const{control:i,value:l,disabled:c,checked:d,required:f,setControl:m,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:b}=Kx(Bj,e),v=st(o,m),w=S.useRef(d);return S.useEffect(()=>{const k=i==null?void 0:i.form;if(k){const E=()=>p(w.current);return k.addEventListener("reset",E),()=>k.removeEventListener("reset",E)}},[i,p]),u.jsx(Ue.button,{type:"button",role:"checkbox","aria-checked":li(d)?"mixed":d,"aria-required":f,"data-state":Yj(d),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:v,onKeyDown:Re(t,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:Re(n,k=>{p(E=>li(E)?!0:!E),b&&x&&(g.current=k.isPropagationStopped(),g.current||k.stopPropagation())})})});Vj.displayName=Bj;var Qx=S.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:i,required:l,disabled:c,value:d,onCheckedChange:f,form:m,...p}=e;return u.jsx(nH,{__scopeCheckbox:n,checked:o,defaultChecked:i,disabled:c,required:l,onCheckedChange:f,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:g})=>u.jsxs(u.Fragment,{children:[u.jsx(Vj,{...p,ref:t,__scopeCheckbox:n}),g&&u.jsx(qj,{__scopeCheckbox:n})]})})});Qx.displayName=Uf;var Hj="CheckboxIndicator",Uj=S.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,i=Kx(Hj,n);return u.jsx(Rn,{present:r||li(i.checked)||i.checked===!0,children:u.jsx(Ue.span,{"data-state":Yj(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Uj.displayName=Hj;var Wj="CheckboxBubbleInput",qj=S.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:o,checked:i,defaultChecked:l,required:c,disabled:d,name:f,value:m,form:p,bubbleInput:g,setBubbleInput:x}=Kx(Wj,e),b=st(n,x),v=Tf(i),w=Af(r);S.useEffect(()=>{const E=g;if(!E)return;const C=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(C,"checked").set,P=!o.current;if(v!==i&&R){const T=new Event("click",{bubbles:P});E.indeterminate=li(i),R.call(E,li(i)?!1:i),E.dispatchEvent(T)}},[g,v,i,o]);const k=S.useRef(li(i)?!1:i);return u.jsx(Ue.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??k.current,required:c,disabled:d,name:f,value:m,form:p,...t,tabIndex:-1,ref:b,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});qj.displayName=Wj;function rH(e){return typeof e=="function"}function li(e){return e==="indeterminate"}function Yj(e){return li(e)?"indeterminate":e?"checked":"unchecked"}const Jx=S.forwardRef(({className:e,...t},n)=>u.jsx(Qx,{ref:n,className:Xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:u.jsx(Uj,{className:Xe("flex items-center justify-center text-current"),children:u.jsx(zS,{className:"h-4 w-4"})})}));Jx.displayName=Qx.displayName;function Wf(){return(Wf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xj(e,t){if(e==null)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function Ng(e){var t=S.useRef(e),n=S.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var cc=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Va=function(e){return"touches"in e},Eg=function(e){return e&&e.ownerDocument.defaultView||self},w1=function(e,t,n){var r=e.getBoundingClientRect(),o=Va(t)?(function(i,l){for(var c=0;c<i.length;c++)if(i[c].identifier===l)return i[c];return i[0]})(t.touches,n):t;return{left:cc((o.pageX-(r.left+Eg(e).pageXOffset))/r.width),top:cc((o.pageY-(r.top+Eg(e).pageYOffset))/r.height)}},b1=function(e){!Va(e)&&e.preventDefault()},Gj=qe.memo(function(e){var t=e.onMove,n=e.onKey,r=Xj(e,["onMove","onKey"]),o=S.useRef(null),i=Ng(t),l=Ng(n),c=S.useRef(null),d=S.useRef(!1),f=S.useMemo(function(){var x=function(w){b1(w),(Va(w)?w.touches.length>0:w.buttons>0)&&o.current?i(w1(o.current,w,c.current)):v(!1)},b=function(){return v(!1)};function v(w){var k=d.current,E=Eg(o.current),C=w?E.addEventListener:E.removeEventListener;C(k?"touchmove":"mousemove",x),C(k?"touchend":"mouseup",b)}return[function(w){var k=w.nativeEvent,E=o.current;if(E&&(b1(k),!(function(_,R){return R&&!Va(_)})(k,d.current)&&E)){if(Va(k)){d.current=!0;var C=k.changedTouches||[];C.length&&(c.current=C[0].identifier)}E.focus(),i(w1(E,k,c.current)),v(!0)}},function(w){var k=w.which||w.keyCode;k<37||k>40||(w.preventDefault(),l({left:k===39?.05:k===37?-.05:0,top:k===40?.05:k===38?-.05:0}))},v]},[l,i]),m=f[0],p=f[1],g=f[2];return S.useEffect(function(){return g},[g]),qe.createElement("div",Wf({},r,{onTouchStart:m,onMouseDown:m,className:"react-colorful__interactive",ref:o,onKeyDown:p,tabIndex:0,role:"slider"}))}),Zx=function(e){return e.filter(Boolean).join(" ")},Kj=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,i=Zx(["react-colorful__pointer",e.className]);return qe.createElement("div",{className:i,style:{top:100*o+"%",left:100*n+"%"}},qe.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},kn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},oH=function(e){return cH(jg(e))},jg=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?kn(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?kn(parseInt(e.substring(6,8),16)/255,2):1}},iH=function(e){return aH(lH(e))},sH=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:kn(e.h),s:kn(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:kn(o/2),a:kn(r,2)}},_g=function(e){var t=sH(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},lH=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),l=r*(1-n),c=r*(1-(t-i)*n),d=r*(1-(1-t+i)*n),f=i%6;return{r:kn(255*[r,c,l,l,d,r][f]),g:kn(255*[d,r,r,c,l,l][f]),b:kn(255*[l,l,d,r,r,c][f]),a:kn(o,2)}},ld=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},aH=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=o<1?ld(kn(255*o)):"";return"#"+ld(t)+ld(n)+ld(r)+i},cH=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),l=i-Math.min(t,n,r),c=l?i===t?(n-r)/l:i===n?2+(r-t)/l:4+(t-n)/l:0;return{h:kn(60*(c<0?c+6:c)),s:kn(i?l/i*100:0),v:kn(i/255*100),a:o}},uH=qe.memo(function(e){var t=e.hue,n=e.onChange,r=Zx(["react-colorful__hue",e.className]);return qe.createElement("div",{className:r},qe.createElement(Gj,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:cc(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":kn(t),"aria-valuemax":"360","aria-valuemin":"0"},qe.createElement(Kj,{className:"react-colorful__hue-pointer",left:t/360,color:_g({h:t,s:100,v:100,a:1})})))}),dH=qe.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:_g({h:t.h,s:100,v:100,a:1})};return qe.createElement("div",{className:"react-colorful__saturation",style:r},qe.createElement(Gj,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:cc(t.s+100*o.left,0,100),v:cc(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+kn(t.s)+"%, Brightness "+kn(t.v)+"%"},qe.createElement(Kj,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:_g(t)})))}),Qj=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},fH=function(e,t){return e.toLowerCase()===t.toLowerCase()||Qj(jg(e),jg(t))};function pH(e,t,n){var r=Ng(n),o=S.useState(function(){return e.toHsva(t)}),i=o[0],l=o[1],c=S.useRef({color:t,hsva:i});S.useEffect(function(){if(!e.equal(t,c.current.color)){var f=e.toHsva(t);c.current={hsva:f,color:t},l(f)}},[t,e]),S.useEffect(function(){var f;Qj(i,c.current.hsva)||e.equal(f=e.fromHsva(i),c.current.color)||(c.current={hsva:i,color:f},r(f))},[i,e,r]);var d=S.useCallback(function(f){l(function(m){return Object.assign({},m,f)})},[]);return[i,d]}var hH=typeof window<"u"?S.useLayoutEffect:S.useEffect,mH=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},S1=new Map,gH=function(e){hH(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!S1.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,S1.set(t,n);var r=mH();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},xH=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,i=e.onChange,l=Xj(e,["className","colorModel","color","onChange"]),c=S.useRef(null);gH(c);var d=pH(n,o,i),f=d[0],m=d[1],p=Zx(["react-colorful",t]);return qe.createElement("div",Wf({},l,{ref:c,className:p}),qe.createElement(dH,{hsva:f,onChange:m}),qe.createElement(uH,{hue:f.h,onChange:m,className:"react-colorful__last-control"}))},yH={defaultColor:"000",toHsva:oH,fromHsva:function(e){return iH({h:e.h,s:e.s,v:e.v,a:1})},equal:fH},vH=function(e){return qe.createElement(xH,Wf({},e,{colorModel:yH}))};function wH({colorSet:e,existingColorSets:t,onSave:n}){const[r,o]=S.useState((e==null?void 0:e.name)||""),[i,l]=S.useState((e==null?void 0:e.type)||"basic"),[c,d]=S.useState((e==null?void 0:e.definition)||""),[f,m]=S.useState((e==null?void 0:e.color)||"#3b82f6"),[p,g]=S.useState((e==null?void 0:e.timed)||!1),[x,b]=S.useState("visual"),[v,w]=S.useState("int"),[k,E]=S.useState(!1),[C,_]=S.useState("1"),[R,P]=S.useState("100"),[T,L]=S.useState([{id:ot(),name:"value1",value:"1"}]),[U,z]=S.useState("INT"),[B,q]=S.useState([]),[G,A]=S.useState([{id:ot(),name:"field1",type:"INT"}]),[O,F]=S.useState("INT"),[X,D]=S.useState("");S.useEffect(()=>{if(e){if(o(e.name),l(e.type),d(e.definition),g(e.timed||!1),e.type==="basic"){const Q=e.definition.match(/colset\s+\w+\s*=\s*(\w+)(?:\s+with\s+(\d+)\.\.(\d+))?/);Q&&(w(Q[1]),Q[2]&&Q[3]&&(E(!0),_(Q[2]),P(Q[3])))}else if(e.type==="list"){const Q=e.definition.match(/list\s+(\w+)/);if(Q){const ie=Q[1],le=t.find(de=>de.name===ie);le&&z(le.name)}}else if(e.type==="product"){const Q=e.definition.match(/product\s+([\w\s\*]+)/);if(Q){const ie=Q[1].split("*").map(le=>le.trim());q(ie)}}else if(e.type==="record"){const Q=e.definition.match(/record\s+([\w\s\:\*]+)/);if(Q){const ie=Q[1].split("*").map(le=>{const[de,fe]=le.split(":").map(xe=>xe.trim());return{id:ot(),name:de,type:fe}});A(ie)}}else if(e.type==="subset"){const Q=e.definition.match(/subset\s+(\w+)\s+by\s+(.+)/);Q&&(F(Q[1]),D(Q[2]))}}},[e,t]);const W=()=>{L([...T,{id:ot(),name:`value${T.length+1}`,value:`${T.length+1}`}])},M=Q=>{L(T.filter(ie=>ie.id!==Q))},H=(Q,ie,le)=>{L(T.map(de=>de.id===Q?{...de,[ie]:le}:de))},Y=Q=>{Q&&!B.includes(Q)&&q([...B,Q])},I=Q=>{q(B.filter((ie,le)=>le!==Q))},V=()=>{A([...G,{id:ot(),name:`field${G.length+1}`,type:"INT"}])},Z=Q=>{A(G.filter(ie=>ie.id!==Q))},J=(Q,ie,le)=>{A(G.map(de=>de.id===Q?{...de,[ie]:le}:de))},K=()=>{let Q=`colset ${r} = `;switch(i){case"basic":Q+=v,k&&(Q+=` with ${C}..${R}`);break;case"enum":Q+=`with ${T.map(ie=>ie.name).join(" | ")}`;break;case"list":Q+=`list ${U}`;break;case"product":Q+=`product ${B.join(" * ")}`;break;case"record":Q+=`record ${G.map(ie=>`${ie.name}: ${ie.type}`).join(" * ")}`;break;case"subset":Q+=`subset ${O} by ${X}`;break;default:Q+=i}return p&&(Q+=" timed"),Q+=";",Q},te=()=>{const Q=x==="text"?c:K();n({name:r,type:i,definition:Q,color:f,timed:p})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"name",children:"Name"}),u.jsx(at,{id:"name",placeholder:"e.g., DATA",value:r,onChange:Q=>o(Q.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"type",children:"Type"}),u.jsxs(mn,{value:i,onValueChange:l,children:[u.jsx(xn,{id:"type",children:u.jsx(gn,{placeholder:"Select type"})}),u.jsxs(yn,{children:[u.jsx(gt,{value:"basic",children:"Basic"}),u.jsx(gt,{value:"enum",children:"Enumerated"}),u.jsx(gt,{value:"list",children:"List"}),u.jsx(gt,{value:"product",children:"Product"}),u.jsx(gt,{value:"record",children:"Record"}),u.jsx(gt,{value:"subset",children:"Subset"}),u.jsx(gt,{value:"union",children:"Union"})]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"color",children:"Color"}),u.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[u.jsx(vH,{color:f,onChange:m}),u.jsx(at,{id:"color",type:"text",value:f,onChange:Q=>m(Q.target.value),className:"w-full mt-2"})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Jx,{id:"timed",checked:p,onCheckedChange:Q=>g(Q===!0)}),u.jsx(je,{htmlFor:"timed",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Timed color set"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"(tokens carry timestamps for timed simulations)"})]}),u.jsxs(pi,{defaultValue:"visual",className:"w-full",onValueChange:b,children:[u.jsxs(hi,{className:"grid w-full grid-cols-2",children:[u.jsx($n,{value:"visual",children:"Visual Editor"}),u.jsx($n,{value:"text",children:"Text Editor"})]}),u.jsxs(br,{value:"visual",className:"space-y-4 pt-4",children:[i==="basic"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{children:"Basic Type"}),u.jsxs(mn,{value:v,onValueChange:w,children:[u.jsx(xn,{children:u.jsx(gn,{placeholder:"Select type"})}),u.jsxs(yn,{children:[u.jsx(gt,{value:"int",children:"Integer"}),u.jsx(gt,{value:"bool",children:"Boolean"}),u.jsx(gt,{value:"string",children:"String"}),u.jsx(gt,{value:"unit",children:"Unit"}),u.jsx(gt,{value:"real",children:"Real"}),u.jsx(gt,{value:"time",children:"Time"})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",id:"withRange",checked:k,onChange:Q=>E(Q.target.checked),className:"rounded border-gray-300"}),u.jsx(je,{htmlFor:"withRange",children:"With Range"})]}),k&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"rangeStart",children:"Range Start"}),u.jsx(at,{id:"rangeStart",type:"number",value:C,onChange:Q=>_(Q.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"rangeEnd",children:"Range End"}),u.jsx(at,{id:"rangeEnd",type:"number",value:R,onChange:Q=>P(Q.target.value)})]})]})]}),i==="enum"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(je,{children:"Enumerated Values"}),T.map(Q=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(at,{placeholder:"Name",value:Q.name,onChange:ie=>H(Q.id,"name",ie.target.value),className:"flex-1"}),u.jsx(at,{placeholder:"Value",value:Q.value,onChange:ie=>H(Q.id,"value",ie.target.value),className:"w-24"}),u.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>M(Q.id),children:u.jsx(sr,{className:"h-4 w-4"})})]},Q.id)),u.jsxs(ge,{variant:"outline",size:"sm",onClick:W,className:"mt-2",children:[u.jsx(Xm,{className:"h-4 w-4 mr-2"}),"Add Value"]})]}),i==="list"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{children:"Base Color Set"}),u.jsxs(mn,{value:U||"INT",onValueChange:z,children:[u.jsx(xn,{children:u.jsx(gn,{placeholder:"Select base color set"})}),u.jsx(yn,{children:t.map(Q=>u.jsx(gt,{value:Q.name,children:Q.name},Q.id))})]})]}),i==="product"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(je,{children:"Product Color Sets"}),B.map((Q,ie)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"flex-1 border rounded-md px-3 py-2",children:Q}),u.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>I(ie),children:u.jsx(sr,{className:"h-4 w-4"})})]},ie)),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsxs(mn,{defaultValue:"INT",onValueChange:Y,children:[u.jsx(xn,{children:u.jsx(gn,{placeholder:"Add color set"})}),u.jsx(yn,{children:t.map(Q=>u.jsx(gt,{value:Q.name,children:Q.name},Q.id))})]})})]}),i==="record"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(je,{children:"Record Fields"}),G.map(Q=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(at,{placeholder:"Field name",value:Q.name,onChange:ie=>J(Q.id,"name",ie.target.value),className:"flex-1"}),u.jsxs(mn,{value:Q.type,onValueChange:ie=>J(Q.id,"type",ie),children:[u.jsx(xn,{className:"w-[140px]",children:u.jsx(gn,{placeholder:"Type"})}),u.jsx(yn,{children:t.map(ie=>u.jsx(gt,{value:ie.name,children:ie.name},ie.id))})]}),u.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>Z(Q.id),children:u.jsx(sr,{className:"h-4 w-4"})})]},Q.id)),u.jsxs(ge,{variant:"outline",size:"sm",onClick:V,className:"mt-2",children:[u.jsx(Xm,{className:"h-4 w-4 mr-2"}),"Add Field"]})]}),i==="subset"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{children:"Subset of"}),u.jsxs(mn,{value:O||"INT",onValueChange:F,children:[u.jsx(xn,{children:u.jsx(gn,{placeholder:"Select parent color set"})}),u.jsx(yn,{children:t.map(Q=>u.jsx(gt,{value:Q.name,children:Q.name},Q.id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"predicate",children:"Predicate"}),u.jsx(at,{id:"predicate",placeholder:"e.g., x => x > 0",value:X,onChange:Q=>D(Q.target.value)})]})]}),u.jsxs("div",{className:"pt-4",children:[u.jsx(je,{children:"Preview"}),u.jsx("div",{className:"font-mono text-sm mt-2 p-3 bg-muted rounded-md",children:K()})]})]}),u.jsx(br,{value:"text",className:"pt-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"definition",children:"Color Set Definition"}),u.jsx(wl,{id:"definition",placeholder:"colset DATA = int with 1..100;",className:"font-mono h-[200px]",value:c,onChange:Q=>d(Q.target.value)})]})})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ge,{onClick:te,className:"w-full",children:"Save Color Set"})})]})}function bH({variable:e,existingColorSets:t,onSave:n}){const[r,o]=S.useState((e==null?void 0:e.name)||""),[i,l]=S.useState((e==null?void 0:e.colorSet)||"INT");S.useEffect(()=>{e&&(o(e.name),l(e.colorSet))},[e]);const c=()=>{n({name:r,colorSet:i})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(je,{htmlFor:"name",children:"Name"}),u.jsx(at,{id:"name",placeholder:"e.g., n",value:r,onChange:d=>o(d.target.value)})]}),u.jsx("div",{className:"space-y-2 flex-none mt-auto pb-2",children:":"}),u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(je,{htmlFor:"baseColorSet",children:"Type"}),u.jsxs(mn,{value:i||"INT",onValueChange:l,children:[u.jsx(xn,{children:u.jsx(gn,{placeholder:"Select color set"})}),u.jsx(yn,{children:t.map(d=>u.jsx(gt,{value:d.name,children:d.name},d.id))})]})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ge,{onClick:c,className:"w-full",children:"Save Variable"})})]})}function SH({priority:e,onSave:t}){const[n,r]=S.useState((e==null?void 0:e.name)||""),[o,i]=S.useState((e==null?void 0:e.level)||100);S.useEffect(()=>{e&&(r(e.name),i(e.level))},[e]);const l=()=>{t({name:n,level:o})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(je,{htmlFor:"name",children:"Name"}),u.jsx(at,{placeholder:"Name (e.g., P_MEDIUM)",className:"flex-1",value:n,onChange:c=>r(c.target.value)})]}),u.jsxs("div",{className:"space-y-2 flex-none",children:[u.jsx(je,{htmlFor:"baseColorSet",children:"Level"}),u.jsx(at,{type:"number",placeholder:"Level (e.g., 250)",className:"w-[120px]",value:o||"",onChange:c=>i(Number(c.target.value))})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ge,{onClick:l,className:"w-full",children:"Save Priority"})})]})}function kH({existingFunction:e,onSave:t}){const[n,r]=S.useState(e||{id:ot(),name:"",code:""}),[o,i]=S.useState(e?e.code:"fn add(x,y) {x+y}"),l=d=>{i(d)},c=()=>{const d=o.split(" ")[1].split("(")[0].trim(),m={...n,name:d,code:o};r(m),t(m)};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"raw-code",children:"Function Definition"}),u.jsx(wl,{id:"raw-code",ref:d=>{d&&d.focus()},onFocus:d=>d.currentTarget.setSelectionRange(d.currentTarget.value.length,d.currentTarget.value.length),placeholder:"fn add(x,y) {x+y}",className:"font-mono h-[240px]",value:o,onChange:d=>l(d.target.value)})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ge,{onClick:c,className:"w-full",children:"Save Function"})})]})}function CH({existingUse:e,onSave:t}){const[n,r]=S.useState({name:(e==null?void 0:e.name)||"",content:(e==null?void 0:e.content)||""}),[o,i]=S.useState(!1),l=()=>{n.name.trim()&&t(n)},c=p=>{const g=new FileReader;if(g.onload=x=>{var v;const b=(v=x.target)==null?void 0:v.result;r(w=>({...w,content:b}))},g.readAsText(p),!n.name.trim()&&p.name){const x=p.name;r(b=>({...b,name:x}))}},d=p=>{p.preventDefault(),i(!0)},f=()=>{i(!1)},m=p=>{if(p.preventDefault(),i(!1),p.dataTransfer.files&&p.dataTransfer.files.length>0){const g=p.dataTransfer.files[0];c(g)}};return u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"use-name",children:"Name"}),u.jsx(at,{id:"use-name",placeholder:"e.g., Utils.sml",value:n.name,onChange:p=>r({...n,name:p.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx(je,{htmlFor:"use-content",children:"Content"})}),u.jsxs("div",{className:"relative",children:[u.jsx(wl,{id:"use-content",placeholder:"Enter the content of the external file or drag and drop a file here...",className:`font-mono h-[300px] max-w-[550px] transition-colors ${o?"border-primary bg-primary/5":""}`,value:n.content,onChange:p=>r({...n,content:p.target.value}),onDragOver:d,onDragLeave:f,onDrop:m}),o&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-primary/10 border-2 border-dashed border-primary rounded-md pointer-events-none",children:u.jsx("div",{className:"bg-background p-3 rounded-md shadow-md",children:u.jsx("p",{className:"text-sm font-medium",children:"Drop file to import content"})})})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["This content will be included as an external file reference in the CPN model. You can edit it manually or",u.jsx("strong",{children:" drag and drop a file"})," directly onto the text area to import its content."]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ge,{className:"w-full",type:"submit",onClick:l,children:"Save Library"})})]})}var qf="Collapsible",[NH,Jj]=Tn(qf),[EH,ey]=NH(qf),Zj=S.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:i,onOpenChange:l,...c}=e,[d,f]=In({prop:r,defaultProp:o??!1,onChange:l,caller:qf});return u.jsx(EH,{scope:n,disabled:i,contentId:wr(),open:d,onOpenToggle:S.useCallback(()=>f(m=>!m),[f]),children:u.jsx(Ue.div,{"data-state":oy(d),"data-disabled":i?"":void 0,...c,ref:t})})});Zj.displayName=qf;var e_="CollapsibleTrigger",ty=S.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,o=ey(e_,n);return u.jsx(Ue.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":oy(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:t,onClick:Re(e.onClick,o.onOpenToggle)})});ty.displayName=e_;var ny="CollapsibleContent",ry=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ey(ny,e.__scopeCollapsible);return u.jsx(Rn,{present:n||o.open,children:({present:i})=>u.jsx(jH,{...r,ref:t,present:i})})});ry.displayName=ny;var jH=S.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:o,...i}=e,l=ey(ny,n),[c,d]=S.useState(r),f=S.useRef(null),m=st(t,f),p=S.useRef(0),g=p.current,x=S.useRef(0),b=x.current,v=l.open||c,w=S.useRef(v),k=S.useRef(void 0);return S.useEffect(()=>{const E=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(E)},[]),vn(()=>{const E=f.current;if(E){k.current=k.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const C=E.getBoundingClientRect();p.current=C.height,x.current=C.width,w.current||(E.style.transitionDuration=k.current.transitionDuration,E.style.animationName=k.current.animationName),d(r)}},[l.open,r]),u.jsx(Ue.div,{"data-state":oy(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!v,...i,ref:m,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:v&&o})});function oy(e){return e?"open":"closed"}var t_=Zj,_H=ty,PH=ry;function xa({...e}){return u.jsx(t_,{"data-slot":"collapsible",...e})}function ya({...e}){return u.jsx(ty,{"data-slot":"collapsible-trigger",...e})}function va({...e}){return u.jsx(ry,{"data-slot":"collapsible-content",...e})}function AH(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),[o,i]=S.useState(!1),[l,c]=S.useState(!1),[d,f]=S.useState(!1),m=me(re=>re.colorSets),p=me(re=>re.setColorSets),g=me(re=>re.addColorSet),x=me(re=>re.deleteColorSet),b=me(re=>re.renameColorSet),v=me(re=>re.variables),w=me(re=>re.setVariables),k=me(re=>re.addVariable),E=me(re=>re.deleteVariable),C=me(re=>re.priorities),_=me(re=>re.setPriorities),R=me(re=>re.addPriority),P=me(re=>re.deletePriority),T=me(re=>re.functions),L=me(re=>re.setFunctions),U=me(re=>re.addFunction),z=me(re=>re.deleteFunction),B=me(re=>re.uses),q=me(re=>re.setUses),G=me(re=>re.addUse),A=me(re=>re.deleteUse),[O,F]=S.useState({name:"",colorSet:"INT"}),[X,D]=S.useState({name:"",level:250}),[W,M]=S.useState(void 0),[H,Y]=S.useState(!1),[I,V]=S.useState(void 0),[Z,J]=S.useState(!1),[K,te]=S.useState(void 0),[Q,ie]=S.useState(!1),[le,de]=S.useState(void 0),[fe,xe]=S.useState(!1),[De,Me]=S.useState(void 0),[it,nt]=S.useState(!1),[et,ke]=S.useState(null),[We,lt]=S.useState(null),vt=()=>{O.name&&O.colorSet&&(k({name:O.name,colorSet:O.colorSet}),F({name:"",colorSet:"INT"}))},Et=()=>{X.name&&X.level&&(R({name:X.name,level:Number(X.level)}),D({name:"",level:100}))},It=re=>{M(re),Y(!0)},ue=re=>{V(re),J(!0)},pe=re=>{te(re),ie(!0)},Ae=re=>{de(re),xe(!0)},_e=re=>{if(le){const Ce=T.map(Be=>Be.id===le.id?{...Be,...re}:Be);L(Ce)}else U(re);xe(!1),de(void 0)},Ye=re=>{Me(re),nt(!0)},ut=re=>{if(De){const Ce=B.map(Be=>Be.id===De.id?{...Be,...re}:Be);q(Ce)}else G(re);nt(!1),Me(void 0)},bt=re=>{if(W){W.name!==re.name&&W.id&&b(W.id,re.name);const Ce=m.map(Be=>Be.id===W.id?{...Be,...re}:Be);p(Ce)}else g(re);Y(!1),M(void 0)},Ct=re=>{if(I){const Ce=v.map(Be=>Be.id===I.id?{...Be,...re}:Be);w(Ce)}else k(re);J(!1),V(void 0)},Tt=re=>{if(K){const Ce=C.map(Be=>Be.id===K.id?{...Be,...re}:Be);_(Ce)}else R(re);ie(!1),te(void 0)},_t=(re,Ce,Be)=>{ke(Ce),lt(Be),re.dataTransfer.effectAllowed="move",re.dataTransfer.setData("text/plain",Ce.id??"")},pt=(re,Ce)=>{re.preventDefault(),re.dataTransfer.dropEffect="move",et&&et.id!==Ce.id&&re.currentTarget.classList.add("bg-muted")},Pt=re=>{re.currentTarget.classList.remove("bg-muted")},he=(re,Ce)=>{if(re.preventDefault(),re.currentTarget.classList.remove("bg-muted"),!(!et||!We)&&et.id!==Ce.id){if(We==="colorSet"){const Ee=[...m],Ze=Ee.findIndex(Oe=>Oe.id===et.id),Fe=Ee.findIndex(Oe=>Oe.id===Ce.id);Ze!==-1&&Fe!==-1&&(Ee.splice(Ze,1),Ee.splice(Fe,0,et),p(Ee))}else if(We==="variable"){const Ee=[...v],Ze=Ee.findIndex(Oe=>Oe.id===et.id),Fe=Ee.findIndex(Oe=>Oe.id===Ce.id);Ze!==-1&&Fe!==-1&&(Ee.splice(Ze,1),Ee.splice(Fe,0,et),w(Ee))}else if(We==="priority"){const Ee=[...C],Ze=Ee.findIndex(Oe=>Oe.id===et.id),Fe=Ee.findIndex(Oe=>Oe.id===Ce.id);Ze!==-1&&Fe!==-1&&(Ee.splice(Ze,1),Ee.splice(Fe,0,et),_(Ee))}else if(We==="function"){const Ee=[...T],Ze=Ee.findIndex(Oe=>Oe.id===et.id),Fe=Ee.findIndex(Oe=>Oe.id===Ce.id);Ze!==-1&&Fe!==-1&&(Ee.splice(Ze,1),Ee.splice(Fe,0,et),L(Ee))}ke(null),lt(null)}},Ne=()=>{ke(null),lt(null)};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"space-y-3",children:u.jsxs(xa,{open:n,onOpenChange:r,children:[u.jsx(ya,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ge,{variant:"ghost",size:"sm",children:[n?u.jsx(ti,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Fi,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Color Sets"})]})}),u.jsxs(va,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:m.map(re=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Ce=>_t(Ce,re,"colorSet"),onDragOver:Ce=>pt(Ce,re),onDragLeave:Pt,onDrop:Ce=>he(Ce,re),onDragEnd:Ne,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})}),u.jsx("div",{className:"font-mono text-sm",children:re.definition.replace(/^colset\s+/i,"").replace(/;$/,"")}),re.timed&&u.jsx("span",{title:"Timed color set",children:u.jsx(Gg,{className:"h-3.5 w-3.5 text-muted-foreground"})})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:re.color||"#3b82f6"}}),u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>It(re),children:u.jsx(fa,{className:"h-3 w-3"})}),u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>re.id&&x(re.id),children:u.jsx(sr,{className:"h-3 w-3"})})]})]})},re.id))}),u.jsxs(rn,{open:H,onOpenChange:Y,children:[u.jsx(Pm,{asChild:!0,children:u.jsx(ge,{className:"w-full",variant:"outline",onClick:()=>{M(void 0),Y(!0)},children:"Create New Color Set"})}),u.jsxs(on,{className:"sm:max-w-[600px]",children:[u.jsx(sn,{children:u.jsx(ln,{children:W?`Edit Color Set: ${W.name}`:"Create New Color Set"})}),u.jsx(wH,{colorSet:W,existingColorSets:m,onSave:bt})]})]})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(xa,{open:o,onOpenChange:i,children:[u.jsx(ya,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ge,{variant:"ghost",size:"sm",children:[o?u.jsx(ti,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Fi,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Variables"})]})}),u.jsxs(va,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:v.map(re=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Ce=>_t(Ce,re,"variable"),onDragOver:Ce=>pt(Ce,re),onDragLeave:Pt,onDrop:Ce=>he(Ce,re),onDragEnd:Ne,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"font-mono text-sm",children:["var ",re.name,": ",re.colorSet,";"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>ue(re),children:u.jsx(fa,{className:"h-3 w-3"})}),u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>re.id&&E(re.id),children:u.jsx(sr,{className:"h-3 w-3"})})]})]})},re.id))}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(at,{placeholder:"Name (e.g., n)",className:"flex-1",value:O.name,onChange:re=>F({...O,name:re.target.value})})," :",u.jsxs(mn,{value:O.colorSet,onValueChange:re=>F({...O,colorSet:re}),children:[u.jsx(xn,{className:"w-[180px]",children:u.jsx(gn,{placeholder:"Color Set"})}),u.jsx(yn,{children:m.map(re=>u.jsx(gt,{value:re.name,children:re.name},re.id))})]})]}),u.jsx(ge,{size:"sm",variant:"outline",onClick:vt,children:"Add Variable"}),u.jsx(rn,{open:Z,onOpenChange:J,children:u.jsxs(on,{className:"sm:max-w-[600px]",children:[u.jsx(sn,{children:u.jsx(ln,{children:I?`Edit Variable: ${I.name}`:"Create New Variable"})}),u.jsx(bH,{variable:I,existingColorSets:m,onSave:Ct})]})})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(xa,{open:l,onOpenChange:c,children:[u.jsx(ya,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ge,{variant:"ghost",size:"sm",children:[l?u.jsx(ti,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Fi,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Functions"})]})}),u.jsxs(va,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:T.map(re=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Ce=>_t(Ce,re,"function"),onDragOver:Ce=>pt(Ce,re),onDragLeave:Pt,onDrop:Ce=>he(Ce,re),onDragEnd:Ne,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"font-mono text-sm",children:["fn ",re.name]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>Ae(re),children:u.jsx(fa,{className:"h-3 w-3"})}),u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>re.id&&z(re.id),children:u.jsx(sr,{className:"h-3 w-3"})})]})]})},re.id))}),u.jsxs(rn,{open:fe,onOpenChange:xe,children:[u.jsx(Pm,{asChild:!0,children:u.jsx(ge,{className:"w-full",variant:"outline",onClick:()=>de(void 0),children:"Create New Function"})}),u.jsxs(on,{className:"sm:max-w-[600px]",children:[u.jsx(sn,{children:u.jsx(ln,{children:le?`Edit Function: ${le.name}`:"Create New Function"})}),u.jsx(kH,{existingFunction:le,onSave:_e})]})]})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(xa,{open:d,onOpenChange:f,children:[u.jsx(ya,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ge,{variant:"ghost",size:"sm",children:[d?u.jsx(ti,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Fi,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Libraries"})]})}),u.jsxs(va,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:B.map(re=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:Ce=>_t(Ce,re,"use"),onDragOver:Ce=>pt(Ce,re),onDragLeave:Pt,onDrop:Ce=>he(Ce,re),onDragEnd:Ne,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"font-mono text-sm",children:['use "',re.name,'";']})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>Ye(re),children:u.jsx(fa,{className:"h-3 w-3"})}),u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>re.id&&A(re.id),children:u.jsx(sr,{className:"h-3 w-3"})})]})]})},re.id))}),u.jsxs(rn,{open:it,onOpenChange:nt,children:[u.jsx(Pm,{asChild:!0,children:u.jsx(ge,{className:"w-full",variant:"outline",onClick:()=>Me(void 0),children:"Add External Library"})}),u.jsxs(on,{className:"sm:max-w-[600px]",children:[u.jsx(sn,{children:u.jsx(ln,{children:De?"Edit External Library":"Add External Library"})}),u.jsx(CH,{existingUse:De,onSave:ut})]})]})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(xa,{open:e,onOpenChange:t,children:[u.jsx(ya,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ge,{variant:"ghost",size:"sm",children:[e?u.jsx(ti,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Fi,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Priorities"})]})}),u.jsxs(va,{className:"space-y-3 mb-8",children:[u.jsx("div",{className:"space-y-2",children:C.slice().sort((re,Ce)=>re.level-Ce.level).map(re=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{className:"font-mono text-sm",children:[re.name," = ",re.level]})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>pe(re),children:u.jsx(fa,{className:"h-3 w-3"})}),u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>re.id&&P(re.id),children:u.jsx(sr,{className:"h-3 w-3"})})]})]})},re.id))}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(at,{placeholder:"Name (e.g., P_MEDIUM)",className:"flex-1",value:X.name,onChange:re=>D({...X,name:re.target.value})}),u.jsx(at,{type:"number",placeholder:"Level (e.g., 250)",className:"w-[120px]",value:X.level||"",onChange:re=>D({...X,level:Number.parseInt(re.target.value)||0})})]}),u.jsx(ge,{size:"sm",variant:"outline",onClick:Et,children:"Add Priority"}),u.jsx(rn,{open:Q,onOpenChange:ie,children:u.jsxs(on,{className:"sm:max-w-[600px]",children:[u.jsx(sn,{children:u.jsx(ln,{children:K?`Edit Priority: ${K.name}`:"Create New Priority"})}),u.jsx(SH,{priority:K,onSave:Tt})]})})]})]})})]})}const IH=()=>{var o;const e=me(i=>{const l=i.activePetriNetId?i.petriNetsById[i.activePetriNetId]:null;return l==null?void 0:l.selectedElement}),t=me(i=>i.colorSets),n=me(i=>i.priorities),r=()=>{if(!e)return u.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Select an element to edit its properties"});if(e.type==="node"){const i=e.element.type;if(i==="place")return u.jsx(uV,{colorSets:t});if(i==="transition")return u.jsx(hV,{priorities:n});if(i==="auxText")return u.jsx(mV,{})}else if(e.type==="edge")return u.jsx(gV,{});return null};return u.jsxs(Oa,{defaultSize:20,className:"min-w-[400px] flex flex-col h-full overflow-hidden",children:[u.jsx("div",{className:"px-4 py-2 flex-shrink-0",children:u.jsx("h3",{className:"text-lg font-medium",children:"OCPN Tools"})}),u.jsx("div",{className:"px-4 py-2 flex-1 flex flex-col overflow-hidden",children:u.jsxs(pi,{defaultValue:"model",className:"flex flex-col flex-1 overflow-hidden",children:[u.jsxs(hi,{className:"grid w-full grid-cols-2 flex-shrink-0",children:[u.jsx($n,{value:"model",children:"Model"}),u.jsx($n,{value:"simulation",children:"Simulation"})]}),u.jsx(Hd,{value:"model",className:"space-y-4 mt-2 flex-1 overflow-auto",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"space-y-2",children:u.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("span",{className:"text-sm font-semibold leading-none tracking-tight",children:e?e.type==="node"?e.element.type==="place"?"Place Properties":e.element.type==="auxText"?"Text Properties":"Transition Properties":"Arc Properties":"Element Properties"}),e&&u.jsx(xV,{elementType:e.type==="node"?"node":"edge",elementId:e.element.id,elementLabel:(o=e.element.data)==null?void 0:o.label})]}),u.jsx("div",{children:r()})]})}),u.jsx(Sc,{orientation:"horizontal",className:"mt-2"}),u.jsx("div",{className:"p-4",children:u.jsx(AH,{})})]})}),u.jsx(Hd,{value:"simulation",className:"mt-2 flex-1 overflow-hidden",children:u.jsx(ZV,{})})]})})]})},TH="modulepreload",RH=function(e){return"/ocpn-tools/"+e},k1={},C1=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=l(n.map(f=>{if(f=RH(f),f in k1)return;k1[f]=!0;const m=f.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":TH,m||(g.as="script"),g.crossOrigin="",g.href=f,d&&g.setAttribute("nonce",d),document.head.appendChild(g),m)return new Promise((x,b)=>{g.addEventListener("load",x),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};function MH(e){const t=me(l=>l.setNodes),n=me(l=>l.setEdges),r=S.useCallback(l=>{var f;const c=((f=me.getState().petriNetsById[e])==null?void 0:f.nodes)||[],d=zC(l,c);t(e,d)},[e,t]),o=S.useCallback(l=>{var f;const c=((f=me.getState().petriNetsById[e])==null?void 0:f.edges)||[],d=$C(l,c);n(e,d)},[e,n]),i=S.useCallback(l=>{var f;const c={...l,id:ot(),type:"floating",label:"",animated:!1},d=((f=me.getState().petriNetsById[e])==null?void 0:f.edges)||[];n(e,[...d,c])},[e,n]);return{onNodesChange:r,onEdgesChange:o,onConnect:i}}const N1=e=>Symbol.iterator in e,E1=e=>"entries"in e,j1=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[o,i]of n)if(!r.has(o)||!Object.is(i,r.get(o)))return!1;return!0},DH=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let o=n.next(),i=r.next();for(;!o.done&&!i.done;){if(!Object.is(o.value,i.value))return!1;o=n.next(),i=r.next()}return!!o.done&&!!i.done};function OH(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:N1(e)&&N1(t)?E1(e)&&E1(t)?j1(e,t):DH(e,t):j1({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function LH(e){const t=qe.useRef(void 0);return n=>{const r=e(n);return OH(t.current,r)?t.current:t.current=r}}var n_="Toggle",iy=S.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:o,...i}=e,[l,c]=In({prop:n,onChange:o,defaultProp:r??!1,caller:n_});return u.jsx(Ue.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:Re(e.onClick,()=>{e.disabled||c(!l)})})});iy.displayName=n_;var zH=iy;const r_=zf("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function _1({className:e,variant:t,size:n,...r}){return u.jsx(zH,{"data-slot":"toggle",className:Xe(r_({variant:t,size:n,className:e})),...r})}var[Yf]=Tn("Tooltip",[kl]),Xf=kl(),o_="TooltipProvider",$H=700,Pg="tooltip.open",[FH,sy]=Yf(o_),i_=e=>{const{__scopeTooltip:t,delayDuration:n=$H,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=e,l=S.useRef(!0),c=S.useRef(!1),d=S.useRef(0);return S.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),u.jsx(FH,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:S.useCallback(f=>{c.current=f},[]),disableHoverableContent:o,children:i})};i_.displayName=o_;var uc="Tooltip",[BH,_c]=Yf(uc),s_=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o,onOpenChange:i,disableHoverableContent:l,delayDuration:c}=e,d=sy(uc,e.__scopeTooltip),f=Xf(t),[m,p]=S.useState(null),g=wr(),x=S.useRef(0),b=l??d.disableHoverableContent,v=c??d.delayDuration,w=S.useRef(!1),[k,E]=In({prop:r,defaultProp:o??!1,onChange:T=>{T?(d.onOpen(),document.dispatchEvent(new CustomEvent(Pg))):d.onClose(),i==null||i(T)},caller:uc}),C=S.useMemo(()=>k?w.current?"delayed-open":"instant-open":"closed",[k]),_=S.useCallback(()=>{window.clearTimeout(x.current),x.current=0,w.current=!1,E(!0)},[E]),R=S.useCallback(()=>{window.clearTimeout(x.current),x.current=0,E(!1)},[E]),P=S.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{w.current=!0,E(!0),x.current=0},v)},[v,E]);return S.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),u.jsx(Lx,{...f,children:u.jsx(BH,{scope:t,contentId:g,open:k,stateAttribute:C,trigger:m,onTriggerChange:p,onTriggerEnter:S.useCallback(()=>{d.isOpenDelayedRef.current?P():_()},[d.isOpenDelayedRef,P,_]),onTriggerLeave:S.useCallback(()=>{b?R():(window.clearTimeout(x.current),x.current=0)},[R,b]),onOpen:_,onClose:R,disableHoverableContent:b,children:n})})};s_.displayName=uc;var Ag="TooltipTrigger",l_=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=_c(Ag,n),i=sy(Ag,n),l=Xf(n),c=S.useRef(null),d=st(t,c,o.onTriggerChange),f=S.useRef(!1),m=S.useRef(!1),p=S.useCallback(()=>f.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),u.jsx(If,{asChild:!0,...l,children:u.jsx(Ue.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:d,onPointerMove:Re(e.onPointerMove,g=>{g.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:Re(e.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:Re(e.onPointerDown,()=>{o.open&&o.onClose(),f.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Re(e.onFocus,()=>{f.current||o.onOpen()}),onBlur:Re(e.onBlur,o.onClose),onClick:Re(e.onClick,o.onClose)})})});l_.displayName=Ag;var ly="TooltipPortal",[VH,HH]=Yf(ly,{forceMount:void 0}),a_=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:o}=e,i=_c(ly,t);return u.jsx(VH,{scope:t,forceMount:n,children:u.jsx(Rn,{present:n||i.open,children:u.jsx(Ec,{asChild:!0,container:o,children:r})})})};a_.displayName=ly;var fl="TooltipContent",c_=S.forwardRef((e,t)=>{const n=HH(fl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=e,l=_c(fl,e.__scopeTooltip);return u.jsx(Rn,{present:r||l.open,children:l.disableHoverableContent?u.jsx(u_,{side:o,...i,ref:t}):u.jsx(UH,{side:o,...i,ref:t})})}),UH=S.forwardRef((e,t)=>{const n=_c(fl,e.__scopeTooltip),r=sy(fl,e.__scopeTooltip),o=S.useRef(null),i=st(t,o),[l,c]=S.useState(null),{trigger:d,onClose:f}=n,m=o.current,{onPointerInTransitChange:p}=r,g=S.useCallback(()=>{c(null),p(!1)},[p]),x=S.useCallback((b,v)=>{const w=b.currentTarget,k={x:b.clientX,y:b.clientY},E=XH(k,w.getBoundingClientRect()),C=GH(k,E),_=KH(v.getBoundingClientRect()),R=JH([...C,..._]);c(R),p(!0)},[p]);return S.useEffect(()=>()=>g(),[g]),S.useEffect(()=>{if(d&&m){const b=w=>x(w,m),v=w=>x(w,d);return d.addEventListener("pointerleave",b),m.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",b),m.removeEventListener("pointerleave",v)}}},[d,m,x,g]),S.useEffect(()=>{if(l){const b=v=>{const w=v.target,k={x:v.clientX,y:v.clientY},E=(d==null?void 0:d.contains(w))||(m==null?void 0:m.contains(w)),C=!QH(k,l);E?g():C&&(g(),f())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[d,m,l,f,g]),u.jsx(u_,{...e,ref:i})}),[WH,qH]=Yf(uc,{isInside:!1}),YH=G$("TooltipContent"),u_=S.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:l,...c}=e,d=_c(fl,n),f=Xf(n),{onClose:m}=d;return S.useEffect(()=>(document.addEventListener(Pg,m),()=>document.removeEventListener(Pg,m)),[m]),S.useEffect(()=>{if(d.trigger){const p=g=>{const x=g.target;x!=null&&x.contains(d.trigger)&&m()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,m]),u.jsx(Cc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:p=>p.preventDefault(),onDismiss:m,children:u.jsxs(zx,{"data-state":d.stateAttribute,...f,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(YH,{children:r}),u.jsx(WH,{scope:n,isInside:!0,children:u.jsx(uB,{id:d.contentId,role:"tooltip",children:o||r})})]})})});c_.displayName=fl;var d_="TooltipArrow",f_=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Xf(n);return qH(d_,n).isInside?null:u.jsx($x,{...o,...r,ref:t})});f_.displayName=d_;function XH(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function GH(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function KH(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function QH(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const c=t[i],d=t[l],f=c.x,m=c.y,p=d.x,g=d.y;m>r!=g>r&&n<(p-f)*(r-m)/(g-m)+f&&(o=!o)}return o}function JH(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ZH(t)}function ZH(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(o.y-l.y)>=(i.y-l.y)*(o.x-l.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const i=n[n.length-1],l=n[n.length-2];if((i.x-l.x)*(o.y-l.y)>=(i.y-l.y)*(o.x-l.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var e8=i_,t8=s_,n8=l_,r8=a_,o8=c_,i8=f_;function Pn({delayDuration:e=0,...t}){return u.jsx(e8,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function an({...e}){return u.jsx(Pn,{children:u.jsx(t8,{"data-slot":"tooltip",...e})})}function cn({...e}){return u.jsx(n8,{"data-slot":"tooltip-trigger",...e})}function un({className:e,sideOffset:t=0,children:n,...r}){return u.jsx(r8,{children:u.jsxs(o8,{"data-slot":"tooltip-content",sideOffset:t,className:Xe("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,u.jsx(i8,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}var Gf="Popover",[p_]=Tn(Gf,[kl]),Pc=kl(),[s8,xi]=p_(Gf),h_=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:l=!1}=e,c=Pc(t),d=S.useRef(null),[f,m]=S.useState(!1),[p,g]=In({prop:r,defaultProp:o??!1,onChange:i,caller:Gf});return u.jsx(Lx,{...c,children:u.jsx(s8,{scope:t,contentId:wr(),triggerRef:d,open:p,onOpenChange:g,onOpenToggle:S.useCallback(()=>g(x=>!x),[g]),hasCustomAnchor:f,onCustomAnchorAdd:S.useCallback(()=>m(!0),[]),onCustomAnchorRemove:S.useCallback(()=>m(!1),[]),modal:l,children:n})})};h_.displayName=Gf;var m_="PopoverAnchor",l8=S.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=xi(m_,n),i=Pc(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=o;return S.useEffect(()=>(l(),()=>c()),[l,c]),u.jsx(If,{...i,...r,ref:t})});l8.displayName=m_;var g_="PopoverTrigger",x_=S.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=xi(g_,n),i=Pc(n),l=st(t,o.triggerRef),c=u.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":S_(o.open),...r,ref:l,onClick:Re(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?c:u.jsx(If,{asChild:!0,...i,children:c})});x_.displayName=g_;var ay="PopoverPortal",[a8,c8]=p_(ay,{forceMount:void 0}),y_=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,i=xi(ay,t);return u.jsx(a8,{scope:t,forceMount:n,children:u.jsx(Rn,{present:n||i.open,children:u.jsx(Ec,{asChild:!0,container:o,children:r})})})};y_.displayName=ay;var pl="PopoverContent",v_=S.forwardRef((e,t)=>{const n=c8(pl,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,i=xi(pl,e.__scopePopover);return u.jsx(Rn,{present:r||i.open,children:i.modal?u.jsx(d8,{...o,ref:t}):u.jsx(f8,{...o,ref:t})})});v_.displayName=pl;var u8=cl("PopoverContent.RemoveScroll"),d8=S.forwardRef((e,t)=>{const n=xi(pl,e.__scopePopover),r=S.useRef(null),o=st(t,r),i=S.useRef(!1);return S.useEffect(()=>{const l=r.current;if(l)return Fx(l)},[]),u.jsx(Mf,{as:u8,allowPinchZoom:!0,children:u.jsx(w_,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),i.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Re(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Re(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),f8=S.forwardRef((e,t)=>{const n=xi(pl,e.__scopePopover),r=S.useRef(!1),o=S.useRef(!1);return u.jsx(w_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),w_=S.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,...p}=e,g=xi(pl,n),x=Pc(n);return _x(),u.jsx(Nf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:u.jsx(Cc,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:u.jsx(zx,{"data-state":S_(g.open),role:"dialog",id:g.contentId,...x,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),b_="PopoverClose",p8=S.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=xi(b_,n);return u.jsx(Ue.button,{type:"button",...r,ref:t,onClick:Re(e.onClick,()=>o.onOpenChange(!1))})});p8.displayName=b_;var h8="PopoverArrow",m8=S.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Pc(n);return u.jsx($x,{...o,...r,ref:t})});m8.displayName=h8;function S_(e){return e?"open":"closed"}var g8=h_,x8=x_,y8=y_,v8=v_;function w8({...e}){return u.jsx(g8,{"data-slot":"popover",...e})}function b8({...e}){return u.jsx(x8,{"data-slot":"popover-trigger",...e})}function S8({className:e,align:t="center",sideOffset:n=4,...r}){return u.jsx(y8,{children:u.jsx(v8,{"data-slot":"popover-content",align:t,sideOffset:n,className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}var k_=["PageUp","PageDown"],C_=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],N_={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Nl="Slider",[Ig,k8,C8]=kf(Nl),[E_]=Tn(Nl,[C8]),[N8,Kf]=E_(Nl),j_=S.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:i=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[r],value:m,onValueChange:p=()=>{},onValueCommit:g=()=>{},inverted:x=!1,form:b,...v}=e,w=S.useRef(new Set),k=S.useRef(0),C=l==="horizontal"?E8:j8,[_=[],R]=In({prop:m,defaultProp:f,onChange:B=>{var G;(G=[...w.current][k.current])==null||G.focus(),p(B)}}),P=S.useRef(_);function T(B){const q=T8(_,B);z(B,q)}function L(B){z(B,k.current)}function U(){const B=P.current[k.current];_[k.current]!==B&&g(_)}function z(B,q,{commit:G}={commit:!1}){const A=O8(i),O=L8(Math.round((B-r)/i)*i+r,A),F=sc(O,[r,o]);R((X=[])=>{const D=A8(X,F,q);if(D8(D,d*i)){k.current=D.indexOf(F);const W=String(D)!==String(X);return W&&G&&g(D),W?D:X}else return X})}return u.jsx(N8,{scope:e.__scopeSlider,name:n,disabled:c,min:r,max:o,valueIndexToChangeRef:k,thumbs:w.current,values:_,orientation:l,form:b,children:u.jsx(Ig.Provider,{scope:e.__scopeSlider,children:u.jsx(Ig.Slot,{scope:e.__scopeSlider,children:u.jsx(C,{"aria-disabled":c,"data-disabled":c?"":void 0,...v,ref:t,onPointerDown:Re(v.onPointerDown,()=>{c||(P.current=_)}),min:r,max:o,inverted:x,onSlideStart:c?void 0:T,onSlideMove:c?void 0:L,onSlideEnd:c?void 0:U,onHomeKeyDown:()=>!c&&z(r,0,{commit:!0}),onEndKeyDown:()=>!c&&z(o,_.length-1,{commit:!0}),onStepKeyDown:({event:B,direction:q})=>{if(!c){const O=k_.includes(B.key)||B.shiftKey&&C_.includes(B.key)?10:1,F=k.current,X=_[F],D=i*O*q;z(X+D,F,{commit:!0})}}})})})})});j_.displayName=Nl;var[__,P_]=E_(Nl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),E8=S.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:i,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:f,...m}=e,[p,g]=S.useState(null),x=st(t,C=>g(C)),b=S.useRef(void 0),v=fi(o),w=v==="ltr",k=w&&!i||!w&&i;function E(C){const _=b.current||p.getBoundingClientRect(),R=[0,_.width],T=cy(R,k?[n,r]:[r,n]);return b.current=_,T(C-_.left)}return u.jsx(__,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:u.jsx(A_,{dir:v,"data-orientation":"horizontal",...m,ref:x,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const _=E(C.clientX);l==null||l(_)},onSlideMove:C=>{const _=E(C.clientX);c==null||c(_)},onSlideEnd:()=>{b.current=void 0,d==null||d()},onStepKeyDown:C=>{const R=N_[k?"from-left":"from-right"].includes(C.key);f==null||f({event:C,direction:R?-1:1})}})})}),j8=S.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=e,m=S.useRef(null),p=st(t,m),g=S.useRef(void 0),x=!o;function b(v){const w=g.current||m.current.getBoundingClientRect(),k=[0,w.height],C=cy(k,x?[r,n]:[n,r]);return g.current=w,C(v-w.top)}return u.jsx(__,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:u.jsx(A_,{"data-orientation":"vertical",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const w=b(v.clientY);i==null||i(w)},onSlideMove:v=>{const w=b(v.clientY);l==null||l(w)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:v=>{const k=N_[x?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:k?-1:1})}})})}),A_=S.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:d,...f}=e,m=Kf(Nl,n);return u.jsx(Ue.span,{...f,ref:t,onKeyDown:Re(e.onKeyDown,p=>{p.key==="Home"?(l(p),p.preventDefault()):p.key==="End"?(c(p),p.preventDefault()):k_.concat(C_).includes(p.key)&&(d(p),p.preventDefault())}),onPointerDown:Re(e.onPointerDown,p=>{const g=p.target;g.setPointerCapture(p.pointerId),p.preventDefault(),m.thumbs.has(g)?g.focus():r(p)}),onPointerMove:Re(e.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&o(p)}),onPointerUp:Re(e.onPointerUp,p=>{const g=p.target;g.hasPointerCapture(p.pointerId)&&(g.releasePointerCapture(p.pointerId),i(p))})})}),I_="SliderTrack",T_=S.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Kf(I_,n);return u.jsx(Ue.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});T_.displayName=I_;var Tg="SliderRange",R_=S.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Kf(Tg,n),i=P_(Tg,n),l=S.useRef(null),c=st(t,l),d=o.values.length,f=o.values.map(g=>O_(g,o.min,o.max)),m=d>1?Math.min(...f):0,p=100-Math.max(...f);return u.jsx(Ue.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:c,style:{...e.style,[i.startEdge]:m+"%",[i.endEdge]:p+"%"}})});R_.displayName=Tg;var Rg="SliderThumb",M_=S.forwardRef((e,t)=>{const n=k8(e.__scopeSlider),[r,o]=S.useState(null),i=st(t,c=>o(c)),l=S.useMemo(()=>r?n().findIndex(c=>c.ref.current===r):-1,[n,r]);return u.jsx(_8,{...e,ref:i,index:l})}),_8=S.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...i}=e,l=Kf(Rg,n),c=P_(Rg,n),[d,f]=S.useState(null),m=st(t,E=>f(E)),p=d?l.form||!!d.closest("form"):!0,g=Af(d),x=l.values[r],b=x===void 0?0:O_(x,l.min,l.max),v=I8(r,l.values.length),w=g==null?void 0:g[c.size],k=w?R8(w,b,c.direction):0;return S.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${b}% + ${k}px)`},children:[u.jsx(Ig.ItemSlot,{scope:e.__scopeSlider,children:u.jsx(Ue.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":l.min,"aria-valuenow":x,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...i,ref:m,style:x===void 0?{display:"none"}:e.style,onFocus:Re(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),p&&u.jsx(D_,{name:o??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:x},r)]})});M_.displayName=Rg;var P8="RadioBubbleInput",D_=S.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const o=S.useRef(null),i=st(o,r),l=Tf(t);return S.useEffect(()=>{const c=o.current;if(!c)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const p=new Event("input",{bubbles:!0});m.call(c,t),c.dispatchEvent(p)}},[l,t]),u.jsx(Ue.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});D_.displayName=P8;function A8(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,i)=>o-i)}function O_(e,t,n){const i=100/(n-t)*(e-t);return sc(i,[0,100])}function I8(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function T8(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function R8(e,t,n){const r=e/2,i=cy([0,50],[0,r]);return(r-i(t)*n)*n}function M8(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function D8(e,t){if(t>0){const n=M8(e);return Math.min(...n)>=t}return!0}function cy(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function O8(e){return(String(e).split(".")[1]||"").length}function L8(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var z8=j_,$8=T_,F8=R_,B8=M_;function ad({className:e,defaultValue:t,value:n,min:r=0,max:o=100,...i}){const l=S.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,o],[n,t,r,o]);return u.jsxs(z8,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:o,className:Xe("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...i,children:[u.jsx($8,{"data-slot":"slider-track",className:Xe("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:u.jsx(F8,{"data-slot":"slider-range",className:Xe("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(c,d)=>u.jsx(B8,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},d))]})}var yi="ToggleGroup",[L_]=Tn(yi,[vl]),z_=vl(),uy=qe.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return u.jsx(V8,{...o,ref:t})}if(n==="multiple"){const o=r;return u.jsx(H8,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${yi}\``)});uy.displayName=yi;var[$_,F_]=L_(yi),V8=qe.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[l,c]=In({prop:n,defaultProp:r??"",onChange:o,caller:yi});return u.jsx($_,{scope:e.__scopeToggleGroup,type:"single",value:qe.useMemo(()=>l?[l]:[],[l]),onItemActivate:c,onItemDeactivate:qe.useCallback(()=>c(""),[c]),children:u.jsx(B_,{...i,ref:t})})}),H8=qe.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[l,c]=In({prop:n,defaultProp:r??[],onChange:o,caller:yi}),d=qe.useCallback(m=>c((p=[])=>[...p,m]),[c]),f=qe.useCallback(m=>c((p=[])=>p.filter(g=>g!==m)),[c]);return u.jsx($_,{scope:e.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:d,onItemDeactivate:f,children:u.jsx(B_,{...i,ref:t})})});uy.displayName=yi;var[U8,W8]=L_(yi),B_=qe.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:i,dir:l,loop:c=!0,...d}=e,f=z_(n),m=fi(l),p={role:"group",dir:m,...d};return u.jsx(U8,{scope:n,rovingFocus:o,disabled:r,children:o?u.jsx(Cx,{asChild:!0,...f,orientation:i,dir:m,loop:c,children:u.jsx(Ue.div,{...p,ref:t})}):u.jsx(Ue.div,{...p,ref:t})})}),Zd="ToggleGroupItem",V_=qe.forwardRef((e,t)=>{const n=F_(Zd,e.__scopeToggleGroup),r=W8(Zd,e.__scopeToggleGroup),o=z_(e.__scopeToggleGroup),i=n.value.includes(e.value),l=r.disabled||e.disabled,c={...e,pressed:i,disabled:l},d=qe.useRef(null);return r.rovingFocus?u.jsx(Nx,{asChild:!0,...o,focusable:!l,active:i,ref:d,children:u.jsx(P1,{...c,ref:t})}):u.jsx(P1,{...c,ref:t})});V_.displayName=Zd;var P1=qe.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,i=F_(Zd,n),l={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},c=i.type==="single"?l:void 0;return u.jsx(iy,{...c,...o,ref:t,onPressedChange:d=>{d?i.onItemActivate(r):i.onItemDeactivate(r)}})}),q8=uy,Y8=V_;const H_=S.createContext({size:"default",variant:"default"});function X8({className:e,variant:t,size:n,children:r,...o}){return u.jsx(q8,{"data-slot":"toggle-group","data-variant":t,"data-size":n,className:Xe("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",e),...o,children:u.jsx(H_.Provider,{value:{variant:t,size:n},children:r})})}function A1({className:e,children:t,variant:n,size:r,...o}){const i=S.useContext(H_);return u.jsx(Y8,{"data-slot":"toggle-group-item","data-variant":i.variant||n,"data-size":i.size||r,className:Xe(r_({variant:i.variant||n,size:i.size||r}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",e),...o,children:t})}function G8({onApplyLayout:e}){const[t,n]=S.useState({algorithm:"dagre",direction:"TB",nodeSeparation:50,rankSeparation:100}),[r,o]=S.useState(!1),i=()=>{e(t),o(!1)};return u.jsxs(w8,{open:r,onOpenChange:o,children:[u.jsx(Pn,{children:u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsx(b8,{asChild:!0,children:u.jsxs(ge,{variant:"ghost",size:"icon",children:[u.jsx(JI,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Layout"})]})})})}),u.jsx(un,{children:u.jsx("p",{children:"Layout Options"})})]})}),u.jsx(S8,{className:"w-80",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium",children:"Layout Options"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"algorithm",children:"Algorithm"}),u.jsxs(mn,{value:t.algorithm,onValueChange:l=>n({...t,algorithm:l}),children:[u.jsx(xn,{id:"algorithm",children:u.jsx(gn,{placeholder:"Select algorithm"})}),u.jsxs(yn,{children:[u.jsx(gt,{value:"dagre",children:"Dagre"}),u.jsx(gt,{value:"elk",children:"ELK"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{children:"Direction"}),u.jsxs(X8,{type:"single",value:t.direction,onValueChange:l=>{l&&n({...t,direction:l})},className:"justify-start",children:[u.jsx(A1,{value:"TB","aria-label":"Vertical Layout",title:"Vertical Layout",children:u.jsx(sI,{className:"h-4 w-4"})}),u.jsx(A1,{value:"LR","aria-label":"Horizontal Layout",title:"Horizontal Layout",children:u.jsx(LS,{className:"h-4 w-4"})})]})]}),u.jsx(Sc,{}),t.algorithm==="dagre"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(je,{htmlFor:"nodeSeparation",children:"Node Separation"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.nodeSeparation,"px"]})]}),u.jsx(ad,{id:"nodeSeparation",min:20,max:200,step:5,value:[t.nodeSeparation],onValueChange:l=>n({...t,nodeSeparation:l[0]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(je,{htmlFor:"rankSeparation",children:"Rank Separation"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.rankSeparation,"px"]})]}),u.jsx(ad,{id:"rankSeparation",min:20,max:300,step:10,value:[t.rankSeparation],onValueChange:l=>n({...t,rankSeparation:l[0]})})]})]}),t.algorithm==="elk"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(je,{htmlFor:"nodeNodeSpacing",children:"Node-Node Spacing"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.nodeSeparation,"px"]})]}),u.jsx(ad,{id:"nodeNodeSpacing",min:10,max:100,step:5,value:[t.nodeSeparation],onValueChange:l=>n({...t,nodeSeparation:l[0]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(je,{htmlFor:"layerSpacing",children:"Layer Spacing"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.rankSeparation,"px"]})]}),u.jsx(ad,{id:"layerSpacing",min:20,max:200,step:10,value:[t.rankSeparation],onValueChange:l=>n({...t,rankSeparation:l[0]})})]})]}),u.jsx(ge,{className:"w-full",onClick:i,children:"Apply Layout"})]})})]})}const U_=S.createContext([null,()=>{}]),K8=({children:e})=>{const[t,n]=S.useState(null);return u.jsx(U_.Provider,{value:[t,n],children:e})},W_=()=>S.useContext(U_);function Q8({toggleArcMode:e,onApplyLayout:t}){const[,n]=W_(),r=me(l=>l.showMarkingDisplay),o=me(l=>l.setShowMarkingDisplay),i=(l,c)=>{n&&n(c),l.dataTransfer.effectAllowed="move"};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"flex items-center gap-2 bg-background border rounded-lg p-2 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Pn,{children:u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsx(ge,{variant:"ghost",size:"icon",title:"Place",className:"cursor-grab",children:u.jsxs("div",{draggable:!0,onDragStart:l=>i(l,"place"),children:[u.jsx(VS,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Drag a Place from Here"})]})})})}),u.jsx(un,{children:u.jsx("p",{children:"Drag a Place from Here"})})]})}),u.jsx(Pn,{children:u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsx(ge,{variant:"ghost",size:"icon",title:"Transition",className:"cursor-grab",children:u.jsxs("div",{draggable:!0,onDragStart:l=>i(l,"transition"),children:[u.jsx(qS,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Drag a Transition from Here"})]})})})}),u.jsx(un,{children:u.jsx("p",{children:"Drag a Transition from Here"})})]})}),u.jsx(Pn,{children:u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(_1,{"aria-label":"Toggle Arc",onPressedChange:e,children:[u.jsx(LS,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Toggle Arc Mode"})]})})}),u.jsx(un,{children:u.jsx("p",{children:"Toggle Arc Mode"})})]})}),u.jsx(Pn,{children:u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsx(ge,{variant:"ghost",size:"icon",title:"Annotation",className:"cursor-grab",children:u.jsxs("div",{draggable:!0,onDragStart:l=>i(l,"auxText"),children:[u.jsx(qI,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Drag a Text Annotation from Here"})]})})})}),u.jsx(un,{children:u.jsx("p",{children:"Drag a Text Annotation from Here"})})]})})]}),u.jsx("div",{className:"flex items-center gap-2 h-6",children:u.jsx(Sc,{orientation:"vertical",className:"mx-1 h-6"})}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Pn,{children:u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(_1,{"aria-label":"Toggle Marking Display",pressed:r,onPressedChange:o,children:[u.jsx(bT,{className:"h-4 w-4 text-green-600"}),u.jsx("span",{className:"sr-only",children:"Toggle Marking Display"})]})})}),u.jsx(un,{children:u.jsx("p",{children:"Toggle Marking Display"})})]})}),u.jsx(G8,{onApplyLayout:t})]})]})})}function J8({slices:e,position:t,isOpen:n,onClose:r,onSliceClick:o,size:i=240}){const[l,c]=S.useState(null),d=S.useRef(null);return S.useEffect(()=>{const f=m=>{d.current&&!d.current.contains(m.target)&&n&&r()};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[n,r]),n?u.jsx("div",{className:"fixed z-50",style:{left:`${t.x}px`,top:`${t.y}px`,transform:"translate(-50%, -50%)"},ref:d,children:u.jsx("div",{className:"rounded-full bg-sky-100 overflow-visible shadow-lg",style:{width:`${i}px`,height:`${i}px`},children:u.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:e.map((f,m)=>{const p=(f.angle-30)*Math.PI/180,g=(f.angle+30)*Math.PI/180,x=50+50*Math.cos(p),b=50+50*Math.sin(p),v=50+50*Math.cos(g),w=50+50*Math.sin(g),k=`M 50 50 L ${x} ${b} A 50 50 0 0 1 ${v} ${w} Z`,E=38,C=50+E*Math.cos(f.angle*Math.PI/180),_=50+E*Math.sin(f.angle*Math.PI/180),R=m===l;return u.jsxs("g",{onClick:()=>o(m,f),onMouseEnter:()=>c(m),onMouseLeave:()=>c(null),style:{cursor:"pointer"},children:[u.jsx("path",{d:k,fill:R?"#6b9ac4":"transparent",stroke:"#e2e8f0",strokeWidth:"0.5"}),u.jsx("g",{transform:`translate(${C}, ${_}) rotate(${f.angle})`,children:f.label.map((P,T)=>u.jsx("text",{x:"0",y:T*8,textAnchor:"middle",fontSize:"5",fill:f.disabled?"#d3d3d3":"#333",transform:`rotate(-${f.angle})`,dominantBaseline:"middle",children:P},T))})]},m)})})})}):null}const Z8=({fromX:e,fromY:t,toX:n,toY:r,connectionLineStyle:o,label:i})=>{const[l]=hx({sourceX:e,sourceY:t,targetX:n,targetY:r}),c=(e+n)/2,d=(t+r)/2;return u.jsxs("g",{children:[u.jsx("path",{style:o||{stroke:"black",strokeWidth:1},fill:"none",d:l}),i&&u.jsx("text",{x:c,y:d,textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"12px",fill:"black"},children:i})]})};function e9({open:e,onOpenChange:t,onFileLoaded:n}){const[r,o]=S.useState(!1),[i,l]=S.useState(!1),c=S.useRef(null),d=v=>{v.preventDefault(),o(!0)},f=()=>{o(!1)},m=v=>{if(v.preventDefault(),o(!1),v.dataTransfer.files&&v.dataTransfer.files.length>0){const w=v.dataTransfer.files[0];g(w)}},p=v=>{if(v.target.files&&v.target.files.length>0){const w=v.target.files[0];g(w)}},g=v=>{const w=new FileReader;w.onload=k=>{var E;(E=k.target)!=null&&E.result&&(n(k.target.result,v.name),t(!1))},w.readAsText(v)},x=()=>{var v;(v=c.current)==null||v.click()},b=async()=>{l(!0);try{const v=await fetch("/ocpn-tools/examples/airport.ocpn");if(!v.ok)throw new Error("Failed to load example file");const w=await v.text();n(w,"airport.ocpn"),t(!1)}catch(v){console.error("Error loading example:",v)}finally{l(!1)}};return u.jsx(rn,{open:e,onOpenChange:t,children:u.jsxs(on,{className:"sm:max-w-[500px]",children:[u.jsxs(sn,{children:[u.jsx(ln,{children:"Open Petri Net"}),u.jsx(Po,{children:"Load a CPN Tools .cpn or cpn-py JSON file to visualize your Petri Net."})]}),u.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-primary bg-primary/10":"border-muted-foreground/25"}`,onDragOver:d,onDragLeave:f,onDrop:m,children:u.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[u.jsx(Kg,{className:"h-10 w-10 text-muted-foreground"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Drag & Drop"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drop your Petri Net file here, or click to browse"}),u.jsx("input",{ref:c,type:"file",accept:".xml,.json,.cpn,.ocpn",className:"hidden",onChange:p}),u.jsxs(ge,{onClick:x,variant:"outline",children:[u.jsx(LI,{className:"mr-2 h-4 w-4"}),"Open File..."]})]})}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx("span",{children:"Or try an example:"}),u.jsxs(ge,{variant:"link",className:"p-0 h-auto text-sm",onClick:b,disabled:i,children:[u.jsx(eT,{className:"mr-1 h-3 w-3"}),"Airport Ground Handling"]})]}),u.jsx(Sr,{children:u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"})})]})})}function t9({open:e,onOpenChange:t,onSave:n,petriNetName:r}){const[o,i]=S.useState("json"),l=()=>{n(o),t(!1)};return u.jsx(rn,{open:e,onOpenChange:t,children:u.jsxs(on,{className:"sm:max-w-[425px]",children:[u.jsxs(sn,{children:[u.jsx(ln,{children:"Save Petri Net"}),u.jsxs(Po,{children:['Choose a format to save your Petri Net "',r,'".']})]}),u.jsx("div",{className:"py-4",children:u.jsxs(Gx,{value:o,onValueChange:i,className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Co,{value:"json",id:"json"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(je,{htmlFor:"json",className:"font-medium",children:"OCPN JSON"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Simple JSON format. Best for OCPN Tools."})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Co,{value:"cpn-tools",id:"cpn-tools"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(je,{htmlFor:"cpn-tools",className:"font-medium",children:"CPN Tools XML"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Standard format for CPN Tools. Best for compatibility with CPN Tools."})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Co,{value:"cpn-py",id:"cpn-py"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(je,{htmlFor:"cpn-py",className:"font-medium",children:"cpn-py JSON"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Format compatible with cpn-py library. Best for Python integration."})]})]})]})}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ge,{onClick:l,children:"Save"})]})]})})}function n9(){const e=S.useContext(jc);if(!e)throw new Error("SimulationToolbar must be used within a SimulationProvider");const{reset:t,runStep:n,runMultipleStepsAnimated:r,runMultipleStepsFast:o,stop:i,isRunning:l,simulationConfig:c}=e,d=()=>{t()},f=()=>{i()},m=()=>{n()},p=()=>{r(c.stepsPerRun,c.animationDelayMs)},g=()=>{o(c.stepsPerRun)};return u.jsx("div",{className:"flex items-center gap-1",children:u.jsxs(Pn,{children:[u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:d,disabled:l,children:[u.jsx(lT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Reset Simulation"})]})})}),u.jsx(un,{children:u.jsx("p",{children:"Reset Simulation"})})]}),u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:f,disabled:!l,children:[u.jsx(qS,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Stop Simulation"})]})})}),u.jsx(un,{children:u.jsx("p",{children:"Stop Simulation"})})]}),u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:m,disabled:l,children:[u.jsx(gT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Execute One Step"})]})})}),u.jsx(un,{children:u.jsx("p",{children:"Execute One Step"})})]}),u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:p,disabled:l,className:"relative",children:[u.jsx(nT,{className:"h-5 w-5"}),u.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] text-primary-foreground font-medium",children:c.stepsPerRun}),u.jsxs("span",{className:"sr-only",children:["Run ",c.stepsPerRun," Steps (Animated)"]})]})})}),u.jsx(un,{children:u.jsxs("p",{children:["Run ",c.stepsPerRun," Steps (with intermediate markings)"]})})]}),u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:g,disabled:l,className:"relative",children:[u.jsx(DI,{className:"h-5 w-5"}),u.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] text-primary-foreground font-medium",children:c.stepsPerRun}),u.jsxs("span",{className:"sr-only",children:["Run ",c.stepsPerRun," Steps (Fast)"]})]})})}),u.jsx(un,{children:u.jsxs("p",{children:["Run ",c.stepsPerRun," Steps (without intermediate markings)"]})})]})]})})}function r9(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const o9=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,i9=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,s9={};function I1(e,t){return(s9.jsx?i9:o9).test(e)}const l9=/[ \t\n\f\r]/g;function a9(e){return typeof e=="object"?e.type==="text"?T1(e.value):!1:T1(e)}function T1(e){return e.replace(l9,"")===""}class Ac{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ac.prototype.normal={};Ac.prototype.property={};Ac.prototype.space=void 0;function q_(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new Ac(n,r,t)}function Mg(e){return e.toLowerCase()}class Kn{constructor(t,n){this.attribute=n,this.property=t}}Kn.prototype.attribute="";Kn.prototype.booleanish=!1;Kn.prototype.boolean=!1;Kn.prototype.commaOrSpaceSeparated=!1;Kn.prototype.commaSeparated=!1;Kn.prototype.defined=!1;Kn.prototype.mustUseProperty=!1;Kn.prototype.number=!1;Kn.prototype.overloadedBoolean=!1;Kn.prototype.property="";Kn.prototype.spaceSeparated=!1;Kn.prototype.space=void 0;let c9=0;const ct=os(),Qt=os(),Dg=os(),be=os(),Lt=os(),Js=os(),nr=os();function os(){return 2**++c9}const Og=Object.freeze(Object.defineProperty({__proto__:null,boolean:ct,booleanish:Qt,commaOrSpaceSeparated:nr,commaSeparated:Js,number:be,overloadedBoolean:Dg,spaceSeparated:Lt},Symbol.toStringTag,{value:"Module"})),Am=Object.keys(Og);class dy extends Kn{constructor(t,n,r,o){let i=-1;if(super(t,n),R1(this,"space",o),typeof r=="number")for(;++i<Am.length;){const l=Am[i];R1(this,Am[i],(r&Og[l])===Og[l])}}}dy.prototype.defined=!0;function R1(e,t,n){n&&(e[t]=n)}function El(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const i=new dy(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Mg(r)]=r,n[Mg(i.attribute)]=r}return new Ac(t,n,e.space)}const Y_=El({properties:{ariaActiveDescendant:null,ariaAtomic:Qt,ariaAutoComplete:null,ariaBusy:Qt,ariaChecked:Qt,ariaColCount:be,ariaColIndex:be,ariaColSpan:be,ariaControls:Lt,ariaCurrent:null,ariaDescribedBy:Lt,ariaDetails:null,ariaDisabled:Qt,ariaDropEffect:Lt,ariaErrorMessage:null,ariaExpanded:Qt,ariaFlowTo:Lt,ariaGrabbed:Qt,ariaHasPopup:null,ariaHidden:Qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Lt,ariaLevel:be,ariaLive:null,ariaModal:Qt,ariaMultiLine:Qt,ariaMultiSelectable:Qt,ariaOrientation:null,ariaOwns:Lt,ariaPlaceholder:null,ariaPosInSet:be,ariaPressed:Qt,ariaReadOnly:Qt,ariaRelevant:null,ariaRequired:Qt,ariaRoleDescription:Lt,ariaRowCount:be,ariaRowIndex:be,ariaRowSpan:be,ariaSelected:Qt,ariaSetSize:be,ariaSort:null,ariaValueMax:be,ariaValueMin:be,ariaValueNow:be,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function X_(e,t){return t in e?e[t]:t}function G_(e,t){return X_(e,t.toLowerCase())}const u9=El({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Js,acceptCharset:Lt,accessKey:Lt,action:null,allow:null,allowFullScreen:ct,allowPaymentRequest:ct,allowUserMedia:ct,alt:null,as:null,async:ct,autoCapitalize:null,autoComplete:Lt,autoFocus:ct,autoPlay:ct,blocking:Lt,capture:null,charSet:null,checked:ct,cite:null,className:Lt,cols:be,colSpan:null,content:null,contentEditable:Qt,controls:ct,controlsList:Lt,coords:be|Js,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ct,defer:ct,dir:null,dirName:null,disabled:ct,download:Dg,draggable:Qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ct,formTarget:null,headers:Lt,height:be,hidden:Dg,high:be,href:null,hrefLang:null,htmlFor:Lt,httpEquiv:Lt,id:null,imageSizes:null,imageSrcSet:null,inert:ct,inputMode:null,integrity:null,is:null,isMap:ct,itemId:null,itemProp:Lt,itemRef:Lt,itemScope:ct,itemType:Lt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ct,low:be,manifest:null,max:null,maxLength:be,media:null,method:null,min:null,minLength:be,multiple:ct,muted:ct,name:null,nonce:null,noModule:ct,noValidate:ct,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ct,optimum:be,pattern:null,ping:Lt,placeholder:null,playsInline:ct,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ct,referrerPolicy:null,rel:Lt,required:ct,reversed:ct,rows:be,rowSpan:be,sandbox:Lt,scope:null,scoped:ct,seamless:ct,selected:ct,shadowRootClonable:ct,shadowRootDelegatesFocus:ct,shadowRootMode:null,shape:null,size:be,sizes:null,slot:null,span:be,spellCheck:Qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:be,step:null,style:null,tabIndex:be,target:null,title:null,translate:null,type:null,typeMustMatch:ct,useMap:null,value:Qt,width:be,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Lt,axis:null,background:null,bgColor:null,border:be,borderColor:null,bottomMargin:be,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ct,declare:ct,event:null,face:null,frame:null,frameBorder:null,hSpace:be,leftMargin:be,link:null,longDesc:null,lowSrc:null,marginHeight:be,marginWidth:be,noResize:ct,noHref:ct,noShade:ct,noWrap:ct,object:null,profile:null,prompt:null,rev:null,rightMargin:be,rules:null,scheme:null,scrolling:Qt,standby:null,summary:null,text:null,topMargin:be,valueType:null,version:null,vAlign:null,vLink:null,vSpace:be,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ct,disableRemotePlayback:ct,prefix:null,property:null,results:be,security:null,unselectable:null},space:"html",transform:G_}),d9=El({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:nr,accentHeight:be,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:be,amplitude:be,arabicForm:null,ascent:be,attributeName:null,attributeType:null,azimuth:be,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:be,by:null,calcMode:null,capHeight:be,className:Lt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:be,diffuseConstant:be,direction:null,display:null,dur:null,divisor:be,dominantBaseline:null,download:ct,dx:null,dy:null,edgeMode:null,editable:null,elevation:be,enableBackground:null,end:null,event:null,exponent:be,externalResourcesRequired:null,fill:null,fillOpacity:be,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Js,g2:Js,glyphName:Js,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:be,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:be,horizOriginX:be,horizOriginY:be,id:null,ideographic:be,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:be,k:be,k1:be,k2:be,k3:be,k4:be,kernelMatrix:nr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:be,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:be,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:be,overlineThickness:be,paintOrder:null,panose1:null,path:null,pathLength:be,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Lt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:be,pointsAtY:be,pointsAtZ:be,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:nr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:nr,rev:nr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:nr,requiredFeatures:nr,requiredFonts:nr,requiredFormats:nr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:be,specularExponent:be,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:be,strikethroughThickness:be,string:null,stroke:null,strokeDashArray:nr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:be,strokeOpacity:be,strokeWidth:null,style:null,surfaceScale:be,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:nr,tabIndex:be,tableValues:null,target:null,targetX:be,targetY:be,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:nr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:be,underlineThickness:be,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:be,values:null,vAlphabetic:be,vMathematical:be,vectorEffect:null,vHanging:be,vIdeographic:be,version:null,vertAdvY:be,vertOriginX:be,vertOriginY:be,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:be,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:X_}),K_=El({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Q_=El({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:G_}),J_=El({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),f9={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},p9=/[A-Z]/g,M1=/-[a-z]/g,h9=/^data[-\w.:]+$/i;function m9(e,t){const n=Mg(t);let r=t,o=Kn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&h9.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(M1,x9);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!M1.test(i)){let l=i.replace(p9,g9);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}o=dy}return new o(r,t)}function g9(e){return"-"+e.toLowerCase()}function x9(e){return e.charAt(1).toUpperCase()}const y9=q_([Y_,u9,K_,Q_,J_],"html"),fy=q_([Y_,d9,K_,Q_,J_],"svg");function v9(e){return e.join(" ").trim()}var zs={},Im,D1;function w9(){if(D1)return Im;D1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,f="/",m="*",p="",g="comment",x="declaration";function b(w,k){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];k=k||{};var E=1,C=1;function _(A){var O=A.match(t);O&&(E+=O.length);var F=A.lastIndexOf(d);C=~F?A.length-F:C+A.length}function R(){var A={line:E,column:C};return function(O){return O.position=new P(A),U(),O}}function P(A){this.start=A,this.end={line:E,column:C},this.source=k.source}P.prototype.content=w;function T(A){var O=new Error(k.source+":"+E+":"+C+": "+A);if(O.reason=A,O.filename=k.source,O.line=E,O.column=C,O.source=w,!k.silent)throw O}function L(A){var O=A.exec(w);if(O){var F=O[0];return _(F),w=w.slice(F.length),O}}function U(){L(n)}function z(A){var O;for(A=A||[];O=B();)O!==!1&&A.push(O);return A}function B(){var A=R();if(!(f!=w.charAt(0)||m!=w.charAt(1))){for(var O=2;p!=w.charAt(O)&&(m!=w.charAt(O)||f!=w.charAt(O+1));)++O;if(O+=2,p===w.charAt(O-1))return T("End of comment missing");var F=w.slice(2,O-2);return C+=2,_(F),w=w.slice(O),C+=2,A({type:g,comment:F})}}function q(){var A=R(),O=L(r);if(O){if(B(),!L(o))return T("property missing ':'");var F=L(i),X=A({type:x,property:v(O[0].replace(e,p)),value:F?v(F[0].replace(e,p)):p});return L(l),X}}function G(){var A=[];z(A);for(var O;O=q();)O!==!1&&(A.push(O),z(A));return A}return U(),G()}function v(w){return w?w.replace(c,p):p}return Im=b,Im}var O1;function b9(){if(O1)return zs;O1=1;var e=zs&&zs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zs,"__esModule",{value:!0}),zs.default=n;const t=e(w9());function n(r,o){let i=null;if(!r||typeof r!="string")return i;const l=(0,t.default)(r),c=typeof o=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:f,value:m}=d;c?o(f,m,d):m&&(i=i||{},i[f]=m)}),i}return zs}var wa={},L1;function S9(){if(L1)return wa;L1=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,i=function(f){return!f||n.test(f)||e.test(f)},l=function(f,m){return m.toUpperCase()},c=function(f,m){return"".concat(m,"-")},d=function(f,m){return m===void 0&&(m={}),i(f)?f:(f=f.toLowerCase(),m.reactCompat?f=f.replace(o,c):f=f.replace(r,c),f.replace(t,l))};return wa.camelCase=d,wa}var ba,z1;function k9(){if(z1)return ba;z1=1;var e=ba&&ba.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(b9()),n=S9();function r(o,i){var l={};return!o||typeof o!="string"||(0,t.default)(o,function(c,d){c&&d&&(l[(0,n.camelCase)(c,i)]=d)}),l}return r.default=r,ba=r,ba}var C9=k9();const N9=pc(C9),Z_=e2("end"),py=e2("start");function e2(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function E9(e){const t=py(e),n=Z_(e);if(t&&n)return{start:t,end:n}}function Ha(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?$1(e.position):"start"in e||"end"in e?$1(e):"line"in e||"column"in e?Lg(e):""}function Lg(e){return F1(e&&e.line)+":"+F1(e&&e.column)}function $1(e){return Lg(e&&e.start)+"-"+Lg(e&&e.end)}function F1(e){return e&&typeof e=="number"?e:1}class Mn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",i={},l=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?o=t:!i.cause&&t&&(l=!0,o=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?i.ruleId=r:(i.source=r.slice(0,d),i.ruleId=r.slice(d+1))}if(!i.place&&i.ancestors&&i.ancestors){const d=i.ancestors[i.ancestors.length-1];d&&(i.place=d.position)}const c=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=c?c.line:void 0,this.name=Ha(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=l&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Mn.prototype.file="";Mn.prototype.name="";Mn.prototype.reason="";Mn.prototype.message="";Mn.prototype.stack="";Mn.prototype.column=void 0;Mn.prototype.line=void 0;Mn.prototype.ancestors=void 0;Mn.prototype.cause=void 0;Mn.prototype.fatal=void 0;Mn.prototype.place=void 0;Mn.prototype.ruleId=void 0;Mn.prototype.source=void 0;const hy={}.hasOwnProperty,j9=new Map,_9=/[A-Z]/g,P9=new Set(["table","tbody","thead","tfoot","tr"]),A9=new Set(["td","th"]),t2="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function I9(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=$9(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=z9(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?fy:y9,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=n2(o,e,void 0);return i&&typeof i!="string"?i:o.create(e,o.Fragment,{children:i||void 0},void 0)}function n2(e,t,n){if(t.type==="element")return T9(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return R9(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return D9(e,t,n);if(t.type==="mdxjsEsm")return M9(e,t);if(t.type==="root")return O9(e,t,n);if(t.type==="text")return L9(e,t)}function T9(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=fy,e.schema=o),e.ancestors.push(t);const i=o2(e,t.tagName,!1),l=F9(e,t);let c=gy(e,t);return P9.has(t.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!a9(d):!0})),r2(e,l,i,t),my(l,c),e.ancestors.pop(),e.schema=r,e.create(t,i,l,n)}function R9(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}dc(e,t.position)}function M9(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);dc(e,t.position)}function D9(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=fy,e.schema=o),e.ancestors.push(t);const i=t.name===null?e.Fragment:o2(e,t.name,!0),l=B9(e,t),c=gy(e,t);return r2(e,l,i,t),my(l,c),e.ancestors.pop(),e.schema=r,e.create(t,i,l,n)}function O9(e,t,n){const r={};return my(r,gy(e,t)),e.create(t,e.Fragment,r,n)}function L9(e,t){return t.value}function r2(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function my(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function z9(e,t,n){return r;function r(o,i,l,c){const f=Array.isArray(l.children)?n:t;return c?f(i,l,c):f(i,l)}}function $9(e,t){return n;function n(r,o,i,l){const c=Array.isArray(i.children),d=py(r);return t(o,i,l,c,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function F9(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&hy.call(t.properties,o)){const i=V9(e,o,t.properties[o]);if(i){const[l,c]=i;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&A9.has(t.tagName)?r=c:n[l]=c}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function B9(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const l=i.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else dc(e,t.position);else{const o=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,i=e.evaluater.evaluateExpression(c.expression)}else dc(e,t.position);else i=r.value===null?!0:r.value;n[o]=i}return n}function gy(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:j9;for(;++r<t.children.length;){const i=t.children[r];let l;if(e.passKeys){const d=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(d){const f=o.get(d)||0;l=d+"-"+f,o.set(d,f+1)}}const c=n2(e,i,l);c!==void 0&&n.push(c)}return n}function V9(e,t,n){const r=m9(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?r9(n):v9(n)),r.property==="style"){let o=typeof n=="object"?n:H9(e,String(n));return e.stylePropertyNameCase==="css"&&(o=U9(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?f9[r.property]||r.property:r.attribute,n]}}function H9(e,t){try{return N9(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new Mn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=t2+"#cannot-parse-style-attribute",o}}function o2(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let i=-1,l;for(;++i<o.length;){const c=I1(o[i])?{type:"Identifier",name:o[i]}:{type:"Literal",value:o[i]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(i&&c.type==="Literal"),optional:!1}:c}r=l}else r=I1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return hy.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);dc(e)}function dc(e,t){const n=new Mn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=t2+"#cannot-handle-mdx-estrees-without-createevaluater",n}function U9(e){const t={};let n;for(n in e)hy.call(e,n)&&(t[W9(n)]=e[n]);return t}function W9(e){let t=e.replace(_9,q9);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function q9(e){return"-"+e.toLowerCase()}const Tm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Y9={};function xy(e,t){const n=Y9,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return i2(e,r,o)}function i2(e,t,n){if(X9(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return B1(e.children,t,n)}return Array.isArray(e)?B1(e,t,n):""}function B1(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=i2(e[o],t,n);return r.join("")}function X9(e){return!!(e&&typeof e=="object")}const V1=document.createElement("i");function yy(e){const t="&"+e+";";V1.innerHTML=t;const n=V1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function cr(e,t,n,r){const o=e.length;let i=0,l;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);i<r.length;)l=r.slice(i,i+1e4),l.unshift(t,0),e.splice(...l),i+=1e4,t+=1e4}function vr(e,t){return e.length>0?(cr(e,e.length,0,t),e):t}const H1={}.hasOwnProperty;function s2(e){const t={};let n=-1;for(;++n<e.length;)G9(t,e[n]);return t}function G9(e,t){let n;for(n in t){const o=(H1.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let l;if(i)for(l in i){H1.call(o,l)||(o[l]=[]);const c=i[l];K9(o[l],Array.isArray(c)?c:c?[c]:[])}}}function K9(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);cr(e,0,0,r)}function l2(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Or(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const zn=vi(/[A-Za-z]/),An=vi(/[\dA-Za-z]/),Q9=vi(/[#-'*+\--9=?A-Z^-~]/);function ef(e){return e!==null&&(e<32||e===127)}const zg=vi(/\d/),J9=vi(/[\dA-Fa-f]/),Z9=vi(/[!-/:-@[-`{-~]/);function Je(e){return e!==null&&e<-2}function Dt(e){return e!==null&&(e<0||e===32)}function xt(e){return e===-2||e===-1||e===32}const Qf=vi(new RegExp("\\p{P}|\\p{S}","u")),rs=vi(/\s/);function vi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function jl(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const i=e.charCodeAt(n);let l="";if(i===37&&An(e.charCodeAt(n+1))&&An(e.charCodeAt(n+2)))o=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(l=String.fromCharCode(i));else if(i>55295&&i<57344){const c=e.charCodeAt(n+1);i<56320&&c>56319&&c<57344?(l=String.fromCharCode(i,c),o=1):l=""}else l=String.fromCharCode(i);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+o+1,l=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function St(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return l;function l(d){return xt(d)?(e.enter(n),c(d)):t(d)}function c(d){return xt(d)&&i++<o?(e.consume(d),c):(e.exit(n),t(d))}}const eU={tokenize:tU};function tU(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),St(e,t,"linePrefix")}function o(c){return e.enter("paragraph"),i(c)}function i(c){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Je(c)?(e.consume(c),e.exit("chunkText"),i):(e.consume(c),l)}}const nU={tokenize:rU},U1={tokenize:oU};function rU(e){const t=this,n=[];let r=0,o,i,l;return c;function c(C){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,d,f)(C)}return f(C)}function d(C){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&E();const _=t.events.length;let R=_,P;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){P=t.events[R][1].end;break}k(r);let T=_;for(;T<t.events.length;)t.events[T][1].end={...P},T++;return cr(t.events,R+1,0,t.events.slice(_)),t.events.length=T,f(C)}return c(C)}function f(C){if(r===n.length){if(!o)return g(C);if(o.currentConstruct&&o.currentConstruct.concrete)return b(C);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(U1,m,p)(C)}function m(C){return o&&E(),k(r),g(C)}function p(C){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,b(C)}function g(C){return t.containerState={},e.attempt(U1,x,b)(C)}function x(C){return r++,n.push([t.currentConstruct,t.containerState]),g(C)}function b(C){if(C===null){o&&E(),k(0),e.consume(C);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:i}),v(C)}function v(C){if(C===null){w(e.exit("chunkFlow"),!0),k(0),e.consume(C);return}return Je(C)?(e.consume(C),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(C),v)}function w(C,_){const R=t.sliceStream(C);if(_&&R.push(null),C.previous=i,i&&(i.next=C),i=C,o.defineSkip(C.start),o.write(R),t.parser.lazy[C.start.line]){let P=o.events.length;for(;P--;)if(o.events[P][1].start.offset<l&&(!o.events[P][1].end||o.events[P][1].end.offset>l))return;const T=t.events.length;let L=T,U,z;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){if(U){z=t.events[L][1].end;break}U=!0}for(k(r),P=T;P<t.events.length;)t.events[P][1].end={...z},P++;cr(t.events,L+1,0,t.events.slice(T)),t.events.length=P}}function k(C){let _=n.length;for(;_-- >C;){const R=n[_];t.containerState=R[1],R[0].exit.call(t,e)}n.length=C}function E(){o.write([null]),i=void 0,o=void 0,t.containerState._closeFlow=void 0}}function oU(e,t,n){return St(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function hl(e){if(e===null||Dt(e)||rs(e))return 1;if(Qf(e))return 2}function Jf(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const $g={name:"attention",resolveAll:iU,tokenize:sU};function iU(e,t){let n=-1,r,o,i,l,c,d,f,m;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};W1(p,-d),W1(g,d),l={type:d>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},i={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[r][1].end={...l.start},e[n][1].start={...c.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=vr(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=vr(f,[["enter",o,t],["enter",l,t],["exit",l,t],["enter",i,t]]),f=vr(f,Jf(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=vr(f,[["exit",i,t],["enter",c,t],["exit",c,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(m=2,f=vr(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):m=0,cr(e,r-1,n-r+3,f),n=r+f.length-m-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function sU(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=hl(r);let i;return l;function l(d){return i=d,e.enter("attentionSequence"),c(d)}function c(d){if(d===i)return e.consume(d),c;const f=e.exit("attentionSequence"),m=hl(d),p=!m||m===2&&o||n.includes(d),g=!o||o===2&&m||n.includes(r);return f._open=!!(i===42?p:p&&(o||!g)),f._close=!!(i===42?g:g&&(m||!p)),t(d)}}function W1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const lU={name:"autolink",tokenize:aU};function aU(e,t,n){let r=0;return o;function o(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(x){return zn(x)?(e.consume(x),l):x===64?n(x):f(x)}function l(x){return x===43||x===45||x===46||An(x)?(r=1,c(x)):f(x)}function c(x){return x===58?(e.consume(x),r=0,d):(x===43||x===45||x===46||An(x))&&r++<32?(e.consume(x),c):(r=0,f(x))}function d(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||ef(x)?n(x):(e.consume(x),d)}function f(x){return x===64?(e.consume(x),m):Q9(x)?(e.consume(x),f):n(x)}function m(x){return An(x)?p(x):n(x)}function p(x){return x===46?(e.consume(x),r=0,m):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):g(x)}function g(x){if((x===45||An(x))&&r++<63){const b=x===45?g:p;return e.consume(x),b}return n(x)}}const Ic={partial:!0,tokenize:cU};function cU(e,t,n){return r;function r(i){return xt(i)?St(e,o,"linePrefix")(i):o(i)}function o(i){return i===null||Je(i)?t(i):n(i)}}const a2={continuation:{tokenize:dU},exit:fU,name:"blockQuote",tokenize:uU};function uU(e,t,n){const r=this;return o;function o(l){if(l===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),i}return n(l)}function i(l){return xt(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function dU(e,t,n){const r=this;return o;function o(l){return xt(l)?St(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):i(l)}function i(l){return e.attempt(a2,t,n)(l)}}function fU(e){e.exit("blockQuote")}const c2={name:"characterEscape",tokenize:pU};function pU(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),o}function o(i){return Z9(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const u2={name:"characterReference",tokenize:hU};function hU(e,t,n){const r=this;let o=0,i,l;return c;function c(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),d}function d(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),i=31,l=An,m(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,l=J9,m):(e.enter("characterReferenceValue"),i=7,l=zg,m(p))}function m(p){if(p===59&&o){const g=e.exit("characterReferenceValue");return l===An&&!yy(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(p)&&o++<i?(e.consume(p),m):n(p)}}const q1={partial:!0,tokenize:gU},Y1={concrete:!0,name:"codeFenced",tokenize:mU};function mU(e,t,n){const r=this,o={partial:!0,tokenize:R};let i=0,l=0,c;return d;function d(P){return f(P)}function f(P){const T=r.events[r.events.length-1];return i=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,c=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(P)}function m(P){return P===c?(l++,e.consume(P),m):l<3?n(P):(e.exit("codeFencedFenceSequence"),xt(P)?St(e,p,"whitespace")(P):p(P))}function p(P){return P===null||Je(P)?(e.exit("codeFencedFence"),r.interrupt?t(P):e.check(q1,v,_)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(P))}function g(P){return P===null||Je(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(P)):xt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),St(e,x,"whitespace")(P)):P===96&&P===c?n(P):(e.consume(P),g)}function x(P){return P===null||Je(P)?p(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(P))}function b(P){return P===null||Je(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(P)):P===96&&P===c?n(P):(e.consume(P),b)}function v(P){return e.attempt(o,_,w)(P)}function w(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),k}function k(P){return i>0&&xt(P)?St(e,E,"linePrefix",i+1)(P):E(P)}function E(P){return P===null||Je(P)?e.check(q1,v,_)(P):(e.enter("codeFlowValue"),C(P))}function C(P){return P===null||Je(P)?(e.exit("codeFlowValue"),E(P)):(e.consume(P),C)}function _(P){return e.exit("codeFenced"),t(P)}function R(P,T,L){let U=0;return z;function z(O){return P.enter("lineEnding"),P.consume(O),P.exit("lineEnding"),B}function B(O){return P.enter("codeFencedFence"),xt(O)?St(P,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):q(O)}function q(O){return O===c?(P.enter("codeFencedFenceSequence"),G(O)):L(O)}function G(O){return O===c?(U++,P.consume(O),G):U>=l?(P.exit("codeFencedFenceSequence"),xt(O)?St(P,A,"whitespace")(O):A(O)):L(O)}function A(O){return O===null||Je(O)?(P.exit("codeFencedFence"),T(O)):L(O)}}}function gU(e,t,n){const r=this;return o;function o(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i)}function i(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const Rm={name:"codeIndented",tokenize:yU},xU={partial:!0,tokenize:vU};function yU(e,t,n){const r=this;return o;function o(f){return e.enter("codeIndented"),St(e,i,"linePrefix",5)(f)}function i(f){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?d(f):Je(f)?e.attempt(xU,l,d)(f):(e.enter("codeFlowValue"),c(f))}function c(f){return f===null||Je(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),c)}function d(f){return e.exit("codeIndented"),t(f)}}function vU(e,t,n){const r=this;return o;function o(l){return r.parser.lazy[r.now().line]?n(l):Je(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):St(e,i,"linePrefix",5)(l)}function i(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):Je(l)?o(l):n(l)}}const wU={name:"codeText",previous:SU,resolve:bU,tokenize:kU};function bU(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function SU(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function kU(e,t,n){let r=0,o,i;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),c(p)}function c(p){return p===96?(e.consume(p),r++,c):(e.exit("codeTextSequence"),d(p))}function d(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),d):p===96?(i=e.enter("codeTextSequence"),o=0,m(p)):Je(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||Je(p)?(e.exit("codeTextData"),d(p)):(e.consume(p),f)}function m(p){return p===96?(e.consume(p),o++,m):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(i.type="codeTextData",f(p))}}class CU{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&Sa(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Sa(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Sa(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Sa(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Sa(this.left,n.reverse())}}}function Sa(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function d2(e){const t={};let n=-1,r,o,i,l,c,d,f;const m=new CU(e);for(;++n<m.length;){for(;n in t;)n=t[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,i=0,i<d.length&&d[i][1].type==="lineEndingBlank"&&(i+=2),i<d.length&&d[i][1].type==="content"))for(;++i<d.length&&d[i][1].type!=="content";)d[i][1].type==="chunkText"&&(d[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,NU(m,n)),n=t[n],f=!0);else if(r[1]._container){for(i=n,o=void 0;i--;)if(l=m.get(i),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(m.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=i);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(r[1].end={...m.get(o)[1].start},c=m.slice(o,n),c.unshift(r),m.splice(o,n-o+1,c))}}return cr(e,0,Number.POSITIVE_INFINITY,m.slice(0)),!f}function NU(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const i=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,d=[],f={};let m,p,g=-1,x=n,b=0,v=0;const w=[v];for(;x;){for(;e.get(++o)[1]!==x;);i.push(o),x._tokenizer||(m=r.sliceStream(x),x.next||m.push(null),p&&l.defineSkip(x.start),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=x,x=x.next}for(x=n;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(v=g+1,w.push(v),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(l.events=[],x?(x._tokenizer=void 0,x.previous=void 0):w.pop(),g=w.length;g--;){const k=c.slice(w[g],w[g+1]),E=i.pop();d.push([E,E+k.length-1]),e.splice(E,2,k)}for(d.reverse(),g=-1;++g<d.length;)f[b+d[g][0]]=b+d[g][1],b+=d[g][1]-d[g][0]-1;return f}const EU={resolve:_U,tokenize:PU},jU={partial:!0,tokenize:AU};function _U(e){return d2(e),e}function PU(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(c)}function o(c){return c===null?i(c):Je(c)?e.check(jU,l,i)(c):(e.consume(c),o)}function i(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function l(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function AU(e,t,n){const r=this;return o;function o(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),St(e,i,"linePrefix")}function i(l){if(l===null||Je(l))return n(l);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function f2(e,t,n,r,o,i,l,c,d){const f=d||Number.POSITIVE_INFINITY;let m=0;return p;function p(k){return k===60?(e.enter(r),e.enter(o),e.enter(i),e.consume(k),e.exit(i),g):k===null||k===32||k===41||ef(k)?n(k):(e.enter(r),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),v(k))}function g(k){return k===62?(e.enter(i),e.consume(k),e.exit(i),e.exit(o),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),x(k))}function x(k){return k===62?(e.exit("chunkString"),e.exit(c),g(k)):k===null||k===60||Je(k)?n(k):(e.consume(k),k===92?b:x)}function b(k){return k===60||k===62||k===92?(e.consume(k),x):x(k)}function v(k){return!m&&(k===null||k===41||Dt(k))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(r),t(k)):m<f&&k===40?(e.consume(k),m++,v):k===41?(e.consume(k),m--,v):k===null||k===32||k===40||ef(k)?n(k):(e.consume(k),k===92?w:v)}function w(k){return k===40||k===41||k===92?(e.consume(k),v):v(k)}}function p2(e,t,n,r,o,i){const l=this;let c=0,d;return f;function f(x){return e.enter(r),e.enter(o),e.consume(x),e.exit(o),e.enter(i),m}function m(x){return c>999||x===null||x===91||x===93&&!d||x===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(x):x===93?(e.exit(i),e.enter(o),e.consume(x),e.exit(o),e.exit(r),t):Je(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===null||x===91||x===93||Je(x)||c++>999?(e.exit("chunkString"),m(x)):(e.consume(x),d||(d=!xt(x)),x===92?g:p)}function g(x){return x===91||x===92||x===93?(e.consume(x),c++,p):p(x)}}function h2(e,t,n,r,o,i){let l;return c;function c(g){return g===34||g===39||g===40?(e.enter(r),e.enter(o),e.consume(g),e.exit(o),l=g===40?41:g,d):n(g)}function d(g){return g===l?(e.enter(o),e.consume(g),e.exit(o),e.exit(r),t):(e.enter(i),f(g))}function f(g){return g===l?(e.exit(i),d(l)):g===null?n(g):Je(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),St(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===l||g===null||Je(g)?(e.exit("chunkString"),f(g)):(e.consume(g),g===92?p:m)}function p(g){return g===l||g===92?(e.consume(g),m):m(g)}}function Ua(e,t){let n;return r;function r(o){return Je(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):xt(o)?St(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const IU={name:"definition",tokenize:RU},TU={partial:!0,tokenize:MU};function RU(e,t,n){const r=this;let o;return i;function i(x){return e.enter("definition"),l(x)}function l(x){return p2.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function c(x){return o=Or(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),d):n(x)}function d(x){return Dt(x)?Ua(e,f)(x):f(x)}function f(x){return f2(e,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function m(x){return e.attempt(TU,p,p)(x)}function p(x){return xt(x)?St(e,g,"whitespace")(x):g(x)}function g(x){return x===null||Je(x)?(e.exit("definition"),r.parser.defined.push(o),t(x)):n(x)}}function MU(e,t,n){return r;function r(c){return Dt(c)?Ua(e,o)(c):n(c)}function o(c){return h2(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function i(c){return xt(c)?St(e,l,"whitespace")(c):l(c)}function l(c){return c===null||Je(c)?t(c):n(c)}}const DU={name:"hardBreakEscape",tokenize:OU};function OU(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),o}function o(i){return Je(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const LU={name:"headingAtx",resolve:zU,tokenize:$U};function zU(e,t){let n=e.length-2,r=3,o,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},cr(e,r,n-r+1,[["enter",o,t],["enter",i,t],["exit",i,t],["exit",o,t]])),e}function $U(e,t,n){let r=0;return o;function o(m){return e.enter("atxHeading"),i(m)}function i(m){return e.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&r++<6?(e.consume(m),l):m===null||Dt(m)?(e.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(e.enter("atxHeadingSequence"),d(m)):m===null||Je(m)?(e.exit("atxHeading"),t(m)):xt(m)?St(e,c,"whitespace")(m):(e.enter("atxHeadingText"),f(m))}function d(m){return m===35?(e.consume(m),d):(e.exit("atxHeadingSequence"),c(m))}function f(m){return m===null||m===35||Dt(m)?(e.exit("atxHeadingText"),c(m)):(e.consume(m),f)}}const FU=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],X1=["pre","script","style","textarea"],BU={concrete:!0,name:"htmlFlow",resolveTo:UU,tokenize:WU},VU={partial:!0,tokenize:YU},HU={partial:!0,tokenize:qU};function UU(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function WU(e,t,n){const r=this;let o,i,l,c,d;return f;function f(I){return m(I)}function m(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),p}function p(I){return I===33?(e.consume(I),g):I===47?(e.consume(I),i=!0,v):I===63?(e.consume(I),o=3,r.interrupt?t:M):zn(I)?(e.consume(I),l=String.fromCharCode(I),w):n(I)}function g(I){return I===45?(e.consume(I),o=2,x):I===91?(e.consume(I),o=5,c=0,b):zn(I)?(e.consume(I),o=4,r.interrupt?t:M):n(I)}function x(I){return I===45?(e.consume(I),r.interrupt?t:M):n(I)}function b(I){const V="CDATA[";return I===V.charCodeAt(c++)?(e.consume(I),c===V.length?r.interrupt?t:q:b):n(I)}function v(I){return zn(I)?(e.consume(I),l=String.fromCharCode(I),w):n(I)}function w(I){if(I===null||I===47||I===62||Dt(I)){const V=I===47,Z=l.toLowerCase();return!V&&!i&&X1.includes(Z)?(o=1,r.interrupt?t(I):q(I)):FU.includes(l.toLowerCase())?(o=6,V?(e.consume(I),k):r.interrupt?t(I):q(I)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(I):i?E(I):C(I))}return I===45||An(I)?(e.consume(I),l+=String.fromCharCode(I),w):n(I)}function k(I){return I===62?(e.consume(I),r.interrupt?t:q):n(I)}function E(I){return xt(I)?(e.consume(I),E):z(I)}function C(I){return I===47?(e.consume(I),z):I===58||I===95||zn(I)?(e.consume(I),_):xt(I)?(e.consume(I),C):z(I)}function _(I){return I===45||I===46||I===58||I===95||An(I)?(e.consume(I),_):R(I)}function R(I){return I===61?(e.consume(I),P):xt(I)?(e.consume(I),R):C(I)}function P(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),d=I,T):xt(I)?(e.consume(I),P):L(I)}function T(I){return I===d?(e.consume(I),d=null,U):I===null||Je(I)?n(I):(e.consume(I),T)}function L(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||Dt(I)?R(I):(e.consume(I),L)}function U(I){return I===47||I===62||xt(I)?C(I):n(I)}function z(I){return I===62?(e.consume(I),B):n(I)}function B(I){return I===null||Je(I)?q(I):xt(I)?(e.consume(I),B):n(I)}function q(I){return I===45&&o===2?(e.consume(I),F):I===60&&o===1?(e.consume(I),X):I===62&&o===4?(e.consume(I),H):I===63&&o===3?(e.consume(I),M):I===93&&o===5?(e.consume(I),W):Je(I)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(VU,Y,G)(I)):I===null||Je(I)?(e.exit("htmlFlowData"),G(I)):(e.consume(I),q)}function G(I){return e.check(HU,A,Y)(I)}function A(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),O}function O(I){return I===null||Je(I)?G(I):(e.enter("htmlFlowData"),q(I))}function F(I){return I===45?(e.consume(I),M):q(I)}function X(I){return I===47?(e.consume(I),l="",D):q(I)}function D(I){if(I===62){const V=l.toLowerCase();return X1.includes(V)?(e.consume(I),H):q(I)}return zn(I)&&l.length<8?(e.consume(I),l+=String.fromCharCode(I),D):q(I)}function W(I){return I===93?(e.consume(I),M):q(I)}function M(I){return I===62?(e.consume(I),H):I===45&&o===2?(e.consume(I),M):q(I)}function H(I){return I===null||Je(I)?(e.exit("htmlFlowData"),Y(I)):(e.consume(I),H)}function Y(I){return e.exit("htmlFlow"),t(I)}}function qU(e,t,n){const r=this;return o;function o(l){return Je(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):n(l)}function i(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function YU(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Ic,t,n)}}const XU={name:"htmlText",tokenize:GU};function GU(e,t,n){const r=this;let o,i,l;return c;function c(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),d}function d(M){return M===33?(e.consume(M),f):M===47?(e.consume(M),R):M===63?(e.consume(M),C):zn(M)?(e.consume(M),L):n(M)}function f(M){return M===45?(e.consume(M),m):M===91?(e.consume(M),i=0,b):zn(M)?(e.consume(M),E):n(M)}function m(M){return M===45?(e.consume(M),x):n(M)}function p(M){return M===null?n(M):M===45?(e.consume(M),g):Je(M)?(l=p,X(M)):(e.consume(M),p)}function g(M){return M===45?(e.consume(M),x):p(M)}function x(M){return M===62?F(M):M===45?g(M):p(M)}function b(M){const H="CDATA[";return M===H.charCodeAt(i++)?(e.consume(M),i===H.length?v:b):n(M)}function v(M){return M===null?n(M):M===93?(e.consume(M),w):Je(M)?(l=v,X(M)):(e.consume(M),v)}function w(M){return M===93?(e.consume(M),k):v(M)}function k(M){return M===62?F(M):M===93?(e.consume(M),k):v(M)}function E(M){return M===null||M===62?F(M):Je(M)?(l=E,X(M)):(e.consume(M),E)}function C(M){return M===null?n(M):M===63?(e.consume(M),_):Je(M)?(l=C,X(M)):(e.consume(M),C)}function _(M){return M===62?F(M):C(M)}function R(M){return zn(M)?(e.consume(M),P):n(M)}function P(M){return M===45||An(M)?(e.consume(M),P):T(M)}function T(M){return Je(M)?(l=T,X(M)):xt(M)?(e.consume(M),T):F(M)}function L(M){return M===45||An(M)?(e.consume(M),L):M===47||M===62||Dt(M)?U(M):n(M)}function U(M){return M===47?(e.consume(M),F):M===58||M===95||zn(M)?(e.consume(M),z):Je(M)?(l=U,X(M)):xt(M)?(e.consume(M),U):F(M)}function z(M){return M===45||M===46||M===58||M===95||An(M)?(e.consume(M),z):B(M)}function B(M){return M===61?(e.consume(M),q):Je(M)?(l=B,X(M)):xt(M)?(e.consume(M),B):U(M)}function q(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),o=M,G):Je(M)?(l=q,X(M)):xt(M)?(e.consume(M),q):(e.consume(M),A)}function G(M){return M===o?(e.consume(M),o=void 0,O):M===null?n(M):Je(M)?(l=G,X(M)):(e.consume(M),G)}function A(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||Dt(M)?U(M):(e.consume(M),A)}function O(M){return M===47||M===62||Dt(M)?U(M):n(M)}function F(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):n(M)}function X(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),D}function D(M){return xt(M)?St(e,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):W(M)}function W(M){return e.enter("htmlTextData"),l(M)}}const vy={name:"labelEnd",resolveAll:ZU,resolveTo:e7,tokenize:t7},KU={tokenize:n7},QU={tokenize:r7},JU={tokenize:o7};function ZU(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&cr(e,0,e.length,n),e}function e7(e,t){let n=e.length,r=0,o,i,l,c;for(;n--;)if(o=e[n][1],i){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(i=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(l=n);const d={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[i][1].start},end:{...e[l][1].end}},m={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[l-2][1].start}};return c=[["enter",d,t],["enter",f,t]],c=vr(c,e.slice(i+1,i+r+3)),c=vr(c,[["enter",m,t]]),c=vr(c,Jf(t.parser.constructs.insideSpan.null,e.slice(i+r+4,l-3),t)),c=vr(c,[["exit",m,t],e[l-2],e[l-1],["exit",f,t]]),c=vr(c,e.slice(l+1)),c=vr(c,[["exit",d,t]]),cr(e,i,e.length,c),e}function t7(e,t,n){const r=this;let o=r.events.length,i,l;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){i=r.events[o][1];break}return c;function c(g){return i?i._inactive?p(g):(l=r.parser.defined.includes(Or(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),d):n(g)}function d(g){return g===40?e.attempt(KU,m,l?m:p)(g):g===91?e.attempt(QU,m,l?f:p)(g):l?m(g):p(g)}function f(g){return e.attempt(JU,m,p)(g)}function m(g){return t(g)}function p(g){return i._balanced=!0,n(g)}}function n7(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),o}function o(p){return Dt(p)?Ua(e,i)(p):i(p)}function i(p){return p===41?m(p):f2(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return Dt(p)?Ua(e,d)(p):m(p)}function c(p){return n(p)}function d(p){return p===34||p===39||p===40?h2(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):m(p)}function f(p){return Dt(p)?Ua(e,m)(p):m(p)}function m(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function r7(e,t,n){const r=this;return o;function o(c){return p2.call(r,e,i,l,"reference","referenceMarker","referenceString")(c)}function i(c){return r.parser.defined.includes(Or(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function l(c){return n(c)}}function o7(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),o}function o(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const i7={name:"labelStartImage",resolveAll:vy.resolveAll,tokenize:s7};function s7(e,t,n){const r=this;return o;function o(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),i}function i(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const l7={name:"labelStartLink",resolveAll:vy.resolveAll,tokenize:a7};function a7(e,t,n){const r=this;return o;function o(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),i}function i(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Mm={name:"lineEnding",tokenize:c7};function c7(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),St(e,t,"linePrefix")}}const Nd={name:"thematicBreak",tokenize:u7};function u7(e,t,n){let r=0,o;return i;function i(f){return e.enter("thematicBreak"),l(f)}function l(f){return o=f,c(f)}function c(f){return f===o?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Je(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===o?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),xt(f)?St(e,c,"whitespace")(f):c(f))}}const Xn={continuation:{tokenize:h7},exit:g7,name:"list",tokenize:p7},d7={partial:!0,tokenize:x7},f7={partial:!0,tokenize:m7};function p7(e,t,n){const r=this,o=r.events[r.events.length-1];let i=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return c;function c(x){const b=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:zg(x)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(Nd,n,f)(x):f(x);if(!r.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(x)}return n(x)}function d(x){return zg(x)&&++l<10?(e.consume(x),d):(!r.interrupt||l<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),f(x)):n(x)}function f(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,e.check(Ic,r.interrupt?n:m,e.attempt(d7,g,p))}function m(x){return r.containerState.initialBlankLine=!0,i++,g(x)}function p(x){return xt(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),g):n(x)}function g(x){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function h7(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ic,o,i);function o(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,St(e,t,"listItemIndent",r.containerState.size+1)(c)}function i(c){return r.containerState.furtherBlankLines||!xt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(f7,t,l)(c))}function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,St(e,e.attempt(Xn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function m7(e,t,n){const r=this;return St(e,o,"listItemIndent",r.containerState.size+1);function o(i){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(i):n(i)}}function g7(e){e.exit(this.containerState.type)}function x7(e,t,n){const r=this;return St(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(i){const l=r.events[r.events.length-1];return!xt(i)&&l&&l[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const G1={name:"setextUnderline",resolveTo:y7,tokenize:v7};function y7(e,t){let n=e.length,r,o,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",i?(e.splice(o,0,["enter",l,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function v7(e,t,n){const r=this;let o;return i;function i(f){let m=r.events.length,p;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){p=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),o=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===o?(e.consume(f),c):(e.exit("setextHeadingLineSequence"),xt(f)?St(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Je(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const w7={tokenize:b7};function b7(e){const t=this,n=e.attempt(Ic,r,e.attempt(this.parser.constructs.flowInitial,o,St(e,e.attempt(this.parser.constructs.flow,o,e.attempt(EU,o)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const S7={resolveAll:g2()},k7=m2("string"),C7=m2("text");function m2(e){return{resolveAll:g2(e==="text"?N7:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],i=n.attempt(o,l,c);return l;function l(m){return f(m)?i(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),d}function d(m){return f(m)?(n.exit("data"),i(m)):(n.consume(m),d)}function f(m){if(m===null)return!0;const p=o[m];let g=-1;if(p)for(;++g<p.length;){const x=p[g];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function g2(e){return t;function t(n,r){let o=-1,i;for(;++o<=n.length;)i===void 0?n[o]&&n[o][1].type==="data"&&(i=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==i+2&&(n[i][1].end=n[o-1][1].end,n.splice(i+2,o-i-2),o=i+2),i=void 0);return e?e(n,r):n}}function N7(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let i=o.length,l=-1,c=0,d;for(;i--;){const f=o[i];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(f===-2)d=!0,c++;else if(f!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const f={type:n===e.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?l:r.start._bufferIndex+l,_index:r.start._index+i,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const E7={42:Xn,43:Xn,45:Xn,48:Xn,49:Xn,50:Xn,51:Xn,52:Xn,53:Xn,54:Xn,55:Xn,56:Xn,57:Xn,62:a2},j7={91:IU},_7={[-2]:Rm,[-1]:Rm,32:Rm},P7={35:LU,42:Nd,45:[G1,Nd],60:BU,61:G1,95:Nd,96:Y1,126:Y1},A7={38:u2,92:c2},I7={[-5]:Mm,[-4]:Mm,[-3]:Mm,33:i7,38:u2,42:$g,60:[lU,XU],91:l7,92:[DU,c2],93:vy,95:$g,96:wU},T7={null:[$g,S7]},R7={null:[42,95]},M7={null:[]},D7=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:R7,contentInitial:j7,disable:M7,document:E7,flow:P7,flowInitial:_7,insideSpan:T7,string:A7,text:I7},Symbol.toStringTag,{value:"Module"}));function O7(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},i=[];let l=[],c=[];const d={attempt:T(R),check:T(P),consume:E,enter:C,exit:_,interrupt:T(P,{interrupt:!0})},f={code:null,containerState:{},defineSkip:v,events:[],now:b,parser:e,previous:null,sliceSerialize:g,sliceStream:x,write:p};let m=t.tokenize.call(f,d);return t.resolveAll&&i.push(t),f;function p(B){return l=vr(l,B),w(),l[l.length-1]!==null?[]:(L(t,0),f.events=Jf(i,f.events,f),f.events)}function g(B,q){return z7(x(B),q)}function x(B){return L7(l,B)}function b(){const{_bufferIndex:B,_index:q,line:G,column:A,offset:O}=r;return{_bufferIndex:B,_index:q,line:G,column:A,offset:O}}function v(B){o[B.line]=B.column,z()}function w(){let B;for(;r._index<l.length;){const q=l[r._index];if(typeof q=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<q.length;)k(q.charCodeAt(r._bufferIndex));else k(q)}}function k(B){m=m(B)}function E(B){Je(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,z()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=B}function C(B,q){const G=q||{};return G.type=B,G.start=b(),f.events.push(["enter",G,f]),c.push(G),G}function _(B){const q=c.pop();return q.end=b(),f.events.push(["exit",q,f]),q}function R(B,q){L(B,q.from)}function P(B,q){q.restore()}function T(B,q){return G;function G(A,O,F){let X,D,W,M;return Array.isArray(A)?Y(A):"tokenize"in A?Y([A]):H(A);function H(J){return K;function K(te){const Q=te!==null&&J[te],ie=te!==null&&J.null,le=[...Array.isArray(Q)?Q:Q?[Q]:[],...Array.isArray(ie)?ie:ie?[ie]:[]];return Y(le)(te)}}function Y(J){return X=J,D=0,J.length===0?F:I(J[D])}function I(J){return K;function K(te){return M=U(),W=J,J.partial||(f.currentConstruct=J),J.name&&f.parser.constructs.disable.null.includes(J.name)?Z():J.tokenize.call(q?Object.assign(Object.create(f),q):f,d,V,Z)(te)}}function V(J){return B(W,M),O}function Z(J){return M.restore(),++D<X.length?I(X[D]):F}}}function L(B,q){B.resolveAll&&!i.includes(B)&&i.push(B),B.resolve&&cr(f.events,q,f.events.length-q,B.resolve(f.events.slice(q),f)),B.resolveTo&&(f.events=B.resolveTo(f.events,f))}function U(){const B=b(),q=f.previous,G=f.currentConstruct,A=f.events.length,O=Array.from(c);return{from:A,restore:F};function F(){r=B,f.previous=q,f.currentConstruct=G,f.events.length=A,c=O,z()}}function z(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function L7(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,i=t.end._bufferIndex;let l;if(n===o)l=[e[n].slice(r,i)];else{if(l=e.slice(n,o),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}i>0&&l.push(e[o].slice(0,i))}return l}function z7(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const i=e[n];let l;if(typeof i=="string")l=i;else switch(i){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&o)continue;l=" ";break}default:l=String.fromCharCode(i)}o=i===-2,r.push(l)}return r.join("")}function $7(e){const r={constructs:s2([D7,...(e||{}).extensions||[]]),content:o(eU),defined:[],document:o(nU),flow:o(w7),lazy:{},string:o(k7),text:o(C7)};return r;function o(i){return l;function l(c){return O7(r,i,c)}}}function F7(e){for(;!d2(e););return e}const K1=/[\0\t\n\r]/g;function B7(){let e=1,t="",n=!0,r;return o;function o(i,l,c){const d=[];let f,m,p,g,x;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(l||void 0).decode(i)),p=0,t="",n&&(i.charCodeAt(0)===65279&&p++,n=void 0);p<i.length;){if(K1.lastIndex=p,f=K1.exec(i),g=f&&f.index!==void 0?f.index:i.length,x=i.charCodeAt(g),!f){t=i.slice(p);break}if(x===10&&p===g&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),p<g&&(d.push(i.slice(p,g)),e+=g-p),x){case 0:{d.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,d.push(-2);e++<m;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return c&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const V7=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function H7(e){return e.replace(V7,U7)}function U7(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),i=o===120||o===88;return l2(n.slice(i?2:1),i?16:10)}return yy(n)||e}const x2={}.hasOwnProperty;function W7(e,t,n){return typeof t!="string"&&(n=t,t=void 0),q7(n)(F7($7(n).document().write(B7()(e,t,!0))))}function q7(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(et),autolinkProtocol:U,autolinkEmail:U,atxHeading:i(De),blockQuote:i(ie),characterEscape:U,characterReference:U,codeFenced:i(le),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:i(le,l),codeText:i(de,l),codeTextData:U,data:U,codeFlowValue:U,definition:i(fe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:i(xe),hardBreakEscape:i(Me),hardBreakTrailing:i(Me),htmlFlow:i(it,l),htmlFlowData:U,htmlText:i(it,l),htmlTextData:U,image:i(nt),label:l,link:i(et),listItem:i(We),listItemValue:g,listOrdered:i(ke,p),listUnordered:i(ke),paragraph:i(lt),reference:I,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:i(De),strong:i(vt),thematicBreak:i(It)},exit:{atxHeading:d(),atxHeadingSequence:R,autolink:d(),autolinkEmail:Q,autolinkProtocol:te,blockQuote:d(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:J,characterReference:K,codeFenced:d(w),codeFencedFence:v,codeFencedFenceInfo:x,codeFencedFenceMeta:b,codeFlowValue:z,codeIndented:d(k),codeText:d(O),codeTextData:z,data:z,definition:d(),definitionDestinationString:_,definitionLabelString:E,definitionTitleString:C,emphasis:d(),hardBreakEscape:d(q),hardBreakTrailing:d(q),htmlFlow:d(G),htmlFlowData:z,htmlText:d(A),htmlTextData:z,image:d(X),label:W,labelText:D,lineEnding:B,link:d(F),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:V,resourceDestinationString:M,resourceTitleString:H,resource:Y,setextHeading:d(L),setextHeadingLineSequence:T,setextHeadingText:P,strong:d(),thematicBreak:d()}};y2(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ue){let pe={type:"root",children:[]};const Ae={stack:[pe],tokenStack:[],config:t,enter:c,exit:f,buffer:l,resume:m,data:n},_e=[];let Ye=-1;for(;++Ye<ue.length;)if(ue[Ye][1].type==="listOrdered"||ue[Ye][1].type==="listUnordered")if(ue[Ye][0]==="enter")_e.push(Ye);else{const ut=_e.pop();Ye=o(ue,ut,Ye)}for(Ye=-1;++Ye<ue.length;){const ut=t[ue[Ye][0]];x2.call(ut,ue[Ye][1].type)&&ut[ue[Ye][1].type].call(Object.assign({sliceSerialize:ue[Ye][2].sliceSerialize},Ae),ue[Ye][1])}if(Ae.tokenStack.length>0){const ut=Ae.tokenStack[Ae.tokenStack.length-1];(ut[1]||Q1).call(Ae,void 0,ut[0])}for(pe.position={start:Zo(ue.length>0?ue[0][1].start:{line:1,column:1,offset:0}),end:Zo(ue.length>0?ue[ue.length-2][1].end:{line:1,column:1,offset:0})},Ye=-1;++Ye<t.transforms.length;)pe=t.transforms[Ye](pe)||pe;return pe}function o(ue,pe,Ae){let _e=pe-1,Ye=-1,ut=!1,bt,Ct,Tt,_t;for(;++_e<=Ae;){const pt=ue[_e];switch(pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{pt[0]==="enter"?Ye++:Ye--,_t=void 0;break}case"lineEndingBlank":{pt[0]==="enter"&&(bt&&!_t&&!Ye&&!Tt&&(Tt=_e),_t=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_t=void 0}if(!Ye&&pt[0]==="enter"&&pt[1].type==="listItemPrefix"||Ye===-1&&pt[0]==="exit"&&(pt[1].type==="listUnordered"||pt[1].type==="listOrdered")){if(bt){let Pt=_e;for(Ct=void 0;Pt--;){const he=ue[Pt];if(he[1].type==="lineEnding"||he[1].type==="lineEndingBlank"){if(he[0]==="exit")continue;Ct&&(ue[Ct][1].type="lineEndingBlank",ut=!0),he[1].type="lineEnding",Ct=Pt}else if(!(he[1].type==="linePrefix"||he[1].type==="blockQuotePrefix"||he[1].type==="blockQuotePrefixWhitespace"||he[1].type==="blockQuoteMarker"||he[1].type==="listItemIndent"))break}Tt&&(!Ct||Tt<Ct)&&(bt._spread=!0),bt.end=Object.assign({},Ct?ue[Ct][1].start:pt[1].end),ue.splice(Ct||_e,0,["exit",bt,pt[2]]),_e++,Ae++}if(pt[1].type==="listItemPrefix"){const Pt={type:"listItem",_spread:!1,start:Object.assign({},pt[1].start),end:void 0};bt=Pt,ue.splice(_e,0,["enter",Pt,pt[2]]),_e++,Ae++,Tt=void 0,_t=!0}}}return ue[pe][1]._spread=ut,Ae}function i(ue,pe){return Ae;function Ae(_e){c.call(this,ue(_e),_e),pe&&pe.call(this,_e)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ue,pe,Ae){this.stack[this.stack.length-1].children.push(ue),this.stack.push(ue),this.tokenStack.push([pe,Ae||void 0]),ue.position={start:Zo(pe.start),end:void 0}}function d(ue){return pe;function pe(Ae){ue&&ue.call(this,Ae),f.call(this,Ae)}}function f(ue,pe){const Ae=this.stack.pop(),_e=this.tokenStack.pop();if(_e)_e[0].type!==ue.type&&(pe?pe.call(this,ue,_e[0]):(_e[1]||Q1).call(this,ue,_e[0]));else throw new Error("Cannot close `"+ue.type+"` ("+Ha({start:ue.start,end:ue.end})+"): its not open");Ae.position.end=Zo(ue.end)}function m(){return xy(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(ue){if(this.data.expectingFirstListItemValue){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(ue),10),this.data.expectingFirstListItemValue=void 0}}function x(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=ue}function b(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=ue}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ue.replace(/(\r?\n|\r)$/g,"")}function E(ue){const pe=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=pe,Ae.identifier=Or(this.sliceSerialize(ue)).toLowerCase()}function C(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ue}function _(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ue}function R(ue){const pe=this.stack[this.stack.length-1];if(!pe.depth){const Ae=this.sliceSerialize(ue).length;pe.depth=Ae}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function T(ue){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(ue).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function U(ue){const Ae=this.stack[this.stack.length-1].children;let _e=Ae[Ae.length-1];(!_e||_e.type!=="text")&&(_e=Et(),_e.position={start:Zo(ue.start),end:void 0},Ae.push(_e)),this.stack.push(_e)}function z(ue){const pe=this.stack.pop();pe.value+=this.sliceSerialize(ue),pe.position.end=Zo(ue.end)}function B(ue){const pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ae=pe.children[pe.children.length-1];Ae.position.end=Zo(ue.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(pe.type)&&(U.call(this,ue),z.call(this,ue))}function q(){this.data.atHardBreak=!0}function G(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ue}function A(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ue}function O(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ue}function F(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=pe,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function X(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=pe,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function D(ue){const pe=this.sliceSerialize(ue),Ae=this.stack[this.stack.length-2];Ae.label=H7(pe),Ae.identifier=Or(pe).toLowerCase()}function W(){const ue=this.stack[this.stack.length-1],pe=this.resume(),Ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ae.type==="link"){const _e=ue.children;Ae.children=_e}else Ae.alt=pe}function M(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ue}function H(){const ue=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ue}function Y(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function V(ue){const pe=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=pe,Ae.identifier=Or(this.sliceSerialize(ue)).toLowerCase(),this.data.referenceType="full"}function Z(ue){this.data.characterReferenceType=ue.type}function J(ue){const pe=this.sliceSerialize(ue),Ae=this.data.characterReferenceType;let _e;Ae?(_e=l2(pe,Ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_e=yy(pe);const Ye=this.stack[this.stack.length-1];Ye.value+=_e}function K(ue){const pe=this.stack.pop();pe.position.end=Zo(ue.end)}function te(ue){z.call(this,ue);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(ue)}function Q(ue){z.call(this,ue);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(ue)}function ie(){return{type:"blockquote",children:[]}}function le(){return{type:"code",lang:null,meta:null,value:""}}function de(){return{type:"inlineCode",value:""}}function fe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function xe(){return{type:"emphasis",children:[]}}function De(){return{type:"heading",depth:0,children:[]}}function Me(){return{type:"break"}}function it(){return{type:"html",value:""}}function nt(){return{type:"image",title:null,url:"",alt:null}}function et(){return{type:"link",title:null,url:"",children:[]}}function ke(ue){return{type:"list",ordered:ue.type==="listOrdered",start:null,spread:ue._spread,children:[]}}function We(ue){return{type:"listItem",spread:ue._spread,checked:null,children:[]}}function lt(){return{type:"paragraph",children:[]}}function vt(){return{type:"strong",children:[]}}function Et(){return{type:"text",value:""}}function It(){return{type:"thematicBreak"}}}function Zo(e){return{line:e.line,column:e.column,offset:e.offset}}function y2(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?y2(e,r):Y7(e,r)}}function Y7(e,t){let n;for(n in t)if(x2.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Q1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ha({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ha({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ha({start:t.start,end:t.end})+") is still open")}function X7(e){const t=this;t.parser=n;function n(r){return W7(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function G7(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function K7(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Q7(e,t){const n=t.value?t.value+`
`:"",r={},o=t.lang?t.lang.split(/\s+/):[];o.length>0&&(r.className=["language-"+o[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function J7(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Z7(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function eW(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=jl(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let l,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=i+1,c+=1,e.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function tW(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nW(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function v2(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),i=o[0];i&&i.type==="text"?i.value="["+i.value:o.unshift({type:"text",value:"["});const l=o[o.length-1];return l&&l.type==="text"?l.value+=r:o.push({type:"text",value:r}),o}function rW(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return v2(e,t);const o={src:jl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const i={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,i),e.applyData(t,i)}function oW(e,t){const n={src:jl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function iW(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function sW(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return v2(e,t);const o={href:jl(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const i={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function lW(e,t){const n={href:jl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function aW(e,t,n){const r=e.all(t),o=n?cW(n):w2(t),i={},l=[];if(typeof t.checked=="boolean"){const m=r[0];let p;m&&m.type==="element"&&m.tagName==="p"?p=m:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(o||c!==0||m.type!=="element"||m.tagName!=="p")&&l.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!o?l.push(...m.children):l.push(m)}const d=r[r.length-1];d&&(o||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:i,children:l};return e.patch(t,f),e.applyData(t,f)}function cW(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=w2(n[r])}return t}function w2(e){const t=e.spread;return t??e.children.length>1}function uW(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const l=r[o];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function dW(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function fW(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function pW(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hW(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),o.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=py(t.children[1]),d=Z_(t.children[t.children.length-1]);c&&d&&(l.position={start:c,end:d}),o.push(l)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,i),e.applyData(t,i)}function mW(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:t.children.length;let d=-1;const f=[];for(;++d<c;){const p=t.children[d],g={},x=l?l[d]:void 0;x&&(g.align=x);let b={type:"element",tagName:i,properties:g,children:[]};p&&(b.children=e.all(p),e.patch(p,b),b=e.applyData(p,b)),f.push(b)}const m={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,m),e.applyData(t,m)}function gW(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const J1=9,Z1=32;function xW(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const i=[];for(;r;)i.push(eS(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return i.push(eS(t.slice(o),o>0,!1)),i.join("")}function eS(e,t,n){let r=0,o=e.length;if(t){let i=e.codePointAt(r);for(;i===J1||i===Z1;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(o-1);for(;i===J1||i===Z1;)o--,i=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function yW(e,t){const n={type:"text",value:xW(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function vW(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const wW={blockquote:G7,break:K7,code:Q7,delete:J7,emphasis:Z7,footnoteReference:eW,heading:tW,html:nW,imageReference:rW,image:oW,inlineCode:iW,linkReference:sW,link:lW,listItem:aW,list:uW,paragraph:dW,root:fW,strong:pW,table:hW,tableCell:gW,tableRow:mW,text:yW,thematicBreak:vW,toml:cd,yaml:cd,definition:cd,footnoteDefinition:cd};function cd(){}const b2=-1,Zf=0,Wa=1,tf=2,wy=3,by=4,Sy=5,ky=6,S2=7,k2=8,tS=typeof self=="object"?self:globalThis,bW=(e,t)=>{const n=(o,i)=>(e.set(i,o),o),r=o=>{if(e.has(o))return e.get(o);const[i,l]=t[o];switch(i){case Zf:case b2:return n(l,o);case Wa:{const c=n([],o);for(const d of l)c.push(r(d));return c}case tf:{const c=n({},o);for(const[d,f]of l)c[r(d)]=r(f);return c}case wy:return n(new Date(l),o);case by:{const{source:c,flags:d}=l;return n(new RegExp(c,d),o)}case Sy:{const c=n(new Map,o);for(const[d,f]of l)c.set(r(d),r(f));return c}case ky:{const c=n(new Set,o);for(const d of l)c.add(r(d));return c}case S2:{const{name:c,message:d}=l;return n(new tS[c](d),o)}case k2:return n(BigInt(l),o);case"BigInt":return n(Object(BigInt(l)),o);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new tS[i](l),o)};return r},nS=e=>bW(new Map,e)(0),$s="",{toString:SW}={},{keys:kW}=Object,ka=e=>{const t=typeof e;if(t!=="object"||!e)return[Zf,t];const n=SW.call(e).slice(8,-1);switch(n){case"Array":return[Wa,$s];case"Object":return[tf,$s];case"Date":return[wy,$s];case"RegExp":return[by,$s];case"Map":return[Sy,$s];case"Set":return[ky,$s];case"DataView":return[Wa,n]}return n.includes("Array")?[Wa,n]:n.includes("Error")?[S2,n]:[tf,n]},ud=([e,t])=>e===Zf&&(t==="function"||t==="symbol"),CW=(e,t,n,r)=>{const o=(l,c)=>{const d=r.push(l)-1;return n.set(c,d),d},i=l=>{if(n.has(l))return n.get(l);let[c,d]=ka(l);switch(c){case Zf:{let m=l;switch(d){case"bigint":c=k2,m=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);m=null;break;case"undefined":return o([b2],l)}return o([c,m],l)}case Wa:{if(d){let g=l;return d==="DataView"?g=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(g=new Uint8Array(l)),o([d,[...g]],l)}const m=[],p=o([c,m],l);for(const g of l)m.push(i(g));return p}case tf:{if(d)switch(d){case"BigInt":return o([d,l.toString()],l);case"Boolean":case"Number":case"String":return o([d,l.valueOf()],l)}if(t&&"toJSON"in l)return i(l.toJSON());const m=[],p=o([c,m],l);for(const g of kW(l))(e||!ud(ka(l[g])))&&m.push([i(g),i(l[g])]);return p}case wy:return o([c,l.toISOString()],l);case by:{const{source:m,flags:p}=l;return o([c,{source:m,flags:p}],l)}case Sy:{const m=[],p=o([c,m],l);for(const[g,x]of l)(e||!(ud(ka(g))||ud(ka(x))))&&m.push([i(g),i(x)]);return p}case ky:{const m=[],p=o([c,m],l);for(const g of l)(e||!ud(ka(g)))&&m.push(i(g));return p}}const{message:f}=l;return o([c,{name:d,message:f}],l)};return i},rS=(e,{json:t,lossy:n}={})=>{const r=[];return CW(!(t||n),!!t,new Map,r)(e),r},nf=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?nS(rS(e,t)):structuredClone(e):(e,t)=>nS(rS(e,t));function NW(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function EW(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function jW(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||NW,r=e.options.footnoteBackLabel||EW,o=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const m=e.all(f),p=String(f.identifier).toUpperCase(),g=jl(p.toLowerCase());let x=0;const b=[],v=e.footnoteCounts.get(p);for(;v!==void 0&&++x<=v;){b.length>0&&b.push({type:"text",value:" "});let E=typeof n=="string"?n:n(d,x);typeof E=="string"&&(E={type:"text",value:E}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,x),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const w=m[m.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const E=w.children[w.children.length-1];E&&E.type==="text"?E.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...b)}else m.push(...b);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(m,!0)};e.patch(f,k),c.push(k)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...nf(l),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const ep=(function(e){if(e==null)return IW;if(typeof e=="function")return tp(e);if(typeof e=="object")return Array.isArray(e)?_W(e):PW(e);if(typeof e=="string")return AW(e);throw new Error("Expected function, string, or object as test")});function _W(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ep(e[n]);return tp(r);function r(...o){let i=-1;for(;++i<t.length;)if(t[i].apply(this,o))return!0;return!1}}function PW(e){const t=e;return tp(n);function n(r){const o=r;let i;for(i in e)if(o[i]!==t[i])return!1;return!0}}function AW(e){return tp(t);function t(n){return n&&n.type===e}}function tp(e){return t;function t(n,r,o){return!!(TW(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function IW(){return!0}function TW(e){return e!==null&&typeof e=="object"&&"type"in e}const C2=[],RW=!0,Fg=!1,MW="skip";function N2(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const i=ep(o),l=r?-1:1;c(e,void 0,[])();function c(d,f,m){const p=d&&typeof d=="object"?d:{};if(typeof p.type=="string"){const x=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(d.type+(x?"<"+x+">":""))+")"})}return g;function g(){let x=C2,b,v,w;if((!t||i(d,f,m[m.length-1]||void 0))&&(x=DW(n(d,m)),x[0]===Fg))return x;if("children"in d&&d.children){const k=d;if(k.children&&x[0]!==MW)for(v=(r?k.children.length:-1)+l,w=m.concat(k);v>-1&&v<k.children.length;){const E=k.children[v];if(b=c(E,v,w)(),b[0]===Fg)return b;v=typeof b[1]=="number"?b[1]:v+l}}return x}}}function DW(e){return Array.isArray(e)?e:typeof e=="number"?[RW,e]:e==null?C2:[e]}function Cy(e,t,n,r){let o,i,l;typeof t=="function"&&typeof n!="function"?(i=void 0,l=t,o=n):(i=t,l=n,o=r),N2(e,i,c,o);function c(d,f){const m=f[f.length-1],p=m?m.children.indexOf(d):void 0;return l(d,p,m)}}const Bg={}.hasOwnProperty,OW={};function LW(e,t){const n=t||OW,r=new Map,o=new Map,i=new Map,l={...wW,...n.handlers},c={all:f,applyData:$W,definitionById:r,footnoteById:o,footnoteCounts:i,footnoteOrder:[],handlers:l,one:d,options:n,patch:zW,wrap:BW};return Cy(e,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const p=m.type==="definition"?r:o,g=String(m.identifier).toUpperCase();p.has(g)||p.set(g,m)}}),c;function d(m,p){const g=m.type,x=c.handlers[g];if(Bg.call(c.handlers,g)&&x)return x(c,m,p);if(c.options.passThrough&&c.options.passThrough.includes(g)){if("children"in m){const{children:v,...w}=m,k=nf(w);return k.children=c.all(m),k}return nf(m)}return(c.options.unknownHandler||FW)(c,m,p)}function f(m){const p=[];if("children"in m){const g=m.children;let x=-1;for(;++x<g.length;){const b=c.one(g[x],m);if(b){if(x&&g[x-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=oS(b.value)),!Array.isArray(b)&&b.type==="element")){const v=b.children[0];v&&v.type==="text"&&(v.value=oS(v.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function zW(e,t){e.position&&(t.position=E9(e))}function $W(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&i&&Object.assign(n.properties,nf(i)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function FW(e,t){const n=t.data||{},r="value"in t&&!(Bg.call(n,"hProperties")||Bg.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function BW(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function oS(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function iS(e,t){const n=LW(e,t),r=n.one(e,void 0),o=jW(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&i.children.push({type:"text",value:`
`},o),i}function VW(e,t){return e&&"run"in e?async function(n,r){const o=iS(n,{file:r,...t});await e.run(o,r)}:function(n,r){return iS(n,{file:r,...e||t})}}function sS(e){if(e)throw e}var Dm,lS;function HW(){if(lS)return Dm;lS=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},i=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var m=e.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!m&&!p)return!1;var g;for(g in f);return typeof g>"u"||e.call(f,g)},l=function(f,m){n&&m.name==="__proto__"?n(f,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):f[m.name]=m.newValue},c=function(f,m){if(m==="__proto__")if(e.call(f,m)){if(r)return r(f,m).value}else return;return f[m]};return Dm=function d(){var f,m,p,g,x,b,v=arguments[0],w=1,k=arguments.length,E=!1;for(typeof v=="boolean"&&(E=v,v=arguments[1]||{},w=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});w<k;++w)if(f=arguments[w],f!=null)for(m in f)p=c(v,m),g=c(f,m),v!==g&&(E&&g&&(i(g)||(x=o(g)))?(x?(x=!1,b=p&&o(p)?p:[]):b=p&&i(p)?p:{},l(v,{name:m,newValue:d(E,b,g)})):typeof g<"u"&&l(v,{name:m,newValue:g}));return v},Dm}var UW=HW();const Om=pc(UW);function Vg(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function WW(){const e=[],t={run:n,use:r};return t;function n(...o){let i=-1;const l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...o);function c(d,...f){const m=e[++i];let p=-1;if(d){l(d);return}for(;++p<o.length;)(f[p]===null||f[p]===void 0)&&(f[p]=o[p]);o=f,m?qW(m,c)(...f):l(null,...f)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function qW(e,t){let n;return r;function r(...l){const c=e.length>l.length;let d;c&&l.push(o);try{d=e.apply(this,l)}catch(f){const m=f;if(c&&n)throw m;return o(m)}c||(d&&d.then&&typeof d.then=="function"?d.then(i,o):d instanceof Error?o(d):i(d))}function o(l,...c){n||(n=!0,t(l,...c))}function i(l){o(null,l)}}const Gr={basename:YW,dirname:XW,extname:GW,join:KW,sep:"/"};function YW(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Tc(e);let n=0,r=-1,o=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(i){n=o+1;break}}else r<0&&(i=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,c=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(i){n=o+1;break}}else l<0&&(i=!0,l=o+1),c>-1&&(e.codePointAt(o)===t.codePointAt(c--)?c<0&&(r=o):(c=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function XW(e){if(Tc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function GW(e){Tc(e);let t=e.length,n=-1,r=0,o=-1,i=0,l;for(;t--;){const c=e.codePointAt(t);if(c===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),c===46?o<0?o=t:i!==1&&(i=1):o>-1&&(i=-1)}return o<0||n<0||i===0||i===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function KW(...e){let t=-1,n;for(;++t<e.length;)Tc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":QW(n)}function QW(e){Tc(e);const t=e.codePointAt(0)===47;let n=JW(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function JW(e,t){let n="",r=0,o=-1,i=0,l=-1,c,d;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(o===l-1||i===1))if(o!==l-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),o=l,i=0;continue}}else if(n.length>0){n="",r=0,o=l,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,l):n=e.slice(o+1,l),r=l-o-1;o=l,i=0}else c===46&&i>-1?i++:i=-1}return n}function Tc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ZW={cwd:eq};function eq(){return"/"}function Hg(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function tq(e){if(typeof e=="string")e=new URL(e);else if(!Hg(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return nq(e)}function nq(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const Lm=["history","path","basename","stem","extname","dirname"];class E2{constructor(t){let n;t?Hg(t)?n={path:t}:typeof t=="string"||rq(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":ZW.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Lm.length;){const i=Lm[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let o;for(o in n)Lm.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Gr.basename(this.path):void 0}set basename(t){$m(t,"basename"),zm(t,"basename"),this.path=Gr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Gr.dirname(this.path):void 0}set dirname(t){aS(this.basename,"dirname"),this.path=Gr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Gr.extname(this.path):void 0}set extname(t){if(zm(t,"extname"),aS(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Hg(t)&&(t=tq(t)),$m(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Gr.basename(this.path,this.extname):void 0}set stem(t){$m(t,"stem"),zm(t,"stem"),this.path=Gr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new Mn(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function zm(e,t){if(e&&e.includes(Gr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Gr.sep+"`")}function $m(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function aS(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function rq(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const oq=(function(e){const r=this.constructor.prototype,o=r[e],i=function(){return o.apply(i,arguments)};return Object.setPrototypeOf(i,r),i}),iq={}.hasOwnProperty;class Ny extends oq{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=WW()}copy(){const t=new Ny;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Om(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Vm("data",this.frozen),this.namespace[t]=n,this):iq.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Vm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=dd(t),r=this.parser||this.Parser;return Fm("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Fm("process",this.parser||this.Parser),Bm("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(i,l){const c=dd(t),d=r.parse(c);r.run(d,c,function(m,p,g){if(m||!p||!g)return f(m);const x=p,b=r.stringify(x,g);aq(b)?g.value=b:g.result=b,f(m,g)});function f(m,p){m||!p?l(m):i?i(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),Fm("processSync",this.parser||this.Parser),Bm("processSync",this.compiler||this.Compiler),this.process(t,o),uS("processSync","process",n),r;function o(i,l){n=!0,sS(i),r=l}}run(t,n,r){cS(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(l,c){const d=dd(n);o.run(t,d,f);function f(m,p,g){const x=p||t;m?c(m):l?l(x):r(void 0,x,g)}}}runSync(t,n){let r=!1,o;return this.run(t,n,i),uS("runSync","run",r),o;function i(l,c){sS(l),o=c,r=!0}}stringify(t,n){this.freeze();const r=dd(n),o=this.compiler||this.Compiler;return Bm("stringify",o),cS(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(Vm("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[m,...p]=f;d(m,p)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(o.settings=Om(!0,o.settings,f.settings))}function c(f){let m=-1;if(f!=null)if(Array.isArray(f))for(;++m<f.length;){const p=f[m];i(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,m){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===f){g=p;break}if(g===-1)r.push([f,...m]);else if(m.length>0){let[x,...b]=m;const v=r[g][1];Vg(v)&&Vg(x)&&(x=Om(!0,v,x)),r[g]=[f,x,...b]}}}}const sq=new Ny().freeze();function Fm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Bm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Vm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function cS(e){if(!Vg(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function uS(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function dd(e){return lq(e)?e:new E2(e)}function lq(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function aq(e){return typeof e=="string"||cq(e)}function cq(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const uq="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",dS=[],fS={allowDangerousHtml:!0},dq=/^(https?|ircs?|mailto|xmpp)$/i,fq=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function pq(e){const t=hq(e),n=mq(e);return gq(t.runSync(t.parse(n),n),e)}function hq(e){const t=e.rehypePlugins||dS,n=e.remarkPlugins||dS,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...fS}:fS;return sq().use(X7).use(n).use(VW,r).use(t)}function mq(e){const t=e.children||"",n=new E2;return typeof t=="string"&&(n.value=t),n}function gq(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,i=t.disallowedElements,l=t.skipHtml,c=t.unwrapDisallowed,d=t.urlTransform||xq;for(const m of fq)Object.hasOwn(t,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+uq+m.id,void 0);return Cy(e,f),I9(e,{Fragment:u.Fragment,components:o,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function f(m,p,g){if(m.type==="raw"&&g&&typeof p=="number")return l?g.children.splice(p,1):g.children[p]={type:"text",value:m.value},p;if(m.type==="element"){let x;for(x in Tm)if(Object.hasOwn(Tm,x)&&Object.hasOwn(m.properties,x)){const b=m.properties[x],v=Tm[x];(v===null||v.includes(m.tagName))&&(m.properties[x]=d(String(b||""),x,m))}}if(m.type==="element"){let x=n?!n.includes(m.tagName):i?i.includes(m.tagName):!1;if(!x&&r&&typeof p=="number"&&(x=!r(m,p,g)),x&&g&&typeof p=="number")return c&&m.children?g.children.splice(p,1,...m.children):g.children.splice(p,1),p}}}function xq(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||dq.test(e.slice(0,t))?e:""}function pS(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}function yq(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function vq(e,t,n){const o=ep((n||{}).ignore||[]),i=wq(t);let l=-1;for(;++l<i.length;)N2(e,"text",c);function c(f,m){let p=-1,g;for(;++p<m.length;){const x=m[p],b=g?g.children:void 0;if(o(x,b?b.indexOf(x):void 0,g))return;g=x}if(g)return d(f,m)}function d(f,m){const p=m[m.length-1],g=i[l][0],x=i[l][1];let b=0;const w=p.children.indexOf(f);let k=!1,E=[];g.lastIndex=0;let C=g.exec(f.value);for(;C;){const _=C.index,R={index:C.index,input:C.input,stack:[...m,f]};let P=x(...C,R);if(typeof P=="string"&&(P=P.length>0?{type:"text",value:P}:void 0),P===!1?g.lastIndex=_+1:(b!==_&&E.push({type:"text",value:f.value.slice(b,_)}),Array.isArray(P)?E.push(...P):P&&E.push(P),b=_+C[0].length,k=!0),!g.global)break;C=g.exec(f.value)}return k?(b<f.value.length&&E.push({type:"text",value:f.value.slice(b)}),p.children.splice(w,1,...E)):E=[f],w+E.length}}function wq(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const o=n[r];t.push([bq(o[0]),Sq(o[1])])}return t}function bq(e){return typeof e=="string"?new RegExp(yq(e),"g"):e}function Sq(e){return typeof e=="function"?e:function(){return e}}const Hm="phrasing",Um=["autolink","link","image","label"];function kq(){return{transforms:[Aq],enter:{literalAutolink:Nq,literalAutolinkEmail:Wm,literalAutolinkHttp:Wm,literalAutolinkWww:Wm},exit:{literalAutolink:Pq,literalAutolinkEmail:_q,literalAutolinkHttp:Eq,literalAutolinkWww:jq}}}function Cq(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Hm,notInConstruct:Um},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Hm,notInConstruct:Um},{character:":",before:"[ps]",after:"\\/",inConstruct:Hm,notInConstruct:Um}]}}function Nq(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Wm(e){this.config.enter.autolinkProtocol.call(this,e)}function Eq(e){this.config.exit.autolinkProtocol.call(this,e)}function jq(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function _q(e){this.config.exit.autolinkEmail.call(this,e)}function Pq(e){this.exit(e)}function Aq(e){vq(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Iq],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Tq]],{ignore:["link","linkReference"]})}function Iq(e,t,n,r,o){let i="";if(!j2(o)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!Rq(n)))return!1;const l=Mq(n+r);if(!l[0])return!1;const c={type:"link",title:null,url:i+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function Tq(e,t,n,r){return!j2(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Rq(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Mq(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=pS(e,"(");let i=pS(e,")");for(;r!==-1&&o>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function j2(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||rs(n)||Qf(n))&&(!t||n!==47)}_2.peek=Hq;function Dq(){this.buffer()}function Oq(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Lq(){this.buffer()}function zq(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function $q(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Or(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Fq(e){this.exit(e)}function Bq(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Or(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Vq(e){this.exit(e)}function Hq(){return"["}function _2(e,t,n,r){const o=n.createTracker(r);let i=o.move("[^");const l=n.enter("footnoteReference"),c=n.enter("reference");return i+=o.move(n.safe(n.associationId(e),{after:"]",before:i})),c(),l(),i+=o.move("]"),i}function Uq(){return{enter:{gfmFootnoteCallString:Dq,gfmFootnoteCall:Oq,gfmFootnoteDefinitionLabelString:Lq,gfmFootnoteDefinition:zq},exit:{gfmFootnoteCallString:$q,gfmFootnoteCall:Fq,gfmFootnoteDefinitionLabelString:Bq,gfmFootnoteDefinition:Vq}}}function Wq(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:_2},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,o,i,l){const c=i.createTracker(l);let d=c.move("[^");const f=i.enter("footnoteDefinition"),m=i.enter("label");return d+=c.move(i.safe(i.associationId(r),{before:d,after:"]"})),m(),d+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),d+=c.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,c.current()),t?P2:qq))),f(),d}}function qq(e,t,n){return t===0?e:P2(e,t,n)}function P2(e,t,n){return(n?"":"    ")+e}const Yq=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];A2.peek=Jq;function Xq(){return{canContainEols:["delete"],enter:{strikethrough:Kq},exit:{strikethrough:Qq}}}function Gq(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Yq}],handlers:{delete:A2}}}function Kq(e){this.enter({type:"delete",children:[]},e)}function Qq(e){this.exit(e)}function A2(e,t,n,r){const o=n.createTracker(r),i=n.enter("strikethrough");let l=o.move("~~");return l+=n.containerPhrasing(e,{...o.current(),before:l,after:"~"}),l+=o.move("~~"),i(),l}function Jq(){return"~"}function Zq(e){return e.length}function eY(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||Zq,i=[],l=[],c=[],d=[];let f=0,m=-1;for(;++m<e.length;){const v=[],w=[];let k=-1;for(e[m].length>f&&(f=e[m].length);++k<e[m].length;){const E=tY(e[m][k]);if(n.alignDelimiters!==!1){const C=o(E);w[k]=C,(d[k]===void 0||C>d[k])&&(d[k]=C)}v.push(E)}l[m]=v,c[m]=w}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<f;)i[p]=hS(r[p]);else{const v=hS(r);for(;++p<f;)i[p]=v}p=-1;const g=[],x=[];for(;++p<f;){const v=i[p];let w="",k="";v===99?(w=":",k=":"):v===108?w=":":v===114&&(k=":");let E=n.alignDelimiters===!1?1:Math.max(1,d[p]-w.length-k.length);const C=w+"-".repeat(E)+k;n.alignDelimiters!==!1&&(E=w.length+E+k.length,E>d[p]&&(d[p]=E),x[p]=E),g[p]=C}l.splice(1,0,g),c.splice(1,0,x),m=-1;const b=[];for(;++m<l.length;){const v=l[m],w=c[m];p=-1;const k=[];for(;++p<f;){const E=v[p]||"";let C="",_="";if(n.alignDelimiters!==!1){const R=d[p]-(w[p]||0),P=i[p];P===114?C=" ".repeat(R):P===99?R%2?(C=" ".repeat(R/2+.5),_=" ".repeat(R/2-.5)):(C=" ".repeat(R/2),_=C):_=" ".repeat(R)}n.delimiterStart!==!1&&!p&&k.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&E==="")&&(n.delimiterStart!==!1||p)&&k.push(" "),n.alignDelimiters!==!1&&k.push(C),k.push(E),n.alignDelimiters!==!1&&k.push(_),n.padding!==!1&&k.push(" "),(n.delimiterEnd!==!1||p!==f-1)&&k.push("|")}b.push(n.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return b.join(`
`)}function tY(e){return e==null?"":String(e)}function hS(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function nY(e,t,n,r){const o=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const l=n.indentLines(n.containerFlow(e,i.current()),rY);return o(),l}function rY(e,t,n){return">"+(n?"":" ")+e}function oY(e,t){return mS(e,t.inConstruct,!0)&&!mS(e,t.notInConstruct,!1)}function mS(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function gS(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&oY(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function iY(e,t){const n=String(e);let r=n.indexOf(t),o=r,i=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++i>l&&(l=i):i=1,o=r+t.length,r=n.indexOf(t,o);return l}function sY(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function lY(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function aY(e,t,n,r){const o=lY(n),i=e.value||"",l=o==="`"?"GraveAccent":"Tilde";if(sY(e,n)){const p=n.enter("codeIndented"),g=n.indentLines(i,cY);return p(),g}const c=n.createTracker(r),d=o.repeat(Math.max(iY(i,o)+1,3)),f=n.enter("codeFenced");let m=c.move(d);if(e.lang){const p=n.enter(`codeFencedLang${l}`);m+=c.move(n.safe(e.lang,{before:m,after:" ",encode:["`"],...c.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${l}`);m+=c.move(" "),m+=c.move(n.safe(e.meta,{before:m,after:`
`,encode:["`"],...c.current()})),p()}return m+=c.move(`
`),i&&(m+=c.move(i+`
`)),m+=c.move(d),f(),m}function cY(e,t,n){return(n?"":"    ")+e}function Ey(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function uY(e,t,n,r){const o=Ey(n),i=o==='"'?"Quote":"Apostrophe",l=n.enter("definition");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("[");return f+=d.move(n.safe(n.associationId(e),{before:f,after:"]",...d.current()})),f+=d.move("]: "),c(),!e.url||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...d.current()}))),c(),e.title&&(c=n.enter(`title${i}`),f+=d.move(" "+o),f+=d.move(n.safe(e.title,{before:f,after:o,...d.current()})),f+=d.move(o),c()),l(),f}function dY(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function fc(e){return"&#x"+e.toString(16).toUpperCase()+";"}function rf(e,t,n){const r=hl(e),o=hl(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}I2.peek=fY;function I2(e,t,n,r){const o=dY(n),i=n.enter("emphasis"),l=n.createTracker(r),c=l.move(o);let d=l.move(n.containerPhrasing(e,{after:o,before:c,...l.current()}));const f=d.charCodeAt(0),m=rf(r.before.charCodeAt(r.before.length-1),f,o);m.inside&&(d=fc(f)+d.slice(1));const p=d.charCodeAt(d.length-1),g=rf(r.after.charCodeAt(0),p,o);g.inside&&(d=d.slice(0,-1)+fc(p));const x=l.move(o);return i(),n.attentionEncodeSurroundingInfo={after:g.outside,before:m.outside},c+d+x}function fY(e,t,n){return n.options.emphasis||"*"}function pY(e,t){let n=!1;return Cy(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Fg}),!!((!e.depth||e.depth<3)&&xy(e)&&(t.options.setext||n))}function hY(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(pY(e,n)){const m=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return p(),m(),g+`
`+(o===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const l="#".repeat(o),c=n.enter("headingAtx"),d=n.enter("phrasing");i.move(l+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(f)&&(f=fc(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),d(),c(),f}T2.peek=mY;function T2(e){return e.value||""}function mY(){return"<"}R2.peek=gY;function R2(e,t,n,r){const o=Ey(n),i=o==='"'?"Quote":"Apostrophe",l=n.enter("image");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("![");return f+=d.move(n.safe(e.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":")",...d.current()}))),c(),e.title&&(c=n.enter(`title${i}`),f+=d.move(" "+o),f+=d.move(n.safe(e.title,{before:f,after:o,...d.current()})),f+=d.move(o),c()),f+=d.move(")"),l(),f}function gY(){return"!"}M2.peek=xY;function M2(e,t,n,r){const o=e.referenceType,i=n.enter("imageReference");let l=n.enter("label");const c=n.createTracker(r);let d=c.move("![");const f=n.safe(e.alt,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),l();const m=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return l(),n.stack=m,i(),o==="full"||!f||f!==p?d+=c.move(p+"]"):o==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function xY(){return"!"}D2.peek=yY;function D2(e,t,n){let r=e.value||"",o="`",i=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const l=n.unsafe[i],c=n.compilePattern(l);let d;if(l.atBreak)for(;d=c.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return o+r+o}function yY(){return"`"}function O2(e,t){const n=xy(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}L2.peek=vY;function L2(e,t,n,r){const o=Ey(n),i=o==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let c,d;if(O2(e,n)){const m=n.stack;n.stack=[],c=n.enter("autolink");let p=l.move("<");return p+=l.move(n.containerPhrasing(e,{before:p,after:">",...l.current()})),p+=l.move(">"),c(),n.stack=m,p}c=n.enter("link"),d=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(e,{before:f,after:"](",...l.current()})),f+=l.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(e.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(d=n.enter("destinationRaw"),f+=l.move(n.safe(e.url,{before:f,after:e.title?" ":")",...l.current()}))),d(),e.title&&(d=n.enter(`title${i}`),f+=l.move(" "+o),f+=l.move(n.safe(e.title,{before:f,after:o,...l.current()})),f+=l.move(o),d()),f+=l.move(")"),c(),f}function vY(e,t,n){return O2(e,n)?"<":"["}z2.peek=wY;function z2(e,t,n,r){const o=e.referenceType,i=n.enter("linkReference");let l=n.enter("label");const c=n.createTracker(r);let d=c.move("[");const f=n.containerPhrasing(e,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),l();const m=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return l(),n.stack=m,i(),o==="full"||!f||f!==p?d+=c.move(p+"]"):o==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function wY(){return"["}function jy(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function bY(e){const t=jy(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function SY(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function $2(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function kY(e,t,n,r){const o=n.enter("list"),i=n.bulletCurrent;let l=e.ordered?SY(n):jy(n);const c=e.ordered?l==="."?")":".":bY(n);let d=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const m=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),$2(n)===l&&m){let p=-1;for(;++p<e.children.length;){const g=e.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=c),n.bulletCurrent=l;const f=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=i,o(),f}function CY(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function NY(e,t,n,r){const o=CY(n);let i=n.bulletCurrent||jy(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let l=i.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const c=n.createTracker(r);c.move(i+" ".repeat(l-i.length)),c.shift(l);const d=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,c.current()),m);return d(),f;function m(p,g,x){return g?(x?"":" ".repeat(l))+p:(x?i:i+" ".repeat(l-i.length))+p}}function EY(e,t,n,r){const o=n.enter("paragraph"),i=n.enter("phrasing"),l=n.containerPhrasing(e,r);return i(),o(),l}const jY=ep(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function _Y(e,t,n,r){return(e.children.some(function(l){return jY(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function PY(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}F2.peek=AY;function F2(e,t,n,r){const o=PY(n),i=n.enter("strong"),l=n.createTracker(r),c=l.move(o+o);let d=l.move(n.containerPhrasing(e,{after:o,before:c,...l.current()}));const f=d.charCodeAt(0),m=rf(r.before.charCodeAt(r.before.length-1),f,o);m.inside&&(d=fc(f)+d.slice(1));const p=d.charCodeAt(d.length-1),g=rf(r.after.charCodeAt(0),p,o);g.inside&&(d=d.slice(0,-1)+fc(p));const x=l.move(o+o);return i(),n.attentionEncodeSurroundingInfo={after:g.outside,before:m.outside},c+d+x}function AY(e,t,n){return n.options.strong||"*"}function IY(e,t,n,r){return n.safe(e.value,r)}function TY(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function RY(e,t,n){const r=($2(n)+(n.options.ruleSpaces?" ":"")).repeat(TY(n));return n.options.ruleSpaces?r.slice(0,-1):r}const B2={blockquote:nY,break:gS,code:aY,definition:uY,emphasis:I2,hardBreak:gS,heading:hY,html:T2,image:R2,imageReference:M2,inlineCode:D2,link:L2,linkReference:z2,list:kY,listItem:NY,paragraph:EY,root:_Y,strong:F2,text:IY,thematicBreak:RY};function MY(){return{enter:{table:DY,tableData:xS,tableHeader:xS,tableRow:LY},exit:{codeText:zY,table:OY,tableData:qm,tableHeader:qm,tableRow:qm}}}function DY(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function OY(e){this.exit(e),this.data.inTable=void 0}function LY(e){this.enter({type:"tableRow",children:[]},e)}function qm(e){this.exit(e)}function xS(e){this.enter({type:"tableCell",children:[]},e)}function zY(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,$Y));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function $Y(e,t){return t==="|"?t:e}function FY(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:l,tableCell:d,tableRow:c}};function l(x,b,v,w){return f(m(x,v,w),x.align)}function c(x,b,v,w){const k=p(x,v,w),E=f([k]);return E.slice(0,E.indexOf(`
`))}function d(x,b,v,w){const k=v.enter("tableCell"),E=v.enter("phrasing"),C=v.containerPhrasing(x,{...w,before:i,after:i});return E(),k(),C}function f(x,b){return eY(x,{align:b,alignDelimiters:r,padding:n,stringLength:o})}function m(x,b,v){const w=x.children;let k=-1;const E=[],C=b.enter("table");for(;++k<w.length;)E[k]=p(w[k],b,v);return C(),E}function p(x,b,v){const w=x.children;let k=-1;const E=[],C=b.enter("tableRow");for(;++k<w.length;)E[k]=d(w[k],x,b,v);return C(),E}function g(x,b,v){let w=B2.inlineCode(x,b,v);return v.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function BY(){return{exit:{taskListCheckValueChecked:yS,taskListCheckValueUnchecked:yS,paragraph:HY}}}function VY(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:UY}}}function yS(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function HY(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const o=t.children;let i=-1,l;for(;++i<o.length;){const c=o[i];if(c.type==="paragraph"){l=c;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function UY(e,t,n,r){const o=e.children[0],i=typeof e.checked=="boolean"&&o&&o.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",c=n.createTracker(r);i&&c.move(l);let d=B2.listItem(e,t,n,{...r,...c.current()});return i&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),d;function f(m){return m+l}}function WY(){return[kq(),Uq(),Xq(),MY(),BY()]}function qY(e){return{extensions:[Cq(),Wq(e),Gq(),FY(e),VY()]}}const YY={tokenize:ZY,partial:!0},V2={tokenize:eX,partial:!0},H2={tokenize:tX,partial:!0},U2={tokenize:nX,partial:!0},XY={tokenize:rX,partial:!0},W2={name:"wwwAutolink",tokenize:QY,previous:Y2},q2={name:"protocolAutolink",tokenize:JY,previous:X2},Ao={name:"emailAutolink",tokenize:KY,previous:G2},so={};function GY(){return{text:so}}let Li=48;for(;Li<123;)so[Li]=Ao,Li++,Li===58?Li=65:Li===91&&(Li=97);so[43]=Ao;so[45]=Ao;so[46]=Ao;so[95]=Ao;so[72]=[Ao,q2];so[104]=[Ao,q2];so[87]=[Ao,W2];so[119]=[Ao,W2];function KY(e,t,n){const r=this;let o,i;return l;function l(p){return!Ug(p)||!G2.call(r,r.previous)||_y(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),c(p))}function c(p){return Ug(p)?(e.consume(p),c):p===64?(e.consume(p),d):n(p)}function d(p){return p===46?e.check(XY,m,f)(p):p===45||p===95||An(p)?(i=!0,e.consume(p),d):m(p)}function f(p){return e.consume(p),o=!0,d}function m(p){return i&&o&&zn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function QY(e,t,n){const r=this;return o;function o(l){return l!==87&&l!==119||!Y2.call(r,r.previous)||_y(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(YY,e.attempt(V2,e.attempt(H2,i),n),n)(l))}function i(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function JY(e,t,n){const r=this;let o="",i=!1;return l;function l(p){return(p===72||p===104)&&X2.call(r,r.previous)&&!_y(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(p),e.consume(p),c):n(p)}function c(p){if(zn(p)&&o.length<5)return o+=String.fromCodePoint(p),e.consume(p),c;if(p===58){const g=o.toLowerCase();if(g==="http"||g==="https")return e.consume(p),d}return n(p)}function d(p){return p===47?(e.consume(p),i?f:(i=!0,d)):n(p)}function f(p){return p===null||ef(p)||Dt(p)||rs(p)||Qf(p)?n(p):e.attempt(V2,e.attempt(H2,m),n)(p)}function m(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function ZY(e,t,n){let r=0;return o;function o(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),o):l===46&&r===3?(e.consume(l),i):n(l)}function i(l){return l===null?n(l):t(l)}}function eX(e,t,n){let r,o,i;return l;function l(f){return f===46||f===95?e.check(U2,d,c)(f):f===null||Dt(f)||rs(f)||f!==45&&Qf(f)?d(f):(i=!0,e.consume(f),l)}function c(f){return f===95?r=!0:(o=r,r=void 0),e.consume(f),l}function d(f){return o||r||!i?n(f):t(f)}}function tX(e,t){let n=0,r=0;return o;function o(l){return l===40?(n++,e.consume(l),o):l===41&&r<n?i(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(U2,t,i)(l):l===null||Dt(l)||rs(l)?t(l):(e.consume(l),o)}function i(l){return l===41&&r++,e.consume(l),o}}function nX(e,t,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(e.consume(c),r):c===38?(e.consume(c),i):c===93?(e.consume(c),o):c===60||c===null||Dt(c)||rs(c)?t(c):n(c)}function o(c){return c===null||c===40||c===91||Dt(c)||rs(c)?t(c):r(c)}function i(c){return zn(c)?l(c):n(c)}function l(c){return c===59?(e.consume(c),r):zn(c)?(e.consume(c),l):n(c)}}function rX(e,t,n){return r;function r(i){return e.consume(i),o}function o(i){return An(i)?n(i):t(i)}}function Y2(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Dt(e)}function X2(e){return!zn(e)}function G2(e){return!(e===47||Ug(e))}function Ug(e){return e===43||e===45||e===46||e===95||An(e)}function _y(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const oX={tokenize:fX,partial:!0};function iX(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:cX,continuation:{tokenize:uX},exit:dX}},text:{91:{name:"gfmFootnoteCall",tokenize:aX},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:sX,resolveTo:lX}}}}function sX(e,t,n){const r=this;let o=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;o--;){const d=r.events[o][1];if(d.type==="labelImage"){l=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return c;function c(d){if(!l||!l._balanced)return n(d);const f=Or(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!i.includes(f.slice(1))?n(d):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),t(d))}}function lX(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},c=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",i,t],["enter",l,t],["exit",l,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...c),e}function aX(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,l;return c;function c(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),d}function d(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(p){if(i>999||p===93&&!l||p===null||p===91||Dt(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return o.includes(Or(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return Dt(p)||(l=!0),i++,e.consume(p),p===92?m:f}function m(p){return p===91||p===92||p===93?(e.consume(p),i++,f):f(p)}}function cX(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,l=0,c;return d;function d(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",m):n(b)}function m(b){if(l>999||b===93&&!c||b===null||b===91||Dt(b))return n(b);if(b===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return i=Or(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return Dt(b)||(c=!0),l++,e.consume(b),b===92?p:m}function p(b){return b===91||b===92||b===93?(e.consume(b),l++,m):m(b)}function g(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),o.includes(i)||o.push(i),St(e,x,"gfmFootnoteDefinitionWhitespace")):n(b)}function x(b){return t(b)}}function uX(e,t,n){return e.check(Ic,t,e.attempt(oX,t,n))}function dX(e){e.exit("gfmFootnoteDefinition")}function fX(e,t,n){const r=this;return St(e,o,"gfmFootnoteDefinitionIndent",5);function o(i){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(i):n(i)}}function pX(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:o};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(l,c){let d=-1;for(;++d<l.length;)if(l[d][0]==="enter"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._close){let f=d;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[d][1].end.offset-l[d][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[d][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[d][1].end)},p={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[d][1].start)},g=[["enter",m,c],["enter",l[f][1],c],["exit",l[f][1],c],["enter",p,c]],x=c.parser.constructs.insideSpan.null;x&&cr(g,g.length,0,Jf(x,l.slice(f+1,d),c)),cr(g,g.length,0,[["exit",p,c],["enter",l[d][1],c],["exit",l[d][1],c],["exit",m,c]]),cr(l,f-1,d-f+3,g),d=f+g.length-2;break}}for(d=-1;++d<l.length;)l[d][1].type==="strikethroughSequenceTemporary"&&(l[d][1].type="data");return l}function i(l,c,d){const f=this.previous,m=this.events;let p=0;return g;function g(b){return f===126&&m[m.length-1][1].type!=="characterEscape"?d(b):(l.enter("strikethroughSequenceTemporary"),x(b))}function x(b){const v=hl(f);if(b===126)return p>1?d(b):(l.consume(b),p++,x);if(p<2&&!n)return d(b);const w=l.exit("strikethroughSequenceTemporary"),k=hl(b);return w._open=!k||k===2&&!!v,w._close=!v||v===2&&!!k,c(b)}}}class hX{constructor(){this.map=[]}add(t,n,r){mX(this,t,n,r)}consume(t){if(this.map.sort(function(i,l){return i[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let o=r.pop();for(;o;){for(const i of o)t.push(i);o=r.pop()}this.map.length=0}}function mX(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function gX(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function xX(){return{flow:{null:{name:"table",tokenize:yX,resolveAll:vX}}}}function yX(e,t,n){const r=this;let o=0,i=0,l;return c;function c(z){let B=r.events.length-1;for(;B>-1;){const A=r.events[B][1].type;if(A==="lineEnding"||A==="linePrefix")B--;else break}const q=B>-1?r.events[B][1].type:null,G=q==="tableHead"||q==="tableRow"?P:d;return G===P&&r.parser.lazy[r.now().line]?n(z):G(z)}function d(z){return e.enter("tableHead"),e.enter("tableRow"),f(z)}function f(z){return z===124||(l=!0,i+=1),m(z)}function m(z){return z===null?n(z):Je(z)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),x):n(z):xt(z)?St(e,m,"whitespace")(z):(i+=1,l&&(l=!1,o+=1),z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),l=!0,m):(e.enter("data"),p(z)))}function p(z){return z===null||z===124||Dt(z)?(e.exit("data"),m(z)):(e.consume(z),z===92?g:p)}function g(z){return z===92||z===124?(e.consume(z),p):p(z)}function x(z){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(z):(e.enter("tableDelimiterRow"),l=!1,xt(z)?St(e,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):b(z))}function b(z){return z===45||z===58?w(z):z===124?(l=!0,e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),v):R(z)}function v(z){return xt(z)?St(e,w,"whitespace")(z):w(z)}function w(z){return z===58?(i+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),k):z===45?(i+=1,k(z)):z===null||Je(z)?_(z):R(z)}function k(z){return z===45?(e.enter("tableDelimiterFiller"),E(z)):R(z)}function E(z){return z===45?(e.consume(z),E):z===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),C):(e.exit("tableDelimiterFiller"),C(z))}function C(z){return xt(z)?St(e,_,"whitespace")(z):_(z)}function _(z){return z===124?b(z):z===null||Je(z)?!l||o!==i?R(z):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(z)):R(z)}function R(z){return n(z)}function P(z){return e.enter("tableRow"),T(z)}function T(z){return z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),T):z===null||Je(z)?(e.exit("tableRow"),t(z)):xt(z)?St(e,T,"whitespace")(z):(e.enter("data"),L(z))}function L(z){return z===null||z===124||Dt(z)?(e.exit("data"),T(z)):(e.consume(z),z===92?U:L)}function U(z){return z===92||z===124?(e.consume(z),L):L(z)}}function vX(e,t){let n=-1,r=!0,o=0,i=[0,0,0,0],l=[0,0,0,0],c=!1,d=0,f,m,p;const g=new hX;for(;++n<e.length;){const x=e[n],b=x[1];x[0]==="enter"?b.type==="tableHead"?(c=!1,d!==0&&(vS(g,t,d,f,m),m=void 0,d=0),f={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",f,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(r=!0,p=void 0,i=[0,0,0,0],l=[0,n+1,0,0],c&&(c=!1,m={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",m,t]])),o=b.type==="tableDelimiterRow"?2:m?3:1):o&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(i[1]!==0&&(l[0]=l[1],p=fd(g,t,i,o,void 0,p),i=[0,0,0,0]),l[2]=n)):b.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(l[0]=l[1],p=fd(g,t,i,o,void 0,p)),i=l,l=[i[1],n,0,0])):b.type==="tableHead"?(c=!0,d=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(d=n,i[1]!==0?(l[0]=l[1],p=fd(g,t,i,o,n,p)):l[1]!==0&&(p=fd(g,t,l,o,n,p)),o=0):o&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(l[3]=n)}for(d!==0&&vS(g,t,d,f,m),g.consume(t.events),n=-1;++n<t.events.length;){const x=t.events[n];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=gX(t.events,n))}return e}function fd(e,t,n,r,o,i){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(i.end=Object.assign({},Bs(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const d=Bs(t.events,n[1]);if(i={type:l,start:Object.assign({},d),end:Object.assign({},d)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const f=Bs(t.events,n[2]),m=Bs(t.events,n[3]),p={type:c,start:Object.assign({},f),end:Object.assign({},m)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const g=t.events[n[2]],x=t.events[n[3]];if(g[1].end=Object.assign({},x[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,v=n[3]-n[2]-1;e.add(b,v,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return o!==void 0&&(i.end=Object.assign({},Bs(t.events,o)),e.add(o,0,[["exit",i,t]]),i=void 0),i}function vS(e,t,n,r,o){const i=[],l=Bs(t.events,n);o&&(o.end=Object.assign({},l),i.push(["exit",o,t])),r.end=Object.assign({},l),i.push(["exit",r,t]),e.add(n+1,0,i)}function Bs(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const wX={name:"tasklistCheck",tokenize:SX};function bX(){return{text:{91:wX}}}function SX(e,t,n){const r=this;return o;function o(d){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(d):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),i)}function i(d){return Dt(d)?(e.enter("taskListCheckValueUnchecked"),e.consume(d),e.exit("taskListCheckValueUnchecked"),l):d===88||d===120?(e.enter("taskListCheckValueChecked"),e.consume(d),e.exit("taskListCheckValueChecked"),l):n(d)}function l(d){return d===93?(e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),c):n(d)}function c(d){return Je(d)?t(d):xt(d)?e.check({tokenize:kX},t,n)(d):n(d)}}function kX(e,t,n){return St(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function CX(e){return s2([GY(),iX(),pX(e),xX(),bX()])}const NX={};function EX(e){const t=this,n=e||NX,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(CX(n)),i.push(WY()),l.push(qY(n))}function jX({open:e,onOpenChange:t}){const[n,r]=S.useState("");return S.useEffect(()=>{e&&fetch("usage-guide.md").then(o=>o.text()).then(o=>r(o)).catch(o=>{console.error("Error loading help content:",o),r(`# Error
Failed to load help content. Please try again later.`)})},[e]),u.jsx(rn,{open:e,onOpenChange:t,modal:!0,children:u.jsxs(on,{className:"sm:max-w-[800px] max-h-[80vh]",children:[u.jsxs(sn,{children:[u.jsx(ln,{children:"Help & Documentation"}),u.jsx(Po,{children:"Learn how to use OCPN Tools with this guide."})]}),u.jsx(Vf,{className:"flex-1 pr-4 h-[60vh]",children:u.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none [&_table]:border-collapse [&_table]:w-full [&_th]:border [&_th]:border-gray-300 [&_th]:bg-gray-100 [&_th]:p-2 [&_th]:text-left [&_td]:border [&_td]:border-gray-300 [&_td]:p-2 dark:[&_th]:border-gray-600 dark:[&_th]:bg-gray-800 dark:[&_td]:border-gray-600",children:u.jsx(pq,{remarkPlugins:[EX],children:n})})}),u.jsx(Sr,{className:"mt-4",children:u.jsx(ge,{onClick:()=>t(!1),children:"Close"})})]})})}var _X=Object.defineProperty,PX=Object.defineProperties,AX=Object.getOwnPropertyDescriptors,of=Object.getOwnPropertySymbols,K2=Object.prototype.hasOwnProperty,Q2=Object.prototype.propertyIsEnumerable,Wg=(e,t,n)=>t in e?_X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,or=(e,t)=>{for(var n in t||(t={}))K2.call(t,n)&&Wg(e,n,t[n]);if(of)for(var n of of(t))Q2.call(t,n)&&Wg(e,n,t[n]);return e},J2=(e,t)=>PX(e,AX(t)),IX=(e,t)=>{var n={};for(var r in e)K2.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&of)for(var r of of(e))t.indexOf(r)<0&&Q2.call(e,r)&&(n[r]=e[r]);return n},hn=(e,t,n)=>(Wg(e,typeof t!="symbol"?t+"":t,n),n),ml=(e,t,n)=>new Promise((r,o)=>{var i=d=>{try{c(n.next(d))}catch(f){o(f)}},l=d=>{try{c(n.throw(d))}catch(f){o(f)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(i,l);c((n=n.apply(e,t)).next())}),TX="hCaptcha-script",Ed="hCaptchaOnLoad",wS="script-error",oi="@hCaptcha/loader";function RX(e){return Object.entries(e).filter(([,t])=>t||t===!1).map(([t,n])=>`${encodeURIComponent(t)}=${encodeURIComponent(String(n))}`).join("&")}function Z2(e){let t=e&&e.ownerDocument||document,n=t.defaultView||t.parentWindow||window;return{document:t,window:n}}function eP(e){return e||document.head}function MX(e){var t;e.setTag("source",oi),e.setTag("url",document.URL),e.setContext("os",{UA:navigator.userAgent}),e.setContext("browser",or({},DX())),e.setContext("device",J2(or({},LX()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:((t=screen.orientation)==null?void 0:t.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}function DX(){var e,t,n,r,o,i;let l=navigator.userAgent,c,d;return l.indexOf("Firefox")!==-1?(c="Firefox",d=(e=l.match(/Firefox\/([\d.]+)/))==null?void 0:e[1]):l.indexOf("Edg")!==-1?(c="Microsoft Edge",d=(t=l.match(/Edg\/([\d.]+)/))==null?void 0:t[1]):l.indexOf("Chrome")!==-1&&l.indexOf("Safari")!==-1?(c="Chrome",d=(n=l.match(/Chrome\/([\d.]+)/))==null?void 0:n[1]):l.indexOf("Safari")!==-1&&l.indexOf("Chrome")===-1?(c="Safari",d=(r=l.match(/Version\/([\d.]+)/))==null?void 0:r[1]):l.indexOf("Opera")!==-1||l.indexOf("OPR")!==-1?(c="Opera",d=(o=l.match(/(Opera|OPR)\/([\d.]+)/))==null?void 0:o[2]):l.indexOf("MSIE")!==-1||l.indexOf("Trident")!==-1?(c="Internet Explorer",d=(i=l.match(/(MSIE |rv:)([\d.]+)/))==null?void 0:i[2]):(c="Unknown",d="Unknown"),{name:c,version:d}}function OX(e){return new Promise(t=>setTimeout(t,e))}function LX(){let e=navigator.userAgent,t;e.indexOf("Win")!==-1?t="Windows":e.indexOf("Mac")!==-1?t="Mac":e.indexOf("Linux")!==-1?t="Linux":e.indexOf("Android")!==-1?t="Android":e.indexOf("like Mac")!==-1||e.indexOf("iPhone")!==-1||e.indexOf("iPad")!==-1?t="iOS":t="Unknown";let n;return/Mobile|iPhone|iPod|Android/i.test(e)?n="Mobile":/Tablet|iPad/i.test(e)?n="Tablet":n="Desktop",{model:t,family:t,device:n}}var zX=class tP{constructor(t){hn(this,"_parent"),hn(this,"breadcrumbs",[]),hn(this,"context",{}),hn(this,"extra",{}),hn(this,"tags",{}),hn(this,"request"),hn(this,"user"),this._parent=t}get parent(){return this._parent}child(){return new tP(this)}setRequest(t){return this.request=t,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(t){return typeof t.timestamp>"u"&&(t.timestamp=new Date().toISOString()),this.breadcrumbs.push(t),this}setExtra(t,n){return this.extra[t]=n,this}removeExtra(t){return delete this.extra[t],this}setContext(t,n){return typeof n.type>"u"&&(n.type=t),this.context[t]=n,this}removeContext(t){return delete this.context[t],this}setTags(t){return this.tags=or(or({},this.tags),t),this}setTag(t,n){return this.tags[t]=n,this}removeTag(t){return delete this.tags[t],this}setUser(t){return this.user=t,this}removeUser(){return this.user=void 0,this}toBody(){let t=[],n=this;for(;n;)t.push(n),n=n.parent;return t.reverse().reduce((r,o)=>{var i;return r.breadcrumbs=[...(i=r.breadcrumbs)!=null?i:[],...o.breadcrumbs],r.extra=or(or({},r.extra),o.extra),r.contexts=or(or({},r.contexts),o.context),r.tags=or(or({},r.tags),o.tags),o.user&&(r.user=o.user),o.request&&(r.request=o.request),r},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},$X=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,FX=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,BX=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,VX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,pd="?",bS="An unknown error occurred",HX="0.0.4";function UX(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(Math.random()*256);return e}function _n(e){return(e+256).toString(16).substring(1)}function WX(){let e=UX(new Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,_n(e[0])+_n(e[1])+_n(e[2])+_n(e[3])+"-"+_n(e[4])+_n(e[5])+"-"+_n(e[6])+_n(e[7])+"-"+_n(e[8])+_n(e[9])+"-"+_n(e[10])+_n(e[11])+_n(e[12])+_n(e[13])+_n(e[14])+_n(e[15])}var qX=[[$X,"chrome"],[BX,"winjs"],[FX,"gecko"]];function YX(e){var t,n,r,o;if(!e.stack)return null;let i=[],l=(r=(n=(t=e.stack).split)==null?void 0:n.call(t,`
`))!=null?r:[];for(let c=0;c<l.length;++c){let d=null,f=null,m=null;for(let[p,g]of qX)if(f=p.exec(l[c]),f){m=g;break}if(!(!f||!m)){if(m==="chrome")d={filename:(o=f[2])!=null&&o.startsWith("address at ")?f[2].substring(11):f[2],function:f[1]||pd,lineno:f[3]?+f[3]:null,colno:f[4]?+f[4]:null};else if(m==="winjs")d={filename:f[2],function:f[1]||pd,lineno:+f[3],colno:f[4]?+f[4]:null};else if(m==="gecko")c===0&&!f[5]&&e.columnNumber!==void 0&&i.length>0&&(i[0].column=e.columnNumber+1),d={filename:f[3],function:f[1]||pd,lineno:f[4]?+f[4]:null,colno:f[5]?+f[5]:null};else continue;!d.function&&d.lineno&&(d.function=pd),i.push(d)}}return i.length?i.reverse():null}function XX(e){let t=YX(e);return{type:e.name,value:e.message,stacktrace:{frames:t??[]}}}function GX(e){let t=VX.exec(e),n=t?t.slice(1):[];if(n.length!==6)throw new Error("Invalid DSN");let r=n[5].split("/"),o=r.slice(0,-1).join("/");return n[0]+"://"+n[3]+(n[4]?":"+n[4]:"")+(o?"/"+o:"")+"/api/"+r.pop()+"/envelope/?sentry_version=7&sentry_key="+n[1]+(n[2]?"&sentry_secret="+n[2]:"")}function KX(e,t,n){var r,o;let i=or({event_id:WX().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:HX},environment:t,release:n,timestamp:Date.now()/1e3},e.scope.toBody());if(e.type==="exception"){i.message=(o=(r=e.error)==null?void 0:r.message)!=null?o:"Unknown error",i.fingerprint=[i.message];let l=[],c=e.error;for(let d=0;d<5&&c&&(l.push(XX(c)),!(!c.cause||!(c.cause instanceof Error)));d++)c=c.cause;i.exception={values:l.reverse()}}return e.type==="message"&&(i.message=e.message,i.level=e.level),i}function QX(e){if(e instanceof Error)return e;if(typeof e=="string")return new Error(e);if(typeof e=="object"&&e!==null&&!Array.isArray(e)){let n=e,{message:r}=n,o=IX(n,["message"]),i=new Error(typeof r=="string"?r:bS);return Object.assign(i,o)}let t=new Error(bS);return Object.assign(t,{cause:e})}function JX(e,t,n){return ml(this,null,function*(){var r,o;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let i;if(n){let d=new AbortController;i=d.signal,setTimeout(()=>d.abort(),n)}let l=yield fetch(e,J2(or({},t),{signal:i})),c=yield l.text();return{status:l.status,body:c}}return yield new Promise((i,l)=>{var c,d;let f=new XMLHttpRequest;if(f.open((c=t==null?void 0:t.method)!=null?c:"GET",e),f.onload=()=>i({status:f.status,body:f.responseText}),f.onerror=()=>l(new Error("XHR Network Error")),t==null?void 0:t.headers)for(let[m,p]of Object.entries(t.headers))f.setRequestHeader(m,p);if(n){let m=setTimeout(()=>{f.abort(),l(new Error("Request timed out"))},n);f.onloadend=()=>{clearTimeout(m)}}f.send((d=t==null?void 0:t.body)==null?void 0:d.toString())})}catch(i){return{status:0,body:(o=(r=i==null?void 0:i.toString)==null?void 0:r.call(i))!=null?o:"Unknown error"}}})}var Yn,qg=(Yn=class{constructor(e){hn(this,"apiURL"),hn(this,"dsn"),hn(this,"environment"),hn(this,"release"),hn(this,"sampleRate"),hn(this,"debug"),hn(this,"_scope"),hn(this,"shouldBuffer",!1),hn(this,"bufferlimit",20),hn(this,"buffer",[]);var t,n,r,o,i;this.environment=e.environment,this.release=e.release,this.sampleRate=(t=e.sampleRate)!=null?t:1,this.debug=(n=e.debug)!=null?n:!1,this._scope=(r=e.scope)!=null?r:new zX,this.apiURL=GX(e.dsn),this.dsn=e.dsn,this.shouldBuffer=(o=e.buffer)!=null?o:!1,this.bufferlimit=(i=e.bufferLimit)!=null?i:20}static init(e){Yn._instance||(Yn._instance=new Yn(e))}static get instance(){if(!Yn._instance)throw new Error("Sentry has not been initialized");return Yn._instance}log(...e){this.debug&&console.log(...e)}get scope(){return this._scope}static get scope(){return Yn.instance.scope}withScope(e){let t=this._scope.child();e(t)}static withScope(e){Yn.instance.withScope(e)}captureException(e,t){this.captureEvent({type:"exception",level:"error",error:QX(e),scope:t??this._scope})}static captureException(e,t){Yn.instance.captureException(e,t)}captureMessage(e,t="info",n){this.captureEvent({type:"message",level:t,message:e,scope:n??this._scope})}static captureMessage(e,t="info",n){Yn.instance.captureMessage(e,t,n)}captureEvent(e){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(e)}else this.sendEvent(e)}sendEvent(e,t=5e3){return ml(this,null,function*(){try{this.log("Sending sentry event",e);let n=KX(e,this.environment,this.release),r={event_id:n.event_id,dsn:this.dsn},o={type:"event"},i=JSON.stringify(r)+`
`+JSON.stringify(o)+`
`+JSON.stringify(n),l=yield JX(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:i},t);this.log("Sentry response",l.status),l.status!==200&&(console.log(l.body),console.error("Failed to send event to Sentry",l))}catch(n){console.error("Failed to send event",n)}})}flush(e=5e3){return ml(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let t=this.buffer.splice(0,this.buffer.length).map(n=>this.sendEvent(n,e));yield Promise.all(t),this.log("Flushed all events")}catch(t){console.error("Failed to flush events",t)}})}static flush(e=5e3){return Yn.instance.flush(e)}static reset(){Yn._instance=void 0}},hn(Yn,"_instance"),Yn),ZX="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",eG="2.3.0",tG="production";function nG(e=!0){if(!e)return SS();qg.init({dsn:ZX,release:eG,environment:tG});let t=qg.scope;return MX(t),SS(t)}function SS(e=null){return{addBreadcrumb:t=>{e&&e.addBreadcrumb(t)},captureRequest:t=>{e&&e.setRequest(t)},captureException:t=>{e&&qg.captureException(t,e)}}}function rG({scriptLocation:e,query:t,loadAsync:n=!0,crossOrigin:r="anonymous",apihost:o="https://js.hcaptcha.com",cleanup:i=!1,secureApi:l=!1,scriptSource:c=""}={},d){let f=eP(e),m=Z2(f);return new Promise((p,g)=>{let x=m.document.createElement("script");x.id=TX,c?x.src=`${c}?onload=${Ed}`:l?x.src=`${o}/1/secure-api.js?onload=${Ed}`:x.src=`${o}/1/api.js?onload=${Ed}`,x.crossOrigin=r,x.async=n;let b=(v,w)=>{try{!l&&i&&f.removeChild(x),w(v)}catch(k){g(k)}};x.onload=v=>b(v,p),x.onerror=v=>{d&&d(x.src),b(v,g)},x.src+=t!==""?`&${t}`:"",f.appendChild(x)})}var hd=[];function oG(e={cleanup:!1},t){try{t.addBreadcrumb({category:oi,message:"hCaptcha loader params",data:e});let n=eP(e.scriptLocation),r=Z2(n),o=hd.find(({scope:l})=>l===r.window);if(o)return t.addBreadcrumb({category:oi,message:"hCaptcha already loaded"}),o.promise;let i=new Promise((l,c)=>ml(this,null,function*(){try{r.window[Ed]=()=>{t.addBreadcrumb({category:oi,message:"hCaptcha script called onload function"}),l(r.window.hcaptcha)};let d=RX({custom:e.custom,render:e.render,sentry:e.sentry,assethost:e.assethost,imghost:e.imghost,reportapi:e.reportapi,endpoint:e.endpoint,host:e.host,recaptchacompat:e.recaptchacompat,hl:e.hl,uj:e.uj});yield rG(or({query:d},e),f=>{t.captureRequest({url:f,method:"GET"})}),t.addBreadcrumb({category:oi,message:"hCaptcha loaded",data:o})}catch{t.addBreadcrumb({category:oi,message:"hCaptcha failed to load"});let f=hd.findIndex(m=>m.scope===r.window);f!==-1&&hd.splice(f,1),c(new Error(wS))}}));return hd.push({promise:i,scope:r.window}),i}catch(n){return t.captureException(n),Promise.reject(new Error(wS))}}function nP(e,t,n=0){return ml(this,null,function*(){var r,o;let i=(r=e.maxRetries)!=null?r:2,l=(o=e.retryDelay)!=null?o:1e3,c=n<i?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield oG(e,t)}catch(d){return t.addBreadcrumb({category:oi,message:c}),n>=i?(t.captureException(d),Promise.reject(d)):(t.addBreadcrumb({category:oi,message:`Waiting ${l}ms before retry attempt ${n+1}`}),yield OX(l),n+=1,nP(e,t,n))}})}function iG(){return ml(this,arguments,function*(e={}){let t=nG(e.sentry);return yield nP(e,t)})}function kS(e){let t=e&&e.ownerDocument||document,n=t.defaultView||t.parentWindow||window;return{document:t,window:n}}function CS(e){return e||document.head}var sG=class extends S.Component{constructor(e){super(e),this._hcaptcha=void 0,this.renderCaptcha=this.renderCaptcha.bind(this),this.resetCaptcha=this.resetCaptcha.bind(this),this.removeCaptcha=this.removeCaptcha.bind(this),this.isReady=this.isReady.bind(this),this._onReady=null,this.loadCaptcha=this.loadCaptcha.bind(this),this.handleOnLoad=this.handleOnLoad.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleExpire=this.handleExpire.bind(this),this.handleError=this.handleError.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleChallengeExpired=this.handleChallengeExpired.bind(this),this.ref=S.createRef(),this.apiScriptRequested=!1,this.sentryHub=null,this.captchaId="",this._pendingExecute=null,this.state={isApiReady:!1,isRemoved:!1,elementId:e.id}}componentDidMount(){let e=CS(this.props.scriptLocation),t=kS(e);if(this._hcaptcha=t.window.hcaptcha||void 0,typeof this._hcaptcha<"u"){this.setState({isApiReady:!0},()=>{this.renderCaptcha()});return}this.loadCaptcha()}componentWillUnmount(){let e=this._hcaptcha,t=this.captchaId;if(this._cancelPendingExecute("react-component-unmounted"),!!this.isReady())try{e.reset(t),e.remove(t)}catch{}finally{this.captchaId="",this._onReady=null}}shouldComponentUpdate(e,t){return!(this.state.isApiReady!==t.isApiReady||this.state.isRemoved!==t.isRemoved)}componentDidUpdate(e){["sitekey","size","theme","tabindex","languageOverride","endpoint"].every(t=>e[t]===this.props[t])||this.removeCaptcha(()=>{this.renderCaptcha()})}loadCaptcha(){if(this.apiScriptRequested)return;let{apihost:e,assethost:t,endpoint:n,host:r,imghost:o,languageOverride:i,reCaptchaCompat:l,reportapi:c,sentry:d,custom:f,loadAsync:m,scriptLocation:p,scriptSource:g,secureApi:x,cleanup:b=!0,userJourneys:v}=this.props;iG({render:"explicit",apihost:e,assethost:t,endpoint:n,hl:i,host:r,imghost:o,recaptchacompat:l===!1?"off":null,reportapi:c,sentry:d,custom:f,loadAsync:m,scriptLocation:p,scriptSource:g,secureApi:x,cleanup:b,uj:v!==void 0?v:!1}).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}renderCaptcha(e){let{onReady:t}=this.props,{isApiReady:n}=this.state,r=this.captchaId;if(!n||r)return;let o=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),i=this._hcaptcha.render(this.ref.current,o);this.captchaId=i,this.setState({isRemoved:!1},()=>{e&&e(),t&&t(),this._onReady&&this._onReady(i)})}resetCaptcha(){let e=this._hcaptcha,t=this.captchaId;this.isReady()&&(e.reset(t),this._cancelPendingExecute("hcaptcha-reset"))}removeCaptcha(e){let t=this._hcaptcha,n=this.captchaId;this._cancelPendingExecute("hcaptcha-removed"),this.isReady()&&this.setState({isRemoved:!0},()=>{this.captchaId="",t.remove(n),e&&e()})}handleOnLoad(){this.setState({isApiReady:!0},()=>{let e=CS(this.props.scriptLocation),t=kS(e);this._hcaptcha=t.window.hcaptcha,this.renderCaptcha(()=>{let{onLoad:n}=this.props;n&&n()})})}handleSubmit(e){let{onVerify:t}=this.props,{isRemoved:n}=this.state,r=this._hcaptcha,o=this.captchaId;if(typeof r>"u"||n)return;let i=r.getResponse(o),l=r.getRespKey(o);t&&t(i,l)}handleExpire(){let{onExpire:e}=this.props,t=this._hcaptcha,n=this.captchaId;this.isReady()&&(t.reset(n),e&&e())}handleError(e){let{onError:t}=this.props,n=this._hcaptcha,r=this.captchaId;this.isReady()&&n.reset(r),t&&t(e)}isReady(){let{isApiReady:e,isRemoved:t}=this.state;return e&&!t}_cancelPendingExecute(e){if(!this._pendingExecute)return;let t=this._pendingExecute;this._pendingExecute=null;let n=new Error(e);t.reject(n)}handleOpen(){!this.isReady()||!this.props.onOpen||this.props.onOpen()}handleClose(){!this.isReady()||!this.props.onClose||this.props.onClose()}handleChallengeExpired(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()}execute(e=null){e=typeof e=="object"?e:null;try{let t=this._hcaptcha,n=this.captchaId;if(e&&e.async&&this._pendingExecute&&this._cancelPendingExecute("hcaptcha-execute-replaced"),!this.isReady())return e&&e.async?new Promise((o,i)=>{this._pendingExecute={resolve:o,reject:i},this._onReady=l=>{if(this._pendingExecute)try{let c=t.execute(l,e);c&&typeof c.then=="function"?c.then(d=>{this._pendingExecute=null,o(d)}).catch(d=>{this._pendingExecute=null,i(d)}):(this._pendingExecute=null,i(new Error("hcaptcha-execute-no-promise")))}catch(c){this._pendingExecute=null,i(c)}}}):(this._onReady=o=>{t.execute(o,e)},null);let r=t.execute(n,e);return e&&e.async&&r&&typeof r.then=="function"?new Promise((o,i)=>{this._pendingExecute={resolve:o,reject:i},r.then(l=>{this._pendingExecute=null,o(l)}).catch(l=>{this._pendingExecute=null,i(l)})}):r}catch(t){return e&&e.async?Promise.reject(t):null}}close(){let e=this._hcaptcha,t=this.captchaId;if(this._cancelPendingExecute("hcaptcha-closed"),!!this.isReady())return e.close(t)}setData(e){let t=this._hcaptcha,n=this.captchaId;this.isReady()&&(e&&typeof e!="object"&&(e=null),t.setData(n,e))}getResponse(){return this._hcaptcha.getResponse(this.captchaId)}getRespKey(){return this._hcaptcha.getRespKey(this.captchaId)}render(){let{elementId:e}=this.state;return S.createElement("div",{ref:this.ref,id:e})}};S.createContext();var lG=sG;function aG(e){const t=Object.values(e.petriNetsById).map(i=>{const l=i.nodes.filter(f=>f.type==="place").map(f=>`<place id="${f.id}">
            <posattr x="${f.position.x}" y="${f.position.y}"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="Solid"/>
            <textattr colour="Black" bold="false"/>
            <text>${f.data.label}</text>
            <ellipse w="60.000000" h="40.000000"/>
            <type id="${f.data.colorSet}">
              <text>${f.data.colorSet}</text>
            </type>
            <initmark id="${f.id}_initmark">
              <text>${f.data.initialMarking||""}</text>
            </initmark>
          </place>`).join(`
`),c=i.nodes.filter(f=>f.type==="transition").map(f=>`<trans id="${f.id}">
            <posattr x="${f.position.x}" y="${f.position.y}"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="solid"/>
            <textattr colour="Black" bold="false"/>
            <text>${f.data.label}</text>
            <box w="60.000000" h="40.000000"/>
            ${f.data.guard?`<cond id="${f.id}_guard">
                  <text>${f.data.guard}</text>
                </cond>`:""}
            ${f.data.time?`<time id="${f.id}_time">
                  <text>${f.data.time}</text>
                </time>`:""}
            ${f.data.priority?`<priority id="${f.id}_priority">
                  <text>${f.data.priority}</text>
                </priority>`:""}
          </trans>`).join(`
`),d=i.edges.map(f=>`<arc id="${f.id}" orientation="PtoT">
            <posattr x="0.000000" y="0.000000"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="Solid"/>
            <textattr colour="Black" bold="false"/>
            <arrowattr headsize="1.200000" currentcyckle="2"/>
            <transend idref="${f.target}"/>
            <placeend idref="${f.source}"/>
            <annot id="${f.id}_inscription">
              <text>${f.label||""}</text>
            </annot>
          </arc>`).join(`
`);return`<page id="${i.id}">
        <pageattr name="${i.name}"/>
        ${l}
        ${c}
        ${d}
        <constraints/>
      </page>`}).join(`
`),n=e.uses.map(i=>`<use file="${i.name}"/>`).join(`
`),r=e.functions.map(i=>`<ml id="${i.id}">
        ${i.code}
        <layout>${i.code}</layout>
      </ml>`).join(`
        `);return`<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE workspaceElements PUBLIC "-//CPN//DTD CPNXML 1.0//EN" "http://cpntools.org/DTD/6/cpn.dtd">
<workspaceElements>
  <generator tool="CPN Tools" version="4.0.1" format="6"/>
  <cpnet>
    <globbox>
      ${n}
      <block id="ID2">
        <id>Standard priorities</id>
        ${e.priorities.map(i=>`<ml id="${i.id}">
          val ${i.name} = ${i.level};
          <layout>val ${i.name} = ${i.level};</layout>
        </ml>`).join(`
        `)}
      </block>
      <block id="ID1">
        <id>Standard declarations</id>
        ${e.colorSets.map(i=>{const l=["int","unit","bool","intinf","time","real","string"],c=i.definition.match(/colset\s+\w+\s*=\s*(\w+);$/),d=c?c[1].toLowerCase():null;return`<color id="${i.id}">
              <id>${i.name}</id>
              ${d&&l.includes(d)?`<${d}/>`:""}
              <layout>${i.definition}</layout>
            </color>`}).join(`
        `)}
        ${e.variables.map(i=>`<var id="${i.id}">
          <type>
            <id>${i.colorSet}</id>
          </type>
          <id>${i.name}</id>
          <layout>var ${i.name}:${i.colorSet};</layout>
        </var>`).join(`
        `)}
        ${r}
      </block>
    </globbox>
    ${t}
    <monitorblock name="Monitors"/>
  </cpnet>
</workspaceElements>`}function cG(e){const t=Object.values(e.petriNetsById).flatMap(o=>o.nodes),n=Object.values(e.petriNetsById).flatMap(o=>o.edges),r={$schema:"http://json-schema.org/draft-07/schema#",colorSets:e.colorSets.map(o=>o.definition),places:t.filter(o=>o.type==="place").map(o=>({name:o.data.label,colorSet:o.data.colorSet})),transitions:t.filter(o=>o.type==="transition").map(o=>({name:o.data.label,variables:o.data.variables||[],guard:o.data.guard||"True",inArcs:n.filter(i=>i.target===o.id).map(i=>{var l;return{place:((l=t.find(c=>c.id===i.source))==null?void 0:l.data.label)||"",expression:i.label||""}}),outArcs:n.filter(i=>i.source===o.id).map(i=>{var l;return{place:((l=t.find(c=>c.id===i.target))==null?void 0:l.data.label)||"",expression:i.label||""}})})),initialMarking:t.filter(o=>o.type==="place").reduce((o,i)=>{const l=i.data.initialMarking||[];return o[String(i.data.label)]=l&&Array.isArray(l)?{tokens:l.map(c=>Array.isArray(c)?c.map(d=>typeof d=="string"?d:Number(d)):[typeof c=="string"?c:Number(c)])}:{tokens:[]},o},{}),evaluationContext:null};return JSON.stringify(r,null,2)}function np(e){var n;const t={petriNets:e.petriNetOrder.map(r=>{const o=e.petriNetsById[r];return{id:o.id,name:o.name,places:o.nodes.filter(i=>i.type==="place").map(i=>({id:i.id,name:i.data.label,colorSet:i.data.colorSet,initialMarking:i.data.initialMarking||"",marking:i.data.marking||"",position:i.position,size:i.measured||{width:50,height:30},colorSetOffset:i.data.colorSetOffset||void 0,tokenCountOffset:i.data.tokenCountOffset||void 0,markingOffset:i.data.markingOffset||void 0})),transitions:o.nodes.filter(i=>i.type==="transition").map(i=>({id:i.id,name:i.data.label,guard:i.data.guard||"",time:i.data.time||"",priority:i.data.priority||"",position:i.position,size:i.measured||{width:50,height:30}})),arcs:o.edges.map(i=>{var l,c,d;return{id:i.id,source:i.source,target:i.target,inscription:i.label||"",isBidirectional:((l=i.data)==null?void 0:l.isBidirectional)||!1,labelOffset:((c=i.data)==null?void 0:c.labelOffset)||void 0,bendpoints:((d=i.data)==null?void 0:d.bendpoints)||void 0}})}}),colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses,simulationSettings:e.simulationSettings||void 0,simulationEpoch:((n=e.simulationSettings)==null?void 0:n.simulationEpoch)||void 0};return JSON.stringify(t,null,2)}function uG(e){const t=JSON.parse(e);if(!t||!Array.isArray(t.petriNets))throw new Error("Invalid JSON format: Missing 'petriNets' array.");const n={},r=[];t.petriNets.forEach(m=>{const p=m.places.map(v=>{var w,k;return{id:v.id,type:"place",position:v.position||{x:0,y:0},data:{label:v.name,colorSet:v.colorSet,initialMarking:v.initialMarking||"",marking:v.marking||"",colorSetOffset:v.colorSetOffset||void 0,tokenCountOffset:v.tokenCountOffset||void 0,markingOffset:v.markingOffset||void 0},width:((w=v.size)==null?void 0:w.width)||50,height:((k=v.size)==null?void 0:k.height)||30}}),g=m.transitions.map(v=>{var w,k;return{id:v.id,type:"transition",position:v.position||{x:0,y:0},data:{label:v.name,guard:v.guard||"",time:v.time||"",priority:v.priority||""},width:((w=v.size)==null?void 0:w.width)||50,height:((k=v.size)==null?void 0:k.height)||30}}),x=m.arcs.map(v=>({id:v.id,source:v.source,target:v.target,label:v.inscription||"",data:{isBidirectional:v.isBidirectional||!1,labelOffset:v.labelOffset||void 0,bendpoints:v.bendpoints||void 0}})),b={id:m.id,name:m.name,nodes:[...p,...g],edges:x,selectedElement:null};n[m.id]=b,r.push(m.id)});const o=t.colorSets||[],i=t.variables||[],l=t.priorities||[],c=t.functions||[],d=t.uses||[],f=t.simulationSettings?{stepsPerRun:t.simulationSettings.stepsPerRun,animationDelayMs:t.simulationSettings.animationDelayMs,simulationEpoch:t.simulationSettings.simulationEpoch}:void 0;return{petriNetsById:n,petriNetOrder:r,colorSets:o,variables:i,priorities:l,functions:c,uses:d,simulationSettings:f}}function dG(e,t){const n=new Blob([e],{type:"text/plain;charset=utf-8"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}function fG(e,t){var n;try{const r=(n=t.split(".").pop())==null?void 0:n.toLowerCase();if(r==="ocpn")return uG(e);if(r==="json")return hG(e);if((r==="xml"||r==="cpn")&&(e.includes("<workspaceElements>")||e.includes("<cpnet>")))return pG(e);throw new Error("Unsupported file format")}catch(r){return console.error("Error parsing file:",r),null}}function Ta(){const e="0123456789ABCDEF";let t="#";for(let n=0;n<6;n++)t+=e[Math.floor(Math.random()*16)];return t}function pG(e){const n=new DOMParser().parseFromString(e,"text/xml"),r={},o=[],i=Array.from(n.querySelectorAll("globbox color")).map(p=>{var C,_;const g=((C=p.querySelector("id"))==null?void 0:C.textContent)||"",x=p.querySelector("product");if(x){const R=Array.from(x.querySelectorAll(":scope > id")).map(T=>T.textContent||""),P=`colset ${g} = product ${R.join(" * ")};`;return{id:g,name:g,type:"product",definition:P,color:Ta()}}const b=p.querySelector("int");if(b){const R=b.querySelector("with");if(R){const P=R.querySelectorAll("ml");if(P.length>=2){const T=P[0].textContent||"0",L=P[1].textContent||"0",U=`colset ${g} = int with ${T}..${L};`;return{id:g,name:g,type:"basic",definition:U,color:Ta()}}}return{id:g,name:g,type:"basic",definition:`colset ${g} = int;`,color:Ta()}}const v=Array.from(p.children).find(R=>{const P=R.tagName.toLowerCase();return["bool","string","real","unit","time","intinf"].includes(P)}),w=v?v.tagName.toLowerCase():null,k=((_=p.querySelector("layout"))==null?void 0:_.textContent)||"",E=w?`colset ${g} = ${w};`:k||`colset ${g} = complex;`;return{id:g,name:g,type:w?"basic":"complex",definition:E,color:Ta()}}),l=Array.from(n.querySelectorAll("globbox var")).flatMap(p=>{var E,C;const g=p.getAttribute("id")||ot(),x=((E=p.querySelector("type > id"))==null?void 0:E.textContent)||"",b=((C=p.querySelector("layout"))==null?void 0:C.textContent)||"",v=Array.from(p.querySelectorAll(":scope > id"));if(v.length>0)return v.map((_,R)=>({id:`${g}_${R}`,name:_.textContent||"",colorSet:x}));const w=b.match(/var\s+([^:]+):/);return!w||!w[1]?(console.warn(`Could not parse variable names from layout: ${b}`),[]):w[1].split(",").map(_=>_.trim()).filter(_=>_).map((_,R)=>({id:`${g}_${R}`,name:_,colorSet:x}))}),c=Array.from(n.querySelectorAll("globbox ml")).reduce((p,g)=>{var v;const b=(((v=g.querySelector("layout"))==null?void 0:v.textContent)||"").match(/val\s+(\w+)\s*=\s*(\d+);/);return b&&p.push({id:ot(),name:b[1],level:parseInt(b[2],10)}),p},[]),d=[];Array.from(n.querySelectorAll("globbox block ml")).forEach(p=>{var b;const g=((b=p.querySelector("layout"))==null?void 0:b.textContent)||"",x=p.getAttribute("id")||ot();if(g.trim().startsWith("fun ")){const v=g.match(/^fun\s+([a-zA-Z0-9_]+)/),w=v?v[1]:`func_${x}`;d.push({id:x,name:w,code:g})}}),Array.from(n.querySelectorAll("globbox > ml")).forEach(p=>{var b;const g=((b=p.textContent)==null?void 0:b.trim())||"",x=p.getAttribute("id")||ot();if(g.startsWith("fun ")){const v=g.match(/^fun\s+([a-zA-Z0-9_]+)/),w=v?v[1]:`func_${x}`;d.push({id:x,name:w,code:g})}});const f=Array.from(n.querySelectorAll("globbox use")).map(p=>{var w,k;const g=((w=p.querySelector("ml"))==null?void 0:w.textContent)||"",x=((k=p.querySelector("layout"))==null?void 0:k.textContent)||"",b=g.match(/"([^"]+)"/)||x.match(/"([^"]+)"/),v=b?b[1]:"";return{id:ot(),name:v,content:""}});return Array.from(n.querySelectorAll("page")).forEach(p=>{var _;const g=p.getAttribute("id")||ot(),x=((_=p.querySelector("pageattr"))==null?void 0:_.getAttribute("name"))||`Page ${g}`,b=(R,P,T,L,U,z,B,q="text")=>{var I;if(!z)return null;const G=((I=z.querySelector(q))==null?void 0:I.textContent)||"";if(!G.trim())return null;const A=z.querySelector("posattr");if(!A)return null;const O=parseFloat(A.getAttribute("x")||"0"),F=-parseFloat(A.getAttribute("y")||"0"),X=P-L/2,D=T-U/2,W=O-X,M=F-D,H=z.querySelector("textattr"),Y=(H==null?void 0:H.getAttribute("colour"))||void 0;return{id:z.getAttribute("id")||ot(),type:"inscription",position:{x:W,y:M},parentId:R,draggable:!0,data:{label:G,inscriptionType:B,color:Y}}},v=Array.from(p.querySelectorAll("place")).flatMap(R=>{var D,W,M,H,Y;const P=R.querySelector("ellipse"),T=P?parseFloat(P.getAttribute("w")||"60"):60,L=P?parseFloat(P.getAttribute("h")||"40"):40,U=((D=R.querySelector("initmark text"))==null?void 0:D.textContent)||"",z=parseFloat(((W=R.querySelector("posattr"))==null?void 0:W.getAttribute("x"))||"0"),B=-parseFloat(((M=R.querySelector("posattr"))==null?void 0:M.getAttribute("y"))||"0"),q=R.getAttribute("id")||ot(),G=R.querySelector("type");let A;if(G){const I=G.querySelector("posattr");if(I){const V=parseFloat(I.getAttribute("x")||"0"),Z=-parseFloat(I.getAttribute("y")||"0");A={x:V-z,y:Z-B}}}const O=R.querySelector("initmark");let F;if(O){const I=O.querySelector("posattr");if(I){const V=parseFloat(I.getAttribute("x")||"0"),Z=-parseFloat(I.getAttribute("y")||"0");F={x:V-z,y:Z-B}}}return[{id:q,type:"place",position:{x:z-T/2,y:B-L/2},width:T,height:L,data:{label:((H=R.querySelector("text"))==null?void 0:H.textContent)||"",colorSet:((Y=R.querySelector("type text"))==null?void 0:Y.textContent)||"",initialMarking:U,colorSetOffset:A,markingOffset:F}}]}),w=Array.from(p.querySelectorAll("trans")).flatMap(R=>{var A,O,F,X,D,W;const P=R.querySelector("box"),T=P?parseFloat(P.getAttribute("w")||"60"):60,L=P?parseFloat(P.getAttribute("h")||"40"):40,U=parseFloat(((A=R.querySelector("posattr"))==null?void 0:A.getAttribute("x"))||"0"),z=-parseFloat(((O=R.querySelector("posattr"))==null?void 0:O.getAttribute("y"))||"0"),B=R.getAttribute("id")||ot(),q={id:B,type:"transition",position:{x:U-T/2,y:z-L/2},width:T,height:L,data:{label:((F=R.querySelector("text"))==null?void 0:F.textContent)||"",guard:((X=R.querySelector("cond text"))==null?void 0:X.textContent)||"",time:((D=R.querySelector("time text"))==null?void 0:D.textContent)||"",priority:((W=R.querySelector("priority text"))==null?void 0:W.textContent)||""}},G=[b(B,U,z,T,L,R.querySelector("cond"),"guard"),b(B,U,z,T,L,R.querySelector("time"),"time"),b(B,U,z,T,L,R.querySelector("priority"),"priority"),b(B,U,z,T,L,R.querySelector("code"),"codeSegment")].filter(M=>M!==null);return[q,...G]}),k=Array.from(p.querySelectorAll("arc")).flatMap(R=>{var O,F,X;const P=R.getAttribute("id")||ot(),T=R.getAttribute("orientation"),L=parseInt(R.getAttribute("order")||"0",10),U=((O=R.querySelector("placeend"))==null?void 0:O.getAttribute("idref"))||"",z=((F=R.querySelector("transend"))==null?void 0:F.getAttribute("idref"))||"",B=((X=R.querySelector("annot text"))==null?void 0:X.textContent)||"",q=Array.from(R.querySelectorAll("bendpoint")).map(D=>{var W,M;return{x:parseFloat(((W=D.querySelector("posattr"))==null?void 0:W.getAttribute("x"))||"0"),y:-parseFloat(((M=D.querySelector("posattr"))==null?void 0:M.getAttribute("y"))||"0")}});if(T==="BOTHDIR")return[{id:P,type:"floating",source:U,target:z,label:B,data:{bendpoints:q,isBidirectional:!0,order:L}}];let G="",A="";return T==="PtoT"?(G=U,A=z):T==="TtoP"?(G=z,A=U):(G=U,A=z,console.warn(`Unhandled arc orientation: ${T} for arc ${P}. Assuming PtoT.`)),[{id:P,type:"floating",source:G,target:A,label:B,data:{bendpoints:q,order:L}}]}),E=Array.from(p.querySelectorAll("Aux")).map(R=>{var G,A,O;const P=R.getAttribute("id")||ot(),T=((G=R.querySelector("text"))==null?void 0:G.textContent)||"",L=parseFloat(((A=R.querySelector("posattr"))==null?void 0:A.getAttribute("x"))||"0"),U=-parseFloat(((O=R.querySelector("posattr"))==null?void 0:O.getAttribute("y"))||"0"),z=R.querySelector("textattr"),B=(z==null?void 0:z.getAttribute("colour"))||void 0,q=(z==null?void 0:z.getAttribute("bold"))==="true";return{id:P,type:"auxText",position:{x:L,y:U},data:{label:T,color:B,bold:q}}}),C={id:g,name:x,nodes:[...v,...w,...E],edges:k,selectedElement:null};r[g]=C,o.push(g)}),{petriNetsById:r,petriNetOrder:o,colorSets:i,variables:l,priorities:c,functions:d,uses:f}}function hG(e){const t=JSON.parse(e),n=t.places.map(c=>{var d;return{id:ot(),type:"place",position:{x:0,y:0},data:{label:c.name,colorSet:c.colorSet,initialMarking:((d=t.initialMarking[c.name])==null?void 0:d.tokens.map(f=>Array.isArray(f)?f:[f]))||[]}}}),r=t.transitions.map(c=>({id:ot(),type:"transition",position:{x:0,y:0},data:{label:c.name,guard:c.guard,variables:c.variables}})),o=t.transitions.flatMap(c=>{const d=r.find(f=>f.data.label===c.name);return[...c.inArcs.map(f=>{var m;return{id:ot(),source:((m=n.find(p=>p.data.label===f.place))==null?void 0:m.id)||"",target:(d==null?void 0:d.id)||"",label:f.expression}}),...c.outArcs.map(f=>{var m;return{id:ot(),source:(d==null?void 0:d.id)||"",target:((m=n.find(p=>p.data.label===f.place))==null?void 0:m.id)||"",label:f.expression}})]}),i=ot(),l={id:i,name:"Default Petri Net",nodes:[...n,...r],edges:o,selectedElement:null};return{petriNetsById:{[i]:l},petriNetOrder:[i],colorSets:t.colorSets.map(c=>({id:ot(),name:c.split(" ")[1],type:"basic",definition:c,color:Ta()})),variables:[],priorities:[],functions:[],uses:[]}}const mG="107df1fd-0a94-4781-ac95-0689be476e62",gG="50b2fe65-b00b-4b9e-ad62-3ba471098be2",NS={"feature-request":"Feature Request","bug-report":"Bug Report","help-other":"Help / Other"},xG={"feature-request":"Describe the feature you'd like to see. What problem does it solve? How would you use it?","bug-report":"What happened? What did you expect to happen? Steps to reproduce the issue","help-other":"What do you need help with? Describe your question or challenge"};function yG({open:e,onOpenChange:t}){const[n,r]=S.useState("feature-request"),[o,i]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(!1),[m,p]=S.useState(null),[g,x]=S.useState("idle"),[b,v]=S.useState(""),w=S.useRef(null),k=S.useContext(jc),E=()=>{var L;r("feature-request"),i(""),c(""),f(!1),p(null),x("idle"),v(""),(L=w.current)==null||L.resetCaptcha()},C=L=>{L||g==="success"&&E(),t(L)},_=()=>{var L,U;try{const z=me.getState(),B={petriNetsById:z.petriNetsById,petriNetOrder:z.petriNetOrder,colorSets:z.colorSets,variables:z.variables,priorities:z.priorities,functions:z.functions,uses:z.uses,simulationSettings:{stepsPerRun:(L=k==null?void 0:k.simulationConfig)==null?void 0:L.stepsPerRun,animationDelayMs:(U=k==null?void 0:k.simulationConfig)==null?void 0:U.animationDelayMs,simulationEpoch:z.simulationEpoch}};return np(B)}catch{return null}},R=async L=>{if(L.preventDefault(),!m){v("Please complete the captcha verification.");return}if(!o.trim()){v("Please enter a message.");return}x("sending"),v("");try{const U=new FormData;if(U.append("access_key",mG),U.append("subject",`OCPN Tools Feedback: ${NS[n]}`),U.append("from_name","OCPN Tools Feedback"),U.append("category",NS[n]),U.append("message",o),U.append("h-captcha-response",m),l.trim()?(U.append("email",l),U.append("replyto",l)):U.append("email","noreply@ocpn-tools.feedback"),d){const q=_();if(q){const G=q.length>5e4?q.substring(0,5e4)+`
... (truncated)`:q;U.append("petri_net_model",G)}}const B=await(await fetch("https://api.web3forms.com/submit",{method:"POST",body:U})).json();B.success?x("success"):(x("error"),v(B.message||"Something went wrong. Please try again."))}catch{x("error"),v("Network error. Please check your connection and try again.")}},P=L=>{p(L),v("")},T=()=>{p(null)};return u.jsx(rn,{open:e,onOpenChange:C,children:u.jsxs(on,{className:"sm:max-w-[500px]",children:[u.jsxs(sn,{children:[u.jsx(ln,{children:"Send Feedback"}),u.jsx(Po,{children:"Help us improve OCPN Tools. Your feedback is greatly appreciated!"})]}),g==="success"?u.jsxs("div",{className:"flex flex-col items-center gap-4 py-8",children:[u.jsx(bI,{className:"h-12 w-12 text-green-500"}),u.jsx("p",{className:"text-center text-lg font-medium",children:"Thank you for your feedback!"}),u.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"We appreciate you taking the time to help us improve."}),u.jsx(ge,{onClick:()=>{E(),t(!1)},children:"Close"})]}):u.jsxs("form",{onSubmit:R,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{children:"Category"}),u.jsxs(Gx,{value:n,onValueChange:L=>r(L),className:"flex flex-row gap-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Co,{value:"feature-request",id:"cat-feature"}),u.jsx(je,{htmlFor:"cat-feature",className:"font-normal cursor-pointer",children:"Feature Request"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Co,{value:"bug-report",id:"cat-bug"}),u.jsx(je,{htmlFor:"cat-bug",className:"font-normal cursor-pointer",children:"Bug Report"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Co,{value:"help-other",id:"cat-help"}),u.jsx(je,{htmlFor:"cat-help",className:"font-normal cursor-pointer",children:"Help / Other"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"feedback-message",children:"Message"}),u.jsx(wl,{id:"feedback-message",placeholder:xG[n],value:o,onChange:L=>i(L.target.value),className:"min-h-[120px] resize-y",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(je,{htmlFor:"feedback-email",children:["Email"," ",u.jsx("span",{className:"text-muted-foreground font-normal",children:"(optional  if you'd like a reply)"})]}),u.jsx(at,{id:"feedback-email",type:"email",placeholder:"your@email.com",value:l,onChange:L=>c(L.target.value)})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Jx,{id:"include-model",checked:d,onCheckedChange:L=>f(L===!0)}),u.jsx(je,{htmlFor:"include-model",className:"font-normal cursor-pointer text-sm",children:"Include the currently loaded Petri Net and its simulation state"})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx(lG,{ref:w,sitekey:gG,reCaptchaCompat:!1,onVerify:P,onExpire:T})}),b&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[u.jsx(vI,{className:"h-4 w-4 shrink-0"}),b]}),u.jsxs(Sr,{children:[u.jsx(ge,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Cancel"}),u.jsx(ge,{type:"submit",disabled:g==="sending",children:g==="sending"?u.jsxs(u.Fragment,{children:[u.jsx(XI,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending"]}):"Send Feedback"})]})]})]})})}function vG({onToggleAIAssistant:e}){const[t,n]=S.useState(!1),[r,o]=S.useState(!1);return u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Pn,{children:u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:()=>n(!0),children:[u.jsx(kI,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Help & Documentation"})]})})}),u.jsx(un,{children:u.jsx("p",{children:"Help & Documentation"})})]})}),u.jsx(Pn,{children:u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:()=>o(!0),children:[u.jsx(KI,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Send Feedback"})]})})}),u.jsx(un,{children:u.jsx("p",{children:"Send Feedback"})})]})}),u.jsx(Pn,{children:u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:e,children:[u.jsx(yT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Toggle AI Assistant"})]})})}),u.jsx(un,{children:u.jsx("p",{children:"Toggle AI Assistant"})})]})}),u.jsx(jX,{open:t,onOpenChange:n}),u.jsx(yG,{open:r,onOpenChange:o})]})}const wG=e=>({petriNetOrder:e.petriNetOrder,petriNetsById:e.petriNetsById,activePetriNetId:e.activePetriNetId,colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses,simulationEpoch:e.simulationEpoch,setSimulationEpoch:e.setSimulationEpoch,createPetriNet:e.createPetriNet,setActivePetriNet:e.setActivePetriNet,setNodes:e.setNodes,setEdges:e.setEdges,setColorSets:e.setColorSets,setVariables:e.setVariables,setPriorities:e.setPriorities,setFunctions:e.setFunctions,setUses:e.setUses,toggleArcMode:e.toggleArcMode,reset:e.reset}),bG={type:"floating",markerEnd:{type:nc.ArrowClosed,color:"#000",width:10,height:10}},SG=({onToggleAIAssistant:e})=>{const[t,n]=S.useState(!1),[r,o]=S.useState(!1),[i,l]=S.useState(!1),[c,d]=S.useState(""),[f,m]=S.useState(!1),[p,g]=S.useState(null),[x,b]=S.useState(""),[v,w]=S.useState(!1),[k,E]=S.useState({x:0,y:0}),C=S.useRef({snappedPositions:new Map,isDragging:!1,isSnapping:!1}),_=S.useContext(jc),{petriNetOrder:R,petriNetsById:P,activePetriNetId:T,colorSets:L,variables:U,priorities:z,functions:B,uses:q,simulationEpoch:G,setSimulationEpoch:A,createPetriNet:O,setActivePetriNet:F,setNodes:X,setEdges:D,setColorSets:W,setVariables:M,setPriorities:H,setFunctions:Y,setUses:I,toggleArcMode:V,reset:Z}=me(LH(wG)),J=me(he=>T?he.petriNetsById[T]:null),K=MH(T||""),{onNodesChange:te,onEdgesChange:Q,onConnect:ie}=T?K:{onNodesChange:()=>{},onEdgesChange:()=>{},onConnect:()=>{}},{fitView:le,screenToFlowPosition:de}=di(),fe=O3(),[xe]=W_(),{undo:De,redo:Me}=me.temporal.getState(),it=S.useSyncExternalStore(me.temporal.subscribe,()=>me.temporal.getState().pastStates.length>0),nt=S.useSyncExternalStore(me.temporal.subscribe,()=>me.temporal.getState().futureStates.length>0);S.useEffect(()=>{fe&&le({padding:.35,maxZoom:4})},[fe,le]),S.useEffect(()=>{const he=Ne=>{const re=Ne.target;if(re.tagName==="INPUT"||re.tagName==="TEXTAREA"||re.isContentEditable)return;const Ce=Ne.metaKey||Ne.ctrlKey;if(Ne.code==="KeyZ"&&Ce&&!Ne.shiftKey){Ne.preventDefault(),De();return}if(Ne.code==="KeyZ"&&Ce&&Ne.shiftKey){Ne.preventDefault(),Me();return}if(!_)return;const{isRunning:Be,runStep:Ee,runMultipleStepsAnimated:Ze,runMultipleStepsFast:Fe,reset:Oe,stop:Ge,simulationConfig:dt}=_;if(Ne.code==="Space"&&!Ne.shiftKey&&!Ce){Ne.preventDefault(),Be?Ge():Ze(dt.stepsPerRun,dt.animationDelayMs);return}if(Ne.code==="ArrowRight"&&Ce&&!Ne.shiftKey){Ne.preventDefault(),Be||Ee();return}if(Ne.code==="ArrowRight"&&Ce&&Ne.shiftKey){Ne.preventDefault(),Be||Fe(dt.stepsPerRun);return}if(Ne.code==="ArrowLeft"&&Ce&&!Ne.shiftKey){Ne.preventDefault(),Be||Oe();return}if(Ne.code==="Escape"){Be&&(Ne.preventDefault(),Ge());return}};return window.addEventListener("keydown",he),()=>window.removeEventListener("keydown",he)},[_,De,Me]);const et=[{key:"bottom",label:[""],angle:90},{key:"undo",label:["Undo"],angle:150,disabled:!0},{key:"redo",label:["Redo"],angle:30,disabled:!0},{key:"new-place",label:["New","Place"],angle:210},{key:"create-aux",label:["Create aux","text"],angle:270,disabled:!0},{key:"new-transition",label:["New","Transition"],angle:330}],ke=(he,Ne)=>{if(he){if(Z(),Object.values(he.petriNetsById).forEach(re=>{me.getState().addPetriNet(re)}),he.petriNetOrder.length>0&&me.getState().setActivePetriNet(he.petriNetOrder[0]),he.colorSets&&W(he.colorSets),he.variables&&M(he.variables),he.priorities&&H(he.priorities),he.functions&&Y(he.functions),he.uses&&I(he.uses),he.simulationSettings&&(he.simulationSettings.simulationEpoch!==void 0&&A(he.simulationSettings.simulationEpoch),_!=null&&_.setSimulationConfig)){const re=_.simulationConfig;_.setSimulationConfig({...re,stepsPerRun:he.simulationSettings.stepsPerRun??re.stepsPerRun,animationDelayMs:he.simulationSettings.animationDelayMs??re.animationDelayMs})}if(Ne.endsWith(".json")){const re={algorithm:"dagre",direction:"TB",nodeSeparation:150,rankSeparation:50};Object.values(he.petriNetsById).forEach(Ce=>{Tt(re,Ce.nodes,Ce.edges)})}else window.requestAnimationFrame(()=>{le({padding:.35,maxZoom:4})})}},We=(he,Ne)=>{_?_.reset():console.error("Simulation context not found, cannot reset simulation state.");const re=fG(he,Ne);re?ke(re,Ne):alert("Failed to parse the file. Please check the file format.")},lt=he=>{var Be,Ee;let Ne,re;const Ce={petriNetsById:P,petriNetOrder:R,colorSets:L,variables:U,priorities:z,functions:B,uses:q,simulationSettings:{stepsPerRun:(Be=_==null?void 0:_.simulationConfig)==null?void 0:Be.stepsPerRun,animationDelayMs:(Ee=_==null?void 0:_.simulationConfig)==null?void 0:Ee.animationDelayMs,simulationEpoch:G}};switch(he){case"cpn-tools":Ne=aG({...Ce,petriNetsById:Object.fromEntries(Object.entries(Ce.petriNetsById).map(([Ze,Fe])=>[Ze,{...Fe,nodes:Fe.nodes.map(Oe=>({...Oe,position:{...Oe.position,y:-Oe.position.y}}))}]))}),re="PetriNet.cpn";break;case"cpn-py":Ne=cG(Ce),re="PetriNet.json";break;case"json":default:Ne=np(Ce),re="PetriNet.ocpn";break}dG(Ne,re)},vt=S.useCallback(he=>{he.preventDefault(),he.dataTransfer.dropEffect="move"},[]),Et=S.useCallback(he=>{if(he.preventDefault(),!xe||typeof xe!="string")return;const Ne=de({x:he.clientX,y:he.clientY}),re={id:`node_${Date.now()}`,type:xe,position:Ne,width:xe==="transition"?60:30,data:{label:xe==="auxText"?"Annotation":`${xe}`,...xe==="place"?{colorSet:""}:xe==="transition"?{guard:""}:{}}};T?me.getState().addNode(T,re):console.error("Cannot add node: activePetriNetId is null.")},[de,xe,T]),It=S.useCallback((he,Ne)=>{w(!1),T?me.getState().setSelectedElement(T,{type:"node",element:Ne}):console.error("Cannot set selected element: activePetriNetId is null.")},[T]),ue=S.useCallback((he,Ne,re)=>{ll(),C.current.isDragging=!0,C.current.isSnapping=!1,C.current.snappedPositions.clear()},[]),pe=S.useCallback((he,Ne,re)=>{var Oe,Ge,dt,Rt,jt;if(!T||re.length===0)return;const Ce=me.getState().petriNetsById[T];if(!Ce)return;if(!he.shiftKey){C.current.isSnapping=!1,C.current.snappedPositions.clear();return}const Be=20;let Ee=null,Ze=null;const Fe=new Set(re.map(zt=>zt.id));for(const zt of re){if(Ee!==null&&Ze!==null)break;const Mt={x:zt.position.x+(((Oe=zt.measured)==null?void 0:Oe.width)||50)/2,y:zt.position.y+(((Ge=zt.measured)==null?void 0:Ge.height)||30)/2},dr=Ce.edges.filter(Zt=>{if(!(Zt.source===zt.id||Zt.target===zt.id))return!1;const Fn=Zt.source===zt.id?Zt.target:Zt.source;return!Fe.has(Fn)});for(const Zt of dr){if(Ee!==null&&Ze!==null)break;const lo=Zt.source===zt.id?Zt.target:Zt.source,Fn=Ce.nodes.find(_l=>_l.id===lo);if(!Fn)continue;const wi={x:Fn.position.x+(((dt=Fn.measured)==null?void 0:dt.width)||50)/2,y:Fn.position.y+(((Rt=Fn.measured)==null?void 0:Rt.height)||30)/2},ao=(jt=Zt.data)==null?void 0:jt.bendpoints;let Vr=wi;ao&&ao.length>0&&(Zt.source===zt.id?Vr=ao[0]:Vr=ao[ao.length-1]),Ze===null&&Math.abs(Mt.y-Vr.y)<Be&&(Ze=Vr.y-Mt.y),Ee===null&&Math.abs(Mt.x-Vr.x)<Be&&(Ee=Vr.x-Mt.x)}}if(Ee!==null||Ze!==null){C.current.isSnapping=!0,C.current.snappedPositions.clear(),re.forEach(Mt=>{const dr={x:Mt.position.x+(Ee??0),y:Mt.position.y+(Ze??0)};C.current.snappedPositions.set(Mt.id,dr)});const zt=Ce.nodes.map(Mt=>{const dr=C.current.snappedPositions.get(Mt.id);return dr?{...Mt,position:dr}:Mt});X(T,zt)}else C.current.isSnapping=!1,C.current.snappedPositions.clear()},[T,X]),Ae=S.useCallback((he,Ne,re)=>{al(),setTimeout(()=>{C.current.isDragging=!1,C.current.isSnapping=!1,C.current.snappedPositions.clear()},50)},[]),_e=S.useCallback(he=>{if(T)if(C.current.isSnapping&&C.current.snappedPositions.size>0){const Ne=he.map(re=>{if(re.type==="position"&&"id"in re&&re.position){const Ce=C.current.snappedPositions.get(re.id);if(Ce)return{...re,position:Ce}}return re});te(Ne)}else te(he)},[T,te]),Ye=S.useCallback((he,Ne)=>{w(!1),T?me.getState().setSelectedElement(T,{type:"edge",element:Ne}):console.error("Cannot set selected element: activePetriNetId is null.")},[T]),ut=S.useCallback(()=>{T?me.getState().setSelectedElement(T,null):console.error("Cannot set selected element: activePetriNetId is null."),w(!1)},[T]),bt=S.useCallback(he=>{he.preventDefault();const Ne=he,re={x:Ne.clientX,y:Ne.clientY};E(re),w(!0)},[]),Ct=(he,Ne)=>{const re=Ne.key==="new-place"?50:60,Ce=Ne.key==="new-place"?50:40,Be={x:de(k).x-re/2,y:de(k).y-Ce/2};if(Ne.key==="new-place"){const Ee={id:`node_${Date.now()}`,type:"place",position:Be,data:{label:"place",isArcMode:!1,colorSet:""}};T&&me.getState().addNode(T,Ee)}else if(Ne.key==="new-transition"){const Ee={id:`node_${Date.now()}`,type:"transition",position:Be,width:60,data:{label:"transition",isArcMode:!1,guard:""}};T&&me.getState().addNode(T,Ee)}w(!1)},Tt=S.useCallback(async(he,Ne,re)=>{if(!Ne.length)return;const Ce=re.map(Be=>({...Be,data:Be.data?{...Be.data,bendpoints:void 0}:Be.data}));T&&D(T,Ce);try{if(he.algorithm==="dagre"){const Be=await C1(()=>import("./index-BVtQtYzk.js").then(Fe=>Fe.i),[]),Ee=new Be.graphlib.Graph;Ee.setGraph({rankdir:he.direction,nodesep:he.nodeSeparation,ranksep:he.rankSeparation,ranker:"network-simplex"}),Ee.setDefaultEdgeLabel(()=>({})),re.forEach(Fe=>Ee.setEdge(Fe.source,Fe.target)),Ne.forEach(Fe=>{var Oe,Ge;return Ee.setNode(Fe.id,{...Fe,width:((Oe=Fe.measured)==null?void 0:Oe.width)??0,height:((Ge=Fe.measured)==null?void 0:Ge.height)??0})}),Be.layout(Ee);const Ze=Ne.map(Fe=>{var Rt,jt;const Oe=Ee.node(Fe.id),Ge=Oe.x-(((Rt=Fe.measured)==null?void 0:Rt.width)??0)/2,dt=Oe.y-(((jt=Fe.measured)==null?void 0:jt.height)??0)/2;return{...Fe,position:{x:Ge,y:dt}}});T&&X(T,[...Ze])}else if(he.algorithm==="elk"){const{default:Be}=await C1(async()=>{const{default:Oe}=await import("./elk.bundled-gjWmP-bh.js").then(Ge=>Ge.e);return{default:Oe}},[]),Ee=new Be,Ze={id:"root",layoutOptions:{"elk.algorithm":"layered","elk.direction":he.direction==="TB"?"DOWN":"RIGHT","elk.spacing.nodeNode":he.nodeSeparation.toString(),"elk.layered.spacing.nodeNodeBetweenLayers":he.rankSeparation.toString()},children:Ne.map(Oe=>{var Ge,dt;return{id:Oe.id,width:Number(((Ge=Oe.style)==null?void 0:Ge.width)||80),height:Number(((dt=Oe.style)==null?void 0:dt.height)||80)}}),edges:re.map(Oe=>({id:Oe.id,sources:[Oe.source],targets:[Oe.target]}))},Fe=await Ee.layout(Ze);if(Fe.children){const Oe=Ne.map(Ge=>{var Rt;const dt=(Rt=Fe.children)==null?void 0:Rt.find(jt=>jt.id===Ge.id);return dt&&dt.x!==void 0&&dt.y!==void 0?{...Ge,position:{x:dt.x,y:dt.y}}:Ge});T&&X(T,[...Oe])}}window.requestAnimationFrame(()=>{le({padding:.35})})}catch(Be){console.error("Error applying layout:",Be)}},[X,D,le,T]),_t=he=>{he.preventDefault(),O(c),l(!1),d("")},pt=he=>{he.preventDefault(),p&&x.trim()&&(me.getState().renamePetriNet(p,x),m(!1),g(null),b(""))},Pt=he=>{const Ne=P[he];Ne&&(g(he),b(Ne.name),m(!0))};return u.jsxs("div",{className:"dndflow flex flex-col grow",children:[" ",u.jsxs("div",{className:"flex flex-col grow",style:{height:100},children:[" ",u.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Pn,{children:u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",title:"Open",onClick:()=>o(!0),children:[u.jsx($I,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Open Petri Net"})]})})}),u.jsx(un,{children:u.jsx("p",{children:"Open Petri Net"})})]})}),u.jsx(Pn,{children:u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",title:"Save",onClick:()=>n(!0),children:[u.jsx(cT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Save Petri Net"})]})})}),u.jsx(un,{children:u.jsx("p",{children:"Save Petri Net"})})]})}),u.jsx(Pn,{children:u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",title:"Undo",onClick:()=>De(),disabled:!it,children:[u.jsx(jT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Undo"})]})})}),u.jsx(un,{children:u.jsx("p",{children:"Undo"})})]})}),u.jsx(Pn,{children:u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",title:"Redo",onClick:()=>Me(),disabled:!nt,children:[u.jsx(iT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Redo"})]})})}),u.jsx(un,{children:u.jsx("p",{children:"Redo"})})]})})]}),u.jsx(n9,{}),u.jsx(vG,{onToggleAIAssistant:e})]}),u.jsx(e9,{open:r,onOpenChange:o,onFileLoaded:We}),u.jsx(t9,{open:t,onOpenChange:n,onSave:lt,petriNetName:"Petri Net"}),u.jsx("div",{className:"flex flex-col w-full mx-auto bg-muted",children:u.jsx(pi,{defaultValue:T||R[0],value:T??void 0,onValueChange:he=>F(he),className:"flex flex-col gap-2 items-start",children:u.jsxs(hi,{className:"flex gap-4 items-center",children:[R.map(he=>u.jsx($n,{value:he,onClick:Ne=>{he===T&&(Ne.preventDefault(),Pt(he))},children:P[he].name},he)),u.jsx(rn,{open:i,onOpenChange:l,children:u.jsxs(on,{className:"p-4",children:[u.jsx(sn,{children:u.jsx(ln,{children:"Add New Subnet"})}),u.jsxs("form",{onSubmit:_t,className:"space-y-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(je,{htmlFor:"petri-net-name",children:"Subnet Name"}),u.jsx(at,{id:"petri-net-name",placeholder:"Enter Petri Net name",value:c,onChange:he=>d(he.target.value)})]}),u.jsx(ge,{type:"submit",className:"w-full",children:"Add Petri Net"})]})]})}),u.jsx(rn,{open:f,onOpenChange:m,children:u.jsxs(on,{className:"p-4",children:[u.jsx(sn,{children:u.jsx(ln,{children:"Rename Petri Net"})}),u.jsxs("form",{onSubmit:pt,className:"space-y-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(je,{htmlFor:"rename-petri-net-name",children:"New Name"}),u.jsx(at,{id:"rename-petri-net-name",placeholder:"Enter new name",value:x,onChange:he=>b(he.target.value),autoFocus:!0})]}),u.jsx(ge,{type:"submit",className:"w-full",children:"Rename"})]})]})})]})})}),u.jsxs(T3,{nodes:(J==null?void 0:J.nodes)||[],nodeTypes:w$,edges:(J==null?void 0:J.edges)||[],edgeTypes:j$,onNodesChange:_e,onEdgesChange:Q,onNodeDragStart:(he,Ne,re)=>{It(he,Ne),ue(he,Ne,re)},onNodeDrag:pe,onNodeDragStop:Ae,onNodeClick:It,onEdgeClick:Ye,onPaneClick:ut,onPaneContextMenu:bt,onConnect:ie,onDrop:Et,onDragOver:vt,defaultEdgeOptions:bG,connectionLineComponent:Z8,maxZoom:4,selectionOnDrag:!0,selectionKeyCode:"Shift",multiSelectionKeyCode:["Meta","Control"],children:[u.jsx(B3,{}),u.jsx(l$,{}),u.jsx(X3,{}),u.jsx(bc,{position:"top-center",children:u.jsx(Q8,{toggleArcMode:V,onApplyLayout:he=>J&&Tt(he,J.nodes,J.edges)})}),u.jsx(J8,{slices:et,position:k,isOpen:v,onClose:()=>w(!1),onSliceClick:Ct,size:200})]})]})]})};function kG({open:e,onOpenChange:t,apiKey:n,onApiKeyChange:r}){const[o,i]=S.useState(n||""),[l,c]=S.useState(!1);S.useEffect(()=>{i(n||"")},[n]);const d=()=>{r(o),t(!1)};return u.jsx(rn,{open:e,onOpenChange:t,children:u.jsxs(on,{className:"sm:max-w-[500px]",children:[u.jsxs(sn,{children:[u.jsx(ln,{children:"Settings"}),u.jsx(Po,{children:"Configure your OCPN Tools preferences."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"openai-api-key",children:"OpenAI API Key"}),u.jsxs("div",{className:"relative",children:[u.jsx(at,{id:"openai-api-key",type:l?"text":"password",placeholder:"sk-...",value:o,onChange:f=>i(f.target.value),className:"w-full pr-10",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",inputMode:"text",autoFocus:!0}),u.jsx(ge,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>c(!l),children:l?u.jsx(II,{className:"h-4 w-4"}):u.jsx(RI,{className:"h-4 w-4"})})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Your API key is stored locally in your browser and never sent to our servers."})]}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ge,{onClick:d,children:"Save Changes"})]})]})})}const ES="ocpn-tools-openai-api-key";function CG(){const[e,t]=S.useState([{id:"welcome",role:"assistant",content:"Hello! I'm Carl, your OCPN assistant. I can help you analyze your model, explain concepts, or suggest improvements. What would you like to know?",timestamp:new Date}]),[n,r]=S.useState(""),[o,i]=S.useState(!1),l=S.useRef(null),[c,d]=S.useState(!1),[f,m]=S.useState(null);S.useEffect(()=>{const v=localStorage.getItem(ES);v&&m(v)},[]);const p=v=>{m(v),localStorage.setItem(ES,v)};S.useEffect(()=>{var v;(v=l.current)==null||v.scrollIntoView({behavior:"smooth"})},[e]);const g=()=>{const v={petriNetsById:me.getState().petriNetsById,petriNetOrder:me.getState().petriNetOrder,colorSets:me.getState().colorSets,variables:me.getState().variables,priorities:me.getState().priorities,functions:me.getState().functions,uses:me.getState().uses};return`
      Here is the current state of the Petri Net:

      ${np(v)}
    `},x=async()=>{if(!n.trim()||o)return;if(!f){t(w=>[...w,{id:Date.now().toString(),role:"user",content:n,timestamp:new Date},{id:Date.now().toString()+"-error",role:"assistant",content:"Please set your OpenAI API key in the settings to use the AI assistant. Click the settings icon in the top right corner.",timestamp:new Date}]),r("");return}const v={id:Date.now().toString(),role:"user",content:n,timestamp:new Date};t(w=>[...w,v]),r(""),i(!0);try{const k=[{role:"system",content:`You are an AI assistant specialized in Colored Petri Nets (CPN). 
          Help the user understand and analyze their Petri Net model.
          Here is the current state of the Petri Net:
          
          ${g()}
          
          Be concise but informative in your responses. If asked about concepts, explain them clearly.
          If asked to analyze the model, provide insights based on the structure and properties.`},...e.filter(R=>R.id!=="welcome").map(R=>({role:R.role,content:R.content})),{role:v.role,content:v.content}],E=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({model:"gpt-4o",messages:k,temperature:.7,max_tokens:1e3})});if(!E.ok)throw new Error(`API error: ${E.status}`);const C=await E.json(),_={id:Date.now().toString()+"-response",role:"assistant",content:C.choices[0].message.content,timestamp:new Date};t(R=>[...R,_])}catch(w){console.error("Error calling OpenAI API:",w),t(k=>[...k,{id:Date.now().toString()+"-error",role:"assistant",content:"Sorry, there was an error processing your request. Please try again later.",timestamp:new Date}])}finally{i(!1)}},b=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),x())};return u.jsxs(Oa,{defaultSize:20,className:"min-w-[400px] border-l h-screen",children:[u.jsxs("div",{className:"flex flex-col h-full overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("div",{className:"flex items-center",children:u.jsx("h2",{className:"font-semibold",children:"OCPN AI Assistant"})}),u.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>d(!0),children:u.jsx(WS,{className:"h-4 w-4"})})]}),u.jsx(Vf,{className:"flex-1 p-4",children:u.jsxs("div",{className:"space-y-4",children:[e.map(v=>u.jsxs("div",{className:Xe("flex flex-col max-w-[90%] rounded-lg p-3",v.role==="user"?"ml-auto bg-primary text-primary-foreground":"bg-muted text-foreground"),children:[u.jsx("div",{className:"whitespace-pre-wrap",children:v.content}),u.jsx("div",{className:"text-xs opacity-70 mt-1 self-end",children:v.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},v.id)),o&&u.jsx("div",{className:"flex max-w-[90%] rounded-lg p-3 bg-muted text-foreground",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground/50 animate-bounce"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground/50 animate-bounce",style:{animationDelay:"0.2s"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground/50 animate-bounce",style:{animationDelay:"0.4s"}})]})}),u.jsx("div",{ref:l})]})}),u.jsx(Sc,{}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(at,{placeholder:"Ask about your OCPN",value:n,onChange:v=>r(v.target.value),onKeyDown:b,disabled:o||!f,className:"flex-1"}),u.jsx(ge,{size:"icon",onClick:x,disabled:o||!n.trim()||!f,children:u.jsx(pT,{className:"h-4 w-4"})})]}),!f&&u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Please set your OpenAI API key in settings to use the AI assistant."})]})]}),u.jsx(kG,{open:c,onOpenChange:d,apiKey:f,onApiKeyChange:p})]})}class Yg{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,jS.unregister(this),t}free(){const t=this.__destroy_into_raw();wt.__wbg_wasmsimulator_free(t,0)}advanceTime(t){wt.wasmsimulator_advanceTime(this.__wbg_ptr,t)}fireTransition(t){const n=jd(t,wt.__wbindgen_malloc,wt.__wbindgen_realloc),r=Zs,o=wt.wasmsimulator_fireTransition(this.__wbg_ptr,n,r);if(o[2])throw wo(o[1]);return wo(o[0])}getCurrentTime(){return wt.wasmsimulator_getCurrentTime(this.__wbg_ptr)}getEnabledTransitions(){const t=wt.wasmsimulator_getEnabledTransitions(this.__wbg_ptr);if(t[2])throw wo(t[1]);return wo(t[0])}getSimulationEpoch(){return wt.wasmsimulator_getSimulationEpoch(this.__wbg_ptr)}constructor(t){const n=jd(t,wt.__wbindgen_malloc,wt.__wbindgen_realloc),r=Zs,o=wt.wasmsimulator_new(n,r);if(o[2])throw wo(o[1]);return this.__wbg_ptr=o[0]>>>0,jS.register(this,this.__wbg_ptr,this),this}runMultipleSteps(t){const n=wt.wasmsimulator_runMultipleSteps(this.__wbg_ptr,t);if(n[2])throw wo(n[1]);return wo(n[0])}run_step(){const t=wt.wasmsimulator_run_step(this.__wbg_ptr);if(t[2])throw wo(t[1]);return wo(t[0])}setCurrentTime(t){wt.wasmsimulator_setCurrentTime(this.__wbg_ptr,t)}setEventListener(t){wt.wasmsimulator_setEventListener(this.__wbg_ptr,t)}setSimulationEpoch(t){var n=Da(t)?0:jd(t,wt.__wbindgen_malloc,wt.__wbindgen_realloc),r=Zs;wt.wasmsimulator_setSimulationEpoch(this.__wbg_ptr,n,r)}}Symbol.dispose&&(Yg.prototype[Symbol.dispose]=Yg.prototype.free);function NG(){return{__proto__:null,"./cpnsim_bg.js":{__proto__:null,__wbg_Error_8c4e43fe74559d73:function(t,n){return Error(Ca(t,n))},__wbg_String_8f0eb39a4a4c2f66:function(t,n){const r=String(n),o=jd(r,wt.__wbindgen_malloc,wt.__wbindgen_realloc),i=Zs;PS().setInt32(t+4,i,!0),PS().setInt32(t+0,o,!0)},__wbg___wbindgen_is_string_cd444516edc5b180:function(t){return typeof t=="string"},__wbg___wbindgen_is_undefined_9e4d92534c42d778:function(t){return t===void 0},__wbg___wbindgen_throw_be289d5034ed271b:function(t,n){throw new Error(Ca(t,n))},__wbg_call_389efe28435a9388:function(){return Na(function(t,n){return t.call(n)},arguments)},__wbg_call_4708e0c13bdc8e95:function(){return Na(function(t,n,r){return t.call(n,r)},arguments)},__wbg_fromCodePoint_22365db7b7d6ac39:function(){return Na(function(t){return String.fromCodePoint(t>>>0)},arguments)},__wbg_from_bddd64e7d5ff6941:function(t){return Array.from(t)},__wbg_getRandomValues_1c61fac11405ffdc:function(){return Na(function(t,n){globalThis.crypto.getRandomValues(_S(t,n))},arguments)},__wbg_log_6b5ca2e6124b2808:function(t){console.log(t)},__wbg_log_6d46b3bc337f0e1f:function(t,n){console.log(Ca(t,n))},__wbg_new_361308b2356cecd0:function(){return new Object},__wbg_new_3eb36ae241fe6f44:function(){return new Array},__wbg_new_dca287b076112a51:function(){return new Map},__wbg_new_dd2b680c8bf6ae29:function(t){return new Uint8Array(t)},__wbg_new_no_args_1c7c842f08d00ebb:function(t,n){return new Function(Ca(t,n))},__wbg_now_2c95c9de01293173:function(t){return t.now()},__wbg_performance_7a3ffd0b17f663ad:function(t){return t.performance},__wbg_push_8ffdcb2063340ba5:function(t,n){return t.push(n)},__wbg_set_1eb0999cf5d27fc8:function(t,n,r){return t.set(n,r)},__wbg_set_3f1d0b984ed272ed:function(t,n,r){t[n]=r},__wbg_set_6cb8631f80447a67:function(){return Na(function(t,n,r){return Reflect.set(t,n,r)},arguments)},__wbg_set_f43e577aea94465b:function(t,n,r){t[n>>>0]=r},__wbg_static_accessor_GLOBAL_12837167ad935116:function(){const t=typeof global>"u"?null:global;return Da(t)?0:Ra(t)},__wbg_static_accessor_GLOBAL_THIS_e628e89ab3b1c95f:function(){const t=typeof globalThis>"u"?null:globalThis;return Da(t)?0:Ra(t)},__wbg_static_accessor_SELF_a621d3dfbb60d0ce:function(){const t=typeof self>"u"?null:self;return Da(t)?0:Ra(t)},__wbg_static_accessor_WINDOW_f8727f0cf888e0bd:function(){const t=typeof window>"u"?null:window;return Da(t)?0:Ra(t)},__wbindgen_cast_0000000000000001:function(t){return t},__wbindgen_cast_0000000000000002:function(t){return t},__wbindgen_cast_0000000000000003:function(t,n){return _S(t,n)},__wbindgen_cast_0000000000000004:function(t,n){return Ca(t,n)},__wbindgen_init_externref_table:function(){const t=wt.__wbindgen_externrefs,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)}}}}const jS=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>wt.__wbg_wasmsimulator_free(e>>>0,1));function Ra(e){const t=wt.__externref_table_alloc();return wt.__wbindgen_externrefs.set(t,e),t}function _S(e,t){return e=e>>>0,qa().subarray(e/1,e/1+t)}let $i=null;function PS(){return($i===null||$i.buffer.detached===!0||$i.buffer.detached===void 0&&$i.buffer!==wt.memory.buffer)&&($i=new DataView(wt.memory.buffer)),$i}function Ca(e,t){return e=e>>>0,jG(e,t)}let Ma=null;function qa(){return(Ma===null||Ma.byteLength===0)&&(Ma=new Uint8Array(wt.memory.buffer)),Ma}function Na(e,t){try{return e.apply(this,t)}catch(n){const r=Ra(n);wt.__wbindgen_exn_store(r)}}function Da(e){return e==null}function jd(e,t,n){if(n===void 0){const c=Ya.encode(e),d=t(c.length,1)>>>0;return qa().subarray(d,d+c.length).set(c),Zs=c.length,d}let r=e.length,o=t(r,1)>>>0;const i=qa();let l=0;for(;l<r;l++){const c=e.charCodeAt(l);if(c>127)break;i[o+l]=c}if(l!==r){l!==0&&(e=e.slice(l)),o=n(o,r,r=l+e.length*3,1)>>>0;const c=qa().subarray(o+l,o+r),d=Ya.encodeInto(e,c);l+=d.written,o=n(o,r,l,1)>>>0}return Zs=l,o}function wo(e){const t=wt.__wbindgen_externrefs.get(e);return wt.__externref_table_dealloc(e),t}let _d=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});_d.decode();const EG=2146435072;let Ym=0;function jG(e,t){return Ym+=t,Ym>=EG&&(_d=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),_d.decode(),Ym=t),_d.decode(qa().subarray(e,e+t))}const Ya=new TextEncoder;"encodeInto"in Ya||(Ya.encodeInto=function(e,t){const n=Ya.encode(e);return t.set(n),{read:e.length,written:n.length}});let Zs=0,wt;function _G(e,t){return wt=e.exports,$i=null,Ma=null,wt.__wbindgen_start(),wt}async function PG(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(o){if(e.ok&&n(e.type)&&e.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}else{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}function n(r){switch(r){case"basic":case"cors":case"default":return!0}return!1}}async function AG(e){if(wt!==void 0)return wt;e!==void 0&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),e===void 0&&(e=new URL("/ocpn-tools/assets/cpnsim_bg-BQcJkqf5.wasm",import.meta.url));const t=NG();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await PG(await e,t);return _G(n)}function el(e){if(e==null)return null;if(e instanceof Map){const t={},n=Array.from(e.keys()).map(String).sort();for(const r of n)t[r]=el(e.get(r));return t}else{if(Array.isArray(e))return e.map(el);if(typeof e=="object"){const t={},n=Object.keys(e).sort();for(const r of n)t[r]=el(e[r]);return t}}return e}function AS(e){const t=el(e);return JSON.stringify(t)}function IG(e,t){if(t||e.every(n=>n==null)){const n=e.length;return n<=3?"".repeat(n):`${n}`}return JSON.stringify(e)}function TG(){const e=S.useRef(null),t=S.useRef(null),[n,r]=S.useState(!1),[o,i]=S.useState(!1),l=S.useRef(!1),[c,d]=S.useState([]),[f,m]=S.useState(0),[p,g]=S.useState(0),[x,b]=S.useState(KV),v=me(A=>A.updateNodeMarking),w=me(A=>A.applyInitialMarkings),k=S.useCallback(A=>{const O=me.getState().petriNetsById;for(const F in O){const X=O[F].nodes.find(D=>D.id===A);if(X)return X}},[]),E=S.useCallback(A=>{var Y;A.consumed instanceof Map?A.consumed.forEach((I,V)=>{var J;const Z=k(V);if(Z&&Z.type==="place"){let K=[];try{const Q=k(V),ie=(J=Q==null?void 0:Q.data)==null?void 0:J.marking;if(Array.isArray(ie))K=ie;else if(typeof ie=="number")K=[ie];else if(typeof ie=="string"&&ie.trim()!==""){const le=JSON.parse(ie);K=Array.isArray(le)?le:[le]}}catch(Q){console.error(`Error reading/parsing marking for node ${V}:`,Z.data.marking,Q),K=[]}const te=[...K];I.forEach(Q=>{const ie=AS(Q),le=te.findIndex(de=>AS(de)===ie);le!==-1?te.splice(le,1):console.warn(`Token not found for removal in node ${V}:`,Q,te)}),v(V,te)}else console.warn(`Place node not found or invalid for consumed event: ${V}`)}):A.consumed&&console.warn("eventData.consumed is not a Map:",A.consumed),A.produced instanceof Map?A.produced.forEach((I,V)=>{var J;const Z=k(V);if(Z&&Z.type==="place"){let K=[];try{const ie=k(V),le=(J=ie==null?void 0:ie.data)==null?void 0:J.marking;if(Array.isArray(le))K=le;else if(typeof le=="number")K=[le];else if(typeof le=="string"&&le.trim()!==""){const de=JSON.parse(le);K=Array.isArray(de)?de:[de]}}catch(ie){console.error(`Error reading/parsing marking for node ${V}:`,Z.data.marking,ie),K=[]}const te=I.map(ie=>el(ie)),Q=[...K,...te];v(V,Q)}else console.warn(`Place node not found or invalid for produced event: ${V}`)}):A.produced&&console.warn("eventData.produced is not a Map:",A.produced);const O=k(A.transitionId),F=(Y=O==null?void 0:O.data)!=null&&Y.label&&typeof O.data.label=="string"?O.data.label:A.transitionId,X=me.getState().colorSets,D=I=>{if(!I)return[];const V=[];return I.forEach((Z,J)=>{var de,fe;const K=k(J),te=(de=K==null?void 0:K.data)!=null&&de.label&&typeof K.data.label=="string"?K.data.label:J,Q=typeof((fe=K==null?void 0:K.data)==null?void 0:fe.colorSet)=="string"?K.data.colorSet:"",ie=Q.toUpperCase()==="UNIT"||X.some(xe=>xe.name===Q&&xe.name.toUpperCase()==="UNIT"),le=Z.map(xe=>el(xe));V.push({placeId:J,placeName:te,tokens:IG(le,ie)})}),V};let W=0;m(I=>(W=I+1,W));const M=A.simulationTime!==void 0?Number(A.simulationTime):A.time??0,H={id:ot(),step:W,time:M,transitionId:A.transitionId,transitionName:F,tokens:{consumed:D(A.consumed),produced:D(A.produced)},timestamp:new Date};d(I=>[...I,H]),g(M)},[v,k,m,d,g]);async function C(){d([]),m(0),g(0),r(!1),e.current=null,t.current=null;try{e.current=await AG(),w();const A=me.getState().petriNetsById,O=me.getState().petriNetOrder,F=me.getState().colorSets,X=me.getState().variables,D=me.getState().priorities,W=me.getState().functions,M=me.getState().uses,H=me.getState().simulationEpoch,Y={petriNetsById:structuredClone(A),petriNetOrder:O,colorSets:F,variables:X,priorities:D,functions:W,uses:M,simulationSettings:{simulationEpoch:H}};Object.values(Y.petriNetsById).forEach(V=>{V.nodes.forEach(Z=>{if(Z.type==="place"){let J=[];if(Array.isArray(Z.data.marking))J=Z.data.marking;else if(typeof Z.data.marking=="string")try{const K=JSON.parse(Z.data.marking);Array.isArray(K)&&(J=K)}catch{console.warn(`Could not parse marking string for node ${Z.id}: ${Z.data.marking}`)}if(Z.data.marking=JSON.stringify(J),Z.data.initialMarking){const K=Z.data.initialMarking;typeof K=="string"?K.startsWith("[")&&K.endsWith("]")||K.endsWith(".all()")||K.trim()===""&&(Z.data.initialMarking="[]"):Array.isArray(K)&&(Z.data.initialMarking=JSON.stringify(K))}else Z.data.initialMarking="[]"}}),V.edges.forEach(Z=>{if(Z.label&&typeof Z.label=="string"){const J=Z.label.match(/(\d+)\`(\w+)/);if(J){const K=parseInt(J[1],10),te=J[2];if(!isNaN(K)&&K>0){const Q=`[${Array(K).fill(te).join(",")}]`;console.log(`Converted arc inscription "${Z.label}" to "${Q}"`),Z.label=Q}}}})});const I=np(Y);console.log("Creating WASM Simulator with JSON:",I),t.current=new Yg(I),console.log("WASM Simulator created successfully"),t.current.setEventListener(E),r(!0),console.log("WASM Simulator initialized successfully.")}catch(A){console.error("Error initializing WASM Simulator:",A),r(!1),e.current=null,t.current=null}}const _=async()=>{(!n||!e.current||!t.current)&&await C()},R=()=>{if(t.current)try{console.log("Requesting simulation step...");const A=t.current.run_step();return console.log("Simulation step result:",A),A}catch(A){return console.error("Error running simulation step:",A),null}else return console.warn("WASM Simulator ref is null after initialization attempt, cannot run step."),null};return{runStep:async()=>{await _(),R()},runMultipleStepsAnimated:async(A,O=50)=>{if(!o){i(!0),l.current=!1;try{await _();for(let F=0;F<A;F++){if(l.current){console.log("Simulation stopped by user");break}if(R()==null){console.log("No transitions enabled, stopping animation.");break}await new Promise(D=>setTimeout(D,O))}}finally{i(!1)}}},runMultipleStepsFast:async A=>{if(!o){i(!0),l.current=!1;try{if(await _(),t.current){const O=t.current;if(typeof O.runMultipleSteps=="function"){const F=O.runMultipleSteps(A);if(Array.isArray(F))for(const X of F)X&&typeof X=="object"&&E(X)}else for(let F=0;F<A&&!l.current;F++)if(R()==null){console.log("No transitions enabled, stopping fast run.");break}}}finally{i(!1)}}},stop:()=>{console.log("Stop requested"),l.current=!0},fireTransition:async A=>{if(await _(),t.current){const O=t.current;if(typeof O.fireTransition=="function")try{const F=O.fireTransition(A);console.log(`Fire transition ${A} result:`,F)}catch(F){console.error(`Error firing transition ${A}:`,F)}else console.warn("fireTransition method not available in WASM simulator")}},getEnabledTransitions:async()=>{if(await _(),t.current){const A=t.current;if(typeof A.getEnabledTransitions=="function")try{return A.getEnabledTransitions()}catch(O){console.error("Error getting enabled transitions:",O)}}return[]},reset:async()=>{l.current=!0,i(!1),m(0),g(0),d([]),await C()},events:c,clearEvents:()=>{d([])},isInitialized:n,isRunning:o,simulationTime:p,stepCounter:f,simulationConfig:x,setSimulationConfig:b,ensureInitialized:_,_executeWasmStep:R}}function RG({children:e}){const t=TG();return u.jsx(jc.Provider,{value:t,children:e})}var Br="Accordion",MG=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Py,DG,OG]=kf(Br),[rp]=Tn(Br,[OG,Jj]),Ay=Jj(),rP=qe.forwardRef((e,t)=>{const{type:n,...r}=e,o=r,i=r;return u.jsx(Py.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?u.jsx(FG,{...i,ref:t}):u.jsx($G,{...o,ref:t})})});rP.displayName=Br;var[oP,LG]=rp(Br),[iP,zG]=rp(Br,{collapsible:!1}),$G=qe.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},collapsible:i=!1,...l}=e,[c,d]=In({prop:n,defaultProp:r??"",onChange:o,caller:Br});return u.jsx(oP,{scope:e.__scopeAccordion,value:qe.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:qe.useCallback(()=>i&&d(""),[i,d]),children:u.jsx(iP,{scope:e.__scopeAccordion,collapsible:i,children:u.jsx(sP,{...l,ref:t})})})}),FG=qe.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[l,c]=In({prop:n,defaultProp:r??[],onChange:o,caller:Br}),d=qe.useCallback(m=>c((p=[])=>[...p,m]),[c]),f=qe.useCallback(m=>c((p=[])=>p.filter(g=>g!==m)),[c]);return u.jsx(oP,{scope:e.__scopeAccordion,value:l,onItemOpen:d,onItemClose:f,children:u.jsx(iP,{scope:e.__scopeAccordion,collapsible:!0,children:u.jsx(sP,{...i,ref:t})})})}),[BG,op]=rp(Br),sP=qe.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:o,orientation:i="vertical",...l}=e,c=qe.useRef(null),d=st(c,t),f=DG(n),p=fi(o)==="ltr",g=Re(e.onKeyDown,x=>{var L;if(!MG.includes(x.key))return;const b=x.target,v=f().filter(U=>{var z;return!((z=U.ref.current)!=null&&z.disabled)}),w=v.findIndex(U=>U.ref.current===b),k=v.length;if(w===-1)return;x.preventDefault();let E=w;const C=0,_=k-1,R=()=>{E=w+1,E>_&&(E=C)},P=()=>{E=w-1,E<C&&(E=_)};switch(x.key){case"Home":E=C;break;case"End":E=_;break;case"ArrowRight":i==="horizontal"&&(p?R():P());break;case"ArrowDown":i==="vertical"&&R();break;case"ArrowLeft":i==="horizontal"&&(p?P():R());break;case"ArrowUp":i==="vertical"&&P();break}const T=E%k;(L=v[T].ref.current)==null||L.focus()});return u.jsx(BG,{scope:n,disabled:r,direction:o,orientation:i,children:u.jsx(Py.Slot,{scope:n,children:u.jsx(Ue.div,{...l,"data-orientation":i,ref:d,onKeyDown:r?void 0:g})})})}),sf="AccordionItem",[VG,Iy]=rp(sf),lP=qe.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...o}=e,i=op(sf,n),l=LG(sf,n),c=Ay(n),d=wr(),f=r&&l.value.includes(r)||!1,m=i.disabled||e.disabled;return u.jsx(VG,{scope:n,open:f,disabled:m,triggerId:d,children:u.jsx(t_,{"data-orientation":i.orientation,"data-state":pP(f),...c,...o,ref:t,disabled:m,open:f,onOpenChange:p=>{p?l.onItemOpen(r):l.onItemClose(r)}})})});lP.displayName=sf;var aP="AccordionHeader",cP=qe.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=op(Br,n),i=Iy(aP,n);return u.jsx(Ue.h3,{"data-orientation":o.orientation,"data-state":pP(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});cP.displayName=aP;var Xg="AccordionTrigger",uP=qe.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=op(Br,n),i=Iy(Xg,n),l=zG(Xg,n),c=Ay(n);return u.jsx(Py.ItemSlot,{scope:n,children:u.jsx(_H,{"aria-disabled":i.open&&!l.collapsible||void 0,"data-orientation":o.orientation,id:i.triggerId,...c,...r,ref:t})})});uP.displayName=Xg;var dP="AccordionContent",fP=qe.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=op(Br,n),i=Iy(dP,n),l=Ay(n);return u.jsx(PH,{role:"region","aria-labelledby":i.triggerId,"data-orientation":o.orientation,...l,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});fP.displayName=dP;function pP(e){return e?"open":"closed"}var HG=rP,UG=lP,WG=cP,qG=uP,YG=fP;function XG({...e}){return u.jsx(HG,{"data-slot":"accordion",...e})}function IS({className:e,...t}){return u.jsx(UG,{"data-slot":"accordion-item",className:Xe("border-b last:border-b-0",e),...t})}function TS({className:e,children:t,...n}){return u.jsx(WG,{className:"flex",children:u.jsxs(qG,{"data-slot":"accordion-trigger",className:Xe("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,u.jsx(ti,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function RS({className:e,children:t,...n}){return u.jsx(YG,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:u.jsx("div",{className:Xe("pt-0 pb-4",e),children:t})})}function MS({attribute:e,timeRange:t,valueChanges:n,onAddChange:r,onEditChange:o}){const i=S.useRef(null),[l,c]=S.useState(0);S.useEffect(()=>{const g=i.current;if(!g)return;const x=()=>{c(g.offsetWidth)};x();const b=new ResizeObserver(x);return b.observe(g),()=>{g&&b.unobserve(g)}},[]);const d=g=>{const[x,b]=t,v=b-x,w=(g-x)/v*l;return Math.max(0,Math.min(l,w))},f=g=>{const[x,b]=t,v=b-x,w=x+g/l*v;return Math.max(x,Math.min(b,w))},m=g=>{if(!i.current)return;const x=i.current.getBoundingClientRect(),b=g.clientX-x.left,v=f(b);r(Math.round(v))},p=(g,x)=>{switch(g){case"set":return`= ${x}`;case"add":return`+ ${x}`;case"subtract":return`- ${x}`;case"prefix":return`prefix "${x}"`;case"append":return`append "${x}"`;case"increasePercent":return`+${x}%`;case"decreasePercent":return`-${x}%`;case"reset":return"reset";default:return g}};return u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs(je,{className:"text-sm font-medium",children:[e.name,u.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",e.type,", initial: ",e.initialValue.toString(),")"]})]})}),u.jsxs("div",{ref:i,className:"h-8 bg-muted rounded-md relative cursor-pointer",onClick:m,children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:[0,.25,.5,.75,1].map(g=>u.jsx("div",{className:"absolute h-2 border-l border-muted-foreground/30",style:{left:`${g*100}%`}},g))}),u.jsxs("div",{className:"absolute inset-x-0 -bottom-5 flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:t[0]}),u.jsx("span",{children:Math.round((t[0]+t[1])/2)}),u.jsx("span",{children:t[1]})]}),u.jsx(Pn,{children:n.map(g=>u.jsxs(an,{children:[u.jsx(cn,{asChild:!0,children:u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-primary rounded-full cursor-pointer z-10",style:{left:`${d(g.timestamp)}px`},onClick:x=>{x.stopPropagation(),o(g)}})}),u.jsxs(un,{children:[u.jsxs("p",{children:["Time: ",g.timestamp]}),u.jsx("p",{children:p(g.operation,g.value)})]})]},g.id))})]})]})}function GG({open:e,onOpenChange:t,attribute:n,timestamp:r,existingChange:o,onSave:i,onDelete:l}){const[c,d]=S.useState("set"),[f,m]=S.useState(""),[p,g]=S.useState(r);S.useEffect(()=>{e&&(o?(d(o.operation),m(o.value.toString()),g(o.timestamp)):(d(n.type==="string"?"set":"add"),m(""),g(r)))},[e,n,r,o]);const x=()=>n.type==="string"?[{value:"set",label:"Set to"},{value:"prefix",label:"Prefix"},{value:"append",label:"Append"},{value:"reset",label:"Reset to initial value"}]:n.type==="int"||n.type==="real"?[{value:"set",label:"Set to"},{value:"add",label:"Add"},{value:"subtract",label:"Subtract"},{value:"increasePercent",label:"Increase by %"},{value:"decreasePercent",label:"Decrease by %"},{value:"reset",label:"Reset to initial value"}]:n.type==="boolean"?[{value:"set",label:"Set to"},{value:"toggle",label:"Toggle"},{value:"reset",label:"Reset to initial value"}]:[],b=()=>{const v=n.type==="int"?Number.parseInt(f,10):n.type==="real"?Number.parseFloat(f):n.type==="boolean"?f==="true":f,w={id:(o==null?void 0:o.id)||ot(),attributeId:n.id,timestamp:p,operation:c,value:v};i(w)};return u.jsx(rn,{open:e,onOpenChange:t,children:u.jsxs(on,{className:"sm:max-w-[425px]",children:[u.jsxs(sn,{children:[u.jsx(ln,{children:o?"Edit Value Change":"Add Value Change"}),u.jsxs(Po,{children:['Define how the attribute "',n.name,'" changes at a specific time.']})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"timestamp",className:"text-right",children:"Timestamp"}),u.jsx(at,{id:"timestamp",type:"number",value:p,onChange:v=>g(Number(v.target.value)),className:"col-span-3",min:0})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"operation",className:"text-right",children:"Operation"}),u.jsxs(mn,{value:c,onValueChange:d,children:[u.jsx(xn,{className:"col-span-3",children:u.jsx(gn,{placeholder:"Select operation"})}),u.jsx(yn,{children:x().map(v=>u.jsx(gt,{value:v.value,children:v.label},v.value))})]})]}),c!=="reset"&&c!=="toggle"&&u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"value",className:"text-right",children:"Value"}),n.type==="boolean"?u.jsxs(mn,{value:f,onValueChange:m,children:[u.jsx(xn,{className:"col-span-3",children:u.jsx(gn,{placeholder:"Select value"})}),u.jsxs(yn,{children:[u.jsx(gt,{value:"true",children:"True"}),u.jsx(gt,{value:"false",children:"False"})]})]}):u.jsx(at,{id:"value",type:n.type==="int"||n.type==="real"?"number":"text",value:f,onChange:v=>m(v.target.value),className:"col-span-3"})]})]}),u.jsxs(Sr,{className:"flex justify-between",children:[u.jsx("div",{children:o&&l&&u.jsx(ge,{variant:"destructive",onClick:l,children:"Delete"})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ge,{onClick:b,children:"Save"})]})]})]})})}function KG({open:e,onOpenChange:t,onAdd:n}){const[r,o]=S.useState(""),[i,l]=S.useState("string"),[c,d]=S.useState(""),f=()=>{let m;switch(i){case"int":m=Number.parseInt(c,10)||0;break;case"real":m=Number.parseFloat(c)||0;break;case"boolean":m=c==="true";break;default:m=c}const p={id:ot(),name:r,type:i,initialValue:m};n(p),o(""),l("string"),d("")};return u.jsx(rn,{open:e,onOpenChange:t,children:u.jsxs(on,{className:"sm:max-w-[425px]",children:[u.jsxs(sn,{children:[u.jsx(ln,{children:"Add Global Attribute"}),u.jsx(Po,{children:"Create a new attribute for the global context."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"name",className:"text-right",children:"Name"}),u.jsx(at,{id:"name",value:r,onChange:m=>o(m.target.value),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"type",className:"text-right",children:"Type"}),u.jsxs(mn,{value:i,onValueChange:m=>l(m),children:[u.jsx(xn,{className:"col-span-3",children:u.jsx(gn,{placeholder:"Select type"})}),u.jsxs(yn,{children:[u.jsx(gt,{value:"string",children:"String"}),u.jsx(gt,{value:"int",children:"Integer"}),u.jsx(gt,{value:"real",children:"Real"}),u.jsx(gt,{value:"boolean",children:"Boolean"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"initialValue",className:"text-right",children:"Initial Value"}),i==="boolean"?u.jsxs(mn,{value:c,onValueChange:d,children:[u.jsx(xn,{className:"col-span-3",children:u.jsx(gn,{placeholder:"Select value"})}),u.jsxs(yn,{children:[u.jsx(gt,{value:"true",children:"True"}),u.jsx(gt,{value:"false",children:"False"})]})]}):u.jsx(at,{id:"initialValue",type:i==="int"||i==="real"?"number":"text",value:c,onChange:m=>d(m.target.value),className:"col-span-3"})]})]}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ge,{onClick:f,disabled:!r,children:"Add Attribute"})]})]})})}function QG({simulationTimeRange:e}){const[t,n]=S.useState([{id:"global-tax",name:"Sales Tax",type:"real",initialValue:19.5}]),[r,o]=S.useState([]),i=me(P=>P.colorSets),[l,c]=S.useState([{id:"change-1",attributeId:"global-1",timestamp:10,operation:"set",value:"PROC-002"},{id:"change-2",attributeId:"global-2",timestamp:25,operation:"add",value:50}]),[d,f]=S.useState(!1),[m,p]=S.useState(!1),[g,x]=S.useState(null),[b,v]=S.useState(null),[w,k]=S.useState(null);S.useEffect(()=>{const T=i.filter(L=>L.type==="record"||L.type==="complex").filter(L=>typeof L.id=="string"&&typeof L.definition=="string"&&L.definition.includes("record")).map(L=>{const U=[],z=L.definition,B=z.match(/record\s+(.*);/);return B&&B[1]?B[1].trim().split("*").forEach((A,O)=>{const F=A.split(":");if(F.length===2){const X=F[0].trim(),D=F[1].trim();let W="string";switch(D.toUpperCase()){case"INT":W="int";break;case"STRING":W="string";break;case"BOOL":W="boolean";break;case"REAL":W="real";break;default:console.warn(`Unknown attribute type "${D}" in definition: ${z}. Defaulting to string.`)}U.push({id:`${L.id}-attr-${O}`,name:X,type:W,initialValue:""})}else console.warn(`Could not parse attribute pair: "${A}" in definition: ${z}`)}):console.warn(`Could not parse record attributes from definition: ${z}`),{id:L.id,name:L.name,attributes:U}});o(T)},[i]);const E=(P,T,L)=>{x(P),k(T),v(L||null),f(!0)},C=P=>{c(b?T=>T.map(L=>L.id===b.id?P:L):T=>[...T,P]),f(!1)},_=P=>{c(T=>T.filter(L=>L.id!==P)),f(!1)},R=P=>{n(T=>[...T,P]),p(!1)};return u.jsxs(Vf,{className:"h-full",children:[u.jsxs(pj,{className:"w-full border-none shadow-none gap-0",children:[u.jsx(hj,{children:u.jsx(yV,{children:"Object Evolution Layer"})}),u.jsx(mj,{children:u.jsxs(XG,{type:"multiple",defaultValue:["global-context"],children:[u.jsxs(IS,{value:"global-context",children:[u.jsx(TS,{className:"flex items-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(BI,{className:"h-4 w-4"}),u.jsx("span",{children:"Global Context"})]})}),u.jsx(RS,{children:u.jsxs("div",{className:"space-y-4",children:[t.map(P=>u.jsx(MS,{attribute:P,timeRange:e,valueChanges:l.filter(T=>T.attributeId===P.id),onAddChange:T=>E(P,T),onEditChange:T=>E(P,T.timestamp,T)},P.id)),u.jsxs(ge,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>p(!0),children:[u.jsx(US,{className:"h-4 w-4 mr-2"}),"Add Attribute"]})]})})]}),r.map(P=>u.jsxs(IS,{value:P.id,children:[u.jsx(TS,{className:"flex items-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(cI,{className:"h-4 w-4"}),u.jsx("span",{children:P.name})]})}),u.jsx(RS,{children:u.jsx("div",{className:"space-y-4",children:P.attributes.map(T=>u.jsx(MS,{attribute:T,timeRange:e,valueChanges:l.filter(L=>L.attributeId===T.id),onAddChange:L=>E(T,L),onEditChange:L=>E(T,L.timestamp,L)},T.id))})})]},P.id))]})})]}),g&&u.jsx(GG,{open:d,onOpenChange:f,attribute:g,timestamp:w||0,existingChange:b,onSave:C,onDelete:b?()=>_(b.id):void 0}),u.jsx(KG,{open:m,onOpenChange:p,onAdd:R})]})}function JG(){const[e,t]=S.useState(!1),n=[0,100],r=()=>{t(o=>!o)};return u.jsx(RG,{children:u.jsx("div",{className:"h-screen",children:u.jsxs(kw,{direction:"horizontal",children:[u.jsx(IH,{}),u.jsx(Cw,{}),u.jsx(Oa,{children:u.jsxs(kw,{direction:"vertical",children:[u.jsx(Oa,{className:"flex flex-col",children:u.jsx(uN,{children:u.jsx(K8,{children:u.jsx(SG,{onToggleAIAssistant:r})})})}),u.jsx(Cw,{}),u.jsx(Oa,{defaultSize:0,collapsedSize:0,collapsible:!0,minSize:10,children:u.jsx(QG,{simulationTimeRange:n})})]})}),e&&u.jsx(u.Fragment,{children:u.jsx(CG,{})})]})})})}eI.createRoot(document.getElementById("root")).render(u.jsx(qe.StrictMode,{children:u.jsx(JG,{})}));export{ZG as c,pc as g};
