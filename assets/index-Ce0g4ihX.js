function WA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var RK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yh={exports:{}},da={},Xh={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew;function qA(){if(ew)return gt;ew=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,v={};function b(H,X,R){this.props=H,this.context=X,this.refs=v,this.updater=R||x}b.prototype.isReactComponent={},b.prototype.setState=function(H,X){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,X,"setState")},b.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=b.prototype;function E(H,X,R){this.props=H,this.context=X,this.refs=v,this.updater=R||x}var N=E.prototype=new k;N.constructor=E,S(N,b.prototype),N.isPureReactComponent=!0;var _=Array.isArray,I=Object.prototype.hasOwnProperty,P={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function O(H,X,R){var V,Z={},Q=null,K=null;if(X!=null)for(V in X.ref!==void 0&&(K=X.ref),X.key!==void 0&&(Q=""+X.key),X)I.call(X,V)&&!T.hasOwnProperty(V)&&(Z[V]=X[V]);var te=arguments.length-2;if(te===1)Z.children=R;else if(1<te){for(var J=Array(te),ie=0;ie<te;ie++)J[ie]=arguments[ie+2];Z.children=J}if(H&&H.defaultProps)for(V in te=H.defaultProps,te)Z[V]===void 0&&(Z[V]=te[V]);return{$$typeof:e,type:H,key:Q,ref:K,props:Z,_owner:P.current}}function U(H,X){return{$$typeof:e,type:H.type,key:X,ref:H.ref,props:H.props,_owner:H._owner}}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function B(H){var X={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(R){return X[R]})}var Y=/\/+/g;function q(H,X){return typeof H=="object"&&H!==null&&H.key!=null?B(""+H.key):X.toString(36)}function A(H,X,R,V,Z){var Q=typeof H;(Q==="undefined"||Q==="boolean")&&(H=null);var K=!1;if(H===null)K=!0;else switch(Q){case"string":case"number":K=!0;break;case"object":switch(H.$$typeof){case e:case t:K=!0}}if(K)return K=H,Z=Z(K),H=V===""?"."+q(K,0):V,_(Z)?(R="",H!=null&&(R=H.replace(Y,"$&/")+"/"),A(Z,X,R,"",function(ie){return ie})):Z!=null&&(L(Z)&&(Z=U(Z,R+(!Z.key||K&&K.key===Z.key?"":(""+Z.key).replace(Y,"$&/")+"/")+H)),X.push(Z)),1;if(K=0,V=V===""?".":V+":",_(H))for(var te=0;te<H.length;te++){Q=H[te];var J=V+q(Q,te);K+=A(Q,X,R,J,Z)}else if(J=g(H),typeof J=="function")for(H=J.call(H),te=0;!(Q=H.next()).done;)Q=Q.value,J=V+q(Q,te++),K+=A(Q,X,R,J,Z);else if(Q==="object")throw X=String(H),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return K}function $(H,X,R){if(H==null)return H;var V=[],Z=0;return A(H,V,"","",function(Q){return X.call(R,Q,Z++)}),V}function F(H){if(H._status===-1){var X=H._result;X=X(),X.then(function(R){(H._status===0||H._status===-1)&&(H._status=1,H._result=R)},function(R){(H._status===0||H._status===-1)&&(H._status=2,H._result=R)}),H._status===-1&&(H._status=0,H._result=X)}if(H._status===1)return H._result.default;throw H._result}var G={current:null},D={transition:null},W={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:D,ReactCurrentOwner:P};function M(){throw Error("act(...) is not supported in production builds of React.")}return gt.Children={map:$,forEach:function(H,X,R){$(H,function(){X.apply(this,arguments)},R)},count:function(H){var X=0;return $(H,function(){X++}),X},toArray:function(H){return $(H,function(X){return X})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},gt.Component=b,gt.Fragment=n,gt.Profiler=o,gt.PureComponent=E,gt.StrictMode=r,gt.Suspense=d,gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,gt.act=M,gt.cloneElement=function(H,X,R){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var V=S({},H.props),Z=H.key,Q=H.ref,K=H._owner;if(X!=null){if(X.ref!==void 0&&(Q=X.ref,K=P.current),X.key!==void 0&&(Z=""+X.key),H.type&&H.type.defaultProps)var te=H.type.defaultProps;for(J in X)I.call(X,J)&&!T.hasOwnProperty(J)&&(V[J]=X[J]===void 0&&te!==void 0?te[J]:X[J])}var J=arguments.length-2;if(J===1)V.children=R;else if(1<J){te=Array(J);for(var ie=0;ie<J;ie++)te[ie]=arguments[ie+2];V.children=te}return{$$typeof:e,type:H.type,key:Z,ref:Q,props:V,_owner:K}},gt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:i,_context:H},H.Consumer=H},gt.createElement=O,gt.createFactory=function(H){var X=O.bind(null,H);return X.type=H,X},gt.createRef=function(){return{current:null}},gt.forwardRef=function(H){return{$$typeof:c,render:H}},gt.isValidElement=L,gt.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:F}},gt.memo=function(H,X){return{$$typeof:f,type:H,compare:X===void 0?null:X}},gt.startTransition=function(H){var X=D.transition;D.transition={};try{H()}finally{D.transition=X}},gt.unstable_act=M,gt.useCallback=function(H,X){return G.current.useCallback(H,X)},gt.useContext=function(H){return G.current.useContext(H)},gt.useDebugValue=function(){},gt.useDeferredValue=function(H){return G.current.useDeferredValue(H)},gt.useEffect=function(H,X){return G.current.useEffect(H,X)},gt.useId=function(){return G.current.useId()},gt.useImperativeHandle=function(H,X,R){return G.current.useImperativeHandle(H,X,R)},gt.useInsertionEffect=function(H,X){return G.current.useInsertionEffect(H,X)},gt.useLayoutEffect=function(H,X){return G.current.useLayoutEffect(H,X)},gt.useMemo=function(H,X){return G.current.useMemo(H,X)},gt.useReducer=function(H,X,R){return G.current.useReducer(H,X,R)},gt.useRef=function(H){return G.current.useRef(H)},gt.useState=function(H){return G.current.useState(H)},gt.useSyncExternalStore=function(H,X,R){return G.current.useSyncExternalStore(H,X,R)},gt.useTransition=function(){return G.current.useTransition()},gt.version="18.3.1",gt}var tw;function mc(){return tw||(tw=1,Xh.exports=qA()),Xh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw;function YA(){if(nw)return da;nw=1;var e=mc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var h,p={},g=null,x=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(x=d.ref);for(h in d)r.call(d,h)&&!i.hasOwnProperty(h)&&(p[h]=d[h]);if(c&&c.defaultProps)for(h in d=c.defaultProps,d)p[h]===void 0&&(p[h]=d[h]);return{$$typeof:t,type:c,key:g,ref:x,props:p,_owner:o.current}}return da.Fragment=n,da.jsx=l,da.jsxs=l,da}var rw;function XA(){return rw||(rw=1,Yh.exports=YA()),Yh.exports}var u=XA(),w=mc();const qe=hc(w),af=WA({__proto__:null,default:qe},[w]);var Hu={},Gh={exports:{}},Yn={},Kh={exports:{}},Qh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function GA(){return ow||(ow=1,function(e){function t(D,W){var M=D.length;D.push(W);e:for(;0<M;){var H=M-1>>>1,X=D[H];if(0<o(X,W))D[H]=W,D[M]=X,M=H;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var W=D[0],M=D.pop();if(M!==W){D[0]=M;e:for(var H=0,X=D.length,R=X>>>1;H<R;){var V=2*(H+1)-1,Z=D[V],Q=V+1,K=D[Q];if(0>o(Z,M))Q<X&&0>o(K,Z)?(D[H]=K,D[Q]=M,H=Q):(D[H]=Z,D[V]=M,H=V);else if(Q<X&&0>o(K,M))D[H]=K,D[Q]=M,H=Q;else break e}}return W}function o(D,W){var M=D.sortIndex-W.sortIndex;return M!==0?M:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],f=[],h=1,p=null,g=3,x=!1,S=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(D){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=D)r(f),W.sortIndex=W.expirationTime,t(d,W);else break;W=n(f)}}function _(D){if(v=!1,N(D),!S)if(n(d)!==null)S=!0,F(I);else{var W=n(f);W!==null&&G(_,W.startTime-D)}}function I(D,W){S=!1,v&&(v=!1,k(O),O=-1),x=!0;var M=g;try{for(N(W),p=n(d);p!==null&&(!(p.expirationTime>W)||D&&!B());){var H=p.callback;if(typeof H=="function"){p.callback=null,g=p.priorityLevel;var X=H(p.expirationTime<=W);W=e.unstable_now(),typeof X=="function"?p.callback=X:p===n(d)&&r(d),N(W)}else r(d);p=n(d)}if(p!==null)var R=!0;else{var V=n(f);V!==null&&G(_,V.startTime-W),R=!1}return R}finally{p=null,g=M,x=!1}}var P=!1,T=null,O=-1,U=5,L=-1;function B(){return!(e.unstable_now()-L<U)}function Y(){if(T!==null){var D=e.unstable_now();L=D;var W=!0;try{W=T(!0,D)}finally{W?q():(P=!1,T=null)}}else P=!1}var q;if(typeof E=="function")q=function(){E(Y)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,$=A.port2;A.port1.onmessage=Y,q=function(){$.postMessage(null)}}else q=function(){b(Y,0)};function F(D){T=D,P||(P=!0,q())}function G(D,W){O=b(function(){D(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){S||x||(S=!0,F(I))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var M=g;g=W;try{return D()}finally{g=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var M=g;g=D;try{return W()}finally{g=M}},e.unstable_scheduleCallback=function(D,W,M){var H=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?H+M:H):M=H,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=M+X,D={id:h++,callback:W,priorityLevel:D,startTime:M,expirationTime:X,sortIndex:-1},M>H?(D.sortIndex=M,t(f,D),n(d)===null&&D===n(f)&&(v?(k(O),O=-1):v=!0,G(_,M-H))):(D.sortIndex=X,t(d,D),S||x||(S=!0,F(I))),D},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(D){var W=g;return function(){var M=g;g=W;try{return D.apply(this,arguments)}finally{g=M}}}}(Qh)),Qh}var iw;function KA(){return iw||(iw=1,Kh.exports=GA()),Kh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function QA(){if(sw)return Yn;sw=1;var e=mc(),t=KA();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,m=1;m<arguments.length;m++)a+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function i(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(o[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(s){return d.call(p,s)?!0:d.call(h,s)?!1:f.test(s)?p[s]=!0:(h[s]=!0,!1)}function x(s,a,m,y){if(m!==null&&m.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return y?!1:m!==null?!m.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,a,m,y){if(a===null||typeof a>"u"||x(s,a,m,y))return!0;if(y)return!1;if(m!==null)switch(m.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function v(s,a,m,y,C,j,z){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=y,this.attributeNamespace=C,this.mustUseProperty=m,this.propertyName=s,this.type=a,this.sanitizeURL=j,this.removeEmptyString=z}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new v(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];b[a]=new v(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new v(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new v(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new v(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new v(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new v(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new v(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new v(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(k,E);b[a]=new v(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(k,E);b[a]=new v(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(k,E);b[a]=new v(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new v(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new v(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,a,m,y){var C=b.hasOwnProperty(a)?b[a]:null;(C!==null?C.type!==0:y||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,m,C,y)&&(m=null),y||C===null?g(a)&&(m===null?s.removeAttribute(a):s.setAttribute(a,""+m)):C.mustUseProperty?s[C.propertyName]=m===null?C.type===3?!1:"":m:(a=C.attributeName,y=C.attributeNamespace,m===null?s.removeAttribute(a):(C=C.type,m=C===3||C===4&&m===!0?"":""+m,y?s.setAttributeNS(y,a,m):s.setAttribute(a,m))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),P=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),B=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),D=Symbol.iterator;function W(s){return s===null||typeof s!="object"?null:(s=D&&s[D]||s["@@iterator"],typeof s=="function"?s:null)}var M=Object.assign,H;function X(s){if(H===void 0)try{throw Error()}catch(m){var a=m.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+s}var R=!1;function V(s,a){if(!s||R)return"";R=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ce){var y=ce}Reflect.construct(s,[],a)}else{try{a.call()}catch(ce){y=ce}s.call(a.prototype)}else{try{throw Error()}catch(ce){y=ce}s()}}catch(ce){if(ce&&y&&typeof ce.stack=="string"){for(var C=ce.stack.split(`
`),j=y.stack.split(`
`),z=C.length-1,ee=j.length-1;1<=z&&0<=ee&&C[z]!==j[ee];)ee--;for(;1<=z&&0<=ee;z--,ee--)if(C[z]!==j[ee]){if(z!==1||ee!==1)do if(z--,ee--,0>ee||C[z]!==j[ee]){var ne=`
`+C[z].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=z&&0<=ee);break}}}finally{R=!1,Error.prepareStackTrace=m}return(s=s?s.displayName||s.name:"")?X(s):""}function Z(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=V(s.type,!1),s;case 11:return s=V(s.type.render,!1),s;case 1:return s=V(s.type,!0),s;default:return""}}function Q(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case P:return"Portal";case U:return"Profiler";case O:return"StrictMode";case q:return"Suspense";case A:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case B:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case Y:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return a=s.displayName||null,a!==null?a:Q(s.type)||"Memo";case F:a=s._payload,s=s._init;try{return Q(s(a))}catch{}}return null}function K(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(a);case 8:return a===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function te(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function J(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ie(s){var a=J(s)?"checked":"value",m=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),y=""+s[a];if(!s.hasOwnProperty(a)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var C=m.get,j=m.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return C.call(this)},set:function(z){y=""+z,j.call(this,z)}}),Object.defineProperty(s,a,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(z){y=""+z},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function le(s){s._valueTracker||(s._valueTracker=ie(s))}function de(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var m=a.getValue(),y="";return s&&(y=J(s)?s.checked?"true":"false":s.value),s=y,s!==m?(a.setValue(s),!0):!1}function fe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ye(s,a){var m=a.checked;return M({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??s._wrapperState.initialChecked})}function Ae(s,a){var m=a.defaultValue==null?"":a.defaultValue,y=a.checked!=null?a.checked:a.defaultChecked;m=te(a.value!=null?a.value:m),s._wrapperState={initialChecked:y,initialValue:m,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Re(s,a){a=a.checked,a!=null&&N(s,"checked",a,!1)}function nt(s,a){Re(s,a);var m=te(a.value),y=a.type;if(m!=null)y==="number"?(m===0&&s.value===""||s.value!=m)&&(s.value=""+m):s.value!==""+m&&(s.value=""+m);else if(y==="submit"||y==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Ze(s,a.type,m):a.hasOwnProperty("defaultValue")&&Ze(s,a.type,te(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function rt(s,a,m){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var y=a.type;if(!(y!=="submit"&&y!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,m||a===s.value||(s.value=a),s.defaultValue=a}m=s.name,m!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,m!==""&&(s.name=m)}function Ze(s,a,m){(a!=="number"||fe(s.ownerDocument)!==s)&&(m==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+m&&(s.defaultValue=""+m))}var kt=Array.isArray;function Ce(s,a,m,y){if(s=s.options,a){a={};for(var C=0;C<m.length;C++)a["$"+m[C]]=!0;for(m=0;m<s.length;m++)C=a.hasOwnProperty("$"+s[m].value),s[m].selected!==C&&(s[m].selected=C),C&&y&&(s[m].defaultSelected=!0)}else{for(m=""+te(m),a=null,C=0;C<s.length;C++){if(s[C].value===m){s[C].selected=!0,y&&(s[C].defaultSelected=!0);return}a!==null||s[C].disabled||(a=s[C])}a!==null&&(a.selected=!0)}}function tt(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ht(s,a){var m=a.value;if(m==null){if(m=a.children,a=a.defaultValue,m!=null){if(a!=null)throw Error(n(92));if(kt(m)){if(1<m.length)throw Error(n(93));m=m[0]}a=m}a==null&&(a=""),m=a}s._wrapperState={initialValue:te(m)}}function Nt(s,a){var m=te(a.value),y=te(a.defaultValue);m!=null&&(m=""+m,m!==s.value&&(s.value=m),a.defaultValue==null&&s.defaultValue!==m&&(s.defaultValue=m)),y!=null&&(s.defaultValue=""+y)}function Et(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ue(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function me(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ue(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ee,We=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,m,y,C){MSApp.execUnsafeLocalFunction(function(){return s(a,m,y,C)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Ee=Ee||document.createElement("div"),Ee.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ee.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Ie(s,a){if(a){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=a;return}}s.textContent=a}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jt=["Webkit","ms","Moz","O"];Object.keys(mt).forEach(function(s){jt.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),mt[a]=mt[s]})});function xt(s,a,m){return a==null||typeof a=="boolean"||a===""?"":m||typeof a!="number"||a===0||mt.hasOwnProperty(s)&&mt[s]?(""+a).trim():a+"px"}function It(s,a){s=s.style;for(var m in a)if(a.hasOwnProperty(m)){var y=m.indexOf("--")===0,C=xt(m,a[m],y);m==="float"&&(m="cssFloat"),y?s.setProperty(m,C):s[m]=C}}var Mt=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ft(s,a){if(a){if(Mt[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function _t(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pe=null;function ke(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var re=null,be=null,Oe=null;function Ye(s){if(s=Kl(s)){if(typeof re!="function")throw Error(n(280));var a=s.stateNode;a&&(a=ou(a),re(s.stateNode,s.type,a))}}function Fe(s){be?Oe?Oe.push(s):Oe=[s]:be=s}function Ve(){if(be){var s=be,a=Oe;if(Oe=be=null,Ye(s),a)for(s=0;s<a.length;s++)Ye(a[s])}}function Pe(s,a){return s(a)}function ct(){}var Je=!1;function At(s,a,m){if(Je)return s(a,m);Je=!0;try{return Pe(s,a,m)}finally{Je=!1,(be!==null||Oe!==null)&&(ct(),Ve())}}function Tt(s,a){var m=s.stateNode;if(m===null)return null;var y=ou(m);if(y===null)return null;m=y[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(n(231,a,typeof m));return m}var bt=!1;if(c)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){bt=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{bt=!1}function bn(s,a,m,y,C,j,z,ee,ne){var ce=Array.prototype.slice.call(arguments,3);try{a.apply(m,ce)}catch(ve){this.onError(ve)}}var Gt=!1,co=null,Bn=!1,Si=null,uo={onError:function(s){Gt=!0,co=s}};function Vr(s,a,m,y,C,j,z,ee,ne){Gt=!1,co=null,bn.apply(uo,arguments)}function _l(s,a,m,y,C,j,z,ee,ne){if(Vr.apply(this,arguments),Gt){if(Gt){var ce=co;Gt=!1,co=null}else throw Error(n(198));Bn||(Bn=!0,Si=ce)}}function Hr(s){var a=s,m=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(m=a.return),s=a.return;while(s)}return a.tag===3?m:null}function Pl(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Al(s){if(Hr(s)!==s)throw Error(n(188))}function lp(s){var a=s.alternate;if(!a){if(a=Hr(s),a===null)throw Error(n(188));return a!==s?null:s}for(var m=s,y=a;;){var C=m.return;if(C===null)break;var j=C.alternate;if(j===null){if(y=C.return,y!==null){m=y;continue}break}if(C.child===j.child){for(j=C.child;j;){if(j===m)return Al(C),s;if(j===y)return Al(C),a;j=j.sibling}throw Error(n(188))}if(m.return!==y.return)m=C,y=j;else{for(var z=!1,ee=C.child;ee;){if(ee===m){z=!0,m=C,y=j;break}if(ee===y){z=!0,y=C,m=j;break}ee=ee.sibling}if(!z){for(ee=j.child;ee;){if(ee===m){z=!0,m=j,y=C;break}if(ee===y){z=!0,y=j,m=C;break}ee=ee.sibling}if(!z)throw Error(n(189))}}if(m.alternate!==y)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?s:a}function Mc(s){return s=lp(s),s!==null?Dc(s):null}function Dc(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Dc(s);if(a!==null)return a;s=s.sibling}return null}var Oc=t.unstable_scheduleCallback,Lc=t.unstable_cancelCallback,ap=t.unstable_shouldYield,zc=t.unstable_requestPaint,Ut=t.unstable_now,cp=t.unstable_getCurrentPriorityLevel,Il=t.unstable_ImmediatePriority,$c=t.unstable_UserBlockingPriority,as=t.unstable_NormalPriority,up=t.unstable_LowPriority,Fc=t.unstable_IdlePriority,ki=null,fr=null;function dp(s){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(ki,s,void 0,(s.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:hp,fp=Math.log,pp=Math.LN2;function hp(s){return s>>>=0,s===0?32:31-(fp(s)/pp|0)|0}var cs=64,us=4194304;function Ur(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ds(s,a){var m=s.pendingLanes;if(m===0)return 0;var y=0,C=s.suspendedLanes,j=s.pingedLanes,z=m&268435455;if(z!==0){var ee=z&~C;ee!==0?y=Ur(ee):(j&=z,j!==0&&(y=Ur(j)))}else z=m&~C,z!==0?y=Ur(z):j!==0&&(y=Ur(j));if(y===0)return 0;if(a!==0&&a!==y&&(a&C)===0&&(C=y&-y,j=a&-a,C>=j||C===16&&(j&4194240)!==0))return a;if((y&4)!==0&&(y|=m&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=y;0<a;)m=31-Jn(a),C=1<<m,y|=s[m],a&=~C;return y}function Bc(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mp(s,a){for(var m=s.suspendedLanes,y=s.pingedLanes,C=s.expirationTimes,j=s.pendingLanes;0<j;){var z=31-Jn(j),ee=1<<z,ne=C[z];ne===-1?((ee&m)===0||(ee&y)!==0)&&(C[z]=Bc(ee,a)):ne<=a&&(s.expiredLanes|=ee),j&=~ee}}function Tl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function fs(){var s=cs;return cs<<=1,(cs&4194240)===0&&(cs=64),s}function Rl(s){for(var a=[],m=0;31>m;m++)a.push(s);return a}function Ci(s,a,m){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Jn(a),s[a]=m}function Vc(s,a){var m=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var y=s.eventTimes;for(s=s.expirationTimes;0<m;){var C=31-Jn(m),j=1<<C;a[C]=0,y[C]=-1,s[C]=-1,m&=~j}}function gp(s,a){var m=s.entangledLanes|=a;for(s=s.entanglements;m;){var y=31-Jn(m),C=1<<y;C&a|s[y]&a&&(s[y]|=a),m&=~C}}var Rt=0;function Ty(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ry,xp,My,Dy,Oy,yp=!1,Hc=[],Ro=null,Mo=null,Do=null,Ml=new Map,Dl=new Map,Oo=[],pP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ly(s,a){switch(s){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":Mo=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":Ml.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(a.pointerId)}}function Ol(s,a,m,y,C,j){return s===null||s.nativeEvent!==j?(s={blockedOn:a,domEventName:m,eventSystemFlags:y,nativeEvent:j,targetContainers:[C]},a!==null&&(a=Kl(a),a!==null&&xp(a)),s):(s.eventSystemFlags|=y,a=s.targetContainers,C!==null&&a.indexOf(C)===-1&&a.push(C),s)}function hP(s,a,m,y,C){switch(a){case"focusin":return Ro=Ol(Ro,s,a,m,y,C),!0;case"dragenter":return Mo=Ol(Mo,s,a,m,y,C),!0;case"mouseover":return Do=Ol(Do,s,a,m,y,C),!0;case"pointerover":var j=C.pointerId;return Ml.set(j,Ol(Ml.get(j)||null,s,a,m,y,C)),!0;case"gotpointercapture":return j=C.pointerId,Dl.set(j,Ol(Dl.get(j)||null,s,a,m,y,C)),!0}return!1}function zy(s){var a=Ni(s.target);if(a!==null){var m=Hr(a);if(m!==null){if(a=m.tag,a===13){if(a=Pl(m),a!==null){s.blockedOn=a,Oy(s.priority,function(){My(m)});return}}else if(a===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Uc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var m=wp(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(m===null){m=s.nativeEvent;var y=new m.constructor(m.type,m);pe=y,m.target.dispatchEvent(y),pe=null}else return a=Kl(m),a!==null&&xp(a),s.blockedOn=m,!1;a.shift()}return!0}function $y(s,a,m){Uc(s)&&m.delete(a)}function mP(){yp=!1,Ro!==null&&Uc(Ro)&&(Ro=null),Mo!==null&&Uc(Mo)&&(Mo=null),Do!==null&&Uc(Do)&&(Do=null),Ml.forEach($y),Dl.forEach($y)}function Ll(s,a){s.blockedOn===a&&(s.blockedOn=null,yp||(yp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mP)))}function zl(s){function a(C){return Ll(C,s)}if(0<Hc.length){Ll(Hc[0],s);for(var m=1;m<Hc.length;m++){var y=Hc[m];y.blockedOn===s&&(y.blockedOn=null)}}for(Ro!==null&&Ll(Ro,s),Mo!==null&&Ll(Mo,s),Do!==null&&Ll(Do,s),Ml.forEach(a),Dl.forEach(a),m=0;m<Oo.length;m++)y=Oo[m],y.blockedOn===s&&(y.blockedOn=null);for(;0<Oo.length&&(m=Oo[0],m.blockedOn===null);)zy(m),m.blockedOn===null&&Oo.shift()}var ps=_.ReactCurrentBatchConfig,Wc=!0;function gP(s,a,m,y){var C=Rt,j=ps.transition;ps.transition=null;try{Rt=1,vp(s,a,m,y)}finally{Rt=C,ps.transition=j}}function xP(s,a,m,y){var C=Rt,j=ps.transition;ps.transition=null;try{Rt=4,vp(s,a,m,y)}finally{Rt=C,ps.transition=j}}function vp(s,a,m,y){if(Wc){var C=wp(s,a,m,y);if(C===null)Lp(s,a,y,qc,m),Ly(s,y);else if(hP(C,s,a,m,y))y.stopPropagation();else if(Ly(s,y),a&4&&-1<pP.indexOf(s)){for(;C!==null;){var j=Kl(C);if(j!==null&&Ry(j),j=wp(s,a,m,y),j===null&&Lp(s,a,y,qc,m),j===C)break;C=j}C!==null&&y.stopPropagation()}else Lp(s,a,y,null,m)}}var qc=null;function wp(s,a,m,y){if(qc=null,s=ke(y),s=Ni(s),s!==null)if(a=Hr(s),a===null)s=null;else if(m=a.tag,m===13){if(s=Pl(a),s!==null)return s;s=null}else if(m===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return qc=s,null}function Fy(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cp()){case Il:return 1;case $c:return 4;case as:case up:return 16;case Fc:return 536870912;default:return 16}default:return 16}}var Lo=null,bp=null,Yc=null;function By(){if(Yc)return Yc;var s,a=bp,m=a.length,y,C="value"in Lo?Lo.value:Lo.textContent,j=C.length;for(s=0;s<m&&a[s]===C[s];s++);var z=m-s;for(y=1;y<=z&&a[m-y]===C[j-y];y++);return Yc=C.slice(s,1<y?1-y:void 0)}function Xc(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Gc(){return!0}function Vy(){return!1}function Zn(s){function a(m,y,C,j,z){this._reactName=m,this._targetInst=C,this.type=y,this.nativeEvent=j,this.target=z,this.currentTarget=null;for(var ee in s)s.hasOwnProperty(ee)&&(m=s[ee],this[ee]=m?m(j):j[ee]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Gc:Vy,this.isPropagationStopped=Vy,this}return M(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Gc)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Gc)},persist:function(){},isPersistent:Gc}),a}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sp=Zn(hs),$l=M({},hs,{view:0,detail:0}),yP=Zn($l),kp,Cp,Fl,Kc=M({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ep,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fl&&(Fl&&s.type==="mousemove"?(kp=s.screenX-Fl.screenX,Cp=s.screenY-Fl.screenY):Cp=kp=0,Fl=s),kp)},movementY:function(s){return"movementY"in s?s.movementY:Cp}}),Hy=Zn(Kc),vP=M({},Kc,{dataTransfer:0}),wP=Zn(vP),bP=M({},$l,{relatedTarget:0}),Np=Zn(bP),SP=M({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),kP=Zn(SP),CP=M({},hs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),NP=Zn(CP),EP=M({},hs,{data:0}),Uy=Zn(EP),jP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_P={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AP(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=PP[s])?!!a[s]:!1}function Ep(){return AP}var IP=M({},$l,{key:function(s){if(s.key){var a=jP[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Xc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?_P[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ep,charCode:function(s){return s.type==="keypress"?Xc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),TP=Zn(IP),RP=M({},Kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wy=Zn(RP),MP=M({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ep}),DP=Zn(MP),OP=M({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),LP=Zn(OP),zP=M({},Kc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$P=Zn(zP),FP=[9,13,27,32],jp=c&&"CompositionEvent"in window,Bl=null;c&&"documentMode"in document&&(Bl=document.documentMode);var BP=c&&"TextEvent"in window&&!Bl,qy=c&&(!jp||Bl&&8<Bl&&11>=Bl),Yy=" ",Xy=!1;function Gy(s,a){switch(s){case"keyup":return FP.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ky(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ms=!1;function VP(s,a){switch(s){case"compositionend":return Ky(a);case"keypress":return a.which!==32?null:(Xy=!0,Yy);case"textInput":return s=a.data,s===Yy&&Xy?null:s;default:return null}}function HP(s,a){if(ms)return s==="compositionend"||!jp&&Gy(s,a)?(s=By(),Yc=bp=Lo=null,ms=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return qy&&a.locale!=="ko"?null:a.data;default:return null}}var UP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qy(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!UP[s.type]:a==="textarea"}function Jy(s,a,m,y){Fe(y),a=tu(a,"onChange"),0<a.length&&(m=new Sp("onChange","change",null,m,y),s.push({event:m,listeners:a}))}var Vl=null,Hl=null;function WP(s){gv(s,0)}function Qc(s){var a=ws(s);if(de(a))return s}function qP(s,a){if(s==="change")return a}var Zy=!1;if(c){var _p;if(c){var Pp="oninput"in document;if(!Pp){var ev=document.createElement("div");ev.setAttribute("oninput","return;"),Pp=typeof ev.oninput=="function"}_p=Pp}else _p=!1;Zy=_p&&(!document.documentMode||9<document.documentMode)}function tv(){Vl&&(Vl.detachEvent("onpropertychange",nv),Hl=Vl=null)}function nv(s){if(s.propertyName==="value"&&Qc(Hl)){var a=[];Jy(a,Hl,s,ke(s)),At(WP,a)}}function YP(s,a,m){s==="focusin"?(tv(),Vl=a,Hl=m,Vl.attachEvent("onpropertychange",nv)):s==="focusout"&&tv()}function XP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Qc(Hl)}function GP(s,a){if(s==="click")return Qc(a)}function KP(s,a){if(s==="input"||s==="change")return Qc(a)}function QP(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Cr=typeof Object.is=="function"?Object.is:QP;function Ul(s,a){if(Cr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var m=Object.keys(s),y=Object.keys(a);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var C=m[y];if(!d.call(a,C)||!Cr(s[C],a[C]))return!1}return!0}function rv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ov(s,a){var m=rv(s);s=0;for(var y;m;){if(m.nodeType===3){if(y=s+m.textContent.length,s<=a&&y>=a)return{node:m,offset:a-s};s=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=rv(m)}}function iv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?iv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function sv(){for(var s=window,a=fe();a instanceof s.HTMLIFrameElement;){try{var m=typeof a.contentWindow.location.href=="string"}catch{m=!1}if(m)s=a.contentWindow;else break;a=fe(s.document)}return a}function Ap(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function JP(s){var a=sv(),m=s.focusedElem,y=s.selectionRange;if(a!==m&&m&&m.ownerDocument&&iv(m.ownerDocument.documentElement,m)){if(y!==null&&Ap(m)){if(a=y.start,s=y.end,s===void 0&&(s=a),"selectionStart"in m)m.selectionStart=a,m.selectionEnd=Math.min(s,m.value.length);else if(s=(a=m.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var C=m.textContent.length,j=Math.min(y.start,C);y=y.end===void 0?j:Math.min(y.end,C),!s.extend&&j>y&&(C=y,y=j,j=C),C=ov(m,j);var z=ov(m,y);C&&z&&(s.rangeCount!==1||s.anchorNode!==C.node||s.anchorOffset!==C.offset||s.focusNode!==z.node||s.focusOffset!==z.offset)&&(a=a.createRange(),a.setStart(C.node,C.offset),s.removeAllRanges(),j>y?(s.addRange(a),s.extend(z.node,z.offset)):(a.setEnd(z.node,z.offset),s.addRange(a)))}}for(a=[],s=m;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<a.length;m++)s=a[m],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var ZP=c&&"documentMode"in document&&11>=document.documentMode,gs=null,Ip=null,Wl=null,Tp=!1;function lv(s,a,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Tp||gs==null||gs!==fe(y)||(y=gs,"selectionStart"in y&&Ap(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Wl&&Ul(Wl,y)||(Wl=y,y=tu(Ip,"onSelect"),0<y.length&&(a=new Sp("onSelect","select",null,a,m),s.push({event:a,listeners:y}),a.target=gs)))}function Jc(s,a){var m={};return m[s.toLowerCase()]=a.toLowerCase(),m["Webkit"+s]="webkit"+a,m["Moz"+s]="moz"+a,m}var xs={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},Rp={},av={};c&&(av=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Zc(s){if(Rp[s])return Rp[s];if(!xs[s])return s;var a=xs[s],m;for(m in a)if(a.hasOwnProperty(m)&&m in av)return Rp[s]=a[m];return s}var cv=Zc("animationend"),uv=Zc("animationiteration"),dv=Zc("animationstart"),fv=Zc("transitionend"),pv=new Map,hv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zo(s,a){pv.set(s,a),i(a,[s])}for(var Mp=0;Mp<hv.length;Mp++){var Dp=hv[Mp],eA=Dp.toLowerCase(),tA=Dp[0].toUpperCase()+Dp.slice(1);zo(eA,"on"+tA)}zo(cv,"onAnimationEnd"),zo(uv,"onAnimationIteration"),zo(dv,"onAnimationStart"),zo("dblclick","onDoubleClick"),zo("focusin","onFocus"),zo("focusout","onBlur"),zo(fv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ql));function mv(s,a,m){var y=s.type||"unknown-event";s.currentTarget=m,_l(y,a,void 0,s),s.currentTarget=null}function gv(s,a){a=(a&4)!==0;for(var m=0;m<s.length;m++){var y=s[m],C=y.event;y=y.listeners;e:{var j=void 0;if(a)for(var z=y.length-1;0<=z;z--){var ee=y[z],ne=ee.instance,ce=ee.currentTarget;if(ee=ee.listener,ne!==j&&C.isPropagationStopped())break e;mv(C,ee,ce),j=ne}else for(z=0;z<y.length;z++){if(ee=y[z],ne=ee.instance,ce=ee.currentTarget,ee=ee.listener,ne!==j&&C.isPropagationStopped())break e;mv(C,ee,ce),j=ne}}}if(Bn)throw s=Si,Bn=!1,Si=null,s}function $t(s,a){var m=a[Hp];m===void 0&&(m=a[Hp]=new Set);var y=s+"__bubble";m.has(y)||(xv(a,s,2,!1),m.add(y))}function Op(s,a,m){var y=0;a&&(y|=4),xv(m,s,y,a)}var eu="_reactListening"+Math.random().toString(36).slice(2);function Yl(s){if(!s[eu]){s[eu]=!0,r.forEach(function(m){m!=="selectionchange"&&(nA.has(m)||Op(m,!1,s),Op(m,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[eu]||(a[eu]=!0,Op("selectionchange",!1,a))}}function xv(s,a,m,y){switch(Fy(a)){case 1:var C=gP;break;case 4:C=xP;break;default:C=vp}m=C.bind(null,a,m,s),C=void 0,!bt||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(C=!0),y?C!==void 0?s.addEventListener(a,m,{capture:!0,passive:C}):s.addEventListener(a,m,!0):C!==void 0?s.addEventListener(a,m,{passive:C}):s.addEventListener(a,m,!1)}function Lp(s,a,m,y,C){var j=y;if((a&1)===0&&(a&2)===0&&y!==null)e:for(;;){if(y===null)return;var z=y.tag;if(z===3||z===4){var ee=y.stateNode.containerInfo;if(ee===C||ee.nodeType===8&&ee.parentNode===C)break;if(z===4)for(z=y.return;z!==null;){var ne=z.tag;if((ne===3||ne===4)&&(ne=z.stateNode.containerInfo,ne===C||ne.nodeType===8&&ne.parentNode===C))return;z=z.return}for(;ee!==null;){if(z=Ni(ee),z===null)return;if(ne=z.tag,ne===5||ne===6){y=j=z;continue e}ee=ee.parentNode}}y=y.return}At(function(){var ce=j,ve=ke(m),we=[];e:{var xe=pv.get(s);if(xe!==void 0){var _e=Sp,Le=s;switch(s){case"keypress":if(Xc(m)===0)break e;case"keydown":case"keyup":_e=TP;break;case"focusin":Le="focus",_e=Np;break;case"focusout":Le="blur",_e=Np;break;case"beforeblur":case"afterblur":_e=Np;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Hy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=wP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=DP;break;case cv:case uv:case dv:_e=kP;break;case fv:_e=LP;break;case"scroll":_e=yP;break;case"wheel":_e=$P;break;case"copy":case"cut":case"paste":_e=NP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Wy}var Be=(a&4)!==0,Kt=!Be&&s==="scroll",se=Be?xe!==null?xe+"Capture":null:xe;Be=[];for(var oe=ce,ae;oe!==null;){ae=oe;var Ne=ae.stateNode;if(ae.tag===5&&Ne!==null&&(ae=Ne,se!==null&&(Ne=Tt(oe,se),Ne!=null&&Be.push(Xl(oe,Ne,ae)))),Kt)break;oe=oe.return}0<Be.length&&(xe=new _e(xe,Le,null,m,ve),we.push({event:xe,listeners:Be}))}}if((a&7)===0){e:{if(xe=s==="mouseover"||s==="pointerover",_e=s==="mouseout"||s==="pointerout",xe&&m!==pe&&(Le=m.relatedTarget||m.fromElement)&&(Ni(Le)||Le[fo]))break e;if((_e||xe)&&(xe=ve.window===ve?ve:(xe=ve.ownerDocument)?xe.defaultView||xe.parentWindow:window,_e?(Le=m.relatedTarget||m.toElement,_e=ce,Le=Le?Ni(Le):null,Le!==null&&(Kt=Hr(Le),Le!==Kt||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(_e=null,Le=ce),_e!==Le)){if(Be=Hy,Ne="onMouseLeave",se="onMouseEnter",oe="mouse",(s==="pointerout"||s==="pointerover")&&(Be=Wy,Ne="onPointerLeave",se="onPointerEnter",oe="pointer"),Kt=_e==null?xe:ws(_e),ae=Le==null?xe:ws(Le),xe=new Be(Ne,oe+"leave",_e,m,ve),xe.target=Kt,xe.relatedTarget=ae,Ne=null,Ni(ve)===ce&&(Be=new Be(se,oe+"enter",Le,m,ve),Be.target=ae,Be.relatedTarget=Kt,Ne=Be),Kt=Ne,_e&&Le)t:{for(Be=_e,se=Le,oe=0,ae=Be;ae;ae=ys(ae))oe++;for(ae=0,Ne=se;Ne;Ne=ys(Ne))ae++;for(;0<oe-ae;)Be=ys(Be),oe--;for(;0<ae-oe;)se=ys(se),ae--;for(;oe--;){if(Be===se||se!==null&&Be===se.alternate)break t;Be=ys(Be),se=ys(se)}Be=null}else Be=null;_e!==null&&yv(we,xe,_e,Be,!1),Le!==null&&Kt!==null&&yv(we,Kt,Le,Be,!0)}}e:{if(xe=ce?ws(ce):window,_e=xe.nodeName&&xe.nodeName.toLowerCase(),_e==="select"||_e==="input"&&xe.type==="file")var Ue=qP;else if(Qy(xe))if(Zy)Ue=KP;else{Ue=XP;var Ge=YP}else(_e=xe.nodeName)&&_e.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(Ue=GP);if(Ue&&(Ue=Ue(s,ce))){Jy(we,Ue,m,ve);break e}Ge&&Ge(s,xe,ce),s==="focusout"&&(Ge=xe._wrapperState)&&Ge.controlled&&xe.type==="number"&&Ze(xe,"number",xe.value)}switch(Ge=ce?ws(ce):window,s){case"focusin":(Qy(Ge)||Ge.contentEditable==="true")&&(gs=Ge,Ip=ce,Wl=null);break;case"focusout":Wl=Ip=gs=null;break;case"mousedown":Tp=!0;break;case"contextmenu":case"mouseup":case"dragend":Tp=!1,lv(we,m,ve);break;case"selectionchange":if(ZP)break;case"keydown":case"keyup":lv(we,m,ve)}var Ke;if(jp)e:{switch(s){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else ms?Gy(s,m)&&(ot="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(ot="onCompositionStart");ot&&(qy&&m.locale!=="ko"&&(ms||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&ms&&(Ke=By()):(Lo=ve,bp="value"in Lo?Lo.value:Lo.textContent,ms=!0)),Ge=tu(ce,ot),0<Ge.length&&(ot=new Uy(ot,s,null,m,ve),we.push({event:ot,listeners:Ge}),Ke?ot.data=Ke:(Ke=Ky(m),Ke!==null&&(ot.data=Ke)))),(Ke=BP?VP(s,m):HP(s,m))&&(ce=tu(ce,"onBeforeInput"),0<ce.length&&(ve=new Uy("onBeforeInput","beforeinput",null,m,ve),we.push({event:ve,listeners:ce}),ve.data=Ke))}gv(we,a)})}function Xl(s,a,m){return{instance:s,listener:a,currentTarget:m}}function tu(s,a){for(var m=a+"Capture",y=[];s!==null;){var C=s,j=C.stateNode;C.tag===5&&j!==null&&(C=j,j=Tt(s,m),j!=null&&y.unshift(Xl(s,j,C)),j=Tt(s,a),j!=null&&y.push(Xl(s,j,C))),s=s.return}return y}function ys(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function yv(s,a,m,y,C){for(var j=a._reactName,z=[];m!==null&&m!==y;){var ee=m,ne=ee.alternate,ce=ee.stateNode;if(ne!==null&&ne===y)break;ee.tag===5&&ce!==null&&(ee=ce,C?(ne=Tt(m,j),ne!=null&&z.unshift(Xl(m,ne,ee))):C||(ne=Tt(m,j),ne!=null&&z.push(Xl(m,ne,ee)))),m=m.return}z.length!==0&&s.push({event:a,listeners:z})}var rA=/\r\n?/g,oA=/\u0000|\uFFFD/g;function vv(s){return(typeof s=="string"?s:""+s).replace(rA,`
`).replace(oA,"")}function nu(s,a,m){if(a=vv(a),vv(s)!==a&&m)throw Error(n(425))}function ru(){}var zp=null,$p=null;function Fp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bp=typeof setTimeout=="function"?setTimeout:void 0,iA=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,sA=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(s){return wv.resolve(null).then(s).catch(lA)}:Bp;function lA(s){setTimeout(function(){throw s})}function Vp(s,a){var m=a,y=0;do{var C=m.nextSibling;if(s.removeChild(m),C&&C.nodeType===8)if(m=C.data,m==="/$"){if(y===0){s.removeChild(C),zl(a);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=C}while(m);zl(a)}function $o(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function bv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"){if(a===0)return s;a--}else m==="/$"&&a++}s=s.previousSibling}return null}var vs=Math.random().toString(36).slice(2),Wr="__reactFiber$"+vs,Gl="__reactProps$"+vs,fo="__reactContainer$"+vs,Hp="__reactEvents$"+vs,aA="__reactListeners$"+vs,cA="__reactHandles$"+vs;function Ni(s){var a=s[Wr];if(a)return a;for(var m=s.parentNode;m;){if(a=m[fo]||m[Wr]){if(m=a.alternate,a.child!==null||m!==null&&m.child!==null)for(s=bv(s);s!==null;){if(m=s[Wr])return m;s=bv(s)}return a}s=m,m=s.parentNode}return null}function Kl(s){return s=s[Wr]||s[fo],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ws(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function ou(s){return s[Gl]||null}var Up=[],bs=-1;function Fo(s){return{current:s}}function Ft(s){0>bs||(s.current=Up[bs],Up[bs]=null,bs--)}function Lt(s,a){bs++,Up[bs]=s.current,s.current=a}var Bo={},En=Fo(Bo),Vn=Fo(!1),Ei=Bo;function Ss(s,a){var m=s.type.contextTypes;if(!m)return Bo;var y=s.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===a)return y.__reactInternalMemoizedMaskedChildContext;var C={},j;for(j in m)C[j]=a[j];return y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=C),C}function Hn(s){return s=s.childContextTypes,s!=null}function iu(){Ft(Vn),Ft(En)}function Sv(s,a,m){if(En.current!==Bo)throw Error(n(168));Lt(En,a),Lt(Vn,m)}function kv(s,a,m){var y=s.stateNode;if(a=a.childContextTypes,typeof y.getChildContext!="function")return m;y=y.getChildContext();for(var C in y)if(!(C in a))throw Error(n(108,K(s)||"Unknown",C));return M({},m,y)}function su(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Bo,Ei=En.current,Lt(En,s),Lt(Vn,Vn.current),!0}function Cv(s,a,m){var y=s.stateNode;if(!y)throw Error(n(169));m?(s=kv(s,a,Ei),y.__reactInternalMemoizedMergedChildContext=s,Ft(Vn),Ft(En),Lt(En,s)):Ft(Vn),Lt(Vn,m)}var po=null,lu=!1,Wp=!1;function Nv(s){po===null?po=[s]:po.push(s)}function uA(s){lu=!0,Nv(s)}function Vo(){if(!Wp&&po!==null){Wp=!0;var s=0,a=Rt;try{var m=po;for(Rt=1;s<m.length;s++){var y=m[s];do y=y(!0);while(y!==null)}po=null,lu=!1}catch(C){throw po!==null&&(po=po.slice(s+1)),Oc(Il,Vo),C}finally{Rt=a,Wp=!1}}return null}var ks=[],Cs=0,au=null,cu=0,pr=[],hr=0,ji=null,ho=1,mo="";function _i(s,a){ks[Cs++]=cu,ks[Cs++]=au,au=s,cu=a}function Ev(s,a,m){pr[hr++]=ho,pr[hr++]=mo,pr[hr++]=ji,ji=s;var y=ho;s=mo;var C=32-Jn(y)-1;y&=~(1<<C),m+=1;var j=32-Jn(a)+C;if(30<j){var z=C-C%5;j=(y&(1<<z)-1).toString(32),y>>=z,C-=z,ho=1<<32-Jn(a)+C|m<<C|y,mo=j+s}else ho=1<<j|m<<C|y,mo=s}function qp(s){s.return!==null&&(_i(s,1),Ev(s,1,0))}function Yp(s){for(;s===au;)au=ks[--Cs],ks[Cs]=null,cu=ks[--Cs],ks[Cs]=null;for(;s===ji;)ji=pr[--hr],pr[hr]=null,mo=pr[--hr],pr[hr]=null,ho=pr[--hr],pr[hr]=null}var er=null,tr=null,Vt=!1,Nr=null;function jv(s,a){var m=yr(5,null,null,0);m.elementType="DELETED",m.stateNode=a,m.return=s,a=s.deletions,a===null?(s.deletions=[m],s.flags|=16):a.push(m)}function _v(s,a){switch(s.tag){case 5:var m=s.type;return a=a.nodeType!==1||m.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,er=s,tr=$o(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,er=s,tr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(m=ji!==null?{id:ho,overflow:mo}:null,s.memoizedState={dehydrated:a,treeContext:m,retryLane:1073741824},m=yr(18,null,null,0),m.stateNode=a,m.return=s,s.child=m,er=s,tr=null,!0):!1;default:return!1}}function Xp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Gp(s){if(Vt){var a=tr;if(a){var m=a;if(!_v(s,a)){if(Xp(s))throw Error(n(418));a=$o(m.nextSibling);var y=er;a&&_v(s,a)?jv(y,m):(s.flags=s.flags&-4097|2,Vt=!1,er=s)}}else{if(Xp(s))throw Error(n(418));s.flags=s.flags&-4097|2,Vt=!1,er=s}}}function Pv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;er=s}function uu(s){if(s!==er)return!1;if(!Vt)return Pv(s),Vt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Fp(s.type,s.memoizedProps)),a&&(a=tr)){if(Xp(s))throw Av(),Error(n(418));for(;a;)jv(s,a),a=$o(a.nextSibling)}if(Pv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"){if(a===0){tr=$o(s.nextSibling);break e}a--}else m!=="$"&&m!=="$!"&&m!=="$?"||a++}s=s.nextSibling}tr=null}}else tr=er?$o(s.stateNode.nextSibling):null;return!0}function Av(){for(var s=tr;s;)s=$o(s.nextSibling)}function Ns(){tr=er=null,Vt=!1}function Kp(s){Nr===null?Nr=[s]:Nr.push(s)}var dA=_.ReactCurrentBatchConfig;function Ql(s,a,m){if(s=m.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var y=m.stateNode}if(!y)throw Error(n(147,s));var C=y,j=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===j?a.ref:(a=function(z){var ee=C.refs;z===null?delete ee[j]:ee[j]=z},a._stringRef=j,a)}if(typeof s!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,s))}return s}function du(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Iv(s){var a=s._init;return a(s._payload)}function Tv(s){function a(se,oe){if(s){var ae=se.deletions;ae===null?(se.deletions=[oe],se.flags|=16):ae.push(oe)}}function m(se,oe){if(!s)return null;for(;oe!==null;)a(se,oe),oe=oe.sibling;return null}function y(se,oe){for(se=new Map;oe!==null;)oe.key!==null?se.set(oe.key,oe):se.set(oe.index,oe),oe=oe.sibling;return se}function C(se,oe){return se=Ko(se,oe),se.index=0,se.sibling=null,se}function j(se,oe,ae){return se.index=ae,s?(ae=se.alternate,ae!==null?(ae=ae.index,ae<oe?(se.flags|=2,oe):ae):(se.flags|=2,oe)):(se.flags|=1048576,oe)}function z(se){return s&&se.alternate===null&&(se.flags|=2),se}function ee(se,oe,ae,Ne){return oe===null||oe.tag!==6?(oe=Bh(ae,se.mode,Ne),oe.return=se,oe):(oe=C(oe,ae),oe.return=se,oe)}function ne(se,oe,ae,Ne){var Ue=ae.type;return Ue===T?ve(se,oe,ae.props.children,Ne,ae.key):oe!==null&&(oe.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===F&&Iv(Ue)===oe.type)?(Ne=C(oe,ae.props),Ne.ref=Ql(se,oe,ae),Ne.return=se,Ne):(Ne=Du(ae.type,ae.key,ae.props,null,se.mode,Ne),Ne.ref=Ql(se,oe,ae),Ne.return=se,Ne)}function ce(se,oe,ae,Ne){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ae.containerInfo||oe.stateNode.implementation!==ae.implementation?(oe=Vh(ae,se.mode,Ne),oe.return=se,oe):(oe=C(oe,ae.children||[]),oe.return=se,oe)}function ve(se,oe,ae,Ne,Ue){return oe===null||oe.tag!==7?(oe=Oi(ae,se.mode,Ne,Ue),oe.return=se,oe):(oe=C(oe,ae),oe.return=se,oe)}function we(se,oe,ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Bh(""+oe,se.mode,ae),oe.return=se,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case I:return ae=Du(oe.type,oe.key,oe.props,null,se.mode,ae),ae.ref=Ql(se,null,oe),ae.return=se,ae;case P:return oe=Vh(oe,se.mode,ae),oe.return=se,oe;case F:var Ne=oe._init;return we(se,Ne(oe._payload),ae)}if(kt(oe)||W(oe))return oe=Oi(oe,se.mode,ae,null),oe.return=se,oe;du(se,oe)}return null}function xe(se,oe,ae,Ne){var Ue=oe!==null?oe.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Ue!==null?null:ee(se,oe,""+ae,Ne);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case I:return ae.key===Ue?ne(se,oe,ae,Ne):null;case P:return ae.key===Ue?ce(se,oe,ae,Ne):null;case F:return Ue=ae._init,xe(se,oe,Ue(ae._payload),Ne)}if(kt(ae)||W(ae))return Ue!==null?null:ve(se,oe,ae,Ne,null);du(se,ae)}return null}function _e(se,oe,ae,Ne,Ue){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return se=se.get(ae)||null,ee(oe,se,""+Ne,Ue);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case I:return se=se.get(Ne.key===null?ae:Ne.key)||null,ne(oe,se,Ne,Ue);case P:return se=se.get(Ne.key===null?ae:Ne.key)||null,ce(oe,se,Ne,Ue);case F:var Ge=Ne._init;return _e(se,oe,ae,Ge(Ne._payload),Ue)}if(kt(Ne)||W(Ne))return se=se.get(ae)||null,ve(oe,se,Ne,Ue,null);du(oe,Ne)}return null}function Le(se,oe,ae,Ne){for(var Ue=null,Ge=null,Ke=oe,ot=oe=0,xn=null;Ke!==null&&ot<ae.length;ot++){Ke.index>ot?(xn=Ke,Ke=null):xn=Ke.sibling;var Pt=xe(se,Ke,ae[ot],Ne);if(Pt===null){Ke===null&&(Ke=xn);break}s&&Ke&&Pt.alternate===null&&a(se,Ke),oe=j(Pt,oe,ot),Ge===null?Ue=Pt:Ge.sibling=Pt,Ge=Pt,Ke=xn}if(ot===ae.length)return m(se,Ke),Vt&&_i(se,ot),Ue;if(Ke===null){for(;ot<ae.length;ot++)Ke=we(se,ae[ot],Ne),Ke!==null&&(oe=j(Ke,oe,ot),Ge===null?Ue=Ke:Ge.sibling=Ke,Ge=Ke);return Vt&&_i(se,ot),Ue}for(Ke=y(se,Ke);ot<ae.length;ot++)xn=_e(Ke,se,ot,ae[ot],Ne),xn!==null&&(s&&xn.alternate!==null&&Ke.delete(xn.key===null?ot:xn.key),oe=j(xn,oe,ot),Ge===null?Ue=xn:Ge.sibling=xn,Ge=xn);return s&&Ke.forEach(function(Qo){return a(se,Qo)}),Vt&&_i(se,ot),Ue}function Be(se,oe,ae,Ne){var Ue=W(ae);if(typeof Ue!="function")throw Error(n(150));if(ae=Ue.call(ae),ae==null)throw Error(n(151));for(var Ge=Ue=null,Ke=oe,ot=oe=0,xn=null,Pt=ae.next();Ke!==null&&!Pt.done;ot++,Pt=ae.next()){Ke.index>ot?(xn=Ke,Ke=null):xn=Ke.sibling;var Qo=xe(se,Ke,Pt.value,Ne);if(Qo===null){Ke===null&&(Ke=xn);break}s&&Ke&&Qo.alternate===null&&a(se,Ke),oe=j(Qo,oe,ot),Ge===null?Ue=Qo:Ge.sibling=Qo,Ge=Qo,Ke=xn}if(Pt.done)return m(se,Ke),Vt&&_i(se,ot),Ue;if(Ke===null){for(;!Pt.done;ot++,Pt=ae.next())Pt=we(se,Pt.value,Ne),Pt!==null&&(oe=j(Pt,oe,ot),Ge===null?Ue=Pt:Ge.sibling=Pt,Ge=Pt);return Vt&&_i(se,ot),Ue}for(Ke=y(se,Ke);!Pt.done;ot++,Pt=ae.next())Pt=_e(Ke,se,ot,Pt.value,Ne),Pt!==null&&(s&&Pt.alternate!==null&&Ke.delete(Pt.key===null?ot:Pt.key),oe=j(Pt,oe,ot),Ge===null?Ue=Pt:Ge.sibling=Pt,Ge=Pt);return s&&Ke.forEach(function(UA){return a(se,UA)}),Vt&&_i(se,ot),Ue}function Kt(se,oe,ae,Ne){if(typeof ae=="object"&&ae!==null&&ae.type===T&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case I:e:{for(var Ue=ae.key,Ge=oe;Ge!==null;){if(Ge.key===Ue){if(Ue=ae.type,Ue===T){if(Ge.tag===7){m(se,Ge.sibling),oe=C(Ge,ae.props.children),oe.return=se,se=oe;break e}}else if(Ge.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===F&&Iv(Ue)===Ge.type){m(se,Ge.sibling),oe=C(Ge,ae.props),oe.ref=Ql(se,Ge,ae),oe.return=se,se=oe;break e}m(se,Ge);break}else a(se,Ge);Ge=Ge.sibling}ae.type===T?(oe=Oi(ae.props.children,se.mode,Ne,ae.key),oe.return=se,se=oe):(Ne=Du(ae.type,ae.key,ae.props,null,se.mode,Ne),Ne.ref=Ql(se,oe,ae),Ne.return=se,se=Ne)}return z(se);case P:e:{for(Ge=ae.key;oe!==null;){if(oe.key===Ge)if(oe.tag===4&&oe.stateNode.containerInfo===ae.containerInfo&&oe.stateNode.implementation===ae.implementation){m(se,oe.sibling),oe=C(oe,ae.children||[]),oe.return=se,se=oe;break e}else{m(se,oe);break}else a(se,oe);oe=oe.sibling}oe=Vh(ae,se.mode,Ne),oe.return=se,se=oe}return z(se);case F:return Ge=ae._init,Kt(se,oe,Ge(ae._payload),Ne)}if(kt(ae))return Le(se,oe,ae,Ne);if(W(ae))return Be(se,oe,ae,Ne);du(se,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,oe!==null&&oe.tag===6?(m(se,oe.sibling),oe=C(oe,ae),oe.return=se,se=oe):(m(se,oe),oe=Bh(ae,se.mode,Ne),oe.return=se,se=oe),z(se)):m(se,oe)}return Kt}var Es=Tv(!0),Rv=Tv(!1),fu=Fo(null),pu=null,js=null,Qp=null;function Jp(){Qp=js=pu=null}function Zp(s){var a=fu.current;Ft(fu),s._currentValue=a}function eh(s,a,m){for(;s!==null;){var y=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,y!==null&&(y.childLanes|=a)):y!==null&&(y.childLanes&a)!==a&&(y.childLanes|=a),s===m)break;s=s.return}}function _s(s,a){pu=s,Qp=js=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Un=!0),s.firstContext=null)}function mr(s){var a=s._currentValue;if(Qp!==s)if(s={context:s,memoizedValue:a,next:null},js===null){if(pu===null)throw Error(n(308));js=s,pu.dependencies={lanes:0,firstContext:s}}else js=js.next=s;return a}var Pi=null;function th(s){Pi===null?Pi=[s]:Pi.push(s)}function Mv(s,a,m,y){var C=a.interleaved;return C===null?(m.next=m,th(a)):(m.next=C.next,C.next=m),a.interleaved=m,go(s,y)}function go(s,a){s.lanes|=a;var m=s.alternate;for(m!==null&&(m.lanes|=a),m=s,s=s.return;s!==null;)s.childLanes|=a,m=s.alternate,m!==null&&(m.childLanes|=a),m=s,s=s.return;return m.tag===3?m.stateNode:null}var Ho=!1;function nh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function xo(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Uo(s,a,m){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(Ct&2)!==0){var C=y.pending;return C===null?a.next=a:(a.next=C.next,C.next=a),y.pending=a,go(s,m)}return C=y.interleaved,C===null?(a.next=a,th(y)):(a.next=C.next,C.next=a),y.interleaved=a,go(s,m)}function hu(s,a,m){if(a=a.updateQueue,a!==null&&(a=a.shared,(m&4194240)!==0)){var y=a.lanes;y&=s.pendingLanes,m|=y,a.lanes=m,gp(s,m)}}function Ov(s,a){var m=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var C=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var z={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};j===null?C=j=z:j=j.next=z,m=m.next}while(m!==null);j===null?C=j=a:j=j.next=a}else C=j=a;m={baseState:y.baseState,firstBaseUpdate:C,lastBaseUpdate:j,shared:y.shared,effects:y.effects},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=a:s.next=a,m.lastBaseUpdate=a}function mu(s,a,m,y){var C=s.updateQueue;Ho=!1;var j=C.firstBaseUpdate,z=C.lastBaseUpdate,ee=C.shared.pending;if(ee!==null){C.shared.pending=null;var ne=ee,ce=ne.next;ne.next=null,z===null?j=ce:z.next=ce,z=ne;var ve=s.alternate;ve!==null&&(ve=ve.updateQueue,ee=ve.lastBaseUpdate,ee!==z&&(ee===null?ve.firstBaseUpdate=ce:ee.next=ce,ve.lastBaseUpdate=ne))}if(j!==null){var we=C.baseState;z=0,ve=ce=ne=null,ee=j;do{var xe=ee.lane,_e=ee.eventTime;if((y&xe)===xe){ve!==null&&(ve=ve.next={eventTime:_e,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var Le=s,Be=ee;switch(xe=a,_e=m,Be.tag){case 1:if(Le=Be.payload,typeof Le=="function"){we=Le.call(_e,we,xe);break e}we=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Be.payload,xe=typeof Le=="function"?Le.call(_e,we,xe):Le,xe==null)break e;we=M({},we,xe);break e;case 2:Ho=!0}}ee.callback!==null&&ee.lane!==0&&(s.flags|=64,xe=C.effects,xe===null?C.effects=[ee]:xe.push(ee))}else _e={eventTime:_e,lane:xe,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},ve===null?(ce=ve=_e,ne=we):ve=ve.next=_e,z|=xe;if(ee=ee.next,ee===null){if(ee=C.shared.pending,ee===null)break;xe=ee,ee=xe.next,xe.next=null,C.lastBaseUpdate=xe,C.shared.pending=null}}while(!0);if(ve===null&&(ne=we),C.baseState=ne,C.firstBaseUpdate=ce,C.lastBaseUpdate=ve,a=C.shared.interleaved,a!==null){C=a;do z|=C.lane,C=C.next;while(C!==a)}else j===null&&(C.shared.lanes=0);Ti|=z,s.lanes=z,s.memoizedState=we}}function Lv(s,a,m){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var y=s[a],C=y.callback;if(C!==null){if(y.callback=null,y=m,typeof C!="function")throw Error(n(191,C));C.call(y)}}}var Jl={},qr=Fo(Jl),Zl=Fo(Jl),ea=Fo(Jl);function Ai(s){if(s===Jl)throw Error(n(174));return s}function rh(s,a){switch(Lt(ea,a),Lt(Zl,s),Lt(qr,Jl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:me(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=me(a,s)}Ft(qr),Lt(qr,a)}function Ps(){Ft(qr),Ft(Zl),Ft(ea)}function zv(s){Ai(ea.current);var a=Ai(qr.current),m=me(a,s.type);a!==m&&(Lt(Zl,s),Lt(qr,m))}function oh(s){Zl.current===s&&(Ft(qr),Ft(Zl))}var Wt=Fo(0);function gu(s){for(var a=s;a!==null;){if(a.tag===13){var m=a.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ih=[];function sh(){for(var s=0;s<ih.length;s++)ih[s]._workInProgressVersionPrimary=null;ih.length=0}var xu=_.ReactCurrentDispatcher,lh=_.ReactCurrentBatchConfig,Ii=0,qt=null,rn=null,mn=null,yu=!1,ta=!1,na=0,fA=0;function jn(){throw Error(n(321))}function ah(s,a){if(a===null)return!1;for(var m=0;m<a.length&&m<s.length;m++)if(!Cr(s[m],a[m]))return!1;return!0}function ch(s,a,m,y,C,j){if(Ii=j,qt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,xu.current=s===null||s.memoizedState===null?gA:xA,s=m(y,C),ta){j=0;do{if(ta=!1,na=0,25<=j)throw Error(n(301));j+=1,mn=rn=null,a.updateQueue=null,xu.current=yA,s=m(y,C)}while(ta)}if(xu.current=bu,a=rn!==null&&rn.next!==null,Ii=0,mn=rn=qt=null,yu=!1,a)throw Error(n(300));return s}function uh(){var s=na!==0;return na=0,s}function Yr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?qt.memoizedState=mn=s:mn=mn.next=s,mn}function gr(){if(rn===null){var s=qt.alternate;s=s!==null?s.memoizedState:null}else s=rn.next;var a=mn===null?qt.memoizedState:mn.next;if(a!==null)mn=a,rn=s;else{if(s===null)throw Error(n(310));rn=s,s={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},mn===null?qt.memoizedState=mn=s:mn=mn.next=s}return mn}function ra(s,a){return typeof a=="function"?a(s):a}function dh(s){var a=gr(),m=a.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=s;var y=rn,C=y.baseQueue,j=m.pending;if(j!==null){if(C!==null){var z=C.next;C.next=j.next,j.next=z}y.baseQueue=C=j,m.pending=null}if(C!==null){j=C.next,y=y.baseState;var ee=z=null,ne=null,ce=j;do{var ve=ce.lane;if((Ii&ve)===ve)ne!==null&&(ne=ne.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),y=ce.hasEagerState?ce.eagerState:s(y,ce.action);else{var we={lane:ve,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};ne===null?(ee=ne=we,z=y):ne=ne.next=we,qt.lanes|=ve,Ti|=ve}ce=ce.next}while(ce!==null&&ce!==j);ne===null?z=y:ne.next=ee,Cr(y,a.memoizedState)||(Un=!0),a.memoizedState=y,a.baseState=z,a.baseQueue=ne,m.lastRenderedState=y}if(s=m.interleaved,s!==null){C=s;do j=C.lane,qt.lanes|=j,Ti|=j,C=C.next;while(C!==s)}else C===null&&(m.lanes=0);return[a.memoizedState,m.dispatch]}function fh(s){var a=gr(),m=a.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=s;var y=m.dispatch,C=m.pending,j=a.memoizedState;if(C!==null){m.pending=null;var z=C=C.next;do j=s(j,z.action),z=z.next;while(z!==C);Cr(j,a.memoizedState)||(Un=!0),a.memoizedState=j,a.baseQueue===null&&(a.baseState=j),m.lastRenderedState=j}return[j,y]}function $v(){}function Fv(s,a){var m=qt,y=gr(),C=a(),j=!Cr(y.memoizedState,C);if(j&&(y.memoizedState=C,Un=!0),y=y.queue,ph(Hv.bind(null,m,y,s),[s]),y.getSnapshot!==a||j||mn!==null&&mn.memoizedState.tag&1){if(m.flags|=2048,oa(9,Vv.bind(null,m,y,C,a),void 0,null),gn===null)throw Error(n(349));(Ii&30)!==0||Bv(m,a,C)}return C}function Bv(s,a,m){s.flags|=16384,s={getSnapshot:a,value:m},a=qt.updateQueue,a===null?(a={lastEffect:null,stores:null},qt.updateQueue=a,a.stores=[s]):(m=a.stores,m===null?a.stores=[s]:m.push(s))}function Vv(s,a,m,y){a.value=m,a.getSnapshot=y,Uv(a)&&Wv(s)}function Hv(s,a,m){return m(function(){Uv(a)&&Wv(s)})}function Uv(s){var a=s.getSnapshot;s=s.value;try{var m=a();return!Cr(s,m)}catch{return!0}}function Wv(s){var a=go(s,1);a!==null&&Pr(a,s,1,-1)}function qv(s){var a=Yr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:s},a.queue=s,s=s.dispatch=mA.bind(null,qt,s),[a.memoizedState,s]}function oa(s,a,m,y){return s={tag:s,create:a,destroy:m,deps:y,next:null},a=qt.updateQueue,a===null?(a={lastEffect:null,stores:null},qt.updateQueue=a,a.lastEffect=s.next=s):(m=a.lastEffect,m===null?a.lastEffect=s.next=s:(y=m.next,m.next=s,s.next=y,a.lastEffect=s)),s}function Yv(){return gr().memoizedState}function vu(s,a,m,y){var C=Yr();qt.flags|=s,C.memoizedState=oa(1|a,m,void 0,y===void 0?null:y)}function wu(s,a,m,y){var C=gr();y=y===void 0?null:y;var j=void 0;if(rn!==null){var z=rn.memoizedState;if(j=z.destroy,y!==null&&ah(y,z.deps)){C.memoizedState=oa(a,m,j,y);return}}qt.flags|=s,C.memoizedState=oa(1|a,m,j,y)}function Xv(s,a){return vu(8390656,8,s,a)}function ph(s,a){return wu(2048,8,s,a)}function Gv(s,a){return wu(4,2,s,a)}function Kv(s,a){return wu(4,4,s,a)}function Qv(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Jv(s,a,m){return m=m!=null?m.concat([s]):null,wu(4,4,Qv.bind(null,a,s),m)}function hh(){}function Zv(s,a){var m=gr();a=a===void 0?null:a;var y=m.memoizedState;return y!==null&&a!==null&&ah(a,y[1])?y[0]:(m.memoizedState=[s,a],s)}function e0(s,a){var m=gr();a=a===void 0?null:a;var y=m.memoizedState;return y!==null&&a!==null&&ah(a,y[1])?y[0]:(s=s(),m.memoizedState=[s,a],s)}function t0(s,a,m){return(Ii&21)===0?(s.baseState&&(s.baseState=!1,Un=!0),s.memoizedState=m):(Cr(m,a)||(m=fs(),qt.lanes|=m,Ti|=m,s.baseState=!0),a)}function pA(s,a){var m=Rt;Rt=m!==0&&4>m?m:4,s(!0);var y=lh.transition;lh.transition={};try{s(!1),a()}finally{Rt=m,lh.transition=y}}function n0(){return gr().memoizedState}function hA(s,a,m){var y=Xo(s);if(m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},r0(s))o0(a,m);else if(m=Mv(s,a,m,y),m!==null){var C=Ln();Pr(m,s,y,C),i0(m,a,y)}}function mA(s,a,m){var y=Xo(s),C={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(r0(s))o0(a,C);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=a.lastRenderedReducer,j!==null))try{var z=a.lastRenderedState,ee=j(z,m);if(C.hasEagerState=!0,C.eagerState=ee,Cr(ee,z)){var ne=a.interleaved;ne===null?(C.next=C,th(a)):(C.next=ne.next,ne.next=C),a.interleaved=C;return}}catch{}finally{}m=Mv(s,a,C,y),m!==null&&(C=Ln(),Pr(m,s,y,C),i0(m,a,y))}}function r0(s){var a=s.alternate;return s===qt||a!==null&&a===qt}function o0(s,a){ta=yu=!0;var m=s.pending;m===null?a.next=a:(a.next=m.next,m.next=a),s.pending=a}function i0(s,a,m){if((m&4194240)!==0){var y=a.lanes;y&=s.pendingLanes,m|=y,a.lanes=m,gp(s,m)}}var bu={readContext:mr,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},gA={readContext:mr,useCallback:function(s,a){return Yr().memoizedState=[s,a===void 0?null:a],s},useContext:mr,useEffect:Xv,useImperativeHandle:function(s,a,m){return m=m!=null?m.concat([s]):null,vu(4194308,4,Qv.bind(null,a,s),m)},useLayoutEffect:function(s,a){return vu(4194308,4,s,a)},useInsertionEffect:function(s,a){return vu(4,2,s,a)},useMemo:function(s,a){var m=Yr();return a=a===void 0?null:a,s=s(),m.memoizedState=[s,a],s},useReducer:function(s,a,m){var y=Yr();return a=m!==void 0?m(a):a,y.memoizedState=y.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},y.queue=s,s=s.dispatch=hA.bind(null,qt,s),[y.memoizedState,s]},useRef:function(s){var a=Yr();return s={current:s},a.memoizedState=s},useState:qv,useDebugValue:hh,useDeferredValue:function(s){return Yr().memoizedState=s},useTransition:function(){var s=qv(!1),a=s[0];return s=pA.bind(null,s[1]),Yr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,m){var y=qt,C=Yr();if(Vt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=a(),gn===null)throw Error(n(349));(Ii&30)!==0||Bv(y,a,m)}C.memoizedState=m;var j={value:m,getSnapshot:a};return C.queue=j,Xv(Hv.bind(null,y,j,s),[s]),y.flags|=2048,oa(9,Vv.bind(null,y,j,m,a),void 0,null),m},useId:function(){var s=Yr(),a=gn.identifierPrefix;if(Vt){var m=mo,y=ho;m=(y&~(1<<32-Jn(y)-1)).toString(32)+m,a=":"+a+"R"+m,m=na++,0<m&&(a+="H"+m.toString(32)),a+=":"}else m=fA++,a=":"+a+"r"+m.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},xA={readContext:mr,useCallback:Zv,useContext:mr,useEffect:ph,useImperativeHandle:Jv,useInsertionEffect:Gv,useLayoutEffect:Kv,useMemo:e0,useReducer:dh,useRef:Yv,useState:function(){return dh(ra)},useDebugValue:hh,useDeferredValue:function(s){var a=gr();return t0(a,rn.memoizedState,s)},useTransition:function(){var s=dh(ra)[0],a=gr().memoizedState;return[s,a]},useMutableSource:$v,useSyncExternalStore:Fv,useId:n0,unstable_isNewReconciler:!1},yA={readContext:mr,useCallback:Zv,useContext:mr,useEffect:ph,useImperativeHandle:Jv,useInsertionEffect:Gv,useLayoutEffect:Kv,useMemo:e0,useReducer:fh,useRef:Yv,useState:function(){return fh(ra)},useDebugValue:hh,useDeferredValue:function(s){var a=gr();return rn===null?a.memoizedState=s:t0(a,rn.memoizedState,s)},useTransition:function(){var s=fh(ra)[0],a=gr().memoizedState;return[s,a]},useMutableSource:$v,useSyncExternalStore:Fv,useId:n0,unstable_isNewReconciler:!1};function Er(s,a){if(s&&s.defaultProps){a=M({},a),s=s.defaultProps;for(var m in s)a[m]===void 0&&(a[m]=s[m]);return a}return a}function mh(s,a,m,y){a=s.memoizedState,m=m(y,a),m=m==null?a:M({},a,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var Su={isMounted:function(s){return(s=s._reactInternals)?Hr(s)===s:!1},enqueueSetState:function(s,a,m){s=s._reactInternals;var y=Ln(),C=Xo(s),j=xo(y,C);j.payload=a,m!=null&&(j.callback=m),a=Uo(s,j,C),a!==null&&(Pr(a,s,C,y),hu(a,s,C))},enqueueReplaceState:function(s,a,m){s=s._reactInternals;var y=Ln(),C=Xo(s),j=xo(y,C);j.tag=1,j.payload=a,m!=null&&(j.callback=m),a=Uo(s,j,C),a!==null&&(Pr(a,s,C,y),hu(a,s,C))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var m=Ln(),y=Xo(s),C=xo(m,y);C.tag=2,a!=null&&(C.callback=a),a=Uo(s,C,y),a!==null&&(Pr(a,s,y,m),hu(a,s,y))}};function s0(s,a,m,y,C,j,z){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,j,z):a.prototype&&a.prototype.isPureReactComponent?!Ul(m,y)||!Ul(C,j):!0}function l0(s,a,m){var y=!1,C=Bo,j=a.contextType;return typeof j=="object"&&j!==null?j=mr(j):(C=Hn(a)?Ei:En.current,y=a.contextTypes,j=(y=y!=null)?Ss(s,C):Bo),a=new a(m,j),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Su,s.stateNode=a,a._reactInternals=s,y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=C,s.__reactInternalMemoizedMaskedChildContext=j),a}function a0(s,a,m,y){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(m,y),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(m,y),a.state!==s&&Su.enqueueReplaceState(a,a.state,null)}function gh(s,a,m,y){var C=s.stateNode;C.props=m,C.state=s.memoizedState,C.refs={},nh(s);var j=a.contextType;typeof j=="object"&&j!==null?C.context=mr(j):(j=Hn(a)?Ei:En.current,C.context=Ss(s,j)),C.state=s.memoizedState,j=a.getDerivedStateFromProps,typeof j=="function"&&(mh(s,a,j,m),C.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(a=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),a!==C.state&&Su.enqueueReplaceState(C,C.state,null),mu(s,m,C,y),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308)}function As(s,a){try{var m="",y=a;do m+=Z(y),y=y.return;while(y);var C=m}catch(j){C=`
Error generating stack: `+j.message+`
`+j.stack}return{value:s,source:a,stack:C,digest:null}}function xh(s,a,m){return{value:s,source:null,stack:m??null,digest:a??null}}function yh(s,a){try{console.error(a.value)}catch(m){setTimeout(function(){throw m})}}var vA=typeof WeakMap=="function"?WeakMap:Map;function c0(s,a,m){m=xo(-1,m),m.tag=3,m.payload={element:null};var y=a.value;return m.callback=function(){Pu||(Pu=!0,Rh=y),yh(s,a)},m}function u0(s,a,m){m=xo(-1,m),m.tag=3;var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var C=a.value;m.payload=function(){return y(C)},m.callback=function(){yh(s,a)}}var j=s.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(m.callback=function(){yh(s,a),typeof y!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var z=a.stack;this.componentDidCatch(a.value,{componentStack:z!==null?z:""})}),m}function d0(s,a,m){var y=s.pingCache;if(y===null){y=s.pingCache=new vA;var C=new Set;y.set(a,C)}else C=y.get(a),C===void 0&&(C=new Set,y.set(a,C));C.has(m)||(C.add(m),s=RA.bind(null,s,a,m),a.then(s,s))}function f0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function p0(s,a,m,y,C){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(a=xo(-1,1),a.tag=2,Uo(m,a,1))),m.lanes|=1),s):(s.flags|=65536,s.lanes=C,s)}var wA=_.ReactCurrentOwner,Un=!1;function On(s,a,m,y){a.child=s===null?Rv(a,null,m,y):Es(a,s.child,m,y)}function h0(s,a,m,y,C){m=m.render;var j=a.ref;return _s(a,C),y=ch(s,a,m,y,j,C),m=uh(),s!==null&&!Un?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~C,yo(s,a,C)):(Vt&&m&&qp(a),a.flags|=1,On(s,a,y,C),a.child)}function m0(s,a,m,y,C){if(s===null){var j=m.type;return typeof j=="function"&&!Fh(j)&&j.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(a.tag=15,a.type=j,g0(s,a,j,y,C)):(s=Du(m.type,null,y,a,a.mode,C),s.ref=a.ref,s.return=a,a.child=s)}if(j=s.child,(s.lanes&C)===0){var z=j.memoizedProps;if(m=m.compare,m=m!==null?m:Ul,m(z,y)&&s.ref===a.ref)return yo(s,a,C)}return a.flags|=1,s=Ko(j,y),s.ref=a.ref,s.return=a,a.child=s}function g0(s,a,m,y,C){if(s!==null){var j=s.memoizedProps;if(Ul(j,y)&&s.ref===a.ref)if(Un=!1,a.pendingProps=y=j,(s.lanes&C)!==0)(s.flags&131072)!==0&&(Un=!0);else return a.lanes=s.lanes,yo(s,a,C)}return vh(s,a,m,y,C)}function x0(s,a,m){var y=a.pendingProps,C=y.children,j=s!==null?s.memoizedState:null;if(y.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt(Ts,nr),nr|=m;else{if((m&1073741824)===0)return s=j!==null?j.baseLanes|m:m,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Lt(Ts,nr),nr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=j!==null?j.baseLanes:m,Lt(Ts,nr),nr|=y}else j!==null?(y=j.baseLanes|m,a.memoizedState=null):y=m,Lt(Ts,nr),nr|=y;return On(s,a,C,m),a.child}function y0(s,a){var m=a.ref;(s===null&&m!==null||s!==null&&s.ref!==m)&&(a.flags|=512,a.flags|=2097152)}function vh(s,a,m,y,C){var j=Hn(m)?Ei:En.current;return j=Ss(a,j),_s(a,C),m=ch(s,a,m,y,j,C),y=uh(),s!==null&&!Un?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~C,yo(s,a,C)):(Vt&&y&&qp(a),a.flags|=1,On(s,a,m,C),a.child)}function v0(s,a,m,y,C){if(Hn(m)){var j=!0;su(a)}else j=!1;if(_s(a,C),a.stateNode===null)Cu(s,a),l0(a,m,y),gh(a,m,y,C),y=!0;else if(s===null){var z=a.stateNode,ee=a.memoizedProps;z.props=ee;var ne=z.context,ce=m.contextType;typeof ce=="object"&&ce!==null?ce=mr(ce):(ce=Hn(m)?Ei:En.current,ce=Ss(a,ce));var ve=m.getDerivedStateFromProps,we=typeof ve=="function"||typeof z.getSnapshotBeforeUpdate=="function";we||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(ee!==y||ne!==ce)&&a0(a,z,y,ce),Ho=!1;var xe=a.memoizedState;z.state=xe,mu(a,y,z,C),ne=a.memoizedState,ee!==y||xe!==ne||Vn.current||Ho?(typeof ve=="function"&&(mh(a,m,ve,y),ne=a.memoizedState),(ee=Ho||s0(a,m,ee,y,xe,ne,ce))?(we||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(a.flags|=4194308)):(typeof z.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=y,a.memoizedState=ne),z.props=y,z.state=ne,z.context=ce,y=ee):(typeof z.componentDidMount=="function"&&(a.flags|=4194308),y=!1)}else{z=a.stateNode,Dv(s,a),ee=a.memoizedProps,ce=a.type===a.elementType?ee:Er(a.type,ee),z.props=ce,we=a.pendingProps,xe=z.context,ne=m.contextType,typeof ne=="object"&&ne!==null?ne=mr(ne):(ne=Hn(m)?Ei:En.current,ne=Ss(a,ne));var _e=m.getDerivedStateFromProps;(ve=typeof _e=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(ee!==we||xe!==ne)&&a0(a,z,y,ne),Ho=!1,xe=a.memoizedState,z.state=xe,mu(a,y,z,C);var Le=a.memoizedState;ee!==we||xe!==Le||Vn.current||Ho?(typeof _e=="function"&&(mh(a,m,_e,y),Le=a.memoizedState),(ce=Ho||s0(a,m,ce,y,xe,Le,ne)||!1)?(ve||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(y,Le,ne),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(y,Le,ne)),typeof z.componentDidUpdate=="function"&&(a.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof z.componentDidUpdate!="function"||ee===s.memoizedProps&&xe===s.memoizedState||(a.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ee===s.memoizedProps&&xe===s.memoizedState||(a.flags|=1024),a.memoizedProps=y,a.memoizedState=Le),z.props=y,z.state=Le,z.context=ne,y=ce):(typeof z.componentDidUpdate!="function"||ee===s.memoizedProps&&xe===s.memoizedState||(a.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ee===s.memoizedProps&&xe===s.memoizedState||(a.flags|=1024),y=!1)}return wh(s,a,m,y,j,C)}function wh(s,a,m,y,C,j){y0(s,a);var z=(a.flags&128)!==0;if(!y&&!z)return C&&Cv(a,m,!1),yo(s,a,j);y=a.stateNode,wA.current=a;var ee=z&&typeof m.getDerivedStateFromError!="function"?null:y.render();return a.flags|=1,s!==null&&z?(a.child=Es(a,s.child,null,j),a.child=Es(a,null,ee,j)):On(s,a,ee,j),a.memoizedState=y.state,C&&Cv(a,m,!0),a.child}function w0(s){var a=s.stateNode;a.pendingContext?Sv(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Sv(s,a.context,!1),rh(s,a.containerInfo)}function b0(s,a,m,y,C){return Ns(),Kp(C),a.flags|=256,On(s,a,m,y),a.child}var bh={dehydrated:null,treeContext:null,retryLane:0};function Sh(s){return{baseLanes:s,cachePool:null,transitions:null}}function S0(s,a,m){var y=a.pendingProps,C=Wt.current,j=!1,z=(a.flags&128)!==0,ee;if((ee=z)||(ee=s!==null&&s.memoizedState===null?!1:(C&2)!==0),ee?(j=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(C|=1),Lt(Wt,C&1),s===null)return Gp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(z=y.children,s=y.fallback,j?(y=a.mode,j=a.child,z={mode:"hidden",children:z},(y&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=z):j=Ou(z,y,0,null),s=Oi(s,y,m,null),j.return=a,s.return=a,j.sibling=s,a.child=j,a.child.memoizedState=Sh(m),a.memoizedState=bh,s):kh(a,z));if(C=s.memoizedState,C!==null&&(ee=C.dehydrated,ee!==null))return bA(s,a,z,y,ee,C,m);if(j){j=y.fallback,z=a.mode,C=s.child,ee=C.sibling;var ne={mode:"hidden",children:y.children};return(z&1)===0&&a.child!==C?(y=a.child,y.childLanes=0,y.pendingProps=ne,a.deletions=null):(y=Ko(C,ne),y.subtreeFlags=C.subtreeFlags&14680064),ee!==null?j=Ko(ee,j):(j=Oi(j,z,m,null),j.flags|=2),j.return=a,y.return=a,y.sibling=j,a.child=y,y=j,j=a.child,z=s.child.memoizedState,z=z===null?Sh(m):{baseLanes:z.baseLanes|m,cachePool:null,transitions:z.transitions},j.memoizedState=z,j.childLanes=s.childLanes&~m,a.memoizedState=bh,y}return j=s.child,s=j.sibling,y=Ko(j,{mode:"visible",children:y.children}),(a.mode&1)===0&&(y.lanes=m),y.return=a,y.sibling=null,s!==null&&(m=a.deletions,m===null?(a.deletions=[s],a.flags|=16):m.push(s)),a.child=y,a.memoizedState=null,y}function kh(s,a){return a=Ou({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function ku(s,a,m,y){return y!==null&&Kp(y),Es(a,s.child,null,m),s=kh(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function bA(s,a,m,y,C,j,z){if(m)return a.flags&256?(a.flags&=-257,y=xh(Error(n(422))),ku(s,a,z,y)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(j=y.fallback,C=a.mode,y=Ou({mode:"visible",children:y.children},C,0,null),j=Oi(j,C,z,null),j.flags|=2,y.return=a,j.return=a,y.sibling=j,a.child=y,(a.mode&1)!==0&&Es(a,s.child,null,z),a.child.memoizedState=Sh(z),a.memoizedState=bh,j);if((a.mode&1)===0)return ku(s,a,z,null);if(C.data==="$!"){if(y=C.nextSibling&&C.nextSibling.dataset,y)var ee=y.dgst;return y=ee,j=Error(n(419)),y=xh(j,y,void 0),ku(s,a,z,y)}if(ee=(z&s.childLanes)!==0,Un||ee){if(y=gn,y!==null){switch(z&-z){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(y.suspendedLanes|z))!==0?0:C,C!==0&&C!==j.retryLane&&(j.retryLane=C,go(s,C),Pr(y,s,C,-1))}return $h(),y=xh(Error(n(421))),ku(s,a,z,y)}return C.data==="$?"?(a.flags|=128,a.child=s.child,a=MA.bind(null,s),C._reactRetry=a,null):(s=j.treeContext,tr=$o(C.nextSibling),er=a,Vt=!0,Nr=null,s!==null&&(pr[hr++]=ho,pr[hr++]=mo,pr[hr++]=ji,ho=s.id,mo=s.overflow,ji=a),a=kh(a,y.children),a.flags|=4096,a)}function k0(s,a,m){s.lanes|=a;var y=s.alternate;y!==null&&(y.lanes|=a),eh(s.return,a,m)}function Ch(s,a,m,y,C){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:C}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=y,j.tail=m,j.tailMode=C)}function C0(s,a,m){var y=a.pendingProps,C=y.revealOrder,j=y.tail;if(On(s,a,y.children,m),y=Wt.current,(y&2)!==0)y=y&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&k0(s,m,a);else if(s.tag===19)k0(s,m,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}y&=1}if(Lt(Wt,y),(a.mode&1)===0)a.memoizedState=null;else switch(C){case"forwards":for(m=a.child,C=null;m!==null;)s=m.alternate,s!==null&&gu(s)===null&&(C=m),m=m.sibling;m=C,m===null?(C=a.child,a.child=null):(C=m.sibling,m.sibling=null),Ch(a,!1,C,m,j);break;case"backwards":for(m=null,C=a.child,a.child=null;C!==null;){if(s=C.alternate,s!==null&&gu(s)===null){a.child=C;break}s=C.sibling,C.sibling=m,m=C,C=s}Ch(a,!0,m,null,j);break;case"together":Ch(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Cu(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function yo(s,a,m){if(s!==null&&(a.dependencies=s.dependencies),Ti|=a.lanes,(m&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,m=Ko(s,s.pendingProps),a.child=m,m.return=a;s.sibling!==null;)s=s.sibling,m=m.sibling=Ko(s,s.pendingProps),m.return=a;m.sibling=null}return a.child}function SA(s,a,m){switch(a.tag){case 3:w0(a),Ns();break;case 5:zv(a);break;case 1:Hn(a.type)&&su(a);break;case 4:rh(a,a.stateNode.containerInfo);break;case 10:var y=a.type._context,C=a.memoizedProps.value;Lt(fu,y._currentValue),y._currentValue=C;break;case 13:if(y=a.memoizedState,y!==null)return y.dehydrated!==null?(Lt(Wt,Wt.current&1),a.flags|=128,null):(m&a.child.childLanes)!==0?S0(s,a,m):(Lt(Wt,Wt.current&1),s=yo(s,a,m),s!==null?s.sibling:null);Lt(Wt,Wt.current&1);break;case 19:if(y=(m&a.childLanes)!==0,(s.flags&128)!==0){if(y)return C0(s,a,m);a.flags|=128}if(C=a.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Lt(Wt,Wt.current),y)break;return null;case 22:case 23:return a.lanes=0,x0(s,a,m)}return yo(s,a,m)}var N0,Nh,E0,j0;N0=function(s,a){for(var m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break;for(;m.sibling===null;){if(m.return===null||m.return===a)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Nh=function(){},E0=function(s,a,m,y){var C=s.memoizedProps;if(C!==y){s=a.stateNode,Ai(qr.current);var j=null;switch(m){case"input":C=ye(s,C),y=ye(s,y),j=[];break;case"select":C=M({},C,{value:void 0}),y=M({},y,{value:void 0}),j=[];break;case"textarea":C=tt(s,C),y=tt(s,y),j=[];break;default:typeof C.onClick!="function"&&typeof y.onClick=="function"&&(s.onclick=ru)}ft(m,y);var z;m=null;for(ce in C)if(!y.hasOwnProperty(ce)&&C.hasOwnProperty(ce)&&C[ce]!=null)if(ce==="style"){var ee=C[ce];for(z in ee)ee.hasOwnProperty(z)&&(m||(m={}),m[z]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?j||(j=[]):(j=j||[]).push(ce,null));for(ce in y){var ne=y[ce];if(ee=C!=null?C[ce]:void 0,y.hasOwnProperty(ce)&&ne!==ee&&(ne!=null||ee!=null))if(ce==="style")if(ee){for(z in ee)!ee.hasOwnProperty(z)||ne&&ne.hasOwnProperty(z)||(m||(m={}),m[z]="");for(z in ne)ne.hasOwnProperty(z)&&ee[z]!==ne[z]&&(m||(m={}),m[z]=ne[z])}else m||(j||(j=[]),j.push(ce,m)),m=ne;else ce==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ee=ee?ee.__html:void 0,ne!=null&&ee!==ne&&(j=j||[]).push(ce,ne)):ce==="children"?typeof ne!="string"&&typeof ne!="number"||(j=j||[]).push(ce,""+ne):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(ne!=null&&ce==="onScroll"&&$t("scroll",s),j||ee===ne||(j=[])):(j=j||[]).push(ce,ne))}m&&(j=j||[]).push("style",m);var ce=j;(a.updateQueue=ce)&&(a.flags|=4)}},j0=function(s,a,m,y){m!==y&&(a.flags|=4)};function ia(s,a){if(!Vt)switch(s.tailMode){case"hidden":a=s.tail;for(var m=null;a!==null;)a.alternate!==null&&(m=a),a=a.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function _n(s){var a=s.alternate!==null&&s.alternate.child===s.child,m=0,y=0;if(a)for(var C=s.child;C!==null;)m|=C.lanes|C.childLanes,y|=C.subtreeFlags&14680064,y|=C.flags&14680064,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)m|=C.lanes|C.childLanes,y|=C.subtreeFlags,y|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=y,s.childLanes=m,a}function kA(s,a,m){var y=a.pendingProps;switch(Yp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(a),null;case 1:return Hn(a.type)&&iu(),_n(a),null;case 3:return y=a.stateNode,Ps(),Ft(Vn),Ft(En),sh(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(s===null||s.child===null)&&(uu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Nr!==null&&(Oh(Nr),Nr=null))),Nh(s,a),_n(a),null;case 5:oh(a);var C=Ai(ea.current);if(m=a.type,s!==null&&a.stateNode!=null)E0(s,a,m,y,C),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!y){if(a.stateNode===null)throw Error(n(166));return _n(a),null}if(s=Ai(qr.current),uu(a)){y=a.stateNode,m=a.type;var j=a.memoizedProps;switch(y[Wr]=a,y[Gl]=j,s=(a.mode&1)!==0,m){case"dialog":$t("cancel",y),$t("close",y);break;case"iframe":case"object":case"embed":$t("load",y);break;case"video":case"audio":for(C=0;C<ql.length;C++)$t(ql[C],y);break;case"source":$t("error",y);break;case"img":case"image":case"link":$t("error",y),$t("load",y);break;case"details":$t("toggle",y);break;case"input":Ae(y,j),$t("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!j.multiple},$t("invalid",y);break;case"textarea":ht(y,j),$t("invalid",y)}ft(m,j),C=null;for(var z in j)if(j.hasOwnProperty(z)){var ee=j[z];z==="children"?typeof ee=="string"?y.textContent!==ee&&(j.suppressHydrationWarning!==!0&&nu(y.textContent,ee,s),C=["children",ee]):typeof ee=="number"&&y.textContent!==""+ee&&(j.suppressHydrationWarning!==!0&&nu(y.textContent,ee,s),C=["children",""+ee]):o.hasOwnProperty(z)&&ee!=null&&z==="onScroll"&&$t("scroll",y)}switch(m){case"input":le(y),rt(y,j,!0);break;case"textarea":le(y),Et(y);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(y.onclick=ru)}y=C,a.updateQueue=y,y!==null&&(a.flags|=4)}else{z=C.nodeType===9?C:C.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ue(m)),s==="http://www.w3.org/1999/xhtml"?m==="script"?(s=z.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof y.is=="string"?s=z.createElement(m,{is:y.is}):(s=z.createElement(m),m==="select"&&(z=s,y.multiple?z.multiple=!0:y.size&&(z.size=y.size))):s=z.createElementNS(s,m),s[Wr]=a,s[Gl]=y,N0(s,a,!1,!1),a.stateNode=s;e:{switch(z=_t(m,y),m){case"dialog":$t("cancel",s),$t("close",s),C=y;break;case"iframe":case"object":case"embed":$t("load",s),C=y;break;case"video":case"audio":for(C=0;C<ql.length;C++)$t(ql[C],s);C=y;break;case"source":$t("error",s),C=y;break;case"img":case"image":case"link":$t("error",s),$t("load",s),C=y;break;case"details":$t("toggle",s),C=y;break;case"input":Ae(s,y),C=ye(s,y),$t("invalid",s);break;case"option":C=y;break;case"select":s._wrapperState={wasMultiple:!!y.multiple},C=M({},y,{value:void 0}),$t("invalid",s);break;case"textarea":ht(s,y),C=tt(s,y),$t("invalid",s);break;default:C=y}ft(m,C),ee=C;for(j in ee)if(ee.hasOwnProperty(j)){var ne=ee[j];j==="style"?It(s,ne):j==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&We(s,ne)):j==="children"?typeof ne=="string"?(m!=="textarea"||ne!=="")&&Ie(s,ne):typeof ne=="number"&&Ie(s,""+ne):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?ne!=null&&j==="onScroll"&&$t("scroll",s):ne!=null&&N(s,j,ne,z))}switch(m){case"input":le(s),rt(s,y,!1);break;case"textarea":le(s),Et(s);break;case"option":y.value!=null&&s.setAttribute("value",""+te(y.value));break;case"select":s.multiple=!!y.multiple,j=y.value,j!=null?Ce(s,!!y.multiple,j,!1):y.defaultValue!=null&&Ce(s,!!y.multiple,y.defaultValue,!0);break;default:typeof C.onClick=="function"&&(s.onclick=ru)}switch(m){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return _n(a),null;case 6:if(s&&a.stateNode!=null)j0(s,a,s.memoizedProps,y);else{if(typeof y!="string"&&a.stateNode===null)throw Error(n(166));if(m=Ai(ea.current),Ai(qr.current),uu(a)){if(y=a.stateNode,m=a.memoizedProps,y[Wr]=a,(j=y.nodeValue!==m)&&(s=er,s!==null))switch(s.tag){case 3:nu(y.nodeValue,m,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&nu(y.nodeValue,m,(s.mode&1)!==0)}j&&(a.flags|=4)}else y=(m.nodeType===9?m:m.ownerDocument).createTextNode(y),y[Wr]=a,a.stateNode=y}return _n(a),null;case 13:if(Ft(Wt),y=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Vt&&tr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Av(),Ns(),a.flags|=98560,j=!1;else if(j=uu(a),y!==null&&y.dehydrated!==null){if(s===null){if(!j)throw Error(n(318));if(j=a.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Wr]=a}else Ns(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;_n(a),j=!1}else Nr!==null&&(Oh(Nr),Nr=null),j=!0;if(!j)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=m,a):(y=y!==null,y!==(s!==null&&s.memoizedState!==null)&&y&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Wt.current&1)!==0?on===0&&(on=3):$h())),a.updateQueue!==null&&(a.flags|=4),_n(a),null);case 4:return Ps(),Nh(s,a),s===null&&Yl(a.stateNode.containerInfo),_n(a),null;case 10:return Zp(a.type._context),_n(a),null;case 17:return Hn(a.type)&&iu(),_n(a),null;case 19:if(Ft(Wt),j=a.memoizedState,j===null)return _n(a),null;if(y=(a.flags&128)!==0,z=j.rendering,z===null)if(y)ia(j,!1);else{if(on!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(z=gu(s),z!==null){for(a.flags|=128,ia(j,!1),y=z.updateQueue,y!==null&&(a.updateQueue=y,a.flags|=4),a.subtreeFlags=0,y=m,m=a.child;m!==null;)j=m,s=y,j.flags&=14680066,z=j.alternate,z===null?(j.childLanes=0,j.lanes=s,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=z.childLanes,j.lanes=z.lanes,j.child=z.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=z.memoizedProps,j.memoizedState=z.memoizedState,j.updateQueue=z.updateQueue,j.type=z.type,s=z.dependencies,j.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),m=m.sibling;return Lt(Wt,Wt.current&1|2),a.child}s=s.sibling}j.tail!==null&&Ut()>Rs&&(a.flags|=128,y=!0,ia(j,!1),a.lanes=4194304)}else{if(!y)if(s=gu(z),s!==null){if(a.flags|=128,y=!0,m=s.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),ia(j,!0),j.tail===null&&j.tailMode==="hidden"&&!z.alternate&&!Vt)return _n(a),null}else 2*Ut()-j.renderingStartTime>Rs&&m!==1073741824&&(a.flags|=128,y=!0,ia(j,!1),a.lanes=4194304);j.isBackwards?(z.sibling=a.child,a.child=z):(m=j.last,m!==null?m.sibling=z:a.child=z,j.last=z)}return j.tail!==null?(a=j.tail,j.rendering=a,j.tail=a.sibling,j.renderingStartTime=Ut(),a.sibling=null,m=Wt.current,Lt(Wt,y?m&1|2:m&1),a):(_n(a),null);case 22:case 23:return zh(),y=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==y&&(a.flags|=8192),y&&(a.mode&1)!==0?(nr&1073741824)!==0&&(_n(a),a.subtreeFlags&6&&(a.flags|=8192)):_n(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function CA(s,a){switch(Yp(a),a.tag){case 1:return Hn(a.type)&&iu(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ps(),Ft(Vn),Ft(En),sh(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return oh(a),null;case 13:if(Ft(Wt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ns()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Ft(Wt),null;case 4:return Ps(),null;case 10:return Zp(a.type._context),null;case 22:case 23:return zh(),null;case 24:return null;default:return null}}var Nu=!1,Pn=!1,NA=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Is(s,a){var m=s.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){Yt(s,a,y)}else m.current=null}function Eh(s,a,m){try{m()}catch(y){Yt(s,a,y)}}var _0=!1;function EA(s,a){if(zp=Wc,s=sv(),Ap(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var C=y.anchorOffset,j=y.focusNode;y=y.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var z=0,ee=-1,ne=-1,ce=0,ve=0,we=s,xe=null;t:for(;;){for(var _e;we!==m||C!==0&&we.nodeType!==3||(ee=z+C),we!==j||y!==0&&we.nodeType!==3||(ne=z+y),we.nodeType===3&&(z+=we.nodeValue.length),(_e=we.firstChild)!==null;)xe=we,we=_e;for(;;){if(we===s)break t;if(xe===m&&++ce===C&&(ee=z),xe===j&&++ve===y&&(ne=z),(_e=we.nextSibling)!==null)break;we=xe,xe=we.parentNode}we=_e}m=ee===-1||ne===-1?null:{start:ee,end:ne}}else m=null}m=m||{start:0,end:0}}else m=null;for($p={focusedElem:s,selectionRange:m},Wc=!1,Me=a;Me!==null;)if(a=Me,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Me=s;else for(;Me!==null;){a=Me;try{var Le=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Be=Le.memoizedProps,Kt=Le.memoizedState,se=a.stateNode,oe=se.getSnapshotBeforeUpdate(a.elementType===a.type?Be:Er(a.type,Be),Kt);se.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var ae=a.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ne){Yt(a,a.return,Ne)}if(s=a.sibling,s!==null){s.return=a.return,Me=s;break}Me=a.return}return Le=_0,_0=!1,Le}function sa(s,a,m){var y=a.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var C=y=y.next;do{if((C.tag&s)===s){var j=C.destroy;C.destroy=void 0,j!==void 0&&Eh(a,m,j)}C=C.next}while(C!==y)}}function Eu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var m=a=a.next;do{if((m.tag&s)===s){var y=m.create;m.destroy=y()}m=m.next}while(m!==a)}}function jh(s){var a=s.ref;if(a!==null){var m=s.stateNode;switch(s.tag){case 5:s=m;break;default:s=m}typeof a=="function"?a(s):a.current=s}}function P0(s){var a=s.alternate;a!==null&&(s.alternate=null,P0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Wr],delete a[Gl],delete a[Hp],delete a[aA],delete a[cA])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function A0(s){return s.tag===5||s.tag===3||s.tag===4}function I0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||A0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function _h(s,a,m){var y=s.tag;if(y===5||y===6)s=s.stateNode,a?m.nodeType===8?m.parentNode.insertBefore(s,a):m.insertBefore(s,a):(m.nodeType===8?(a=m.parentNode,a.insertBefore(s,m)):(a=m,a.appendChild(s)),m=m._reactRootContainer,m!=null||a.onclick!==null||(a.onclick=ru));else if(y!==4&&(s=s.child,s!==null))for(_h(s,a,m),s=s.sibling;s!==null;)_h(s,a,m),s=s.sibling}function Ph(s,a,m){var y=s.tag;if(y===5||y===6)s=s.stateNode,a?m.insertBefore(s,a):m.appendChild(s);else if(y!==4&&(s=s.child,s!==null))for(Ph(s,a,m),s=s.sibling;s!==null;)Ph(s,a,m),s=s.sibling}var Sn=null,jr=!1;function Wo(s,a,m){for(m=m.child;m!==null;)T0(s,a,m),m=m.sibling}function T0(s,a,m){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(ki,m)}catch{}switch(m.tag){case 5:Pn||Is(m,a);case 6:var y=Sn,C=jr;Sn=null,Wo(s,a,m),Sn=y,jr=C,Sn!==null&&(jr?(s=Sn,m=m.stateNode,s.nodeType===8?s.parentNode.removeChild(m):s.removeChild(m)):Sn.removeChild(m.stateNode));break;case 18:Sn!==null&&(jr?(s=Sn,m=m.stateNode,s.nodeType===8?Vp(s.parentNode,m):s.nodeType===1&&Vp(s,m),zl(s)):Vp(Sn,m.stateNode));break;case 4:y=Sn,C=jr,Sn=m.stateNode.containerInfo,jr=!0,Wo(s,a,m),Sn=y,jr=C;break;case 0:case 11:case 14:case 15:if(!Pn&&(y=m.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){C=y=y.next;do{var j=C,z=j.destroy;j=j.tag,z!==void 0&&((j&2)!==0||(j&4)!==0)&&Eh(m,a,z),C=C.next}while(C!==y)}Wo(s,a,m);break;case 1:if(!Pn&&(Is(m,a),y=m.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch(ee){Yt(m,a,ee)}Wo(s,a,m);break;case 21:Wo(s,a,m);break;case 22:m.mode&1?(Pn=(y=Pn)||m.memoizedState!==null,Wo(s,a,m),Pn=y):Wo(s,a,m);break;default:Wo(s,a,m)}}function R0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var m=s.stateNode;m===null&&(m=s.stateNode=new NA),a.forEach(function(y){var C=DA.bind(null,s,y);m.has(y)||(m.add(y),y.then(C,C))})}}function _r(s,a){var m=a.deletions;if(m!==null)for(var y=0;y<m.length;y++){var C=m[y];try{var j=s,z=a,ee=z;e:for(;ee!==null;){switch(ee.tag){case 5:Sn=ee.stateNode,jr=!1;break e;case 3:Sn=ee.stateNode.containerInfo,jr=!0;break e;case 4:Sn=ee.stateNode.containerInfo,jr=!0;break e}ee=ee.return}if(Sn===null)throw Error(n(160));T0(j,z,C),Sn=null,jr=!1;var ne=C.alternate;ne!==null&&(ne.return=null),C.return=null}catch(ce){Yt(C,a,ce)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)M0(a,s),a=a.sibling}function M0(s,a){var m=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(_r(a,s),Xr(s),y&4){try{sa(3,s,s.return),Eu(3,s)}catch(Be){Yt(s,s.return,Be)}try{sa(5,s,s.return)}catch(Be){Yt(s,s.return,Be)}}break;case 1:_r(a,s),Xr(s),y&512&&m!==null&&Is(m,m.return);break;case 5:if(_r(a,s),Xr(s),y&512&&m!==null&&Is(m,m.return),s.flags&32){var C=s.stateNode;try{Ie(C,"")}catch(Be){Yt(s,s.return,Be)}}if(y&4&&(C=s.stateNode,C!=null)){var j=s.memoizedProps,z=m!==null?m.memoizedProps:j,ee=s.type,ne=s.updateQueue;if(s.updateQueue=null,ne!==null)try{ee==="input"&&j.type==="radio"&&j.name!=null&&Re(C,j),_t(ee,z);var ce=_t(ee,j);for(z=0;z<ne.length;z+=2){var ve=ne[z],we=ne[z+1];ve==="style"?It(C,we):ve==="dangerouslySetInnerHTML"?We(C,we):ve==="children"?Ie(C,we):N(C,ve,we,ce)}switch(ee){case"input":nt(C,j);break;case"textarea":Nt(C,j);break;case"select":var xe=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!j.multiple;var _e=j.value;_e!=null?Ce(C,!!j.multiple,_e,!1):xe!==!!j.multiple&&(j.defaultValue!=null?Ce(C,!!j.multiple,j.defaultValue,!0):Ce(C,!!j.multiple,j.multiple?[]:"",!1))}C[Gl]=j}catch(Be){Yt(s,s.return,Be)}}break;case 6:if(_r(a,s),Xr(s),y&4){if(s.stateNode===null)throw Error(n(162));C=s.stateNode,j=s.memoizedProps;try{C.nodeValue=j}catch(Be){Yt(s,s.return,Be)}}break;case 3:if(_r(a,s),Xr(s),y&4&&m!==null&&m.memoizedState.isDehydrated)try{zl(a.containerInfo)}catch(Be){Yt(s,s.return,Be)}break;case 4:_r(a,s),Xr(s);break;case 13:_r(a,s),Xr(s),C=s.child,C.flags&8192&&(j=C.memoizedState!==null,C.stateNode.isHidden=j,!j||C.alternate!==null&&C.alternate.memoizedState!==null||(Th=Ut())),y&4&&R0(s);break;case 22:if(ve=m!==null&&m.memoizedState!==null,s.mode&1?(Pn=(ce=Pn)||ve,_r(a,s),Pn=ce):_r(a,s),Xr(s),y&8192){if(ce=s.memoizedState!==null,(s.stateNode.isHidden=ce)&&!ve&&(s.mode&1)!==0)for(Me=s,ve=s.child;ve!==null;){for(we=Me=ve;Me!==null;){switch(xe=Me,_e=xe.child,xe.tag){case 0:case 11:case 14:case 15:sa(4,xe,xe.return);break;case 1:Is(xe,xe.return);var Le=xe.stateNode;if(typeof Le.componentWillUnmount=="function"){y=xe,m=xe.return;try{a=y,Le.props=a.memoizedProps,Le.state=a.memoizedState,Le.componentWillUnmount()}catch(Be){Yt(y,m,Be)}}break;case 5:Is(xe,xe.return);break;case 22:if(xe.memoizedState!==null){L0(we);continue}}_e!==null?(_e.return=xe,Me=_e):L0(we)}ve=ve.sibling}e:for(ve=null,we=s;;){if(we.tag===5){if(ve===null){ve=we;try{C=we.stateNode,ce?(j=C.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(ee=we.stateNode,ne=we.memoizedProps.style,z=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,ee.style.display=xt("display",z))}catch(Be){Yt(s,s.return,Be)}}}else if(we.tag===6){if(ve===null)try{we.stateNode.nodeValue=ce?"":we.memoizedProps}catch(Be){Yt(s,s.return,Be)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===s)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===s)break e;for(;we.sibling===null;){if(we.return===null||we.return===s)break e;ve===we&&(ve=null),we=we.return}ve===we&&(ve=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:_r(a,s),Xr(s),y&4&&R0(s);break;case 21:break;default:_r(a,s),Xr(s)}}function Xr(s){var a=s.flags;if(a&2){try{e:{for(var m=s.return;m!==null;){if(A0(m)){var y=m;break e}m=m.return}throw Error(n(160))}switch(y.tag){case 5:var C=y.stateNode;y.flags&32&&(Ie(C,""),y.flags&=-33);var j=I0(s);Ph(s,j,C);break;case 3:case 4:var z=y.stateNode.containerInfo,ee=I0(s);_h(s,ee,z);break;default:throw Error(n(161))}}catch(ne){Yt(s,s.return,ne)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function jA(s,a,m){Me=s,D0(s)}function D0(s,a,m){for(var y=(s.mode&1)!==0;Me!==null;){var C=Me,j=C.child;if(C.tag===22&&y){var z=C.memoizedState!==null||Nu;if(!z){var ee=C.alternate,ne=ee!==null&&ee.memoizedState!==null||Pn;ee=Nu;var ce=Pn;if(Nu=z,(Pn=ne)&&!ce)for(Me=C;Me!==null;)z=Me,ne=z.child,z.tag===22&&z.memoizedState!==null?z0(C):ne!==null?(ne.return=z,Me=ne):z0(C);for(;j!==null;)Me=j,D0(j),j=j.sibling;Me=C,Nu=ee,Pn=ce}O0(s)}else(C.subtreeFlags&8772)!==0&&j!==null?(j.return=C,Me=j):O0(s)}}function O0(s){for(;Me!==null;){var a=Me;if((a.flags&8772)!==0){var m=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Pn||Eu(5,a);break;case 1:var y=a.stateNode;if(a.flags&4&&!Pn)if(m===null)y.componentDidMount();else{var C=a.elementType===a.type?m.memoizedProps:Er(a.type,m.memoizedProps);y.componentDidUpdate(C,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var j=a.updateQueue;j!==null&&Lv(a,j,y);break;case 3:var z=a.updateQueue;if(z!==null){if(m=null,a.child!==null)switch(a.child.tag){case 5:m=a.child.stateNode;break;case 1:m=a.child.stateNode}Lv(a,z,m)}break;case 5:var ee=a.stateNode;if(m===null&&a.flags&4){m=ee;var ne=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&m.focus();break;case"img":ne.src&&(m.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ce=a.alternate;if(ce!==null){var ve=ce.memoizedState;if(ve!==null){var we=ve.dehydrated;we!==null&&zl(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Pn||a.flags&512&&jh(a)}catch(xe){Yt(a,a.return,xe)}}if(a===s){Me=null;break}if(m=a.sibling,m!==null){m.return=a.return,Me=m;break}Me=a.return}}function L0(s){for(;Me!==null;){var a=Me;if(a===s){Me=null;break}var m=a.sibling;if(m!==null){m.return=a.return,Me=m;break}Me=a.return}}function z0(s){for(;Me!==null;){var a=Me;try{switch(a.tag){case 0:case 11:case 15:var m=a.return;try{Eu(4,a)}catch(ne){Yt(a,m,ne)}break;case 1:var y=a.stateNode;if(typeof y.componentDidMount=="function"){var C=a.return;try{y.componentDidMount()}catch(ne){Yt(a,C,ne)}}var j=a.return;try{jh(a)}catch(ne){Yt(a,j,ne)}break;case 5:var z=a.return;try{jh(a)}catch(ne){Yt(a,z,ne)}}}catch(ne){Yt(a,a.return,ne)}if(a===s){Me=null;break}var ee=a.sibling;if(ee!==null){ee.return=a.return,Me=ee;break}Me=a.return}}var _A=Math.ceil,ju=_.ReactCurrentDispatcher,Ah=_.ReactCurrentOwner,xr=_.ReactCurrentBatchConfig,Ct=0,gn=null,en=null,kn=0,nr=0,Ts=Fo(0),on=0,la=null,Ti=0,_u=0,Ih=0,aa=null,Wn=null,Th=0,Rs=1/0,vo=null,Pu=!1,Rh=null,qo=null,Au=!1,Yo=null,Iu=0,ca=0,Mh=null,Tu=-1,Ru=0;function Ln(){return(Ct&6)!==0?Ut():Tu!==-1?Tu:Tu=Ut()}function Xo(s){return(s.mode&1)===0?1:(Ct&2)!==0&&kn!==0?kn&-kn:dA.transition!==null?(Ru===0&&(Ru=fs()),Ru):(s=Rt,s!==0||(s=window.event,s=s===void 0?16:Fy(s.type)),s)}function Pr(s,a,m,y){if(50<ca)throw ca=0,Mh=null,Error(n(185));Ci(s,m,y),((Ct&2)===0||s!==gn)&&(s===gn&&((Ct&2)===0&&(_u|=m),on===4&&Go(s,kn)),qn(s,y),m===1&&Ct===0&&(a.mode&1)===0&&(Rs=Ut()+500,lu&&Vo()))}function qn(s,a){var m=s.callbackNode;mp(s,a);var y=ds(s,s===gn?kn:0);if(y===0)m!==null&&Lc(m),s.callbackNode=null,s.callbackPriority=0;else if(a=y&-y,s.callbackPriority!==a){if(m!=null&&Lc(m),a===1)s.tag===0?uA(F0.bind(null,s)):Nv(F0.bind(null,s)),sA(function(){(Ct&6)===0&&Vo()}),m=null;else{switch(Ty(y)){case 1:m=Il;break;case 4:m=$c;break;case 16:m=as;break;case 536870912:m=Fc;break;default:m=as}m=X0(m,$0.bind(null,s))}s.callbackPriority=a,s.callbackNode=m}}function $0(s,a){if(Tu=-1,Ru=0,(Ct&6)!==0)throw Error(n(327));var m=s.callbackNode;if(Ms()&&s.callbackNode!==m)return null;var y=ds(s,s===gn?kn:0);if(y===0)return null;if((y&30)!==0||(y&s.expiredLanes)!==0||a)a=Mu(s,y);else{a=y;var C=Ct;Ct|=2;var j=V0();(gn!==s||kn!==a)&&(vo=null,Rs=Ut()+500,Mi(s,a));do try{IA();break}catch(ee){B0(s,ee)}while(!0);Jp(),ju.current=j,Ct=C,en!==null?a=0:(gn=null,kn=0,a=on)}if(a!==0){if(a===2&&(C=Tl(s),C!==0&&(y=C,a=Dh(s,C))),a===1)throw m=la,Mi(s,0),Go(s,y),qn(s,Ut()),m;if(a===6)Go(s,y);else{if(C=s.current.alternate,(y&30)===0&&!PA(C)&&(a=Mu(s,y),a===2&&(j=Tl(s),j!==0&&(y=j,a=Dh(s,j))),a===1))throw m=la,Mi(s,0),Go(s,y),qn(s,Ut()),m;switch(s.finishedWork=C,s.finishedLanes=y,a){case 0:case 1:throw Error(n(345));case 2:Di(s,Wn,vo);break;case 3:if(Go(s,y),(y&130023424)===y&&(a=Th+500-Ut(),10<a)){if(ds(s,0)!==0)break;if(C=s.suspendedLanes,(C&y)!==y){Ln(),s.pingedLanes|=s.suspendedLanes&C;break}s.timeoutHandle=Bp(Di.bind(null,s,Wn,vo),a);break}Di(s,Wn,vo);break;case 4:if(Go(s,y),(y&4194240)===y)break;for(a=s.eventTimes,C=-1;0<y;){var z=31-Jn(y);j=1<<z,z=a[z],z>C&&(C=z),y&=~j}if(y=C,y=Ut()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*_A(y/1960))-y,10<y){s.timeoutHandle=Bp(Di.bind(null,s,Wn,vo),y);break}Di(s,Wn,vo);break;case 5:Di(s,Wn,vo);break;default:throw Error(n(329))}}}return qn(s,Ut()),s.callbackNode===m?$0.bind(null,s):null}function Dh(s,a){var m=aa;return s.current.memoizedState.isDehydrated&&(Mi(s,a).flags|=256),s=Mu(s,a),s!==2&&(a=Wn,Wn=m,a!==null&&Oh(a)),s}function Oh(s){Wn===null?Wn=s:Wn.push.apply(Wn,s)}function PA(s){for(var a=s;;){if(a.flags&16384){var m=a.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var y=0;y<m.length;y++){var C=m[y],j=C.getSnapshot;C=C.value;try{if(!Cr(j(),C))return!1}catch{return!1}}}if(m=a.child,a.subtreeFlags&16384&&m!==null)m.return=a,a=m;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Go(s,a){for(a&=~Ih,a&=~_u,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var m=31-Jn(a),y=1<<m;s[m]=-1,a&=~y}}function F0(s){if((Ct&6)!==0)throw Error(n(327));Ms();var a=ds(s,0);if((a&1)===0)return qn(s,Ut()),null;var m=Mu(s,a);if(s.tag!==0&&m===2){var y=Tl(s);y!==0&&(a=y,m=Dh(s,y))}if(m===1)throw m=la,Mi(s,0),Go(s,a),qn(s,Ut()),m;if(m===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Di(s,Wn,vo),qn(s,Ut()),null}function Lh(s,a){var m=Ct;Ct|=1;try{return s(a)}finally{Ct=m,Ct===0&&(Rs=Ut()+500,lu&&Vo())}}function Ri(s){Yo!==null&&Yo.tag===0&&(Ct&6)===0&&Ms();var a=Ct;Ct|=1;var m=xr.transition,y=Rt;try{if(xr.transition=null,Rt=1,s)return s()}finally{Rt=y,xr.transition=m,Ct=a,(Ct&6)===0&&Vo()}}function zh(){nr=Ts.current,Ft(Ts)}function Mi(s,a){s.finishedWork=null,s.finishedLanes=0;var m=s.timeoutHandle;if(m!==-1&&(s.timeoutHandle=-1,iA(m)),en!==null)for(m=en.return;m!==null;){var y=m;switch(Yp(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&iu();break;case 3:Ps(),Ft(Vn),Ft(En),sh();break;case 5:oh(y);break;case 4:Ps();break;case 13:Ft(Wt);break;case 19:Ft(Wt);break;case 10:Zp(y.type._context);break;case 22:case 23:zh()}m=m.return}if(gn=s,en=s=Ko(s.current,null),kn=nr=a,on=0,la=null,Ih=_u=Ti=0,Wn=aa=null,Pi!==null){for(a=0;a<Pi.length;a++)if(m=Pi[a],y=m.interleaved,y!==null){m.interleaved=null;var C=y.next,j=m.pending;if(j!==null){var z=j.next;j.next=C,y.next=z}m.pending=y}Pi=null}return s}function B0(s,a){do{var m=en;try{if(Jp(),xu.current=bu,yu){for(var y=qt.memoizedState;y!==null;){var C=y.queue;C!==null&&(C.pending=null),y=y.next}yu=!1}if(Ii=0,mn=rn=qt=null,ta=!1,na=0,Ah.current=null,m===null||m.return===null){on=1,la=a,en=null;break}e:{var j=s,z=m.return,ee=m,ne=a;if(a=kn,ee.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ce=ne,ve=ee,we=ve.tag;if((ve.mode&1)===0&&(we===0||we===11||we===15)){var xe=ve.alternate;xe?(ve.updateQueue=xe.updateQueue,ve.memoizedState=xe.memoizedState,ve.lanes=xe.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var _e=f0(z);if(_e!==null){_e.flags&=-257,p0(_e,z,ee,j,a),_e.mode&1&&d0(j,ce,a),a=_e,ne=ce;var Le=a.updateQueue;if(Le===null){var Be=new Set;Be.add(ne),a.updateQueue=Be}else Le.add(ne);break e}else{if((a&1)===0){d0(j,ce,a),$h();break e}ne=Error(n(426))}}else if(Vt&&ee.mode&1){var Kt=f0(z);if(Kt!==null){(Kt.flags&65536)===0&&(Kt.flags|=256),p0(Kt,z,ee,j,a),Kp(As(ne,ee));break e}}j=ne=As(ne,ee),on!==4&&(on=2),aa===null?aa=[j]:aa.push(j),j=z;do{switch(j.tag){case 3:j.flags|=65536,a&=-a,j.lanes|=a;var se=c0(j,ne,a);Ov(j,se);break e;case 1:ee=ne;var oe=j.type,ae=j.stateNode;if((j.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(qo===null||!qo.has(ae)))){j.flags|=65536,a&=-a,j.lanes|=a;var Ne=u0(j,ee,a);Ov(j,Ne);break e}}j=j.return}while(j!==null)}U0(m)}catch(Ue){a=Ue,en===m&&m!==null&&(en=m=m.return);continue}break}while(!0)}function V0(){var s=ju.current;return ju.current=bu,s===null?bu:s}function $h(){(on===0||on===3||on===2)&&(on=4),gn===null||(Ti&268435455)===0&&(_u&268435455)===0||Go(gn,kn)}function Mu(s,a){var m=Ct;Ct|=2;var y=V0();(gn!==s||kn!==a)&&(vo=null,Mi(s,a));do try{AA();break}catch(C){B0(s,C)}while(!0);if(Jp(),Ct=m,ju.current=y,en!==null)throw Error(n(261));return gn=null,kn=0,on}function AA(){for(;en!==null;)H0(en)}function IA(){for(;en!==null&&!ap();)H0(en)}function H0(s){var a=Y0(s.alternate,s,nr);s.memoizedProps=s.pendingProps,a===null?U0(s):en=a,Ah.current=null}function U0(s){var a=s;do{var m=a.alternate;if(s=a.return,(a.flags&32768)===0){if(m=kA(m,a,nr),m!==null){en=m;return}}else{if(m=CA(m,a),m!==null){m.flags&=32767,en=m;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{on=6,en=null;return}}if(a=a.sibling,a!==null){en=a;return}en=a=s}while(a!==null);on===0&&(on=5)}function Di(s,a,m){var y=Rt,C=xr.transition;try{xr.transition=null,Rt=1,TA(s,a,m,y)}finally{xr.transition=C,Rt=y}return null}function TA(s,a,m,y){do Ms();while(Yo!==null);if((Ct&6)!==0)throw Error(n(327));m=s.finishedWork;var C=s.finishedLanes;if(m===null)return null;if(s.finishedWork=null,s.finishedLanes=0,m===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var j=m.lanes|m.childLanes;if(Vc(s,j),s===gn&&(en=gn=null,kn=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Au||(Au=!0,X0(as,function(){return Ms(),null})),j=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||j){j=xr.transition,xr.transition=null;var z=Rt;Rt=1;var ee=Ct;Ct|=4,Ah.current=null,EA(s,m),M0(m,s),JP($p),Wc=!!zp,$p=zp=null,s.current=m,jA(m),zc(),Ct=ee,Rt=z,xr.transition=j}else s.current=m;if(Au&&(Au=!1,Yo=s,Iu=C),j=s.pendingLanes,j===0&&(qo=null),dp(m.stateNode),qn(s,Ut()),a!==null)for(y=s.onRecoverableError,m=0;m<a.length;m++)C=a[m],y(C.value,{componentStack:C.stack,digest:C.digest});if(Pu)throw Pu=!1,s=Rh,Rh=null,s;return(Iu&1)!==0&&s.tag!==0&&Ms(),j=s.pendingLanes,(j&1)!==0?s===Mh?ca++:(ca=0,Mh=s):ca=0,Vo(),null}function Ms(){if(Yo!==null){var s=Ty(Iu),a=xr.transition,m=Rt;try{if(xr.transition=null,Rt=16>s?16:s,Yo===null)var y=!1;else{if(s=Yo,Yo=null,Iu=0,(Ct&6)!==0)throw Error(n(331));var C=Ct;for(Ct|=4,Me=s.current;Me!==null;){var j=Me,z=j.child;if((Me.flags&16)!==0){var ee=j.deletions;if(ee!==null){for(var ne=0;ne<ee.length;ne++){var ce=ee[ne];for(Me=ce;Me!==null;){var ve=Me;switch(ve.tag){case 0:case 11:case 15:sa(8,ve,j)}var we=ve.child;if(we!==null)we.return=ve,Me=we;else for(;Me!==null;){ve=Me;var xe=ve.sibling,_e=ve.return;if(P0(ve),ve===ce){Me=null;break}if(xe!==null){xe.return=_e,Me=xe;break}Me=_e}}}var Le=j.alternate;if(Le!==null){var Be=Le.child;if(Be!==null){Le.child=null;do{var Kt=Be.sibling;Be.sibling=null,Be=Kt}while(Be!==null)}}Me=j}}if((j.subtreeFlags&2064)!==0&&z!==null)z.return=j,Me=z;else e:for(;Me!==null;){if(j=Me,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:sa(9,j,j.return)}var se=j.sibling;if(se!==null){se.return=j.return,Me=se;break e}Me=j.return}}var oe=s.current;for(Me=oe;Me!==null;){z=Me;var ae=z.child;if((z.subtreeFlags&2064)!==0&&ae!==null)ae.return=z,Me=ae;else e:for(z=oe;Me!==null;){if(ee=Me,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:Eu(9,ee)}}catch(Ue){Yt(ee,ee.return,Ue)}if(ee===z){Me=null;break e}var Ne=ee.sibling;if(Ne!==null){Ne.return=ee.return,Me=Ne;break e}Me=ee.return}}if(Ct=C,Vo(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(ki,s)}catch{}y=!0}return y}finally{Rt=m,xr.transition=a}}return!1}function W0(s,a,m){a=As(m,a),a=c0(s,a,1),s=Uo(s,a,1),a=Ln(),s!==null&&(Ci(s,1,a),qn(s,a))}function Yt(s,a,m){if(s.tag===3)W0(s,s,m);else for(;a!==null;){if(a.tag===3){W0(a,s,m);break}else if(a.tag===1){var y=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(qo===null||!qo.has(y))){s=As(m,s),s=u0(a,s,1),a=Uo(a,s,1),s=Ln(),a!==null&&(Ci(a,1,s),qn(a,s));break}}a=a.return}}function RA(s,a,m){var y=s.pingCache;y!==null&&y.delete(a),a=Ln(),s.pingedLanes|=s.suspendedLanes&m,gn===s&&(kn&m)===m&&(on===4||on===3&&(kn&130023424)===kn&&500>Ut()-Th?Mi(s,0):Ih|=m),qn(s,a)}function q0(s,a){a===0&&((s.mode&1)===0?a=1:(a=us,us<<=1,(us&130023424)===0&&(us=4194304)));var m=Ln();s=go(s,a),s!==null&&(Ci(s,a,m),qn(s,m))}function MA(s){var a=s.memoizedState,m=0;a!==null&&(m=a.retryLane),q0(s,m)}function DA(s,a){var m=0;switch(s.tag){case 13:var y=s.stateNode,C=s.memoizedState;C!==null&&(m=C.retryLane);break;case 19:y=s.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(a),q0(s,m)}var Y0;Y0=function(s,a,m){if(s!==null)if(s.memoizedProps!==a.pendingProps||Vn.current)Un=!0;else{if((s.lanes&m)===0&&(a.flags&128)===0)return Un=!1,SA(s,a,m);Un=(s.flags&131072)!==0}else Un=!1,Vt&&(a.flags&1048576)!==0&&Ev(a,cu,a.index);switch(a.lanes=0,a.tag){case 2:var y=a.type;Cu(s,a),s=a.pendingProps;var C=Ss(a,En.current);_s(a,m),C=ch(null,a,y,s,C,m);var j=uh();return a.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Hn(y)?(j=!0,su(a)):j=!1,a.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,nh(a),C.updater=Su,a.stateNode=C,C._reactInternals=a,gh(a,y,s,m),a=wh(null,a,y,!0,j,m)):(a.tag=0,Vt&&j&&qp(a),On(null,a,C,m),a=a.child),a;case 16:y=a.elementType;e:{switch(Cu(s,a),s=a.pendingProps,C=y._init,y=C(y._payload),a.type=y,C=a.tag=LA(y),s=Er(y,s),C){case 0:a=vh(null,a,y,s,m);break e;case 1:a=v0(null,a,y,s,m);break e;case 11:a=h0(null,a,y,s,m);break e;case 14:a=m0(null,a,y,Er(y.type,s),m);break e}throw Error(n(306,y,""))}return a;case 0:return y=a.type,C=a.pendingProps,C=a.elementType===y?C:Er(y,C),vh(s,a,y,C,m);case 1:return y=a.type,C=a.pendingProps,C=a.elementType===y?C:Er(y,C),v0(s,a,y,C,m);case 3:e:{if(w0(a),s===null)throw Error(n(387));y=a.pendingProps,j=a.memoizedState,C=j.element,Dv(s,a),mu(a,y,null,m);var z=a.memoizedState;if(y=z.element,j.isDehydrated)if(j={element:y,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},a.updateQueue.baseState=j,a.memoizedState=j,a.flags&256){C=As(Error(n(423)),a),a=b0(s,a,y,m,C);break e}else if(y!==C){C=As(Error(n(424)),a),a=b0(s,a,y,m,C);break e}else for(tr=$o(a.stateNode.containerInfo.firstChild),er=a,Vt=!0,Nr=null,m=Rv(a,null,y,m),a.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Ns(),y===C){a=yo(s,a,m);break e}On(s,a,y,m)}a=a.child}return a;case 5:return zv(a),s===null&&Gp(a),y=a.type,C=a.pendingProps,j=s!==null?s.memoizedProps:null,z=C.children,Fp(y,C)?z=null:j!==null&&Fp(y,j)&&(a.flags|=32),y0(s,a),On(s,a,z,m),a.child;case 6:return s===null&&Gp(a),null;case 13:return S0(s,a,m);case 4:return rh(a,a.stateNode.containerInfo),y=a.pendingProps,s===null?a.child=Es(a,null,y,m):On(s,a,y,m),a.child;case 11:return y=a.type,C=a.pendingProps,C=a.elementType===y?C:Er(y,C),h0(s,a,y,C,m);case 7:return On(s,a,a.pendingProps,m),a.child;case 8:return On(s,a,a.pendingProps.children,m),a.child;case 12:return On(s,a,a.pendingProps.children,m),a.child;case 10:e:{if(y=a.type._context,C=a.pendingProps,j=a.memoizedProps,z=C.value,Lt(fu,y._currentValue),y._currentValue=z,j!==null)if(Cr(j.value,z)){if(j.children===C.children&&!Vn.current){a=yo(s,a,m);break e}}else for(j=a.child,j!==null&&(j.return=a);j!==null;){var ee=j.dependencies;if(ee!==null){z=j.child;for(var ne=ee.firstContext;ne!==null;){if(ne.context===y){if(j.tag===1){ne=xo(-1,m&-m),ne.tag=2;var ce=j.updateQueue;if(ce!==null){ce=ce.shared;var ve=ce.pending;ve===null?ne.next=ne:(ne.next=ve.next,ve.next=ne),ce.pending=ne}}j.lanes|=m,ne=j.alternate,ne!==null&&(ne.lanes|=m),eh(j.return,m,a),ee.lanes|=m;break}ne=ne.next}}else if(j.tag===10)z=j.type===a.type?null:j.child;else if(j.tag===18){if(z=j.return,z===null)throw Error(n(341));z.lanes|=m,ee=z.alternate,ee!==null&&(ee.lanes|=m),eh(z,m,a),z=j.sibling}else z=j.child;if(z!==null)z.return=j;else for(z=j;z!==null;){if(z===a){z=null;break}if(j=z.sibling,j!==null){j.return=z.return,z=j;break}z=z.return}j=z}On(s,a,C.children,m),a=a.child}return a;case 9:return C=a.type,y=a.pendingProps.children,_s(a,m),C=mr(C),y=y(C),a.flags|=1,On(s,a,y,m),a.child;case 14:return y=a.type,C=Er(y,a.pendingProps),C=Er(y.type,C),m0(s,a,y,C,m);case 15:return g0(s,a,a.type,a.pendingProps,m);case 17:return y=a.type,C=a.pendingProps,C=a.elementType===y?C:Er(y,C),Cu(s,a),a.tag=1,Hn(y)?(s=!0,su(a)):s=!1,_s(a,m),l0(a,y,C),gh(a,y,C,m),wh(null,a,y,!0,s,m);case 19:return C0(s,a,m);case 22:return x0(s,a,m)}throw Error(n(156,a.tag))};function X0(s,a){return Oc(s,a)}function OA(s,a,m,y){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(s,a,m,y){return new OA(s,a,m,y)}function Fh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function LA(s){if(typeof s=="function")return Fh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Y)return 11;if(s===$)return 14}return 2}function Ko(s,a){var m=s.alternate;return m===null?(m=yr(s.tag,a,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=a,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&14680064,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,a=s.dependencies,m.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m}function Du(s,a,m,y,C,j){var z=2;if(y=s,typeof s=="function")Fh(s)&&(z=1);else if(typeof s=="string")z=5;else e:switch(s){case T:return Oi(m.children,C,j,a);case O:z=8,C|=8;break;case U:return s=yr(12,m,a,C|2),s.elementType=U,s.lanes=j,s;case q:return s=yr(13,m,a,C),s.elementType=q,s.lanes=j,s;case A:return s=yr(19,m,a,C),s.elementType=A,s.lanes=j,s;case G:return Ou(m,C,j,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:z=10;break e;case B:z=9;break e;case Y:z=11;break e;case $:z=14;break e;case F:z=16,y=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=yr(z,m,a,C),a.elementType=s,a.type=y,a.lanes=j,a}function Oi(s,a,m,y){return s=yr(7,s,y,a),s.lanes=m,s}function Ou(s,a,m,y){return s=yr(22,s,y,a),s.elementType=G,s.lanes=m,s.stateNode={isHidden:!1},s}function Bh(s,a,m){return s=yr(6,s,null,a),s.lanes=m,s}function Vh(s,a,m){return a=yr(4,s.children!==null?s.children:[],s.key,a),a.lanes=m,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function zA(s,a,m,y,C){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rl(0),this.expirationTimes=Rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.identifierPrefix=y,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Hh(s,a,m,y,C,j,z,ee,ne){return s=new zA(s,a,m,ee,ne),a===1?(a=1,j===!0&&(a|=8)):a=0,j=yr(3,null,null,a),s.current=j,j.stateNode=s,j.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},nh(j),s}function $A(s,a,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:y==null?null:""+y,children:s,containerInfo:a,implementation:m}}function G0(s){if(!s)return Bo;s=s._reactInternals;e:{if(Hr(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Hn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var m=s.type;if(Hn(m))return kv(s,m,a)}return a}function K0(s,a,m,y,C,j,z,ee,ne){return s=Hh(m,y,!0,s,C,j,z,ee,ne),s.context=G0(null),m=s.current,y=Ln(),C=Xo(m),j=xo(y,C),j.callback=a??null,Uo(m,j,C),s.current.lanes=C,Ci(s,C,y),qn(s,y),s}function Lu(s,a,m,y){var C=a.current,j=Ln(),z=Xo(C);return m=G0(m),a.context===null?a.context=m:a.pendingContext=m,a=xo(j,z),a.payload={element:s},y=y===void 0?null:y,y!==null&&(a.callback=y),s=Uo(C,a,z),s!==null&&(Pr(s,C,z,j),hu(s,C,z)),z}function zu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Q0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<a?m:a}}function Uh(s,a){Q0(s,a),(s=s.alternate)&&Q0(s,a)}function FA(){return null}var J0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Wh(s){this._internalRoot=s}$u.prototype.render=Wh.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Lu(s,a,null,null)},$u.prototype.unmount=Wh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ri(function(){Lu(null,s,null,null)}),a[fo]=null}};function $u(s){this._internalRoot=s}$u.prototype.unstable_scheduleHydration=function(s){if(s){var a=Dy();s={blockedOn:null,target:s,priority:a};for(var m=0;m<Oo.length&&a!==0&&a<Oo[m].priority;m++);Oo.splice(m,0,s),m===0&&zy(s)}};function qh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Fu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Z0(){}function BA(s,a,m,y,C){if(C){if(typeof y=="function"){var j=y;y=function(){var ce=zu(z);j.call(ce)}}var z=K0(a,y,s,0,null,!1,!1,"",Z0);return s._reactRootContainer=z,s[fo]=z.current,Yl(s.nodeType===8?s.parentNode:s),Ri(),z}for(;C=s.lastChild;)s.removeChild(C);if(typeof y=="function"){var ee=y;y=function(){var ce=zu(ne);ee.call(ce)}}var ne=Hh(s,0,!1,null,null,!1,!1,"",Z0);return s._reactRootContainer=ne,s[fo]=ne.current,Yl(s.nodeType===8?s.parentNode:s),Ri(function(){Lu(a,ne,m,y)}),ne}function Bu(s,a,m,y,C){var j=m._reactRootContainer;if(j){var z=j;if(typeof C=="function"){var ee=C;C=function(){var ne=zu(z);ee.call(ne)}}Lu(a,z,s,C)}else z=BA(m,a,s,C,y);return zu(z)}Ry=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var m=Ur(a.pendingLanes);m!==0&&(gp(a,m|1),qn(a,Ut()),(Ct&6)===0&&(Rs=Ut()+500,Vo()))}break;case 13:Ri(function(){var y=go(s,1);if(y!==null){var C=Ln();Pr(y,s,1,C)}}),Uh(s,1)}},xp=function(s){if(s.tag===13){var a=go(s,134217728);if(a!==null){var m=Ln();Pr(a,s,134217728,m)}Uh(s,134217728)}},My=function(s){if(s.tag===13){var a=Xo(s),m=go(s,a);if(m!==null){var y=Ln();Pr(m,s,a,y)}Uh(s,a)}},Dy=function(){return Rt},Oy=function(s,a){var m=Rt;try{return Rt=s,a()}finally{Rt=m}},re=function(s,a,m){switch(a){case"input":if(nt(s,m),a=m.name,m.type==="radio"&&a!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<m.length;a++){var y=m[a];if(y!==s&&y.form===s.form){var C=ou(y);if(!C)throw Error(n(90));de(y),nt(y,C)}}}break;case"textarea":Nt(s,m);break;case"select":a=m.value,a!=null&&Ce(s,!!m.multiple,a,!1)}},Pe=Lh,ct=Ri;var VA={usingClientEntryPoint:!1,Events:[Kl,ws,ou,Fe,Ve,Lh]},ua={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HA={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Mc(s),s===null?null:s.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||FA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{ki=Vu.inject(HA),fr=Vu}catch{}}return Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VA,Yn.createPortal=function(s,a){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qh(a))throw Error(n(200));return $A(s,a,null,m)},Yn.createRoot=function(s,a){if(!qh(s))throw Error(n(299));var m=!1,y="",C=J0;return a!=null&&(a.unstable_strictMode===!0&&(m=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(C=a.onRecoverableError)),a=Hh(s,1,!1,null,null,m,!1,y,C),s[fo]=a.current,Yl(s.nodeType===8?s.parentNode:s),new Wh(a)},Yn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Mc(a),s=s===null?null:s.stateNode,s},Yn.flushSync=function(s){return Ri(s)},Yn.hydrate=function(s,a,m){if(!Fu(a))throw Error(n(200));return Bu(null,s,a,!0,m)},Yn.hydrateRoot=function(s,a,m){if(!qh(s))throw Error(n(405));var y=m!=null&&m.hydratedSources||null,C=!1,j="",z=J0;if(m!=null&&(m.unstable_strictMode===!0&&(C=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onRecoverableError!==void 0&&(z=m.onRecoverableError)),a=K0(a,null,s,1,m??null,C,!1,j,z),s[fo]=a.current,Yl(s),y)for(s=0;s<y.length;s++)m=y[s],C=m._getVersion,C=C(m._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[m,C]:a.mutableSourceEagerHydrationData.push(m,C);return new $u(a)},Yn.render=function(s,a,m){if(!Fu(a))throw Error(n(200));return Bu(null,s,a,!1,m)},Yn.unmountComponentAtNode=function(s){if(!Fu(s))throw Error(n(40));return s._reactRootContainer?(Ri(function(){Bu(null,null,s,!1,function(){s._reactRootContainer=null,s[fo]=null})}),!0):!1},Yn.unstable_batchedUpdates=Lh,Yn.unstable_renderSubtreeIntoContainer=function(s,a,m,y){if(!Fu(m))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Bu(s,a,m,!1,y)},Yn.version="18.3.1-next-f1338f8080-20240426",Yn}var lw;function DS(){if(lw)return Gh.exports;lw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gh.exports=QA(),Gh.exports}var aw;function JA(){if(aw)return Hu;aw=1;var e=DS();return Hu.createRoot=e.createRoot,Hu.hydrateRoot=e.hydrateRoot,Hu}var ZA=JA();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tI=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),cw=e=>{const t=tI(e);return t.charAt(0).toUpperCase()+t.slice(1)},OS=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:l,...c},d)=>w.createElement("svg",{ref:d,...nI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:OS("lucide",o),...c},[...l.map(([f,h])=>w.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(e,t)=>{const n=w.forwardRef(({className:r,...o},i)=>w.createElement(rI,{ref:i,iconNode:t,className:OS(`lucide-${eI(cw(e))}`,`lucide-${e}`,r),...o}));return n.displayName=cw(e),n};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],iI=et("arrow-down",oI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Km=et("arrow-right",sI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],aI=et("box",lI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],LS=et("check",cI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ri=et("chevron-down",uI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zS=et("chevron-left",dI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vi=et("chevron-right",fI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hI=et("chevron-up",pI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],$S=et("chevrons-left",mI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],FS=et("chevrons-right",gI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yI=et("circle-alert",xI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wI=et("circle-check",vI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],SI=et("circle-help",bI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Qm=et("circle-plus",kI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],BS=et("circle",CI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Qg=et("clock",NI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],jI=et("database",EI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],VS=et("download",_I);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],AI=et("eye-off",PI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TI=et("eye",II);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]],MI=et("fast-forward",RI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],OI=et("file-up",DI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],zI=et("folder-open",LI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],FI=et("globe",$I);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Ea=et("grip-vertical",BI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],HI=et("hash",VI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M15 12h6",key:"upa0zy"}],["path",{d:"M15 6h6",key:"1jlkvy"}],["path",{d:"m3 13 3.553-7.724a.5.5 0 0 1 .894 0L11 13",key:"blevx4"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M4 11h6",key:"olkgv1"}]],WI=et("letter-text",UI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],YI=et("loader-circle",qI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],GI=et("message-square-plus",XI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],QI=et("network",KI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],ZI=et("plane",JI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],tT=et("play",eT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],HS=et("plus",nT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],oT=et("redo-2",rT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],sT=et("rotate-ccw",iT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],aT=et("save",lT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],uT=et("search",cT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fT=et("send",dT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],US=et("settings",pT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],mT=et("skip-forward",hT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],xT=et("sparkles",gT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fa=et("square-pen",yT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M4 10c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"4i38lg"}],["path",{d:"M10 16c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"mlte4a"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]],wT=et("square-stack",vT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],WS=et("square",bT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],lr=et("trash-2",ST);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],CT=et("trash",kT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],ET=et("undo-2",NT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Jg=et("upload",jT);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],PT=et("x",_T),cf=w.createContext(null);cf.displayName="PanelGroupContext";const Xt={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Zg=10,qi=w.useLayoutEffect,uw=af.useId,AT=typeof uw=="function"?uw:()=>null;let IT=0;function ex(e=null){const t=AT(),n=w.useRef(e||t||null);return n.current===null&&(n.current=""+IT++),e??n.current}function qS({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:o,forwardedRef:i,id:l,maxSize:c,minSize:d,onCollapse:f,onExpand:h,onResize:p,order:g,style:x,tagName:S="div",...v}){const b=w.useContext(cf);if(b===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:k,expandPanel:E,getPanelSize:N,getPanelStyle:_,groupId:I,isPanelCollapsed:P,reevaluatePanelConstraints:T,registerPanel:O,resizePanel:U,unregisterPanel:L}=b,B=ex(l),Y=w.useRef({callbacks:{onCollapse:f,onExpand:h,onResize:p},constraints:{collapsedSize:n,collapsible:r,defaultSize:o,maxSize:c,minSize:d},id:B,idIsFromProps:l!==void 0,order:g});w.useRef({didLogMissingDefaultSizeWarning:!1}),qi(()=>{const{callbacks:A,constraints:$}=Y.current,F={...$};Y.current.id=B,Y.current.idIsFromProps=l!==void 0,Y.current.order=g,A.onCollapse=f,A.onExpand=h,A.onResize=p,$.collapsedSize=n,$.collapsible=r,$.defaultSize=o,$.maxSize=c,$.minSize=d,(F.collapsedSize!==$.collapsedSize||F.collapsible!==$.collapsible||F.maxSize!==$.maxSize||F.minSize!==$.minSize)&&T(Y.current,F)}),qi(()=>{const A=Y.current;return O(A),()=>{L(A)}},[g,B,O,L]),w.useImperativeHandle(i,()=>({collapse:()=>{k(Y.current)},expand:A=>{E(Y.current,A)},getId(){return B},getSize(){return N(Y.current)},isCollapsed(){return P(Y.current)},isExpanded(){return!P(Y.current)},resize:A=>{U(Y.current,A)}}),[k,E,N,P,B,U]);const q=_(Y.current,o);return w.createElement(S,{...v,children:e,className:t,id:B,style:{...q,...x},[Xt.groupId]:I,[Xt.panel]:"",[Xt.panelCollapsible]:r||void 0,[Xt.panelId]:B,[Xt.panelSize]:parseFloat(""+q.flexGrow).toFixed(1)})}const YS=w.forwardRef((e,t)=>w.createElement(qS,{...e,forwardedRef:t}));qS.displayName="Panel";YS.displayName="forwardRef(Panel)";let Jm=null,gd=-1,oi=null;function TT(e,t){if(t){const n=(t&JS)!==0,r=(t&ZS)!==0,o=(t&ek)!==0,i=(t&tk)!==0;if(n)return o?"se-resize":i?"ne-resize":"e-resize";if(r)return o?"sw-resize":i?"nw-resize":"w-resize";if(o)return"s-resize";if(i)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function RT(){oi!==null&&(document.head.removeChild(oi),Jm=null,oi=null,gd=-1)}function Jh(e,t){var n,r;const o=TT(e,t);if(Jm!==o){if(Jm=o,oi===null&&(oi=document.createElement("style"),document.head.appendChild(oi)),gd>=0){var i;(i=oi.sheet)===null||i===void 0||i.removeRule(gd)}gd=(n=(r=oi.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${o} !important;}`))!==null&&n!==void 0?n:-1}}function XS(e){return e.type==="keydown"}function GS(e){return e.type.startsWith("pointer")}function KS(e){return e.type.startsWith("mouse")}function uf(e){if(GS(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(KS(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function MT(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function DT(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function OT(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:pw(e),b:pw(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;dt(r,"Stacking order can only be calculated for elements with a common ancestor");const o={a:fw(dw(n.a)),b:fw(dw(n.b))};if(o.a===o.b){const i=r.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)};let c=i.length;for(;c--;){const d=i[c];if(d===l.a)return 1;if(d===l.b)return-1}}return Math.sign(o.a-o.b)}const LT=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function zT(e){var t;const n=getComputedStyle((t=QS(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function $T(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||zT(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||LT.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function dw(e){let t=e.length;for(;t--;){const n=e[t];if(dt(n,"Missing node"),$T(n))return n}return null}function fw(e){return e&&Number(getComputedStyle(e).zIndex)||0}function pw(e){const t=[];for(;e;)t.push(e),e=QS(e);return t}function QS(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const JS=1,ZS=2,ek=4,tk=8,FT=MT()==="coarse";let Dr=[],Gs=!1,Hi=new Map,df=new Map;const Ga=new Set;function BT(e,t,n,r,o){var i;const{ownerDocument:l}=t,c={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:o},d=(i=Hi.get(l))!==null&&i!==void 0?i:0;return Hi.set(l,d+1),Ga.add(c),Ad(),function(){var h;df.delete(e),Ga.delete(c);const p=(h=Hi.get(l))!==null&&h!==void 0?h:1;if(Hi.set(l,p-1),Ad(),p===1&&Hi.delete(l),Dr.includes(c)){const g=Dr.indexOf(c);g>=0&&Dr.splice(g,1),nx(),o("up",!0,null)}}}function VT(e){const{target:t}=e,{x:n,y:r}=uf(e);Gs=!0,tx({target:t,x:n,y:r}),Ad(),Dr.length>0&&(Id("down",e),e.preventDefault(),nk(t)||e.stopImmediatePropagation())}function Zh(e){const{x:t,y:n}=uf(e);if(Gs&&e.buttons===0&&(Gs=!1,Id("up",e)),!Gs){const{target:r}=e;tx({target:r,x:t,y:n})}Id("move",e),nx(),Dr.length>0&&e.preventDefault()}function em(e){const{target:t}=e,{x:n,y:r}=uf(e);df.clear(),Gs=!1,Dr.length>0&&(e.preventDefault(),nk(t)||e.stopImmediatePropagation()),Id("up",e),tx({target:t,x:n,y:r}),nx(),Ad()}function nk(e){let t=e;for(;t;){if(t.hasAttribute(Xt.resizeHandle))return!0;t=t.parentElement}return!1}function tx({target:e,x:t,y:n}){Dr.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),Ga.forEach(o=>{const{element:i,hitAreaMargins:l}=o,c=i.getBoundingClientRect(),{bottom:d,left:f,right:h,top:p}=c,g=FT?l.coarse:l.fine;if(t>=f-g&&t<=h+g&&n>=p-g&&n<=d+g){if(r!==null&&document.contains(r)&&i!==r&&!i.contains(r)&&!r.contains(i)&&OT(r,i)>0){let S=r,v=!1;for(;S&&!S.contains(i);){if(DT(S.getBoundingClientRect(),c)){v=!0;break}S=S.parentElement}if(v)return}Dr.push(o)}})}function tm(e,t){df.set(e,t)}function nx(){let e=!1,t=!1;Dr.forEach(r=>{const{direction:o}=r;o==="horizontal"?e=!0:t=!0});let n=0;df.forEach(r=>{n|=r}),e&&t?Jh("intersection",n):e?Jh("horizontal",n):t?Jh("vertical",n):RT()}let nm=new AbortController;function Ad(){nm.abort(),nm=new AbortController;const e={capture:!0,signal:nm.signal};Ga.size&&(Gs?(Dr.length>0&&Hi.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("contextmenu",em,e),r.addEventListener("pointerleave",Zh,e),r.addEventListener("pointermove",Zh,e))}),window.addEventListener("pointerup",em,e),window.addEventListener("pointercancel",em,e)):Hi.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("pointerdown",VT,e),r.addEventListener("pointermove",Zh,e))}))}function Id(e,t){Ga.forEach(n=>{const{setResizeHandlerState:r}=n,o=Dr.includes(n);r(e,o,t)})}function HT(){const[e,t]=w.useState(0);return w.useCallback(()=>t(n=>n+1),[])}function dt(e,t){if(!e)throw console.error(t),Error(t)}function Gi(e,t,n=Zg){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function Co(e,t,n=Zg){return Gi(e,t,n)===0}function or(e,t,n){return Gi(e,t,n)===0}function UT(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const o=e[r],i=t[r];if(!or(o,i,n))return!1}return!0}function Ws({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];dt(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:o=0,collapsible:i,maxSize:l=100,minSize:c=0}=r;if(Gi(n,c)<0)if(i){const d=(o+c)/2;Gi(n,d)<0?n=o:n=c}else n=c;return n=Math.min(l,n),n=parseFloat(n.toFixed(Zg)),n}function ja({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:o,trigger:i}){if(or(e,0))return t;const l=[...t],[c,d]=r;dt(c!=null,"Invalid first pivot index"),dt(d!=null,"Invalid second pivot index");let f=0;if(i==="keyboard"){{const p=e<0?d:c,g=n[p];dt(g,`Panel constraints not found for index ${p}`);const{collapsedSize:x=0,collapsible:S,minSize:v=0}=g;if(S){const b=t[p];if(dt(b!=null,`Previous layout not found for panel index ${p}`),or(b,x)){const k=v-b;Gi(k,Math.abs(e))>0&&(e=e<0?0-k:k)}}}{const p=e<0?c:d,g=n[p];dt(g,`No panel constraints found for index ${p}`);const{collapsedSize:x=0,collapsible:S,minSize:v=0}=g;if(S){const b=t[p];if(dt(b!=null,`Previous layout not found for panel index ${p}`),or(b,v)){const k=b-x;Gi(k,Math.abs(e))>0&&(e=e<0?0-k:k)}}}}{const p=e<0?1:-1;let g=e<0?d:c,x=0;for(;;){const v=t[g];dt(v!=null,`Previous layout not found for panel index ${g}`);const k=Ws({panelConstraints:n,panelIndex:g,size:100})-v;if(x+=k,g+=p,g<0||g>=n.length)break}const S=Math.min(Math.abs(e),Math.abs(x));e=e<0?0-S:S}{let g=e<0?c:d;for(;g>=0&&g<n.length;){const x=Math.abs(e)-Math.abs(f),S=t[g];dt(S!=null,`Previous layout not found for panel index ${g}`);const v=S-x,b=Ws({panelConstraints:n,panelIndex:g,size:v});if(!or(S,b)&&(f+=S-b,l[g]=b,f.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?g--:g++}}if(UT(o,l))return o;{const p=e<0?d:c,g=t[p];dt(g!=null,`Previous layout not found for panel index ${p}`);const x=g+f,S=Ws({panelConstraints:n,panelIndex:p,size:x});if(l[p]=S,!or(S,x)){let v=x-S,k=e<0?d:c;for(;k>=0&&k<n.length;){const E=l[k];dt(E!=null,`Previous layout not found for panel index ${k}`);const N=E+v,_=Ws({panelConstraints:n,panelIndex:k,size:N});if(or(E,_)||(v-=_-E,l[k]=_),or(v,0))break;e>0?k--:k++}}}const h=l.reduce((p,g)=>g+p,0);return or(h,100)?l:o}function WT({layout:e,panelsArray:t,pivotIndices:n}){let r=0,o=100,i=0,l=0;const c=n[0];dt(c!=null,"No pivot index found"),t.forEach((p,g)=>{const{constraints:x}=p,{maxSize:S=100,minSize:v=0}=x;g===c?(r=v,o=S):(i+=v,l+=S)});const d=Math.min(o,100-i),f=Math.max(r,100-l),h=e[c];return{valueMax:d,valueMin:f,valueNow:h}}function Ka(e,t=document){return Array.from(t.querySelectorAll(`[${Xt.resizeHandleId}][data-panel-group-id="${e}"]`))}function rk(e,t,n=document){const o=Ka(e,n).findIndex(i=>i.getAttribute(Xt.resizeHandleId)===t);return o??null}function ok(e,t,n){const r=rk(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function ik(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function ff(e,t=document){const n=t.querySelector(`[${Xt.resizeHandleId}="${e}"]`);return n||null}function qT(e,t,n,r=document){var o,i,l,c;const d=ff(t,r),f=Ka(e,r),h=d?f.indexOf(d):-1,p=(o=(i=n[h])===null||i===void 0?void 0:i.id)!==null&&o!==void 0?o:null,g=(l=(c=n[h+1])===null||c===void 0?void 0:c.id)!==null&&l!==void 0?l:null;return[p,g]}function YT({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:o,panelGroupElement:i,setLayout:l}){w.useRef({didWarnAboutMissingResizeHandle:!1}),qi(()=>{if(!i)return;const c=Ka(n,i);for(let d=0;d<o.length-1;d++){const{valueMax:f,valueMin:h,valueNow:p}=WT({layout:r,panelsArray:o,pivotIndices:[d,d+1]}),g=c[d];if(g!=null){const x=o[d];dt(x,`No panel data found for index "${d}"`),g.setAttribute("aria-controls",x.id),g.setAttribute("aria-valuemax",""+Math.round(f)),g.setAttribute("aria-valuemin",""+Math.round(h)),g.setAttribute("aria-valuenow",p!=null?""+Math.round(p):"")}}return()=>{c.forEach((d,f)=>{d.removeAttribute("aria-controls"),d.removeAttribute("aria-valuemax"),d.removeAttribute("aria-valuemin"),d.removeAttribute("aria-valuenow")})}},[n,r,o,i]),w.useEffect(()=>{if(!i)return;const c=t.current;dt(c,"Eager values not found");const{panelDataArray:d}=c,f=ik(n,i);dt(f!=null,`No group found for id "${n}"`);const h=Ka(n,i);dt(h,`No resize handles found for group id "${n}"`);const p=h.map(g=>{const x=g.getAttribute(Xt.resizeHandleId);dt(x,"Resize handle element has no handle id attribute");const[S,v]=qT(n,x,d,i);if(S==null||v==null)return()=>{};const b=k=>{if(!k.defaultPrevented)switch(k.key){case"Enter":{k.preventDefault();const E=d.findIndex(N=>N.id===S);if(E>=0){const N=d[E];dt(N,`No panel data found for index ${E}`);const _=r[E],{collapsedSize:I=0,collapsible:P,minSize:T=0}=N.constraints;if(_!=null&&P){const O=ja({delta:or(_,I)?T-I:I-_,initialLayout:r,panelConstraints:d.map(U=>U.constraints),pivotIndices:ok(n,x,i),prevLayout:r,trigger:"keyboard"});r!==O&&l(O)}}break}}};return g.addEventListener("keydown",b),()=>{g.removeEventListener("keydown",b)}});return()=>{p.forEach(g=>g())}},[i,e,t,n,r,o,l])}function hw(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function sk(e,t){const n=e==="horizontal",{x:r,y:o}=uf(t);return n?r:o}function XT(e,t,n,r,o){const i=n==="horizontal",l=ff(t,o);dt(l,`No resize handle element found for id "${t}"`);const c=l.getAttribute(Xt.groupId);dt(c,"Resize handle element has no group id attribute");let{initialCursorPosition:d}=r;const f=sk(n,e),h=ik(c,o);dt(h,`No group element found for id "${c}"`);const p=h.getBoundingClientRect(),g=i?p.width:p.height;return(f-d)/g*100}function GT(e,t,n,r,o,i){if(XS(e)){const l=n==="horizontal";let c=0;e.shiftKey?c=100:o!=null?c=o:c=10;let d=0;switch(e.key){case"ArrowDown":d=l?0:c;break;case"ArrowLeft":d=l?-c:0;break;case"ArrowRight":d=l?c:0;break;case"ArrowUp":d=l?0:-c;break;case"End":d=100;break;case"Home":d=-100;break}return d}else return r==null?0:XT(e,t,n,r,i)}function KT({panelDataArray:e}){const t=Array(e.length),n=e.map(i=>i.constraints);let r=0,o=100;for(let i=0;i<e.length;i++){const l=n[i];dt(l,`Panel constraints not found for index ${i}`);const{defaultSize:c}=l;c!=null&&(r++,t[i]=c,o-=c)}for(let i=0;i<e.length;i++){const l=n[i];dt(l,`Panel constraints not found for index ${i}`);const{defaultSize:c}=l;if(c!=null)continue;const d=e.length-r,f=o/d;r++,t[i]=f,o-=f}return t}function Ds(e,t,n){t.forEach((r,o)=>{const i=e[o];dt(i,`Panel data not found for index ${o}`);const{callbacks:l,constraints:c,id:d}=i,{collapsedSize:f=0,collapsible:h}=c,p=n[d];if(p==null||r!==p){n[d]=r;const{onCollapse:g,onExpand:x,onResize:S}=l;S&&S(r,p),h&&(g||x)&&(x&&(p==null||Co(p,f))&&!Co(r,f)&&x(),g&&(p==null||!Co(p,f))&&Co(r,f)&&g())}})}function Uu(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function QT({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:o,precision:i=3}){const l=n[o];let c;return l==null?c=e!=null?e.toPrecision(i):"1":r.length===1?c="1":c=l.toPrecision(i),{flexBasis:0,flexGrow:c,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function JT(e,t=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}function mw(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function lk(e){return`react-resizable-panels:${e}`}function ak(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:o,order:i}=t;return o?r:i?`${i}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function ck(e,t){try{const n=lk(e),r=t.getItem(n);if(r){const o=JSON.parse(r);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function ZT(e,t,n){var r,o;const i=(r=ck(e,n))!==null&&r!==void 0?r:{},l=ak(t);return(o=i[l])!==null&&o!==void 0?o:null}function eR(e,t,n,r,o){var i;const l=lk(e),c=ak(t),d=(i=ck(e,o))!==null&&i!==void 0?i:{};d[c]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{o.setItem(l,JSON.stringify(d))}catch(f){console.error(f)}}function gw({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((i,l)=>i+l,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(i=>`${i}%`).join(", ")}`);if(!or(r,100)&&n.length>0)for(let i=0;i<t.length;i++){const l=n[i];dt(l!=null,`No layout data found for index ${i}`);const c=100/r*l;n[i]=c}let o=0;for(let i=0;i<t.length;i++){const l=n[i];dt(l!=null,`No layout data found for index ${i}`);const c=Ws({panelConstraints:t,panelIndex:i,size:l});l!=c&&(o+=l-c,n[i]=c)}if(!or(o,0))for(let i=0;i<t.length;i++){const l=n[i];dt(l!=null,`No layout data found for index ${i}`);const c=l+o,d=Ws({panelConstraints:t,panelIndex:i,size:c});if(l!==d&&(o-=d-l,n[i]=d,or(o,0)))break}return n}const tR=100,_a={getItem:e=>(mw(_a),_a.getItem(e)),setItem:(e,t)=>{mw(_a),_a.setItem(e,t)}},xw={};function uk({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:o,id:i=null,onLayout:l=null,keyboardResizeBy:c=null,storage:d=_a,style:f,tagName:h="div",...p}){const g=ex(i),x=w.useRef(null),[S,v]=w.useState(null),[b,k]=w.useState([]),E=HT(),N=w.useRef({}),_=w.useRef(new Map),I=w.useRef(0),P=w.useRef({autoSaveId:e,direction:r,dragState:S,id:g,keyboardResizeBy:c,onLayout:l,storage:d}),T=w.useRef({layout:b,panelDataArray:[],panelDataArrayChanged:!1});w.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),w.useImperativeHandle(o,()=>({getId:()=>P.current.id,getLayout:()=>{const{layout:R}=T.current;return R},setLayout:R=>{const{onLayout:V}=P.current,{layout:Z,panelDataArray:Q}=T.current,K=gw({layout:R,panelConstraints:Q.map(te=>te.constraints)});hw(Z,K)||(k(K),T.current.layout=K,V&&V(K),Ds(Q,K,N.current))}}),[]),qi(()=>{P.current.autoSaveId=e,P.current.direction=r,P.current.dragState=S,P.current.id=g,P.current.onLayout=l,P.current.storage=d}),YT({committedValuesRef:P,eagerValuesRef:T,groupId:g,layout:b,panelDataArray:T.current.panelDataArray,setLayout:k,panelGroupElement:x.current}),w.useEffect(()=>{const{panelDataArray:R}=T.current;if(e){if(b.length===0||b.length!==R.length)return;let V=xw[e];V==null&&(V=JT(eR,tR),xw[e]=V);const Z=[...R],Q=new Map(_.current);V(e,Z,Q,b,d)}},[e,b,d]),w.useEffect(()=>{});const O=w.useCallback(R=>{const{onLayout:V}=P.current,{layout:Z,panelDataArray:Q}=T.current;if(R.constraints.collapsible){const K=Q.map(le=>le.constraints),{collapsedSize:te=0,panelSize:J,pivotIndices:ie}=Li(Q,R,Z);if(dt(J!=null,`Panel size not found for panel "${R.id}"`),!Co(J,te)){_.current.set(R.id,J);const de=Hs(Q,R)===Q.length-1?J-te:te-J,fe=ja({delta:de,initialLayout:Z,panelConstraints:K,pivotIndices:ie,prevLayout:Z,trigger:"imperative-api"});Uu(Z,fe)||(k(fe),T.current.layout=fe,V&&V(fe),Ds(Q,fe,N.current))}}},[]),U=w.useCallback((R,V)=>{const{onLayout:Z}=P.current,{layout:Q,panelDataArray:K}=T.current;if(R.constraints.collapsible){const te=K.map(ye=>ye.constraints),{collapsedSize:J=0,panelSize:ie=0,minSize:le=0,pivotIndices:de}=Li(K,R,Q),fe=V??le;if(Co(ie,J)){const ye=_.current.get(R.id),Ae=ye!=null&&ye>=fe?ye:fe,nt=Hs(K,R)===K.length-1?ie-Ae:Ae-ie,rt=ja({delta:nt,initialLayout:Q,panelConstraints:te,pivotIndices:de,prevLayout:Q,trigger:"imperative-api"});Uu(Q,rt)||(k(rt),T.current.layout=rt,Z&&Z(rt),Ds(K,rt,N.current))}}},[]),L=w.useCallback(R=>{const{layout:V,panelDataArray:Z}=T.current,{panelSize:Q}=Li(Z,R,V);return dt(Q!=null,`Panel size not found for panel "${R.id}"`),Q},[]),B=w.useCallback((R,V)=>{const{panelDataArray:Z}=T.current,Q=Hs(Z,R);return QT({defaultSize:V,dragState:S,layout:b,panelData:Z,panelIndex:Q})},[S,b]),Y=w.useCallback(R=>{const{layout:V,panelDataArray:Z}=T.current,{collapsedSize:Q=0,collapsible:K,panelSize:te}=Li(Z,R,V);return dt(te!=null,`Panel size not found for panel "${R.id}"`),K===!0&&Co(te,Q)},[]),q=w.useCallback(R=>{const{layout:V,panelDataArray:Z}=T.current,{collapsedSize:Q=0,collapsible:K,panelSize:te}=Li(Z,R,V);return dt(te!=null,`Panel size not found for panel "${R.id}"`),!K||Gi(te,Q)>0},[]),A=w.useCallback(R=>{const{panelDataArray:V}=T.current;V.push(R),V.sort((Z,Q)=>{const K=Z.order,te=Q.order;return K==null&&te==null?0:K==null?-1:te==null?1:K-te}),T.current.panelDataArrayChanged=!0,E()},[E]);qi(()=>{if(T.current.panelDataArrayChanged){T.current.panelDataArrayChanged=!1;const{autoSaveId:R,onLayout:V,storage:Z}=P.current,{layout:Q,panelDataArray:K}=T.current;let te=null;if(R){const ie=ZT(R,K,Z);ie&&(_.current=new Map(Object.entries(ie.expandToSizes)),te=ie.layout)}te==null&&(te=KT({panelDataArray:K}));const J=gw({layout:te,panelConstraints:K.map(ie=>ie.constraints)});hw(Q,J)||(k(J),T.current.layout=J,V&&V(J),Ds(K,J,N.current))}}),qi(()=>{const R=T.current;return()=>{R.layout=[]}},[]);const $=w.useCallback(R=>{let V=!1;const Z=x.current;return Z&&window.getComputedStyle(Z,null).getPropertyValue("direction")==="rtl"&&(V=!0),function(K){K.preventDefault();const te=x.current;if(!te)return()=>null;const{direction:J,dragState:ie,id:le,keyboardResizeBy:de,onLayout:fe}=P.current,{layout:ye,panelDataArray:Ae}=T.current,{initialLayout:Re}=ie??{},nt=ok(le,R,te);let rt=GT(K,R,J,ie,de,te);const Ze=J==="horizontal";Ze&&V&&(rt=-rt);const kt=Ae.map(ht=>ht.constraints),Ce=ja({delta:rt,initialLayout:Re??ye,panelConstraints:kt,pivotIndices:nt,prevLayout:ye,trigger:XS(K)?"keyboard":"mouse-or-touch"}),tt=!Uu(ye,Ce);(GS(K)||KS(K))&&I.current!=rt&&(I.current=rt,!tt&&rt!==0?Ze?tm(R,rt<0?JS:ZS):tm(R,rt<0?ek:tk):tm(R,0)),tt&&(k(Ce),T.current.layout=Ce,fe&&fe(Ce),Ds(Ae,Ce,N.current))}},[]),F=w.useCallback((R,V)=>{const{onLayout:Z}=P.current,{layout:Q,panelDataArray:K}=T.current,te=K.map(ye=>ye.constraints),{panelSize:J,pivotIndices:ie}=Li(K,R,Q);dt(J!=null,`Panel size not found for panel "${R.id}"`);const de=Hs(K,R)===K.length-1?J-V:V-J,fe=ja({delta:de,initialLayout:Q,panelConstraints:te,pivotIndices:ie,prevLayout:Q,trigger:"imperative-api"});Uu(Q,fe)||(k(fe),T.current.layout=fe,Z&&Z(fe),Ds(K,fe,N.current))},[]),G=w.useCallback((R,V)=>{const{layout:Z,panelDataArray:Q}=T.current,{collapsedSize:K=0,collapsible:te}=V,{collapsedSize:J=0,collapsible:ie,maxSize:le=100,minSize:de=0}=R.constraints,{panelSize:fe}=Li(Q,R,Z);fe!=null&&(te&&ie&&Co(fe,K)?Co(K,J)||F(R,J):fe<de?F(R,de):fe>le&&F(R,le))},[F]),D=w.useCallback((R,V)=>{const{direction:Z}=P.current,{layout:Q}=T.current;if(!x.current)return;const K=ff(R,x.current);dt(K,`Drag handle element not found for id "${R}"`);const te=sk(Z,V);v({dragHandleId:R,dragHandleRect:K.getBoundingClientRect(),initialCursorPosition:te,initialLayout:Q})},[]),W=w.useCallback(()=>{v(null)},[]),M=w.useCallback(R=>{const{panelDataArray:V}=T.current,Z=Hs(V,R);Z>=0&&(V.splice(Z,1),delete N.current[R.id],T.current.panelDataArrayChanged=!0,E())},[E]),H=w.useMemo(()=>({collapsePanel:O,direction:r,dragState:S,expandPanel:U,getPanelSize:L,getPanelStyle:B,groupId:g,isPanelCollapsed:Y,isPanelExpanded:q,reevaluatePanelConstraints:G,registerPanel:A,registerResizeHandle:$,resizePanel:F,startDragging:D,stopDragging:W,unregisterPanel:M,panelGroupElement:x.current}),[O,S,r,U,L,B,g,Y,q,G,A,$,F,D,W,M]),X={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return w.createElement(cf.Provider,{value:H},w.createElement(h,{...p,children:t,className:n,id:i,ref:x,style:{...X,...f},[Xt.group]:"",[Xt.groupDirection]:r,[Xt.groupId]:g}))}const dk=w.forwardRef((e,t)=>w.createElement(uk,{...e,forwardedRef:t}));uk.displayName="PanelGroup";dk.displayName="forwardRef(PanelGroup)";function Hs(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function Li(e,t,n){const r=Hs(e,t),i=r===e.length-1?[r-1,r]:[r,r+1],l=n[r];return{...t.constraints,panelSize:l,pivotIndices:i}}function nR({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){w.useEffect(()=>{if(e||n==null||r==null)return;const o=ff(t,r);if(o==null)return;const i=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),n(l);break}case"F6":{l.preventDefault();const c=o.getAttribute(Xt.groupId);dt(c,`No group element found for id "${c}"`);const d=Ka(c,r),f=rk(c,t,r);dt(f!==null,`No resize element found for id "${t}"`);const h=l.shiftKey?f>0?f-1:d.length-1:f+1<d.length?f+1:0;d[h].focus();break}}};return o.addEventListener("keydown",i),()=>{o.removeEventListener("keydown",i)}},[r,e,t,n])}function fk({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:o,onBlur:i,onClick:l,onDragging:c,onFocus:d,onPointerDown:f,onPointerUp:h,style:p={},tabIndex:g=0,tagName:x="div",...S}){var v,b;const k=w.useRef(null),E=w.useRef({onClick:l,onDragging:c,onPointerDown:f,onPointerUp:h});w.useEffect(()=>{E.current.onClick=l,E.current.onDragging=c,E.current.onPointerDown=f,E.current.onPointerUp=h});const N=w.useContext(cf);if(N===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:_,groupId:I,registerResizeHandle:P,startDragging:T,stopDragging:O,panelGroupElement:U}=N,L=ex(o),[B,Y]=w.useState("inactive"),[q,A]=w.useState(!1),[$,F]=w.useState(null),G=w.useRef({state:B});qi(()=>{G.current.state=B}),w.useEffect(()=>{if(n)F(null);else{const H=P(L);F(()=>H)}},[n,L,P]);const D=(v=r==null?void 0:r.coarse)!==null&&v!==void 0?v:15,W=(b=r==null?void 0:r.fine)!==null&&b!==void 0?b:5;w.useEffect(()=>{if(n||$==null)return;const H=k.current;dt(H,"Element ref not attached");let X=!1;return BT(L,H,_,{coarse:D,fine:W},(V,Z,Q)=>{if(!Z){Y("inactive");return}switch(V){case"down":{Y("drag"),X=!1,dt(Q,'Expected event to be defined for "down" action'),T(L,Q);const{onDragging:K,onPointerDown:te}=E.current;K==null||K(!0),te==null||te();break}case"move":{const{state:K}=G.current;X=!0,K!=="drag"&&Y("hover"),dt(Q,'Expected event to be defined for "move" action'),$(Q);break}case"up":{Y("hover"),O();const{onClick:K,onDragging:te,onPointerUp:J}=E.current;te==null||te(!1),J==null||J(),X||K==null||K();break}}})},[D,_,n,W,P,L,$,T,O]),nR({disabled:n,handleId:L,resizeHandler:$,panelGroupElement:U});const M={touchAction:"none",userSelect:"none"};return w.createElement(x,{...S,children:e,className:t,id:o,onBlur:()=>{A(!1),i==null||i()},onFocus:()=>{A(!0),d==null||d()},ref:k,role:"separator",style:{...M,...p},tabIndex:g,[Xt.groupDirection]:_,[Xt.groupId]:I,[Xt.resizeHandle]:"",[Xt.resizeHandleActive]:B==="drag"?"pointer":q?"keyboard":void 0,[Xt.resizeHandleEnabled]:!n,[Xt.resizeHandleId]:L,[Xt.resizeHandleState]:B})}fk.displayName="PanelResizeHandle";function pk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=pk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function hk(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=pk(e))&&(r&&(r+=" "),r+=t);return r}const rR=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},oR=(e,t)=>({classGroupId:e,validator:t}),mk=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Td="-",yw=[],iR="arbitrary..",sR=e=>{const t=aR(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return lR(l);const c=l.split(Td),d=c[0]===""&&c.length>1?1:0;return gk(c,d,t)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=n[l];return d?f?rR(f,d):d:f||yw}return n[l]||yw}}},gk=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const o=e[t],i=n.nextPart.get(o);if(i){const f=gk(e,t+1,i);if(f)return f}const l=n.validators;if(l===null)return;const c=t===0?e.join(Td):e.slice(t).join(Td),d=l.length;for(let f=0;f<d;f++){const h=l[f];if(h.validator(c))return h.classGroupId}},lR=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?iR+r:void 0})(),aR=e=>{const{theme:t,classGroups:n}=e;return cR(n,t)},cR=(e,t)=>{const n=mk();for(const r in e){const o=e[r];rx(o,n,r,t)}return n},rx=(e,t,n,r)=>{const o=e.length;for(let i=0;i<o;i++){const l=e[i];uR(l,t,n,r)}},uR=(e,t,n,r)=>{if(typeof e=="string"){dR(e,t,n);return}if(typeof e=="function"){fR(e,t,n,r);return}pR(e,t,n,r)},dR=(e,t,n)=>{const r=e===""?t:xk(t,e);r.classGroupId=n},fR=(e,t,n,r)=>{if(hR(e)){rx(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(oR(n,e))},pR=(e,t,n,r)=>{const o=Object.entries(e),i=o.length;for(let l=0;l<i;l++){const[c,d]=o[l];rx(d,xk(t,c),n,r)}},xk=(e,t)=>{let n=e;const r=t.split(Td),o=r.length;for(let i=0;i<o;i++){const l=r[i];let c=n.nextPart.get(l);c||(c=mk(),n.nextPart.set(l,c)),n=c}return n},hR=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,mR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const o=(i,l)=>{n[i]=l,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(i){let l=n[i];if(l!==void 0)return l;if((l=r[i])!==void 0)return o(i,l),l},set(i,l){i in n?n[i]=l:o(i,l)}}},Zm="!",vw=":",gR=[],ww=(e,t,n,r,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),xR=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const i=[];let l=0,c=0,d=0,f;const h=o.length;for(let v=0;v<h;v++){const b=o[v];if(l===0&&c===0){if(b===vw){i.push(o.slice(d,v)),d=v+1;continue}if(b==="/"){f=v;continue}}b==="["?l++:b==="]"?l--:b==="("?c++:b===")"&&c--}const p=i.length===0?o:o.slice(d);let g=p,x=!1;p.endsWith(Zm)?(g=p.slice(0,-1),x=!0):p.startsWith(Zm)&&(g=p.slice(1),x=!0);const S=f&&f>d?f-d:void 0;return ww(i,x,g,S)};if(t){const o=t+vw,i=r;r=l=>l.startsWith(o)?i(l.slice(o.length)):ww(gR,!1,l,void 0,!0)}if(n){const o=r;r=i=>n({className:i,parseClassName:o})}return r},yR=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let o=[];for(let i=0;i<n.length;i++){const l=n[i],c=l[0]==="[",d=t.has(l);c||d?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(l)):o.push(l)}return o.length>0&&(o.sort(),r.push(...o)),r}},vR=e=>({cache:mR(e.cacheSize),parseClassName:xR(e),sortModifiers:yR(e),...sR(e)}),wR=/\s+/,bR=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:i}=t,l=[],c=e.trim().split(wR);let d="";for(let f=c.length-1;f>=0;f-=1){const h=c[f],{isExternal:p,modifiers:g,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:v}=n(h);if(p){d=h+(d.length>0?" "+d:d);continue}let b=!!v,k=r(b?S.substring(0,v):S);if(!k){if(!b){d=h+(d.length>0?" "+d:d);continue}if(k=r(S),!k){d=h+(d.length>0?" "+d:d);continue}b=!1}const E=g.length===0?"":g.length===1?g[0]:i(g).join(":"),N=x?E+Zm:E,_=N+k;if(l.indexOf(_)>-1)continue;l.push(_);const I=o(k,b);for(let P=0;P<I.length;++P){const T=I[P];l.push(N+T)}d=h+(d.length>0?" "+d:d)}return d},SR=(...e)=>{let t=0,n,r,o="";for(;t<e.length;)(n=e[t++])&&(r=yk(n))&&(o&&(o+=" "),o+=r);return o},yk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=yk(e[r]))&&(n&&(n+=" "),n+=t);return n},kR=(e,...t)=>{let n,r,o,i;const l=d=>{const f=t.reduce((h,p)=>p(h),e());return n=vR(f),r=n.cache.get,o=n.cache.set,i=c,c(d)},c=d=>{const f=r(d);if(f)return f;const h=bR(d,n);return o(d,h),h};return i=l,(...d)=>i(SR(...d))},CR=[],sn=e=>{const t=n=>n[e]||CR;return t.isThemeGetter=!0,t},vk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,NR=/^\d+\/\d+$/,ER=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_R=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,PR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Os=e=>NR.test(e),pt=e=>!!e&&!Number.isNaN(Number(e)),Jo=e=>!!e&&Number.isInteger(Number(e)),rm=e=>e.endsWith("%")&&pt(e.slice(0,-1)),wo=e=>ER.test(e),IR=()=>!0,TR=e=>jR.test(e)&&!_R.test(e),bk=()=>!1,RR=e=>PR.test(e),MR=e=>AR.test(e),DR=e=>!ze(e)&&!$e(e),OR=e=>gl(e,Ck,bk),ze=e=>vk.test(e),zi=e=>gl(e,Nk,TR),om=e=>gl(e,BR,pt),bw=e=>gl(e,Sk,bk),LR=e=>gl(e,kk,MR),Wu=e=>gl(e,Ek,RR),$e=e=>wk.test(e),pa=e=>xl(e,Nk),zR=e=>xl(e,VR),Sw=e=>xl(e,Sk),$R=e=>xl(e,Ck),FR=e=>xl(e,kk),qu=e=>xl(e,Ek,!0),gl=(e,t,n)=>{const r=vk.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},xl=(e,t,n=!1)=>{const r=wk.exec(e);return r?r[1]?t(r[1]):n:!1},Sk=e=>e==="position"||e==="percentage",kk=e=>e==="image"||e==="url",Ck=e=>e==="length"||e==="size"||e==="bg-size",Nk=e=>e==="length",BR=e=>e==="number",VR=e=>e==="family-name",Ek=e=>e==="shadow",HR=()=>{const e=sn("color"),t=sn("font"),n=sn("text"),r=sn("font-weight"),o=sn("tracking"),i=sn("leading"),l=sn("breakpoint"),c=sn("container"),d=sn("spacing"),f=sn("radius"),h=sn("shadow"),p=sn("inset-shadow"),g=sn("text-shadow"),x=sn("drop-shadow"),S=sn("blur"),v=sn("perspective"),b=sn("aspect"),k=sn("ease"),E=sn("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[..._(),$e,ze],P=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],O=()=>[$e,ze,d],U=()=>[Os,"full","auto",...O()],L=()=>[Jo,"none","subgrid",$e,ze],B=()=>["auto",{span:["full",Jo,$e,ze]},Jo,$e,ze],Y=()=>[Jo,"auto",$e,ze],q=()=>["auto","min","max","fr",$e,ze],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...O()],G=()=>[Os,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],D=()=>[e,$e,ze],W=()=>[..._(),Sw,bw,{position:[$e,ze]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",$R,OR,{size:[$e,ze]}],X=()=>[rm,pa,zi],R=()=>["","none","full",f,$e,ze],V=()=>["",pt,pa,zi],Z=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[pt,rm,Sw,bw],te=()=>["","none",S,$e,ze],J=()=>["none",pt,$e,ze],ie=()=>["none",pt,$e,ze],le=()=>[pt,$e,ze],de=()=>[Os,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wo],breakpoint:[wo],color:[IR],container:[wo],"drop-shadow":[wo],ease:["in","out","in-out"],font:[DR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wo],shadow:[wo],spacing:["px",pt],text:[wo],"text-shadow":[wo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Os,ze,$e,b]}],container:["container"],columns:[{columns:[pt,ze,$e,c]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[Jo,"auto",$e,ze]}],basis:[{basis:[Os,"full","auto",c,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pt,Os,"auto","initial","none",ze]}],grow:[{grow:["",pt,$e,ze]}],shrink:[{shrink:["",pt,$e,ze]}],order:[{order:[Jo,"first","last","none",$e,ze]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[c,"screen",...G()]}],"min-w":[{"min-w":[c,"screen","none",...G()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,pa,zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,$e,om]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",rm,ze]}],"font-family":[{font:[zR,ze,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,$e,ze]}],"line-clamp":[{"line-clamp":[pt,"none",$e,om]}],leading:[{leading:[i,...O()]}],"list-image":[{"list-image":["none",$e,ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",$e,ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[pt,"from-font","auto",$e,zi]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[pt,"auto",$e,ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e,ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e,ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Jo,$e,ze],radial:["",$e,ze],conic:[Jo,$e,ze]},FR,LR]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pt,$e,ze]}],"outline-w":[{outline:["",pt,pa,zi]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",h,qu,Wu]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",p,qu,Wu]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[pt,zi]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",g,qu,Wu]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[pt,$e,ze]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[$e,ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",$e,ze]}],filter:[{filter:["","none",$e,ze]}],blur:[{blur:te()}],brightness:[{brightness:[pt,$e,ze]}],contrast:[{contrast:[pt,$e,ze]}],"drop-shadow":[{"drop-shadow":["","none",x,qu,Wu]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",pt,$e,ze]}],"hue-rotate":[{"hue-rotate":[pt,$e,ze]}],invert:[{invert:["",pt,$e,ze]}],saturate:[{saturate:[pt,$e,ze]}],sepia:[{sepia:["",pt,$e,ze]}],"backdrop-filter":[{"backdrop-filter":["","none",$e,ze]}],"backdrop-blur":[{"backdrop-blur":te()}],"backdrop-brightness":[{"backdrop-brightness":[pt,$e,ze]}],"backdrop-contrast":[{"backdrop-contrast":[pt,$e,ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pt,$e,ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pt,$e,ze]}],"backdrop-invert":[{"backdrop-invert":["",pt,$e,ze]}],"backdrop-opacity":[{"backdrop-opacity":[pt,$e,ze]}],"backdrop-saturate":[{"backdrop-saturate":[pt,$e,ze]}],"backdrop-sepia":[{"backdrop-sepia":["",pt,$e,ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",$e,ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pt,"initial",$e,ze]}],ease:[{ease:["linear","initial",k,$e,ze]}],delay:[{delay:[pt,$e,ze]}],animate:[{animate:["none",E,$e,ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,$e,ze]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:ie()}],"scale-x":[{"scale-x":ie()}],"scale-y":[{"scale-y":ie()}],"scale-z":[{"scale-z":ie()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[$e,ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e,ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e,ze]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[pt,pa,zi,om]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},UR=kR(HR);function Xe(...e){return UR(hk(e))}function kw({className:e,...t}){return u.jsx(dk,{"data-slot":"resizable-panel-group",className:Xe("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function La({...e}){return u.jsx(YS,{"data-slot":"resizable-panel",...e})}function Cw({withHandle:e,className:t,...n}){return u.jsx(fk,{"data-slot":"resizable-handle",className:Xe("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&u.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:u.jsx(Ea,{className:"size-2.5"})})})}const Nw=e=>{let t;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const g=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,g))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,o,c);return c},jk=e=>e?Nw(e):Nw,WR=e=>e;function qR(e,t=WR){const n=qe.useSyncExternalStore(e.subscribe,qe.useCallback(()=>t(e.getState()),[e,t]),qe.useCallback(()=>t(e.getInitialState()),[e,t]));return qe.useDebugValue(n),n}const Ew=e=>{const t=jk(e),n=r=>qR(t,r);return Object.assign(n,t),n},YR=e=>e?Ew(e):Ew;var jw=(e,t,n)=>(o,i)=>({pastStates:(n==null?void 0:n.pastStates)||[],futureStates:(n==null?void 0:n.futureStates)||[],undo:(l=1)=>{var c,d;if(i().pastStates.length){const f=((c=n==null?void 0:n.partialize)==null?void 0:c.call(n,t()))||t(),h=i().pastStates.splice(-l,l),p=h.shift();e(p),o({pastStates:i().pastStates,futureStates:i().futureStates.concat(((d=n==null?void 0:n.diff)==null?void 0:d.call(n,f,p))||f,h.reverse())})}},redo:(l=1)=>{var c,d;if(i().futureStates.length){const f=((c=n==null?void 0:n.partialize)==null?void 0:c.call(n,t()))||t(),h=i().futureStates.splice(-l,l),p=h.shift();e(p),o({pastStates:i().pastStates.concat(((d=n==null?void 0:n.diff)==null?void 0:d.call(n,f,p))||f,h.reverse()),futureStates:i().futureStates})}},clear:()=>o({pastStates:[],futureStates:[]}),isTracking:!0,pause:()=>o({isTracking:!1}),resume:()=>o({isTracking:!0}),setOnSave:l=>o({_onSave:l}),_onSave:n==null?void 0:n.onSave,_handleSet:(l,c,d,f)=>{var h,p;n!=null&&n.limit&&i().pastStates.length>=(n==null?void 0:n.limit)&&i().pastStates.shift(),(p=(h=i())._onSave)==null||p.call(h,l,d),o({pastStates:i().pastStates.concat(f||l),futureStates:[]})}}),XR=(e,t)=>(r,o,i)=>{var f,h;i.temporal=jk(((f=t==null?void 0:t.wrapTemporal)==null?void 0:f.call(t,jw(r,o,t)))||jw(r,o,t));const l=((h=t==null?void 0:t.handleSet)==null?void 0:h.call(t,i.temporal.getState()._handleSet))||i.temporal.getState()._handleSet,c=p=>{var S,v,b;if(!i.temporal.getState().isTracking)return;const g=((S=t==null?void 0:t.partialize)==null?void 0:S.call(t,o()))||o(),x=(v=t==null?void 0:t.diff)==null?void 0:v.call(t,p,g);x===null||(b=t==null?void 0:t.equality)!=null&&b.call(t,p,g)||l(p,void 0,g,x)},d=i.setState;return i.setState=(...p)=>{var x;const g=((x=t==null?void 0:t.partialize)==null?void 0:x.call(t,o()))||o();d(...p),c(g)},e((...p)=>{var x;const g=((x=t==null?void 0:t.partialize)==null?void 0:x.call(t,o()))||o();r(...p),c(g)},o,i)};const Cn=[];for(let e=0;e<256;++e)Cn.push((e+256).toString(16).slice(1));function GR(e,t=0){return(Cn[e[t+0]]+Cn[e[t+1]]+Cn[e[t+2]]+Cn[e[t+3]]+"-"+Cn[e[t+4]]+Cn[e[t+5]]+"-"+Cn[e[t+6]]+Cn[e[t+7]]+"-"+Cn[e[t+8]]+Cn[e[t+9]]+"-"+Cn[e[t+10]]+Cn[e[t+11]]+Cn[e[t+12]]+Cn[e[t+13]]+Cn[e[t+14]]+Cn[e[t+15]]).toLowerCase()}let im;const KR=new Uint8Array(16);function QR(){if(!im){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");im=crypto.getRandomValues.bind(crypto)}return im(KR)}const JR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_w={randomUUID:JR};function ZR(e,t,n){var o;e=e||{};const r=e.random??((o=e.rng)==null?void 0:o.call(e))??QR();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,GR(r)}function it(e,t,n){return _w.randomUUID?_w.randomUUID():ZR(e)}function nn(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=nn(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var eM={value:()=>{}};function pf(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new xd(n)}function xd(e){this._=e}function tM(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}xd.prototype=pf.prototype={constructor:xd,on:function(e,t){var n=this._,r=tM(e+"",n),o,i=-1,l=r.length;if(arguments.length<2){for(;++i<l;)if((o=(e=r[i]).type)&&(o=nM(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<l;)if(o=(e=r[i]).type)n[o]=Pw(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Pw(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new xd(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function nM(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Pw(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=eM,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var eg="http://www.w3.org/1999/xhtml";const Aw={svg:"http://www.w3.org/2000/svg",xhtml:eg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hf(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Aw.hasOwnProperty(t)?{space:Aw[t],local:e}:e}function rM(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===eg&&t.documentElement.namespaceURI===eg?t.createElement(e):t.createElementNS(n,e)}}function oM(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function _k(e){var t=hf(e);return(t.local?oM:rM)(t)}function iM(){}function ox(e){return e==null?iM:function(){return this.querySelector(e)}}function sM(e){typeof e!="function"&&(e=ox(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],l=i.length,c=r[o]=new Array(l),d,f,h=0;h<l;++h)(d=i[h])&&(f=e.call(d,d.__data__,h,i))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f);return new dr(r,this._parents)}function lM(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function aM(){return[]}function Pk(e){return e==null?aM:function(){return this.querySelectorAll(e)}}function cM(e){return function(){return lM(e.apply(this,arguments))}}function uM(e){typeof e=="function"?e=cM(e):e=Pk(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var l=t[i],c=l.length,d,f=0;f<c;++f)(d=l[f])&&(r.push(e.call(d,d.__data__,f,l)),o.push(d));return new dr(r,o)}function Ak(e){return function(){return this.matches(e)}}function Ik(e){return function(t){return t.matches(e)}}var dM=Array.prototype.find;function fM(e){return function(){return dM.call(this.children,e)}}function pM(){return this.firstElementChild}function hM(e){return this.select(e==null?pM:fM(typeof e=="function"?e:Ik(e)))}var mM=Array.prototype.filter;function gM(){return Array.from(this.children)}function xM(e){return function(){return mM.call(this.children,e)}}function yM(e){return this.selectAll(e==null?gM:xM(typeof e=="function"?e:Ik(e)))}function vM(e){typeof e!="function"&&(e=Ak(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],l=i.length,c=r[o]=[],d,f=0;f<l;++f)(d=i[f])&&e.call(d,d.__data__,f,i)&&c.push(d);return new dr(r,this._parents)}function Tk(e){return new Array(e.length)}function wM(){return new dr(this._enter||this._groups.map(Tk),this._parents)}function Rd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Rd.prototype={constructor:Rd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function bM(e){return function(){return e}}function SM(e,t,n,r,o,i){for(var l=0,c,d=t.length,f=i.length;l<f;++l)(c=t[l])?(c.__data__=i[l],r[l]=c):n[l]=new Rd(e,i[l]);for(;l<d;++l)(c=t[l])&&(o[l]=c)}function kM(e,t,n,r,o,i,l){var c,d,f=new Map,h=t.length,p=i.length,g=new Array(h),x;for(c=0;c<h;++c)(d=t[c])&&(g[c]=x=l.call(d,d.__data__,c,t)+"",f.has(x)?o[c]=d:f.set(x,d));for(c=0;c<p;++c)x=l.call(e,i[c],c,i)+"",(d=f.get(x))?(r[c]=d,d.__data__=i[c],f.delete(x)):n[c]=new Rd(e,i[c]);for(c=0;c<h;++c)(d=t[c])&&f.get(g[c])===d&&(o[c]=d)}function CM(e){return e.__data__}function NM(e,t){if(!arguments.length)return Array.from(this,CM);var n=t?kM:SM,r=this._parents,o=this._groups;typeof e!="function"&&(e=bM(e));for(var i=o.length,l=new Array(i),c=new Array(i),d=new Array(i),f=0;f<i;++f){var h=r[f],p=o[f],g=p.length,x=EM(e.call(h,h&&h.__data__,f,r)),S=x.length,v=c[f]=new Array(S),b=l[f]=new Array(S),k=d[f]=new Array(g);n(h,p,v,b,k,x,t);for(var E=0,N=0,_,I;E<S;++E)if(_=v[E]){for(E>=N&&(N=E+1);!(I=b[N])&&++N<S;);_._next=I||null}}return l=new dr(l,r),l._enter=c,l._exit=d,l}function EM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jM(){return new dr(this._exit||this._groups.map(Tk),this._parents)}function _M(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function PM(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,l=Math.min(o,i),c=new Array(o),d=0;d<l;++d)for(var f=n[d],h=r[d],p=f.length,g=c[d]=new Array(p),x,S=0;S<p;++S)(x=f[S]||h[S])&&(g[S]=x);for(;d<o;++d)c[d]=n[d];return new dr(c,this._parents)}function AM(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],l;--o>=0;)(l=r[o])&&(i&&l.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(l,i),i=l);return this}function IM(e){e||(e=TM);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var l=n[i],c=l.length,d=o[i]=new Array(c),f,h=0;h<c;++h)(f=l[h])&&(d[h]=f);d.sort(t)}return new dr(o,this._parents).order()}function TM(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function RM(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function MM(){return Array.from(this)}function DM(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var l=r[o];if(l)return l}return null}function OM(){let e=0;for(const t of this)++e;return e}function LM(){return!this.node()}function zM(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,l=o.length,c;i<l;++i)(c=o[i])&&e.call(c,c.__data__,i,o);return this}function $M(e){return function(){this.removeAttribute(e)}}function FM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function BM(e,t){return function(){this.setAttribute(e,t)}}function VM(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function HM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function UM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function WM(e,t){var n=hf(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?FM:$M:typeof t=="function"?n.local?UM:HM:n.local?VM:BM)(n,t))}function Rk(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function qM(e){return function(){this.style.removeProperty(e)}}function YM(e,t,n){return function(){this.style.setProperty(e,t,n)}}function XM(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function GM(e,t,n){return arguments.length>1?this.each((t==null?qM:typeof t=="function"?XM:YM)(e,t,n??"")):ol(this.node(),e)}function ol(e,t){return e.style.getPropertyValue(t)||Rk(e).getComputedStyle(e,null).getPropertyValue(t)}function KM(e){return function(){delete this[e]}}function QM(e,t){return function(){this[e]=t}}function JM(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ZM(e,t){return arguments.length>1?this.each((t==null?KM:typeof t=="function"?JM:QM)(e,t)):this.node()[e]}function Mk(e){return e.trim().split(/^|\s+/)}function ix(e){return e.classList||new Dk(e)}function Dk(e){this._node=e,this._names=Mk(e.getAttribute("class")||"")}Dk.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ok(e,t){for(var n=ix(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Lk(e,t){for(var n=ix(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function eD(e){return function(){Ok(this,e)}}function tD(e){return function(){Lk(this,e)}}function nD(e,t){return function(){(t.apply(this,arguments)?Ok:Lk)(this,e)}}function rD(e,t){var n=Mk(e+"");if(arguments.length<2){for(var r=ix(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?nD:t?eD:tD)(n,t))}function oD(){this.textContent=""}function iD(e){return function(){this.textContent=e}}function sD(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function lD(e){return arguments.length?this.each(e==null?oD:(typeof e=="function"?sD:iD)(e)):this.node().textContent}function aD(){this.innerHTML=""}function cD(e){return function(){this.innerHTML=e}}function uD(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function dD(e){return arguments.length?this.each(e==null?aD:(typeof e=="function"?uD:cD)(e)):this.node().innerHTML}function fD(){this.nextSibling&&this.parentNode.appendChild(this)}function pD(){return this.each(fD)}function hD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mD(){return this.each(hD)}function gD(e){var t=typeof e=="function"?e:_k(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function xD(){return null}function yD(e,t){var n=typeof e=="function"?e:_k(e),r=t==null?xD:typeof t=="function"?t:ox(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function vD(){var e=this.parentNode;e&&e.removeChild(this)}function wD(){return this.each(vD)}function bD(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function SD(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kD(e){return this.select(e?SD:bD)}function CD(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ND(e){return function(t){e.call(this,t,this.__data__)}}function ED(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function jD(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function _D(e,t,n){return function(){var r=this.__on,o,i=ND(t);if(r){for(var l=0,c=r.length;l<c;++l)if((o=r[l]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function PD(e,t,n){var r=ED(e+""),o,i=r.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var d=0,f=c.length,h;d<f;++d)for(o=0,h=c[d];o<i;++o)if((l=r[o]).type===h.type&&l.name===h.name)return h.value}return}for(c=t?_D:jD,o=0;o<i;++o)this.each(c(r[o],t,n));return this}function zk(e,t,n){var r=Rk(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function AD(e,t){return function(){return zk(this,e,t)}}function ID(e,t){return function(){return zk(this,e,t.apply(this,arguments))}}function TD(e,t){return this.each((typeof t=="function"?ID:AD)(e,t))}function*RD(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,l;o<i;++o)(l=r[o])&&(yield l)}var $k=[null];function dr(e,t){this._groups=e,this._parents=t}function gc(){return new dr([[document.documentElement]],$k)}function MD(){return this}dr.prototype=gc.prototype={constructor:dr,select:sM,selectAll:uM,selectChild:hM,selectChildren:yM,filter:vM,data:NM,enter:wM,exit:jM,join:_M,merge:PM,selection:MD,order:AM,sort:IM,call:RM,nodes:MM,node:DM,size:OM,empty:LM,each:zM,attr:WM,style:GM,property:ZM,classed:rD,text:lD,html:dD,raise:pD,lower:mD,append:gD,insert:yD,remove:wD,clone:kD,datum:CD,on:PD,dispatch:TD,[Symbol.iterator]:RD};function ar(e){return typeof e=="string"?new dr([[document.querySelector(e)]],[document.documentElement]):new dr([[e]],$k)}function DD(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ir(e,t){if(e=DD(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const OD={passive:!1},Qa={capture:!0,passive:!1};function sm(e){e.stopImmediatePropagation()}function Ks(e){e.preventDefault(),e.stopImmediatePropagation()}function Fk(e){var t=e.document.documentElement,n=ar(e).on("dragstart.drag",Ks,Qa);"onselectstart"in t?n.on("selectstart.drag",Ks,Qa):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Bk(e,t){var n=e.document.documentElement,r=ar(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ks,Qa),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Yu=e=>()=>e;function tg(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:l,y:c,dx:d,dy:f,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:h}})}tg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function LD(e){return!e.ctrlKey&&!e.button}function zD(){return this.parentNode}function $D(e,t){return t??{x:e.x,y:e.y}}function FD(){return navigator.maxTouchPoints||"ontouchstart"in this}function Vk(){var e=LD,t=zD,n=$D,r=FD,o={},i=pf("start","drag","end"),l=0,c,d,f,h,p=0;function g(_){_.on("mousedown.drag",x).filter(r).on("touchstart.drag",b).on("touchmove.drag",k,OD).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(_,I){if(!(h||!e.call(this,_,I))){var P=N(this,t.call(this,_,I),_,I,"mouse");P&&(ar(_.view).on("mousemove.drag",S,Qa).on("mouseup.drag",v,Qa),Fk(_.view),sm(_),f=!1,c=_.clientX,d=_.clientY,P("start",_))}}function S(_){if(Ks(_),!f){var I=_.clientX-c,P=_.clientY-d;f=I*I+P*P>p}o.mouse("drag",_)}function v(_){ar(_.view).on("mousemove.drag mouseup.drag",null),Bk(_.view,f),Ks(_),o.mouse("end",_)}function b(_,I){if(e.call(this,_,I)){var P=_.changedTouches,T=t.call(this,_,I),O=P.length,U,L;for(U=0;U<O;++U)(L=N(this,T,_,I,P[U].identifier,P[U]))&&(sm(_),L("start",_,P[U]))}}function k(_){var I=_.changedTouches,P=I.length,T,O;for(T=0;T<P;++T)(O=o[I[T].identifier])&&(Ks(_),O("drag",_,I[T]))}function E(_){var I=_.changedTouches,P=I.length,T,O;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),T=0;T<P;++T)(O=o[I[T].identifier])&&(sm(_),O("end",_,I[T]))}function N(_,I,P,T,O,U){var L=i.copy(),B=Ir(U||P,I),Y,q,A;if((A=n.call(_,new tg("beforestart",{sourceEvent:P,target:g,identifier:O,active:l,x:B[0],y:B[1],dx:0,dy:0,dispatch:L}),T))!=null)return Y=A.x-B[0]||0,q=A.y-B[1]||0,function $(F,G,D){var W=B,M;switch(F){case"start":o[O]=$,M=l++;break;case"end":delete o[O],--l;case"drag":B=Ir(D||G,I),M=l;break}L.call(F,_,new tg(F,{sourceEvent:G,subject:A,target:g,identifier:O,active:M,x:B[0]+Y,y:B[1]+q,dx:B[0]-W[0],dy:B[1]-W[1],dispatch:L}),T)}}return g.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Yu(!!_),g):e},g.container=function(_){return arguments.length?(t=typeof _=="function"?_:Yu(_),g):t},g.subject=function(_){return arguments.length?(n=typeof _=="function"?_:Yu(_),g):n},g.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:Yu(!!_),g):r},g.on=function(){var _=i.on.apply(i,arguments);return _===i?g:_},g.clickDistance=function(_){return arguments.length?(p=(_=+_)*_,g):Math.sqrt(p)},g}function sx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Hk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function xc(){}var Ja=.7,Md=1/Ja,Qs="\\s*([+-]?\\d+)\\s*",Za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",to="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BD=/^#([0-9a-f]{3,8})$/,VD=new RegExp(`^rgb\\(${Qs},${Qs},${Qs}\\)$`),HD=new RegExp(`^rgb\\(${to},${to},${to}\\)$`),UD=new RegExp(`^rgba\\(${Qs},${Qs},${Qs},${Za}\\)$`),WD=new RegExp(`^rgba\\(${to},${to},${to},${Za}\\)$`),qD=new RegExp(`^hsl\\(${Za},${to},${to}\\)$`),YD=new RegExp(`^hsla\\(${Za},${to},${to},${Za}\\)$`),Iw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sx(xc,Ki,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Tw,formatHex:Tw,formatHex8:XD,formatHsl:GD,formatRgb:Rw,toString:Rw});function Tw(){return this.rgb().formatHex()}function XD(){return this.rgb().formatHex8()}function GD(){return Uk(this).formatHsl()}function Rw(){return this.rgb().formatRgb()}function Ki(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=BD.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Mw(t):n===3?new Kn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Xu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Xu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=VD.exec(e))?new Kn(t[1],t[2],t[3],1):(t=HD.exec(e))?new Kn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=UD.exec(e))?Xu(t[1],t[2],t[3],t[4]):(t=WD.exec(e))?Xu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qD.exec(e))?Lw(t[1],t[2]/100,t[3]/100,1):(t=YD.exec(e))?Lw(t[1],t[2]/100,t[3]/100,t[4]):Iw.hasOwnProperty(e)?Mw(Iw[e]):e==="transparent"?new Kn(NaN,NaN,NaN,0):null}function Mw(e){return new Kn(e>>16&255,e>>8&255,e&255,1)}function Xu(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kn(e,t,n,r)}function KD(e){return e instanceof xc||(e=Ki(e)),e?(e=e.rgb(),new Kn(e.r,e.g,e.b,e.opacity)):new Kn}function ng(e,t,n,r){return arguments.length===1?KD(e):new Kn(e,t,n,r??1)}function Kn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}sx(Kn,ng,Hk(xc,{brighter(e){return e=e==null?Md:Math.pow(Md,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ja:Math.pow(Ja,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kn(Yi(this.r),Yi(this.g),Yi(this.b),Dd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dw,formatHex:Dw,formatHex8:QD,formatRgb:Ow,toString:Ow}));function Dw(){return`#${Ui(this.r)}${Ui(this.g)}${Ui(this.b)}`}function QD(){return`#${Ui(this.r)}${Ui(this.g)}${Ui(this.b)}${Ui((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ow(){const e=Dd(this.opacity);return`${e===1?"rgb(":"rgba("}${Yi(this.r)}, ${Yi(this.g)}, ${Yi(this.b)}${e===1?")":`, ${e})`}`}function Dd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ui(e){return e=Yi(e),(e<16?"0":"")+e.toString(16)}function Lw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Tr(e,t,n,r)}function Uk(e){if(e instanceof Tr)return new Tr(e.h,e.s,e.l,e.opacity);if(e instanceof xc||(e=Ki(e)),!e)return new Tr;if(e instanceof Tr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),l=NaN,c=i-o,d=(i+o)/2;return c?(t===i?l=(n-r)/c+(n<r)*6:n===i?l=(r-t)/c+2:l=(t-n)/c+4,c/=d<.5?i+o:2-i-o,l*=60):c=d>0&&d<1?0:l,new Tr(l,c,d,e.opacity)}function JD(e,t,n,r){return arguments.length===1?Uk(e):new Tr(e,t,n,r??1)}function Tr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}sx(Tr,JD,Hk(xc,{brighter(e){return e=e==null?Md:Math.pow(Md,e),new Tr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ja:Math.pow(Ja,e),new Tr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Kn(lm(e>=240?e-240:e+120,o,r),lm(e,o,r),lm(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Tr(zw(this.h),Gu(this.s),Gu(this.l),Dd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dd(this.opacity);return`${e===1?"hsl(":"hsla("}${zw(this.h)}, ${Gu(this.s)*100}%, ${Gu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zw(e){return e=(e||0)%360,e<0?e+360:e}function Gu(e){return Math.max(0,Math.min(1,e||0))}function lm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const lx=e=>()=>e;function ZD(e,t){return function(n){return e+n*t}}function eO(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function tO(e){return(e=+e)==1?Wk:function(t,n){return n-t?eO(t,n,e):lx(isNaN(t)?n:t)}}function Wk(e,t){var n=t-e;return n?ZD(e,n):lx(isNaN(e)?t:e)}const Od=function e(t){var n=tO(t);function r(o,i){var l=n((o=ng(o)).r,(i=ng(i)).r),c=n(o.g,i.g),d=n(o.b,i.b),f=Wk(o.opacity,i.opacity);return function(h){return o.r=l(h),o.g=c(h),o.b=d(h),o.opacity=f(h),o+""}}return r.gamma=e,r}(1);function nO(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function rO(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oO(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),l;for(l=0;l<r;++l)o[l]=za(e[l],t[l]);for(;l<n;++l)i[l]=t[l];return function(c){for(l=0;l<r;++l)i[l]=o[l](c);return i}}function iO(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Kr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function sO(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=za(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var rg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,am=new RegExp(rg.source,"g");function lO(e){return function(){return e}}function aO(e){return function(t){return e(t)+""}}function qk(e,t){var n=rg.lastIndex=am.lastIndex=0,r,o,i,l=-1,c=[],d=[];for(e=e+"",t=t+"";(r=rg.exec(e))&&(o=am.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),c[l]?c[l]+=i:c[++l]=i),(r=r[0])===(o=o[0])?c[l]?c[l]+=o:c[++l]=o:(c[++l]=null,d.push({i:l,x:Kr(r,o)})),n=am.lastIndex;return n<t.length&&(i=t.slice(n),c[l]?c[l]+=i:c[++l]=i),c.length<2?d[0]?aO(d[0].x):lO(t):(t=d.length,function(f){for(var h=0,p;h<t;++h)c[(p=d[h]).i]=p.x(f);return c.join("")})}function za(e,t){var n=typeof t,r;return t==null||n==="boolean"?lx(t):(n==="number"?Kr:n==="string"?(r=Ki(t))?(t=r,Od):qk:t instanceof Ki?Od:t instanceof Date?iO:rO(t)?nO:Array.isArray(t)?oO:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sO:Kr)(e,t)}var $w=180/Math.PI,og={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yk(e,t,n,r,o,i){var l,c,d;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(d=e*n+t*r)&&(n-=e*d,r-=t*d),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,d/=c),e*r<t*n&&(e=-e,t=-t,d=-d,l=-l),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*$w,skewX:Math.atan(d)*$w,scaleX:l,scaleY:c}}var Ku;function cO(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?og:Yk(t.a,t.b,t.c,t.d,t.e,t.f)}function uO(e){return e==null||(Ku||(Ku=document.createElementNS("http://www.w3.org/2000/svg","g")),Ku.setAttribute("transform",e),!(e=Ku.transform.baseVal.consolidate()))?og:(e=e.matrix,Yk(e.a,e.b,e.c,e.d,e.e,e.f))}function Xk(e,t,n,r){function o(f){return f.length?f.pop()+" ":""}function i(f,h,p,g,x,S){if(f!==p||h!==g){var v=x.push("translate(",null,t,null,n);S.push({i:v-4,x:Kr(f,p)},{i:v-2,x:Kr(h,g)})}else(p||g)&&x.push("translate("+p+t+g+n)}function l(f,h,p,g){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),g.push({i:p.push(o(p)+"rotate(",null,r)-2,x:Kr(f,h)})):h&&p.push(o(p)+"rotate("+h+r)}function c(f,h,p,g){f!==h?g.push({i:p.push(o(p)+"skewX(",null,r)-2,x:Kr(f,h)}):h&&p.push(o(p)+"skewX("+h+r)}function d(f,h,p,g,x,S){if(f!==p||h!==g){var v=x.push(o(x)+"scale(",null,",",null,")");S.push({i:v-4,x:Kr(f,p)},{i:v-2,x:Kr(h,g)})}else(p!==1||g!==1)&&x.push(o(x)+"scale("+p+","+g+")")}return function(f,h){var p=[],g=[];return f=e(f),h=e(h),i(f.translateX,f.translateY,h.translateX,h.translateY,p,g),l(f.rotate,h.rotate,p,g),c(f.skewX,h.skewX,p,g),d(f.scaleX,f.scaleY,h.scaleX,h.scaleY,p,g),f=h=null,function(x){for(var S=-1,v=g.length,b;++S<v;)p[(b=g[S]).i]=b.x(x);return p.join("")}}}var dO=Xk(cO,"px, ","px)","deg)"),fO=Xk(uO,", ",")",")"),pO=1e-12;function Fw(e){return((e=Math.exp(e))+1/e)/2}function hO(e){return((e=Math.exp(e))-1/e)/2}function mO(e){return((e=Math.exp(2*e))-1)/(e+1)}const yd=function e(t,n,r){function o(i,l){var c=i[0],d=i[1],f=i[2],h=l[0],p=l[1],g=l[2],x=h-c,S=p-d,v=x*x+S*S,b,k;if(v<pO)k=Math.log(g/f)/t,b=function(T){return[c+T*x,d+T*S,f*Math.exp(t*T*k)]};else{var E=Math.sqrt(v),N=(g*g-f*f+r*v)/(2*f*n*E),_=(g*g-f*f-r*v)/(2*g*n*E),I=Math.log(Math.sqrt(N*N+1)-N),P=Math.log(Math.sqrt(_*_+1)-_);k=(P-I)/t,b=function(T){var O=T*k,U=Fw(I),L=f/(n*E)*(U*mO(t*O+I)-hO(I));return[c+L*x,d+L*S,f*U/Fw(t*O+I)]}}return b.duration=k*1e3*t/Math.SQRT2,b}return o.rho=function(i){var l=Math.max(.001,+i),c=l*l,d=c*c;return e(l,c,d)},o}(Math.SQRT2,2,4);var il=0,Pa=0,ha=0,Gk=1e3,Ld,Aa,zd=0,Qi=0,mf=0,ec=typeof performance=="object"&&performance.now?performance:Date,Kk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ax(){return Qi||(Kk(gO),Qi=ec.now()+mf)}function gO(){Qi=0}function $d(){this._call=this._time=this._next=null}$d.prototype=Qk.prototype={constructor:$d,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ax():+n)+(t==null?0:+t),!this._next&&Aa!==this&&(Aa?Aa._next=this:Ld=this,Aa=this),this._call=e,this._time=n,ig()},stop:function(){this._call&&(this._call=null,this._time=1/0,ig())}};function Qk(e,t,n){var r=new $d;return r.restart(e,t,n),r}function xO(){ax(),++il;for(var e=Ld,t;e;)(t=Qi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--il}function Bw(){Qi=(zd=ec.now())+mf,il=Pa=0;try{xO()}finally{il=0,vO(),Qi=0}}function yO(){var e=ec.now(),t=e-zd;t>Gk&&(mf-=t,zd=e)}function vO(){for(var e,t=Ld,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ld=n);Aa=e,ig(r)}function ig(e){if(!il){Pa&&(Pa=clearTimeout(Pa));var t=e-Qi;t>24?(e<1/0&&(Pa=setTimeout(Bw,e-ec.now()-mf)),ha&&(ha=clearInterval(ha))):(ha||(zd=ec.now(),ha=setInterval(yO,Gk)),il=1,Kk(Bw))}}function Vw(e,t,n){var r=new $d;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var wO=pf("start","end","cancel","interrupt"),bO=[],Jk=0,Hw=1,sg=2,vd=3,Uw=4,lg=5,wd=6;function gf(e,t,n,r,o,i){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;SO(e,n,{name:t,index:r,group:o,on:wO,tween:bO,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Jk})}function cx(e,t){var n=$r(e,t);if(n.state>Jk)throw new Error("too late; already scheduled");return n}function io(e,t){var n=$r(e,t);if(n.state>vd)throw new Error("too late; already running");return n}function $r(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function SO(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Qk(i,0,n.time);function i(f){n.state=Hw,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var h,p,g,x;if(n.state!==Hw)return d();for(h in r)if(x=r[h],x.name===n.name){if(x.state===vd)return Vw(l);x.state===Uw?(x.state=wd,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete r[h]):+h<t&&(x.state=wd,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete r[h])}if(Vw(function(){n.state===vd&&(n.state=Uw,n.timer.restart(c,n.delay,n.time),c(f))}),n.state=sg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===sg){for(n.state=vd,o=new Array(g=n.tween.length),h=0,p=-1;h<g;++h)(x=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(o[++p]=x);o.length=p+1}}function c(f){for(var h=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=lg,1),p=-1,g=o.length;++p<g;)o[p].call(e,h);n.state===lg&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=wd,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function bd(e,t){var n=e.__transition,r,o,i=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){i=!1;continue}o=r.state>sg&&r.state<lg,r.state=wd,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}i&&delete e.__transition}}function kO(e){return this.each(function(){bd(this,e)})}function CO(e,t){var n,r;return function(){var o=io(this,e),i=o.tween;if(i!==n){r=n=i;for(var l=0,c=r.length;l<c;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}o.tween=r}}function NO(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=io(this,e),l=i.tween;if(l!==r){o=(r=l).slice();for(var c={name:t,value:n},d=0,f=o.length;d<f;++d)if(o[d].name===t){o[d]=c;break}d===f&&o.push(c)}i.tween=o}}function EO(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=$r(this.node(),n).tween,o=0,i=r.length,l;o<i;++o)if((l=r[o]).name===e)return l.value;return null}return this.each((t==null?CO:NO)(n,e,t))}function ux(e,t,n){var r=e._id;return e.each(function(){var o=io(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return $r(o,r).value[t]}}function Zk(e,t){var n;return(typeof t=="number"?Kr:t instanceof Ki?Od:(n=Ki(t))?(t=n,Od):qk)(e,t)}function jO(e){return function(){this.removeAttribute(e)}}function _O(e){return function(){this.removeAttributeNS(e.space,e.local)}}function PO(e,t,n){var r,o=n+"",i;return function(){var l=this.getAttribute(e);return l===o?null:l===r?i:i=t(r=l,n)}}function AO(e,t,n){var r,o=n+"",i;return function(){var l=this.getAttributeNS(e.space,e.local);return l===o?null:l===r?i:i=t(r=l,n)}}function IO(e,t,n){var r,o,i;return function(){var l,c=n(this),d;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=c+"",l===d?null:l===r&&d===o?i:(o=d,i=t(r=l,c)))}}function TO(e,t,n){var r,o,i;return function(){var l,c=n(this),d;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=c+"",l===d?null:l===r&&d===o?i:(o=d,i=t(r=l,c)))}}function RO(e,t){var n=hf(e),r=n==="transform"?fO:Zk;return this.attrTween(e,typeof t=="function"?(n.local?TO:IO)(n,r,ux(this,"attr."+e,t)):t==null?(n.local?_O:jO)(n):(n.local?AO:PO)(n,r,t))}function MO(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function DO(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function OO(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&DO(e,i)),n}return o._value=t,o}function LO(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&MO(e,i)),n}return o._value=t,o}function zO(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=hf(e);return this.tween(n,(r.local?OO:LO)(r,t))}function $O(e,t){return function(){cx(this,e).delay=+t.apply(this,arguments)}}function FO(e,t){return t=+t,function(){cx(this,e).delay=t}}function BO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$O:FO)(t,e)):$r(this.node(),t).delay}function VO(e,t){return function(){io(this,e).duration=+t.apply(this,arguments)}}function HO(e,t){return t=+t,function(){io(this,e).duration=t}}function UO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?VO:HO)(t,e)):$r(this.node(),t).duration}function WO(e,t){if(typeof t!="function")throw new Error;return function(){io(this,e).ease=t}}function qO(e){var t=this._id;return arguments.length?this.each(WO(t,e)):$r(this.node(),t).ease}function YO(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;io(this,e).ease=n}}function XO(e){if(typeof e!="function")throw new Error;return this.each(YO(this._id,e))}function GO(e){typeof e!="function"&&(e=Ak(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],l=i.length,c=r[o]=[],d,f=0;f<l;++f)(d=i[f])&&e.call(d,d.__data__,f,i)&&c.push(d);return new jo(r,this._parents,this._name,this._id)}function KO(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),l=new Array(r),c=0;c<i;++c)for(var d=t[c],f=n[c],h=d.length,p=l[c]=new Array(h),g,x=0;x<h;++x)(g=d[x]||f[x])&&(p[x]=g);for(;c<r;++c)l[c]=t[c];return new jo(l,this._parents,this._name,this._id)}function QO(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function JO(e,t,n){var r,o,i=QO(t)?cx:io;return function(){var l=i(this,e),c=l.on;c!==r&&(o=(r=c).copy()).on(t,n),l.on=o}}function ZO(e,t){var n=this._id;return arguments.length<2?$r(this.node(),n).on.on(e):this.each(JO(n,e,t))}function eL(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function tL(){return this.on("end.remove",eL(this._id))}function nL(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ox(e));for(var r=this._groups,o=r.length,i=new Array(o),l=0;l<o;++l)for(var c=r[l],d=c.length,f=i[l]=new Array(d),h,p,g=0;g<d;++g)(h=c[g])&&(p=e.call(h,h.__data__,g,c))&&("__data__"in h&&(p.__data__=h.__data__),f[g]=p,gf(f[g],t,n,g,f,$r(h,n)));return new jo(i,this._parents,t,n)}function rL(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Pk(e));for(var r=this._groups,o=r.length,i=[],l=[],c=0;c<o;++c)for(var d=r[c],f=d.length,h,p=0;p<f;++p)if(h=d[p]){for(var g=e.call(h,h.__data__,p,d),x,S=$r(h,n),v=0,b=g.length;v<b;++v)(x=g[v])&&gf(x,t,n,v,g,S);i.push(g),l.push(h)}return new jo(i,l,t,n)}var oL=gc.prototype.constructor;function iL(){return new oL(this._groups,this._parents)}function sL(e,t){var n,r,o;return function(){var i=ol(this,e),l=(this.style.removeProperty(e),ol(this,e));return i===l?null:i===n&&l===r?o:o=t(n=i,r=l)}}function eC(e){return function(){this.style.removeProperty(e)}}function lL(e,t,n){var r,o=n+"",i;return function(){var l=ol(this,e);return l===o?null:l===r?i:i=t(r=l,n)}}function aL(e,t,n){var r,o,i;return function(){var l=ol(this,e),c=n(this),d=c+"";return c==null&&(d=c=(this.style.removeProperty(e),ol(this,e))),l===d?null:l===r&&d===o?i:(o=d,i=t(r=l,c))}}function cL(e,t){var n,r,o,i="style."+t,l="end."+i,c;return function(){var d=io(this,e),f=d.on,h=d.value[i]==null?c||(c=eC(t)):void 0;(f!==n||o!==h)&&(r=(n=f).copy()).on(l,o=h),d.on=r}}function uL(e,t,n){var r=(e+="")=="transform"?dO:Zk;return t==null?this.styleTween(e,sL(e,r)).on("end.style."+e,eC(e)):typeof t=="function"?this.styleTween(e,aL(e,r,ux(this,"style."+e,t))).each(cL(this._id,e)):this.styleTween(e,lL(e,r,t),n).on("end.style."+e,null)}function dL(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function fL(e,t,n){var r,o;function i(){var l=t.apply(this,arguments);return l!==o&&(r=(o=l)&&dL(e,l,n)),r}return i._value=t,i}function pL(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,fL(e,t,n??""))}function hL(e){return function(){this.textContent=e}}function mL(e){return function(){var t=e(this);this.textContent=t??""}}function gL(e){return this.tween("text",typeof e=="function"?mL(ux(this,"text",e)):hL(e==null?"":e+""))}function xL(e){return function(t){this.textContent=e.call(this,t)}}function yL(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&xL(o)),t}return r._value=e,r}function vL(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,yL(e))}function wL(){for(var e=this._name,t=this._id,n=tC(),r=this._groups,o=r.length,i=0;i<o;++i)for(var l=r[i],c=l.length,d,f=0;f<c;++f)if(d=l[f]){var h=$r(d,t);gf(d,e,n,f,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new jo(r,this._parents,e,n)}function bL(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,l){var c={value:l},d={value:function(){--o===0&&i()}};n.each(function(){var f=io(this,r),h=f.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(d)),f.on=t}),o===0&&i()})}var SL=0;function jo(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function tC(){return++SL}var bo=gc.prototype;jo.prototype={constructor:jo,select:nL,selectAll:rL,selectChild:bo.selectChild,selectChildren:bo.selectChildren,filter:GO,merge:KO,selection:iL,transition:wL,call:bo.call,nodes:bo.nodes,node:bo.node,size:bo.size,empty:bo.empty,each:bo.each,on:ZO,attr:RO,attrTween:zO,style:uL,styleTween:pL,text:gL,textTween:vL,remove:tL,tween:EO,delay:BO,duration:UO,ease:qO,easeVarying:XO,end:bL,[Symbol.iterator]:bo[Symbol.iterator]};function kL(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var CL={time:null,delay:0,duration:250,ease:kL};function NL(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function EL(e){var t,n;e instanceof jo?(t=e._id,e=e._name):(t=tC(),(n=CL).time=ax(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var l=r[i],c=l.length,d,f=0;f<c;++f)(d=l[f])&&gf(d,e,t,f,l,n||NL(d,t));return new jo(r,this._parents,e,t)}gc.prototype.interrupt=kO;gc.prototype.transition=EL;const Qu=e=>()=>e;function jL(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function No(e,t,n){this.k=e,this.x=t,this.y=n}No.prototype={constructor:No,scale:function(e){return e===1?this:new No(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new No(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xf=new No(1,0,0);nC.prototype=No.prototype;function nC(e){for(;!e.__zoom;)if(!(e=e.parentNode))return xf;return e.__zoom}function cm(e){e.stopImmediatePropagation()}function ma(e){e.preventDefault(),e.stopImmediatePropagation()}function _L(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function PL(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ww(){return this.__zoom||xf}function AL(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function IL(){return navigator.maxTouchPoints||"ontouchstart"in this}function TL(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l))}function rC(){var e=_L,t=PL,n=TL,r=AL,o=IL,i=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,d=yd,f=pf("start","zoom","end"),h,p,g,x=500,S=150,v=0,b=10;function k(A){A.property("__zoom",Ww).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",U).on("dblclick.zoom",L).filter(o).on("touchstart.zoom",B).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(A,$,F,G){var D=A.selection?A.selection():A;D.property("__zoom",Ww),A!==D?I(A,$,F,G):D.interrupt().each(function(){P(this,arguments).event(G).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},k.scaleBy=function(A,$,F,G){k.scaleTo(A,function(){var D=this.__zoom.k,W=typeof $=="function"?$.apply(this,arguments):$;return D*W},F,G)},k.scaleTo=function(A,$,F,G){k.transform(A,function(){var D=t.apply(this,arguments),W=this.__zoom,M=F==null?_(D):typeof F=="function"?F.apply(this,arguments):F,H=W.invert(M),X=typeof $=="function"?$.apply(this,arguments):$;return n(N(E(W,X),M,H),D,l)},F,G)},k.translateBy=function(A,$,F,G){k.transform(A,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof F=="function"?F.apply(this,arguments):F),t.apply(this,arguments),l)},null,G)},k.translateTo=function(A,$,F,G,D){k.transform(A,function(){var W=t.apply(this,arguments),M=this.__zoom,H=G==null?_(W):typeof G=="function"?G.apply(this,arguments):G;return n(xf.translate(H[0],H[1]).scale(M.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof F=="function"?-F.apply(this,arguments):-F),W,l)},G,D)};function E(A,$){return $=Math.max(i[0],Math.min(i[1],$)),$===A.k?A:new No($,A.x,A.y)}function N(A,$,F){var G=$[0]-F[0]*A.k,D=$[1]-F[1]*A.k;return G===A.x&&D===A.y?A:new No(A.k,G,D)}function _(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function I(A,$,F,G){A.on("start.zoom",function(){P(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(G).end()}).tween("zoom",function(){var D=this,W=arguments,M=P(D,W).event(G),H=t.apply(D,W),X=F==null?_(H):typeof F=="function"?F.apply(D,W):F,R=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),V=D.__zoom,Z=typeof $=="function"?$.apply(D,W):$,Q=d(V.invert(X).concat(R/V.k),Z.invert(X).concat(R/Z.k));return function(K){if(K===1)K=Z;else{var te=Q(K),J=R/te[2];K=new No(J,X[0]-te[0]*J,X[1]-te[1]*J)}M.zoom(null,K)}})}function P(A,$,F){return!F&&A.__zooming||new T(A,$)}function T(A,$){this.that=A,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,$),this.taps=0}T.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,$){return this.mouse&&A!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var $=ar(this.that).datum();f.call(A,this.that,new jL(A,{sourceEvent:this.sourceEvent,target:k,transform:this.that.__zoom,dispatch:f}),$)}};function O(A,...$){if(!e.apply(this,arguments))return;var F=P(this,$).event(A),G=this.__zoom,D=Math.max(i[0],Math.min(i[1],G.k*Math.pow(2,r.apply(this,arguments)))),W=Ir(A);if(F.wheel)(F.mouse[0][0]!==W[0]||F.mouse[0][1]!==W[1])&&(F.mouse[1]=G.invert(F.mouse[0]=W)),clearTimeout(F.wheel);else{if(G.k===D)return;F.mouse=[W,G.invert(W)],bd(this),F.start()}ma(A),F.wheel=setTimeout(M,S),F.zoom("mouse",n(N(E(G,D),F.mouse[0],F.mouse[1]),F.extent,l));function M(){F.wheel=null,F.end()}}function U(A,...$){if(g||!e.apply(this,arguments))return;var F=A.currentTarget,G=P(this,$,!0).event(A),D=ar(A.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",R,!0),W=Ir(A,F),M=A.clientX,H=A.clientY;Fk(A.view),cm(A),G.mouse=[W,this.__zoom.invert(W)],bd(this),G.start();function X(V){if(ma(V),!G.moved){var Z=V.clientX-M,Q=V.clientY-H;G.moved=Z*Z+Q*Q>v}G.event(V).zoom("mouse",n(N(G.that.__zoom,G.mouse[0]=Ir(V,F),G.mouse[1]),G.extent,l))}function R(V){D.on("mousemove.zoom mouseup.zoom",null),Bk(V.view,G.moved),ma(V),G.event(V).end()}}function L(A,...$){if(e.apply(this,arguments)){var F=this.__zoom,G=Ir(A.changedTouches?A.changedTouches[0]:A,this),D=F.invert(G),W=F.k*(A.shiftKey?.5:2),M=n(N(E(F,W),G,D),t.apply(this,$),l);ma(A),c>0?ar(this).transition().duration(c).call(I,M,G,A):ar(this).call(k.transform,M,G,A)}}function B(A,...$){if(e.apply(this,arguments)){var F=A.touches,G=F.length,D=P(this,$,A.changedTouches.length===G).event(A),W,M,H,X;for(cm(A),M=0;M<G;++M)H=F[M],X=Ir(H,this),X=[X,this.__zoom.invert(X),H.identifier],D.touch0?!D.touch1&&D.touch0[2]!==X[2]&&(D.touch1=X,D.taps=0):(D.touch0=X,W=!0,D.taps=1+!!h);h&&(h=clearTimeout(h)),W&&(D.taps<2&&(p=X[0],h=setTimeout(function(){h=null},x)),bd(this),D.start())}}function Y(A,...$){if(this.__zooming){var F=P(this,$).event(A),G=A.changedTouches,D=G.length,W,M,H,X;for(ma(A),W=0;W<D;++W)M=G[W],H=Ir(M,this),F.touch0&&F.touch0[2]===M.identifier?F.touch0[0]=H:F.touch1&&F.touch1[2]===M.identifier&&(F.touch1[0]=H);if(M=F.that.__zoom,F.touch1){var R=F.touch0[0],V=F.touch0[1],Z=F.touch1[0],Q=F.touch1[1],K=(K=Z[0]-R[0])*K+(K=Z[1]-R[1])*K,te=(te=Q[0]-V[0])*te+(te=Q[1]-V[1])*te;M=E(M,Math.sqrt(K/te)),H=[(R[0]+Z[0])/2,(R[1]+Z[1])/2],X=[(V[0]+Q[0])/2,(V[1]+Q[1])/2]}else if(F.touch0)H=F.touch0[0],X=F.touch0[1];else return;F.zoom("touch",n(N(M,H,X),F.extent,l))}}function q(A,...$){if(this.__zooming){var F=P(this,$).event(A),G=A.changedTouches,D=G.length,W,M;for(cm(A),g&&clearTimeout(g),g=setTimeout(function(){g=null},x),W=0;W<D;++W)M=G[W],F.touch0&&F.touch0[2]===M.identifier?delete F.touch0:F.touch1&&F.touch1[2]===M.identifier&&delete F.touch1;if(F.touch1&&!F.touch0&&(F.touch0=F.touch1,delete F.touch1),F.touch0)F.touch0[1]=this.__zoom.invert(F.touch0[0]);else if(F.end(),F.taps===2&&(M=Ir(M,this),Math.hypot(p[0]-M[0],p[1]-M[1])<b)){var H=ar(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return k.wheelDelta=function(A){return arguments.length?(r=typeof A=="function"?A:Qu(+A),k):r},k.filter=function(A){return arguments.length?(e=typeof A=="function"?A:Qu(!!A),k):e},k.touchable=function(A){return arguments.length?(o=typeof A=="function"?A:Qu(!!A),k):o},k.extent=function(A){return arguments.length?(t=typeof A=="function"?A:Qu([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),k):t},k.scaleExtent=function(A){return arguments.length?(i[0]=+A[0],i[1]=+A[1],k):[i[0],i[1]]},k.translateExtent=function(A){return arguments.length?(l[0][0]=+A[0][0],l[1][0]=+A[1][0],l[0][1]=+A[0][1],l[1][1]=+A[1][1],k):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},k.constrain=function(A){return arguments.length?(n=A,k):n},k.duration=function(A){return arguments.length?(c=+A,k):c},k.interpolate=function(A){return arguments.length?(d=A,k):d},k.on=function(){var A=f.on.apply(f,arguments);return A===f?k:A},k.clickDistance=function(A){return arguments.length?(v=(A=+A)*A,k):Math.sqrt(v)},k.tapDistance=function(A){return arguments.length?(b=+A,k):b},k}const ro={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},tc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],oC=["Enter"," ","Escape"],iC={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var sl;(function(e){e.Strict="strict",e.Loose="loose"})(sl||(sl={}));var Xi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Xi||(Xi={}));var nc;(function(e){e.Partial="partial",e.Full="full"})(nc||(nc={}));const sC={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ii;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ii||(ii={}));var rc;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(rc||(rc={}));var Te;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Te||(Te={}));const qw={[Te.Left]:Te.Right,[Te.Right]:Te.Left,[Te.Top]:Te.Bottom,[Te.Bottom]:Te.Top};function lC(e){return e===null?null:e?"valid":"invalid"}const aC=e=>"id"in e&&"source"in e&&"target"in e,RL=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),dx=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),yc=(e,t=[0,0])=>{const{width:n,height:r}=Ao(e),o=e.origin??t,i=n*o[0],l=r*o[1];return{x:e.position.x-i,y:e.position.y-l}},ML=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let l=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(l=i?t.nodeLookup.get(o):dx(o)?o:t.nodeLookup.get(o.id));const c=l?Fd(l,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return yf(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return vf(n)},vc=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=yf(n,Fd(o)),r=!0)}),r?vf(n):{x:0,y:0,width:0,height:0}},fx=(e,t,[n,r,o]=[0,0,1],i=!1,l=!1)=>{const c={...bc(t,[n,r,o]),width:t.width/o,height:t.height/o},d=[];for(const f of e.values()){const{measured:h,selectable:p=!0,hidden:g=!1}=f;if(l&&!p||g)continue;const x=h.width??f.width??f.initialWidth??null,S=h.height??f.height??f.initialHeight??null,v=oc(c,al(f)),b=(x??0)*(S??0),k=i&&v>0;(!f.internals.handleBounds||k||v>=b||f.dragging)&&d.push(f)}return d},DL=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function OL(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function LL({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},l){if(e.size===0)return Promise.resolve(!0);const c=OL(e,l),d=vc(c),f=px(d,t,n,(l==null?void 0:l.minZoom)??o,(l==null?void 0:l.maxZoom)??i,(l==null?void 0:l.padding)??.1);return await r.setViewport(f,{duration:l==null?void 0:l.duration,ease:l==null?void 0:l.ease,interpolate:l==null?void 0:l.interpolate}),Promise.resolve(!0)}function cC({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const l=n.get(e),c=l.parentId?n.get(l.parentId):void 0,{x:d,y:f}=c?c.internals.positionAbsolute:{x:0,y:0},h=l.origin??r;let p=l.extent||o;if(l.extent==="parent"&&!l.expandParent)if(!c)i==null||i("005",ro.error005());else{const x=c.measured.width,S=c.measured.height;x&&S&&(p=[[d,f],[d+x,f+S]])}else c&&cl(l.extent)&&(p=[[l.extent[0][0]+d,l.extent[0][1]+f],[l.extent[1][0]+d,l.extent[1][1]+f]]);const g=cl(p)?Ji(t,p,l.measured):t;return(l.measured.width===void 0||l.measured.height===void 0)&&(i==null||i("015",ro.error015())),{position:{x:g.x-d+(l.measured.width??0)*h[0],y:g.y-f+(l.measured.height??0)*h[1]},positionAbsolute:g}}async function zL({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(g=>g.id)),l=[];for(const g of n){if(g.deletable===!1)continue;const x=i.has(g.id),S=!x&&g.parentId&&l.find(v=>v.id===g.parentId);(x||S)&&l.push(g)}const c=new Set(t.map(g=>g.id)),d=r.filter(g=>g.deletable!==!1),h=DL(l,d);for(const g of d)c.has(g.id)&&!h.find(S=>S.id===g.id)&&h.push(g);if(!o)return{edges:h,nodes:l};const p=await o({nodes:l,edges:h});return typeof p=="boolean"?p?{edges:h,nodes:l}:{edges:[],nodes:[]}:p}const ll=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ji=(e={x:0,y:0},t,n)=>({x:ll(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:ll(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function uC(e,t,n){const{width:r,height:o}=Ao(n),{x:i,y:l}=n.internals.positionAbsolute;return Ji(e,[[i,l],[i+r,l+o]],t)}const Yw=(e,t,n)=>e<t?ll(Math.abs(e-t),1,t)/t:e>n?-ll(Math.abs(e-n),1,t)/t:0,dC=(e,t,n=15,r=40)=>{const o=Yw(e.x,r,t.width-r)*n,i=Yw(e.y,r,t.height-r)*n;return[o,i]},yf=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ag=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),vf=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),al=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=dx(e)?e.internals.positionAbsolute:yc(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Fd=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=dx(e)?e.internals.positionAbsolute:yc(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},fC=(e,t)=>vf(yf(ag(e),ag(t))),oc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Xw=e=>Rr(e.width)&&Rr(e.height)&&Rr(e.x)&&Rr(e.y),Rr=e=>!isNaN(e)&&isFinite(e),$L=(e,t)=>{},wc=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),bc=({x:e,y:t},[n,r,o],i=!1,l=[1,1])=>{const c={x:(e-n)/o,y:(t-r)/o};return i?wc(c,l):c},Bd=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function Ls(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function FL(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Ls(e,n),o=Ls(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=Ls(e.top??e.y??0,n),o=Ls(e.bottom??e.y??0,n),i=Ls(e.left??e.x??0,t),l=Ls(e.right??e.x??0,t);return{top:r,right:l,bottom:o,left:i,x:i+l,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function BL(e,t,n,r,o,i){const{x:l,y:c}=Bd(e,[t,n,r]),{x:d,y:f}=Bd({x:e.x+e.width,y:e.y+e.height},[t,n,r]),h=o-d,p=i-f;return{left:Math.floor(l),top:Math.floor(c),right:Math.floor(h),bottom:Math.floor(p)}}const px=(e,t,n,r,o,i)=>{const l=FL(i,t,n),c=(t-l.x)/e.width,d=(n-l.y)/e.height,f=Math.min(c,d),h=ll(f,r,o),p=e.x+e.width/2,g=e.y+e.height/2,x=t/2-p*h,S=n/2-g*h,v=BL(e,x,S,h,t,n),b={left:Math.min(v.left-l.left,0),top:Math.min(v.top-l.top,0),right:Math.min(v.right-l.right,0),bottom:Math.min(v.bottom-l.bottom,0)};return{x:x-b.left+b.right,y:S-b.top+b.bottom,zoom:h}},ic=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function cl(e){return e!=null&&e!=="parent"}function Ao(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function hx(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function pC(e,t={width:0,height:0},n,r,o){const i={...e},l=r.get(n);if(l){const c=l.origin||o;i.x+=l.internals.positionAbsolute.x-(t.width??0)*c[0],i.y+=l.internals.positionAbsolute.y-(t.height??0)*c[1]}return i}function Gw(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function VL(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function HL(e){return{...iC,...e||{}}}function $a(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:l}=Mr(e),c=bc({x:i-((o==null?void 0:o.left)??0),y:l-((o==null?void 0:o.top)??0)},r),{x:d,y:f}=n?wc(c,t):c;return{xSnapped:d,ySnapped:f,...c}}const mx=e=>({width:e.offsetWidth,height:e.offsetHeight}),hC=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},UL=["INPUT","SELECT","TEXTAREA"];function mC(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:UL.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const gC=e=>"clientX"in e,Mr=(e,t)=>{var i,l;const n=gC(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Kw=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:e,nodeId:o,position:l.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...mx(l)}})};function xC({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:l,targetControlY:c}){const d=e*.125+o*.375+l*.375+n*.125,f=t*.125+i*.375+c*.375+r*.125,h=Math.abs(d-e),p=Math.abs(f-t);return[d,f,h,p]}function Ju(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Qw({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case Te.Left:return[t-Ju(t-r,i),n];case Te.Right:return[t+Ju(r-t,i),n];case Te.Top:return[t,n-Ju(n-o,i)];case Te.Bottom:return[t,n+Ju(o-n,i)]}}function yC({sourceX:e,sourceY:t,sourcePosition:n=Te.Bottom,targetX:r,targetY:o,targetPosition:i=Te.Top,curvature:l=.25}){const[c,d]=Qw({pos:n,x1:e,y1:t,x2:r,y2:o,c:l}),[f,h]=Qw({pos:i,x1:r,y1:o,x2:e,y2:t,c:l}),[p,g,x,S]=xC({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:c,sourceControlY:d,targetControlX:f,targetControlY:h});return[`M${e},${t} C${c},${d} ${f},${h} ${r},${o}`,p,g,x,S]}function vC({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,l=Math.abs(r-t)/2,c=r<t?r+l:r-l;return[i,c,o,l]}function WL({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const l=o&&n?r+1e3:r,c=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return l+c}function qL({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=yf(Fd(e),Fd(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const l={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return oc(l,vf(i))>0}const YL=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,XL=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),GL=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||YL;let o;return aC(e)?o={...e}:o={...e,id:r(e)},XL(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function gx({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,l,c]=vC({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,l,c]}const Jw={[Te.Left]:{x:-1,y:0},[Te.Right]:{x:1,y:0},[Te.Top]:{x:0,y:-1},[Te.Bottom]:{x:0,y:1}},KL=({source:e,sourcePosition:t=Te.Bottom,target:n})=>t===Te.Left||t===Te.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Zw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function QL({source:e,sourcePosition:t=Te.Bottom,target:n,targetPosition:r=Te.Top,center:o,offset:i,stepPosition:l}){const c=Jw[t],d=Jw[r],f={x:e.x+c.x*i,y:e.y+c.y*i},h={x:n.x+d.x*i,y:n.y+d.y*i},p=KL({source:f,sourcePosition:t,target:h}),g=p.x!==0?"x":"y",x=p[g];let S=[],v,b;const k={x:0,y:0},E={x:0,y:0},[,,N,_]=vC({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(c[g]*d[g]===-1){g==="x"?(v=o.x??f.x+(h.x-f.x)*l,b=o.y??(f.y+h.y)/2):(v=o.x??(f.x+h.x)/2,b=o.y??f.y+(h.y-f.y)*l);const P=[{x:v,y:f.y},{x:v,y:h.y}],T=[{x:f.x,y:b},{x:h.x,y:b}];c[g]===x?S=g==="x"?P:T:S=g==="x"?T:P}else{const P=[{x:f.x,y:h.y}],T=[{x:h.x,y:f.y}];if(g==="x"?S=c.x===x?T:P:S=c.y===x?P:T,t===r){const Y=Math.abs(e[g]-n[g]);if(Y<=i){const q=Math.min(i-1,i-Y);c[g]===x?k[g]=(f[g]>e[g]?-1:1)*q:E[g]=(h[g]>n[g]?-1:1)*q}}if(t!==r){const Y=g==="x"?"y":"x",q=c[g]===d[Y],A=f[Y]>h[Y],$=f[Y]<h[Y];(c[g]===1&&(!q&&A||q&&$)||c[g]!==1&&(!q&&$||q&&A))&&(S=g==="x"?P:T)}const O={x:f.x+k.x,y:f.y+k.y},U={x:h.x+E.x,y:h.y+E.y},L=Math.max(Math.abs(O.x-S[0].x),Math.abs(U.x-S[0].x)),B=Math.max(Math.abs(O.y-S[0].y),Math.abs(U.y-S[0].y));L>=B?(v=(O.x+U.x)/2,b=S[0].y):(v=S[0].x,b=(O.y+U.y)/2)}return[[e,{x:f.x+k.x,y:f.y+k.y},...S,{x:h.x+E.x,y:h.y+E.y},n],v,b,N,_]}function JL(e,t,n,r){const o=Math.min(Zw(e,t)/2,Zw(t,n)/2,r),{x:i,y:l}=t;if(e.x===i&&i===n.x||e.y===l&&l===n.y)return`L${i} ${l}`;if(e.y===l){const f=e.x<n.x?-1:1,h=e.y<n.y?1:-1;return`L ${i+o*f},${l}Q ${i},${l} ${i},${l+o*h}`}const c=e.x<n.x?1:-1,d=e.y<n.y?-1:1;return`L ${i},${l+o*d}Q ${i},${l} ${i+o*c},${l}`}function cg({sourceX:e,sourceY:t,sourcePosition:n=Te.Bottom,targetX:r,targetY:o,targetPosition:i=Te.Top,borderRadius:l=5,centerX:c,centerY:d,offset:f=20,stepPosition:h=.5}){const[p,g,x,S,v]=QL({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:c,y:d},offset:f,stepPosition:h});return[p.reduce((k,E,N)=>{let _="";return N>0&&N<p.length-1?_=JL(p[N-1],E,p[N+1],l):_=`${N===0?"M":"L"}${E.x} ${E.y}`,k+=_,k},""),g,x,S,v]}function eb(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function ZL(e){var p;const{sourceNode:t,targetNode:n}=e;if(!eb(t)||!eb(n))return null;const r=t.internals.handleBounds||tb(t.handles),o=n.internals.handleBounds||tb(n.handles),i=nb((r==null?void 0:r.source)??[],e.sourceHandle),l=nb(e.connectionMode===sl.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!l)return(p=e.onError)==null||p.call(e,"008",ro.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const c=(i==null?void 0:i.position)||Te.Bottom,d=(l==null?void 0:l.position)||Te.Top,f=Zi(t,i,c),h=Zi(n,l,d);return{sourceX:f.x,sourceY:f.y,targetX:h.x,targetY:h.y,sourcePosition:c,targetPosition:d}}function tb(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Zi(e,t,n=Te.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:l,height:c}=t??Ao(e);if(r)return{x:o+l/2,y:i+c/2};switch((t==null?void 0:t.position)??n){case Te.Top:return{x:o+l/2,y:i};case Te.Right:return{x:o+l,y:i+c/2};case Te.Bottom:return{x:o+l/2,y:i+c};case Te.Left:return{x:o,y:i+c/2}}}function nb(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function ug(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function ez(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((l,c)=>([c.markerStart||r,c.markerEnd||o].forEach(d=>{if(d&&typeof d=="object"){const f=ug(d,t);i.has(f)||(l.push({id:f,color:d.color||n,...d}),i.add(f))}}),l),[]).sort((l,c)=>l.id.localeCompare(c.id))}const wC=1e3,tz=10,xx={nodeOrigin:[0,0],nodeExtent:tc,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},nz={...xx,checkEquality:!0};function yx(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function rz(e,t,n){const r=yx(xx,n);for(const o of e.values())if(o.parentId)wx(o,e,t,r);else{const i=yc(o,r.nodeOrigin),l=cl(o.extent)?o.extent:r.nodeExtent,c=Ji(i,l,Ao(o));o.internals.positionAbsolute=c}}function oz(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const i={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(i):o.type==="target"&&r.push(i)}return{source:n,target:r}}function vx(e){return e==="manual"}function dg(e,t,n,r={}){var f,h;const o=yx(nz,r),i={i:0},l=new Map(t),c=o!=null&&o.elevateNodesOnSelect&&!vx(o.zIndexMode)?wC:0;let d=e.length>0;t.clear(),n.clear();for(const p of e){let g=l.get(p.id);if(o.checkEquality&&p===(g==null?void 0:g.internals.userNode))t.set(p.id,g);else{const x=yc(p,o.nodeOrigin),S=cl(p.extent)?p.extent:o.nodeExtent,v=Ji(x,S,Ao(p));g={...o.defaults,...p,measured:{width:(f=p.measured)==null?void 0:f.width,height:(h=p.measured)==null?void 0:h.height},internals:{positionAbsolute:v,handleBounds:oz(p,g),z:bC(p,c,o.zIndexMode),userNode:p}},t.set(p.id,g)}(g.measured===void 0||g.measured.width===void 0||g.measured.height===void 0)&&!g.hidden&&(d=!1),p.parentId&&wx(g,t,n,r,i)}return d}function iz(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function wx(e,t,n,r,o){const{elevateNodesOnSelect:i,nodeOrigin:l,nodeExtent:c,zIndexMode:d}=yx(xx,r),f=e.parentId,h=t.get(f);if(!h){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}iz(e,n),o&&!h.parentId&&h.internals.rootParentIndex===void 0&&d==="auto"&&(h.internals.rootParentIndex=++o.i,h.internals.z=h.internals.z+o.i*tz),o&&h.internals.rootParentIndex!==void 0&&(o.i=h.internals.rootParentIndex);const p=i&&!vx(d)?wC:0,{x:g,y:x,z:S}=sz(e,h,l,c,p,d),{positionAbsolute:v}=e.internals,b=g!==v.x||x!==v.y;(b||S!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:b?{x:g,y:x}:v,z:S}})}function bC(e,t,n){const r=Rr(e.zIndex)?e.zIndex:0;return vx(n)?r:r+(e.selected?t:0)}function sz(e,t,n,r,o,i){const{x:l,y:c}=t.internals.positionAbsolute,d=Ao(e),f=yc(e,n),h=cl(e.extent)?Ji(f,e.extent,d):f;let p=Ji({x:l+h.x,y:c+h.y},r,d);e.extent==="parent"&&(p=uC(p,d,t));const g=bC(e,o,i),x=t.internals.z??0;return{x:p.x,y:p.y,z:x>=g?x+1:g}}function bx(e,t,n,r=[0,0]){var l;const o=[],i=new Map;for(const c of e){const d=t.get(c.parentId);if(!d)continue;const f=((l=i.get(c.parentId))==null?void 0:l.expandedRect)??al(d),h=fC(f,c.rect);i.set(c.parentId,{expandedRect:h,parent:d})}return i.size>0&&i.forEach(({expandedRect:c,parent:d},f)=>{var N;const h=d.internals.positionAbsolute,p=Ao(d),g=d.origin??r,x=c.x<h.x?Math.round(Math.abs(h.x-c.x)):0,S=c.y<h.y?Math.round(Math.abs(h.y-c.y)):0,v=Math.max(p.width,Math.round(c.width)),b=Math.max(p.height,Math.round(c.height)),k=(v-p.width)*g[0],E=(b-p.height)*g[1];(x>0||S>0||k||E)&&(o.push({id:f,type:"position",position:{x:d.position.x-x+k,y:d.position.y-S+E}}),(N=n.get(f))==null||N.forEach(_=>{e.some(I=>I.id===_.id)||o.push({id:_.id,type:"position",position:{x:_.position.x+x,y:_.position.y+S}})})),(p.width<c.width||p.height<c.height||x||S)&&o.push({id:f,type:"dimensions",setAttributes:!0,dimensions:{width:v+(x?g[0]*x-k:0),height:b+(S?g[1]*S-E:0)}})}),o}function lz(e,t,n,r,o,i,l){const c=r==null?void 0:r.querySelector(".xyflow__viewport");let d=!1;if(!c)return{changes:[],updatedInternals:d};const f=[],h=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(h.transform),g=[];for(const x of e.values()){const S=t.get(x.id);if(!S)continue;if(S.hidden){t.set(S.id,{...S,internals:{...S.internals,handleBounds:void 0}}),d=!0;continue}const v=mx(x.nodeElement),b=S.measured.width!==v.width||S.measured.height!==v.height;if(!!(v.width&&v.height&&(b||!S.internals.handleBounds||x.force))){const E=x.nodeElement.getBoundingClientRect(),N=cl(S.extent)?S.extent:i;let{positionAbsolute:_}=S.internals;S.parentId&&S.extent==="parent"?_=uC(_,v,t.get(S.parentId)):N&&(_=Ji(_,N,v));const I={...S,measured:v,internals:{...S.internals,positionAbsolute:_,handleBounds:{source:Kw("source",x.nodeElement,E,p,S.id),target:Kw("target",x.nodeElement,E,p,S.id)}}};t.set(S.id,I),S.parentId&&wx(I,t,n,{nodeOrigin:o,zIndexMode:l}),d=!0,b&&(f.push({id:S.id,type:"dimensions",dimensions:v}),S.expandParent&&S.parentId&&g.push({id:S.id,parentId:S.parentId,rect:al(I,o)}))}}if(g.length>0){const x=bx(g,t,n,o);f.push(...x)}return{changes:f,updatedInternals:d}}async function az({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const l=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),c=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(c)}function rb(e,t,n,r,o,i){let l=o;const c=r.get(l)||new Map;r.set(l,c.set(n,t)),l=`${o}-${e}`;const d=r.get(l)||new Map;if(r.set(l,d.set(n,t)),i){l=`${o}-${e}-${i}`;const f=r.get(l)||new Map;r.set(l,f.set(n,t))}}function SC(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:l=null,targetHandle:c=null}=r,d={edgeId:r.id,source:o,target:i,sourceHandle:l,targetHandle:c},f=`${o}-${l}--${i}-${c}`,h=`${i}-${c}--${o}-${l}`;rb("source",d,h,e,o,l),rb("target",d,f,e,i,c),t.set(r.id,r)}}function kC(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:kC(n,t):!1}function ob(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function cz(e,t,n,r){const o=new Map;for(const[i,l]of e)if((l.selected||l.id===r)&&(!l.parentId||!kC(l,e))&&(l.draggable||t&&typeof l.draggable>"u")){const c=e.get(i);c&&o.set(i,{id:i,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return o}function um({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var l,c,d;const o=[];for(const[f,h]of t){const p=(l=n.get(f))==null?void 0:l.internals.userNode;p&&o.push({...p,position:h.position,dragging:r})}if(!e)return[o[0],o];const i=(c=n.get(e))==null?void 0:c.internals.userNode;return[i?{...i,position:((d=t.get(e))==null?void 0:d.position)||i.position,dragging:r}:o[0],o]}function uz({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},l=wc(i,t);return{x:l.x-i.x,y:l.y-i.y}}function dz({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},l=0,c=new Map,d=!1,f={x:0,y:0},h=null,p=!1,g=null,x=!1,S=!1,v=null;function b({noDragClassName:E,handleSelector:N,domNode:_,isSelectable:I,nodeId:P,nodeClickDistance:T=0}){g=ar(_);function O({x:Y,y:q}){const{nodeLookup:A,nodeExtent:$,snapGrid:F,snapToGrid:G,nodeOrigin:D,onNodeDrag:W,onSelectionDrag:M,onError:H,updateNodePositions:X}=t();i={x:Y,y:q};let R=!1;const V=c.size>1,Z=V&&$?ag(vc(c)):null,Q=V&&G?uz({dragItems:c,snapGrid:F,x:Y,y:q}):null;for(const[K,te]of c){if(!A.has(K))continue;let J={x:Y-te.distance.x,y:q-te.distance.y};G&&(J=Q?{x:Math.round(J.x+Q.x),y:Math.round(J.y+Q.y)}:wc(J,F));let ie=null;if(V&&$&&!te.extent&&Z){const{positionAbsolute:fe}=te.internals,ye=fe.x-Z.x+$[0][0],Ae=fe.x+te.measured.width-Z.x2+$[1][0],Re=fe.y-Z.y+$[0][1],nt=fe.y+te.measured.height-Z.y2+$[1][1];ie=[[ye,Re],[Ae,nt]]}const{position:le,positionAbsolute:de}=cC({nodeId:K,nextPosition:J,nodeLookup:A,nodeExtent:ie||$,nodeOrigin:D,onError:H});R=R||te.position.x!==le.x||te.position.y!==le.y,te.position=le,te.internals.positionAbsolute=de}if(S=S||R,!!R&&(X(c,!0),v&&(r||W||!P&&M))){const[K,te]=um({nodeId:P,dragItems:c,nodeLookup:A});r==null||r(v,c,K,te),W==null||W(v,K,te),P||M==null||M(v,te)}}async function U(){if(!h)return;const{transform:Y,panBy:q,autoPanSpeed:A,autoPanOnNodeDrag:$}=t();if(!$){d=!1,cancelAnimationFrame(l);return}const[F,G]=dC(f,h,A);(F!==0||G!==0)&&(i.x=(i.x??0)-F/Y[2],i.y=(i.y??0)-G/Y[2],await q({x:F,y:G})&&O(i)),l=requestAnimationFrame(U)}function L(Y){var V;const{nodeLookup:q,multiSelectionActive:A,nodesDraggable:$,transform:F,snapGrid:G,snapToGrid:D,selectNodesOnDrag:W,onNodeDragStart:M,onSelectionDragStart:H,unselectNodesAndEdges:X}=t();p=!0,(!W||!I)&&!A&&P&&((V=q.get(P))!=null&&V.selected||X()),I&&W&&P&&(e==null||e(P));const R=$a(Y.sourceEvent,{transform:F,snapGrid:G,snapToGrid:D,containerBounds:h});if(i=R,c=cz(q,$,R,P),c.size>0&&(n||M||!P&&H)){const[Z,Q]=um({nodeId:P,dragItems:c,nodeLookup:q});n==null||n(Y.sourceEvent,c,Z,Q),M==null||M(Y.sourceEvent,Z,Q),P||H==null||H(Y.sourceEvent,Q)}}const B=Vk().clickDistance(T).on("start",Y=>{const{domNode:q,nodeDragThreshold:A,transform:$,snapGrid:F,snapToGrid:G}=t();h=(q==null?void 0:q.getBoundingClientRect())||null,x=!1,S=!1,v=Y.sourceEvent,A===0&&L(Y),i=$a(Y.sourceEvent,{transform:$,snapGrid:F,snapToGrid:G,containerBounds:h}),f=Mr(Y.sourceEvent,h)}).on("drag",Y=>{const{autoPanOnNodeDrag:q,transform:A,snapGrid:$,snapToGrid:F,nodeDragThreshold:G,nodeLookup:D}=t(),W=$a(Y.sourceEvent,{transform:A,snapGrid:$,snapToGrid:F,containerBounds:h});if(v=Y.sourceEvent,(Y.sourceEvent.type==="touchmove"&&Y.sourceEvent.touches.length>1||P&&!D.has(P))&&(x=!0),!x){if(!d&&q&&p&&(d=!0,U()),!p){const M=Mr(Y.sourceEvent,h),H=M.x-f.x,X=M.y-f.y;Math.sqrt(H*H+X*X)>G&&L(Y)}(i.x!==W.xSnapped||i.y!==W.ySnapped)&&c&&p&&(f=Mr(Y.sourceEvent,h),O(W))}}).on("end",Y=>{if(!(!p||x)&&(d=!1,p=!1,cancelAnimationFrame(l),c.size>0)){const{nodeLookup:q,updateNodePositions:A,onNodeDragStop:$,onSelectionDragStop:F}=t();if(S&&(A(c,!1),S=!1),o||$||!P&&F){const[G,D]=um({nodeId:P,dragItems:c,nodeLookup:q,dragging:!1});o==null||o(Y.sourceEvent,c,G,D),$==null||$(Y.sourceEvent,G,D),P||F==null||F(Y.sourceEvent,D)}}}).filter(Y=>{const q=Y.target;return!Y.button&&(!E||!ob(q,`.${E}`,_))&&(!N||ob(q,N,_))});g.call(B)}function k(){g==null||g.on(".drag",null)}return{update:b,destroy:k}}function fz(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())oc(o,al(i))>0&&r.push(i);return r}const pz=250;function hz(e,t,n,r){var c,d;let o=[],i=1/0;const l=fz(e,n,t+pz);for(const f of l){const h=[...((c=f.internals.handleBounds)==null?void 0:c.source)??[],...((d=f.internals.handleBounds)==null?void 0:d.target)??[]];for(const p of h){if(r.nodeId===p.nodeId&&r.type===p.type&&r.id===p.id)continue;const{x:g,y:x}=Zi(f,p,p.position,!0),S=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(x-e.y,2));S>t||(S<i?(o=[{...p,x:g,y:x}],i=S):S===i&&o.push({...p,x:g,y:x}))}}if(!o.length)return null;if(o.length>1){const f=r.type==="source"?"target":"source";return o.find(h=>h.type===f)??o[0]}return o[0]}function CC(e,t,n,r,o,i=!1){var f,h,p;const l=r.get(e);if(!l)return null;const c=o==="strict"?(f=l.internals.handleBounds)==null?void 0:f[t]:[...((h=l.internals.handleBounds)==null?void 0:h.source)??[],...((p=l.internals.handleBounds)==null?void 0:p.target)??[]],d=(n?c==null?void 0:c.find(g=>g.id===n):c==null?void 0:c[0])??null;return d&&i?{...d,...Zi(l,d,d.position,!0)}:d}function NC(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function mz(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const EC=()=>!0;function gz(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:l,domNode:c,nodeLookup:d,lib:f,autoPanOnConnect:h,flowId:p,panBy:g,cancelConnection:x,onConnectStart:S,onConnect:v,onConnectEnd:b,isValidConnection:k=EC,onReconnectEnd:E,updateConnection:N,getTransform:_,getFromHandle:I,autoPanSpeed:P,dragThreshold:T=1,handleDomNode:O}){const U=hC(e.target);let L=0,B;const{x:Y,y:q}=Mr(e),A=NC(i,O),$=c==null?void 0:c.getBoundingClientRect();let F=!1;if(!$||!A)return;const G=CC(o,A,r,d,t);if(!G)return;let D=Mr(e,$),W=!1,M=null,H=!1,X=null;function R(){if(!h||!$)return;const[le,de]=dC(D,$,P);g({x:le,y:de}),L=requestAnimationFrame(R)}const V={...G,nodeId:o,type:A,position:G.position},Z=d.get(o);let K={inProgress:!0,isValid:null,from:Zi(Z,V,Te.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:Z,to:D,toHandle:null,toPosition:qw[V.position],toNode:null,pointer:D};function te(){F=!0,N(K),S==null||S(e,{nodeId:o,handleId:r,handleType:A})}T===0&&te();function J(le){if(!F){const{x:nt,y:rt}=Mr(le),Ze=nt-Y,kt=rt-q;if(!(Ze*Ze+kt*kt>T*T))return;te()}if(!I()||!V){ie(le);return}const de=_();D=Mr(le,$),B=hz(bc(D,de,!1,[1,1]),n,d,V),W||(R(),W=!0);const fe=jC(le,{handle:B,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:l?"target":"source",isValidConnection:k,doc:U,lib:f,flowId:p,nodeLookup:d});X=fe.handleDomNode,M=fe.connection,H=mz(!!B,fe.isValid);const ye=d.get(o),Ae=ye?Zi(ye,V,Te.Left,!0):K.from,Re={...K,from:Ae,isValid:H,to:fe.toHandle&&H?Bd({x:fe.toHandle.x,y:fe.toHandle.y},de):D,toHandle:fe.toHandle,toPosition:H&&fe.toHandle?fe.toHandle.position:qw[V.position],toNode:fe.toHandle?d.get(fe.toHandle.nodeId):null,pointer:D};N(Re),K=Re}function ie(le){if(!("touches"in le&&le.touches.length>0)){if(F){(B||X)&&M&&H&&(v==null||v(M));const{inProgress:de,...fe}=K,ye={...fe,toPosition:K.toHandle?K.toPosition:null};b==null||b(le,ye),i&&(E==null||E(le,ye))}x(),cancelAnimationFrame(L),W=!1,H=!1,M=null,X=null,U.removeEventListener("mousemove",J),U.removeEventListener("mouseup",ie),U.removeEventListener("touchmove",J),U.removeEventListener("touchend",ie)}}U.addEventListener("mousemove",J),U.addEventListener("mouseup",ie),U.addEventListener("touchmove",J),U.addEventListener("touchend",ie)}function jC(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:l,lib:c,flowId:d,isValidConnection:f=EC,nodeLookup:h}){const p=i==="target",g=t?l.querySelector(`.${c}-flow__handle[data-id="${d}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x,y:S}=Mr(e),v=l.elementFromPoint(x,S),b=v!=null&&v.classList.contains(`${c}-flow__handle`)?v:g,k={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const E=NC(void 0,b),N=b.getAttribute("data-nodeid"),_=b.getAttribute("data-handleid"),I=b.classList.contains("connectable"),P=b.classList.contains("connectableend");if(!N||!E)return k;const T={source:p?N:r,sourceHandle:p?_:o,target:p?r:N,targetHandle:p?o:_};k.connection=T;const U=I&&P&&(n===sl.Strict?p&&E==="source"||!p&&E==="target":N!==r||_!==o);k.isValid=U&&f(T),k.toHandle=CC(N,E,_,h,n,!0)}return k}const fg={onPointerDown:gz,isValid:jC};function xz({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=ar(e);function i({translateExtent:c,width:d,height:f,zoomStep:h=1,pannable:p=!0,zoomable:g=!0,inversePan:x=!1}){const S=N=>{if(N.sourceEvent.type!=="wheel"||!t)return;const _=n(),I=N.sourceEvent.ctrlKey&&ic()?10:1,P=-N.sourceEvent.deltaY*(N.sourceEvent.deltaMode===1?.05:N.sourceEvent.deltaMode?1:.002)*h,T=_[2]*Math.pow(2,P*I);t.scaleTo(T)};let v=[0,0];const b=N=>{(N.sourceEvent.type==="mousedown"||N.sourceEvent.type==="touchstart")&&(v=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY])},k=N=>{const _=n();if(N.sourceEvent.type!=="mousemove"&&N.sourceEvent.type!=="touchmove"||!t)return;const I=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY],P=[I[0]-v[0],I[1]-v[1]];v=I;const T=r()*Math.max(_[2],Math.log(_[2]))*(x?-1:1),O={x:_[0]-P[0]*T,y:_[1]-P[1]*T},U=[[0,0],[d,f]];t.setViewportConstrained({x:O.x,y:O.y,zoom:_[2]},U,c)},E=rC().on("start",b).on("zoom",p?k:null).on("zoom.wheel",g?S:null);o.call(E,{})}function l(){o.on("zoom",null)}return{update:i,destroy:l,pointer:Ir}}const wf=e=>({x:e.x,y:e.y,zoom:e.k}),dm=({x:e,y:t,zoom:n})=>xf.translate(e,t).scale(n),qs=(e,t)=>e.target.closest(`.${t}`),_C=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),yz=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,fm=(e,t=0,n=yz,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},PC=e=>{const t=e.ctrlKey&&ic()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function vz({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:l,onPanZoomStart:c,onPanZoom:d,onPanZoomEnd:f}){return h=>{if(qs(h,t))return h.ctrlKey&&h.preventDefault(),!1;h.preventDefault(),h.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(h.ctrlKey&&l){const b=Ir(h),k=PC(h),E=p*Math.pow(2,k);r.scaleTo(n,E,b,h);return}const g=h.deltaMode===1?20:1;let x=o===Xi.Vertical?0:h.deltaX*g,S=o===Xi.Horizontal?0:h.deltaY*g;!ic()&&h.shiftKey&&o!==Xi.Vertical&&(x=h.deltaY*g,S=0),r.translateBy(n,-(x/p)*i,-(S/p)*i,{internal:!0});const v=wf(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(d==null||d(h,v),e.panScrollTimeout=setTimeout(()=>{f==null||f(h,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,c==null||c(h,v))}}function wz({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",l=!t&&i&&!r.ctrlKey,c=qs(r,e);if(r.ctrlKey&&i&&c&&r.preventDefault(),l||c)return null;r.preventDefault(),n.call(this,r,o)}}function bz({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,l,c;if((i=r.sourceEvent)!=null&&i.internal)return;const o=wf(r.transform);e.mouseButton=((l=r.sourceEvent)==null?void 0:l.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((c=r.sourceEvent)==null?void 0:c.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function Sz({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var l,c;e.usedRightMouseButton=!!(n&&_C(t,e.mouseButton??0)),(l=i.sourceEvent)!=null&&l.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((c=i.sourceEvent)!=null&&c.internal)&&(o==null||o(i.sourceEvent,wf(i.transform)))}}function kz({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return l=>{var c;if(!((c=l.sourceEvent)!=null&&c.internal)&&(e.isZoomingOrPanning=!1,i&&_C(t,e.mouseButton??0)&&!e.usedRightMouseButton&&l.sourceEvent&&i(l.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const d=wf(l.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(l.sourceEvent,d)},n?150:0)}}}function Cz({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:l,noWheelClassName:c,noPanClassName:d,lib:f,connectionInProgress:h}){return p=>{var b;const g=e||t,x=n&&p.ctrlKey,S=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(qs(p,`${f}-flow__node`)||qs(p,`${f}-flow__edge`)))return!0;if(!r&&!g&&!o&&!i&&!n||l||h&&!S||qs(p,c)&&S||qs(p,d)&&(!S||o&&S&&!e)||!n&&p.ctrlKey&&S)return!1;if(!n&&p.type==="touchstart"&&((b=p.touches)==null?void 0:b.length)>1)return p.preventDefault(),!1;if(!g&&!o&&!x&&S||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||S)&&v}}function Nz({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:i,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=e.getBoundingClientRect(),p=rC().scaleExtent([t,n]).translateExtent(r),g=ar(e).call(p);E({x:o.x,y:o.y,zoom:ll(o.zoom,t,n)},[[0,0],[h.width,h.height]],r);const x=g.on("wheel.zoom"),S=g.on("dblclick.zoom");p.wheelDelta(PC);function v(B,Y){return g?new Promise(q=>{p==null||p.interpolate((Y==null?void 0:Y.interpolate)==="linear"?za:yd).transform(fm(g,Y==null?void 0:Y.duration,Y==null?void 0:Y.ease,()=>q(!0)),B)}):Promise.resolve(!1)}function b({noWheelClassName:B,noPanClassName:Y,onPaneContextMenu:q,userSelectionActive:A,panOnScroll:$,panOnDrag:F,panOnScrollMode:G,panOnScrollSpeed:D,preventScrolling:W,zoomOnPinch:M,zoomOnScroll:H,zoomOnDoubleClick:X,zoomActivationKeyPressed:R,lib:V,onTransformChange:Z,connectionInProgress:Q,paneClickDistance:K,selectionOnDrag:te}){A&&!f.isZoomingOrPanning&&k();const J=$&&!R&&!A;p.clickDistance(te?1/0:!Rr(K)||K<0?0:K);const ie=J?vz({zoomPanValues:f,noWheelClassName:B,d3Selection:g,d3Zoom:p,panOnScrollMode:G,panOnScrollSpeed:D,zoomOnPinch:M,onPanZoomStart:l,onPanZoom:i,onPanZoomEnd:c}):wz({noWheelClassName:B,preventScrolling:W,d3ZoomHandler:x});if(g.on("wheel.zoom",ie,{passive:!1}),!A){const de=bz({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:l});p.on("start",de);const fe=Sz({zoomPanValues:f,panOnDrag:F,onPaneContextMenu:!!q,onPanZoom:i,onTransformChange:Z});p.on("zoom",fe);const ye=kz({zoomPanValues:f,panOnDrag:F,panOnScroll:$,onPaneContextMenu:q,onPanZoomEnd:c,onDraggingChange:d});p.on("end",ye)}const le=Cz({zoomActivationKeyPressed:R,panOnDrag:F,zoomOnScroll:H,panOnScroll:$,zoomOnDoubleClick:X,zoomOnPinch:M,userSelectionActive:A,noPanClassName:Y,noWheelClassName:B,lib:V,connectionInProgress:Q});p.filter(le),X?g.on("dblclick.zoom",S):g.on("dblclick.zoom",null)}function k(){p.on("zoom",null)}async function E(B,Y,q){const A=dm(B),$=p==null?void 0:p.constrain()(A,Y,q);return $&&await v($),new Promise(F=>F($))}async function N(B,Y){const q=dm(B);return await v(q,Y),new Promise(A=>A(q))}function _(B){if(g){const Y=dm(B),q=g.property("__zoom");(q.k!==B.zoom||q.x!==B.x||q.y!==B.y)&&(p==null||p.transform(g,Y,null,{sync:!0}))}}function I(){const B=g?nC(g.node()):{x:0,y:0,k:1};return{x:B.x,y:B.y,zoom:B.k}}function P(B,Y){return g?new Promise(q=>{p==null||p.interpolate((Y==null?void 0:Y.interpolate)==="linear"?za:yd).scaleTo(fm(g,Y==null?void 0:Y.duration,Y==null?void 0:Y.ease,()=>q(!0)),B)}):Promise.resolve(!1)}function T(B,Y){return g?new Promise(q=>{p==null||p.interpolate((Y==null?void 0:Y.interpolate)==="linear"?za:yd).scaleBy(fm(g,Y==null?void 0:Y.duration,Y==null?void 0:Y.ease,()=>q(!0)),B)}):Promise.resolve(!1)}function O(B){p==null||p.scaleExtent(B)}function U(B){p==null||p.translateExtent(B)}function L(B){const Y=!Rr(B)||B<0?0:B;p==null||p.clickDistance(Y)}return{update:b,destroy:k,setViewport:N,setViewportConstrained:E,getViewport:I,scaleTo:P,scaleBy:T,setScaleExtent:O,setTranslateExtent:U,syncViewport:_,setClickDistance:L}}var es;(function(e){e.Line="line",e.Handle="handle"})(es||(es={}));const Ez=["top-left","top-right","bottom-left","bottom-right"],jz=["top","right","bottom","left"];function _z({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const l=e-t,c=n-r,d=[l>0?1:l<0?-1:0,c>0?1:c<0?-1:0];return l&&o&&(d[0]=d[0]*-1),c&&i&&(d[1]=d[1]*-1),d}function ib(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function Zo(e,t){return Math.max(0,t-e)}function ei(e,t){return Math.max(0,e-t)}function Zu(e,t,n){return Math.max(0,t-e,e-n)}function sb(e,t){return e?!t:t}function Pz(e,t,n,r,o,i,l,c){let{affectsX:d,affectsY:f}=t;const{isHorizontal:h,isVertical:p}=t,g=h&&p,{xSnapped:x,ySnapped:S}=n,{minWidth:v,maxWidth:b,minHeight:k,maxHeight:E}=r,{x:N,y:_,width:I,height:P,aspectRatio:T}=e;let O=Math.floor(h?x-e.pointerX:0),U=Math.floor(p?S-e.pointerY:0);const L=I+(d?-O:O),B=P+(f?-U:U),Y=-i[0]*I,q=-i[1]*P;let A=Zu(L,v,b),$=Zu(B,k,E);if(l){let D=0,W=0;d&&O<0?D=Zo(N+O+Y,l[0][0]):!d&&O>0&&(D=ei(N+L+Y,l[1][0])),f&&U<0?W=Zo(_+U+q,l[0][1]):!f&&U>0&&(W=ei(_+B+q,l[1][1])),A=Math.max(A,D),$=Math.max($,W)}if(c){let D=0,W=0;d&&O>0?D=ei(N+O,c[0][0]):!d&&O<0&&(D=Zo(N+L,c[1][0])),f&&U>0?W=ei(_+U,c[0][1]):!f&&U<0&&(W=Zo(_+B,c[1][1])),A=Math.max(A,D),$=Math.max($,W)}if(o){if(h){const D=Zu(L/T,k,E)*T;if(A=Math.max(A,D),l){let W=0;!d&&!f||d&&!f&&g?W=ei(_+q+L/T,l[1][1])*T:W=Zo(_+q+(d?O:-O)/T,l[0][1])*T,A=Math.max(A,W)}if(c){let W=0;!d&&!f||d&&!f&&g?W=Zo(_+L/T,c[1][1])*T:W=ei(_+(d?O:-O)/T,c[0][1])*T,A=Math.max(A,W)}}if(p){const D=Zu(B*T,v,b)/T;if($=Math.max($,D),l){let W=0;!d&&!f||f&&!d&&g?W=ei(N+B*T+Y,l[1][0])/T:W=Zo(N+(f?U:-U)*T+Y,l[0][0])/T,$=Math.max($,W)}if(c){let W=0;!d&&!f||f&&!d&&g?W=Zo(N+B*T,c[1][0])/T:W=ei(N+(f?U:-U)*T,c[0][0])/T,$=Math.max($,W)}}}U=U+(U<0?$:-$),O=O+(O<0?A:-A),o&&(g?L>B*T?U=(sb(d,f)?-O:O)/T:O=(sb(d,f)?-U:U)*T:h?(U=O/T,f=d):(O=U*T,d=f));const F=d?N+O:N,G=f?_+U:_;return{width:I+(d?-O:O),height:P+(f?-U:U),x:i[0]*O*(d?-1:1)+F,y:i[1]*U*(f?-1:1)+G}}const AC={width:0,height:0,x:0,y:0},Az={...AC,pointerX:0,pointerY:0,aspectRatio:1};function Iz(e){return[[0,0],[e.measured.width,e.measured.height]]}function Tz(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,l=e.measured.height??0,c=n[0]*i,d=n[1]*l;return[[r-c,o-d],[r+i-c,o+l-d]]}function Rz({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=ar(e);let l={controlDirection:ib("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function c({controlPosition:f,boundaries:h,keepAspectRatio:p,resizeDirection:g,onResizeStart:x,onResize:S,onResizeEnd:v,shouldResize:b}){let k={...AC},E={...Az};l={boundaries:h,resizeDirection:g,keepAspectRatio:p,controlDirection:ib(f)};let N,_=null,I=[],P,T,O,U=!1;const L=Vk().on("start",B=>{const{nodeLookup:Y,transform:q,snapGrid:A,snapToGrid:$,nodeOrigin:F,paneDomNode:G}=n();if(N=Y.get(t),!N)return;_=(G==null?void 0:G.getBoundingClientRect())??null;const{xSnapped:D,ySnapped:W}=$a(B.sourceEvent,{transform:q,snapGrid:A,snapToGrid:$,containerBounds:_});k={width:N.measured.width??0,height:N.measured.height??0,x:N.position.x??0,y:N.position.y??0},E={...k,pointerX:D,pointerY:W,aspectRatio:k.width/k.height},P=void 0,N.parentId&&(N.extent==="parent"||N.expandParent)&&(P=Y.get(N.parentId),T=P&&N.extent==="parent"?Iz(P):void 0),I=[],O=void 0;for(const[M,H]of Y)if(H.parentId===t&&(I.push({id:M,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const X=Tz(H,N,H.origin??F);O?O=[[Math.min(X[0][0],O[0][0]),Math.min(X[0][1],O[0][1])],[Math.max(X[1][0],O[1][0]),Math.max(X[1][1],O[1][1])]]:O=X}x==null||x(B,{...k})}).on("drag",B=>{const{transform:Y,snapGrid:q,snapToGrid:A,nodeOrigin:$}=n(),F=$a(B.sourceEvent,{transform:Y,snapGrid:q,snapToGrid:A,containerBounds:_}),G=[];if(!N)return;const{x:D,y:W,width:M,height:H}=k,X={},R=N.origin??$,{width:V,height:Z,x:Q,y:K}=Pz(E,l.controlDirection,F,l.boundaries,l.keepAspectRatio,R,T,O),te=V!==M,J=Z!==H,ie=Q!==D&&te,le=K!==W&&J;if(!ie&&!le&&!te&&!J)return;if((ie||le||R[0]===1||R[1]===1)&&(X.x=ie?Q:k.x,X.y=le?K:k.y,k.x=X.x,k.y=X.y,I.length>0)){const Ae=Q-D,Re=K-W;for(const nt of I)nt.position={x:nt.position.x-Ae+R[0]*(V-M),y:nt.position.y-Re+R[1]*(Z-H)},G.push(nt)}if((te||J)&&(X.width=te&&(!l.resizeDirection||l.resizeDirection==="horizontal")?V:k.width,X.height=J&&(!l.resizeDirection||l.resizeDirection==="vertical")?Z:k.height,k.width=X.width,k.height=X.height),P&&N.expandParent){const Ae=R[0]*(X.width??0);X.x&&X.x<Ae&&(k.x=Ae,E.x=E.x-(X.x-Ae));const Re=R[1]*(X.height??0);X.y&&X.y<Re&&(k.y=Re,E.y=E.y-(X.y-Re))}const de=_z({width:k.width,prevWidth:M,height:k.height,prevHeight:H,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),fe={...k,direction:de};(b==null?void 0:b(B,fe))!==!1&&(U=!0,S==null||S(B,fe),r(X,G))}).on("end",B=>{U&&(v==null||v(B,{...k}),o==null||o({...k}),U=!1)});i.call(L)}function d(){i.on(".drag",null)}return{update:c,destroy:d}}var pm={exports:{}},hm={},mm={exports:{}},gm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function Mz(){if(lb)return gm;lb=1;var e=mc();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function c(p,g){var x=g(),S=r({inst:{value:x,getSnapshot:g}}),v=S[0].inst,b=S[1];return i(function(){v.value=x,v.getSnapshot=g,d(v)&&b({inst:v})},[p,x,g]),o(function(){return d(v)&&b({inst:v}),p(function(){d(v)&&b({inst:v})})},[p]),l(x),x}function d(p){var g=p.getSnapshot;p=p.value;try{var x=g();return!n(p,x)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return gm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,gm}var ab;function Dz(){return ab||(ab=1,mm.exports=Mz()),mm.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function Oz(){if(cb)return hm;cb=1;var e=mc(),t=Dz();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return hm.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var S=i(null);if(S.current===null){var v={hasValue:!1,value:null};S.current=v}else v=S.current;S=c(function(){function k(P){if(!E){if(E=!0,N=P,P=g(P),x!==void 0&&v.hasValue){var T=v.value;if(x(T,P))return _=T}return _=P}if(T=_,r(N,P))return T;var O=g(P);return x!==void 0&&x(T,O)?(N=P,T):(N=P,_=O)}var E=!1,N,_,I=p===void 0?null:p;return[function(){return k(h())},I===null?void 0:function(){return k(I())}]},[h,p,g,x]);var b=o(f,S[0],S[1]);return l(function(){v.hasValue=!0,v.value=b},[b]),d(b),b},hm}var ub;function Lz(){return ub||(ub=1,pm.exports=Oz()),pm.exports}var zz=Lz();const $z=hc(zz),Fz={},db=e=>{let t;const n=new Set,r=(h,p)=>{const g=typeof h=="function"?h(t):h;if(!Object.is(g,t)){const x=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(S=>S(t,x))}},o=()=>t,d={setState:r,getState:o,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(Fz?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,o,d);return d},Bz=e=>e?db(e):db,{useDebugValue:Vz}=qe,{useSyncExternalStoreWithSelector:Hz}=$z,Uz=e=>e;function IC(e,t=Uz,n){const r=Hz(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Vz(r),r}const fb=(e,t)=>{const n=Bz(e),r=(o,i=t)=>IC(n,o,i);return Object.assign(r,n),r},Wz=(e,t)=>e?fb(e,t):fb;function Bt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var yl=DS();const qz=hc(yl),bf=w.createContext(null),Yz=bf.Provider,TC=ro.error001();function vt(e,t){const n=w.useContext(bf);if(n===null)throw new Error(TC);return IC(n,e,t)}function Ht(){const e=w.useContext(bf);if(e===null)throw new Error(TC);return w.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const pb={display:"none"},Xz={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},RC="react-flow__node-desc",MC="react-flow__edge-desc",Gz="react-flow__aria-live",Kz=e=>e.ariaLiveMessage,Qz=e=>e.ariaLabelConfig;function Jz({rfId:e}){const t=vt(Kz);return u.jsx("div",{id:`${Gz}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Xz,children:t})}function Zz({rfId:e,disableKeyboardA11y:t}){const n=vt(Qz);return u.jsxs(u.Fragment,{children:[u.jsx("div",{id:`${RC}-${e}`,style:pb,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),u.jsx("div",{id:`${MC}-${e}`,style:pb,children:n["edge.a11yDescription.default"]}),!t&&u.jsx(Jz,{rfId:e})]})}const Sc=w.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const l=`${e}`.split("-");return u.jsx("div",{className:nn(["react-flow__panel",n,...l]),style:r,ref:i,...o,children:t})});Sc.displayName="Panel";function e4({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:u.jsx(Sc,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:u.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const t4=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},ed=e=>e.id;function n4(e,t){return Bt(e.selectedNodes.map(ed),t.selectedNodes.map(ed))&&Bt(e.selectedEdges.map(ed),t.selectedEdges.map(ed))}function r4({onSelectionChange:e}){const t=Ht(),{selectedNodes:n,selectedEdges:r}=vt(t4,n4);return w.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const o4=e=>!!e.onSelectionChangeHandlers;function i4({onSelectionChange:e}){const t=vt(o4);return e||t?u.jsx(r4,{onSelectionChange:e}):null}const DC=[0,0],s4={x:0,y:0,zoom:1},l4=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],hb=[...l4,"rfId"],a4=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),mb={translateExtent:tc,nodeOrigin:DC,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function c4(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:l,reset:c,setDefaultNodesAndEdges:d}=vt(a4,Bt),f=Ht();w.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{h.current=mb,c()}),[]);const h=w.useRef(mb);return w.useEffect(()=>{for(const p of hb){const g=e[p],x=h.current[p];g!==x&&(typeof e[p]>"u"||(p==="nodes"?t(g):p==="edges"?n(g):p==="minZoom"?r(g):p==="maxZoom"?o(g):p==="translateExtent"?i(g):p==="nodeExtent"?l(g):p==="ariaLabelConfig"?f.setState({ariaLabelConfig:HL(g)}):p==="fitView"?f.setState({fitViewQueued:g}):p==="fitViewOptions"?f.setState({fitViewOptions:g}):f.setState({[p]:g})))}h.current=e},hb.map(p=>e[p])),null}function gb(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function u4(e){var r;const[t,n]=w.useState(e==="system"?null:e);return w.useEffect(()=>{if(e!=="system"){n(e);return}const o=gb(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=gb())!=null&&r.matches?"dark":"light"}const xb=typeof document<"u"?document:null;function sc(e=null,t={target:xb,actInsideInputWithModifier:!0}){const[n,r]=w.useState(!1),o=w.useRef(!1),i=w.useRef(new Set([])),[l,c]=w.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),h=f.reduce((p,g)=>p.concat(...g),[]);return[f,h]}return[[],[]]},[e]);return w.useEffect(()=>{const d=(t==null?void 0:t.target)??xb,f=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const h=x=>{var b,k;if(o.current=x.ctrlKey||x.metaKey||x.shiftKey||x.altKey,(!o.current||o.current&&!f)&&mC(x))return!1;const v=vb(x.code,c);if(i.current.add(x[v]),yb(l,i.current,!1)){const E=((k=(b=x.composedPath)==null?void 0:b.call(x))==null?void 0:k[0])||x.target,N=(E==null?void 0:E.nodeName)==="BUTTON"||(E==null?void 0:E.nodeName)==="A";t.preventDefault!==!1&&(o.current||!N)&&x.preventDefault(),r(!0)}},p=x=>{const S=vb(x.code,c);yb(l,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(x[S]),x.key==="Meta"&&i.current.clear(),o.current=!1},g=()=>{i.current.clear(),r(!1)};return d==null||d.addEventListener("keydown",h),d==null||d.addEventListener("keyup",p),window.addEventListener("blur",g),window.addEventListener("contextmenu",g),()=>{d==null||d.removeEventListener("keydown",h),d==null||d.removeEventListener("keyup",p),window.removeEventListener("blur",g),window.removeEventListener("contextmenu",g)}}},[e,r]),n}function yb(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function vb(e,t){return t.includes(e)?"code":"key"}const d4=()=>{const e=Ht();return w.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:l}=e.getState();return l?(await l.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:l,panZoom:c}=e.getState(),d=px(t,r,o,i,l,(n==null?void 0:n.padding)??.1);return c?(await c.setViewport(d,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:l}=e.getState();if(!l)return t;const{x:c,y:d}=l.getBoundingClientRect(),f={x:t.x-c,y:t.y-d},h=n.snapGrid??o,p=n.snapToGrid??i;return bc(f,r,p,h)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),l=Bd(t,n);return{x:l.x+o,y:l.y+i}}}),[])};function OC(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const l=r.get(i.id);l?l.push(i):r.set(i.id,[i])}for(const i of t){const l=r.get(i.id);if(!l){n.push(i);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const c={...i};for(const d of l)f4(d,c);n.push(c)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function f4(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function LC(e,t){return OC(e,t)}function zC(e,t){return OC(e,t)}function Fi(e,t){return{id:e,type:"select",selected:t}}function Ys(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const l=t.has(o);!(i.selected===void 0&&!l)&&i.selected!==l&&(n&&(i.selected=l),r.push(Fi(i.id,l)))}return r}function wb({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,l]of e.entries()){const c=t.get(l.id),d=((o=c==null?void 0:c.internals)==null?void 0:o.userNode)??c;d!==void 0&&d!==l&&n.push({id:l.id,item:l,type:"replace"}),d===void 0&&n.push({item:l,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function bb(e){return{id:e.id,type:"remove"}}const Sb=e=>RL(e),p4=e=>aC(e);function $C(e){return w.forwardRef(e)}const h4=typeof window<"u"?w.useLayoutEffect:w.useEffect;function kb(e){const[t,n]=w.useState(BigInt(0)),[r]=w.useState(()=>m4(()=>n(o=>o+BigInt(1))));return h4(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function m4(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const FC=w.createContext(null);function g4({children:e}){const t=Ht(),n=w.useCallback(c=>{const{nodes:d=[],setNodes:f,hasDefaultNodes:h,onNodesChange:p,nodeLookup:g,fitViewQueued:x,onNodesChangeMiddlewareMap:S}=t.getState();let v=d;for(const k of c)v=typeof k=="function"?k(v):k;let b=wb({items:v,lookup:g});for(const k of S.values())b=k(b);h&&f(v),b.length>0?p==null||p(b):x&&window.requestAnimationFrame(()=>{const{fitViewQueued:k,nodes:E,setNodes:N}=t.getState();k&&N(E)})},[]),r=kb(n),o=w.useCallback(c=>{const{edges:d=[],setEdges:f,hasDefaultEdges:h,onEdgesChange:p,edgeLookup:g}=t.getState();let x=d;for(const S of c)x=typeof S=="function"?S(x):S;h?f(x):p&&p(wb({items:x,lookup:g}))},[]),i=kb(o),l=w.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return u.jsx(FC.Provider,{value:l,children:e})}function x4(){const e=w.useContext(FC);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const y4=e=>!!e.panZoom;function pi(){const e=d4(),t=Ht(),n=x4(),r=vt(y4),o=w.useMemo(()=>{const i=p=>t.getState().nodeLookup.get(p),l=p=>{n.nodeQueue.push(p)},c=p=>{n.edgeQueue.push(p)},d=p=>{var k,E;const{nodeLookup:g,nodeOrigin:x}=t.getState(),S=Sb(p)?p:g.get(p.id),v=S.parentId?pC(S.position,S.measured,S.parentId,g,x):S.position,b={...S,position:v,width:((k=S.measured)==null?void 0:k.width)??S.width,height:((E=S.measured)==null?void 0:E.height)??S.height};return al(b)},f=(p,g,x={replace:!1})=>{l(S=>S.map(v=>{if(v.id===p){const b=typeof g=="function"?g(v):g;return x.replace&&Sb(b)?b:{...v,...b}}return v}))},h=(p,g,x={replace:!1})=>{c(S=>S.map(v=>{if(v.id===p){const b=typeof g=="function"?g(v):g;return x.replace&&p4(b)?b:{...v,...b}}return v}))};return{getNodes:()=>t.getState().nodes.map(p=>({...p})),getNode:p=>{var g;return(g=i(p))==null?void 0:g.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:p=[]}=t.getState();return p.map(g=>({...g}))},getEdge:p=>t.getState().edgeLookup.get(p),setNodes:l,setEdges:c,addNodes:p=>{const g=Array.isArray(p)?p:[p];n.nodeQueue.push(x=>[...x,...g])},addEdges:p=>{const g=Array.isArray(p)?p:[p];n.edgeQueue.push(x=>[...x,...g])},toObject:()=>{const{nodes:p=[],edges:g=[],transform:x}=t.getState(),[S,v,b]=x;return{nodes:p.map(k=>({...k})),edges:g.map(k=>({...k})),viewport:{x:S,y:v,zoom:b}}},deleteElements:async({nodes:p=[],edges:g=[]})=>{const{nodes:x,edges:S,onNodesDelete:v,onEdgesDelete:b,triggerNodeChanges:k,triggerEdgeChanges:E,onDelete:N,onBeforeDelete:_}=t.getState(),{nodes:I,edges:P}=await zL({nodesToRemove:p,edgesToRemove:g,nodes:x,edges:S,onBeforeDelete:_}),T=P.length>0,O=I.length>0;if(T){const U=P.map(bb);b==null||b(P),E(U)}if(O){const U=I.map(bb);v==null||v(I),k(U)}return(O||T)&&(N==null||N({nodes:I,edges:P})),{deletedNodes:I,deletedEdges:P}},getIntersectingNodes:(p,g=!0,x)=>{const S=Xw(p),v=S?p:d(p),b=x!==void 0;return v?(x||t.getState().nodes).filter(k=>{const E=t.getState().nodeLookup.get(k.id);if(E&&!S&&(k.id===p.id||!E.internals.positionAbsolute))return!1;const N=al(b?k:E),_=oc(N,v);return g&&_>0||_>=N.width*N.height||_>=v.width*v.height}):[]},isNodeIntersecting:(p,g,x=!0)=>{const v=Xw(p)?p:d(p);if(!v)return!1;const b=oc(v,g);return x&&b>0||b>=g.width*g.height||b>=v.width*v.height},updateNode:f,updateNodeData:(p,g,x={replace:!1})=>{f(p,S=>{const v=typeof g=="function"?g(S):g;return x.replace?{...S,data:v}:{...S,data:{...S.data,...v}}},x)},updateEdge:h,updateEdgeData:(p,g,x={replace:!1})=>{h(p,S=>{const v=typeof g=="function"?g(S):g;return x.replace?{...S,data:v}:{...S,data:{...S.data,...v}}},x)},getNodesBounds:p=>{const{nodeLookup:g,nodeOrigin:x}=t.getState();return ML(p,{nodeLookup:g,nodeOrigin:x})},getHandleConnections:({type:p,id:g,nodeId:x})=>{var S;return Array.from(((S=t.getState().connectionLookup.get(`${x}-${p}${g?`-${g}`:""}`))==null?void 0:S.values())??[])},getNodeConnections:({type:p,handleId:g,nodeId:x})=>{var S;return Array.from(((S=t.getState().connectionLookup.get(`${x}${p?g?`-${p}-${g}`:`-${p}`:""}`))==null?void 0:S.values())??[])},fitView:async p=>{const g=t.getState().fitViewResolver??VL();return t.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:g}),n.nodeQueue.push(x=>[...x]),g.promise}}},[]);return w.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const Cb=e=>e.selected,v4=typeof window<"u"?window:void 0;function w4({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Ht(),{deleteElements:r}=pi(),o=sc(e,{actInsideInputWithModifier:!1}),i=sc(t,{target:v4});w.useEffect(()=>{if(o){const{edges:l,nodes:c}=n.getState();r({nodes:c.filter(Cb),edges:l.filter(Cb)}),n.setState({nodesSelectionActive:!1})}},[o]),w.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function b4(e){const t=Ht();w.useEffect(()=>{const n=()=>{var o,i,l,c;if(!e.current||!(((i=(o=e.current).checkVisibility)==null?void 0:i.call(o))??!0))return!1;const r=mx(e.current);(r.height===0||r.width===0)&&((c=(l=t.getState()).onError)==null||c.call(l,"004",ro.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Sf={position:"absolute",width:"100%",height:"100%",top:0,left:0},S4=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function k4({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=Xi.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:d,translateExtent:f,minZoom:h,maxZoom:p,zoomActivationKeyCode:g,preventScrolling:x=!0,children:S,noWheelClassName:v,noPanClassName:b,onViewportChange:k,isControlledViewport:E,paneClickDistance:N,selectionOnDrag:_}){const I=Ht(),P=w.useRef(null),{userSelectionActive:T,lib:O,connectionInProgress:U}=vt(S4,Bt),L=sc(g),B=w.useRef();b4(P);const Y=w.useCallback(q=>{k==null||k({x:q[0],y:q[1],zoom:q[2]}),E||I.setState({transform:q})},[k,E]);return w.useEffect(()=>{if(P.current){B.current=Nz({domNode:P.current,minZoom:h,maxZoom:p,translateExtent:f,viewport:d,onDraggingChange:F=>I.setState({paneDragging:F}),onPanZoomStart:(F,G)=>{const{onViewportChangeStart:D,onMoveStart:W}=I.getState();W==null||W(F,G),D==null||D(G)},onPanZoom:(F,G)=>{const{onViewportChange:D,onMove:W}=I.getState();W==null||W(F,G),D==null||D(G)},onPanZoomEnd:(F,G)=>{const{onViewportChangeEnd:D,onMoveEnd:W}=I.getState();W==null||W(F,G),D==null||D(G)}});const{x:q,y:A,zoom:$}=B.current.getViewport();return I.setState({panZoom:B.current,transform:[q,A,$],domNode:P.current.closest(".react-flow")}),()=>{var F;(F=B.current)==null||F.destroy()}}},[]),w.useEffect(()=>{var q;(q=B.current)==null||q.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:L,preventScrolling:x,noPanClassName:b,userSelectionActive:T,noWheelClassName:v,lib:O,onTransformChange:Y,connectionInProgress:U,selectionOnDrag:_,paneClickDistance:N})},[e,t,n,r,o,i,l,c,L,x,b,T,v,O,Y,U,_,N]),u.jsx("div",{className:"react-flow__renderer",ref:P,style:Sf,children:S})}const C4=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function N4(){const{userSelectionActive:e,userSelectionRect:t}=vt(C4,Bt);return e&&t?u.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const xm=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},E4=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function j4({isSelecting:e,selectionKeyPressed:t,selectionMode:n=nc.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:i,onSelectionStart:l,onSelectionEnd:c,onPaneClick:d,onPaneContextMenu:f,onPaneScroll:h,onPaneMouseEnter:p,onPaneMouseMove:g,onPaneMouseLeave:x,children:S}){const v=Ht(),{userSelectionActive:b,elementsSelectable:k,dragging:E,connectionInProgress:N}=vt(E4,Bt),_=k&&(e||b),I=w.useRef(null),P=w.useRef(),T=w.useRef(new Set),O=w.useRef(new Set),U=w.useRef(!1),L=D=>{if(U.current||N){U.current=!1;return}d==null||d(D),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},B=D=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){D.preventDefault();return}f==null||f(D)},Y=h?D=>h(D):void 0,q=D=>{U.current&&(D.stopPropagation(),U.current=!1)},A=D=>{var Z,Q;const{domNode:W}=v.getState();if(P.current=W==null?void 0:W.getBoundingClientRect(),!P.current)return;const M=D.target===I.current;if(!M&&!!D.target.closest(".nokey")||!e||!(i&&M||t)||D.button!==0||!D.isPrimary)return;(Q=(Z=D.target)==null?void 0:Z.setPointerCapture)==null||Q.call(Z,D.pointerId),U.current=!1;const{x:R,y:V}=Mr(D.nativeEvent,P.current);v.setState({userSelectionRect:{width:0,height:0,startX:R,startY:V,x:R,y:V}}),M||(D.stopPropagation(),D.preventDefault())},$=D=>{const{userSelectionRect:W,transform:M,nodeLookup:H,edgeLookup:X,connectionLookup:R,triggerNodeChanges:V,triggerEdgeChanges:Z,defaultEdgeOptions:Q,resetSelectedElements:K}=v.getState();if(!P.current||!W)return;const{x:te,y:J}=Mr(D.nativeEvent,P.current),{startX:ie,startY:le}=W;if(!U.current){const Re=t?0:o;if(Math.hypot(te-ie,J-le)<=Re)return;K(),l==null||l(D)}U.current=!0;const de={startX:ie,startY:le,x:te<ie?te:ie,y:J<le?J:le,width:Math.abs(te-ie),height:Math.abs(J-le)},fe=T.current,ye=O.current;T.current=new Set(fx(H,de,M,n===nc.Partial,!0).map(Re=>Re.id)),O.current=new Set;const Ae=(Q==null?void 0:Q.selectable)??!0;for(const Re of T.current){const nt=R.get(Re);if(nt)for(const{edgeId:rt}of nt.values()){const Ze=X.get(rt);Ze&&(Ze.selectable??Ae)&&O.current.add(rt)}}if(!Gw(fe,T.current)){const Re=Ys(H,T.current,!0);V(Re)}if(!Gw(ye,O.current)){const Re=Ys(X,O.current);Z(Re)}v.setState({userSelectionRect:de,userSelectionActive:!0,nodesSelectionActive:!1})},F=D=>{var W,M;D.button===0&&((M=(W=D.target)==null?void 0:W.releasePointerCapture)==null||M.call(W,D.pointerId),!b&&D.target===I.current&&v.getState().userSelectionRect&&(L==null||L(D)),v.setState({userSelectionActive:!1,userSelectionRect:null}),U.current&&(c==null||c(D),v.setState({nodesSelectionActive:T.current.size>0})))},G=r===!0||Array.isArray(r)&&r.includes(0);return u.jsxs("div",{className:nn(["react-flow__pane",{draggable:G,dragging:E,selection:e}]),onClick:_?void 0:xm(L,I),onContextMenu:xm(B,I),onWheel:xm(Y,I),onPointerEnter:_?void 0:p,onPointerMove:_?$:g,onPointerUp:_?F:void 0,onPointerDownCapture:_?A:void 0,onClickCapture:_?q:void 0,onPointerLeave:x,ref:I,style:Sf,children:[S,u.jsx(N4,{})]})}function pg({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:l,nodeLookup:c,onError:d}=t.getState(),f=c.get(e);if(!f){d==null||d("012",ro.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&l)&&(i({nodes:[f],edges:[]}),requestAnimationFrame(()=>{var h;return(h=r==null?void 0:r.current)==null?void 0:h.blur()})):o([e])}function BC({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:l}){const c=Ht(),[d,f]=w.useState(!1),h=w.useRef();return w.useEffect(()=>{h.current=dz({getStoreItems:()=>c.getState(),onNodeMouseDown:p=>{pg({id:p,store:c,nodeRef:e})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),w.useEffect(()=>{var p,g;if(t)(p=h.current)==null||p.destroy();else if(e.current)return(g=h.current)==null||g.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:l}),()=>{var x;(x=h.current)==null||x.destroy()}},[n,r,t,i,e,o]),d}const _4=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function VC(){const e=Ht();return w.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:l,onError:c,updateNodePositions:d,nodeLookup:f,nodeOrigin:h}=e.getState(),p=new Map,g=_4(l),x=o?i[0]:5,S=o?i[1]:5,v=n.direction.x*x*n.factor,b=n.direction.y*S*n.factor;for(const[,k]of f){if(!g(k))continue;let E={x:k.internals.positionAbsolute.x+v,y:k.internals.positionAbsolute.y+b};o&&(E=wc(E,i));const{position:N,positionAbsolute:_}=cC({nodeId:k.id,nextPosition:E,nodeLookup:f,nodeExtent:r,nodeOrigin:h,onError:c});k.position=N,k.internals.positionAbsolute=_,p.set(k.id,k)}d(p)},[])}const Sx=w.createContext(null),P4=Sx.Provider;Sx.Consumer;const HC=()=>w.useContext(Sx),A4=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),I4=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:l}=r,{fromHandle:c,toHandle:d,isValid:f}=l,h=(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===n;return{connectingFrom:(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n,connectingTo:h,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===sl.Strict?(c==null?void 0:c.type)!==n:e!==(c==null?void 0:c.nodeId)||t!==(c==null?void 0:c.id),connectionInProcess:!!c,clickConnectionInProcess:!!o,valid:h&&f}};function T4({type:e="source",position:t=Te.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:l,onConnect:c,children:d,className:f,onMouseDown:h,onTouchStart:p,...g},x){var $,F;const S=l||null,v=e==="target",b=Ht(),k=HC(),{connectOnClick:E,noPanClassName:N,rfId:_}=vt(A4,Bt),{connectingFrom:I,connectingTo:P,clickConnecting:T,isPossibleEndHandle:O,connectionInProcess:U,clickConnectionInProcess:L,valid:B}=vt(I4(k,S,e),Bt);k||(F=($=b.getState()).onError)==null||F.call($,"010",ro.error010());const Y=G=>{const{defaultEdgeOptions:D,onConnect:W,hasDefaultEdges:M}=b.getState(),H={...D,...G};if(M){const{edges:X,setEdges:R}=b.getState();R(GL(H,X))}W==null||W(H),c==null||c(H)},q=G=>{if(!k)return;const D=gC(G.nativeEvent);if(o&&(D&&G.button===0||!D)){const W=b.getState();fg.onPointerDown(G.nativeEvent,{handleDomNode:G.currentTarget,autoPanOnConnect:W.autoPanOnConnect,connectionMode:W.connectionMode,connectionRadius:W.connectionRadius,domNode:W.domNode,nodeLookup:W.nodeLookup,lib:W.lib,isTarget:v,handleId:S,nodeId:k,flowId:W.rfId,panBy:W.panBy,cancelConnection:W.cancelConnection,onConnectStart:W.onConnectStart,onConnectEnd:W.onConnectEnd,updateConnection:W.updateConnection,onConnect:Y,isValidConnection:n||W.isValidConnection,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,autoPanSpeed:W.autoPanSpeed,dragThreshold:W.connectionDragThreshold})}D?h==null||h(G):p==null||p(G)},A=G=>{const{onClickConnectStart:D,onClickConnectEnd:W,connectionClickStartHandle:M,connectionMode:H,isValidConnection:X,lib:R,rfId:V,nodeLookup:Z,connection:Q}=b.getState();if(!k||!M&&!o)return;if(!M){D==null||D(G.nativeEvent,{nodeId:k,handleId:S,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:k,type:e,id:S}});return}const K=hC(G.target),te=n||X,{connection:J,isValid:ie}=fg.isValid(G.nativeEvent,{handle:{nodeId:k,id:S,type:e},connectionMode:H,fromNodeId:M.nodeId,fromHandleId:M.id||null,fromType:M.type,isValidConnection:te,flowId:V,doc:K,lib:R,nodeLookup:Z});ie&&J&&Y(J);const le=structuredClone(Q);delete le.inProgress,le.toPosition=le.toHandle?le.toHandle.position:null,W==null||W(G,le),b.setState({connectionClickStartHandle:null})};return u.jsx("div",{"data-handleid":S,"data-nodeid":k,"data-handlepos":t,"data-id":`${_}-${k}-${S}-${e}`,className:nn(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",N,f,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:i,clickconnecting:T,connectingfrom:I,connectingto:P,valid:B,connectionindicator:r&&(!U||O)&&(U||L?i:o)}]),onMouseDown:q,onTouchStart:q,onClick:E?A:void 0,ref:x,...g,children:d})}const ui=w.memo($C(T4));function R4({data:e,isConnectable:t,sourcePosition:n=Te.Bottom}){return u.jsxs(u.Fragment,{children:[e==null?void 0:e.label,u.jsx(ui,{type:"source",position:n,isConnectable:t})]})}function M4({data:e,isConnectable:t,targetPosition:n=Te.Top,sourcePosition:r=Te.Bottom}){return u.jsxs(u.Fragment,{children:[u.jsx(ui,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,u.jsx(ui,{type:"source",position:r,isConnectable:t})]})}function D4(){return null}function O4({data:e,isConnectable:t,targetPosition:n=Te.Top}){return u.jsxs(u.Fragment,{children:[u.jsx(ui,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Vd={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Nb={input:R4,default:M4,output:O4,group:D4};function L4(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const z4=e=>{const{width:t,height:n,x:r,y:o}=vc(e.nodeLookup,{filter:i=>!!i.selected});return{width:Rr(t)?t:null,height:Rr(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function $4({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ht(),{width:o,height:i,transformString:l,userSelectionActive:c}=vt(z4,Bt),d=VC(),f=w.useRef(null);if(w.useEffect(()=>{var g;n||(g=f.current)==null||g.focus({preventScroll:!0})},[n]),BC({nodeRef:f}),c||!o||!i)return null;const h=e?g=>{const x=r.getState().nodes.filter(S=>S.selected);e(g,x)}:void 0,p=g=>{Object.prototype.hasOwnProperty.call(Vd,g.key)&&(g.preventDefault(),d({direction:Vd[g.key],factor:g.shiftKey?4:1}))};return u.jsx("div",{className:nn(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:u.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:o,height:i}})})}const Eb=typeof window<"u"?window:void 0,F4=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function UC({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:p,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:S,panActivationKeyCode:v,zoomActivationKeyCode:b,elementsSelectable:k,zoomOnScroll:E,zoomOnPinch:N,panOnScroll:_,panOnScrollSpeed:I,panOnScrollMode:P,zoomOnDoubleClick:T,panOnDrag:O,defaultViewport:U,translateExtent:L,minZoom:B,maxZoom:Y,preventScrolling:q,onSelectionContextMenu:A,noWheelClassName:$,noPanClassName:F,disableKeyboardA11y:G,onViewportChange:D,isControlledViewport:W}){const{nodesSelectionActive:M,userSelectionActive:H}=vt(F4,Bt),X=sc(f,{target:Eb}),R=sc(v,{target:Eb}),V=R||O,Z=R||_,Q=h&&V!==!0,K=X||H||Q;return w4({deleteKeyCode:d,multiSelectionKeyCode:S}),u.jsx(k4,{onPaneContextMenu:i,elementsSelectable:k,zoomOnScroll:E,zoomOnPinch:N,panOnScroll:Z,panOnScrollSpeed:I,panOnScrollMode:P,zoomOnDoubleClick:T,panOnDrag:!X&&V,defaultViewport:U,translateExtent:L,minZoom:B,maxZoom:Y,zoomActivationKeyCode:b,preventScrolling:q,noWheelClassName:$,noPanClassName:F,onViewportChange:D,isControlledViewport:W,paneClickDistance:c,selectionOnDrag:Q,children:u.jsxs(j4,{onSelectionStart:g,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:l,panOnDrag:V,isSelecting:!!K,selectionMode:p,selectionKeyPressed:X,paneClickDistance:c,selectionOnDrag:Q,children:[e,M&&u.jsx($4,{onSelectionContextMenu:A,noPanClassName:F,disableKeyboardA11y:G})]})})}UC.displayName="FlowRenderer";const B4=w.memo(UC),V4=e=>t=>e?fx(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function H4(e){return vt(w.useCallback(V4(e),[e]),Bt)}const U4=e=>e.updateNodeInternals;function W4(){const e=vt(U4),[t]=w.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return w.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function q4({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=Ht(),i=w.useRef(null),l=w.useRef(null),c=w.useRef(e.sourcePosition),d=w.useRef(e.targetPosition),f=w.useRef(t),h=n&&!!e.internals.handleBounds;return w.useEffect(()=>{i.current&&!e.hidden&&(!h||l.current!==i.current)&&(l.current&&(r==null||r.unobserve(l.current)),r==null||r.observe(i.current),l.current=i.current)},[h,e.hidden]),w.useEffect(()=>()=>{l.current&&(r==null||r.unobserve(l.current),l.current=null)},[]),w.useEffect(()=>{if(i.current){const p=f.current!==t,g=c.current!==e.sourcePosition,x=d.current!==e.targetPosition;(p||g||x)&&(f.current=t,c.current=e.sourcePosition,d.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function Y4({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:l,nodesDraggable:c,elementsSelectable:d,nodesConnectable:f,nodesFocusable:h,resizeObserver:p,noDragClassName:g,noPanClassName:x,disableKeyboardA11y:S,rfId:v,nodeTypes:b,nodeClickDistance:k,onError:E}){const{node:N,internals:_,isParent:I}=vt(te=>{const J=te.nodeLookup.get(e),ie=te.parentLookup.has(e);return{node:J,internals:J.internals,isParent:ie}},Bt);let P=N.type||"default",T=(b==null?void 0:b[P])||Nb[P];T===void 0&&(E==null||E("003",ro.error003(P)),P="default",T=(b==null?void 0:b.default)||Nb.default);const O=!!(N.draggable||c&&typeof N.draggable>"u"),U=!!(N.selectable||d&&typeof N.selectable>"u"),L=!!(N.connectable||f&&typeof N.connectable>"u"),B=!!(N.focusable||h&&typeof N.focusable>"u"),Y=Ht(),q=hx(N),A=q4({node:N,nodeType:P,hasDimensions:q,resizeObserver:p}),$=BC({nodeRef:A,disabled:N.hidden||!O,noDragClassName:g,handleSelector:N.dragHandle,nodeId:e,isSelectable:U,nodeClickDistance:k}),F=VC();if(N.hidden)return null;const G=Ao(N),D=L4(N),W=U||O||t||n||r||o,M=n?te=>n(te,{..._.userNode}):void 0,H=r?te=>r(te,{..._.userNode}):void 0,X=o?te=>o(te,{..._.userNode}):void 0,R=i?te=>i(te,{..._.userNode}):void 0,V=l?te=>l(te,{..._.userNode}):void 0,Z=te=>{const{selectNodesOnDrag:J,nodeDragThreshold:ie}=Y.getState();U&&(!J||!O||ie>0)&&pg({id:e,store:Y,nodeRef:A}),t&&t(te,{..._.userNode})},Q=te=>{if(!(mC(te.nativeEvent)||S)){if(oC.includes(te.key)&&U){const J=te.key==="Escape";pg({id:e,store:Y,unselect:J,nodeRef:A})}else if(O&&N.selected&&Object.prototype.hasOwnProperty.call(Vd,te.key)){te.preventDefault();const{ariaLabelConfig:J}=Y.getState();Y.setState({ariaLiveMessage:J["node.a11yDescription.ariaLiveMessage"]({direction:te.key.replace("Arrow","").toLowerCase(),x:~~_.positionAbsolute.x,y:~~_.positionAbsolute.y})}),F({direction:Vd[te.key],factor:te.shiftKey?4:1})}}},K=()=>{var ye;if(S||!((ye=A.current)!=null&&ye.matches(":focus-visible")))return;const{transform:te,width:J,height:ie,autoPanOnNodeFocus:le,setCenter:de}=Y.getState();if(!le)return;fx(new Map([[e,N]]),{x:0,y:0,width:J,height:ie},te,!0).length>0||de(N.position.x+G.width/2,N.position.y+G.height/2,{zoom:te[2]})};return u.jsx("div",{className:nn(["react-flow__node",`react-flow__node-${P}`,{[x]:O},N.className,{selected:N.selected,selectable:U,parent:I,draggable:O,dragging:$}]),ref:A,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:W?"all":"none",visibility:q?"visible":"hidden",...N.style,...D},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:M,onMouseMove:H,onMouseLeave:X,onContextMenu:R,onClick:Z,onDoubleClick:V,onKeyDown:B?Q:void 0,tabIndex:B?0:void 0,onFocus:B?K:void 0,role:N.ariaRole??(B?"group":void 0),"aria-roledescription":"node","aria-describedby":S?void 0:`${RC}-${v}`,"aria-label":N.ariaLabel,...N.domAttributes,children:u.jsx(P4,{value:e,children:u.jsx(T,{id:e,data:N.data,type:P,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:N.selected??!1,selectable:U,draggable:O,deletable:N.deletable??!0,isConnectable:L,sourcePosition:N.sourcePosition,targetPosition:N.targetPosition,dragging:$,dragHandle:N.dragHandle,zIndex:_.z,parentId:N.parentId,...G})})})}var X4=w.memo(Y4);const G4=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function WC(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=vt(G4,Bt),l=H4(e.onlyRenderVisibleElements),c=W4();return u.jsx("div",{className:"react-flow__nodes",style:Sf,children:l.map(d=>u.jsx(X4,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:c,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},d))})}WC.displayName="NodeRenderer";const K4=w.memo(WC);function Q4(e){return vt(w.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),l=n.nodeLookup.get(o.target);i&&l&&qL({sourceNode:i,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),Bt)}const J4=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return u.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Z4=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return u.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},jb={[rc.Arrow]:J4,[rc.ArrowClosed]:Z4};function e3(e){const t=Ht();return w.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(jb,e)?jb[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",ro.error009(e)),null)},[e])}const t3=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{const d=e3(t);return d?u.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:c,refX:"0",refY:"0",children:u.jsx(d,{color:n,strokeWidth:l})}):null},qC=({defaultColor:e,rfId:t})=>{const n=vt(i=>i.edges),r=vt(i=>i.defaultEdgeOptions),o=w.useMemo(()=>ez(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?u.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:u.jsx("defs",{children:o.map(i=>u.jsx(t3,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};qC.displayName="MarkerDefinitions";var n3=w.memo(qC);function YC({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:d,className:f,...h}){const[p,g]=w.useState({x:1,y:0,width:0,height:0}),x=nn(["react-flow__edge-textwrapper",f]),S=w.useRef(null);return w.useEffect(()=>{if(S.current){const v=S.current.getBBox();g({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?u.jsxs("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:x,visibility:p.width?"visible":"hidden",...h,children:[o&&u.jsx("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:i,rx:c,ry:c}),u.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:S,style:r,children:n}),d]}):null}YC.displayName="EdgeText";const r3=w.memo(YC);function kf({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,interactionWidth:f=20,...h}){return u.jsxs(u.Fragment,{children:[u.jsx("path",{...h,d:e,fill:"none",className:nn(["react-flow__edge-path",h.className])}),f?u.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&Rr(t)&&Rr(n)?u.jsx(r3,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d}):null]})}function _b({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Te.Left||e===Te.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function XC({sourceX:e,sourceY:t,sourcePosition:n=Te.Bottom,targetX:r,targetY:o,targetPosition:i=Te.Top}){const[l,c]=_b({pos:n,x1:e,y1:t,x2:r,y2:o}),[d,f]=_b({pos:i,x1:r,y1:o,x2:e,y2:t}),[h,p,g,x]=xC({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:f});return[`M${e},${t} C${l},${c} ${d},${f} ${r},${o}`,h,p,g,x]}function GC(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:l,targetPosition:c,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:S,markerEnd:v,markerStart:b,interactionWidth:k})=>{const[E,N,_]=XC({sourceX:n,sourceY:r,sourcePosition:l,targetX:o,targetY:i,targetPosition:c}),I=e.isInternal?void 0:t;return u.jsx(kf,{id:I,path:E,labelX:N,labelY:_,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:S,markerEnd:v,markerStart:b,interactionWidth:k})})}const o3=GC({isInternal:!1}),KC=GC({isInternal:!0});o3.displayName="SimpleBezierEdge";KC.displayName="SimpleBezierEdgeInternal";function QC(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:g,sourcePosition:x=Te.Bottom,targetPosition:S=Te.Top,markerEnd:v,markerStart:b,pathOptions:k,interactionWidth:E})=>{const[N,_,I]=cg({sourceX:n,sourceY:r,sourcePosition:x,targetX:o,targetY:i,targetPosition:S,borderRadius:k==null?void 0:k.borderRadius,offset:k==null?void 0:k.offset,stepPosition:k==null?void 0:k.stepPosition}),P=e.isInternal?void 0:t;return u.jsx(kf,{id:P,path:N,labelX:_,labelY:I,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:v,markerStart:b,interactionWidth:E})})}const JC=QC({isInternal:!1}),ZC=QC({isInternal:!0});JC.displayName="SmoothStepEdge";ZC.displayName="SmoothStepEdgeInternal";function eN(e){return w.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return u.jsx(JC,{...n,id:r,pathOptions:w.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const i3=eN({isInternal:!1}),tN=eN({isInternal:!0});i3.displayName="StepEdge";tN.displayName="StepEdgeInternal";function nN(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:x,markerStart:S,interactionWidth:v})=>{const[b,k,E]=gx({sourceX:n,sourceY:r,targetX:o,targetY:i}),N=e.isInternal?void 0:t;return u.jsx(kf,{id:N,path:b,labelX:k,labelY:E,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:x,markerStart:S,interactionWidth:v})})}const s3=nN({isInternal:!1}),rN=nN({isInternal:!0});s3.displayName="StraightEdge";rN.displayName="StraightEdgeInternal";function oN(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:l=Te.Bottom,targetPosition:c=Te.Top,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:S,markerEnd:v,markerStart:b,pathOptions:k,interactionWidth:E})=>{const[N,_,I]=yC({sourceX:n,sourceY:r,sourcePosition:l,targetX:o,targetY:i,targetPosition:c,curvature:k==null?void 0:k.curvature}),P=e.isInternal?void 0:t;return u.jsx(kf,{id:P,path:N,labelX:_,labelY:I,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:S,markerEnd:v,markerStart:b,interactionWidth:E})})}const l3=oN({isInternal:!1}),iN=oN({isInternal:!0});l3.displayName="BezierEdge";iN.displayName="BezierEdgeInternal";const Pb={default:iN,straight:rN,step:tN,smoothstep:ZC,simplebezier:KC},Ab={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},a3=(e,t,n)=>n===Te.Left?e-t:n===Te.Right?e+t:e,c3=(e,t,n)=>n===Te.Top?e-t:n===Te.Bottom?e+t:e,Ib="react-flow__edgeupdater";function Tb({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:l,type:c}){return u.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:l,className:nn([Ib,`${Ib}-${c}`]),cx:a3(t,r,e),cy:c3(n,r,e),r,stroke:"transparent",fill:"transparent"})}function u3({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:l,sourcePosition:c,targetPosition:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:p,setReconnecting:g,setUpdateHover:x}){const S=Ht(),v=(_,I)=>{if(_.button!==0)return;const{autoPanOnConnect:P,domNode:T,isValidConnection:O,connectionMode:U,connectionRadius:L,lib:B,onConnectStart:Y,onConnectEnd:q,cancelConnection:A,nodeLookup:$,rfId:F,panBy:G,updateConnection:D}=S.getState(),W=I.type==="target",M=(R,V)=>{g(!1),p==null||p(R,n,I.type,V)},H=R=>f==null?void 0:f(n,R),X=(R,V)=>{g(!0),h==null||h(_,n,I.type),Y==null||Y(R,V)};fg.onPointerDown(_.nativeEvent,{autoPanOnConnect:P,connectionMode:U,connectionRadius:L,domNode:T,handleId:I.id,nodeId:I.nodeId,nodeLookup:$,isTarget:W,edgeUpdaterType:I.type,lib:B,flowId:F,cancelConnection:A,panBy:G,isValidConnection:O,onConnect:H,onConnectStart:X,onConnectEnd:q,onReconnectEnd:M,updateConnection:D,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,dragThreshold:S.getState().connectionDragThreshold,handleDomNode:_.currentTarget})},b=_=>v(_,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),k=_=>v(_,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),E=()=>x(!0),N=()=>x(!1);return u.jsxs(u.Fragment,{children:[(e===!0||e==="source")&&u.jsx(Tb,{position:c,centerX:r,centerY:o,radius:t,onMouseDown:b,onMouseEnter:E,onMouseOut:N,type:"source"}),(e===!0||e==="target")&&u.jsx(Tb,{position:d,centerX:i,centerY:l,radius:t,onMouseDown:k,onMouseEnter:E,onMouseOut:N,type:"target"})]})}function d3({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:l,onMouseEnter:c,onMouseMove:d,onMouseLeave:f,reconnectRadius:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:x,rfId:S,edgeTypes:v,noPanClassName:b,onError:k,disableKeyboardA11y:E}){let N=vt(de=>de.edgeLookup.get(e));const _=vt(de=>de.defaultEdgeOptions);N=_?{..._,...N}:N;let I=N.type||"default",P=(v==null?void 0:v[I])||Pb[I];P===void 0&&(k==null||k("011",ro.error011(I)),I="default",P=(v==null?void 0:v.default)||Pb.default);const T=!!(N.focusable||t&&typeof N.focusable>"u"),O=typeof p<"u"&&(N.reconnectable||n&&typeof N.reconnectable>"u"),U=!!(N.selectable||r&&typeof N.selectable>"u"),L=w.useRef(null),[B,Y]=w.useState(!1),[q,A]=w.useState(!1),$=Ht(),{zIndex:F,sourceX:G,sourceY:D,targetX:W,targetY:M,sourcePosition:H,targetPosition:X}=vt(w.useCallback(de=>{const fe=de.nodeLookup.get(N.source),ye=de.nodeLookup.get(N.target);if(!fe||!ye)return{zIndex:N.zIndex,...Ab};const Ae=ZL({id:e,sourceNode:fe,targetNode:ye,sourceHandle:N.sourceHandle||null,targetHandle:N.targetHandle||null,connectionMode:de.connectionMode,onError:k});return{zIndex:WL({selected:N.selected,zIndex:N.zIndex,sourceNode:fe,targetNode:ye,elevateOnSelect:de.elevateEdgesOnSelect,zIndexMode:de.zIndexMode}),...Ae||Ab}},[N.source,N.target,N.sourceHandle,N.targetHandle,N.selected,N.zIndex]),Bt),R=w.useMemo(()=>N.markerStart?`url('#${ug(N.markerStart,S)}')`:void 0,[N.markerStart,S]),V=w.useMemo(()=>N.markerEnd?`url('#${ug(N.markerEnd,S)}')`:void 0,[N.markerEnd,S]);if(N.hidden||G===null||D===null||W===null||M===null)return null;const Z=de=>{var Re;const{addSelectedEdges:fe,unselectNodesAndEdges:ye,multiSelectionActive:Ae}=$.getState();U&&($.setState({nodesSelectionActive:!1}),N.selected&&Ae?(ye({nodes:[],edges:[N]}),(Re=L.current)==null||Re.blur()):fe([e])),o&&o(de,N)},Q=i?de=>{i(de,{...N})}:void 0,K=l?de=>{l(de,{...N})}:void 0,te=c?de=>{c(de,{...N})}:void 0,J=d?de=>{d(de,{...N})}:void 0,ie=f?de=>{f(de,{...N})}:void 0,le=de=>{var fe;if(!E&&oC.includes(de.key)&&U){const{unselectNodesAndEdges:ye,addSelectedEdges:Ae}=$.getState();de.key==="Escape"?((fe=L.current)==null||fe.blur(),ye({edges:[N]})):Ae([e])}};return u.jsx("svg",{style:{zIndex:F},children:u.jsxs("g",{className:nn(["react-flow__edge",`react-flow__edge-${I}`,N.className,b,{selected:N.selected,animated:N.animated,inactive:!U&&!o,updating:B,selectable:U}]),onClick:Z,onDoubleClick:Q,onContextMenu:K,onMouseEnter:te,onMouseMove:J,onMouseLeave:ie,onKeyDown:T?le:void 0,tabIndex:T?0:void 0,role:N.ariaRole??(T?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":N.ariaLabel===null?void 0:N.ariaLabel||`Edge from ${N.source} to ${N.target}`,"aria-describedby":T?`${MC}-${S}`:void 0,ref:L,...N.domAttributes,children:[!q&&u.jsx(P,{id:e,source:N.source,target:N.target,type:N.type,selected:N.selected,animated:N.animated,selectable:U,deletable:N.deletable??!0,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,sourceX:G,sourceY:D,targetX:W,targetY:M,sourcePosition:H,targetPosition:X,data:N.data,style:N.style,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerStart:R,markerEnd:V,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth}),O&&u.jsx(u3,{edge:N,isReconnectable:O,reconnectRadius:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:x,sourceX:G,sourceY:D,targetX:W,targetY:M,sourcePosition:H,targetPosition:X,setUpdateHover:Y,setReconnecting:A})]})})}var f3=w.memo(d3);const p3=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function sN({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:h,reconnectRadius:p,onEdgeDoubleClick:g,onReconnectStart:x,onReconnectEnd:S,disableKeyboardA11y:v}){const{edgesFocusable:b,edgesReconnectable:k,elementsSelectable:E,onError:N}=vt(p3,Bt),_=Q4(t);return u.jsxs("div",{className:"react-flow__edges",children:[u.jsx(n3,{defaultColor:e,rfId:n}),_.map(I=>u.jsx(f3,{id:I,edgesFocusable:b,edgesReconnectable:k,elementsSelectable:E,noPanClassName:o,onReconnect:i,onContextMenu:l,onMouseEnter:c,onMouseMove:d,onMouseLeave:f,onClick:h,reconnectRadius:p,onDoubleClick:g,onReconnectStart:x,onReconnectEnd:S,rfId:n,onError:N,edgeTypes:r,disableKeyboardA11y:v},I))]})}sN.displayName="EdgeRenderer";const h3=w.memo(sN),m3=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function g3({children:e}){const t=vt(m3);return u.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function x3(e){const t=pi(),n=w.useRef(!1);w.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const y3=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function v3(e){const t=vt(y3),n=Ht();return w.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function w3(e){return e.connection.inProgress?{...e.connection,to:bc(e.connection.to,e.transform)}:{...e.connection}}function b3(e){return w3}function kx(e){const t=b3();return vt(t,Bt)}const S3=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function k3({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:l,isValid:c,inProgress:d}=vt(S3,Bt);return!(i&&o&&d)?null:u.jsx("svg",{style:e,width:i,height:l,className:"react-flow__connectionline react-flow__container",children:u.jsx("g",{className:nn(["react-flow__connection",lC(c)]),children:u.jsx(lN,{style:t,type:n,CustomComponent:r,isValid:c})})})}const lN=({style:e,type:t=ii.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:l,fromHandle:c,fromPosition:d,to:f,toNode:h,toHandle:p,toPosition:g,pointer:x}=kx();if(!o)return;if(n)return u.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:c,fromX:i.x,fromY:i.y,toX:f.x,toY:f.y,fromPosition:d,toPosition:g,connectionStatus:lC(r),toNode:h,toHandle:p,pointer:x});let S="";const v={sourceX:i.x,sourceY:i.y,sourcePosition:d,targetX:f.x,targetY:f.y,targetPosition:g};switch(t){case ii.Bezier:[S]=yC(v);break;case ii.SimpleBezier:[S]=XC(v);break;case ii.Step:[S]=cg({...v,borderRadius:0});break;case ii.SmoothStep:[S]=cg(v);break;default:[S]=gx(v)}return u.jsx("path",{d:S,fill:"none",className:"react-flow__connection-path",style:e})};lN.displayName="ConnectionLine";const C3={};function Rb(e=C3){w.useRef(e),Ht(),w.useEffect(()=>{},[e])}function N3(){Ht(),w.useRef(!1),w.useEffect(()=>{},[])}function aN({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:g,onSelectionEnd:x,connectionLineType:S,connectionLineStyle:v,connectionLineComponent:b,connectionLineContainerStyle:k,selectionKeyCode:E,selectionOnDrag:N,selectionMode:_,multiSelectionKeyCode:I,panActivationKeyCode:P,zoomActivationKeyCode:T,deleteKeyCode:O,onlyRenderVisibleElements:U,elementsSelectable:L,defaultViewport:B,translateExtent:Y,minZoom:q,maxZoom:A,preventScrolling:$,defaultMarkerColor:F,zoomOnScroll:G,zoomOnPinch:D,panOnScroll:W,panOnScrollSpeed:M,panOnScrollMode:H,zoomOnDoubleClick:X,panOnDrag:R,onPaneClick:V,onPaneMouseEnter:Z,onPaneMouseMove:Q,onPaneMouseLeave:K,onPaneScroll:te,onPaneContextMenu:J,paneClickDistance:ie,nodeClickDistance:le,onEdgeContextMenu:de,onEdgeMouseEnter:fe,onEdgeMouseMove:ye,onEdgeMouseLeave:Ae,reconnectRadius:Re,onReconnect:nt,onReconnectStart:rt,onReconnectEnd:Ze,noDragClassName:kt,noWheelClassName:Ce,noPanClassName:tt,disableKeyboardA11y:ht,nodeExtent:Nt,rfId:Et,viewport:ue,onViewportChange:me}){return Rb(e),Rb(t),N3(),x3(n),v3(ue),u.jsx(B4,{onPaneClick:V,onPaneMouseEnter:Z,onPaneMouseMove:Q,onPaneMouseLeave:K,onPaneContextMenu:J,onPaneScroll:te,paneClickDistance:ie,deleteKeyCode:O,selectionKeyCode:E,selectionOnDrag:N,selectionMode:_,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:I,panActivationKeyCode:P,zoomActivationKeyCode:T,elementsSelectable:L,zoomOnScroll:G,zoomOnPinch:D,zoomOnDoubleClick:X,panOnScroll:W,panOnScrollSpeed:M,panOnScrollMode:H,panOnDrag:R,defaultViewport:B,translateExtent:Y,minZoom:q,maxZoom:A,onSelectionContextMenu:p,preventScrolling:$,noDragClassName:kt,noWheelClassName:Ce,noPanClassName:tt,disableKeyboardA11y:ht,onViewportChange:me,isControlledViewport:!!ue,children:u.jsxs(g3,{children:[u.jsx(h3,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:l,onReconnect:nt,onReconnectStart:rt,onReconnectEnd:Ze,onlyRenderVisibleElements:U,onEdgeContextMenu:de,onEdgeMouseEnter:fe,onEdgeMouseMove:ye,onEdgeMouseLeave:Ae,reconnectRadius:Re,defaultMarkerColor:F,noPanClassName:tt,disableKeyboardA11y:ht,rfId:Et}),u.jsx(k3,{style:v,type:S,component:b,containerStyle:k}),u.jsx("div",{className:"react-flow__edgelabel-renderer"}),u.jsx(K4,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,nodeClickDistance:le,onlyRenderVisibleElements:U,noPanClassName:tt,noDragClassName:kt,disableKeyboardA11y:ht,nodeExtent:Nt,rfId:Et}),u.jsx("div",{className:"react-flow__viewport-portal"})]})})}aN.displayName="GraphView";const E3=w.memo(aN),Mb=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:l,fitViewOptions:c,minZoom:d=.5,maxZoom:f=2,nodeOrigin:h,nodeExtent:p,zIndexMode:g="basic"}={})=>{const x=new Map,S=new Map,v=new Map,b=new Map,k=r??t??[],E=n??e??[],N=h??[0,0],_=p??tc;SC(v,b,k);const I=dg(E,x,S,{nodeOrigin:N,nodeExtent:_,zIndexMode:g});let P=[0,0,1];if(l&&o&&i){const T=vc(x,{filter:B=>!!((B.width||B.initialWidth)&&(B.height||B.initialHeight))}),{x:O,y:U,zoom:L}=px(T,o,i,d,f,(c==null?void 0:c.padding)??.1);P=[O,U,L]}return{rfId:"1",width:o??0,height:i??0,transform:P,nodes:E,nodesInitialized:I,nodeLookup:x,parentLookup:S,edges:k,edgeLookup:b,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:d,maxZoom:f,translateExtent:tc,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:sl.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:N,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:c,fitViewResolver:null,connection:{...sC},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:$L,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:iC,zIndexMode:g,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},j3=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:f,nodeOrigin:h,nodeExtent:p,zIndexMode:g})=>Wz((x,S)=>{async function v(){const{nodeLookup:b,panZoom:k,fitViewOptions:E,fitViewResolver:N,width:_,height:I,minZoom:P,maxZoom:T}=S();k&&(await LL({nodes:b,width:_,height:I,panZoom:k,minZoom:P,maxZoom:T},E),N==null||N.resolve(!0),x({fitViewResolver:null}))}return{...Mb({nodes:e,edges:t,width:o,height:i,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:f,nodeOrigin:h,nodeExtent:p,defaultNodes:n,defaultEdges:r,zIndexMode:g}),setNodes:b=>{const{nodeLookup:k,parentLookup:E,nodeOrigin:N,elevateNodesOnSelect:_,fitViewQueued:I,zIndexMode:P}=S(),T=dg(b,k,E,{nodeOrigin:N,nodeExtent:p,elevateNodesOnSelect:_,checkEquality:!0,zIndexMode:P});I&&T?(v(),x({nodes:b,nodesInitialized:T,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:b,nodesInitialized:T})},setEdges:b=>{const{connectionLookup:k,edgeLookup:E}=S();SC(k,E,b),x({edges:b})},setDefaultNodesAndEdges:(b,k)=>{if(b){const{setNodes:E}=S();E(b),x({hasDefaultNodes:!0})}if(k){const{setEdges:E}=S();E(k),x({hasDefaultEdges:!0})}},updateNodeInternals:b=>{const{triggerNodeChanges:k,nodeLookup:E,parentLookup:N,domNode:_,nodeOrigin:I,nodeExtent:P,debug:T,fitViewQueued:O,zIndexMode:U}=S(),{changes:L,updatedInternals:B}=lz(b,E,N,_,I,P,U);B&&(rz(E,N,{nodeOrigin:I,nodeExtent:P,zIndexMode:U}),O?(v(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),(L==null?void 0:L.length)>0&&(T&&console.log("React Flow: trigger node changes",L),k==null||k(L)))},updateNodePositions:(b,k=!1)=>{const E=[];let N=[];const{nodeLookup:_,triggerNodeChanges:I,connection:P,updateConnection:T,onNodesChangeMiddlewareMap:O}=S();for(const[U,L]of b){const B=_.get(U),Y=!!(B!=null&&B.expandParent&&(B!=null&&B.parentId)&&(L!=null&&L.position)),q={id:U,type:"position",position:Y?{x:Math.max(0,L.position.x),y:Math.max(0,L.position.y)}:L.position,dragging:k};if(B&&P.inProgress&&P.fromNode.id===B.id){const A=Zi(B,P.fromHandle,Te.Left,!0);T({...P,from:A})}Y&&B.parentId&&E.push({id:U,parentId:B.parentId,rect:{...L.internals.positionAbsolute,width:L.measured.width??0,height:L.measured.height??0}}),N.push(q)}if(E.length>0){const{parentLookup:U,nodeOrigin:L}=S(),B=bx(E,_,U,L);N.push(...B)}for(const U of O.values())N=U(N);I(N)},triggerNodeChanges:b=>{const{onNodesChange:k,setNodes:E,nodes:N,hasDefaultNodes:_,debug:I}=S();if(b!=null&&b.length){if(_){const P=LC(b,N);E(P)}I&&console.log("React Flow: trigger node changes",b),k==null||k(b)}},triggerEdgeChanges:b=>{const{onEdgesChange:k,setEdges:E,edges:N,hasDefaultEdges:_,debug:I}=S();if(b!=null&&b.length){if(_){const P=zC(b,N);E(P)}I&&console.log("React Flow: trigger edge changes",b),k==null||k(b)}},addSelectedNodes:b=>{const{multiSelectionActive:k,edgeLookup:E,nodeLookup:N,triggerNodeChanges:_,triggerEdgeChanges:I}=S();if(k){const P=b.map(T=>Fi(T,!0));_(P);return}_(Ys(N,new Set([...b]),!0)),I(Ys(E))},addSelectedEdges:b=>{const{multiSelectionActive:k,edgeLookup:E,nodeLookup:N,triggerNodeChanges:_,triggerEdgeChanges:I}=S();if(k){const P=b.map(T=>Fi(T,!0));I(P);return}I(Ys(E,new Set([...b]))),_(Ys(N,new Set,!0))},unselectNodesAndEdges:({nodes:b,edges:k}={})=>{const{edges:E,nodes:N,nodeLookup:_,triggerNodeChanges:I,triggerEdgeChanges:P}=S(),T=b||N,O=k||E,U=T.map(B=>{const Y=_.get(B.id);return Y&&(Y.selected=!1),Fi(B.id,!1)}),L=O.map(B=>Fi(B.id,!1));I(U),P(L)},setMinZoom:b=>{const{panZoom:k,maxZoom:E}=S();k==null||k.setScaleExtent([b,E]),x({minZoom:b})},setMaxZoom:b=>{const{panZoom:k,minZoom:E}=S();k==null||k.setScaleExtent([E,b]),x({maxZoom:b})},setTranslateExtent:b=>{var k;(k=S().panZoom)==null||k.setTranslateExtent(b),x({translateExtent:b})},resetSelectedElements:()=>{const{edges:b,nodes:k,triggerNodeChanges:E,triggerEdgeChanges:N,elementsSelectable:_}=S();if(!_)return;const I=k.reduce((T,O)=>O.selected?[...T,Fi(O.id,!1)]:T,[]),P=b.reduce((T,O)=>O.selected?[...T,Fi(O.id,!1)]:T,[]);E(I),N(P)},setNodeExtent:b=>{const{nodes:k,nodeLookup:E,parentLookup:N,nodeOrigin:_,elevateNodesOnSelect:I,nodeExtent:P,zIndexMode:T}=S();b[0][0]===P[0][0]&&b[0][1]===P[0][1]&&b[1][0]===P[1][0]&&b[1][1]===P[1][1]||(dg(k,E,N,{nodeOrigin:_,nodeExtent:b,elevateNodesOnSelect:I,checkEquality:!1,zIndexMode:T}),x({nodeExtent:b}))},panBy:b=>{const{transform:k,width:E,height:N,panZoom:_,translateExtent:I}=S();return az({delta:b,panZoom:_,transform:k,translateExtent:I,width:E,height:N})},setCenter:async(b,k,E)=>{const{width:N,height:_,maxZoom:I,panZoom:P}=S();if(!P)return Promise.resolve(!1);const T=typeof(E==null?void 0:E.zoom)<"u"?E.zoom:I;return await P.setViewport({x:N/2-b*T,y:_/2-k*T,zoom:T},{duration:E==null?void 0:E.duration,ease:E==null?void 0:E.ease,interpolate:E==null?void 0:E.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{...sC}})},updateConnection:b=>{x({connection:b})},reset:()=>x({...Mb()})}},Object.is);function cN({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:d,fitView:f,nodeOrigin:h,nodeExtent:p,zIndexMode:g,children:x}){const[S]=w.useState(()=>j3({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:f,minZoom:l,maxZoom:c,fitViewOptions:d,nodeOrigin:h,nodeExtent:p,zIndexMode:g}));return u.jsx(Yz,{value:S,children:u.jsx(g4,{children:x})})}function _3({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:l,fitView:c,fitViewOptions:d,minZoom:f,maxZoom:h,nodeOrigin:p,nodeExtent:g,zIndexMode:x}){return w.useContext(bf)?u.jsx(u.Fragment,{children:e}):u.jsx(cN,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:l,fitView:c,initialFitViewOptions:d,initialMinZoom:f,initialMaxZoom:h,nodeOrigin:p,nodeExtent:g,zIndexMode:x,children:e})}const P3={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function A3({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:l,onNodeClick:c,onEdgeClick:d,onInit:f,onMove:h,onMoveStart:p,onMoveEnd:g,onConnect:x,onConnectStart:S,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:k,onNodeMouseEnter:E,onNodeMouseMove:N,onNodeMouseLeave:_,onNodeContextMenu:I,onNodeDoubleClick:P,onNodeDragStart:T,onNodeDrag:O,onNodeDragStop:U,onNodesDelete:L,onEdgesDelete:B,onDelete:Y,onSelectionChange:q,onSelectionDragStart:A,onSelectionDrag:$,onSelectionDragStop:F,onSelectionContextMenu:G,onSelectionStart:D,onSelectionEnd:W,onBeforeDelete:M,connectionMode:H,connectionLineType:X=ii.Bezier,connectionLineStyle:R,connectionLineComponent:V,connectionLineContainerStyle:Z,deleteKeyCode:Q="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:te=!1,selectionMode:J=nc.Full,panActivationKeyCode:ie="Space",multiSelectionKeyCode:le=ic()?"Meta":"Control",zoomActivationKeyCode:de=ic()?"Meta":"Control",snapToGrid:fe,snapGrid:ye,onlyRenderVisibleElements:Ae=!1,selectNodesOnDrag:Re,nodesDraggable:nt,autoPanOnNodeFocus:rt,nodesConnectable:Ze,nodesFocusable:kt,nodeOrigin:Ce=DC,edgesFocusable:tt,edgesReconnectable:ht,elementsSelectable:Nt=!0,defaultViewport:Et=s4,minZoom:ue=.5,maxZoom:me=2,translateExtent:Ee=tc,preventScrolling:We=!0,nodeExtent:Ie,defaultMarkerColor:mt="#b1b1b7",zoomOnScroll:jt=!0,zoomOnPinch:xt=!0,panOnScroll:It=!1,panOnScrollSpeed:Mt=.5,panOnScrollMode:ft=Xi.Free,zoomOnDoubleClick:_t=!0,panOnDrag:pe=!0,onPaneClick:ke,onPaneMouseEnter:re,onPaneMouseMove:be,onPaneMouseLeave:Oe,onPaneScroll:Ye,onPaneContextMenu:Fe,paneClickDistance:Ve=1,nodeClickDistance:Pe=0,children:ct,onReconnect:Je,onReconnectStart:At,onReconnectEnd:Tt,onEdgeContextMenu:bt,onEdgeDoubleClick:Ot,onEdgeMouseEnter:bn,onEdgeMouseMove:Gt,onEdgeMouseLeave:co,reconnectRadius:Bn=10,onNodesChange:Si,onEdgesChange:uo,noDragClassName:Vr="nodrag",noWheelClassName:_l="nowheel",noPanClassName:Hr="nopan",fitView:Pl,fitViewOptions:Al,connectOnClick:lp,attributionPosition:Mc,proOptions:Dc,defaultEdgeOptions:Oc,elevateNodesOnSelect:Lc=!0,elevateEdgesOnSelect:ap=!1,disableKeyboardA11y:zc=!1,autoPanOnConnect:Ut,autoPanOnNodeDrag:cp,autoPanSpeed:Il,connectionRadius:$c,isValidConnection:as,onError:up,style:Fc,id:ki,nodeDragThreshold:fr,connectionDragThreshold:dp,viewport:Jn,onViewportChange:fp,width:pp,height:hp,colorMode:cs="light",debug:us,onScroll:Ur,ariaLabelConfig:ds,zIndexMode:Bc="basic",...mp},Tl){const fs=ki||"1",Rl=u4(cs),Ci=w.useCallback(Vc=>{Vc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ur==null||Ur(Vc)},[Ur]);return u.jsx("div",{"data-testid":"rf__wrapper",...mp,onScroll:Ci,style:{...Fc,...P3},ref:Tl,className:nn(["react-flow",o,Rl]),id:ki,role:"application",children:u.jsxs(_3,{nodes:e,edges:t,width:pp,height:hp,fitView:Pl,fitViewOptions:Al,minZoom:ue,maxZoom:me,nodeOrigin:Ce,nodeExtent:Ie,zIndexMode:Bc,children:[u.jsx(E3,{onInit:f,onNodeClick:c,onEdgeClick:d,onNodeMouseEnter:E,onNodeMouseMove:N,onNodeMouseLeave:_,onNodeContextMenu:I,onNodeDoubleClick:P,nodeTypes:i,edgeTypes:l,connectionLineType:X,connectionLineStyle:R,connectionLineComponent:V,connectionLineContainerStyle:Z,selectionKeyCode:K,selectionOnDrag:te,selectionMode:J,deleteKeyCode:Q,multiSelectionKeyCode:le,panActivationKeyCode:ie,zoomActivationKeyCode:de,onlyRenderVisibleElements:Ae,defaultViewport:Et,translateExtent:Ee,minZoom:ue,maxZoom:me,preventScrolling:We,zoomOnScroll:jt,zoomOnPinch:xt,zoomOnDoubleClick:_t,panOnScroll:It,panOnScrollSpeed:Mt,panOnScrollMode:ft,panOnDrag:pe,onPaneClick:ke,onPaneMouseEnter:re,onPaneMouseMove:be,onPaneMouseLeave:Oe,onPaneScroll:Ye,onPaneContextMenu:Fe,paneClickDistance:Ve,nodeClickDistance:Pe,onSelectionContextMenu:G,onSelectionStart:D,onSelectionEnd:W,onReconnect:Je,onReconnectStart:At,onReconnectEnd:Tt,onEdgeContextMenu:bt,onEdgeDoubleClick:Ot,onEdgeMouseEnter:bn,onEdgeMouseMove:Gt,onEdgeMouseLeave:co,reconnectRadius:Bn,defaultMarkerColor:mt,noDragClassName:Vr,noWheelClassName:_l,noPanClassName:Hr,rfId:fs,disableKeyboardA11y:zc,nodeExtent:Ie,viewport:Jn,onViewportChange:fp}),u.jsx(c4,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:S,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:k,nodesDraggable:nt,autoPanOnNodeFocus:rt,nodesConnectable:Ze,nodesFocusable:kt,edgesFocusable:tt,edgesReconnectable:ht,elementsSelectable:Nt,elevateNodesOnSelect:Lc,elevateEdgesOnSelect:ap,minZoom:ue,maxZoom:me,nodeExtent:Ie,onNodesChange:Si,onEdgesChange:uo,snapToGrid:fe,snapGrid:ye,connectionMode:H,translateExtent:Ee,connectOnClick:lp,defaultEdgeOptions:Oc,fitView:Pl,fitViewOptions:Al,onNodesDelete:L,onEdgesDelete:B,onDelete:Y,onNodeDragStart:T,onNodeDrag:O,onNodeDragStop:U,onSelectionDrag:$,onSelectionDragStart:A,onSelectionDragStop:F,onMove:h,onMoveStart:p,onMoveEnd:g,noPanClassName:Hr,nodeOrigin:Ce,rfId:fs,autoPanOnConnect:Ut,autoPanOnNodeDrag:cp,autoPanSpeed:Il,onError:up,connectionRadius:$c,isValidConnection:as,selectNodesOnDrag:Re,nodeDragThreshold:fr,connectionDragThreshold:dp,onBeforeDelete:M,debug:us,ariaLabelConfig:ds,zIndexMode:Bc}),u.jsx(i4,{onSelectionChange:q}),ct,u.jsx(e4,{proOptions:Dc,position:Mc}),u.jsx(Zz,{rfId:fs,disableKeyboardA11y:zc})]})})}var I3=$C(A3);const T3=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function R3({children:e}){const t=vt(T3);return t?yl.createPortal(e,t):null}const M3=e=>t=>{if(!e.includeHiddenNodes)return t.nodesInitialized;if(t.nodeLookup.size===0)return!1;for(const[,{internals:n}]of t.nodeLookup)if(n.handleBounds===void 0||!hx(n.userNode))return!1;return!0};function D3(e={includeHiddenNodes:!1}){return vt(M3(e))}function Db(e){return vt(w.useCallback(n=>n.nodeLookup.get(e),[e]),Bt)}function O3({dimensions:e,lineWidth:t,variant:n,className:r}){return u.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:nn(["react-flow__background-pattern",n,r])})}function L3({radius:e,className:t}){return u.jsx("circle",{cx:e,cy:e,r:e,className:nn(["react-flow__background-pattern","dots",t])})}var ai;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ai||(ai={}));const z3={[ai.Dots]:1,[ai.Lines]:1,[ai.Cross]:6},$3=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function uN({id:e,variant:t=ai.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:l,bgColor:c,style:d,className:f,patternClassName:h}){const p=w.useRef(null),{transform:g,patternId:x}=vt($3,Bt),S=r||z3[t],v=t===ai.Dots,b=t===ai.Cross,k=Array.isArray(n)?n:[n,n],E=[k[0]*g[2]||1,k[1]*g[2]||1],N=S*g[2],_=Array.isArray(i)?i:[i,i],I=b?[N,N]:E,P=[_[0]*g[2]||1+I[0]/2,_[1]*g[2]||1+I[1]/2],T=`${x}${e||""}`;return u.jsxs("svg",{className:nn(["react-flow__background",f]),style:{...d,...Sf,"--xy-background-color-props":c,"--xy-background-pattern-color-props":l},ref:p,"data-testid":"rf__background",children:[u.jsx("pattern",{id:T,x:g[0]%E[0],y:g[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${P[0]},-${P[1]})`,children:v?u.jsx(L3,{radius:N/2,className:h}):u.jsx(O3,{dimensions:I,lineWidth:o,variant:t,className:h})}),u.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${T})`})]})}uN.displayName="Background";const F3=w.memo(uN);function B3(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:u.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function V3(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:u.jsx("path",{d:"M0 0h32v4.2H0z"})})}function H3(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:u.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function U3(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function W3(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function td({children:e,className:t,...n}){return u.jsx("button",{type:"button",className:nn(["react-flow__controls-button",t]),...n,children:e})}const q3=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function dN({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:l,onFitView:c,onInteractiveChange:d,className:f,children:h,position:p="bottom-left",orientation:g="vertical","aria-label":x}){const S=Ht(),{isInteractive:v,minZoomReached:b,maxZoomReached:k,ariaLabelConfig:E}=vt(q3,Bt),{zoomIn:N,zoomOut:_,fitView:I}=pi(),P=()=>{N(),i==null||i()},T=()=>{_(),l==null||l()},O=()=>{I(o),c==null||c()},U=()=>{S.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),d==null||d(!v)},L=g==="horizontal"?"horizontal":"vertical";return u.jsxs(Sc,{className:nn(["react-flow__controls",L,f]),position:p,style:e,"data-testid":"rf__controls","aria-label":x??E["controls.ariaLabel"],children:[t&&u.jsxs(u.Fragment,{children:[u.jsx(td,{onClick:P,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:k,children:u.jsx(B3,{})}),u.jsx(td,{onClick:T,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:b,children:u.jsx(V3,{})})]}),n&&u.jsx(td,{className:"react-flow__controls-fitview",onClick:O,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:u.jsx(H3,{})}),r&&u.jsx(td,{className:"react-flow__controls-interactive",onClick:U,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:v?u.jsx(W3,{}):u.jsx(U3,{})}),h]})}dN.displayName="Controls";const Y3=w.memo(dN);function X3({id:e,x:t,y:n,width:r,height:o,style:i,color:l,strokeColor:c,strokeWidth:d,className:f,borderRadius:h,shapeRendering:p,selected:g,onClick:x}){const{background:S,backgroundColor:v}=i||{},b=l||S||v;return u.jsx("rect",{className:nn(["react-flow__minimap-node",{selected:g},f]),x:t,y:n,rx:h,ry:h,width:r,height:o,style:{fill:b,stroke:c,strokeWidth:d},shapeRendering:p,onClick:x?k=>x(k,e):void 0})}const G3=w.memo(X3),K3=e=>e.nodes.map(t=>t.id),ym=e=>e instanceof Function?e:()=>e;function Q3({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=G3,onClick:l}){const c=vt(K3,Bt),d=ym(t),f=ym(e),h=ym(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return u.jsx(u.Fragment,{children:c.map(g=>u.jsx(Z3,{id:g,nodeColorFunc:d,nodeStrokeColorFunc:f,nodeClassNameFunc:h,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:l,shapeRendering:p},g))})}function J3({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:l,NodeComponent:c,onClick:d}){const{node:f,x:h,y:p,width:g,height:x}=vt(S=>{const{internals:v}=S.nodeLookup.get(e),b=v.userNode,{x:k,y:E}=v.positionAbsolute,{width:N,height:_}=Ao(b);return{node:b,x:k,y:E,width:N,height:_}},Bt);return!f||f.hidden||!hx(f)?null:u.jsx(c,{x:h,y:p,width:g,height:x,style:f.style,selected:!!f.selected,className:r(f),color:t(f),borderRadius:o,strokeColor:n(f),strokeWidth:i,shapeRendering:l,onClick:d,id:f.id})}const Z3=w.memo(J3);var e$=w.memo(Q3);const t$=200,n$=150,r$=e=>!e.hidden,o$=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?fC(vc(e.nodeLookup,{filter:r$}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},i$="react-flow__minimap-desc";function fN({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:l,nodeComponent:c,bgColor:d,maskColor:f,maskStrokeColor:h,maskStrokeWidth:p,position:g="bottom-right",onClick:x,onNodeClick:S,pannable:v=!1,zoomable:b=!1,ariaLabel:k,inversePan:E,zoomStep:N=1,offsetScale:_=5}){const I=Ht(),P=w.useRef(null),{boundingRect:T,viewBB:O,rfId:U,panZoom:L,translateExtent:B,flowWidth:Y,flowHeight:q,ariaLabelConfig:A}=vt(o$,Bt),$=(e==null?void 0:e.width)??t$,F=(e==null?void 0:e.height)??n$,G=T.width/$,D=T.height/F,W=Math.max(G,D),M=W*$,H=W*F,X=_*W,R=T.x-(M-T.width)/2-X,V=T.y-(H-T.height)/2-X,Z=M+X*2,Q=H+X*2,K=`${i$}-${U}`,te=w.useRef(0),J=w.useRef();te.current=W,w.useEffect(()=>{if(P.current&&L)return J.current=xz({domNode:P.current,panZoom:L,getTransform:()=>I.getState().transform,getViewScale:()=>te.current}),()=>{var fe;(fe=J.current)==null||fe.destroy()}},[L]),w.useEffect(()=>{var fe;(fe=J.current)==null||fe.update({translateExtent:B,width:Y,height:q,inversePan:E,pannable:v,zoomStep:N,zoomable:b})},[v,b,E,N,B,Y,q]);const ie=x?fe=>{var Re;const[ye,Ae]=((Re=J.current)==null?void 0:Re.pointer(fe))||[0,0];x(fe,{x:ye,y:Ae})}:void 0,le=S?w.useCallback((fe,ye)=>{const Ae=I.getState().nodeLookup.get(ye).internals.userNode;S(fe,Ae)},[]):void 0,de=k??A["minimap.ariaLabel"];return u.jsx(Sc,{position:g,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*W:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:nn(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:u.jsxs("svg",{width:$,height:F,viewBox:`${R} ${V} ${Z} ${Q}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":K,ref:P,onClick:ie,children:[de&&u.jsx("title",{id:K,children:de}),u.jsx(e$,{onClick:le,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:l,nodeComponent:c}),u.jsx("path",{className:"react-flow__minimap-mask",d:`M${R-X},${V-X}h${Z+X*2}v${Q+X*2}h${-Z-X*2}z
        M${O.x},${O.y}h${O.width}v${O.height}h${-O.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}fN.displayName="MiniMap";const s$=w.memo(fN),l$=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,a$={[es.Line]:"right",[es.Handle]:"bottom-right"};function c$({nodeId:e,position:t,variant:n=es.Handle,className:r,style:o=void 0,children:i,color:l,minWidth:c=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:g,autoScale:x=!0,shouldResize:S,onResizeStart:v,onResize:b,onResizeEnd:k}){const E=HC(),N=typeof e=="string"?e:E,_=Ht(),I=w.useRef(null),P=n===es.Handle,T=vt(w.useCallback(l$(P&&x),[P,x]),Bt),O=w.useRef(null),U=t??a$[n];w.useEffect(()=>{if(!(!I.current||!N))return O.current||(O.current=Rz({domNode:I.current,nodeId:N,getStoreItems:()=>{const{nodeLookup:B,transform:Y,snapGrid:q,snapToGrid:A,nodeOrigin:$,domNode:F}=_.getState();return{nodeLookup:B,transform:Y,snapGrid:q,snapToGrid:A,nodeOrigin:$,paneDomNode:F}},onChange:(B,Y)=>{const{triggerNodeChanges:q,nodeLookup:A,parentLookup:$,nodeOrigin:F}=_.getState(),G=[],D={x:B.x,y:B.y},W=A.get(N);if(W&&W.expandParent&&W.parentId){const M=W.origin??F,H=B.width??W.measured.width??0,X=B.height??W.measured.height??0,R={id:W.id,parentId:W.parentId,rect:{width:H,height:X,...pC({x:B.x??W.position.x,y:B.y??W.position.y},{width:H,height:X},W.parentId,A,M)}},V=bx([R],A,$,F);G.push(...V),D.x=B.x?Math.max(M[0]*H,B.x):void 0,D.y=B.y?Math.max(M[1]*X,B.y):void 0}if(D.x!==void 0&&D.y!==void 0){const M={id:N,type:"position",position:{...D}};G.push(M)}if(B.width!==void 0&&B.height!==void 0){const H={id:N,type:"dimensions",resizing:!0,setAttributes:g?g==="horizontal"?"width":"height":!0,dimensions:{width:B.width,height:B.height}};G.push(H)}for(const M of Y){const H={...M,type:"position"};G.push(H)}q(G)},onEnd:({width:B,height:Y})=>{const q={id:N,type:"dimensions",resizing:!1,dimensions:{width:B,height:Y}};_.getState().triggerNodeChanges([q])}})),O.current.update({controlPosition:U,boundaries:{minWidth:c,minHeight:d,maxWidth:f,maxHeight:h},keepAspectRatio:p,resizeDirection:g,onResizeStart:v,onResize:b,onResizeEnd:k,shouldResize:S}),()=>{var B;(B=O.current)==null||B.destroy()}},[U,c,d,f,h,p,v,b,k,S]);const L=U.split("-");return u.jsx("div",{className:nn(["react-flow__resize-control","nodrag",...L,n,r]),ref:I,style:{...o,scale:T,...l&&{[P?"backgroundColor":"borderColor"]:l}},children:i})}const Ob=w.memo(c$);function pN({nodeId:e,isVisible:t=!0,handleClassName:n,handleStyle:r,lineClassName:o,lineStyle:i,color:l,minWidth:c=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:p=!1,autoScale:g=!0,shouldResize:x,onResizeStart:S,onResize:v,onResizeEnd:b}){return t?u.jsxs(u.Fragment,{children:[jz.map(k=>u.jsx(Ob,{className:o,style:i,nodeId:e,position:k,variant:es.Line,color:l,minWidth:c,minHeight:d,maxWidth:f,maxHeight:h,onResizeStart:S,keepAspectRatio:p,autoScale:g,shouldResize:x,onResize:v,onResizeEnd:b},k)),Ez.map(k=>u.jsx(Ob,{className:n,style:r,nodeId:e,position:k,color:l,minWidth:c,minHeight:d,maxWidth:f,maxHeight:h,onResizeStart:S,keepAspectRatio:p,autoScale:g,shouldResize:x,onResize:v,onResizeEnd:b},k))]}):null}function hg(e){return e!==null&&typeof e=="object"&&"value"in e&&"timestamp"in e&&typeof e.timestamp=="number"}function vm({children:e,offset:t,onDragEnd:n,className:r,style:o}){const[i,l]=w.useState(!1),[c,d]=w.useState(t),f=w.useRef(c),h=w.useRef(null),{getZoom:p}=pi();f.current=c,qe.useEffect(()=>{d(t)},[t]);const g=w.useCallback(x=>{x.stopPropagation(),l(!0),h.current={x:x.clientX,y:x.clientY,offsetX:f.current.x,offsetY:f.current.y};const S=b=>{if(!h.current)return;const k=p(),E=(b.clientX-h.current.x)/k,N=(b.clientY-h.current.y)/k,_={x:h.current.offsetX+E,y:h.current.offsetY+N};d(_),f.current=_},v=()=>{l(!1),h.current&&n(f.current),h.current=null,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",v)};document.addEventListener("mousemove",S),document.addEventListener("mouseup",v)},[p,n]);return u.jsx("div",{style:{position:"absolute",transform:`translate(${c.x}px, ${c.y}px)`,cursor:i?"grabbing":"grab",userSelect:"none",...o},className:`nodrag ${r||""}`,onMouseDown:g,children:e})}function Xs(e,t=!1){if(e==null)return t?"":"()";if(e instanceof Map){const n=[];return e.forEach((r,o)=>{n.push(`${o}=${Xs(r)}`)}),`{${n.join(", ")}}`}else return Array.isArray(e)?`(${e.map(n=>Xs(n)).join(",")})`:typeof e=="object"?hg(e)?Xs(e.value,t):`{${Object.entries(e).map(([r,o])=>`${r}=${Xs(o)}`).join(", ")}}`:typeof e=="string"?`"${e}"`:String(e)}function u$(e,t){if(t)return new Date(t.getTime()+e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});if(e===0)return"@0";const n=e/1e3;if(n<60)return`@${n.toFixed(n%1===0?0:1)}s`;const r=n/60;if(r<60)return`@${r.toFixed(r%1===0?0:1)}m`;const o=r/60;if(o<24)return`@${o.toFixed(o%1===0?0:1)}h`;const i=o/24;return`@${i.toFixed(i%1===0?0:1)}d`}function d$(e,t=!1,n=!1,r=null){if(t&&!n)return[{count:e.length,value:"",timestamp:0,timeDisplay:""}];const o=new Map;for(const i of e){const l=hg(i)?i.timestamp:0,c=hg(i)?Xs(i.value,t):Xs(i,t),d=n?`${c}@${l}`:c,f=o.get(d);f?f.count++:o.set(d,{count:1,value:c,timestamp:l,timeDisplay:n?u$(l,r):""})}return Array.from(o.values())}const wm=10,f$=({id:e,data:t,selected:n})=>{var U;const r=kx(),o=he(L=>L.colorSets.find(B=>B.name===t.colorSet)),i=(o==null?void 0:o.color)||"#000000",l=(o==null?void 0:o.type)==="basic"&&((U=o==null?void 0:o.definition)==null?void 0:U.includes("= unit;")),c=(o==null?void 0:o.timed)===!0,d=he(L=>L.activePetriNetId),f=he(L=>L.updateNodeData),h=he(L=>L.showMarkingDisplay),p=he(L=>L.simulationEpoch),g=p?new Date(p):null,x=r.inProgress&&r.fromNode.id!==e&&r.fromNode.type==="transition",S=t.marking&&Array.isArray(t.marking)&&t.marking.length>0,v=S?t.marking.length:0,b=S?d$(t.marking,l,c,g):[],k=b.slice(0,wm),E=b.length>wm,N=t.colorSetOffset??{x:0,y:35},_=t.tokenCountOffset??{x:25,y:-5},I=t.markingOffset??{x:40,y:0},P=w.useCallback(L=>{d&&f(d,e,{...t,colorSetOffset:L})},[d,e,t,f]),T=w.useCallback(L=>{d&&f(d,e,{...t,tokenCountOffset:L})},[d,e,t,f]),O=w.useCallback(L=>{d&&f(d,e,{...t,markingOffset:L})},[d,e,t,f]);return u.jsxs("div",{className:"relative cpn-node place-node",style:{borderColor:i},children:[u.jsx(pN,{isVisible:n,minWidth:30,minHeight:30}),u.jsx("div",{className:"whitespace-pre-wrap leading-tight",children:t.label}),t.colorSet&&u.jsx(vm,{offset:N,onDragEnd:P,className:"text-[9px] font-mono whitespace-nowrap",style:{top:"50%",left:"50%"},children:t.colorSet}),S&&u.jsx(vm,{offset:_,onDragEnd:T,style:{top:"50%",left:"50%"},children:u.jsx("div",{className:"marking flex items-center justify-center text-[9px] text-black rounded-full min-w-[14px] h-[14px] px-0.5",children:v})}),S&&h&&u.jsx(vm,{offset:I,onDragEnd:O,style:{top:"50%",left:"50%"},children:u.jsx("table",{className:"marking text-[7px] font-mono text-black rounded-sm border-collapse",children:u.jsxs("tbody",{children:[k.map((L,B)=>u.jsxs("tr",{children:[u.jsxs("td",{className:"px-1 py-0.5 text-right",children:[L.count,"`"]}),u.jsx("td",{className:"px-1 py-0.5",children:L.value}),c&&u.jsx("td",{className:"px-1 py-0.5 text-muted-foreground whitespace-nowrap",children:L.timeDisplay})]},B)),E&&u.jsx("tr",{children:u.jsxs("td",{colSpan:c?3:2,className:"px-1 py-0.5 text-center text-muted-foreground",children:["...",b.length-wm," more"]})})]})})}),u.jsx(ui,{className:"custom-handle",type:"source",position:Te.Right,style:{visibility:t.isArcMode&&!r.inProgress?"visible":"hidden"}}),u.jsx(ui,{className:"custom-handle",type:"target",position:Te.Left,style:{visibility:t.isArcMode&&x?"visible":"hidden"},isConnectable:x})]})};function Lb({children:e,offset:t,onDragEnd:n,className:r,style:o}){const[i,l]=w.useState(!1),[c,d]=w.useState(t),f=w.useRef(c),h=w.useRef(null),{getZoom:p}=pi();f.current=c;const g=w.useRef(t);qe.useEffect(()=>{g.current.x===t.x&&g.current.y===t.y||(g.current=t,d(t))},[t]);const x=w.useCallback(S=>{S.stopPropagation(),l(!0),h.current={x:S.clientX,y:S.clientY,offsetX:f.current.x,offsetY:f.current.y};const v=k=>{if(!h.current)return;const E=p(),N=(k.clientX-h.current.x)/E,_=(k.clientY-h.current.y)/E,I=h.current.offsetX+N,P=h.current.offsetY+_,T={x:I,y:P};d(T),f.current=T},b=()=>{l(!1),h.current&&n(f.current),h.current=null,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",b)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",b)},[p,n]);return u.jsx("div",{style:{position:"absolute",left:"50%",top:0,transform:`translate(calc(-50% + ${c.x}px), ${c.y}px)`,cursor:i?"grabbing":"grab",userSelect:"none",whiteSpace:"nowrap",...o},className:`nodrag ${r||""}`,onMouseDown:x,children:e})}const p$=({id:e,data:t,selected:n})=>{const r=kx(),o=he(p=>p.activePetriNetId),i=he(p=>p.updateNodeData),l=r.inProgress&&r.fromNode.id!==e&&r.fromNode.type==="place",c=t.guardOffset??{x:-45,y:-15},d=t.timeOffset??{x:45,y:-15},f=w.useCallback(p=>{o&&i(o,e,{...t,guardOffset:p})},[o,e,t,i]),h=w.useCallback(p=>{o&&i(o,e,{...t,timeOffset:p})},[o,e,t,i]);return u.jsxs("div",{className:"relative cpn-node transition-node",children:[u.jsx(pN,{isVisible:n,minWidth:15,minHeight:30}),u.jsx("div",{className:"whitespace-pre-wrap leading-tight",children:t.label}),t.guard&&u.jsx(Lb,{offset:c,onDragEnd:f,className:"text-[9px] font-mono whitespace-nowrap text-[#006400]",children:t.guard}),t.time&&u.jsxs(Lb,{offset:d,onDragEnd:h,className:"text-[9px] font-mono whitespace-nowrap text-[#8B4513]",children:["@+",t.time]}),u.jsx(ui,{className:"custom-handle",type:"source",position:Te.Right,style:{visibility:t.isArcMode&&!r.inProgress?"visible":"hidden"}}),u.jsx(ui,{className:"custom-handle",type:"target",position:Te.Left,style:{visibility:t.isArcMode&&l?"visible":"hidden"},isConnectable:l})]})},h$=w.memo(p$),m$=({data:e})=>{const t={color:e.color||"inherit",fontWeight:e.bold?"bold":"normal",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",whiteSpace:"pre-wrap",textAlign:"center",fontSize:"9px"};return u.jsx("div",{className:"cpn-node auxtext-node",style:t,children:e.label})},g$=({data:e})=>{const t=e.color||"inherit";return u.jsx("div",{className:"inscription-node font-mono text-[9px] whitespace-pre-wrap cursor-move select-none",style:{color:t},children:e.label})},x$=w.memo(g$),y$=[{id:"a",type:"place",position:{x:-200,y:0},data:{label:"start",colorSet:"INT",initialMarking:"[1, 5, 5, 10]"}},{id:"b",type:"transition",position:{x:-110,y:100},width:70,height:30,data:{label:"transition",guard:"var1>4",time:"",priority:"",codeSegment:""}},{id:"c",type:"place",position:{x:0,y:200},width:50,height:30,data:{label:"end place",colorSet:"INT"}}],v$={place:f$,transition:h$,auxText:m$,inscription:x$};function zb(e,t){var N,_;const{width:n=0,height:r=0}=e.measured||{},o=e.internals.positionAbsolute,i=t.internals.positionAbsolute,l=n/2,c=r/2,d=o.x+l,f=o.y+c,h=i.x+(((N=t.measured)==null?void 0:N.width)??0)/2,p=i.y+(((_=t.measured)==null?void 0:_.height)??0)/2;if(e.type==="place"){const I=h-d,P=p-f,T=Math.atan2(P,I),O=l,U=c,L=d+O*Math.cos(T),B=f+U*Math.sin(T);return{x:L,y:B}}const g=(h-d)/(2*l)-(p-f)/(2*c),x=(h-d)/(2*l)+(p-f)/(2*c),S=1/(Math.abs(g)+Math.abs(x)||1),v=S*g,b=S*x,k=l*(v+b)+d,E=c*(-v+b)+f;return{x:k,y:E}}function $b(e,t){const{width:n=0,height:r=0}=e.measured||{},o=e.internals.positionAbsolute,i=n/2,l=r/2,c=o.x+i,d=o.y+l,f=t.x,h=t.y;if(e.type==="place"){const b=f-c,k=h-d,E=Math.atan2(k,b),N=i,_=l,I=c+N*Math.cos(E),P=d+_*Math.sin(E);return{x:I,y:P}}const p=f-c,g=h-d;if(p===0&&g===0)return{x:c,y:d};let x=1/0;if(p!==0){const b=i/Math.abs(p),k=i/Math.abs(p);x=Math.min(x,p>0?b:k)}if(g!==0){const b=l/Math.abs(g),k=l/Math.abs(g);x=Math.min(x,g>0?b:k)}const S=c+x*p,v=d+x*g;return{x:S,y:v}}function Fb(e,t){var c,d,f,h;const n={...e.internals.positionAbsolute,...e},r=Math.round(n.x),o=Math.round(n.y),i=Math.round(t.x),l=Math.round(t.y);if(e.type==="place"){const p=i-(r+(((c=n.measured)==null?void 0:c.width)??0)/2),g=l-(o+(((d=n.measured)==null?void 0:d.height)??0)/2),x=Math.atan2(g,p);return Math.abs(x)<Math.PI/4?Te.Right:Math.abs(x)>3*Math.PI/4?Te.Left:x>0?Te.Bottom:Te.Top}return i<=r+1?Te.Left:i>=r+(((f=n.measured)==null?void 0:f.width)??0)-1?Te.Right:l<=o+1?Te.Top:l>=n.y+((((h=n.measured)==null?void 0:h.height)??0)-1)?Te.Bottom:Te.Top}function w$(e,t){const n=zb(e,t),r=zb(t,e),o=Fb(e,n),i=Fb(t,r);return{sx:n.x,sy:n.y,tx:r.x,ty:r.y,sourcePos:o,targetPos:i}}function b$(e,t,n){const r=n.x-t.x,o=n.y-t.y,i=r*r+o*o;if(i===0)return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2);let l=((e.x-t.x)*r+(e.y-t.y)*o)/i;l=Math.max(0,Math.min(1,l));const c=t.x+l*r,d=t.y+l*o;return Math.sqrt((e.x-c)**2+(e.y-d)**2)}function Bb(e,t,n,r,o){if(!o||o.length===0)return{path:`M ${e},${t} L ${n},${r}`,labelX:(e+n)/2,labelY:(t+r)/2};let i=`M ${e},${t}`;for(const x of o)i+=` L ${x.x},${x.y}`;i+=` L ${n},${r}`;const l=[{x:e,y:t},...o,{x:n,y:r}],c=[];let d=0;for(let x=1;x<l.length;x++){const S=l[x].x-l[x-1].x,v=l[x].y-l[x-1].y,b=Math.sqrt(S*S+v*v);c.push(b),d+=b}const f=d/2;let h=0,p=(e+n)/2,g=(t+r)/2;for(let x=0;x<c.length;x++){const S=c[x];if(h+S>=f){const v=f-h,b=S>0?v/S:0;p=l[x].x+b*(l[x+1].x-l[x].x),g=l[x].y+b*(l[x+1].y-l[x].y);break}h+=S}return{path:i,labelX:p,labelY:g}}function S$({id:e,source:t,target:n,style:r,label:o,data:i}){const l=Db(t),c=Db(n),{getZoom:d}=pi(),[f,h]=w.useState(null),[p,g]=w.useState(null),x=w.useRef(null),S=w.useRef(null),v=he(Ce=>Ce.activePetriNetId),b=he(Ce=>Ce.updateEdgeData),k=he(Ce=>Ce.setSelectedElement),E=he(Ce=>{const tt=Ce.activePetriNetId,ht=tt?Ce.petriNetsById[tt]:null;return(ht==null?void 0:ht.edges)??[]}),{parallelArcIndex:N,totalParallelArcs:_}=w.useMemo(()=>{const Ce=E.filter(Nt=>Nt.source===t&&Nt.target===n||Nt.source===n&&Nt.target===t),tt=Ce.length;let ht=Ce.findIndex(Nt=>Nt.id===e);return ht===-1&&(ht=0),{parallelArcIndex:ht,totalParallelArcs:tt}},[E,e,t,n]),I=he(Ce=>{var me;const tt=Ce.activePetriNetId,ht=tt?Ce.petriNetsById[tt]:null;if(!ht)return"#000";const Nt=ht.nodes.find(Ee=>Ee.id===t),Et=ht.nodes.find(Ee=>Ee.id===n),ue=(Nt==null?void 0:Nt.type)==="place"?Nt:(Et==null?void 0:Et.type)==="place"?Et:null;if(ue&&((me=ue.data)!=null&&me.colorSet)){const Ee=Ce.colorSets.find(We=>We.name===ue.data.colorSet);if(Ee!=null&&Ee.color)return Ee.color}if(typeof o=="string"){const Ee=Ce.variables.find(We=>We.name===o.trim());if(Ee){const We=Ce.colorSets.find(Ie=>Ie.name===Ee.colorSet);if(We!=null&&We.color)return We.color}}return"#000"}),P=w.useCallback(Ce=>{v&&b(v,e,{...i,labelOffset:Ce})},[v,e,i,b]),T=w.useCallback((Ce,tt)=>{Ce.stopPropagation(),Ce.preventDefault(),g(tt),x.current={startX:Ce.clientX,startY:Ce.clientY,lastClientX:Ce.clientX,lastClientY:Ce.clientY,originalBendpoints:[...(i==null?void 0:i.bendpoints)??[]],hasDragged:!1,index:tt};const ht=()=>{var ft,_t,pe,ke,re,be;const Ie=((ft=x.current)==null?void 0:ft.originalBendpoints)??[],mt=l?{x:l.internals.positionAbsolute.x+(((_t=l.measured)==null?void 0:_t.width)??0)/2,y:l.internals.positionAbsolute.y+(((pe=l.measured)==null?void 0:pe.height)??0)/2}:null,jt=c?{x:c.internals.positionAbsolute.x+(((ke=c.measured)==null?void 0:ke.width)??0)/2,y:c.internals.positionAbsolute.y+(((re=c.measured)==null?void 0:re.height)??0)/2}:null,xt=((be=x.current)==null?void 0:be.index)??0,It=xt===0?mt:Ie[xt-1],Mt=xt===Ie.length-1?jt:Ie[xt+1];return{prevPoint:It,nextPoint:Mt}},Nt=(Ie,mt)=>{const{prevPoint:jt,nextPoint:xt}=ht();if(!jt&&!xt)return{x:Ie,y:mt};let It=Ie,Mt=mt;if(jt){const ft=Math.abs(Ie-jt.x),_t=Math.abs(mt-jt.y);ft<20&&(It=jt.x),_t<20&&(Mt=jt.y)}if(xt){const ft=Math.abs(Ie-xt.x),_t=Math.abs(mt-xt.y);ft<20&&(It=xt.x),_t<20&&(Mt=xt.y)}return{x:It,y:Mt}},Et=(Ie,mt,jt)=>{if(!x.current||!v)return;const xt=d(),It=(Ie-x.current.startX)/xt,Mt=(mt-x.current.startY)/xt;(Math.abs(It)>3||Math.abs(Mt)>3)&&(x.current.hasDragged=!0);const ft=x.current.index,_t=x.current.originalBendpoints[ft];let pe=_t.x+It,ke=_t.y+Mt;if(jt){const be=Nt(pe,ke);pe=be.x,ke=be.y}const re=x.current.originalBendpoints.map((be,Oe)=>Oe===ft?{x:pe,y:ke}:be);b(v,e,{bendpoints:re})},ue=Ie=>{x.current&&(x.current.lastClientX=Ie.clientX,x.current.lastClientY=Ie.clientY,Et(Ie.clientX,Ie.clientY,Ie.shiftKey))},me=Ie=>{Ie.key==="Shift"&&x.current&&Et(x.current.lastClientX,x.current.lastClientY,!0)},Ee=Ie=>{Ie.key==="Shift"&&x.current&&Et(x.current.lastClientX,x.current.lastClientY,!1)},We=()=>{var mt;const Ie=((mt=x.current)==null?void 0:mt.hasDragged)??!1;if(g(null),!Ie&&v&&(i!=null&&i.bendpoints)){const jt=i.bendpoints.filter((xt,It)=>It!==tt);b(v,e,{bendpoints:jt.length>0?jt:void 0})}x.current=null,document.removeEventListener("mousemove",ue),document.removeEventListener("mouseup",We),document.removeEventListener("keydown",me),document.removeEventListener("keyup",Ee)};document.addEventListener("mousemove",ue),document.addEventListener("mouseup",We),document.addEventListener("keydown",me),document.addEventListener("keyup",Ee)},[v,e,i==null?void 0:i.bendpoints,l,c,b,d]),O=w.useCallback(Ce=>{var ft,_t,pe,ke,re,be,Oe,Ye;if(Ce.button!==0||(Ce.stopPropagation(),Ce.preventDefault(),!v))return;const tt=Ce.target.closest("svg");if(!tt)return;const ht=tt.createSVGPoint();ht.x=Ce.clientX,ht.y=Ce.clientY;const Nt=tt.getScreenCTM();let Et;if(Nt){const Fe=ht.matrixTransform(Nt.inverse());Et={x:Fe.x,y:Fe.y}}else{const Fe=tt.getBoundingClientRect(),Ve=d(),Pe=tt.viewBox.baseVal;if(Pe&&Pe.width>0){const ct=Pe.width/Fe.width,Je=Pe.height/Fe.height;Et={x:Pe.x+(Ce.clientX-Fe.left)*ct,y:Pe.y+(Ce.clientY-Fe.top)*Je}}else Et={x:(Ce.clientX-Fe.left)/Ve,y:(Ce.clientY-Fe.top)/Ve}}const ue={x:Et.x,y:Et.y},me=(i==null?void 0:i.bendpoints)??[];let Ee=0;if(me.length>0){const Fe=l?{x:l.internals.positionAbsolute.x+(((ft=l.measured)==null?void 0:ft.width)??0)/2,y:l.internals.positionAbsolute.y+(((_t=l.measured)==null?void 0:_t.height)??0)/2}:{x:0,y:0},Ve=c?{x:c.internals.positionAbsolute.x+(((pe=c.measured)==null?void 0:pe.width)??0)/2,y:c.internals.positionAbsolute.y+(((ke=c.measured)==null?void 0:ke.height)??0)/2}:{x:0,y:0},Pe=[Fe,...me,Ve];let ct=1/0;for(let Je=0;Je<Pe.length-1;Je++){const At=Pe[Je],Tt=Pe[Je+1],bt=b$(ue,At,Tt);bt<ct&&(ct=bt,Ee=Je)}}S.current={startX:Ce.clientX,startY:Ce.clientY,insertIndex:Ee,newBendpoint:ue,hasDragged:!1};const We=l?{x:l.internals.positionAbsolute.x+(((re=l.measured)==null?void 0:re.width)??0)/2,y:l.internals.positionAbsolute.y+(((be=l.measured)==null?void 0:be.height)??0)/2}:{x:0,y:0},Ie=c?{x:c.internals.positionAbsolute.x+(((Oe=c.measured)==null?void 0:Oe.width)??0)/2,y:c.internals.positionAbsolute.y+(((Ye=c.measured)==null?void 0:Ye.height)??0)/2}:{x:0,y:0},mt=(Fe,Ve,Pe,ct)=>{const Je=ct===0?We:Pe[ct-1],At=ct===Pe.length-1?Ie:Pe[ct+1];let Tt=Fe,bt=Ve;return Je&&(Math.abs(Fe-Je.x)<20&&(Tt=Je.x),Math.abs(Ve-Je.y)<20&&(bt=Je.y)),At&&(Math.abs(Fe-At.x)<20&&(Tt=At.x),Math.abs(Ve-At.y)<20&&(bt=At.y)),{x:Tt,y:bt}},jt=Fe=>{if(!S.current||!v)return;const Ve=d(),Pe=(Fe.clientX-S.current.startX)/Ve,ct=(Fe.clientY-S.current.startY)/Ve;if(!S.current.hasDragged&&(Math.abs(Pe)>3||Math.abs(ct)>3)){S.current.hasDragged=!0;const Je=[...me.slice(0,Ee),S.current.newBendpoint,...me.slice(Ee)];b(v,e,{bendpoints:Je}),g(Ee),x.current={startX:S.current.startX,startY:S.current.startY,lastClientX:Fe.clientX,lastClientY:Fe.clientY,originalBendpoints:Je,hasDragged:!0,index:Ee}}if(x.current){x.current.lastClientX=Fe.clientX,x.current.lastClientY=Fe.clientY;const Je=x.current.index,At=x.current.originalBendpoints[Je];let Tt=At.x+Pe,bt=At.y+ct;if(Fe.shiftKey){const bn=mt(Tt,bt,x.current.originalBendpoints,Je);Tt=bn.x,bt=bn.y}const Ot=x.current.originalBendpoints.map((bn,Gt)=>Gt===Je?{x:Tt,y:bt}:bn);b(v,e,{bendpoints:Ot})}},xt=Fe=>{if(Fe.key==="Shift"&&x.current&&v){const Ve=d(),Pe=(x.current.lastClientX-x.current.startX)/Ve,ct=(x.current.lastClientY-x.current.startY)/Ve,Je=x.current.index,At=x.current.originalBendpoints[Je],Tt=mt(At.x+Pe,At.y+ct,x.current.originalBendpoints,Je),bt=x.current.originalBendpoints.map((Ot,bn)=>bn===Je?Tt:Ot);b(v,e,{bendpoints:bt})}},It=Fe=>{if(Fe.key==="Shift"&&x.current&&v){const Ve=d(),Pe=(x.current.lastClientX-x.current.startX)/Ve,ct=(x.current.lastClientY-x.current.startY)/Ve,Je=x.current.index,At=x.current.originalBendpoints[Je],Tt=x.current.originalBendpoints.map((bt,Ot)=>Ot===Je?{x:At.x+Pe,y:At.y+ct}:bt);b(v,e,{bendpoints:Tt})}},Mt=()=>{if(S.current&&!S.current.hasDragged){const Fe=E.find(Ve=>Ve.id===e);Fe&&v&&k(v,{type:"edge",element:Fe})}g(null),S.current=null,x.current=null,document.removeEventListener("mousemove",jt),document.removeEventListener("mouseup",Mt),document.removeEventListener("keydown",xt),document.removeEventListener("keyup",It)};document.addEventListener("mousemove",jt),document.addEventListener("mouseup",Mt),document.addEventListener("keydown",xt),document.addEventListener("keyup",It)},[v,e,i==null?void 0:i.bendpoints,l,c,E,b,k,d]);if(!l||!c)return null;const U=i==null?void 0:i.bendpoints,L=(i==null?void 0:i.labelOffset)??{x:0,y:0},B=(i==null?void 0:i.isBidirectional)??!1,Y=(i==null?void 0:i.arcType)??"normal",q=12;let A=0;if(_>1){const Ce=(_-1)/2;A=(N-Ce)*q}const $=w$(l,c),F=t<n?t:n,G=t===F,D=$.tx-$.sx,W=$.ty-$.sy,M=Math.sqrt(D*D+W*W);let H=M>0?-W/M:0,X=M>0?D/M:1;G||(H=-H,X=-X);let R,V,Z,Q,K,te,J;if(U&&U.length>0){const Ce=A!==0?U.map(me=>({x:me.x+H*A,y:me.y+X*A})):U,tt=Ce[0],ht=Ce[Ce.length-1],Nt=$b(l,tt);R=Nt.x,V=Nt.y;const Et=$b(c,ht);Z=Et.x,Q=Et.y;const ue=Bb(R,V,Z,Q,Ce);K=ue.path,te=ue.labelX,J=ue.labelY}else{R=$.sx+H*A,V=$.sy+X*A,Z=$.tx+H*A,Q=$.ty+X*A;const Ce=Bb(R,V,Z,Q,void 0);K=Ce.path,te=Ce.labelX,J=Ce.labelY}const ie=Z-R,le=Q-V,de=Math.sqrt(ie*ie+le*le),fe=12;let ye=de>0?-le/de:0,Ae=de>0?ie/de:-1;Ae>0&&(ye=-ye,Ae=-Ae);const Re=te+ye*fe,nt=J+Ae*fe,Ze=typeof o=="string"&&(o.trim()==="1`()"||o.trim()==="()")?null:o,kt=U&&A!==0?U.map(Ce=>({x:Ce.x+H*A,y:Ce.y+X*A})):U;return u.jsxs(u.Fragment,{children:[k$(e,K,I,B,Y,r,O),kt&&kt.length>0&&u.jsx("g",{className:"bendpoint-handles",children:kt.map((Ce,tt)=>u.jsxs("g",{children:[u.jsx("circle",{cx:Ce.x,cy:Ce.y,r:12,fill:"transparent",style:{cursor:"grab",pointerEvents:"all"},onMouseEnter:()=>h(tt),onMouseLeave:()=>{p!==tt&&h(null)},onMouseDown:ht=>T(ht,tt)}),(f===tt||p===tt)&&u.jsx("circle",{cx:Ce.x,cy:Ce.y,r:5,fill:I,stroke:"white",strokeWidth:1.5,style:{pointerEvents:"none",cursor:p===tt?"grabbing":"grab"}})]},tt))}),Ze&&u.jsx(C$,{id:e,label:Ze,baseLabelX:Re,baseLabelY:nt,labelOffset:L,onLabelDragEnd:P})]})}function k$(e,t,n,r,o,i,l){const c=o==="inhibitor",d=o==="reset";return u.jsxs("g",{children:[u.jsxs("defs",{children:[u.jsx("marker",{id:`arrow-end-${e}`,markerWidth:"10",markerHeight:"10",refX:"10",refY:"5",orient:"auto",markerUnits:"userSpaceOnUse",children:u.jsx("polygon",{points:"0,0 10,5 0,10",fill:n})}),u.jsx("marker",{id:`arrow-start-${e}`,markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",orient:"auto",markerUnits:"userSpaceOnUse",children:u.jsx("polygon",{points:"10,0 0,5 10,10",fill:n})}),u.jsx("marker",{id:`inhibitor-end-${e}`,markerWidth:"10",markerHeight:"10",refX:"8",refY:"5",orient:"auto",markerUnits:"userSpaceOnUse",children:u.jsx("circle",{cx:"5",cy:"5",r:"4",fill:"white",stroke:n,strokeWidth:"1.5"})}),u.jsxs("marker",{id:`reset-end-${e}`,markerWidth:"16",markerHeight:"10",refX:"16",refY:"5",orient:"auto",markerUnits:"userSpaceOnUse",children:[u.jsx("polygon",{points:"0,0 10,5 0,10",fill:n}),u.jsx("polygon",{points:"6,0 16,5 6,10",fill:n})]})]}),l&&u.jsx("path",{d:t,fill:"none",stroke:"transparent",strokeWidth:16,style:{cursor:"pointer",pointerEvents:"stroke"},onMouseDown:l}),u.jsx("path",{id:e,d:t,fill:"none",className:"stroke-[currentColor]",style:{stroke:n,...i},markerEnd:c?`url(#inhibitor-end-${e})`:d?`url(#reset-end-${e})`:`url(#arrow-end-${e})`,markerStart:r&&!c&&!d?`url(#arrow-start-${e})`:void 0})]})}function C$({id:e,label:t,baseLabelX:n,baseLabelY:r,labelOffset:o,onLabelDragEnd:i}){const[l,c]=w.useState(!1),[d,f]=w.useState(o),h=w.useRef(null),p=w.useRef(d);p.current=d;const{getZoom:g}=pi(),x=he(_=>_.activePetriNetId),S=he(_=>_.setSelectedElement),v=he(_=>{const I=_.activePetriNetId?_.petriNetsById[_.activePetriNetId]:null;return(I==null?void 0:I.edges)||[]}),b=w.useCallback(_=>{_.stopPropagation(),c(!0),h.current={x:_.clientX,y:_.clientY,offsetX:p.current.x,offsetY:p.current.y};const I=T=>{if(!h.current)return;const O=g(),U=(T.clientX-h.current.x)/O,L=(T.clientY-h.current.y)/O,B={x:h.current.offsetX+U,y:h.current.offsetY+L};f(B),p.current=B},P=()=>{c(!1),h.current&&i(p.current),h.current=null,document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",P)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",P)},[i,g]),k=w.useCallback(_=>{_.stopPropagation();const I=v.find(P=>P.id===e);I&&x&&S(x,{type:"edge",element:I})},[e,v,x,S]);qe.useEffect(()=>{f(o)},[o]);const E=n+d.x,N=r+d.y;return u.jsx(R3,{children:u.jsx("div",{style:{transform:`translate(-50%, -100%) translate(${E}px,${N}px)`,cursor:l?"grabbing":"grab",pointerEvents:"auto"},className:`nodrag nopan edge-label-renderer__custom-edge text-[10px] font-mono whitespace-pre-wrap ${l?"":"hover:bg-accent/50"} px-1 rounded`,onMouseDown:b,onClick:k,children:t})})}const N$=[{id:"a->b",source:"a",target:"b",label:"var1"},{id:"b->c",source:"b",target:"c",label:"var1"}],E$={floating:S$},j$=[{id:it(),name:"UNIT",type:"basic",definition:"colset UNIT = unit;",color:"#3b82f6"},{id:it(),name:"BOOL",type:"basic",definition:"colset BOOL = bool;",color:"#10b981"},{id:it(),name:"INT",type:"basic",definition:"colset INT = int;",color:"#3b82f6"},{id:it(),name:"INTINF",type:"basic",definition:"colset INTINF = intinf;",color:"#3b82f6"},{id:it(),name:"TIME",type:"basic",definition:"colset TIME = time;",color:"#8b5cf6"},{id:it(),name:"REAL",type:"basic",definition:"colset REAL = real;",color:"#ef4444"},{id:it(),name:"STRING",type:"basic",definition:"colset STRING = string;",color:"#f59e0b"}],_$=[{id:it(),name:"var1",colorSet:"INT"}],P$=[{id:it(),name:"P_HIGH",level:100},{id:it(),name:"P_NORMAL",level:1e3},{id:it(),name:"P_LOW",level:1e4}],A$=[],I$={petriNetsById:{},petriNetOrder:[],activePetriNetId:null,colorSets:[],variables:[],priorities:[],functions:[],uses:[],simulationEpoch:null,showMarkingDisplay:!0,isArcMode:!1,activeArcType:"normal"},Sd="ID6",T$={id:Sd,name:"Petri Net",nodes:y$,edges:N$,selectedElement:null};let Fa=0,Ba,mg,gg;const Vb=e=>{const t={};for(const[n,r]of Object.entries(e))t[n]={id:r.id,name:r.name,nodes:r.nodes.map(o=>({id:o.id,type:o.type,position:o.position,data:o.data})),edges:r.edges.map(o=>({id:o.id,source:o.source,target:o.target,label:o.label,data:o.data}))};return t},he=YR()(XR(e=>({petriNetsById:{[Sd]:T$},petriNetOrder:[Sd],activePetriNetId:Sd,colorSets:j$,variables:_$,priorities:P$,functions:A$,uses:[],simulationEpoch:null,showMarkingDisplay:!0,isArcMode:!1,activeArcType:"normal",setNodes:(t,n)=>{e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],nodes:n}}}))},setEdges:(t,n)=>{e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],edges:n}}}))},createPetriNet:t=>{const n=it(),r={id:n,name:t,nodes:[],edges:[],selectedElement:null};e(o=>({petriNetsById:{...o.petriNetsById,[n]:r},petriNetOrder:[...o.petriNetOrder,n],activePetriNetId:n}))},addPetriNet:t=>{e(n=>({petriNetsById:{...n.petriNetsById,[t.id]:{...t,selectedElement:null}},petriNetOrder:[...n.petriNetOrder,t.id],activePetriNetId:t.id}))},setActivePetriNet:t=>{e(n=>({activePetriNetId:t,petriNetsById:{...n.petriNetsById,[t]:{...n.petriNetsById[t],selectedElement:null}}}))},renamePetriNet:(t,n)=>{e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],name:n}}}))},addNode:(t,n)=>{e(r=>{const o=r.petriNetsById[t],i=[...o.nodes,{...n,id:n.id??it()}];return{petriNetsById:{...r.petriNetsById,[t]:{...o,nodes:i}}}})},addEdge:(t,n)=>{e(r=>{const o=r.petriNetsById[t],i=[...o.edges,{...n,id:n.id??it()}];return{petriNetsById:{...r.petriNetsById,[t]:{...o,edges:i}}}})},updateNode:(t,n)=>{e(r=>{const o=r.petriNetsById[t],i=o.nodes.map(l=>l.id===n.id?{...n}:l);return{petriNetsById:{...r.petriNetsById,[t]:{...o,nodes:i}}}})},updateNodeMarking:(t,n)=>{e(r=>{const o=r.petriNetsById[r.activePetriNetId],i=o.nodes.map(l=>l.id===t?{...l,data:{...l.data,marking:n}}:l);return{petriNetsById:{...r.petriNetsById,[r.activePetriNetId]:{...o,nodes:i}}}})},updateNodeData:(t,n,r)=>{e(o=>{var f;const i=o.petriNetsById[t],l={initialMarking:"initialMarking",colorSet:"colorSet",guard:"guard",time:"time",priority:"priority",codeSegment:"codeSegment"};let c=i.nodes.map(h=>h.id===n?{...h,data:{...h.data,...r}}:h);c=c.map(h=>{var p,g;if(h.type==="inscription"&&h.parentId===n){const x=(p=h.data)==null?void 0:p.inscriptionType,S=(g=Object.entries(l).find(([,v])=>v===x))==null?void 0:g[0];if(S&&S in r){const v=r[S];return{...h,data:{...h.data,label:v||""}}}}return h});const d=((f=i.selectedElement)==null?void 0:f.type)==="node"&&i.selectedElement.element.id===n?{...i.selectedElement,element:{...i.selectedElement.element,data:{...r}}}:i.selectedElement;return{petriNetsById:{...o.petriNetsById,[t]:{...i,nodes:c,selectedElement:d}}}})},updateEdgeData:(t,n,r)=>{e(o=>{var d;const i=o.petriNetsById[t],l=i.edges.map(f=>f.id===n?{...f,data:{...f.data,...r}}:f),c=((d=i.selectedElement)==null?void 0:d.type)==="edge"&&i.selectedElement.element.id===n?{...i.selectedElement,element:{...i.selectedElement.element,data:{...i.selectedElement.element.data,...r}}}:i.selectedElement;return{petriNetsById:{...o.petriNetsById,[t]:{...i,edges:l,selectedElement:c}}}})},updateEdgeLabel:(t,n,r)=>{e(o=>{var d;const i=o.petriNetsById[t],l=i.edges.map(f=>f.id===n?{...f,label:r}:f),c=((d=i.selectedElement)==null?void 0:d.type)==="edge"&&i.selectedElement.element.id===n?{...i.selectedElement,element:{...i.selectedElement.element,label:r}}:i.selectedElement;return{petriNetsById:{...o.petriNetsById,[t]:{...i,edges:l,selectedElement:c}}}})},swapEdgeDirection:(t,n)=>{e(r=>{var d;const o=r.petriNetsById[t],i=o.edges.map(f=>f.id===n?{...f,source:f.target,target:f.source}:f),l=o.edges.find(f=>f.id===n),c=((d=o.selectedElement)==null?void 0:d.type)==="edge"&&o.selectedElement.element.id===n&&l?{...o.selectedElement,element:{...o.selectedElement.element,source:l.target,target:l.source}}:o.selectedElement;return{petriNetsById:{...r.petriNetsById,[t]:{...o,edges:i,selectedElement:c}}}})},applyInitialMarkings:()=>{e(t=>{const n=t.petriNetsById[t.activePetriNetId],r=n.nodes.map(o=>{if(o.type==="place"){let i=[];if(o.data.initialMarking)try{if(typeof o.data.initialMarking=="string"&&o.data.initialMarking.trim()!==""){let l=[];if(o.data.initialMarking.match(/^\s*\[\s*((?:\(\)\s*,?\s*)*)\s*\]\s*$/)){const d=(o.data.initialMarking.match(/\(\)/g)||[]).length;l=Array(d).fill(null)}else if(o.data.initialMarking.endsWith(".all()")){const d=o.data.initialMarking.substring(0,o.data.initialMarking.length-6).trim(),f=t.colorSets.find(h=>h.name===d);if(f&&f.definition.includes("int")){const h=f.definition.match(/with\s+(\d+)\.\.(\d+);/);if(h){const p=parseInt(h[1],10),g=parseInt(h[2],10);!isNaN(p)&&!isNaN(g)?l=Array.from({length:g-p+1},(x,S)=>p+S):console.warn(`Invalid range values in color set definition: "${f.definition}"`)}else console.warn(`No valid range found in color set definition: "${f.definition}"`)}else console.warn(`Cannot apply '.all()' to color set "${d}". It's either not found, not a 'basic' type, or doesn't contain 'int' in its definition.`),l=[]}else{const d=JSON.parse(o.data.initialMarking);Array.isArray(d)?l=d:l=[d]}i=l}}catch(l){console.error(`Error parsing initial marking for node ${o.id}:`,o.data.initialMarking,l),i=[]}return{...o,data:{...o.data,marking:i}}}return o});return{petriNetsById:{...t.petriNetsById,[t.activePetriNetId]:{...n,nodes:r}}}})},setSelectedElement:(t,n)=>e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],selectedElement:n}}})),setColorSets:t=>{e({colorSets:t})},setVariables:t=>{e({variables:t})},setPriorities:t=>{e({priorities:t})},setFunctions:t=>{e({functions:t})},setUses:t=>{e({uses:t})},addColorSet:t=>e(n=>({colorSets:[...n.colorSets,{...t,id:t.id??it()}]})),addVariable:t=>e(n=>({variables:[...n.variables,{...t,id:t.id??it()}]})),addPriority:t=>e(n=>({priorities:[...n.priorities,{...t,id:t.id??it()}]})),addFunction:t=>e(n=>({functions:[...n.functions,{...t,id:t.id??it()}]})),renameColorSet:(t,n)=>e(r=>{const o=r.colorSets.find(f=>f.id===t);if(!o)return r;const i=o.name;if(i===n)return r;const l=r.colorSets.map(f=>f.id===t?{...f,name:n}:f),c=r.variables.map(f=>f.colorSet===i?{...f,colorSet:n}:f),d={};for(const[f,h]of Object.entries(r.petriNetsById)){const p=h.nodes.map(g=>{var x;return g.type==="place"&&((x=g.data)==null?void 0:x.colorSet)===i?{...g,data:{...g.data,colorSet:n}}:g});d[f]={...h,nodes:p}}return{colorSets:l,variables:c,petriNetsById:d}}),deleteColorSet:t=>e(n=>({colorSets:n.colorSets.filter(r=>r.id!==t)})),deleteVariable:t=>e(n=>({variables:n.variables.filter(r=>r.id!==t)})),deletePriority:t=>e(n=>({priorities:n.priorities.filter(r=>r.id!==t)})),deleteFunction:t=>e(n=>({functions:n.functions.filter(r=>r.id!==t)})),addUse:t=>e(n=>({uses:[...n.uses,{...t,id:t.id??it()}]})),updateUse:(t,n)=>e(r=>({uses:r.uses.map(o=>o.id===t?{name:n.name,content:n.content}:o)})),deleteUse:t=>e(n=>({uses:n.uses.filter(r=>r.id!==t)})),toggleArcMode:(t,n)=>e(r=>({isArcMode:t,activeArcType:n||r.activeArcType,petriNetsById:Object.fromEntries(Object.entries(r.petriNetsById).map(([o,i])=>[o,{...i,nodes:i.nodes.map(l=>({...l,data:{...l.data,isArcMode:t}}))}]))})),setActiveArcType:t=>e(()=>({activeArcType:t})),setSimulationEpoch:t=>e(()=>({simulationEpoch:t})),setShowMarkingDisplay:t=>e(()=>({showMarkingDisplay:t})),reset:()=>{e(I$)}}),{handleSet:e=>(gg=e,(t,n)=>{if(Fa>0){Ba||(Ba=t,mg=n);return}e(t,n)}),partialize:e=>({petriNetsById:e.petriNetsById,petriNetOrder:e.petriNetOrder,activePetriNetId:e.activePetriNetId,colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses}),equality:(e,t)=>JSON.stringify({petriNetsById:Vb(e.petriNetsById),petriNetOrder:e.petriNetOrder,activePetriNetId:e.activePetriNetId,colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses})===JSON.stringify({petriNetsById:Vb(t.petriNetsById),petriNetOrder:t.petriNetOrder,activePetriNetId:t.activePetriNetId,colorSets:t.colorSets,variables:t.variables,priorities:t.priorities,functions:t.functions,uses:t.uses}),limit:100})),Jr=()=>{Fa++},Zr=()=>{Fa<=0||(Fa--,Fa===0&&Ba!==void 0&&gg&&(gg(Ba,mg),Ba=void 0,mg=void 0))};function Hb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ss(...e){return t=>{let n=!1;const r=e.map(o=>{const i=Hb(o,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():Hb(e[o],null)}}}}function st(...e){return w.useCallback(ss(...e),e)}var R$=Symbol.for("react.lazy"),Hd=af[" use ".trim().toString()];function M$(e){return typeof e=="object"&&e!==null&&"then"in e}function hN(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===R$&&"_payload"in e&&M$(e._payload)}function Cf(e){const t=D$(e),n=w.forwardRef((r,o)=>{let{children:i,...l}=r;hN(i)&&typeof Hd=="function"&&(i=Hd(i._payload));const c=w.Children.toArray(i),d=c.find(L$);if(d){const f=d.props.children,h=c.map(p=>p===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:w.isValidElement(f)?w.cloneElement(f,void 0,h):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}var mN=Cf("Slot");function D$(e){const t=w.forwardRef((n,r)=>{let{children:o,...i}=n;if(hN(o)&&typeof Hd=="function"&&(o=Hd(o._payload)),w.isValidElement(o)){const l=$$(o),c=z$(i,o.props);return o.type!==w.Fragment&&(c.ref=r?ss(r,l):l),w.cloneElement(o,c)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var O$=Symbol("radix.slottable");function L$(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===O$}function z$(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function $$(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var F$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],B$=F$.reduce((e,t)=>{const n=Cf(`Primitive.${t}`),r=w.forwardRef((o,i)=>{const{asChild:l,...c}=o,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),V$="Separator",Ub="horizontal",H$=["horizontal","vertical"],gN=w.forwardRef((e,t)=>{const{decorative:n,orientation:r=Ub,...o}=e,i=U$(r)?r:Ub,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return u.jsx(B$.div,{"data-orientation":i,...c,...o,ref:t})});gN.displayName=V$;function U$(e){return H$.includes(e)}var W$=gN;function kc({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return u.jsx(W$,{"data-slot":"separator-root",decorative:n,orientation:t,className:Xe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function De(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function q$(e,t){const n=w.createContext(t),r=i=>{const{children:l,...c}=i,d=w.useMemo(()=>c,Object.values(c));return u.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function o(i){const l=w.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,o]}function Rn(e,t=[]){let n=[];function r(i,l){const c=w.createContext(l),d=n.length;n=[...n,l];const f=p=>{var k;const{scope:g,children:x,...S}=p,v=((k=g==null?void 0:g[e])==null?void 0:k[d])||c,b=w.useMemo(()=>S,Object.values(S));return u.jsx(v.Provider,{value:b,children:x})};f.displayName=i+"Provider";function h(p,g){var v;const x=((v=g==null?void 0:g[e])==null?void 0:v[d])||c,S=w.useContext(x);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,h]}const o=()=>{const i=n.map(l=>w.createContext(l));return function(c){const d=(c==null?void 0:c[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return o.scopeName=e,[r,Y$(o,...t)]}function Y$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const p=d(i)[`__scope${f}`];return{...c,...p}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Wb(e){const t=X$(e),n=w.forwardRef((r,o)=>{const{children:i,...l}=r,c=w.Children.toArray(i),d=c.find(K$);if(d){const f=d.props.children,h=c.map(p=>p===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:w.isValidElement(f)?w.cloneElement(f,void 0,h):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function X$(e){const t=w.forwardRef((n,r)=>{const{children:o,...i}=n;if(w.isValidElement(o)){const l=J$(o),c=Q$(i,o.props);return o.type!==w.Fragment&&(c.ref=r?ss(r,l):l),w.cloneElement(o,c)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var G$=Symbol("radix.slottable");function K$(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===G$}function Q$(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function J$(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Nf(e){const t=e+"CollectionProvider",[n,r]=Rn(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:b,children:k}=v,E=qe.useRef(null),N=qe.useRef(new Map).current;return u.jsx(o,{scope:b,itemMap:N,collectionRef:E,children:k})};l.displayName=t;const c=e+"CollectionSlot",d=Wb(c),f=qe.forwardRef((v,b)=>{const{scope:k,children:E}=v,N=i(c,k),_=st(b,N.collectionRef);return u.jsx(d,{ref:_,children:E})});f.displayName=c;const h=e+"CollectionItemSlot",p="data-radix-collection-item",g=Wb(h),x=qe.forwardRef((v,b)=>{const{scope:k,children:E,...N}=v,_=qe.useRef(null),I=st(b,_),P=i(h,k);return qe.useEffect(()=>(P.itemMap.set(_,{ref:_,...N}),()=>void P.itemMap.delete(_))),u.jsx(g,{[p]:"",ref:I,children:E})});x.displayName=h;function S(v){const b=i(e+"CollectionConsumer",v);return qe.useCallback(()=>{const E=b.collectionRef.current;if(!E)return[];const N=Array.from(E.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((P,T)=>N.indexOf(P.ref.current)-N.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:f,ItemSlot:x},S,r]}var wn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},Z$=af[" useId ".trim().toString()]||(()=>{}),e5=0;function wr(e){const[t,n]=w.useState(Z$());return wn(()=>{n(r=>r??String(e5++))},[e]),e||(t?`radix-${t}`:"")}function t5(e){const t=n5(e),n=w.forwardRef((r,o)=>{const{children:i,...l}=r,c=w.Children.toArray(i),d=c.find(o5);if(d){const f=d.props.children,h=c.map(p=>p===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:w.isValidElement(f)?w.cloneElement(f,void 0,h):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function n5(e){const t=w.forwardRef((n,r)=>{const{children:o,...i}=n;if(w.isValidElement(o)){const l=s5(o),c=i5(i,o.props);return o.type!==w.Fragment&&(c.ref=r?ss(r,l):l),w.cloneElement(o,c)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var r5=Symbol("radix.slottable");function o5(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===r5}function i5(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function s5(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var l5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],He=l5.reduce((e,t)=>{const n=t5(`Primitive.${t}`),r=w.forwardRef((o,i)=>{const{asChild:l,...c}=o,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function a5(e,t){e&&yl.flushSync(()=>e.dispatchEvent(t))}function zn(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var c5=af[" useInsertionEffect ".trim().toString()]||wn;function Tn({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,i,l]=u5({defaultProp:t,onChange:n}),c=e!==void 0,d=c?e:o;{const h=w.useRef(e!==void 0);w.useEffect(()=>{const p=h.current;p!==c&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=c},[c,r])}const f=w.useCallback(h=>{var p;if(c){const g=d5(h)?h(e):h;g!==e&&((p=l.current)==null||p.call(l,g))}else i(h)},[c,e,i,l]);return[d,f]}function u5({defaultProp:e,onChange:t}){const[n,r]=w.useState(e),o=w.useRef(n),i=w.useRef(t);return c5(()=>{i.current=t},[t]),w.useEffect(()=>{var l;o.current!==n&&((l=i.current)==null||l.call(i,n),o.current=n)},[n,o]),[n,r,i]}function d5(e){return typeof e=="function"}var f5=w.createContext(void 0);function hi(e){const t=w.useContext(f5);return e||t||"ltr"}var bm="rovingFocusGroup.onEntryFocus",p5={bubbles:!1,cancelable:!0},Cc="RovingFocusGroup",[xg,xN,h5]=Nf(Cc),[m5,vl]=Rn(Cc,[h5]),[g5,x5]=m5(Cc),yN=w.forwardRef((e,t)=>u.jsx(xg.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(xg.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(y5,{...e,ref:t})})}));yN.displayName=Cc;var y5=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:h=!1,...p}=e,g=w.useRef(null),x=st(t,g),S=hi(i),[v,b]=Tn({prop:l,defaultProp:c??null,onChange:d,caller:Cc}),[k,E]=w.useState(!1),N=zn(f),_=xN(n),I=w.useRef(!1),[P,T]=w.useState(0);return w.useEffect(()=>{const O=g.current;if(O)return O.addEventListener(bm,N),()=>O.removeEventListener(bm,N)},[N]),u.jsx(g5,{scope:n,orientation:r,dir:S,loop:o,currentTabStopId:v,onItemFocus:w.useCallback(O=>b(O),[b]),onItemShiftTab:w.useCallback(()=>E(!0),[]),onFocusableItemAdd:w.useCallback(()=>T(O=>O+1),[]),onFocusableItemRemove:w.useCallback(()=>T(O=>O-1),[]),children:u.jsx(He.div,{tabIndex:k||P===0?-1:0,"data-orientation":r,...p,ref:x,style:{outline:"none",...e.style},onMouseDown:De(e.onMouseDown,()=>{I.current=!0}),onFocus:De(e.onFocus,O=>{const U=!I.current;if(O.target===O.currentTarget&&U&&!k){const L=new CustomEvent(bm,p5);if(O.currentTarget.dispatchEvent(L),!L.defaultPrevented){const B=_().filter(F=>F.focusable),Y=B.find(F=>F.active),q=B.find(F=>F.id===v),$=[Y,q,...B].filter(Boolean).map(F=>F.ref.current);bN($,h)}}I.current=!1}),onBlur:De(e.onBlur,()=>E(!1))})})}),vN="RovingFocusGroupItem",wN=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,children:l,...c}=e,d=wr(),f=i||d,h=x5(vN,n),p=h.currentTabStopId===f,g=xN(n),{onFocusableItemAdd:x,onFocusableItemRemove:S,currentTabStopId:v}=h;return w.useEffect(()=>{if(r)return x(),()=>S()},[r,x,S]),u.jsx(xg.ItemSlot,{scope:n,id:f,focusable:r,active:o,children:u.jsx(He.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...c,ref:t,onMouseDown:De(e.onMouseDown,b=>{r?h.onItemFocus(f):b.preventDefault()}),onFocus:De(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:De(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const k=b5(b,h.orientation,h.dir);if(k!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let N=g().filter(_=>_.focusable).map(_=>_.ref.current);if(k==="last")N.reverse();else if(k==="prev"||k==="next"){k==="prev"&&N.reverse();const _=N.indexOf(b.currentTarget);N=h.loop?S5(N,_+1):N.slice(_+1)}setTimeout(()=>bN(N))}}),children:typeof l=="function"?l({isCurrentTabStop:p,hasTabStop:v!=null}):l})})});wN.displayName=vN;var v5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function w5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function b5(e,t,n){const r=w5(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return v5[r]}function bN(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function S5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Cx=yN,Nx=wN;function k5(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var Mn=e=>{const{present:t,children:n}=e,r=C5(t),o=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=st(r.ref,N5(o));return typeof n=="function"||r.isPresent?w.cloneElement(o,{ref:i}):null};Mn.displayName="Presence";function C5(e){const[t,n]=w.useState(),r=w.useRef(null),o=w.useRef(e),i=w.useRef("none"),l=e?"mounted":"unmounted",[c,d]=k5(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const f=nd(r.current);i.current=c==="mounted"?f:"none"},[c]),wn(()=>{const f=r.current,h=o.current;if(h!==e){const g=i.current,x=nd(f);e?d("MOUNT"):x==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(h&&g!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),wn(()=>{if(t){let f;const h=t.ownerDocument.defaultView??window,p=x=>{const v=nd(r.current).includes(CSS.escape(x.animationName));if(x.target===t&&v&&(d("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",f=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},g=x=>{x.target===t&&(i.current=nd(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function nd(e){return(e==null?void 0:e.animationName)||"none"}function N5(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ef="Tabs",[E5,MK]=Rn(Ef,[vl]),SN=vl(),[j5,Ex]=E5(Ef),kN=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:d="automatic",...f}=e,h=hi(c),[p,g]=Tn({prop:r,onChange:o,defaultProp:i??"",caller:Ef});return u.jsx(j5,{scope:n,baseId:wr(),value:p,onValueChange:g,orientation:l,dir:h,activationMode:d,children:u.jsx(He.div,{dir:h,"data-orientation":l,...f,ref:t})})});kN.displayName=Ef;var CN="TabsList",NN=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,i=Ex(CN,n),l=SN(n);return u.jsx(Cx,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(He.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:t})})});NN.displayName=CN;var EN="TabsTrigger",jN=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...i}=e,l=Ex(EN,n),c=SN(n),d=PN(l.baseId,r),f=AN(l.baseId,r),h=r===l.value;return u.jsx(Nx,{asChild:!0,...c,focusable:!o,active:h,children:u.jsx(He.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...i,ref:t,onMouseDown:De(e.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?l.onValueChange(r):p.preventDefault()}),onKeyDown:De(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(r)}),onFocus:De(e.onFocus,()=>{const p=l.activationMode!=="manual";!h&&!o&&p&&l.onValueChange(r)})})})});jN.displayName=EN;var _N="TabsContent",Ud=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:i,...l}=e,c=Ex(_N,n),d=PN(c.baseId,r),f=AN(c.baseId,r),h=r===c.value,p=w.useRef(h);return w.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),u.jsx(Mn,{present:o||h,children:({present:g})=>u.jsx(He.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:g&&i})})});Ud.displayName=_N;function PN(e,t){return`${e}-trigger-${t}`}function AN(e,t){return`${e}-content-${t}`}var _5=kN,P5=NN,A5=jN,I5=Ud;function mi({className:e,...t}){return u.jsx(_5,{"data-slot":"tabs",className:Xe("flex flex-col gap-2",e),...t})}function gi({className:e,...t}){return u.jsx(P5,{"data-slot":"tabs-list",className:Xe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Fn({className:e,...t}){return u.jsx(A5,{"data-slot":"tabs-trigger",className:Xe("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function br({className:e,...t}){return u.jsx(I5,{"data-slot":"tabs-content",className:Xe("flex-1 outline-none",e),...t})}var T5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],R5=T5.reduce((e,t)=>{const n=Cf(`Primitive.${t}`),r=w.forwardRef((o,i)=>{const{asChild:l,...c}=o,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),M5="Label",IN=w.forwardRef((e,t)=>u.jsx(R5.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));IN.displayName=M5;var D5=IN;function je({className:e,...t}){return u.jsx(D5,{"data-slot":"label",className:Xe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function at({className:e,type:t,...n}){return u.jsx("input",{type:t,"data-slot":"input",className:Xe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}const wl=w.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:Xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));wl.displayName="Textarea";const TN=w.forwardRef(({className:e,value:t,onChange:n,...r},o)=>{const i=w.useRef(null),l=w.useCallback(d=>{i.current=d,typeof o=="function"?o(d):o&&(o.current=d)},[o]),c=w.useCallback(()=>{const d=i.current;d&&(d.style.height="auto",d.style.height=`${d.scrollHeight}px`)},[]);return w.useEffect(()=>{c()},[t,c]),u.jsx("textarea",{ref:l,rows:1,value:t,onChange:d=>{n==null||n(d)},className:Xe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","resize-none overflow-hidden leading-[1.5] min-h-0",e),...r})});TN.displayName="AutoExpandingInput";const ko=w.forwardRef(({onFocus:e,onBlur:t,...n},r)=>u.jsx(at,{ref:r,onFocus:o=>{Jr(),e==null||e(o)},onBlur:o=>{Zr(),t==null||t(o)},...n}));ko.displayName="UndoableInput";const li=w.forwardRef(({onFocus:e,onBlur:t,...n},r)=>u.jsx(wl,{ref:r,onFocus:o=>{Jr(),e==null||e(o)},onBlur:o=>{Zr(),t==null||t(o)},...n}));li.displayName="UndoableTextarea";const jx=w.forwardRef(({onFocus:e,onBlur:t,...n},r)=>u.jsx(TN,{ref:r,onFocus:o=>{Jr(),e==null||e(o)},onBlur:o=>{Zr(),t==null||t(o)},...n}));jx.displayName="UndoableAutoExpandingInput";function lc(e,[t,n]){return Math.min(n,Math.max(t,e))}function O5(e,t=globalThis==null?void 0:globalThis.document){const n=zn(e);w.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var L5="DismissableLayer",yg="dismissableLayer.update",z5="dismissableLayer.pointerDownOutside",$5="dismissableLayer.focusOutside",qb,RN=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nc=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...d}=e,f=w.useContext(RN),[h,p]=w.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=w.useState({}),S=st(t,T=>p(T)),v=Array.from(f.layers),[b]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),k=v.indexOf(b),E=h?v.indexOf(h):-1,N=f.layersWithOutsidePointerEventsDisabled.size>0,_=E>=k,I=V5(T=>{const O=T.target,U=[...f.branches].some(L=>L.contains(O));!_||U||(o==null||o(T),l==null||l(T),T.defaultPrevented||c==null||c())},g),P=H5(T=>{const O=T.target;[...f.branches].some(L=>L.contains(O))||(i==null||i(T),l==null||l(T),T.defaultPrevented||c==null||c())},g);return O5(T=>{E===f.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&c&&(T.preventDefault(),c()))},g),w.useEffect(()=>{if(h)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(qb=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),Yb(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=qb)}},[h,g,n,f]),w.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),Yb())},[h,f]),w.useEffect(()=>{const T=()=>x({});return document.addEventListener(yg,T),()=>document.removeEventListener(yg,T)},[]),u.jsx(He.div,{...d,ref:S,style:{pointerEvents:N?_?"auto":"none":void 0,...e.style},onFocusCapture:De(e.onFocusCapture,P.onFocusCapture),onBlurCapture:De(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:De(e.onPointerDownCapture,I.onPointerDownCapture)})});Nc.displayName=L5;var F5="DismissableLayerBranch",B5=w.forwardRef((e,t)=>{const n=w.useContext(RN),r=w.useRef(null),o=st(t,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(He.div,{...e,ref:o})});B5.displayName=F5;function V5(e,t=globalThis==null?void 0:globalThis.document){const n=zn(e),r=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let d=function(){MN(z5,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function H5(e,t=globalThis==null?void 0:globalThis.document){const n=zn(e),r=w.useRef(!1);return w.useEffect(()=>{const o=i=>{i.target&&!r.current&&MN($5,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Yb(){const e=new CustomEvent(yg);document.dispatchEvent(e)}function MN(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?a5(o,i):o.dispatchEvent(i)}var Sm=0;function _x(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Xb()),document.body.insertAdjacentElement("beforeend",e[1]??Xb()),Sm++,()=>{Sm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Sm--}},[])}function Xb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var km="focusScope.autoFocusOnMount",Cm="focusScope.autoFocusOnUnmount",Gb={bubbles:!1,cancelable:!0},U5="FocusScope",jf=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...l}=e,[c,d]=w.useState(null),f=zn(o),h=zn(i),p=w.useRef(null),g=st(t,v=>d(v)),x=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let v=function(N){if(x.paused||!c)return;const _=N.target;c.contains(_)?p.current=_:ni(p.current,{select:!0})},b=function(N){if(x.paused||!c)return;const _=N.relatedTarget;_!==null&&(c.contains(_)||ni(p.current,{select:!0}))},k=function(N){if(document.activeElement===document.body)for(const I of N)I.removedNodes.length>0&&ni(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const E=new MutationObserver(k);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),E.disconnect()}}},[r,c,x.paused]),w.useEffect(()=>{if(c){Qb.add(x);const v=document.activeElement;if(!c.contains(v)){const k=new CustomEvent(km,Gb);c.addEventListener(km,f),c.dispatchEvent(k),k.defaultPrevented||(W5(K5(DN(c)),{select:!0}),document.activeElement===v&&ni(c))}return()=>{c.removeEventListener(km,f),setTimeout(()=>{const k=new CustomEvent(Cm,Gb);c.addEventListener(Cm,h),c.dispatchEvent(k),k.defaultPrevented||ni(v??document.body,{select:!0}),c.removeEventListener(Cm,h),Qb.remove(x)},0)}}},[c,f,h,x]);const S=w.useCallback(v=>{if(!n&&!r||x.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,k=document.activeElement;if(b&&k){const E=v.currentTarget,[N,_]=q5(E);N&&_?!v.shiftKey&&k===_?(v.preventDefault(),n&&ni(N,{select:!0})):v.shiftKey&&k===N&&(v.preventDefault(),n&&ni(_,{select:!0})):k===E&&v.preventDefault()}},[n,r,x.paused]);return u.jsx(He.div,{tabIndex:-1,...l,ref:g,onKeyDown:S})});jf.displayName=U5;function W5(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ni(r,{select:t}),document.activeElement!==n)return}function q5(e){const t=DN(e),n=Kb(t,e),r=Kb(t.reverse(),e);return[n,r]}function DN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kb(e,t){for(const n of e)if(!Y5(n,{upTo:t}))return n}function Y5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function X5(e){return e instanceof HTMLInputElement&&"select"in e}function ni(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&X5(e)&&t&&e.select()}}var Qb=G5();function G5(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Jb(e,t),e.unshift(t)},remove(t){var n;e=Jb(e,t),(n=e[0])==null||n.resume()}}}function Jb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function K5(e){return e.filter(t=>t.tagName!=="A")}const Q5=["top","right","bottom","left"],di=Math.min,sr=Math.max,Wd=Math.round,rd=Math.floor,no=e=>({x:e,y:e}),J5={left:"right",right:"left",bottom:"top",top:"bottom"},Z5={start:"end",end:"start"};function vg(e,t,n){return sr(e,di(t,n))}function _o(e,t){return typeof e=="function"?e(t):e}function Po(e){return e.split("-")[0]}function bl(e){return e.split("-")[1]}function Px(e){return e==="x"?"y":"x"}function Ax(e){return e==="y"?"height":"width"}const eF=new Set(["top","bottom"]);function eo(e){return eF.has(Po(e))?"y":"x"}function Ix(e){return Px(eo(e))}function tF(e,t,n){n===void 0&&(n=!1);const r=bl(e),o=Ix(e),i=Ax(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=qd(l)),[l,qd(l)]}function nF(e){const t=qd(e);return[wg(e),t,wg(t)]}function wg(e){return e.replace(/start|end/g,t=>Z5[t])}const Zb=["left","right"],e1=["right","left"],rF=["top","bottom"],oF=["bottom","top"];function iF(e,t,n){switch(e){case"top":case"bottom":return n?t?e1:Zb:t?Zb:e1;case"left":case"right":return t?rF:oF;default:return[]}}function sF(e,t,n,r){const o=bl(e);let i=iF(Po(e),n==="start",r);return o&&(i=i.map(l=>l+"-"+o),t&&(i=i.concat(i.map(wg)))),i}function qd(e){return e.replace(/left|right|bottom|top/g,t=>J5[t])}function lF(e){return{top:0,right:0,bottom:0,left:0,...e}}function ON(e){return typeof e!="number"?lF(e):{top:e,right:e,bottom:e,left:e}}function Yd(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function t1(e,t,n){let{reference:r,floating:o}=e;const i=eo(t),l=Ix(t),c=Ax(l),d=Po(t),f=i==="y",h=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,g=r[c]/2-o[c]/2;let x;switch(d){case"top":x={x:h,y:r.y-o.height};break;case"bottom":x={x:h,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:p};break;case"left":x={x:r.x-o.width,y:p};break;default:x={x:r.x,y:r.y}}switch(bl(t)){case"start":x[l]-=g*(n&&f?-1:1);break;case"end":x[l]+=g*(n&&f?-1:1);break}return x}async function aF(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:l,elements:c,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:x=0}=_o(t,e),S=ON(x),b=c[g?p==="floating"?"reference":"floating":p],k=Yd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:h,strategy:d})),E=p==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),_=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},I=Yd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:N,strategy:d}):E);return{top:(k.top-I.top+S.top)/_.y,bottom:(I.bottom-k.bottom+S.bottom)/_.y,left:(k.left-I.left+S.left)/_.x,right:(I.right-k.right+S.right)/_.x}}const cF=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:l}=n,c=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:p}=t1(f,r,d),g=r,x={},S=0;for(let b=0;b<c.length;b++){var v;const{name:k,fn:E}=c[b],{x:N,y:_,data:I,reset:P}=await E({x:h,y:p,initialPlacement:r,placement:g,strategy:o,middlewareData:x,rects:f,platform:{...l,detectOverflow:(v=l.detectOverflow)!=null?v:aF},elements:{reference:e,floating:t}});h=N??h,p=_??p,x={...x,[k]:{...x[k],...I}},P&&S<=50&&(S++,typeof P=="object"&&(P.placement&&(g=P.placement),P.rects&&(f=P.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):P.rects),{x:h,y:p}=t1(f,g,d)),b=-1)}return{x:h,y:p,placement:g,strategy:o,middlewareData:x}},uF=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:l,elements:c,middlewareData:d}=t,{element:f,padding:h=0}=_o(e,t)||{};if(f==null)return{};const p=ON(h),g={x:n,y:r},x=Ix(o),S=Ax(x),v=await l.getDimensions(f),b=x==="y",k=b?"top":"left",E=b?"bottom":"right",N=b?"clientHeight":"clientWidth",_=i.reference[S]+i.reference[x]-g[x]-i.floating[S],I=g[x]-i.reference[x],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let T=P?P[N]:0;(!T||!await(l.isElement==null?void 0:l.isElement(P)))&&(T=c.floating[N]||i.floating[S]);const O=_/2-I/2,U=T/2-v[S]/2-1,L=di(p[k],U),B=di(p[E],U),Y=L,q=T-v[S]-B,A=T/2-v[S]/2+O,$=vg(Y,A,q),F=!d.arrow&&bl(o)!=null&&A!==$&&i.reference[S]/2-(A<Y?L:B)-v[S]/2<0,G=F?A<Y?A-Y:A-q:0;return{[x]:g[x]+G,data:{[x]:$,centerOffset:A-$-G,...F&&{alignmentOffset:G}},reset:F}}}),dF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:l,initialPlacement:c,platform:d,elements:f}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...b}=_o(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const k=Po(o),E=eo(c),N=Po(c)===c,_=await(d.isRTL==null?void 0:d.isRTL(f.floating)),I=g||(N||!v?[qd(c)]:nF(c)),P=S!=="none";!g&&P&&I.push(...sF(c,v,S,_));const T=[c,...I],O=await d.detectOverflow(t,b),U=[];let L=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&U.push(O[k]),p){const A=tF(o,l,_);U.push(O[A[0]],O[A[1]])}if(L=[...L,{placement:o,overflows:U}],!U.every(A=>A<=0)){var B,Y;const A=(((B=i.flip)==null?void 0:B.index)||0)+1,$=T[A];if($&&(!(p==="alignment"?E!==eo($):!1)||L.every(D=>eo(D.placement)===E?D.overflows[0]>0:!0)))return{data:{index:A,overflows:L},reset:{placement:$}};let F=(Y=L.filter(G=>G.overflows[0]<=0).sort((G,D)=>G.overflows[1]-D.overflows[1])[0])==null?void 0:Y.placement;if(!F)switch(x){case"bestFit":{var q;const G=(q=L.filter(D=>{if(P){const W=eo(D.placement);return W===E||W==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(W=>W>0).reduce((W,M)=>W+M,0)]).sort((D,W)=>D[1]-W[1])[0])==null?void 0:q[0];G&&(F=G);break}case"initialPlacement":F=c;break}if(o!==F)return{reset:{placement:F}}}return{}}}};function n1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function r1(e){return Q5.some(t=>e[t]>=0)}const fF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:o="referenceHidden",...i}=_o(e,t);switch(o){case"referenceHidden":{const l=await r.detectOverflow(t,{...i,elementContext:"reference"}),c=n1(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:r1(c)}}}case"escaped":{const l=await r.detectOverflow(t,{...i,altBoundary:!0}),c=n1(l,n.floating);return{data:{escapedOffsets:c,escaped:r1(c)}}}default:return{}}}}},LN=new Set(["left","top"]);async function pF(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=Po(n),c=bl(n),d=eo(n)==="y",f=LN.has(l)?-1:1,h=i&&d?-1:1,p=_o(t,e);let{mainAxis:g,crossAxis:x,alignmentAxis:S}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof S=="number"&&(x=c==="end"?S*-1:S),d?{x:x*h,y:g*f}:{x:g*f,y:x*h}}const hF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:l,middlewareData:c}=t,d=await pF(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+d.x,y:i+d.y,data:{...d,placement:l}}}}},mF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o,platform:i}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:k=>{let{x:E,y:N}=k;return{x:E,y:N}}},...f}=_o(e,t),h={x:n,y:r},p=await i.detectOverflow(t,f),g=eo(Po(o)),x=Px(g);let S=h[x],v=h[g];if(l){const k=x==="y"?"top":"left",E=x==="y"?"bottom":"right",N=S+p[k],_=S-p[E];S=vg(N,S,_)}if(c){const k=g==="y"?"top":"left",E=g==="y"?"bottom":"right",N=v+p[k],_=v-p[E];v=vg(N,v,_)}const b=d.fn({...t,[x]:S,[g]:v});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[x]:l,[g]:c}}}}}},gF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:l}=t,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=_o(e,t),h={x:n,y:r},p=eo(o),g=Px(p);let x=h[g],S=h[p];const v=_o(c,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const N=g==="y"?"height":"width",_=i.reference[g]-i.floating[N]+b.mainAxis,I=i.reference[g]+i.reference[N]-b.mainAxis;x<_?x=_:x>I&&(x=I)}if(f){var k,E;const N=g==="y"?"width":"height",_=LN.has(Po(o)),I=i.reference[p]-i.floating[N]+(_&&((k=l.offset)==null?void 0:k[p])||0)+(_?0:b.crossAxis),P=i.reference[p]+i.reference[N]+(_?0:((E=l.offset)==null?void 0:E[p])||0)-(_?b.crossAxis:0);S<I?S=I:S>P&&(S=P)}return{[g]:x,[p]:S}}}},xF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:l,elements:c}=t,{apply:d=()=>{},...f}=_o(e,t),h=await l.detectOverflow(t,f),p=Po(o),g=bl(o),x=eo(o)==="y",{width:S,height:v}=i.floating;let b,k;p==="top"||p==="bottom"?(b=p,k=g===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(k=p,b=g==="end"?"top":"bottom");const E=v-h.top-h.bottom,N=S-h.left-h.right,_=di(v-h[b],E),I=di(S-h[k],N),P=!t.middlewareData.shift;let T=_,O=I;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=N),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=E),P&&!g){const L=sr(h.left,0),B=sr(h.right,0),Y=sr(h.top,0),q=sr(h.bottom,0);x?O=S-2*(L!==0||B!==0?L+B:sr(h.left,h.right)):T=v-2*(Y!==0||q!==0?Y+q:sr(h.top,h.bottom))}await d({...t,availableWidth:O,availableHeight:T});const U=await l.getDimensions(c.floating);return S!==U.width||v!==U.height?{reset:{rects:!0}}:{}}}};function _f(){return typeof window<"u"}function Sl(e){return zN(e)?(e.nodeName||"").toLowerCase():"#document"}function cr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function so(e){var t;return(t=(zN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zN(e){return _f()?e instanceof Node||e instanceof cr(e).Node:!1}function Lr(e){return _f()?e instanceof Element||e instanceof cr(e).Element:!1}function oo(e){return _f()?e instanceof HTMLElement||e instanceof cr(e).HTMLElement:!1}function o1(e){return!_f()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cr(e).ShadowRoot}const yF=new Set(["inline","contents"]);function Ec(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=zr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!yF.has(o)}const vF=new Set(["table","td","th"]);function wF(e){return vF.has(Sl(e))}const bF=[":popover-open",":modal"];function Pf(e){return bF.some(t=>{try{return e.matches(t)}catch{return!1}})}const SF=["transform","translate","scale","rotate","perspective"],kF=["transform","translate","scale","rotate","perspective","filter"],CF=["paint","layout","strict","content"];function Tx(e){const t=Rx(),n=Lr(e)?zr(e):e;return SF.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||kF.some(r=>(n.willChange||"").includes(r))||CF.some(r=>(n.contain||"").includes(r))}function NF(e){let t=fi(e);for(;oo(t)&&!ul(t);){if(Tx(t))return t;if(Pf(t))return null;t=fi(t)}return null}function Rx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const EF=new Set(["html","body","#document"]);function ul(e){return EF.has(Sl(e))}function zr(e){return cr(e).getComputedStyle(e)}function Af(e){return Lr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fi(e){if(Sl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||o1(e)&&e.host||so(e);return o1(t)?t.host:t}function $N(e){const t=fi(e);return ul(t)?e.ownerDocument?e.ownerDocument.body:e.body:oo(t)&&Ec(t)?t:$N(t)}function ac(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=$N(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),l=cr(o);if(i){const c=bg(l);return t.concat(l,l.visualViewport||[],Ec(o)?o:[],c&&n?ac(c):[])}return t.concat(o,ac(o,[],n))}function bg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function FN(e){const t=zr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=oo(e),i=o?e.offsetWidth:n,l=o?e.offsetHeight:r,c=Wd(n)!==i||Wd(r)!==l;return c&&(n=i,r=l),{width:n,height:r,$:c}}function Mx(e){return Lr(e)?e:e.contextElement}function Js(e){const t=Mx(e);if(!oo(t))return no(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=FN(t);let l=(i?Wd(n.width):n.width)/r,c=(i?Wd(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const jF=no(0);function BN(e){const t=cr(e);return!Rx()||!t.visualViewport?jF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _F(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==cr(e)?!1:t}function ts(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Mx(e);let l=no(1);t&&(r?Lr(r)&&(l=Js(r)):l=Js(e));const c=_F(i,n,r)?BN(i):no(0);let d=(o.left+c.x)/l.x,f=(o.top+c.y)/l.y,h=o.width/l.x,p=o.height/l.y;if(i){const g=cr(i),x=r&&Lr(r)?cr(r):r;let S=g,v=bg(S);for(;v&&r&&x!==S;){const b=Js(v),k=v.getBoundingClientRect(),E=zr(v),N=k.left+(v.clientLeft+parseFloat(E.paddingLeft))*b.x,_=k.top+(v.clientTop+parseFloat(E.paddingTop))*b.y;d*=b.x,f*=b.y,h*=b.x,p*=b.y,d+=N,f+=_,S=cr(v),v=bg(S)}}return Yd({width:h,height:p,x:d,y:f})}function If(e,t){const n=Af(e).scrollLeft;return t?t.left+n:ts(so(e)).left+n}function VN(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-If(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function PF(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",l=so(r),c=t?Pf(t.floating):!1;if(r===l||c&&i)return n;let d={scrollLeft:0,scrollTop:0},f=no(1);const h=no(0),p=oo(r);if((p||!p&&!i)&&((Sl(r)!=="body"||Ec(l))&&(d=Af(r)),oo(r))){const x=ts(r);f=Js(r),h.x=x.x+r.clientLeft,h.y=x.y+r.clientTop}const g=l&&!p&&!i?VN(l,d):no(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+h.x+g.x,y:n.y*f.y-d.scrollTop*f.y+h.y+g.y}}function AF(e){return Array.from(e.getClientRects())}function IF(e){const t=so(e),n=Af(e),r=e.ownerDocument.body,o=sr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=sr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+If(e);const c=-n.scrollTop;return zr(r).direction==="rtl"&&(l+=sr(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:l,y:c}}const i1=25;function TF(e,t){const n=cr(e),r=so(e),o=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,c=0,d=0;if(o){i=o.width,l=o.height;const h=Rx();(!h||h&&t==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}const f=If(r);if(f<=0){const h=r.ownerDocument,p=h.body,g=getComputedStyle(p),x=h.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,S=Math.abs(r.clientWidth-p.clientWidth-x);S<=i1&&(i-=S)}else f<=i1&&(i+=f);return{width:i,height:l,x:c,y:d}}const RF=new Set(["absolute","fixed"]);function MF(e,t){const n=ts(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=oo(e)?Js(e):no(1),l=e.clientWidth*i.x,c=e.clientHeight*i.y,d=o*i.x,f=r*i.y;return{width:l,height:c,x:d,y:f}}function s1(e,t,n){let r;if(t==="viewport")r=TF(e,n);else if(t==="document")r=IF(so(e));else if(Lr(t))r=MF(t,n);else{const o=BN(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Yd(r)}function HN(e,t){const n=fi(e);return n===t||!Lr(n)||ul(n)?!1:zr(n).position==="fixed"||HN(n,t)}function DF(e,t){const n=t.get(e);if(n)return n;let r=ac(e,[],!1).filter(c=>Lr(c)&&Sl(c)!=="body"),o=null;const i=zr(e).position==="fixed";let l=i?fi(e):e;for(;Lr(l)&&!ul(l);){const c=zr(l),d=Tx(l);!d&&c.position==="fixed"&&(o=null),(i?!d&&!o:!d&&c.position==="static"&&!!o&&RF.has(o.position)||Ec(l)&&!d&&HN(e,l))?r=r.filter(h=>h!==l):o=c,l=fi(l)}return t.set(e,r),r}function OF(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const l=[...n==="clippingAncestors"?Pf(t)?[]:DF(t,this._c):[].concat(n),r],c=l[0],d=l.reduce((f,h)=>{const p=s1(t,h,o);return f.top=sr(p.top,f.top),f.right=di(p.right,f.right),f.bottom=di(p.bottom,f.bottom),f.left=sr(p.left,f.left),f},s1(t,c,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function LF(e){const{width:t,height:n}=FN(e);return{width:t,height:n}}function zF(e,t,n){const r=oo(t),o=so(t),i=n==="fixed",l=ts(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=no(0);function f(){d.x=If(o)}if(r||!r&&!i)if((Sl(t)!=="body"||Ec(o))&&(c=Af(t)),r){const x=ts(t,!0,i,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else o&&f();i&&!r&&o&&f();const h=o&&!r&&!i?VN(o,c):no(0),p=l.left+c.scrollLeft-d.x-h.x,g=l.top+c.scrollTop-d.y-h.y;return{x:p,y:g,width:l.width,height:l.height}}function Nm(e){return zr(e).position==="static"}function l1(e,t){if(!oo(e)||zr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return so(e)===n&&(n=n.ownerDocument.body),n}function UN(e,t){const n=cr(e);if(Pf(e))return n;if(!oo(e)){let o=fi(e);for(;o&&!ul(o);){if(Lr(o)&&!Nm(o))return o;o=fi(o)}return n}let r=l1(e,t);for(;r&&wF(r)&&Nm(r);)r=l1(r,t);return r&&ul(r)&&Nm(r)&&!Tx(r)?n:r||NF(e)||n}const $F=async function(e){const t=this.getOffsetParent||UN,n=this.getDimensions,r=await n(e.floating);return{reference:zF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function FF(e){return zr(e).direction==="rtl"}const BF={convertOffsetParentRelativeRectToViewportRelativeRect:PF,getDocumentElement:so,getClippingRect:OF,getOffsetParent:UN,getElementRects:$F,getClientRects:AF,getDimensions:LF,getScale:Js,isElement:Lr,isRTL:FF};function WN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function VF(e,t){let n=null,r;const o=so(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:h,top:p,width:g,height:x}=f;if(c||t(),!g||!x)return;const S=rd(p),v=rd(o.clientWidth-(h+g)),b=rd(o.clientHeight-(p+x)),k=rd(h),N={rootMargin:-S+"px "+-v+"px "+-b+"px "+-k+"px",threshold:sr(0,di(1,d))||1};let _=!0;function I(P){const T=P[0].intersectionRatio;if(T!==d){if(!_)return l();T?l(!1,T):r=setTimeout(()=>{l(!1,1e-7)},1e3)}T===1&&!WN(f,e.getBoundingClientRect())&&l(),_=!1}try{n=new IntersectionObserver(I,{...N,root:o.ownerDocument})}catch{n=new IntersectionObserver(I,N)}n.observe(e)}return l(!0),i}function HF(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=Mx(e),h=o||i?[...f?ac(f):[],...ac(t)]:[];h.forEach(k=>{o&&k.addEventListener("scroll",n,{passive:!0}),i&&k.addEventListener("resize",n)});const p=f&&c?VF(f,n):null;let g=-1,x=null;l&&(x=new ResizeObserver(k=>{let[E]=k;E&&E.target===f&&x&&(x.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var N;(N=x)==null||N.observe(t)})),n()}),f&&!d&&x.observe(f),x.observe(t));let S,v=d?ts(e):null;d&&b();function b(){const k=ts(e);v&&!WN(v,k)&&n(),v=k,S=requestAnimationFrame(b)}return n(),()=>{var k;h.forEach(E=>{o&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),p==null||p(),(k=x)==null||k.disconnect(),x=null,d&&cancelAnimationFrame(S)}}const UF=hF,WF=mF,qF=dF,YF=xF,XF=fF,a1=uF,GF=gF,KF=(e,t,n)=>{const r=new Map,o={platform:BF,...n},i={...o.platform,_c:r};return cF(e,t,{...o,platform:i})};var QF=typeof document<"u",JF=function(){},kd=QF?w.useLayoutEffect:JF;function Xd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Xd(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Xd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function qN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function c1(e,t){const n=qN(e);return Math.round(t*n)/n}function Em(e){const t=w.useRef(e);return kd(()=>{t.current=e}),t}function ZF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:l}={},transform:c=!0,whileElementsMounted:d,open:f}=e,[h,p]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,x]=w.useState(r);Xd(g,r)||x(r);const[S,v]=w.useState(null),[b,k]=w.useState(null),E=w.useCallback(D=>{D!==P.current&&(P.current=D,v(D))},[]),N=w.useCallback(D=>{D!==T.current&&(T.current=D,k(D))},[]),_=i||S,I=l||b,P=w.useRef(null),T=w.useRef(null),O=w.useRef(h),U=d!=null,L=Em(d),B=Em(o),Y=Em(f),q=w.useCallback(()=>{if(!P.current||!T.current)return;const D={placement:t,strategy:n,middleware:g};B.current&&(D.platform=B.current),KF(P.current,T.current,D).then(W=>{const M={...W,isPositioned:Y.current!==!1};A.current&&!Xd(O.current,M)&&(O.current=M,yl.flushSync(()=>{p(M)}))})},[g,t,n,B,Y]);kd(()=>{f===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,p(D=>({...D,isPositioned:!1})))},[f]);const A=w.useRef(!1);kd(()=>(A.current=!0,()=>{A.current=!1}),[]),kd(()=>{if(_&&(P.current=_),I&&(T.current=I),_&&I){if(L.current)return L.current(_,I,q);q()}},[_,I,q,L,U]);const $=w.useMemo(()=>({reference:P,floating:T,setReference:E,setFloating:N}),[E,N]),F=w.useMemo(()=>({reference:_,floating:I}),[_,I]),G=w.useMemo(()=>{const D={position:n,left:0,top:0};if(!F.floating)return D;const W=c1(F.floating,h.x),M=c1(F.floating,h.y);return c?{...D,transform:"translate("+W+"px, "+M+"px)",...qN(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:M}},[n,c,F.floating,h.x,h.y]);return w.useMemo(()=>({...h,update:q,refs:$,elements:F,floatingStyles:G}),[h,q,$,F,G])}const eB=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?a1({element:r.current,padding:o}).fn(n):{}:r?a1({element:r,padding:o}).fn(n):{}}}},tB=(e,t)=>({...UF(e),options:[e,t]}),nB=(e,t)=>({...WF(e),options:[e,t]}),rB=(e,t)=>({...GF(e),options:[e,t]}),oB=(e,t)=>({...qF(e),options:[e,t]}),iB=(e,t)=>({...YF(e),options:[e,t]}),sB=(e,t)=>({...XF(e),options:[e,t]}),lB=(e,t)=>({...eB(e),options:[e,t]});var aB="Arrow",YN=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return u.jsx(He.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});YN.displayName=aB;var cB=YN;function Tf(e){const[t,n]=w.useState(void 0);return wn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let l,c;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,c=f.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Dx="Popper",[XN,kl]=Rn(Dx),[uB,GN]=XN(Dx),KN=e=>{const{__scopePopper:t,children:n}=e,[r,o]=w.useState(null);return u.jsx(uB,{scope:t,anchor:r,onAnchorChange:o,children:n})};KN.displayName=Dx;var QN="PopperAnchor",JN=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=GN(QN,n),l=w.useRef(null),c=st(t,l),d=w.useRef(null);return w.useEffect(()=>{const f=d.current;d.current=(r==null?void 0:r.current)||l.current,f!==d.current&&i.onAnchorChange(d.current)}),r?null:u.jsx(He.div,{...o,ref:c})});JN.displayName=QN;var Ox="PopperContent",[dB,fB]=XN(Ox),ZN=w.forwardRef((e,t)=>{var K,te,J,ie,le,de;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:S,...v}=e,b=GN(Ox,n),[k,E]=w.useState(null),N=st(t,fe=>E(fe)),[_,I]=w.useState(null),P=Tf(_),T=(P==null?void 0:P.width)??0,O=(P==null?void 0:P.height)??0,U=r+(i!=="center"?"-"+i:""),L=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},B=Array.isArray(f)?f:[f],Y=B.length>0,q={padding:L,boundary:B.filter(hB),altBoundary:Y},{refs:A,floatingStyles:$,placement:F,isPositioned:G,middlewareData:D}=ZF({strategy:"fixed",placement:U,whileElementsMounted:(...fe)=>HF(...fe,{animationFrame:x==="always"}),elements:{reference:b.anchor},middleware:[tB({mainAxis:o+O,alignmentAxis:l}),d&&nB({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?rB():void 0,...q}),d&&oB({...q}),iB({...q,apply:({elements:fe,rects:ye,availableWidth:Ae,availableHeight:Re})=>{const{width:nt,height:rt}=ye.reference,Ze=fe.floating.style;Ze.setProperty("--radix-popper-available-width",`${Ae}px`),Ze.setProperty("--radix-popper-available-height",`${Re}px`),Ze.setProperty("--radix-popper-anchor-width",`${nt}px`),Ze.setProperty("--radix-popper-anchor-height",`${rt}px`)}}),_&&lB({element:_,padding:c}),mB({arrowWidth:T,arrowHeight:O}),g&&sB({strategy:"referenceHidden",...q})]}),[W,M]=nE(F),H=zn(S);wn(()=>{G&&(H==null||H())},[G,H]);const X=(K=D.arrow)==null?void 0:K.x,R=(te=D.arrow)==null?void 0:te.y,V=((J=D.arrow)==null?void 0:J.centerOffset)!==0,[Z,Q]=w.useState();return wn(()=>{k&&Q(window.getComputedStyle(k).zIndex)},[k]),u.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:G?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(ie=D.transformOrigin)==null?void 0:ie.x,(le=D.transformOrigin)==null?void 0:le.y].join(" "),...((de=D.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(dB,{scope:n,placedSide:W,onArrowChange:I,arrowX:X,arrowY:R,shouldHideArrow:V,children:u.jsx(He.div,{"data-side":W,"data-align":M,...v,ref:N,style:{...v.style,animation:G?void 0:"none"}})})})});ZN.displayName=Ox;var eE="PopperArrow",pB={top:"bottom",right:"left",bottom:"top",left:"right"},tE=w.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=fB(eE,r),l=pB[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(cB,{...o,ref:n,style:{...o.style,display:"block"}})})});tE.displayName=eE;function hB(e){return e!==null}var mB=e=>({name:"transformOrigin",options:e,fn(t){var b,k,E;const{placement:n,rects:r,middlewareData:o}=t,l=((b=o.arrow)==null?void 0:b.centerOffset)!==0,c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,h]=nE(n),p={start:"0%",center:"50%",end:"100%"}[h],g=(((k=o.arrow)==null?void 0:k.x)??0)+c/2,x=(((E=o.arrow)==null?void 0:E.y)??0)+d/2;let S="",v="";return f==="bottom"?(S=l?p:`${g}px`,v=`${-d}px`):f==="top"?(S=l?p:`${g}px`,v=`${r.floating.height+d}px`):f==="right"?(S=`${-d}px`,v=l?p:`${x}px`):f==="left"&&(S=`${r.floating.width+d}px`,v=l?p:`${x}px`),{data:{x:S,y:v}}}});function nE(e){const[t,n="center"]=e.split("-");return[t,n]}var Lx=KN,Rf=JN,zx=ZN,$x=tE,gB="Portal",jc=w.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[o,i]=w.useState(!1);wn(()=>i(!0),[]);const l=n||o&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?qz.createPortal(u.jsx(He.div,{...r,ref:t}),l):null});jc.displayName=gB;function xB(e){const t=yB(e),n=w.forwardRef((r,o)=>{const{children:i,...l}=r,c=w.Children.toArray(i),d=c.find(wB);if(d){const f=d.props.children,h=c.map(p=>p===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:w.isValidElement(f)?w.cloneElement(f,void 0,h):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function yB(e){const t=w.forwardRef((n,r)=>{const{children:o,...i}=n;if(w.isValidElement(o)){const l=SB(o),c=bB(i,o.props);return o.type!==w.Fragment&&(c.ref=r?ss(r,l):l),w.cloneElement(o,c)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vB=Symbol("radix.slottable");function wB(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vB}function bB(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function SB(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Mf(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var rE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kB="VisuallyHidden",CB=w.forwardRef((e,t)=>u.jsx(He.span,{...e,ref:t,style:{...rE,...e.style}}));CB.displayName=kB;var NB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zs=new WeakMap,od=new WeakMap,id={},jm=0,oE=function(e){return e&&(e.host||oE(e.parentNode))},EB=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=oE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},jB=function(e,t,n,r){var o=EB(t,Array.isArray(e)?e:[e]);id[n]||(id[n]=new WeakMap);var i=id[n],l=[],c=new Set,d=new Set(o),f=function(p){!p||c.has(p)||(c.add(p),f(p.parentNode))};o.forEach(f);var h=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(g){if(c.has(g))h(g);else try{var x=g.getAttribute(r),S=x!==null&&x!=="false",v=(zs.get(g)||0)+1,b=(i.get(g)||0)+1;zs.set(g,v),i.set(g,b),l.push(g),v===1&&S&&od.set(g,!0),b===1&&g.setAttribute(n,"true"),S||g.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",g,k)}})};return h(t),c.clear(),jm++,function(){l.forEach(function(p){var g=zs.get(p)-1,x=i.get(p)-1;zs.set(p,g),i.set(p,x),g||(od.has(p)||p.removeAttribute(r),od.delete(p)),x||p.removeAttribute(n)}),jm--,jm||(zs=new WeakMap,zs=new WeakMap,od=new WeakMap,id={})}},Fx=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=NB(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),jB(r,o,n,"aria-hidden")):function(){return null}},Qr=function(){return Qr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qr.apply(this,arguments)};function iE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function _B(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Cd="right-scroll-bar-position",Nd="width-before-scroll-bar",PB="with-scroll-bars-hidden",AB="--removed-body-scroll-bar-size";function _m(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function IB(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var TB=typeof window<"u"?w.useLayoutEffect:w.useEffect,u1=new WeakMap;function RB(e,t){var n=IB(null,function(r){return e.forEach(function(o){return _m(o,r)})});return TB(function(){var r=u1.get(n);if(r){var o=new Set(r),i=new Set(e),l=n.current;o.forEach(function(c){i.has(c)||_m(c,null)}),i.forEach(function(c){o.has(c)||_m(c,l)})}u1.set(n,e)},[e]),n}function MB(e){return e}function DB(e,t){t===void 0&&(t=MB);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=t(i,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(i),l=n}var d=function(){var h=l;l=[],h.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(h){l.push(h),f()},filter:function(h){return l=l.filter(h),n}}}};return o}function OB(e){e===void 0&&(e={});var t=DB(null);return t.options=Qr({async:!0,ssr:!1},e),t}var sE=function(e){var t=e.sideCar,n=iE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Qr({},n))};sE.isSideCarExport=!0;function LB(e,t){return e.useMedium(t),sE}var lE=OB(),Pm=function(){},Df=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:Pm,onWheelCapture:Pm,onTouchMoveCapture:Pm}),o=r[0],i=r[1],l=e.forwardProps,c=e.children,d=e.className,f=e.removeScrollBar,h=e.enabled,p=e.shards,g=e.sideCar,x=e.noIsolation,S=e.inert,v=e.allowPinchZoom,b=e.as,k=b===void 0?"div":b,E=e.gapMode,N=iE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=g,I=RB([n,t]),P=Qr(Qr({},N),o);return w.createElement(w.Fragment,null,h&&w.createElement(_,{sideCar:lE,removeScrollBar:f,shards:p,noIsolation:x,inert:S,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:E}),l?w.cloneElement(w.Children.only(c),Qr(Qr({},P),{ref:I})):w.createElement(k,Qr({},P,{className:d,ref:I}),c))});Df.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Df.classNames={fullWidth:Nd,zeroRight:Cd};var zB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $B(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=zB();return t&&e.setAttribute("nonce",t),e}function FB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function BB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var VB=function(){var e=0,t=null;return{add:function(n){e==0&&(t=$B())&&(FB(t,n),BB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},HB=function(){var e=VB();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},aE=function(){var e=HB(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},UB={left:0,top:0,right:0,gap:0},Am=function(e){return parseInt(e||"",10)||0},WB=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Am(n),Am(r),Am(o)]},qB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return UB;var t=WB(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},YB=aE(),Zs="data-scroll-locked",XB=function(e,t,n,r){var o=e.left,i=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(PB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Zs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cd,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Nd,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Cd," .").concat(Cd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Nd," .").concat(Nd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zs,`] {
    `).concat(AB,": ").concat(c,`px;
  }
`)},d1=function(){var e=parseInt(document.body.getAttribute(Zs)||"0",10);return isFinite(e)?e:0},GB=function(){w.useEffect(function(){return document.body.setAttribute(Zs,(d1()+1).toString()),function(){var e=d1()-1;e<=0?document.body.removeAttribute(Zs):document.body.setAttribute(Zs,e.toString())}},[])},KB=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;GB();var i=w.useMemo(function(){return qB(o)},[o]);return w.createElement(YB,{styles:XB(i,!t,o,n?"":"!important")})},Sg=!1;if(typeof window<"u")try{var sd=Object.defineProperty({},"passive",{get:function(){return Sg=!0,!0}});window.addEventListener("test",sd,sd),window.removeEventListener("test",sd,sd)}catch{Sg=!1}var $s=Sg?{passive:!1}:!1,QB=function(e){return e.tagName==="TEXTAREA"},cE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!QB(e)&&n[t]==="visible")},JB=function(e){return cE(e,"overflowY")},ZB=function(e){return cE(e,"overflowX")},f1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=uE(e,r);if(o){var i=dE(e,r),l=i[1],c=i[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},e6=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},t6=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},uE=function(e,t){return e==="v"?JB(t):ZB(t)},dE=function(e,t){return e==="v"?e6(t):t6(t)},n6=function(e,t){return e==="h"&&t==="rtl"?-1:1},r6=function(e,t,n,r,o){var i=n6(e,window.getComputedStyle(t).direction),l=i*r,c=n.target,d=t.contains(c),f=!1,h=l>0,p=0,g=0;do{var x=dE(e,c),S=x[0],v=x[1],b=x[2],k=v-b-i*S;(S||k)&&uE(e,c)&&(p+=k,g+=S),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(h&&Math.abs(p)<1||!h&&Math.abs(g)<1)&&(f=!0),f},ld=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},p1=function(e){return[e.deltaX,e.deltaY]},h1=function(e){return e&&"current"in e?e.current:e},o6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},i6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},s6=0,Fs=[];function l6(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),o=w.useState(s6++)[0],i=w.useState(aE)[0],l=w.useRef(e);w.useEffect(function(){l.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var v=_B([e.lockRef.current],(e.shards||[]).map(h1),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=w.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var k=ld(v),E=n.current,N="deltaX"in v?v.deltaX:E[0]-k[0],_="deltaY"in v?v.deltaY:E[1]-k[1],I,P=v.target,T=Math.abs(N)>Math.abs(_)?"h":"v";if("touches"in v&&T==="h"&&P.type==="range")return!1;var O=f1(T,P);if(!O)return!0;if(O?I=T:(I=T==="v"?"h":"v",O=f1(T,P)),!O)return!1;if(!r.current&&"changedTouches"in v&&(N||_)&&(r.current=I),!I)return!0;var U=r.current||I;return r6(U,b,v,U==="h"?N:_)},[]),d=w.useCallback(function(v){var b=v;if(!(!Fs.length||Fs[Fs.length-1]!==i)){var k="deltaY"in b?p1(b):ld(b),E=t.current.filter(function(I){return I.name===b.type&&(I.target===b.target||b.target===I.shadowParent)&&o6(I.delta,k)})[0];if(E&&E.should){b.cancelable&&b.preventDefault();return}if(!E){var N=(l.current.shards||[]).map(h1).filter(Boolean).filter(function(I){return I.contains(b.target)}),_=N.length>0?c(b,N[0]):!l.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),f=w.useCallback(function(v,b,k,E){var N={name:v,delta:b,target:k,should:E,shadowParent:a6(k)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(_){return _!==N})},1)},[]),h=w.useCallback(function(v){n.current=ld(v),r.current=void 0},[]),p=w.useCallback(function(v){f(v.type,p1(v),v.target,c(v,e.lockRef.current))},[]),g=w.useCallback(function(v){f(v.type,ld(v),v.target,c(v,e.lockRef.current))},[]);w.useEffect(function(){return Fs.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",d,$s),document.addEventListener("touchmove",d,$s),document.addEventListener("touchstart",h,$s),function(){Fs=Fs.filter(function(v){return v!==i}),document.removeEventListener("wheel",d,$s),document.removeEventListener("touchmove",d,$s),document.removeEventListener("touchstart",h,$s)}},[]);var x=e.removeScrollBar,S=e.inert;return w.createElement(w.Fragment,null,S?w.createElement(i,{styles:i6(o)}):null,x?w.createElement(KB,{gapMode:e.gapMode}):null)}function a6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const c6=LB(lE,l6);var Of=w.forwardRef(function(e,t){return w.createElement(Df,Qr({},e,{ref:t,sideCar:c6}))});Of.classNames=Df.classNames;var u6=[" ","Enter","ArrowUp","ArrowDown"],d6=[" ","Enter"],ns="Select",[Lf,zf,f6]=Nf(ns),[Cl,DK]=Rn(ns,[f6,kl]),$f=kl(),[p6,xi]=Cl(ns),[h6,m6]=Cl(ns),fE=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:l,defaultValue:c,onValueChange:d,dir:f,name:h,autoComplete:p,disabled:g,required:x,form:S}=e,v=$f(t),[b,k]=w.useState(null),[E,N]=w.useState(null),[_,I]=w.useState(!1),P=hi(f),[T,O]=Tn({prop:r,defaultProp:o??!1,onChange:i,caller:ns}),[U,L]=Tn({prop:l,defaultProp:c,onChange:d,caller:ns}),B=w.useRef(null),Y=b?S||!!b.closest("form"):!0,[q,A]=w.useState(new Set),$=Array.from(q).map(F=>F.props.value).join(";");return u.jsx(Lx,{...v,children:u.jsxs(p6,{required:x,scope:t,trigger:b,onTriggerChange:k,valueNode:E,onValueNodeChange:N,valueNodeHasChildren:_,onValueNodeHasChildrenChange:I,contentId:wr(),value:U,onValueChange:L,open:T,onOpenChange:O,dir:P,triggerPointerDownPosRef:B,disabled:g,children:[u.jsx(Lf.Provider,{scope:t,children:u.jsx(h6,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(F=>{A(G=>new Set(G).add(F))},[]),onNativeOptionRemove:w.useCallback(F=>{A(G=>{const D=new Set(G);return D.delete(F),D})},[]),children:n})}),Y?u.jsxs(ME,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:p,value:U,onChange:F=>L(F.target.value),disabled:g,form:S,children:[U===void 0?u.jsx("option",{value:""}):null,Array.from(q)]},$):null]})})};fE.displayName=ns;var pE="SelectTrigger",hE=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=$f(n),l=xi(pE,n),c=l.disabled||r,d=st(t,l.onTriggerChange),f=zf(n),h=w.useRef("touch"),[p,g,x]=OE(v=>{const b=f().filter(N=>!N.disabled),k=b.find(N=>N.value===l.value),E=LE(b,v,k);E!==void 0&&l.onValueChange(E.value)}),S=v=>{c||(l.onOpenChange(!0),x()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return u.jsx(Rf,{asChild:!0,...i,children:u.jsx(He.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":DE(l.value)?"":void 0,...o,ref:d,onClick:De(o.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&S(v)}),onPointerDown:De(o.onPointerDown,v=>{h.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:De(o.onKeyDown,v=>{const b=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(b&&v.key===" ")&&u6.includes(v.key)&&(S(),v.preventDefault())})})})});hE.displayName=pE;var mE="SelectValue",gE=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:l="",...c}=e,d=xi(mE,n),{onValueNodeHasChildrenChange:f}=d,h=i!==void 0,p=st(t,d.onValueNodeChange);return wn(()=>{f(h)},[f,h]),u.jsx(He.span,{...c,ref:p,style:{pointerEvents:"none"},children:DE(d.value)?u.jsx(u.Fragment,{children:l}):i})});gE.displayName=mE;var g6="SelectIcon",xE=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return u.jsx(He.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});xE.displayName=g6;var x6="SelectPortal",yE=e=>u.jsx(jc,{asChild:!0,...e});yE.displayName=x6;var rs="SelectContent",vE=w.forwardRef((e,t)=>{const n=xi(rs,e.__scopeSelect),[r,o]=w.useState();if(wn(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?yl.createPortal(u.jsx(wE,{scope:e.__scopeSelect,children:u.jsx(Lf.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),i):null}return u.jsx(bE,{...e,ref:t})});vE.displayName=rs;var Ar=10,[wE,yi]=Cl(rs),y6="SelectContentImpl",v6=xB("SelectContent.RemoveScroll"),bE=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:d,align:f,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:S,hideWhenDetached:v,avoidCollisions:b,...k}=e,E=xi(rs,n),[N,_]=w.useState(null),[I,P]=w.useState(null),T=st(t,K=>_(K)),[O,U]=w.useState(null),[L,B]=w.useState(null),Y=zf(n),[q,A]=w.useState(!1),$=w.useRef(!1);w.useEffect(()=>{if(N)return Fx(N)},[N]),_x();const F=w.useCallback(K=>{const[te,...J]=Y().map(de=>de.ref.current),[ie]=J.slice(-1),le=document.activeElement;for(const de of K)if(de===le||(de==null||de.scrollIntoView({block:"nearest"}),de===te&&I&&(I.scrollTop=0),de===ie&&I&&(I.scrollTop=I.scrollHeight),de==null||de.focus(),document.activeElement!==le))return},[Y,I]),G=w.useCallback(()=>F([O,N]),[F,O,N]);w.useEffect(()=>{q&&G()},[q,G]);const{onOpenChange:D,triggerPointerDownPosRef:W}=E;w.useEffect(()=>{if(N){let K={x:0,y:0};const te=ie=>{var le,de;K={x:Math.abs(Math.round(ie.pageX)-(((le=W.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((de=W.current)==null?void 0:de.y)??0))}},J=ie=>{K.x<=10&&K.y<=10?ie.preventDefault():N.contains(ie.target)||D(!1),document.removeEventListener("pointermove",te),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",J,{capture:!0})}}},[N,D,W]),w.useEffect(()=>{const K=()=>D(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[D]);const[M,H]=OE(K=>{const te=Y().filter(le=>!le.disabled),J=te.find(le=>le.ref.current===document.activeElement),ie=LE(te,K,J);ie&&setTimeout(()=>ie.ref.current.focus())}),X=w.useCallback((K,te,J)=>{const ie=!$.current&&!J;(E.value!==void 0&&E.value===te||ie)&&(U(K),ie&&($.current=!0))},[E.value]),R=w.useCallback(()=>N==null?void 0:N.focus(),[N]),V=w.useCallback((K,te,J)=>{const ie=!$.current&&!J;(E.value!==void 0&&E.value===te||ie)&&B(K)},[E.value]),Z=r==="popper"?kg:SE,Q=Z===kg?{side:c,sideOffset:d,align:f,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:S,hideWhenDetached:v,avoidCollisions:b}:{};return u.jsx(wE,{scope:n,content:N,viewport:I,onViewportChange:P,itemRefCallback:X,selectedItem:O,onItemLeave:R,itemTextRefCallback:V,focusSelectedItem:G,selectedItemText:L,position:r,isPositioned:q,searchRef:M,children:u.jsx(Of,{as:v6,allowPinchZoom:!0,children:u.jsx(jf,{asChild:!0,trapped:E.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:De(o,K=>{var te;(te=E.trigger)==null||te.focus({preventScroll:!0}),K.preventDefault()}),children:u.jsx(Nc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:u.jsx(Z,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:K=>K.preventDefault(),...k,...Q,onPlaced:()=>A(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:De(k.onKeyDown,K=>{const te=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!te&&K.key.length===1&&H(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let ie=Y().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(K.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const le=K.target,de=ie.indexOf(le);ie=ie.slice(de+1)}setTimeout(()=>F(ie)),K.preventDefault()}})})})})})})});bE.displayName=y6;var w6="SelectItemAlignedPosition",SE=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=xi(rs,n),l=yi(rs,n),[c,d]=w.useState(null),[f,h]=w.useState(null),p=st(t,T=>h(T)),g=zf(n),x=w.useRef(!1),S=w.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:k,focusSelectedItem:E}=l,N=w.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&f&&v&&b&&k){const T=i.trigger.getBoundingClientRect(),O=f.getBoundingClientRect(),U=i.valueNode.getBoundingClientRect(),L=k.getBoundingClientRect();if(i.dir!=="rtl"){const le=L.left-O.left,de=U.left-le,fe=T.left-de,ye=T.width+fe,Ae=Math.max(ye,O.width),Re=window.innerWidth-Ar,nt=lc(de,[Ar,Math.max(Ar,Re-Ae)]);c.style.minWidth=ye+"px",c.style.left=nt+"px"}else{const le=O.right-L.right,de=window.innerWidth-U.right-le,fe=window.innerWidth-T.right-de,ye=T.width+fe,Ae=Math.max(ye,O.width),Re=window.innerWidth-Ar,nt=lc(de,[Ar,Math.max(Ar,Re-Ae)]);c.style.minWidth=ye+"px",c.style.right=nt+"px"}const B=g(),Y=window.innerHeight-Ar*2,q=v.scrollHeight,A=window.getComputedStyle(f),$=parseInt(A.borderTopWidth,10),F=parseInt(A.paddingTop,10),G=parseInt(A.borderBottomWidth,10),D=parseInt(A.paddingBottom,10),W=$+F+q+D+G,M=Math.min(b.offsetHeight*5,W),H=window.getComputedStyle(v),X=parseInt(H.paddingTop,10),R=parseInt(H.paddingBottom,10),V=T.top+T.height/2-Ar,Z=Y-V,Q=b.offsetHeight/2,K=b.offsetTop+Q,te=$+F+K,J=W-te;if(te<=V){const le=B.length>0&&b===B[B.length-1].ref.current;c.style.bottom="0px";const de=f.clientHeight-v.offsetTop-v.offsetHeight,fe=Math.max(Z,Q+(le?R:0)+de+G),ye=te+fe;c.style.height=ye+"px"}else{const le=B.length>0&&b===B[0].ref.current;c.style.top="0px";const fe=Math.max(V,$+v.offsetTop+(le?X:0)+Q)+J;c.style.height=fe+"px",v.scrollTop=te-V+v.offsetTop}c.style.margin=`${Ar}px 0`,c.style.minHeight=M+"px",c.style.maxHeight=Y+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[g,i.trigger,i.valueNode,c,f,v,b,k,i.dir,r]);wn(()=>N(),[N]);const[_,I]=w.useState();wn(()=>{f&&I(window.getComputedStyle(f).zIndex)},[f]);const P=w.useCallback(T=>{T&&S.current===!0&&(N(),E==null||E(),S.current=!1)},[N,E]);return u.jsx(S6,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:P,children:u.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(He.div,{...o,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});SE.displayName=w6;var b6="SelectPopperPosition",kg=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Ar,...i}=e,l=$f(n);return u.jsx(zx,{...l,...i,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kg.displayName=b6;var[S6,Bx]=Cl(rs,{}),Cg="SelectViewport",kE=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,i=yi(Cg,n),l=Bx(Cg,n),c=st(t,i.onViewportChange),d=w.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Lf.Slot,{scope:n,children:u.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:De(o.onScroll,f=>{const h=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=l;if(g!=null&&g.current&&p){const x=Math.abs(d.current-h.scrollTop);if(x>0){const S=window.innerHeight-Ar*2,v=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),k=Math.max(v,b);if(k<S){const E=k+x,N=Math.min(S,E),_=E-N;p.style.height=N+"px",p.style.bottom==="0px"&&(h.scrollTop=_>0?_:0,p.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});kE.displayName=Cg;var CE="SelectGroup",[k6,C6]=Cl(CE),N6=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=wr();return u.jsx(k6,{scope:n,id:o,children:u.jsx(He.div,{role:"group","aria-labelledby":o,...r,ref:t})})});N6.displayName=CE;var NE="SelectLabel",E6=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=C6(NE,n);return u.jsx(He.div,{id:o.id,...r,ref:t})});E6.displayName=NE;var Gd="SelectItem",[j6,EE]=Cl(Gd),jE=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...l}=e,c=xi(Gd,n),d=yi(Gd,n),f=c.value===r,[h,p]=w.useState(i??""),[g,x]=w.useState(!1),S=st(t,E=>{var N;return(N=d.itemRefCallback)==null?void 0:N.call(d,E,r,o)}),v=wr(),b=w.useRef("touch"),k=()=>{o||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(j6,{scope:n,value:r,disabled:o,textId:v,isSelected:f,onItemTextChange:w.useCallback(E=>{p(N=>N||((E==null?void 0:E.textContent)??"").trim())},[]),children:u.jsx(Lf.ItemSlot,{scope:n,value:r,disabled:o,textValue:h,children:u.jsx(He.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:S,onFocus:De(l.onFocus,()=>x(!0)),onBlur:De(l.onBlur,()=>x(!1)),onClick:De(l.onClick,()=>{b.current!=="mouse"&&k()}),onPointerUp:De(l.onPointerUp,()=>{b.current==="mouse"&&k()}),onPointerDown:De(l.onPointerDown,E=>{b.current=E.pointerType}),onPointerMove:De(l.onPointerMove,E=>{var N;b.current=E.pointerType,o?(N=d.onItemLeave)==null||N.call(d):b.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:De(l.onPointerLeave,E=>{var N;E.currentTarget===document.activeElement&&((N=d.onItemLeave)==null||N.call(d))}),onKeyDown:De(l.onKeyDown,E=>{var _;((_=d.searchRef)==null?void 0:_.current)!==""&&E.key===" "||(d6.includes(E.key)&&k(),E.key===" "&&E.preventDefault())})})})})});jE.displayName=Gd;var Ia="SelectItemText",_E=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,l=xi(Ia,n),c=yi(Ia,n),d=EE(Ia,n),f=m6(Ia,n),[h,p]=w.useState(null),g=st(t,k=>p(k),d.onItemTextChange,k=>{var E;return(E=c.itemTextRefCallback)==null?void 0:E.call(c,k,d.value,d.disabled)}),x=h==null?void 0:h.textContent,S=w.useMemo(()=>u.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=f;return wn(()=>(v(S),()=>b(S)),[v,b,S]),u.jsxs(u.Fragment,{children:[u.jsx(He.span,{id:d.textId,...i,ref:g}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?yl.createPortal(i.children,l.valueNode):null]})});_E.displayName=Ia;var PE="SelectItemIndicator",AE=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return EE(PE,n).isSelected?u.jsx(He.span,{"aria-hidden":!0,...r,ref:t}):null});AE.displayName=PE;var Ng="SelectScrollUpButton",IE=w.forwardRef((e,t)=>{const n=yi(Ng,e.__scopeSelect),r=Bx(Ng,e.__scopeSelect),[o,i]=w.useState(!1),l=st(t,r.onScrollButtonChange);return wn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollTop>0;i(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?u.jsx(RE,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});IE.displayName=Ng;var Eg="SelectScrollDownButton",TE=w.forwardRef((e,t)=>{const n=yi(Eg,e.__scopeSelect),r=Bx(Eg,e.__scopeSelect),[o,i]=w.useState(!1),l=st(t,r.onScrollButtonChange);return wn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<f;i(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?u.jsx(RE,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});TE.displayName=Eg;var RE=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,i=yi("SelectScrollButton",n),l=w.useRef(null),c=zf(n),d=w.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return w.useEffect(()=>()=>d(),[d]),wn(()=>{var h;const f=c().find(p=>p.ref.current===document.activeElement);(h=f==null?void 0:f.ref.current)==null||h.scrollIntoView({block:"nearest"})},[c]),u.jsx(He.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:De(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:De(o.onPointerMove,()=>{var f;(f=i.onItemLeave)==null||f.call(i),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:De(o.onPointerLeave,()=>{d()})})}),_6="SelectSeparator",P6=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(He.div,{"aria-hidden":!0,...r,ref:t})});P6.displayName=_6;var jg="SelectArrow",A6=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=$f(n),i=xi(jg,n),l=yi(jg,n);return i.open&&l.position==="popper"?u.jsx($x,{...o,...r,ref:t}):null});A6.displayName=jg;var I6="SelectBubbleInput",ME=w.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=w.useRef(null),i=st(r,o),l=Mf(t);return w.useEffect(()=>{const c=o.current;if(!c)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&h){const p=new Event("change",{bubbles:!0});h.call(c,t),c.dispatchEvent(p)}},[l,t]),u.jsx(He.select,{...n,style:{...rE,...n.style},ref:i,defaultValue:t})});ME.displayName=I6;function DE(e){return e===""||e===void 0}function OE(e){const t=zn(e),n=w.useRef(""),r=w.useRef(0),o=w.useCallback(l=>{const c=n.current+l;t(c),function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(c)},[t]),i=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function LE(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let l=T6(e,Math.max(i,0));o.length===1&&(l=l.filter(f=>f!==n));const d=l.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function T6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var R6=fE,M6=hE,D6=gE,O6=xE,L6=yE,z6=vE,$6=kE,F6=jE,B6=_E,V6=AE,H6=IE,U6=TE;function ln({...e}){return u.jsx(R6,{"data-slot":"select",...e})}function an({...e}){return u.jsx(D6,{"data-slot":"select-value",...e})}function cn({className:e,size:t="default",children:n,...r}){return u.jsxs(M6,{"data-slot":"select-trigger","data-size":t,className:Xe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,u.jsx(O6,{asChild:!0,children:u.jsx(ri,{className:"size-4 opacity-50"})})]})}function un({className:e,children:t,position:n="popper",...r}){return u.jsx(L6,{children:u.jsxs(z6,{"data-slot":"select-content",className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(W6,{}),u.jsx($6,{className:Xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),u.jsx(q6,{})]})})}function ut({className:e,children:t,...n}){return u.jsxs(F6,{"data-slot":"select-item",className:Xe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[u.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:u.jsx(V6,{children:u.jsx(LS,{className:"size-4"})})}),u.jsx(B6,{children:t})]})}function W6({className:e,...t}){return u.jsx(H6,{"data-slot":"select-scroll-up-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(hI,{className:"size-4"})})}function q6({className:e,...t}){return u.jsx(U6,{"data-slot":"select-scroll-down-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(ri,{className:"size-4"})})}const m1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,g1=hk,Ff=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return g1(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=t,l=Object.keys(o).map(f=>{const h=n==null?void 0:n[f],p=i==null?void 0:i[f];if(h===null)return null;const g=m1(h)||m1(p);return o[f][g]}),c=n&&Object.entries(n).reduce((f,h)=>{let[p,g]=h;return g===void 0||(f[p]=g),f},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,h)=>{let{class:p,className:g,...x}=h;return Object.entries(x).every(S=>{let[v,b]=S;return Array.isArray(b)?b.includes({...i,...c}[v]):{...i,...c}[v]===b})?[...f,p,g]:f},[]);return g1(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)},Y6=Ff("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all cursor-pointer disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function X6({className:e,variant:t,size:n,asChild:r=!1,...o},i){const l=r?mN:"button";return u.jsx(l,{ref:i,"data-slot":"button",className:Xe(Y6({variant:t,size:n,className:e})),...o})}const ge=w.forwardRef(X6);ge.displayName="Button";function G6(e){const t=K6(e),n=w.forwardRef((r,o)=>{const{children:i,...l}=r,c=w.Children.toArray(i),d=c.find(J6);if(d){const f=d.props.children,h=c.map(p=>p===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:w.isValidElement(f)?w.cloneElement(f,void 0,h):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function K6(e){const t=w.forwardRef((n,r)=>{const{children:o,...i}=n;if(w.isValidElement(o)){const l=eV(o),c=Z6(i,o.props);return o.type!==w.Fragment&&(c.ref=r?ss(r,l):l),w.cloneElement(o,c)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Q6=Symbol("radix.slottable");function J6(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Q6}function Z6(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function eV(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Bf="Dialog",[zE,OK]=Rn(Bf),[tV,Fr]=zE(Bf),$E=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=w.useRef(null),d=w.useRef(null),[f,h]=Tn({prop:r,defaultProp:o??!1,onChange:i,caller:Bf});return u.jsx(tV,{scope:t,triggerRef:c,contentRef:d,contentId:wr(),titleId:wr(),descriptionId:wr(),open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(p=>!p),[h]),modal:l,children:n})};$E.displayName=Bf;var FE="DialogTrigger",BE=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fr(FE,n),i=st(t,o.triggerRef);return u.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Ux(o.open),...r,ref:i,onClick:De(e.onClick,o.onOpenToggle)})});BE.displayName=FE;var Vx="DialogPortal",[nV,VE]=zE(Vx,{forceMount:void 0}),HE=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,i=Fr(Vx,t);return u.jsx(nV,{scope:t,forceMount:n,children:w.Children.map(r,l=>u.jsx(Mn,{present:n||i.open,children:u.jsx(jc,{asChild:!0,container:o,children:l})}))})};HE.displayName=Vx;var Kd="DialogOverlay",UE=w.forwardRef((e,t)=>{const n=VE(Kd,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Fr(Kd,e.__scopeDialog);return i.modal?u.jsx(Mn,{present:r||i.open,children:u.jsx(oV,{...o,ref:t})}):null});UE.displayName=Kd;var rV=G6("DialogOverlay.RemoveScroll"),oV=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fr(Kd,n);return u.jsx(Of,{as:rV,allowPinchZoom:!0,shards:[o.contentRef],children:u.jsx(He.div,{"data-state":Ux(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),os="DialogContent",WE=w.forwardRef((e,t)=>{const n=VE(os,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Fr(os,e.__scopeDialog);return u.jsx(Mn,{present:r||i.open,children:i.modal?u.jsx(iV,{...o,ref:t}):u.jsx(sV,{...o,ref:t})})});WE.displayName=os;var iV=w.forwardRef((e,t)=>{const n=Fr(os,e.__scopeDialog),r=w.useRef(null),o=st(t,n.contentRef,r);return w.useEffect(()=>{const i=r.current;if(i)return Fx(i)},[]),u.jsx(qE,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:De(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:De(e.onFocusOutside,i=>i.preventDefault())})}),sV=w.forwardRef((e,t)=>{const n=Fr(os,e.__scopeDialog),r=w.useRef(!1),o=w.useRef(!1);return u.jsx(qE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),qE=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...l}=e,c=Fr(os,n),d=w.useRef(null),f=st(t,d);return _x(),u.jsxs(u.Fragment,{children:[u.jsx(jf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:u.jsx(Nc,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Ux(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(lV,{titleId:c.titleId}),u.jsx(cV,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Hx="DialogTitle",YE=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fr(Hx,n);return u.jsx(He.h2,{id:o.titleId,...r,ref:t})});YE.displayName=Hx;var XE="DialogDescription",GE=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fr(XE,n);return u.jsx(He.p,{id:o.descriptionId,...r,ref:t})});GE.displayName=XE;var KE="DialogClose",QE=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fr(KE,n);return u.jsx(He.button,{type:"button",...r,ref:t,onClick:De(e.onClick,()=>o.onOpenChange(!1))})});QE.displayName=KE;function Ux(e){return e?"open":"closed"}var JE="DialogTitleWarning",[LK,ZE]=q$(JE,{contentName:os,titleName:Hx,docsSlug:"dialog"}),lV=({titleId:e})=>{const t=ZE(JE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},aV="DialogDescriptionWarning",cV=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZE(aV).contentName}}.`;return w.useEffect(()=>{var i;const o=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},uV=$E,dV=BE,fV=HE,ej=UE,pV=WE,hV=YE,tj=GE,mV=QE,gV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xV=gV.reduce((e,t)=>{const n=Cf(`Primitive.${t}`),r=w.forwardRef((o,i)=>{const{asChild:l,...c}=o,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),yV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vV="VisuallyHidden",nj=w.forwardRef((e,t)=>u.jsx(xV.span,{...e,ref:t,style:{...yV,...e.style}}));nj.displayName=vV;var wV=nj;function dn({...e}){return u.jsx(uV,{"data-slot":"dialog",...e})}function Im({...e}){return u.jsx(dV,{"data-slot":"dialog-trigger",...e})}function bV({...e}){return u.jsx(fV,{"data-slot":"dialog-portal",...e})}const rj=w.forwardRef(({className:e,...t},n)=>u.jsx(ej,{ref:n,"data-slot":"dialog-overlay",className:Xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));rj.displayName=ej.displayName;function fn({className:e,children:t,...n}){return u.jsxs(bV,{"data-slot":"dialog-portal",children:[u.jsx(rj,{}),u.jsxs(pV,{"data-slot":"dialog-content",className:Xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg max-h-[85vh] overflow-y-auto",e),...n,children:[u.jsx(wV,{asChild:!0,children:u.jsx(tj,{children:"Dialog content"})}),t,u.jsxs(mV,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(PT,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function pn({className:e,...t}){return u.jsx("div",{"data-slot":"dialog-header",className:Xe("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Sr({className:e,...t}){return u.jsx("div",{"data-slot":"dialog-footer",className:Xe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function hn({className:e,...t}){return u.jsx(hV,{"data-slot":"dialog-title",className:Xe("text-lg leading-none font-semibold",e),...t})}function Io({className:e,...t}){return u.jsx(tj,{"data-slot":"dialog-description",className:Xe("text-muted-foreground text-sm",e),...t})}function oj({className:e,...t}){return u.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:u.jsx("table",{"data-slot":"table",className:Xe("w-full caption-bottom text-sm",e),...t})})}function ij({className:e,...t}){return u.jsx("thead",{"data-slot":"table-header",className:Xe("[&_tr]:border-b",e),...t})}function sj({className:e,...t}){return u.jsx("tbody",{"data-slot":"table-body",className:Xe("[&_tr:last-child]:border-0",e),...t})}function el({className:e,...t}){return u.jsx("tr",{"data-slot":"table-row",className:Xe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Va({className:e,...t}){return u.jsx("th",{"data-slot":"table-head",className:Xe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Wi({className:e,...t}){return u.jsx("td",{"data-slot":"table-cell",className:Xe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}const SV=Ff("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function kV({className:e,variant:t,...n}){return u.jsx("div",{"data-slot":"alert",role:"alert",className:Xe(SV({variant:t}),e),...n})}function CV({className:e,...t}){return u.jsx("div",{"data-slot":"alert-description",className:Xe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function NV({open:e,onOpenChange:t,colorSetName:n,attributes:r,initialData:o,onSave:i}){const[l,c]=w.useState("visual"),[d,f]=w.useState([]),[h,p]=w.useState([]),[g,x]=w.useState(""),[S,v]=w.useState(null),[b,k]=w.useState(1),[E,N]=w.useState(10),_=r.length>0;w.useEffect(()=>{o&&Array.isArray(o)?(_?f(o):p(o),x(JSON.stringify(o,null,2))):(f([]),p([]),x("[]")),k(1)},[o,_]);const I=_?d.length:h.length,P=Math.max(1,Math.ceil(I/E)),T=w.useMemo(()=>{const V=(b-1)*E;return d.slice(V,V+E)},[d,b,E]),O=w.useMemo(()=>{const V=(b-1)*E;return h.slice(V,V+E)},[h,b,E]),U=V=>(b-1)*E+V,L=V=>{N(V),k(1)};w.useEffect(()=>{l==="visual"&&x(JSON.stringify(_?d:h,null,2))},[d,h,l,_]);const B=()=>{const V=[...h,""];p(V),k(Math.ceil(V.length/E))},Y=V=>{const Z=[...h];Z.splice(V,1),p(Z);const Q=Math.max(1,Math.ceil(Z.length/E));b>Q&&k(Q)},q=(V,Z)=>{const Q=[...h];try{Z.startsWith("[")&&Z.endsWith("]")||Z.startsWith("{")&&Z.endsWith("}")?Q[V]=JSON.parse(Z):!isNaN(Number(Z))&&Z.trim()!==""?Q[V]=Number(Z):Z.toLowerCase()==="true"?Q[V]=!0:Z.toLowerCase()==="false"?Q[V]=!1:Q[V]=Z}catch{Q[V]=Z}p(Q)},A=V=>typeof V=="object"?JSON.stringify(V):String(V),$=()=>{const V={};r.forEach(Q=>{Q.type==="INT"||Q.type==="REAL"?V[Q.name]=0:Q.type==="BOOL"?V[Q.name]=!1:V[Q.name]=""});const Z=[...d,V];f(Z),k(Math.ceil(Z.length/E))},F=V=>{const Z=[...d];Z.splice(V,1),f(Z);const Q=Math.max(1,Math.ceil(Z.length/E));b>Q&&k(Q)},G=(V,Z,Q)=>{const K=[...d];K[V]={...K[V],[Z]:Q},f(K)},D=(V,Z)=>{try{if(Z==="INT"){const Q=Number.parseInt(V,10);return isNaN(Q)?0:Q}else if(Z==="REAL"){const Q=Number.parseFloat(V);return isNaN(Q)?0:Q}else if(Z==="BOOL")return V.toLowerCase()==="true";return V}catch{return Z==="INT"||Z==="REAL"?0:Z==="BOOL"?!1:V}},W=V=>{x(V),v(null);try{const Z=JSON.parse(V);Array.isArray(Z)||v("JSON must be an array")}catch{v("Invalid JSON format")}},M=V=>{if(V==="json"&&l==="visual")x(JSON.stringify(_?d:h,null,2));else if(V==="visual"&&l==="json")try{const Z=JSON.parse(g);Array.isArray(Z)?(_?f(Z):p(Z),v(null)):v("JSON must be an array")}catch{v("Invalid JSON format")}c(V)},H=()=>{if(l==="json")try{const V=JSON.parse(g);Array.isArray(V)?(i(V),t(!1)):v("JSON must be an array")}catch{v("Invalid JSON format")}else i(_?d:h),t(!1)},X=V=>{var K;const Z=(K=V.target.files)==null?void 0:K[0];if(!Z)return;const Q=new FileReader;Q.onload=te=>{var ie;const J=(ie=te.target)==null?void 0:ie.result;try{const le=JSON.parse(J);Array.isArray(le)?(_?f(le):p(le),x(JSON.stringify(le,null,2)),c("visual"),v(null)):v("Uploaded file must contain an array")}catch{try{const le=J.split(`
`),de=le[0].split(",").map(ye=>ye.trim()),fe=[];for(let ye=1;ye<le.length;ye++){if(!le[ye].trim())continue;const Ae=le[ye].split(",").map(nt=>nt.trim()),Re={};de.forEach((nt,rt)=>{const Ze=r.find(kt=>kt.name===nt);Ze&&rt<Ae.length&&(Re[nt]=D(Ae[rt],Ze.type))}),fe.push(Re)}f(fe),x(JSON.stringify(fe,null,2)),c("visual"),v(null)}catch{v("Failed to parse file as JSON or CSV")}}},Q.readAsText(Z)},R=()=>{const Z=`data:text/csv;charset=utf-8,${r.map(te=>te.name).join(",")}
`,Q=encodeURI(Z),K=document.createElement("a");K.setAttribute("href",Q),K.setAttribute("download",`${n}_template.csv`),document.body.appendChild(K),K.click(),document.body.removeChild(K)};return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:"max-w-3xl",children:[u.jsx(pn,{children:u.jsxs(hn,{children:["Edit Initial Marking for ",n]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"space-x-2",children:[u.jsxs(ge,{variant:"outline",size:"sm",onClick:_?$:B,children:[u.jsx(Qm,{className:"h-4 w-4 mr-2"}),_?"Add Record":"Add Entry"]}),_&&u.jsxs(ge,{variant:"outline",size:"sm",onClick:R,children:[u.jsx(VS,{className:"h-4 w-4 mr-2"}),"CSV Template"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(at,{type:"file",id:"file-upload",className:"hidden",accept:".json,.csv",onChange:X}),u.jsx(je,{htmlFor:"file-upload",className:"cursor-pointer",children:u.jsx(ge,{variant:"outline",size:"sm",asChild:!0,children:u.jsxs("span",{children:[u.jsx(Jg,{className:"h-4 w-4 mr-2"}),"Import"]})})})]})]}),S&&u.jsx(kV,{variant:"destructive",children:u.jsx(CV,{children:S})}),u.jsxs(mi,{value:l,onValueChange:M,children:[u.jsxs(gi,{className:"grid w-full grid-cols-2",children:[u.jsx(Fn,{value:"visual",children:"Visual Editor"}),u.jsx(Fn,{value:"json",children:"JSON Editor"})]}),u.jsxs(br,{value:"visual",className:"space-y-4",children:[_?u.jsxs(oj,{children:[u.jsx(ij,{children:u.jsxs(el,{children:[r.map(V=>u.jsx(Va,{children:V.name},V.name)),u.jsx(Va,{className:"w-[80px]",children:"Actions"})]})}),u.jsx(sj,{children:T.length===0?u.jsx(el,{children:u.jsx(Wi,{colSpan:r.length+1,className:"text-center",children:'No records. Click "Add Record" to create one.'})}):T.map((V,Z)=>{const Q=U(Z);return u.jsxs(el,{children:[r.map(K=>{var te;return u.jsx(Wi,{children:u.jsx(at,{value:((te=V[K.name])==null?void 0:te.toString())??"",onChange:J=>G(Q,K.name,D(J.target.value,K.type))})},`${Q}-${K.name}`)}),u.jsx(Wi,{children:u.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>F(Q),className:"h-8 w-8",children:u.jsx(lr,{className:"h-4 w-4"})})})]},Q)})})]}):u.jsx("div",{className:"space-y-2",children:O.length===0?u.jsx("div",{className:"text-center text-muted-foreground py-4",children:'No entries. Click "Add Entry" to create one.'}):O.map((V,Z)=>{const Q=U(Z);return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-muted-foreground w-8 text-right",children:[Q+1,"."]}),u.jsx(at,{className:"flex-1 font-mono",value:A(V),onChange:K=>q(Q,K.target.value),placeholder:'e.g., [1, "Modellin"] or 42 or "text"'}),u.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>Y(Q),className:"h-8 w-8",children:u.jsx(lr,{className:"h-4 w-4"})})]},Q)})}),I>10&&u.jsxs("div",{className:"flex items-center justify-between pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsxs("span",{children:[I===0?0:(b-1)*E+1,"",Math.min(b*E,I)," of ",I]}),u.jsxs(ln,{value:String(E),onValueChange:V=>L(Number(V)),children:[u.jsx(cn,{className:"h-7 w-[70px] text-xs",children:u.jsx(an,{})}),u.jsx(un,{children:[10,25,50,100].map(V=>u.jsx(ut,{value:String(V),children:V},V))})]}),u.jsx("span",{className:"text-xs",children:"per page"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(1),disabled:b<=1,children:u.jsx($S,{className:"h-3 w-3"})}),u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(b-1),disabled:b<=1,children:u.jsx(zS,{className:"h-3 w-3"})}),u.jsxs("span",{className:"text-sm px-2",children:[b," / ",P]}),u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(b+1),disabled:b>=P,children:u.jsx(Vi,{className:"h-3 w-3"})}),u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(P),disabled:b>=P,children:u.jsx(FS,{className:"h-3 w-3"})})]})]})]}),u.jsx(br,{value:"json",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"json-editor",children:"JSON Editor"}),u.jsx("textarea",{id:"json-editor",className:"w-full h-[300px] font-mono text-sm p-2 border rounded-md",value:g,onChange:V=>W(V.target.value)})]})})]})]}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ge,{onClick:H,children:"Save"})]})]})})}function lj(e,t,n,r,o){return e+t*1e3+n*60*1e3+r*60*60*1e3+o*24*60*60*1e3}function cc(e){let t=e;const n=Math.floor(t/(24*60*60*1e3));t%=24*60*60*1e3;const r=Math.floor(t/(60*60*1e3));t%=60*60*1e3;const o=Math.floor(t/(60*1e3));t%=60*1e3;const i=Math.floor(t/1e3);return{ms:t%1e3,s:i,m:o,h:r,d:n}}function x1(e){const{d:t,h:n,m:r,s:o,ms:i}=cc(e),l=[];return t>0&&l.push(`${t}d`),n>0&&l.push(`${n}h`),r>0&&l.push(`${r}m`),o>0&&l.push(`${o}s`),i>0&&l.push(`${i}ms`),l.length>0?l.join(" "):"0"}function Qd(e,t){return new Date(t.getTime()+e).toISOString().slice(0,16)}function aj(e,t){return new Date(e).getTime()-t.getTime()}function y1(e,t){const n=t.toUpperCase();if(n==="INT"){const r=parseInt(e,10);return isNaN(r)?0:r}else if(n==="REAL"){const r=parseFloat(e);return isNaN(r)?0:r}else if(n==="BOOL")return e.toLowerCase()==="true";return e}function EV(e){const t={};return e.forEach(n=>{const r=n.type.toUpperCase();r==="INT"||r==="REAL"?t[n.name]=0:r==="BOOL"?t[n.name]=!1:t[n.name]=""}),t}function jV({token:e,index:t,colorSetType:n,epoch:r,onChange:o,onRemove:i}){const[l,c]=w.useState("relative"),d=cc(e.timestamp),[f,h]=w.useState(d),[p,g]=w.useState(r?Qd(e.timestamp,r):"");w.useEffect(()=>{const k=cc(e.timestamp);h(k),r&&g(Qd(e.timestamp,r))},[e.timestamp,r]);const x=k=>{o(t,{...e,value:k})},S=(k,E)=>{const N={...f,[k]:E};h(N);const _=lj(N.ms,N.s,N.m,N.h,N.d);o(t,{...e,timestamp:_})},v=k=>{if(g(k),r){const E=aj(k,r);o(t,{...e,timestamp:E})}},b=()=>{switch(n){case"int":return u.jsx(at,{type:"number",value:e.value,onChange:k=>x(parseInt(k.target.value,10)||0),className:"w-24"});case"bool":return u.jsxs("select",{value:String(e.value),onChange:k=>x(k.target.value==="true"),className:"h-9 rounded-md border border-input bg-background px-3 py-1 text-sm",children:[u.jsx("option",{value:"true",children:"true"}),u.jsx("option",{value:"false",children:"false"})]});case"string":return u.jsx(at,{type:"text",value:e.value,onChange:k=>x(k.target.value),className:"w-32"});case"unit":return u.jsx("span",{className:"px-2 py-1 text-muted-foreground",children:"()"});default:return u.jsx(at,{type:"text",value:JSON.stringify(e.value),onChange:k=>{try{x(JSON.parse(k.target.value))}catch{x(k.target.value)}},className:"w-32"})}};return u.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md bg-muted/30",children:[u.jsxs("span",{className:"text-sm text-muted-foreground w-6",children:["#",t+1]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(je,{className:"text-xs",children:"Value:"}),b()]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx(je,{className:"text-xs",children:"Time:"}),u.jsxs(mi,{value:l,onValueChange:k=>c(k),className:"flex-1",children:[u.jsxs(gi,{className:"h-7",children:[u.jsx(Fn,{value:"relative",className:"text-xs px-2 py-1",children:"Relative"}),u.jsx(Fn,{value:"absolute",className:"text-xs px-2 py-1",disabled:!r,children:"Absolute"})]}),u.jsx(br,{value:"relative",className:"mt-1",children:u.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[["d","h","m","s"].map(k=>u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(at,{type:"number",min:"0",max:k==="h"?23:k==="m"||k==="s"?59:void 0,value:f[k],onChange:E=>S(k,parseInt(E.target.value,10)||0),className:"w-12 h-7 text-xs"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:k})]},k)),u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(at,{type:"number",min:"0",max:"999",value:f.ms,onChange:k=>S("ms",parseInt(k.target.value,10)||0),className:"w-14 h-7 text-xs"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})]})}),u.jsx(br,{value:"absolute",className:"mt-1",children:r?u.jsx(at,{type:"datetime-local",value:p,onChange:k=>v(k.target.value),className:"h-7 text-xs"}):u.jsx("p",{className:"text-xs text-muted-foreground",children:"Set simulation epoch in Settings to use absolute time"})})]})]}),u.jsx(ge,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>i(t),children:u.jsx(lr,{className:"h-3 w-3"})})]})}const _V=[10,25,50,100];function PV({currentPage:e,totalPages:t,pageSize:n,totalItems:r,onPageChange:o,onPageSizeChange:i}){const l=r===0?0:(e-1)*n+1,c=Math.min(e*n,r);return u.jsxs("div",{className:"flex items-center justify-between pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsxs("span",{children:[l,"",c," of ",r]}),u.jsxs(ln,{value:String(n),onValueChange:d=>i(Number(d)),children:[u.jsx(cn,{className:"h-7 w-[70px] text-xs",children:u.jsx(an,{})}),u.jsx(un,{children:_V.map(d=>u.jsx(ut,{value:String(d),children:d},d))})]}),u.jsx("span",{className:"text-xs",children:"per page"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(1),disabled:e<=1,children:u.jsx($S,{className:"h-3 w-3"})}),u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(e-1),disabled:e<=1,children:u.jsx(zS,{className:"h-3 w-3"})}),u.jsxs("span",{className:"text-sm px-2",children:[e," / ",t||1]}),u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(e+1),disabled:e>=t,children:u.jsx(Vi,{className:"h-3 w-3"})}),u.jsx(ge,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(t),disabled:e>=t,children:u.jsx(FS,{className:"h-3 w-3"})})]})]})}function AV({timestamp:e,epoch:t,onChange:n}){const[r,o]=w.useState(!1),[i,l]=w.useState("relative"),[c,d]=w.useState(cc(e)),[f,h]=w.useState(t?Qd(e,t):"");w.useEffect(()=>{d(cc(e)),t&&h(Qd(e,t))},[e,t]);const p=(v,b)=>{const k={...c,[v]:b};d(k),n(lj(k.ms,k.s,k.m,k.h,k.d))},g=v=>{h(v),t&&n(aj(v,t))},x=i==="absolute"&&t?new Date(t.getTime()+e).toLocaleString():x1(e),S=i==="absolute"?x1(e):t?new Date(t.getTime()+e).toLocaleString():`${e}ms`;return r?u.jsxs("div",{className:"space-y-1",onBlur:v=>{v.currentTarget.contains(v.relatedTarget)||o(!1)},children:[u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("button",{className:`text-[10px] px-1.5 py-0.5 rounded ${i==="relative"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,onClick:()=>l("relative"),children:"Rel"}),u.jsx("button",{className:`text-[10px] px-1.5 py-0.5 rounded ${i==="absolute"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"} ${t?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>{t&&l("absolute")},disabled:!t,children:"Abs"})]}),i==="absolute"&&t?u.jsx(at,{type:"datetime-local",value:f,onChange:v=>g(v.target.value),className:"h-7 text-xs",autoFocus:!0}):u.jsx("div",{className:"flex items-center gap-0.5 flex-wrap",children:["d","h","m","s"].map(v=>u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(at,{type:"number",min:"0",max:v==="h"?23:v==="m"||v==="s"?59:void 0,value:c[v],onChange:b=>p(v,parseInt(b.target.value,10)||0),className:"w-10 h-6 text-xs p-1",autoFocus:v==="d"}),u.jsx("span",{className:"text-[10px] text-muted-foreground",children:v})]},v))})]}):u.jsx("button",{className:"text-left text-sm font-mono hover:bg-muted/50 rounded px-1 py-0.5 w-full",onClick:()=>o(!0),title:S,children:x})}function IV({open:e,onOpenChange:t,colorSetName:n,colorSetType:r,recordAttributes:o,initialData:i,onSave:l}){const[c,d]=w.useState(i),[f,h]=w.useState(1),[p,g]=w.useState(10),[x,S]=w.useState(""),[v,b]=w.useState("visual"),[k,E]=w.useState(null),N=he(X=>X.simulationEpoch),_=N?new Date(N):null,I=o&&o.length>0;w.useEffect(()=>{d(i),h(1)},[i,e]),w.useEffect(()=>{v==="visual"&&S(JSON.stringify(c,null,2))},[c,v]);const P=Math.max(1,Math.ceil(c.length/p)),T=w.useMemo(()=>{const X=(f-1)*p;return c.slice(X,X+p)},[c,f,p]),O=X=>(f-1)*p+X,U=()=>{let X;I?X=EV(o):X=r==="int"?0:r==="bool"?!0:r==="string"?"":r==="unit"?null:"";const R=[...c,{value:X,timestamp:0}];d(R),h(Math.ceil(R.length/p))},L=(X,R)=>{const V=[...c];V[X]=R,d(V)},B=X=>{const R=c.filter((Z,Q)=>Q!==X);d(R);const V=Math.max(1,Math.ceil(R.length/p));f>V&&h(V)},Y=(X,R,V,Z)=>{const Q=[...c],K=Q[X].value;Q[X]={...Q[X],value:{...K,[R]:y1(Z,V)}},d(Q)},q=(X,R)=>{const V=[...c];V[X]={...V[X],timestamp:R},d(V)},A=X=>{g(X),h(1)},$=()=>{if(!I)return;const R=`data:text/csv;charset=utf-8,${[...o.map(Q=>Q.name),"Timestamp"].join(",")}
`,V=encodeURI(R),Z=document.createElement("a");Z.setAttribute("href",V),Z.setAttribute("download",`${n}_timed_template.csv`),document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)},F=X=>{var Z;const R=(Z=X.target.files)==null?void 0:Z[0];if(!R)return;const V=new FileReader;V.onload=Q=>{var te;const K=(te=Q.target)==null?void 0:te.result;try{const J=JSON.parse(K);Array.isArray(J)?(d(J),h(1),b("visual"),E(null)):E("Uploaded file must contain an array")}catch{if(!I){E("Non-record types only support JSON import");return}try{const J=K.split(`
`),ie=J[0].split(",").map(ye=>ye.trim()),le=ie.findIndex(ye=>ye.toLowerCase()==="timestamp"),de=ie.filter((ye,Ae)=>Ae!==le),fe=[];for(let ye=1;ye<J.length;ye++){if(!J[ye].trim())continue;const Ae=J[ye].split(",").map(rt=>rt.trim()),Re={};de.forEach(rt=>{const Ze=ie.indexOf(rt),kt=o.find(Ce=>Ce.name===rt);kt&&Ze>=0&&Ze<Ae.length&&(Re[rt]=y1(Ae[Ze],kt.type))});const nt=le>=0&&le<Ae.length&&parseInt(Ae[le],10)||0;fe.push({value:Re,timestamp:nt})}d(fe),h(1),b("visual"),E(null)}catch{E("Failed to parse file as JSON or CSV")}}},V.readAsText(R),X.target.value=""},G=X=>{if(X==="json"&&v==="visual")S(JSON.stringify(c,null,2));else if(X==="visual"&&v==="json")try{const R=JSON.parse(x);Array.isArray(R)?(d(R),E(null)):E("JSON must be an array")}catch{E("Invalid JSON format")}b(X)},D=()=>{if(v==="json")try{const X=JSON.parse(x);Array.isArray(X)?(l(X),t(!1)):E("JSON must be an array")}catch{E("Invalid JSON format")}else l(c),t(!1)},W=()=>c.length>10?u.jsx(PV,{currentPage:f,totalPages:P,pageSize:p,totalItems:c.length,onPageChange:h,onPageSizeChange:A}):null,M=()=>u.jsxs("div",{children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(oj,{children:[u.jsx(ij,{children:u.jsxs(el,{children:[o.map(X=>u.jsx(Va,{children:X.name},X.name)),u.jsx(Va,{className:"min-w-[160px]",children:"Timestamp"}),u.jsx(Va,{className:"w-[50px]"})]})}),u.jsx(sj,{children:T.length===0?u.jsx(el,{children:u.jsx(Wi,{colSpan:o.length+2,className:"text-center text-muted-foreground py-8",children:'No tokens. Click "Add Token" to add one.'})}):T.map((X,R)=>{const V=O(R),Z=X.value||{};return u.jsxs(el,{children:[o.map(Q=>{var K;return u.jsx(Wi,{className:"p-1",children:u.jsx(at,{value:((K=Z[Q.name])==null?void 0:K.toString())??"",onChange:te=>Y(V,Q.name,Q.type,te.target.value),className:"h-7 text-xs"})},Q.name)}),u.jsx(Wi,{className:"p-1",children:u.jsx(AV,{timestamp:X.timestamp,epoch:_,onChange:Q=>q(V,Q)})}),u.jsx(Wi,{className:"p-1",children:u.jsx(ge,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>B(V),children:u.jsx(lr,{className:"h-3 w-3"})})})]},V)})})]})}),W()]}),H=()=>u.jsxs("div",{children:[u.jsx("div",{className:"space-y-2",children:T.length===0?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No tokens. Click "Add Token" to add a timed token.'}):T.map((X,R)=>{const V=O(R);return u.jsx(jV,{token:X,index:V,colorSetType:r,epoch:_,onChange:L,onRemove:B},V)})}),W()]});return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:I?"max-w-[90vw] xl:max-w-6xl":"max-w-3xl",children:[u.jsx(pn,{children:u.jsxs(hn,{children:["Edit Timed Marking for ",n]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.length," token",c.length!==1?"s":"",_&&u.jsxs("span",{className:"ml-2",children:["(Epoch: ",_.toLocaleString(),")"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[I&&u.jsxs(ge,{variant:"outline",size:"sm",onClick:$,children:[u.jsx(VS,{className:"h-4 w-4 mr-1"}),"CSV Template"]}),u.jsxs("div",{children:[u.jsx(at,{type:"file",id:"timed-file-upload",className:"hidden",accept:".json,.csv",onChange:F}),u.jsx(je,{htmlFor:"timed-file-upload",className:"cursor-pointer",children:u.jsx(ge,{variant:"outline",size:"sm",asChild:!0,children:u.jsxs("span",{children:[u.jsx(Jg,{className:"h-4 w-4 mr-1"}),"Import"]})})})]}),u.jsxs(ge,{variant:"outline",size:"sm",onClick:U,children:[u.jsx(HS,{className:"h-4 w-4 mr-1"}),"Add Token"]})]})]}),u.jsxs(mi,{value:v,onValueChange:G,children:[u.jsxs(gi,{className:"grid w-full grid-cols-2",children:[u.jsx(Fn,{value:"visual",children:"Visual Editor"}),u.jsx(Fn,{value:"json",children:"JSON Editor"})]}),u.jsx(br,{value:"visual",className:"space-y-2",children:I?M():H()}),u.jsx(br,{value:"json",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"timed-json-editor",children:"JSON Editor"}),u.jsx("textarea",{id:"timed-json-editor",className:"w-full h-[300px] font-mono text-sm p-2 border rounded-md",value:x,onChange:X=>{S(X.target.value),E(null);try{const R=JSON.parse(X.target.value);Array.isArray(R)||E("JSON must be an array")}catch{E("Invalid JSON format")}}}),k&&u.jsx("p",{className:"text-sm text-destructive",children:k})]})})]})]}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ge,{onClick:D,children:"Save"})]})]})})}const TV=({colorSets:e})=>{var T,O,U,L,B,Y,q;const[t,n]=w.useState(!1),[r,o]=w.useState(!1),[i,l]=w.useState(null),c=he(A=>A.activePetriNetId),d=he(A=>{const $=A.activePetriNetId?A.petriNetsById[A.activePetriNetId]:null;return $==null?void 0:$.selectedElement}),f=he(A=>A.updateNodeData);if(!d||d.type!=="node"||!d.element)return u.jsx("div",{children:"No node selected"});const{id:h,data:p}=d.element;if(!("colorSet"in p))return u.jsx("div",{children:"Invalid node type"});const g=e.find(A=>A.name===p.colorSet),x=(g==null?void 0:g.type)==="basic"&&((T=g==null?void 0:g.definition)==null?void 0:T.includes("= unit;")),S=(g==null?void 0:g.timed)===!0,v=()=>{var $;if(!g)return"other";const A=(($=g.definition)==null?void 0:$.toLowerCase())||"";return A.includes("= unit")?"unit":A.includes("= int")?"int":A.includes("= bool")?"bool":A.includes("= string")?"string":"other"},b=A=>{if(!A)return[];try{const $=JSON.parse(A);if(Array.isArray($))return $.map(F=>typeof F=="object"&&F!==null&&"value"in F&&"timestamp"in F?{value:F.value,timestamp:Number(F.timestamp)||0}:{value:F,timestamp:0})}catch{try{const $=JSON.parse(A);if(Array.isArray($))return $.map(F=>({value:F,timestamp:0}))}catch{}}return[]},k=A=>A.length===0?"":JSON.stringify(A.map($=>({value:$.value,timestamp:$.timestamp}))),E=A=>{if(!A)return 0;const $=A.trim();if(/^\d+$/.test($))return parseInt($,10);if($.startsWith("["))try{const F=$.match(/\(\)/g);return F?F.length:0}catch{return 0}return 0},N=A=>A<=0?"":`[${Array(A).fill("()").join(", ")}]`,_=A=>{const $=e.find(F=>F.name===A);if(!$||$.type!=="record")return[];if(A==="Product")return[{name:"id",type:"INT"},{name:"name",type:"STRING"},{name:"price",type:"REAL"}];if(A==="Order")return[{name:"orderId",type:"STRING"},{name:"status",type:"STRING"},{name:"amount",type:"INT"}];try{const F=/colset\s+(\w+)\s*=\s*record\s+([^;]+);/i,G=/(\w+)\s*:\s*(\w+)/g,D=$.definition.match(F);if(!D)return[];const W=D[2],M=[];let H;for(;(H=G.exec(W))!==null;)M.push({name:H[1],type:H[2].toUpperCase()});return M}catch(F){return console.error("Failed to parse record definition:",F),[]}},I=A=>{if(!A)return[];try{if(A.trim().startsWith("["))return JSON.parse(A);const $=/(\d+)`\{([^}]+)\}/g,F=[];let G;for(;(G=$.exec(A))!==null;){const D=Number.parseInt(G[1],10),W=G[2],M=/(\w+)=([^,]+)(?:,|$)/g,H={};let X;for(;(X=M.exec(W))!==null;){let R=X[2].trim();const V=X[1];isNaN(Number(R))?R.toLowerCase()==="true"||R.toLowerCase()==="false"?H[V]=R.toLowerCase()==="true":((R.startsWith('"')&&R.endsWith('"')||R.startsWith("'")&&R.endsWith("'"))&&(R=R.substring(1,R.length-1)),H[V]=R):R.includes(".")?H[V]=Number.parseFloat(R):H[V]=Number.parseInt(R,10)}for(let R=0;R<D;R++)F.push({...H})}return F}catch($){return console.error("Failed to parse initial marking:",$),[]}},P=A=>{if(!A||A.length===0)return"";try{return JSON.stringify(A)}catch($){return console.error("Failed to format record marking:",$),""}};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"label",children:"Label"}),u.jsx(jx,{id:"label",value:p.label||"",onChange:A=>{c&&f(c,h,{...p,label:A.target.value,isArcMode:p.isArcMode||!1,type:p.type||"node",colorSet:p.colorSet||"INT",initialMarking:p.initialMarking||""})}})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"colorSet",children:"Color Set"}),u.jsxs(ln,{value:p.colorSet||"INT",onValueChange:A=>{c&&f(c,h,{...p,label:p.label||"",colorSet:A,isArcMode:p.isArcMode||!1,type:p.type||"node",initialMarking:p.initialMarking||""})},children:[u.jsx(cn,{children:u.jsx(an,{placeholder:"Select color set"})}),u.jsx(un,{children:e.map(A=>u.jsx(ut,{value:A.name,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:A.color||"#3b82f6"}}),A.name]})},A.id))})]})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"initialMarking",children:"Initial Marking"}),x&&!S?u.jsx(ko,{id:"initialMarking",type:"number",min:"0",value:E(p.initialMarking||""),onChange:A=>{if(c){const $=parseInt(A.target.value,10)||0;f(c,h,{...p,label:p.label||"",initialMarking:N($),isArcMode:p.isArcMode||!1,type:p.type||"defaultType",colorSet:p.colorSet||"defaultColorSet"})}}}):S?u.jsx("div",{className:"flex flex-col gap-2",children:u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsxs("div",{className:"flex-1 text-sm text-muted-foreground border rounded-md px-3 py-2 bg-muted/30",children:[b(p.initialMarking||"").length," timed token(s)"]}),u.jsx(ge,{variant:"outline",onClick:()=>{l({id:h,data:{...p}}),o(!0)},children:"Edit"})]})}):u.jsx("div",{className:"flex flex-col gap-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ko,{id:"initialMarking",value:p.initialMarking||"",placeholder:"e.g., [1, 2, 3]",onChange:A=>{c&&f(c,h,{...p,label:p.label||"",initialMarking:A.target.value,isArcMode:p.isArcMode||!1,type:p.type||"defaultType",colorSet:p.colorSet||"defaultColorSet"})}}),u.jsx(ge,{variant:"outline",onClick:()=>{l({id:h,data:{...p}}),n(!0)},children:"Edit"})]})})]}),i&&u.jsxs(u.Fragment,{children:[u.jsx(NV,{open:t,onOpenChange:A=>{A?Jr():Zr(),n(A)},colorSetName:((O=i.data)==null?void 0:O.colorSet)||"",attributes:_(((U=i.data)==null?void 0:U.colorSet)||""),initialData:I(((L=i.data)==null?void 0:L.initialMarking)||""),onSave:A=>{const $=P(A);c&&i&&f(c,i.id,{label:i.data.label||"",isArcMode:i.data.isArcMode||!1,type:i.data.type||"place",colorSet:i.data.colorSet||"INT",initialMarking:$,marking:A})}}),u.jsx(IV,{open:r,onOpenChange:A=>{A?Jr():Zr(),o(A)},colorSetName:((B=i.data)==null?void 0:B.colorSet)||"",colorSetType:v(),recordAttributes:_(((Y=i.data)==null?void 0:Y.colorSet)||""),initialData:b(((q=i.data)==null?void 0:q.initialMarking)||""),onSave:A=>{const $=k(A);c&&i&&f(c,i.id,{label:i.data.label||"",isArcMode:i.data.isArcMode||!1,type:i.data.type||"place",colorSet:i.data.colorSet||"INT",initialMarking:$,marking:A})}})]})]})};function RV({value:e,onChange:t}){const[n,r]=w.useState(""),[o,i]=w.useState(""),[l,c]=w.useState(""),[d,f]=w.useState(e||"");w.useEffect(()=>{if(!e){r(""),i(""),c(""),f(`input ();
output ();
action
();`);return}f(e);try{const b=e.match(/input\s*$$(.*?)$$;/s),k=e.match(/output\s*$$(.*?)$$;/s),E=e.match(/action\s*(.*?)(?:$$$$;|$$$$$)/s);r(b?b[1]:""),i(k?k[1]:""),c(E?E[1].trim():"")}catch(b){console.error("Error parsing code segment:",b)}},[e]);const h=()=>{const b=`input (${n});
output (${o});
action
${l}();`;f(b),t(b)},p=b=>{r(b.target.value)},g=b=>{i(b.target.value)},x=b=>{c(b.target.value)},S=b=>{f(b.target.value),t(b.target.value)},v=()=>{h()};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs(mi,{defaultValue:"structured",className:"w-full",children:[u.jsxs(gi,{className:"grid w-full grid-cols-2",children:[u.jsx(Fn,{value:"structured",children:"Structured Editor"}),u.jsx(Fn,{value:"raw",children:"Raw Code"})]}),u.jsxs(br,{value:"structured",className:"space-y-4 pt-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"input-pattern",children:"Input Pattern"}),u.jsx(li,{id:"input-pattern",placeholder:"n, b",className:"font-mono h-[60px]",value:n,onChange:p,onBlur:v}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"List the CPN variables that can be used in the code action, separated by commas."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"output-pattern",children:"Output Pattern"}),u.jsx(li,{id:"output-pattern",placeholder:"result",className:"font-mono h-[60px]",value:o,onChange:g,onBlur:v}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"List the CPN variables to be changed as a result of the execution, separated by commas."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"action-code",children:"Action Code"}),u.jsx(li,{id:"action-code",placeholder:"let val result = n + 1 in result end",className:"font-mono h-[120px]",value:l,onChange:x,onBlur:v}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"ML code to execute when the transition fires. Can use variables from input pattern and must return a value matching the output pattern."})]})]}),u.jsx(br,{value:"raw",className:"pt-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"raw-code",children:"Code Segment"}),u.jsx(li,{id:"raw-code",placeholder:"input (n, b);\\noutput (result);\\naction\\nlet val result = n + 1 in result end();",className:"font-mono h-[240px]",value:d,onChange:S})]})})]}),u.jsx("div",{className:"pt-2",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:"Code segments may use CPN variables and can bind variables on output arcs. The action section is mandatory, while input and output are optional."})})]})}function MV(e){let t=Math.abs(e);const n=Math.floor(t/(24*60*60*1e3));t%=24*60*60*1e3;const r=Math.floor(t/(60*60*1e3));t%=60*60*1e3;const o=Math.floor(t/(60*1e3));t%=60*1e3;const i=Math.floor(t/1e3);return{ms:t%1e3,s:i,m:o,h:r,d:n}}function ga(e){const t=[];return e.d>0&&t.push(`delay_days(${e.d})`),e.h>0&&t.push(`delay_hours(${e.h})`),e.m>0&&t.push(`delay_min(${e.m})`),e.s>0&&t.push(`delay_sec(${e.s})`),e.ms>0&&t.push(`delay_ms(${e.ms})`),t.length>0?t.join(" + "):""}function DV(e){if(!e||e.trim()==="")return{ms:0,s:0,m:0,h:0,d:0};const t=/delay_(days|hours|min|sec|ms)\s*\(\s*(\d+)\s*\)/g;let n=0,r=!1,o;if(e.replace(t,"").replace(/\+/g,"").trim()!=="")return null;for(t.lastIndex=0;(o=t.exec(e))!==null;){r=!0;const l=o[1],c=parseInt(o[2],10);switch(l){case"days":n+=c*24*60*60*1e3;break;case"hours":n+=c*60*60*1e3;break;case"min":n+=c*60*1e3;break;case"sec":n+=c*1e3;break;case"ms":n+=c;break}}return!r&&e.trim()!==""?null:MV(n)}const OV=({priorities:e})=>{const t=he(k=>k.activePetriNetId),n=he(k=>{const E=k.activePetriNetId?k.petriNetsById[k.activePetriNetId]:null;return E==null?void 0:E.selectedElement}),r=he(k=>k.updateNodeData),[o,i]=w.useState("relative"),[l,c]=w.useState({ms:0,s:0,m:0,h:0,d:0}),[d,f]=w.useState(""),[h,p]=w.useState(null),g=n&&n.type==="node"&&n.element,x=g?n.element.id:null,S=g?n.element.data:null;if(w.useEffect(()=>{if(x&&x!==h&&S){p(x);const k=S.time||"",E=DV(k);E!==null?(i("relative"),c(E),f(k)):(i("expression"),f(k),c({ms:0,s:0,m:0,h:0,d:0}))}},[x,h,S]),!g||!S)return u.jsx("div",{children:"No node selected"});const v=x,b=S;return"guard"in b?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"label",children:"Label"}),u.jsx(jx,{id:"label",value:b.label??"",onChange:k=>{t&&r(t,v,{...b,label:k.target.value,isArcMode:b.isArcMode||!1,type:b.type||"defaultType",colorSet:b.colorSet||"defaultColorSet",initialMarking:b.initialMarking||"defaultMarking"})}})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"guard",children:"Guard"}),u.jsx(ko,{id:"guard",value:b.guard||"",onChange:k=>{t&&r(t,v,{...b,label:b.label||"",guard:k.target.value,isArcMode:b.isArcMode||!1,type:b.type||"defaultType",colorSet:b.colorSet||"defaultColorSet",initialMarking:b.initialMarking||"defaultMarking"})}})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{children:"Time"}),u.jsxs(mi,{value:o,onValueChange:k=>i(k),className:"w-full",children:[u.jsxs(gi,{className:"grid w-full grid-cols-2",children:[u.jsx(Fn,{value:"relative",children:"Relative"}),u.jsx(Fn,{value:"expression",children:"Expression"})]}),u.jsx(br,{value:"relative",className:"mt-2",children:u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ko,{type:"number",min:"0",value:l.d,onChange:k=>{const E={...l,d:parseInt(k.target.value,10)||0};c(E);const N=ga(E);f(N),t&&r(t,v,{...b,label:b.label||"",time:N,isArcMode:b.isArcMode||!1,type:b.type||"defaultType",colorSet:b.colorSet,initialMarking:b.initialMarking,priority:b.priority||"NONE",codeSegment:b.codeSegment||"",guard:b.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"d"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ko,{type:"number",min:"0",max:"23",value:l.h,onChange:k=>{const E={...l,h:parseInt(k.target.value,10)||0};c(E);const N=ga(E);f(N),t&&r(t,v,{...b,label:b.label||"",time:N,isArcMode:b.isArcMode||!1,type:b.type||"defaultType",colorSet:b.colorSet,initialMarking:b.initialMarking,priority:b.priority||"NONE",codeSegment:b.codeSegment||"",guard:b.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"h"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ko,{type:"number",min:"0",max:"59",value:l.m,onChange:k=>{const E={...l,m:parseInt(k.target.value,10)||0};c(E);const N=ga(E);f(N),t&&r(t,v,{...b,label:b.label||"",time:N,isArcMode:b.isArcMode||!1,type:b.type||"defaultType",colorSet:b.colorSet,initialMarking:b.initialMarking,priority:b.priority||"NONE",codeSegment:b.codeSegment||"",guard:b.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"m"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ko,{type:"number",min:"0",max:"59",value:l.s,onChange:k=>{const E={...l,s:parseInt(k.target.value,10)||0};c(E);const N=ga(E);f(N),t&&r(t,v,{...b,label:b.label||"",time:N,isArcMode:b.isArcMode||!1,type:b.type||"defaultType",colorSet:b.colorSet,initialMarking:b.initialMarking,priority:b.priority||"NONE",codeSegment:b.codeSegment||"",guard:b.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"s"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ko,{type:"number",min:"0",max:"999",value:l.ms,onChange:k=>{const E={...l,ms:parseInt(k.target.value,10)||0};c(E);const N=ga(E);f(N),t&&r(t,v,{...b,label:b.label||"",time:N,isArcMode:b.isArcMode||!1,type:b.type||"defaultType",colorSet:b.colorSet,initialMarking:b.initialMarking,priority:b.priority||"NONE",codeSegment:b.codeSegment||"",guard:b.guard||""})},className:"w-16 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})]})}),u.jsxs(br,{value:"expression",className:"mt-2",children:[u.jsx(li,{placeholder:"Rhai expression, e.g.: delay_hours(2) + delay_min(30)",value:d,onChange:k=>{const E=k.target.value;f(E),t&&r(t,v,{...b,label:b.label||"",time:E,isArcMode:b.isArcMode||!1,type:b.type||"defaultType",colorSet:b.colorSet,initialMarking:b.initialMarking,priority:b.priority||"NONE",codeSegment:b.codeSegment||"",guard:b.guard||""})},className:"min-h-[80px] font-mono text-sm"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available: delay_ms(), delay_sec(), delay_min(), delay_hours(), delay_days()"})]})]})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"priority",children:"Priority"}),u.jsxs(ln,{value:b.priority||"NONE",onValueChange:k=>{t&&r(t,v,{...b,label:b.label||"",priority:k,isArcMode:b.isArcMode||!1,type:b.type||"defaultType",colorSet:b.colorSet,initialMarking:b.initialMarking,guard:b.guard||"",time:b.time||"",codeSegment:b.codeSegment||""})},children:[u.jsx(cn,{id:"priority",children:u.jsx(an,{placeholder:"Select priority"})}),u.jsxs(un,{children:[u.jsx(ut,{value:"NONE",children:"None"}),e.map(k=>u.jsxs(ut,{value:k.name,children:[k.name," (",k.level,")"]},k.id))]})]})]}),u.jsx(kc,{}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"codeSegment",children:"Code Segment"}),u.jsx(RV,{value:b.codeSegment||"",onChange:k=>{t&&r(t,v,{...b,label:b.label||"",codeSegment:k,isArcMode:b.isArcMode||!1,type:b.type||"defaultType",colorSet:b.colorSet,initialMarking:b.initialMarking,guard:b.guard||"",time:b.time||"",priority:b.priority||"NONE"})}})]})]}):u.jsx("div",{children:"Invalid node type"})},LV=()=>{const e=he(i=>i.activePetriNetId),t=he(i=>{const l=i.activePetriNetId?i.petriNetsById[i.activePetriNetId]:null;return l==null?void 0:l.selectedElement}),n=he(i=>i.updateNodeData);if(!t||t.type!=="node"||!t.element)return u.jsx("div",{children:"No node selected"});const{id:r,data:o}=t.element;return u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"label",children:"Annotation"}),u.jsx(li,{id:"label",placeholder:"Annotation",className:"font-mono h-[100px]",value:o.label||"",onChange:i=>{e&&n(e,r,{...o,label:i.target.value,type:o.type||"auxText"})}})]})})},zV=()=>{const e=he(I=>I.activePetriNetId),t=he(I=>I.petriNetsById),n=he(I=>{const P=I.activePetriNetId?I.petriNetsById[I.activePetriNetId]:null;return P==null?void 0:P.selectedElement}),r=he(I=>I.updateEdgeLabel),o=he(I=>I.updateEdgeData),i=he(I=>I.swapEdgeDirection);if(!n||n.type!=="edge")return null;const{id:l,label:c,source:d,target:f,data:h}=n.element,p=(h==null?void 0:h.isBidirectional)??!1,g=(h==null?void 0:h.arcType)??"normal",x=I=>{var O;if(!e)return I;const P=t[e];if(!P)return I;const T=P.nodes.find(U=>U.id===I);return((O=T==null?void 0:T.data)==null?void 0:O.label)||I},S=I=>{if(!e)return"unknown";const P=t[e];if(!P)return"unknown";const T=P.nodes.find(O=>O.id===I);return(T==null?void 0:T.type)||"unknown"},v=x(d),b=x(f),k=S(d),E=()=>p?"bidirectional":"source-to-target",N=I=>{if(!e)return;const P=E();I!==P&&(I==="bidirectional"?o(e,l,{isBidirectional:!0}):P==="bidirectional"?(o(e,l,{isBidirectional:!1}),I==="target-to-source"&&i(e,l)):i(e,l))},_=I=>{if(!e)return;const P={arcType:I};I!=="normal"&&p&&(P.isBidirectional=!1),o(e,l,P),I!=="normal"&&r(e,l,"")};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"arcType",children:"Arc Type"}),u.jsxs(ln,{value:g,onValueChange:I=>_(I),children:[u.jsx(cn,{id:"arcType",children:u.jsx(an,{})}),u.jsxs(un,{children:[u.jsx(ut,{value:"normal",children:"Normal"}),u.jsx(ut,{value:"inhibitor",children:"Inhibitor"}),u.jsx(ut,{value:"reset",children:"Reset"})]})]}),g==="inhibitor"&&u.jsx("p",{className:"text-xs text-muted-foreground",children:"Transition enabled only when place is empty"}),g==="reset"&&u.jsx("p",{className:"text-xs text-muted-foreground",children:"Removes all tokens from place when transition fires"})]}),g==="normal"&&u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"direction",children:"Direction"}),u.jsxs(ln,{value:E(),onValueChange:I=>N(I),children:[u.jsx(cn,{id:"direction",children:u.jsx(an,{})}),u.jsxs(un,{children:[u.jsxs(ut,{value:"source-to-target",children:[v,"  ",b]}),u.jsxs(ut,{value:"target-to-source",children:[b,"  ",v]}),u.jsx(ut,{value:"bidirectional",children:"Bidirectional"})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:k==="place"?"Place  Transition":"Transition  Place"})]}),g==="normal"&&u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(je,{htmlFor:"inscription",children:"Inscription"}),u.jsx(li,{id:"inscription",value:c??"",rows:3,className:"font-mono text-sm",onChange:I=>{e&&r(e,l,I.target.value)}})]})]})};function $V({elementType:e,elementId:t,elementLabel:n}){const[r,o]=w.useState(!1),i=he(g=>g.activePetriNetId),l=he(g=>g.setNodes),c=he(g=>g.setEdges),d=he(g=>g.setSelectedElement),f=n||t,h=e==="node"?"element":"arc",p=()=>{if(!i)return;const x=he.getState().petriNetsById[i];if(x){if(e==="node"){const S=x.nodes.filter(b=>b.id!==t),v=x.edges.filter(b=>b.source!==t&&b.target!==t);l(i,S),c(i,v)}else{const S=x.edges.filter(v=>v.id!==t);c(i,S)}d(i,null),o(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx(ge,{variant:"outline",size:"icon",className:"text-muted-foreground hover:text-destructive",onClick:()=>o(!0),title:`Delete ${h}`,children:u.jsx(lr,{className:"h-4 w-4"})}),u.jsx(dn,{open:r,onOpenChange:o,children:u.jsxs(fn,{className:"max-w-sm",children:[u.jsxs(pn,{children:[u.jsxs(hn,{children:["Delete ",h]}),u.jsxs(Io,{children:["Are you sure you want to delete ",h==="arc"?"the arc":`"${f}"`,"?",e==="node"&&" All connected arcs will also be removed."," ","This action cannot be undone."]})]}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),u.jsx(ge,{variant:"destructive",onClick:p,children:"Delete"})]})]})})]})}function cj({className:e,...t}){return u.jsx("div",{"data-slot":"card",className:Xe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function uj({className:e,...t}){return u.jsx("div",{"data-slot":"card-header",className:Xe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function FV({className:e,...t}){return u.jsx("div",{"data-slot":"card-title",className:Xe("leading-none font-semibold",e),...t})}function dj({className:e,...t}){return u.jsx("div",{"data-slot":"card-content",className:Xe("px-6",e),...t})}function BV(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var Wx="ScrollArea",[fj,zK]=Rn(Wx),[VV,kr]=fj(Wx),pj=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:i=600,...l}=e,[c,d]=w.useState(null),[f,h]=w.useState(null),[p,g]=w.useState(null),[x,S]=w.useState(null),[v,b]=w.useState(null),[k,E]=w.useState(0),[N,_]=w.useState(0),[I,P]=w.useState(!1),[T,O]=w.useState(!1),U=st(t,B=>d(B)),L=hi(o);return u.jsx(VV,{scope:n,type:r,dir:L,scrollHideDelay:i,scrollArea:c,viewport:f,onViewportChange:h,content:p,onContentChange:g,scrollbarX:x,onScrollbarXChange:S,scrollbarXEnabled:I,onScrollbarXEnabledChange:P,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:T,onScrollbarYEnabledChange:O,onCornerWidthChange:E,onCornerHeightChange:_,children:u.jsx(He.div,{dir:L,...l,ref:U,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});pj.displayName=Wx;var hj="ScrollAreaViewport",mj=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...i}=e,l=kr(hj,n),c=w.useRef(null),d=st(t,c,l.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),u.jsx(He.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});mj.displayName=hj;var lo="ScrollAreaScrollbar",gj=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=kr(lo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=o,c=e.orientation==="horizontal";return w.useEffect(()=>(c?i(!0):l(!0),()=>{c?i(!1):l(!1)}),[c,i,l]),o.type==="hover"?u.jsx(HV,{...r,ref:t,forceMount:n}):o.type==="scroll"?u.jsx(UV,{...r,ref:t,forceMount:n}):o.type==="auto"?u.jsx(xj,{...r,ref:t,forceMount:n}):o.type==="always"?u.jsx(qx,{...r,ref:t}):null});gj.displayName=lo;var HV=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=kr(lo,e.__scopeScrollArea),[i,l]=w.useState(!1);return w.useEffect(()=>{const c=o.scrollArea;let d=0;if(c){const f=()=>{window.clearTimeout(d),l(!0)},h=()=>{d=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",h)}}},[o.scrollArea,o.scrollHideDelay]),u.jsx(Mn,{present:n||i,children:u.jsx(xj,{"data-state":i?"visible":"hidden",...r,ref:t})})}),UV=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=kr(lo,e.__scopeScrollArea),i=e.orientation==="horizontal",l=Hf(()=>d("SCROLL_END"),100),[c,d]=BV("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,o.scrollHideDelay,d]),w.useEffect(()=>{const f=o.viewport,h=i?"scrollLeft":"scrollTop";if(f){let p=f[h];const g=()=>{const x=f[h];p!==x&&(d("SCROLL"),l()),p=x};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[o.viewport,i,d,l]),u.jsx(Mn,{present:n||c!=="hidden",children:u.jsx(qx,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:De(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:De(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),xj=w.forwardRef((e,t)=>{const n=kr(lo,e.__scopeScrollArea),{forceMount:r,...o}=e,[i,l]=w.useState(!1),c=e.orientation==="horizontal",d=Hf(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;l(c?f:h)}},10);return dl(n.viewport,d),dl(n.content,d),u.jsx(Mn,{present:r||i,children:u.jsx(qx,{"data-state":i?"visible":"hidden",...o,ref:t})})}),qx=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=kr(lo,e.__scopeScrollArea),i=w.useRef(null),l=w.useRef(0),[c,d]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=Sj(c.viewport,c.content),h={...r,sizes:c,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:g=>l.current=g};function p(g,x){return KV(g,l.current,c,x)}return n==="horizontal"?u.jsx(WV,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const g=o.viewport.scrollLeft,x=v1(g,c,o.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollLeft=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollLeft=p(g,o.dir))}}):n==="vertical"?u.jsx(qV,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const g=o.viewport.scrollTop,x=v1(g,c);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollTop=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollTop=p(g))}}):null}),WV=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=kr(lo,e.__scopeScrollArea),[l,c]=w.useState(),d=w.useRef(null),f=st(t,d,i.onScrollbarXChange);return w.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),u.jsx(vj,{"data-orientation":"horizontal",...o,ref:f,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Vf(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(i.viewport){const g=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),Cj(g,p)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Zd(l.paddingLeft),paddingEnd:Zd(l.paddingRight)}})}})}),qV=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=kr(lo,e.__scopeScrollArea),[l,c]=w.useState(),d=w.useRef(null),f=st(t,d,i.onScrollbarYChange);return w.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),u.jsx(vj,{"data-orientation":"vertical",...o,ref:f,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Vf(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(i.viewport){const g=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),Cj(g,p)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Zd(l.paddingTop),paddingEnd:Zd(l.paddingBottom)}})}})}),[YV,yj]=fj(lo),vj=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:h,onResize:p,...g}=e,x=kr(lo,n),[S,v]=w.useState(null),b=st(t,U=>v(U)),k=w.useRef(null),E=w.useRef(""),N=x.viewport,_=r.content-r.viewport,I=zn(h),P=zn(d),T=Hf(p,10);function O(U){if(k.current){const L=U.clientX-k.current.left,B=U.clientY-k.current.top;f({x:L,y:B})}}return w.useEffect(()=>{const U=L=>{const B=L.target;(S==null?void 0:S.contains(B))&&I(L,_)};return document.addEventListener("wheel",U,{passive:!1}),()=>document.removeEventListener("wheel",U,{passive:!1})},[N,S,_,I]),w.useEffect(P,[r,P]),dl(S,T),dl(x.content,T),u.jsx(YV,{scope:n,scrollbar:S,hasThumb:o,onThumbChange:zn(i),onThumbPointerUp:zn(l),onThumbPositionChange:P,onThumbPointerDown:zn(c),children:u.jsx(He.div,{...g,ref:b,style:{position:"absolute",...g.style},onPointerDown:De(e.onPointerDown,U=>{U.button===0&&(U.target.setPointerCapture(U.pointerId),k.current=S.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),O(U))}),onPointerMove:De(e.onPointerMove,O),onPointerUp:De(e.onPointerUp,U=>{const L=U.target;L.hasPointerCapture(U.pointerId)&&L.releasePointerCapture(U.pointerId),document.body.style.webkitUserSelect=E.current,x.viewport&&(x.viewport.style.scrollBehavior=""),k.current=null})})})}),Jd="ScrollAreaThumb",wj=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=yj(Jd,e.__scopeScrollArea);return u.jsx(Mn,{present:n||o.hasThumb,children:u.jsx(XV,{ref:t,...r})})}),XV=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,i=kr(Jd,n),l=yj(Jd,n),{onThumbPositionChange:c}=l,d=st(t,p=>l.onThumbChange(p)),f=w.useRef(void 0),h=Hf(()=>{f.current&&(f.current(),f.current=void 0)},100);return w.useEffect(()=>{const p=i.viewport;if(p){const g=()=>{if(h(),!f.current){const x=QV(p,c);f.current=x,c()}};return c(),p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[i.viewport,h,c]),u.jsx(He.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:De(e.onPointerDownCapture,p=>{const x=p.target.getBoundingClientRect(),S=p.clientX-x.left,v=p.clientY-x.top;l.onThumbPointerDown({x:S,y:v})}),onPointerUp:De(e.onPointerUp,l.onThumbPointerUp)})});wj.displayName=Jd;var Yx="ScrollAreaCorner",bj=w.forwardRef((e,t)=>{const n=kr(Yx,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(GV,{...e,ref:t}):null});bj.displayName=Yx;var GV=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=kr(Yx,n),[i,l]=w.useState(0),[c,d]=w.useState(0),f=!!(i&&c);return dl(o.scrollbarX,()=>{var p;const h=((p=o.scrollbarX)==null?void 0:p.offsetHeight)||0;o.onCornerHeightChange(h),d(h)}),dl(o.scrollbarY,()=>{var p;const h=((p=o.scrollbarY)==null?void 0:p.offsetWidth)||0;o.onCornerWidthChange(h),l(h)}),f?u.jsx(He.div,{...r,ref:t,style:{width:i,height:c,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Zd(e){return e?parseInt(e,10):0}function Sj(e,t){const n=e/t;return isNaN(n)?0:n}function Vf(e){const t=Sj(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function KV(e,t,n,r="ltr"){const o=Vf(n),i=o/2,l=t||i,c=o-l,d=n.scrollbar.paddingStart+l,f=n.scrollbar.size-n.scrollbar.paddingEnd-c,h=n.content-n.viewport,p=r==="ltr"?[0,h]:[h*-1,0];return kj([d,f],p)(e)}function v1(e,t,n="ltr"){const r=Vf(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,l=t.content-t.viewport,c=i-r,d=n==="ltr"?[0,l]:[l*-1,0],f=lc(e,d);return kj([0,l],[0,c])(f)}function kj(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Cj(e,t){return e>0&&e<t}var QV=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const i={left:e.scrollLeft,top:e.scrollTop},l=n.left!==i.left,c=n.top!==i.top;(l||c)&&t(),n=i,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function Hf(e,t){const n=zn(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function dl(e,t){const n=zn(t);wn(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var JV=pj,ZV=mj,eH=bj;function Uf({className:e,children:t,...n}){return u.jsxs(JV,{"data-slot":"scroll-area",className:Xe("relative",e),...n,children:[u.jsx(ZV,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),u.jsx(tH,{}),u.jsx(eH,{})]})}function tH({className:e,orientation:t="vertical",...n}){return u.jsx(gj,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Xe("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:u.jsx(wj,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const nH=Ff("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function rH({className:e,variant:t,asChild:n=!1,...r}){const o=n?mN:"span";return u.jsx(o,{"data-slot":"badge",className:Xe(nH({variant:t}),e),...r})}function oH({events:e,onClearLog:t,onExport:n,canExport:r,exportDisabledReason:o}){const[i,l]=w.useState(""),[c,d]=w.useState(new Set),f=he(S=>S.simulationEpoch),h=f?new Date(f):null,p=S=>{const v=new Set(c);v.has(S)?v.delete(S):v.add(S),d(v)},g=e.filter(S=>S.transitionName.toLowerCase().includes(i.toLowerCase())||S.tokens.consumed.some(v=>v.placeName.toLowerCase().includes(i.toLowerCase()))||S.tokens.produced.some(v=>v.placeName.toLowerCase().includes(i.toLowerCase()))),x=S=>{if(h){const N=new Date(h.getTime()+S),_=N.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"}),I=N.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),P=N.getMilliseconds().toString().padStart(3,"0");return{date:_,time:`${I}.${P}`}}if(S===0)return{time:"0"};const v=S/1e3;if(v<60)return{time:`${v.toFixed(v%1===0?0:1)}s`};const b=v/60;if(b<60)return{time:`${b.toFixed(b%1===0?0:1)}m`};const k=b/60;if(k<24)return{time:`${k.toFixed(k%1===0?0:1)}h`};const E=k/24;return{time:`${E.toFixed(E%1===0?0:1)}d`}};return u.jsxs(cj,{className:"w-full h-full flex flex-col overflow-hidden",children:[u.jsxs(uj,{className:"pb-3 flex-shrink-0",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm font-semibold leading-none tracking-tight",children:"Event Log"}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(ge,{variant:"outline",size:"icon",onClick:t,title:"Clear Log",children:u.jsx(CT,{className:"h-4 w-4"})}),n&&u.jsxs(ge,{variant:"outline",onClick:n,disabled:!r,title:o||"Export as OCEL 2.0",className:"flex items-center gap-1 h-9 px-3",children:[u.jsx(jI,{className:"h-4 w-4"}),"Export OCEL"]})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx(uT,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),u.jsx(at,{placeholder:"Search events...",className:"pl-8",value:i,onChange:S=>l(S.target.value)})]})]}),u.jsx(dj,{className:"flex-1 overflow-hidden min-h-0",children:u.jsx(Uf,{className:"h-full",children:g.length===0?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.length===0?"No events recorded yet":"No events match your search"}):u.jsx("div",{className:"space-y-2",children:g.map(S=>u.jsxs("div",{className:"border rounded-md p-3 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>p(S.id),children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(rH,{variant:"outline",children:S.step}),u.jsx("span",{className:"font-medium",children:S.transitionName})]}),u.jsxs("div",{className:"flex items-center space-x-1.5 text-muted-foreground",children:[u.jsx(Qg,{className:"h-3 w-3 flex-shrink-0"}),(()=>{const v=x(S.time);return v.date?u.jsxs("div",{className:"text-right text-xs leading-tight",children:[u.jsx("div",{children:v.date}),u.jsx("div",{children:v.time})]}):u.jsx("span",{className:"text-sm",children:v.time})})()]})]}),c.has(S.id)&&u.jsxs("div",{className:"mt-2 pt-2 border-t text-sm space-y-3 overflow-hidden",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("h4",{className:"font-medium mb-1",children:"Consumed Tokens:"}),S.tokens.consumed.length===0?u.jsx("p",{className:"text-muted-foreground text-xs pl-2",children:"None"}):u.jsx("ul",{className:"space-y-1 pl-2 text-xs",children:S.tokens.consumed.map((v,b)=>u.jsxs("li",{className:"min-w-0",children:[u.jsxs("span",{className:"text-muted-foreground",children:[v.placeName,":"]}),u.jsx("span",{className:"font-mono bg-muted px-1 rounded ml-2 break-all whitespace-pre-wrap",children:v.tokens})]},`consumed-${b}`))})]}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("h4",{className:"font-medium mb-1",children:"Produced Tokens:"}),S.tokens.produced.length===0?u.jsx("p",{className:"text-muted-foreground text-xs pl-2",children:"None"}):u.jsx("ul",{className:"space-y-1 pl-2 text-xs",children:S.tokens.produced.map((v,b)=>u.jsxs("li",{className:"min-w-0",children:[u.jsxs("span",{className:"text-muted-foreground",children:[v.placeName,":"]}),u.jsx("span",{className:"font-mono bg-muted px-1 rounded ml-2 break-all whitespace-pre-wrap",children:v.tokens})]},`produced-${b}`))})]})]})]},S.id))})})})]})}var Xx="Radio",[iH,Nj]=Rn(Xx),[sH,lH]=iH(Xx),Ej=w.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:o=!1,required:i,disabled:l,value:c="on",onCheck:d,form:f,...h}=e,[p,g]=w.useState(null),x=st(t,b=>g(b)),S=w.useRef(!1),v=p?f||!!p.closest("form"):!0;return u.jsxs(sH,{scope:n,checked:o,disabled:l,children:[u.jsx(He.button,{type:"button",role:"radio","aria-checked":o,"data-state":Aj(o),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:De(e.onClick,b=>{o||d==null||d(),v&&(S.current=b.isPropagationStopped(),S.current||b.stopPropagation())})}),v&&u.jsx(Pj,{control:p,bubbles:!S.current,name:r,value:c,checked:o,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});Ej.displayName=Xx;var jj="RadioIndicator",_j=w.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...o}=e,i=lH(jj,n);return u.jsx(Mn,{present:r||i.checked,children:u.jsx(He.span,{"data-state":Aj(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t})})});_j.displayName=jj;var aH="RadioBubbleInput",Pj=w.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...o},i)=>{const l=w.useRef(null),c=st(l,i),d=Mf(n),f=Tf(t);return w.useEffect(()=>{const h=l.current;if(!h)return;const p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==n&&x){const S=new Event("click",{bubbles:r});x.call(h,n),h.dispatchEvent(S)}},[d,n,r]),u.jsx(He.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:c,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Pj.displayName=aH;function Aj(e){return e?"checked":"unchecked"}var cH=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Wf="RadioGroup",[uH,$K]=Rn(Wf,[vl,Nj]),Ij=vl(),Tj=Nj(),[dH,fH]=uH(Wf),Rj=w.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:o,value:i,required:l=!1,disabled:c=!1,orientation:d,dir:f,loop:h=!0,onValueChange:p,...g}=e,x=Ij(n),S=hi(f),[v,b]=Tn({prop:i,defaultProp:o??null,onChange:p,caller:Wf});return u.jsx(dH,{scope:n,name:r,required:l,disabled:c,value:v,onValueChange:b,children:u.jsx(Cx,{asChild:!0,...x,orientation:d,dir:S,loop:h,children:u.jsx(He.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":c?"":void 0,dir:S,...g,ref:t})})})});Rj.displayName=Wf;var Mj="RadioGroupItem",Dj=w.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...o}=e,i=fH(Mj,n),l=i.disabled||r,c=Ij(n),d=Tj(n),f=w.useRef(null),h=st(t,f),p=i.value===o.value,g=w.useRef(!1);return w.useEffect(()=>{const x=v=>{cH.includes(v.key)&&(g.current=!0)},S=()=>g.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",S)}},[]),u.jsx(Nx,{asChild:!0,...c,focusable:!l,active:p,children:u.jsx(Ej,{disabled:l,required:i.required,checked:p,...d,...o,name:i.name,ref:h,onCheck:()=>i.onValueChange(o.value),onKeyDown:De(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:De(o.onFocus,()=>{var x;g.current&&((x=f.current)==null||x.click())})})})});Dj.displayName=Mj;var pH="RadioGroupIndicator",Oj=w.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,o=Tj(n);return u.jsx(_j,{...o,...r,ref:t})});Oj.displayName=pH;var hH=Rj,mH=Dj,gH=Oj;function Gx({className:e,...t}){return u.jsx(hH,{"data-slot":"radio-group",className:Xe("grid gap-3",e),...t})}function Eo({className:e,...t}){return u.jsx(mH,{"data-slot":"radio-group-item",className:Xe("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(gH,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:u.jsx(BS,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function xH({open:e,onOpenChange:t,onExport:n}){const[r,o]=w.useState("json"),i=()=>{n(r),t(!1)};return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:"sm:max-w-[425px]",children:[u.jsxs(pn,{children:[u.jsx(hn,{children:"Export as OCEL 2.0"}),u.jsx(Io,{children:"Choose a format to export your simulation data as an Object-Centric Event Log (OCEL 2.0)."})]}),u.jsx("div",{className:"py-4",children:u.jsxs(Gx,{value:r,onValueChange:l=>o(l),className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Eo,{value:"json",id:"json"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(je,{htmlFor:"json",className:"font-medium",children:"JSON"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Standard JSON format for OCEL 2.0. Best for web applications and analysis tools."})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Eo,{value:"xml",id:"xml",disabled:!0}),u.jsxs("div",{className:"grid gap-1.5 opacity-50",children:[u.jsx(je,{htmlFor:"xml",className:"font-medium",children:"XML"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"XML format for OCEL 2.0. Good for compatibility with legacy systems. (Coming soon)"})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Eo,{value:"sqlite",id:"sqlite",disabled:!0}),u.jsxs("div",{className:"grid gap-1.5 opacity-50",children:[u.jsx(je,{htmlFor:"sqlite",className:"font-medium",children:"SQLite"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"SQLite database format. Best for large event logs and direct database queries. (Coming soon)"})]})]})]})}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ge,{onClick:i,children:"Export"})]})]})})}const yH={stepsPerRun:50,animationDelayMs:500},_c=w.createContext(null);function vH(e){if(e&&typeof e=="object"){const t=e;if("id"in t)return t.id;if("ID"in t)return t.ID}return null}function w1(e,t){const n=t.toLowerCase(),r=vH(e);if(r!==null)return`${n}_${r}`;const o=JSON.stringify(e).split("").reduce((i,l)=>(i=(i<<5)-i+l.charCodeAt(0),i&i),0);return`${n}_${Math.abs(o)}`}function wH(e,t,n,r,o){const i=[],l=t.filter(g=>g.type==="record");for(const g of l){const x=[],S=g.definition.match(/=\s*record\s+(.+);/);if(S){const b=S[1].split("*").map(k=>k.trim());for(const k of b){const[E,N]=k.split(":").map(_=>_.trim());E&&N&&E.toLowerCase()!=="id"&&x.push({name:E.toLowerCase(),type:N.toLowerCase()})}}i.push({name:g.name,attributes:x})}const c=n.map(g=>({name:g.name||g.id,attributes:[]})),d=new Map;for(const g of r)d.set(g.id,g.colorSet);const f=new Map,h=[],p=o?new Date(o):null;for(const g of e){const x=`e${g.step}`,S=g.transitionName,v=p?new Date(p.getTime()+g.time).toISOString():g.timestamp.toISOString(),b=new Map;for(const E of g.tokens.consumed){const N=d.get(E.placeId);if(l.some(I=>I.name===N)&&N)try{const I=JSON.parse(E.tokens);if(Array.isArray(I))for(const P of I){const T=w1(P,N);if(!f.has(T)){const O=[];if(P&&typeof P=="object")for(const[U,L]of Object.entries(P))U.toLowerCase()!=="id"&&O.push({name:U.toLowerCase(),time:v,value:String(L)});f.set(T,{id:T,type:N,attributes:O,relationships:[]})}b.set(T,N)}}catch{}}for(const E of g.tokens.produced){const N=d.get(E.placeId);if(l.some(I=>I.name===N)&&N)try{const I=JSON.parse(E.tokens);if(Array.isArray(I))for(const P of I){const T=w1(P,N);if(!f.has(T)){const O=[];if(P&&typeof P=="object")for(const[U,L]of Object.entries(P))U.toLowerCase()!=="id"&&O.push({name:U.toLowerCase(),time:v,value:String(L)});f.set(T,{id:T,type:N,attributes:O,relationships:[]})}b.set(T,N)}}catch{}}const k=Array.from(b.entries()).map(([E,N])=>({objectId:E,qualifier:N.toLowerCase()}));h.push({id:x,type:S,time:v,attributes:[],relationships:k})}return{objectTypes:i,eventTypes:c,objects:Array.from(f.values()),events:h}}function bH(){const e=w.useContext(_c);if(!e)throw new Error("SimulationPanel must be used within a SimulationProvider");const{events:t,clearEvents:n,isInitialized:r,stepCounter:o,simulationTime:i,simulationConfig:l,setSimulationConfig:c}=e,d=he(q=>q.colorSets),f=he(q=>q.petriNetsById),h=he(q=>q.activePetriNetId),p=he(q=>q.simulationEpoch),g=he(q=>q.setSimulationEpoch),[x,S]=w.useState(!1),[v,b]=w.useState(!1),[k,E]=w.useState(l),N=q=>{if(!q)return"";const A=new Date(q);if(isNaN(A.getTime()))return q;const $=(F,G=2)=>String(F).padStart(G,"0");return`${A.getFullYear()}-${$(A.getMonth()+1)}-${$(A.getDate())}T${$(A.getHours())}:${$(A.getMinutes())}:${$(A.getSeconds())}.${$(A.getMilliseconds(),3)}`},[_,I]=w.useState(N(p)),P=q=>{q&&(E(l),I(N(p))),b(q)},T=()=>{if(c(k),_){const q=new Date(_);isNaN(q.getTime())?g(_):g(q.toISOString())}else g(null);b(!1)},O=w.useCallback(()=>{if(!h)return{transitions:[],places:[]};const q=f[h];if(!q)return{transitions:[],places:[]};const A=q.nodes.filter(F=>F.type==="transition").map(F=>{var G;return{id:F.id,name:((G=F.data)==null?void 0:G.label)||F.id}}),$=q.nodes.filter(F=>F.type==="place").map(F=>{var G,D;return{id:F.id,name:((G=F.data)==null?void 0:G.label)||F.id,colorSet:((D=F.data)==null?void 0:D.colorSet)||""}});return{transitions:A,places:$}},[h,f]),U=q=>{const{transitions:A,places:$}=O(),F=wH(t,d,A,$,p||null);let G="",D=`simulation_ocel2_${o}_events`,W="application/octet-stream";switch(q){case"json":G=JSON.stringify(F,null,2),D+=".json",W="application/json";break;case"xml":G=`<?xml version="1.0" encoding="UTF-8"?>
<ocel>
  <objectTypes>
${F.objectTypes.map(R=>`    <objectType name="${R.name}">
${R.attributes.map(V=>`      <attribute name="${V.name}" type="${V.type}"/>`).join(`
`)}
    </objectType>`).join(`
`)}
  </objectTypes>
  <eventTypes>
${F.eventTypes.map(R=>`    <eventType name="${R.name}">
${R.attributes.map(V=>`      <attribute name="${V.name}" type="${V.type}"/>`).join(`
`)}
    </eventType>`).join(`
`)}
  </eventTypes>
  <objects>
${F.objects.map(R=>`    <object id="${R.id}" type="${R.type}">
${R.attributes.map(V=>`      <attribute name="${V.name}" time="${V.time}" value="${V.value}"/>`).join(`
`)}
    </object>`).join(`
`)}
  </objects>
  <events>
${F.events.map(R=>`    <event id="${R.id}" type="${R.type}" time="${R.time}">
${R.relationships.map(V=>`      <relationship objectId="${V.objectId}" qualifier="${V.qualifier}"/>`).join(`
`)}
    </event>`).join(`
`)}
  </events>
</ocel>`,D+=".xml",W="application/xml";break;case"sqlite":G="SQLite format not yet implemented - please use JSON or XML format",D+=".txt",W="text/plain";break}const M=new Blob([G],{type:W}),H=URL.createObjectURL(M),X=document.createElement("a");X.href=H,X.download=D,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(H),S(!1)},L=r&&t.length>0,B=p?new Date(p):null,Y=q=>{if(q==null&&(q=0),B){const A=new Date(B.getTime()+q),$=A.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"}),F=A.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),G=A.getMilliseconds().toString().padStart(3,"0");return`${$}, ${F}.${G}`}if(q===0)return"0ms";if(q<1e3)return`${q}ms`;if(q<6e4)return`${(q/1e3).toFixed(1)}s`;if(q<36e5){const A=Math.floor(q/6e4),$=Math.floor(q%6e4/1e3);return`${A}m ${$}s`}else{const A=Math.floor(q/36e5),$=Math.floor(q%36e5/6e4),F=Math.floor(q%6e4/1e3);return`${A}h ${$}m ${F}s`}};return u.jsxs("div",{className:"flex flex-col h-full gap-3 overflow-hidden",children:[u.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card flex-shrink-0",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("span",{className:"text-sm font-semibold leading-none tracking-tight",children:"Simulation Status"}),u.jsx(ge,{variant:"outline",size:"icon",onClick:()=>b(!0),title:"Simulation Settings",children:u.jsx(US,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(HI,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Step"}),u.jsx("div",{className:"text-lg font-mono font-semibold",children:o??0})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Qg,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Time"}),u.jsx("div",{className:"text-lg font-mono font-semibold",children:Y(i)})]})]})]})]}),u.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:u.jsx(oH,{events:t,onClearLog:n,onExport:()=>S(!0),canExport:L,exportDisabledReason:r?t.length===0?"No simulation events to export":void 0:"Simulation not initialized"})}),u.jsx(xH,{open:x,onOpenChange:S,onExport:U}),u.jsx(dn,{open:v,onOpenChange:P,children:u.jsxs(fn,{className:"sm:max-w-[480px]",children:[u.jsx(pn,{children:u.jsx(hn,{children:"Simulation Settings"})}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"stepsPerRun",className:"text-right col-span-2",children:"Steps per run"}),u.jsx(at,{id:"stepsPerRun",type:"number",min:1,max:1e3,value:k.stepsPerRun,onChange:q=>E({...k,stepsPerRun:parseInt(q.target.value)||1}),className:"col-span-2"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"animationDelay",className:"text-right col-span-2",children:"Animation delay (ms)"}),u.jsx(at,{id:"animationDelay",type:"number",min:0,max:5e3,step:50,value:k.animationDelayMs,onChange:q=>E({...k,animationDelayMs:parseInt(q.target.value)||0}),className:"col-span-2"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"simulationEpoch",className:"text-right col-span-2",children:"Simulation epoch"}),u.jsx(at,{id:"simulationEpoch",type:"datetime-local",step:"0.001",value:_,onChange:q=>I(q.target.value),className:"col-span-2"}),u.jsxs("div",{className:"col-span-2 col-start-3 flex gap-2",children:[u.jsx(ge,{type:"button",variant:"outline",size:"sm",onClick:()=>{const q=new Date,A=(F,G=2)=>String(F).padStart(G,"0"),$=`${q.getFullYear()}-${A(q.getMonth()+1)}-${A(q.getDate())}T${A(q.getHours())}:${A(q.getMinutes())}:${A(q.getSeconds())}.${A(q.getMilliseconds(),3)}`;I($)},children:"Now"}),u.jsx(ge,{type:"button",variant:"outline",size:"sm",onClick:()=>I(""),children:"Reset"})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"The simulation epoch is the real-world datetime that corresponds to simulation time 0. When set, simulation times will be displayed relative to this epoch."})]}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),u.jsx(ge,{onClick:T,children:"Save"})]})]})})]})}var qf="Checkbox",[SH,FK]=Rn(qf),[kH,Kx]=SH(qf);function CH(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:o,disabled:i,form:l,name:c,onCheckedChange:d,required:f,value:h="on",internal_do_not_use_render:p}=e,[g,x]=Tn({prop:n,defaultProp:o??!1,onChange:d,caller:qf}),[S,v]=w.useState(null),[b,k]=w.useState(null),E=w.useRef(!1),N=S?!!l||!!S.closest("form"):!0,_={checked:g,disabled:i,setChecked:x,control:S,setControl:v,name:c,form:l,value:h,hasConsumerStoppedPropagationRef:E,required:f,defaultChecked:ci(o)?!1:o,isFormControl:N,bubbleInput:b,setBubbleInput:k};return u.jsx(kH,{scope:t,..._,children:NH(p)?p(_):r})}var Lj="CheckboxTrigger",zj=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},o)=>{const{control:i,value:l,disabled:c,checked:d,required:f,setControl:h,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:S}=Kx(Lj,e),v=st(o,h),b=w.useRef(d);return w.useEffect(()=>{const k=i==null?void 0:i.form;if(k){const E=()=>p(b.current);return k.addEventListener("reset",E),()=>k.removeEventListener("reset",E)}},[i,p]),u.jsx(He.button,{type:"button",role:"checkbox","aria-checked":ci(d)?"mixed":d,"aria-required":f,"data-state":Hj(d),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:v,onKeyDown:De(t,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:De(n,k=>{p(E=>ci(E)?!0:!E),S&&x&&(g.current=k.isPropagationStopped(),g.current||k.stopPropagation())})})});zj.displayName=Lj;var Qx=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:i,required:l,disabled:c,value:d,onCheckedChange:f,form:h,...p}=e;return u.jsx(CH,{__scopeCheckbox:n,checked:o,defaultChecked:i,disabled:c,required:l,onCheckedChange:f,name:r,form:h,value:d,internal_do_not_use_render:({isFormControl:g})=>u.jsxs(u.Fragment,{children:[u.jsx(zj,{...p,ref:t,__scopeCheckbox:n}),g&&u.jsx(Vj,{__scopeCheckbox:n})]})})});Qx.displayName=qf;var $j="CheckboxIndicator",Fj=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,i=Kx($j,n);return u.jsx(Mn,{present:r||ci(i.checked)||i.checked===!0,children:u.jsx(He.span,{"data-state":Hj(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Fj.displayName=$j;var Bj="CheckboxBubbleInput",Vj=w.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:o,checked:i,defaultChecked:l,required:c,disabled:d,name:f,value:h,form:p,bubbleInput:g,setBubbleInput:x}=Kx(Bj,e),S=st(n,x),v=Mf(i),b=Tf(r);w.useEffect(()=>{const E=g;if(!E)return;const N=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(N,"checked").set,P=!o.current;if(v!==i&&I){const T=new Event("click",{bubbles:P});E.indeterminate=ci(i),I.call(E,ci(i)?!1:i),E.dispatchEvent(T)}},[g,v,i,o]);const k=w.useRef(ci(i)?!1:i);return u.jsx(He.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??k.current,required:c,disabled:d,name:f,value:h,form:p,...t,tabIndex:-1,ref:S,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Vj.displayName=Bj;function NH(e){return typeof e=="function"}function ci(e){return e==="indeterminate"}function Hj(e){return ci(e)?"indeterminate":e?"checked":"unchecked"}const Jx=w.forwardRef(({className:e,...t},n)=>u.jsx(Qx,{ref:n,className:Xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:u.jsx(Fj,{className:Xe("flex items-center justify-center text-current"),children:u.jsx(LS,{className:"h-4 w-4"})})}));Jx.displayName=Qx.displayName;function Yf(){return(Yf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Uj(e,t){if(e==null)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function _g(e){var t=w.useRef(e),n=w.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var uc=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Ha=function(e){return"touches"in e},Pg=function(e){return e&&e.ownerDocument.defaultView||self},b1=function(e,t,n){var r=e.getBoundingClientRect(),o=Ha(t)?function(i,l){for(var c=0;c<i.length;c++)if(i[c].identifier===l)return i[c];return i[0]}(t.touches,n):t;return{left:uc((o.pageX-(r.left+Pg(e).pageXOffset))/r.width),top:uc((o.pageY-(r.top+Pg(e).pageYOffset))/r.height)}},S1=function(e){!Ha(e)&&e.preventDefault()},Wj=qe.memo(function(e){var t=e.onMove,n=e.onKey,r=Uj(e,["onMove","onKey"]),o=w.useRef(null),i=_g(t),l=_g(n),c=w.useRef(null),d=w.useRef(!1),f=w.useMemo(function(){var x=function(b){S1(b),(Ha(b)?b.touches.length>0:b.buttons>0)&&o.current?i(b1(o.current,b,c.current)):v(!1)},S=function(){return v(!1)};function v(b){var k=d.current,E=Pg(o.current),N=b?E.addEventListener:E.removeEventListener;N(k?"touchmove":"mousemove",x),N(k?"touchend":"mouseup",S)}return[function(b){var k=b.nativeEvent,E=o.current;if(E&&(S1(k),!function(_,I){return I&&!Ha(_)}(k,d.current)&&E)){if(Ha(k)){d.current=!0;var N=k.changedTouches||[];N.length&&(c.current=N[0].identifier)}E.focus(),i(b1(E,k,c.current)),v(!0)}},function(b){var k=b.which||b.keyCode;k<37||k>40||(b.preventDefault(),l({left:k===39?.05:k===37?-.05:0,top:k===40?.05:k===38?-.05:0}))},v]},[l,i]),h=f[0],p=f[1],g=f[2];return w.useEffect(function(){return g},[g]),qe.createElement("div",Yf({},r,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:o,onKeyDown:p,tabIndex:0,role:"slider"}))}),Zx=function(e){return e.filter(Boolean).join(" ")},qj=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,i=Zx(["react-colorful__pointer",e.className]);return qe.createElement("div",{className:i,style:{top:100*o+"%",left:100*n+"%"}},qe.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Nn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},EH=function(e){return IH(Ag(e))},Ag=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Nn(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Nn(parseInt(e.substring(6,8),16)/255,2):1}},jH=function(e){return AH(PH(e))},_H=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Nn(e.h),s:Nn(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Nn(o/2),a:Nn(r,2)}},Ig=function(e){var t=_H(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},PH=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),l=r*(1-n),c=r*(1-(t-i)*n),d=r*(1-(1-t+i)*n),f=i%6;return{r:Nn(255*[r,c,l,l,d,r][f]),g:Nn(255*[d,r,r,c,l,l][f]),b:Nn(255*[l,l,d,r,r,c][f]),a:Nn(o,2)}},ad=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},AH=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=o<1?ad(Nn(255*o)):"";return"#"+ad(t)+ad(n)+ad(r)+i},IH=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),l=i-Math.min(t,n,r),c=l?i===t?(n-r)/l:i===n?2+(r-t)/l:4+(t-n)/l:0;return{h:Nn(60*(c<0?c+6:c)),s:Nn(i?l/i*100:0),v:Nn(i/255*100),a:o}},TH=qe.memo(function(e){var t=e.hue,n=e.onChange,r=Zx(["react-colorful__hue",e.className]);return qe.createElement("div",{className:r},qe.createElement(Wj,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:uc(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":Nn(t),"aria-valuemax":"360","aria-valuemin":"0"},qe.createElement(qj,{className:"react-colorful__hue-pointer",left:t/360,color:Ig({h:t,s:100,v:100,a:1})})))}),RH=qe.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Ig({h:t.h,s:100,v:100,a:1})};return qe.createElement("div",{className:"react-colorful__saturation",style:r},qe.createElement(Wj,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:uc(t.s+100*o.left,0,100),v:uc(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Nn(t.s)+"%, Brightness "+Nn(t.v)+"%"},qe.createElement(qj,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Ig(t)})))}),Yj=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},MH=function(e,t){return e.toLowerCase()===t.toLowerCase()||Yj(Ag(e),Ag(t))};function DH(e,t,n){var r=_g(n),o=w.useState(function(){return e.toHsva(t)}),i=o[0],l=o[1],c=w.useRef({color:t,hsva:i});w.useEffect(function(){if(!e.equal(t,c.current.color)){var f=e.toHsva(t);c.current={hsva:f,color:t},l(f)}},[t,e]),w.useEffect(function(){var f;Yj(i,c.current.hsva)||e.equal(f=e.fromHsva(i),c.current.color)||(c.current={hsva:i,color:f},r(f))},[i,e,r]);var d=w.useCallback(function(f){l(function(h){return Object.assign({},h,f)})},[]);return[i,d]}var OH=typeof window<"u"?w.useLayoutEffect:w.useEffect,LH=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},k1=new Map,zH=function(e){OH(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!k1.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,k1.set(t,n);var r=LH();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},$H=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,i=e.onChange,l=Uj(e,["className","colorModel","color","onChange"]),c=w.useRef(null);zH(c);var d=DH(n,o,i),f=d[0],h=d[1],p=Zx(["react-colorful",t]);return qe.createElement("div",Yf({},l,{ref:c,className:p}),qe.createElement(RH,{hsva:f,onChange:h}),qe.createElement(TH,{hue:f.h,onChange:h,className:"react-colorful__last-control"}))},FH={defaultColor:"000",toHsva:EH,fromHsva:function(e){return jH({h:e.h,s:e.s,v:e.v,a:1})},equal:MH},BH=function(e){return qe.createElement($H,Yf({},e,{colorModel:FH}))};function VH({colorSet:e,existingColorSets:t,onSave:n}){const[r,o]=w.useState((e==null?void 0:e.name)||""),[i,l]=w.useState((e==null?void 0:e.type)||"basic"),[c,d]=w.useState((e==null?void 0:e.definition)||""),[f,h]=w.useState((e==null?void 0:e.color)||"#3b82f6"),[p,g]=w.useState((e==null?void 0:e.timed)||!1),[x,S]=w.useState("visual"),[v,b]=w.useState("int"),[k,E]=w.useState(!1),[N,_]=w.useState("1"),[I,P]=w.useState("100"),[T,O]=w.useState([{id:it(),name:"value1",value:"1"}]),[U,L]=w.useState("INT"),[B,Y]=w.useState([]),[q,A]=w.useState([{id:it(),name:"field1",type:"INT"}]),[$,F]=w.useState("INT"),[G,D]=w.useState("");w.useEffect(()=>{if(e){if(o(e.name),l(e.type),d(e.definition),g(e.timed||!1),e.type==="basic"){const J=e.definition.match(/colset\s+\w+\s*=\s*(\w+)(?:\s+with\s+(\d+)\.\.(\d+))?/);J&&(b(J[1]),J[2]&&J[3]&&(E(!0),_(J[2]),P(J[3])))}else if(e.type==="list"){const J=e.definition.match(/list\s+(\w+)/);if(J){const ie=J[1],le=t.find(de=>de.name===ie);le&&L(le.name)}}else if(e.type==="product"){const J=e.definition.match(/product\s+([\w\s\*]+)/);if(J){const ie=J[1].split("*").map(le=>le.trim());Y(ie)}}else if(e.type==="record"){const J=e.definition.match(/record\s+([\w\s\:\*]+)/);if(J){const ie=J[1].split("*").map(le=>{const[de,fe]=le.split(":").map(ye=>ye.trim());return{id:it(),name:de,type:fe}});A(ie)}}else if(e.type==="subset"){const J=e.definition.match(/subset\s+(\w+)\s+by\s+(.+)/);J&&(F(J[1]),D(J[2]))}}},[e,t]);const W=()=>{O([...T,{id:it(),name:`value${T.length+1}`,value:`${T.length+1}`}])},M=J=>{O(T.filter(ie=>ie.id!==J))},H=(J,ie,le)=>{O(T.map(de=>de.id===J?{...de,[ie]:le}:de))},X=J=>{J&&!B.includes(J)&&Y([...B,J])},R=J=>{Y(B.filter((ie,le)=>le!==J))},V=()=>{A([...q,{id:it(),name:`field${q.length+1}`,type:"INT"}])},Z=J=>{A(q.filter(ie=>ie.id!==J))},Q=(J,ie,le)=>{A(q.map(de=>de.id===J?{...de,[ie]:le}:de))},K=()=>{let J=`colset ${r} = `;switch(i){case"basic":J+=v,k&&(J+=` with ${N}..${I}`);break;case"enum":J+=`with ${T.map(ie=>ie.name).join(" | ")}`;break;case"list":J+=`list ${U}`;break;case"product":J+=`product ${B.join(" * ")}`;break;case"record":J+=`record ${q.map(ie=>`${ie.name}: ${ie.type}`).join(" * ")}`;break;case"subset":J+=`subset ${$} by ${G}`;break;default:J+=i}return p&&(J+=" timed"),J+=";",J},te=()=>{const J=x==="text"?c:K();n({name:r,type:i,definition:J,color:f,timed:p})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"name",children:"Name"}),u.jsx(at,{id:"name",placeholder:"e.g., DATA",value:r,onChange:J=>o(J.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"type",children:"Type"}),u.jsxs(ln,{value:i,onValueChange:l,children:[u.jsx(cn,{id:"type",children:u.jsx(an,{placeholder:"Select type"})}),u.jsxs(un,{children:[u.jsx(ut,{value:"basic",children:"Basic"}),u.jsx(ut,{value:"enum",children:"Enumerated"}),u.jsx(ut,{value:"list",children:"List"}),u.jsx(ut,{value:"product",children:"Product"}),u.jsx(ut,{value:"record",children:"Record"}),u.jsx(ut,{value:"subset",children:"Subset"}),u.jsx(ut,{value:"union",children:"Union"})]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"color",children:"Color"}),u.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[u.jsx(BH,{color:f,onChange:h}),u.jsx(at,{id:"color",type:"text",value:f,onChange:J=>h(J.target.value),className:"w-full mt-2"})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Jx,{id:"timed",checked:p,onCheckedChange:J=>g(J===!0)}),u.jsx(je,{htmlFor:"timed",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Timed color set"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"(tokens carry timestamps for timed simulations)"})]}),u.jsxs(mi,{defaultValue:"visual",className:"w-full",onValueChange:S,children:[u.jsxs(gi,{className:"grid w-full grid-cols-2",children:[u.jsx(Fn,{value:"visual",children:"Visual Editor"}),u.jsx(Fn,{value:"text",children:"Text Editor"})]}),u.jsxs(br,{value:"visual",className:"space-y-4 pt-4",children:[i==="basic"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{children:"Basic Type"}),u.jsxs(ln,{value:v,onValueChange:b,children:[u.jsx(cn,{children:u.jsx(an,{placeholder:"Select type"})}),u.jsxs(un,{children:[u.jsx(ut,{value:"int",children:"Integer"}),u.jsx(ut,{value:"bool",children:"Boolean"}),u.jsx(ut,{value:"string",children:"String"}),u.jsx(ut,{value:"unit",children:"Unit"}),u.jsx(ut,{value:"real",children:"Real"}),u.jsx(ut,{value:"time",children:"Time"})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",id:"withRange",checked:k,onChange:J=>E(J.target.checked),className:"rounded border-gray-300"}),u.jsx(je,{htmlFor:"withRange",children:"With Range"})]}),k&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"rangeStart",children:"Range Start"}),u.jsx(at,{id:"rangeStart",type:"number",value:N,onChange:J=>_(J.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"rangeEnd",children:"Range End"}),u.jsx(at,{id:"rangeEnd",type:"number",value:I,onChange:J=>P(J.target.value)})]})]})]}),i==="enum"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(je,{children:"Enumerated Values"}),T.map(J=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(at,{placeholder:"Name",value:J.name,onChange:ie=>H(J.id,"name",ie.target.value),className:"flex-1"}),u.jsx(at,{placeholder:"Value",value:J.value,onChange:ie=>H(J.id,"value",ie.target.value),className:"w-24"}),u.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>M(J.id),children:u.jsx(lr,{className:"h-4 w-4"})})]},J.id)),u.jsxs(ge,{variant:"outline",size:"sm",onClick:W,className:"mt-2",children:[u.jsx(Qm,{className:"h-4 w-4 mr-2"}),"Add Value"]})]}),i==="list"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{children:"Base Color Set"}),u.jsxs(ln,{value:U||"INT",onValueChange:L,children:[u.jsx(cn,{children:u.jsx(an,{placeholder:"Select base color set"})}),u.jsx(un,{children:t.map(J=>u.jsx(ut,{value:J.name,children:J.name},J.id))})]})]}),i==="product"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(je,{children:"Product Color Sets"}),B.map((J,ie)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"flex-1 border rounded-md px-3 py-2",children:J}),u.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>R(ie),children:u.jsx(lr,{className:"h-4 w-4"})})]},ie)),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsxs(ln,{defaultValue:"INT",onValueChange:X,children:[u.jsx(cn,{children:u.jsx(an,{placeholder:"Add color set"})}),u.jsx(un,{children:t.map(J=>u.jsx(ut,{value:J.name,children:J.name},J.id))})]})})]}),i==="record"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(je,{children:"Record Fields"}),q.map(J=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(at,{placeholder:"Field name",value:J.name,onChange:ie=>Q(J.id,"name",ie.target.value),className:"flex-1"}),u.jsxs(ln,{value:J.type,onValueChange:ie=>Q(J.id,"type",ie),children:[u.jsx(cn,{className:"w-[140px]",children:u.jsx(an,{placeholder:"Type"})}),u.jsx(un,{children:t.map(ie=>u.jsx(ut,{value:ie.name,children:ie.name},ie.id))})]}),u.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>Z(J.id),children:u.jsx(lr,{className:"h-4 w-4"})})]},J.id)),u.jsxs(ge,{variant:"outline",size:"sm",onClick:V,className:"mt-2",children:[u.jsx(Qm,{className:"h-4 w-4 mr-2"}),"Add Field"]})]}),i==="subset"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{children:"Subset of"}),u.jsxs(ln,{value:$||"INT",onValueChange:F,children:[u.jsx(cn,{children:u.jsx(an,{placeholder:"Select parent color set"})}),u.jsx(un,{children:t.map(J=>u.jsx(ut,{value:J.name,children:J.name},J.id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"predicate",children:"Predicate"}),u.jsx(at,{id:"predicate",placeholder:"e.g., x => x > 0",value:G,onChange:J=>D(J.target.value)})]})]}),u.jsxs("div",{className:"pt-4",children:[u.jsx(je,{children:"Preview"}),u.jsx("div",{className:"font-mono text-sm mt-2 p-3 bg-muted rounded-md",children:K()})]})]}),u.jsx(br,{value:"text",className:"pt-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"definition",children:"Color Set Definition"}),u.jsx(wl,{id:"definition",placeholder:"colset DATA = int with 1..100;",className:"font-mono h-[200px]",value:c,onChange:J=>d(J.target.value)})]})})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ge,{onClick:te,className:"w-full",children:"Save Color Set"})})]})}function HH({variable:e,existingColorSets:t,onSave:n}){const[r,o]=w.useState((e==null?void 0:e.name)||""),[i,l]=w.useState((e==null?void 0:e.colorSet)||"INT");w.useEffect(()=>{e&&(o(e.name),l(e.colorSet))},[e]);const c=()=>{n({name:r,colorSet:i})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(je,{htmlFor:"name",children:"Name"}),u.jsx(at,{id:"name",placeholder:"e.g., n",value:r,onChange:d=>o(d.target.value)})]}),u.jsx("div",{className:"space-y-2 flex-none mt-auto pb-2",children:":"}),u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(je,{htmlFor:"baseColorSet",children:"Type"}),u.jsxs(ln,{value:i||"INT",onValueChange:l,children:[u.jsx(cn,{children:u.jsx(an,{placeholder:"Select color set"})}),u.jsx(un,{children:t.map(d=>u.jsx(ut,{value:d.name,children:d.name},d.id))})]})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ge,{onClick:c,className:"w-full",children:"Save Variable"})})]})}function UH({priority:e,onSave:t}){const[n,r]=w.useState((e==null?void 0:e.name)||""),[o,i]=w.useState((e==null?void 0:e.level)||100);w.useEffect(()=>{e&&(r(e.name),i(e.level))},[e]);const l=()=>{t({name:n,level:o})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(je,{htmlFor:"name",children:"Name"}),u.jsx(at,{placeholder:"Name (e.g., P_MEDIUM)",className:"flex-1",value:n,onChange:c=>r(c.target.value)})]}),u.jsxs("div",{className:"space-y-2 flex-none",children:[u.jsx(je,{htmlFor:"baseColorSet",children:"Level"}),u.jsx(at,{type:"number",placeholder:"Level (e.g., 250)",className:"w-[120px]",value:o||"",onChange:c=>i(Number(c.target.value))})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ge,{onClick:l,className:"w-full",children:"Save Priority"})})]})}function WH({existingFunction:e,onSave:t}){const[n,r]=w.useState(e||{id:it(),name:"",code:""}),[o,i]=w.useState(e?e.code:"fn add(x,y) {x+y}"),l=d=>{i(d)},c=()=>{const d=o.split(" ")[1].split("(")[0].trim(),h={...n,name:d,code:o};r(h),t(h)};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"raw-code",children:"Function Definition"}),u.jsx(wl,{id:"raw-code",ref:d=>{d&&d.focus()},onFocus:d=>d.currentTarget.setSelectionRange(d.currentTarget.value.length,d.currentTarget.value.length),placeholder:"fn add(x,y) {x+y}",className:"font-mono h-[240px]",value:o,onChange:d=>l(d.target.value)})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ge,{onClick:c,className:"w-full",children:"Save Function"})})]})}function qH({existingUse:e,onSave:t}){const[n,r]=w.useState({name:(e==null?void 0:e.name)||"",content:(e==null?void 0:e.content)||""}),[o,i]=w.useState(!1),l=()=>{n.name.trim()&&t(n)},c=p=>{const g=new FileReader;if(g.onload=x=>{var v;const S=(v=x.target)==null?void 0:v.result;r(b=>({...b,content:S}))},g.readAsText(p),!n.name.trim()&&p.name){const x=p.name;r(S=>({...S,name:x}))}},d=p=>{p.preventDefault(),i(!0)},f=()=>{i(!1)},h=p=>{if(p.preventDefault(),i(!1),p.dataTransfer.files&&p.dataTransfer.files.length>0){const g=p.dataTransfer.files[0];c(g)}};return u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"use-name",children:"Name"}),u.jsx(at,{id:"use-name",placeholder:"e.g., Utils.sml",value:n.name,onChange:p=>r({...n,name:p.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx(je,{htmlFor:"use-content",children:"Content"})}),u.jsxs("div",{className:"relative",children:[u.jsx(wl,{id:"use-content",placeholder:"Enter the content of the external file or drag and drop a file here...",className:`font-mono h-[300px] max-w-[550px] transition-colors ${o?"border-primary bg-primary/5":""}`,value:n.content,onChange:p=>r({...n,content:p.target.value}),onDragOver:d,onDragLeave:f,onDrop:h}),o&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-primary/10 border-2 border-dashed border-primary rounded-md pointer-events-none",children:u.jsx("div",{className:"bg-background p-3 rounded-md shadow-md",children:u.jsx("p",{className:"text-sm font-medium",children:"Drop file to import content"})})})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["This content will be included as an external file reference in the CPN model. You can edit it manually or",u.jsx("strong",{children:" drag and drop a file"})," directly onto the text area to import its content."]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ge,{className:"w-full",type:"submit",onClick:l,children:"Save Library"})})]})}var Xf="Collapsible",[YH,Xj]=Rn(Xf),[XH,ey]=YH(Xf),Gj=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:i,onOpenChange:l,...c}=e,[d,f]=Tn({prop:r,defaultProp:o??!1,onChange:l,caller:Xf});return u.jsx(XH,{scope:n,disabled:i,contentId:wr(),open:d,onOpenToggle:w.useCallback(()=>f(h=>!h),[f]),children:u.jsx(He.div,{"data-state":oy(d),"data-disabled":i?"":void 0,...c,ref:t})})});Gj.displayName=Xf;var Kj="CollapsibleTrigger",ty=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,o=ey(Kj,n);return u.jsx(He.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":oy(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:t,onClick:De(e.onClick,o.onOpenToggle)})});ty.displayName=Kj;var ny="CollapsibleContent",ry=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ey(ny,e.__scopeCollapsible);return u.jsx(Mn,{present:n||o.open,children:({present:i})=>u.jsx(GH,{...r,ref:t,present:i})})});ry.displayName=ny;var GH=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:o,...i}=e,l=ey(ny,n),[c,d]=w.useState(r),f=w.useRef(null),h=st(t,f),p=w.useRef(0),g=p.current,x=w.useRef(0),S=x.current,v=l.open||c,b=w.useRef(v),k=w.useRef(void 0);return w.useEffect(()=>{const E=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(E)},[]),wn(()=>{const E=f.current;if(E){k.current=k.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const N=E.getBoundingClientRect();p.current=N.height,x.current=N.width,b.current||(E.style.transitionDuration=k.current.transitionDuration,E.style.animationName=k.current.animationName),d(r)}},[l.open,r]),u.jsx(He.div,{"data-state":oy(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!v,...i,ref:h,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...e.style},children:v&&o})});function oy(e){return e?"open":"closed"}var Qj=Gj,KH=ty,QH=ry;function xa({...e}){return u.jsx(Qj,{"data-slot":"collapsible",...e})}function ya({...e}){return u.jsx(ty,{"data-slot":"collapsible-trigger",...e})}function va({...e}){return u.jsx(ry,{"data-slot":"collapsible-content",...e})}function JH(){const[e,t]=w.useState(!1),[n,r]=w.useState(!1),[o,i]=w.useState(!1),[l,c]=w.useState(!1),[d,f]=w.useState(!1),h=he(re=>re.colorSets),p=he(re=>re.setColorSets),g=he(re=>re.addColorSet),x=he(re=>re.deleteColorSet),S=he(re=>re.renameColorSet),v=he(re=>re.variables),b=he(re=>re.setVariables),k=he(re=>re.addVariable),E=he(re=>re.deleteVariable),N=he(re=>re.priorities),_=he(re=>re.setPriorities),I=he(re=>re.addPriority),P=he(re=>re.deletePriority),T=he(re=>re.functions),O=he(re=>re.setFunctions),U=he(re=>re.addFunction),L=he(re=>re.deleteFunction),B=he(re=>re.uses),Y=he(re=>re.setUses),q=he(re=>re.addUse),A=he(re=>re.deleteUse),[$,F]=w.useState({name:"",colorSet:"INT"}),[G,D]=w.useState({name:"",level:250}),[W,M]=w.useState(void 0),[H,X]=w.useState(!1),[R,V]=w.useState(void 0),[Z,Q]=w.useState(!1),[K,te]=w.useState(void 0),[J,ie]=w.useState(!1),[le,de]=w.useState(void 0),[fe,ye]=w.useState(!1),[Ae,Re]=w.useState(void 0),[nt,rt]=w.useState(!1),[Ze,kt]=w.useState(null),[Ce,tt]=w.useState(null),ht=()=>{$.name&&$.colorSet&&(k({name:$.name,colorSet:$.colorSet}),F({name:"",colorSet:"INT"}))},Nt=()=>{G.name&&G.level&&(I({name:G.name,level:Number(G.level)}),D({name:"",level:100}))},Et=re=>{M(re),X(!0)},ue=re=>{V(re),Q(!0)},me=re=>{te(re),ie(!0)},Ee=re=>{de(re),ye(!0)},We=re=>{if(le){const be=T.map(Oe=>Oe.id===le.id?{...Oe,...re}:Oe);O(be)}else U(re);ye(!1),de(void 0)},Ie=re=>{Re(re),rt(!0)},mt=re=>{if(Ae){const be=B.map(Oe=>Oe.id===Ae.id?{...Oe,...re}:Oe);Y(be)}else q(re);rt(!1),Re(void 0)},jt=re=>{if(W){W.name!==re.name&&W.id&&S(W.id,re.name);const be=h.map(Oe=>Oe.id===W.id?{...Oe,...re}:Oe);p(be)}else g(re);X(!1),M(void 0)},xt=re=>{if(R){const be=v.map(Oe=>Oe.id===R.id?{...Oe,...re}:Oe);b(be)}else k(re);Q(!1),V(void 0)},It=re=>{if(K){const be=N.map(Oe=>Oe.id===K.id?{...Oe,...re}:Oe);_(be)}else I(re);ie(!1),te(void 0)},Mt=(re,be,Oe)=>{kt(be),tt(Oe),re.dataTransfer.effectAllowed="move",re.dataTransfer.setData("text/plain",be.id??"")},ft=(re,be)=>{re.preventDefault(),re.dataTransfer.dropEffect="move",Ze&&Ze.id!==be.id&&re.currentTarget.classList.add("bg-muted")},_t=re=>{re.currentTarget.classList.remove("bg-muted")},pe=(re,be)=>{if(re.preventDefault(),re.currentTarget.classList.remove("bg-muted"),!(!Ze||!Ce)&&Ze.id!==be.id){if(Ce==="colorSet"){const Ye=[...h],Fe=Ye.findIndex(Pe=>Pe.id===Ze.id),Ve=Ye.findIndex(Pe=>Pe.id===be.id);Fe!==-1&&Ve!==-1&&(Ye.splice(Fe,1),Ye.splice(Ve,0,Ze),p(Ye))}else if(Ce==="variable"){const Ye=[...v],Fe=Ye.findIndex(Pe=>Pe.id===Ze.id),Ve=Ye.findIndex(Pe=>Pe.id===be.id);Fe!==-1&&Ve!==-1&&(Ye.splice(Fe,1),Ye.splice(Ve,0,Ze),b(Ye))}else if(Ce==="priority"){const Ye=[...N],Fe=Ye.findIndex(Pe=>Pe.id===Ze.id),Ve=Ye.findIndex(Pe=>Pe.id===be.id);Fe!==-1&&Ve!==-1&&(Ye.splice(Fe,1),Ye.splice(Ve,0,Ze),_(Ye))}else if(Ce==="function"){const Ye=[...T],Fe=Ye.findIndex(Pe=>Pe.id===Ze.id),Ve=Ye.findIndex(Pe=>Pe.id===be.id);Fe!==-1&&Ve!==-1&&(Ye.splice(Fe,1),Ye.splice(Ve,0,Ze),O(Ye))}kt(null),tt(null)}},ke=()=>{kt(null),tt(null)};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"space-y-3",children:u.jsxs(xa,{open:n,onOpenChange:r,children:[u.jsx(ya,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ge,{variant:"ghost",size:"sm",children:[n?u.jsx(ri,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Vi,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Color Sets"})]})}),u.jsxs(va,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:h.map(re=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:be=>Mt(be,re,"colorSet"),onDragOver:be=>ft(be,re),onDragLeave:_t,onDrop:be=>pe(be,re),onDragEnd:ke,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})}),u.jsx("div",{className:"font-mono text-sm",children:re.definition.replace(/^colset\s+/i,"").replace(/;$/,"")}),re.timed&&u.jsx("span",{title:"Timed color set",children:u.jsx(Qg,{className:"h-3.5 w-3.5 text-muted-foreground"})})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:re.color||"#3b82f6"}}),u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>Et(re),children:u.jsx(fa,{className:"h-3 w-3"})}),u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>re.id&&x(re.id),children:u.jsx(lr,{className:"h-3 w-3"})})]})]})},re.id))}),u.jsxs(dn,{open:H,onOpenChange:X,children:[u.jsx(Im,{asChild:!0,children:u.jsx(ge,{className:"w-full",variant:"outline",onClick:()=>{M(void 0),X(!0)},children:"Create New Color Set"})}),u.jsxs(fn,{className:"sm:max-w-[600px]",children:[u.jsx(pn,{children:u.jsx(hn,{children:W?`Edit Color Set: ${W.name}`:"Create New Color Set"})}),u.jsx(VH,{colorSet:W,existingColorSets:h,onSave:jt})]})]})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(xa,{open:o,onOpenChange:i,children:[u.jsx(ya,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ge,{variant:"ghost",size:"sm",children:[o?u.jsx(ri,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Vi,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Variables"})]})}),u.jsxs(va,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:v.map(re=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:be=>Mt(be,re,"variable"),onDragOver:be=>ft(be,re),onDragLeave:_t,onDrop:be=>pe(be,re),onDragEnd:ke,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"font-mono text-sm",children:["var ",re.name,": ",re.colorSet,";"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>ue(re),children:u.jsx(fa,{className:"h-3 w-3"})}),u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>re.id&&E(re.id),children:u.jsx(lr,{className:"h-3 w-3"})})]})]})},re.id))}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(at,{placeholder:"Name (e.g., n)",className:"flex-1",value:$.name,onChange:re=>F({...$,name:re.target.value})})," :",u.jsxs(ln,{value:$.colorSet,onValueChange:re=>F({...$,colorSet:re}),children:[u.jsx(cn,{className:"w-[180px]",children:u.jsx(an,{placeholder:"Color Set"})}),u.jsx(un,{children:h.map(re=>u.jsx(ut,{value:re.name,children:re.name},re.id))})]})]}),u.jsx(ge,{size:"sm",variant:"outline",onClick:ht,children:"Add Variable"}),u.jsx(dn,{open:Z,onOpenChange:Q,children:u.jsxs(fn,{className:"sm:max-w-[600px]",children:[u.jsx(pn,{children:u.jsx(hn,{children:R?`Edit Variable: ${R.name}`:"Create New Variable"})}),u.jsx(HH,{variable:R,existingColorSets:h,onSave:xt})]})})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(xa,{open:l,onOpenChange:c,children:[u.jsx(ya,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ge,{variant:"ghost",size:"sm",children:[l?u.jsx(ri,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Vi,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Functions"})]})}),u.jsxs(va,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:T.map(re=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:be=>Mt(be,re,"function"),onDragOver:be=>ft(be,re),onDragLeave:_t,onDrop:be=>pe(be,re),onDragEnd:ke,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"font-mono text-sm",children:["fn ",re.name]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>Ee(re),children:u.jsx(fa,{className:"h-3 w-3"})}),u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>re.id&&L(re.id),children:u.jsx(lr,{className:"h-3 w-3"})})]})]})},re.id))}),u.jsxs(dn,{open:fe,onOpenChange:ye,children:[u.jsx(Im,{asChild:!0,children:u.jsx(ge,{className:"w-full",variant:"outline",onClick:()=>de(void 0),children:"Create New Function"})}),u.jsxs(fn,{className:"sm:max-w-[600px]",children:[u.jsx(pn,{children:u.jsx(hn,{children:le?`Edit Function: ${le.name}`:"Create New Function"})}),u.jsx(WH,{existingFunction:le,onSave:We})]})]})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(xa,{open:d,onOpenChange:f,children:[u.jsx(ya,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ge,{variant:"ghost",size:"sm",children:[d?u.jsx(ri,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Vi,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Libraries"})]})}),u.jsxs(va,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:B.map(re=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:be=>Mt(be,re,"use"),onDragOver:be=>ft(be,re),onDragLeave:_t,onDrop:be=>pe(be,re),onDragEnd:ke,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"font-mono text-sm",children:['use "',re.name,'";']})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>Ie(re),children:u.jsx(fa,{className:"h-3 w-3"})}),u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>re.id&&A(re.id),children:u.jsx(lr,{className:"h-3 w-3"})})]})]})},re.id))}),u.jsxs(dn,{open:nt,onOpenChange:rt,children:[u.jsx(Im,{asChild:!0,children:u.jsx(ge,{className:"w-full",variant:"outline",onClick:()=>Re(void 0),children:"Add External Library"})}),u.jsxs(fn,{className:"sm:max-w-[600px]",children:[u.jsx(pn,{children:u.jsx(hn,{children:Ae?"Edit External Library":"Add External Library"})}),u.jsx(qH,{existingUse:Ae,onSave:mt})]})]})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(xa,{open:e,onOpenChange:t,children:[u.jsx(ya,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ge,{variant:"ghost",size:"sm",children:[e?u.jsx(ri,{className:"h-4 w-4",strokeWidth:4}):u.jsx(Vi,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Priorities"})]})}),u.jsxs(va,{className:"space-y-3 mb-8",children:[u.jsx("div",{className:"space-y-2",children:N.slice().sort((re,be)=>re.level-be.level).map(re=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{className:"font-mono text-sm",children:[re.name," = ",re.level]})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>me(re),children:u.jsx(fa,{className:"h-3 w-3"})}),u.jsx(ge,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>re.id&&P(re.id),children:u.jsx(lr,{className:"h-3 w-3"})})]})]})},re.id))}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(at,{placeholder:"Name (e.g., P_MEDIUM)",className:"flex-1",value:G.name,onChange:re=>D({...G,name:re.target.value})}),u.jsx(at,{type:"number",placeholder:"Level (e.g., 250)",className:"w-[120px]",value:G.level||"",onChange:re=>D({...G,level:Number.parseInt(re.target.value)||0})})]}),u.jsx(ge,{size:"sm",variant:"outline",onClick:Nt,children:"Add Priority"}),u.jsx(dn,{open:J,onOpenChange:ie,children:u.jsxs(fn,{className:"sm:max-w-[600px]",children:[u.jsx(pn,{children:u.jsx(hn,{children:K?`Edit Priority: ${K.name}`:"Create New Priority"})}),u.jsx(UH,{priority:K,onSave:It})]})})]})]})})]})}const ZH=()=>{var o;const e=he(i=>{const l=i.activePetriNetId?i.petriNetsById[i.activePetriNetId]:null;return l==null?void 0:l.selectedElement}),t=he(i=>i.colorSets),n=he(i=>i.priorities),r=()=>{if(!e)return u.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Select an element to edit its properties"});if(e.type==="node"){const i=e.element.type;if(i==="place")return u.jsx(TV,{colorSets:t});if(i==="transition")return u.jsx(OV,{priorities:n});if(i==="auxText")return u.jsx(LV,{})}else if(e.type==="edge")return u.jsx(zV,{});return null};return u.jsxs(La,{defaultSize:20,className:"min-w-[400px] flex flex-col h-full overflow-hidden",children:[u.jsx("div",{className:"px-4 py-2 flex-shrink-0",children:u.jsx("h3",{className:"text-lg font-medium",children:"OCPN Tools"})}),u.jsx("div",{className:"px-4 py-2 flex-1 flex flex-col overflow-hidden",children:u.jsxs(mi,{defaultValue:"model",className:"flex flex-col flex-1 overflow-hidden",children:[u.jsxs(gi,{className:"grid w-full grid-cols-2 flex-shrink-0",children:[u.jsx(Fn,{value:"model",children:"Model"}),u.jsx(Fn,{value:"simulation",children:"Simulation"})]}),u.jsx(Ud,{value:"model",className:"space-y-4 mt-2 flex-1 overflow-auto",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"space-y-2",children:u.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("span",{className:"text-sm font-semibold leading-none tracking-tight",children:e?e.type==="node"?e.element.type==="place"?"Place Properties":e.element.type==="auxText"?"Text Properties":"Transition Properties":"Arc Properties":"Element Properties"}),e&&u.jsx($V,{elementType:e.type==="node"?"node":"edge",elementId:e.element.id,elementLabel:(o=e.element.data)==null?void 0:o.label})]}),u.jsx("div",{children:r()})]})}),u.jsx(kc,{orientation:"horizontal",className:"mt-2"}),u.jsx("div",{className:"p-4",children:u.jsx(JH,{})})]})}),u.jsx(Ud,{value:"simulation",className:"mt-2 flex-1 overflow-hidden",children:u.jsx(bH,{})})]})})]})},e8="modulepreload",t8=function(e){return"/ocpn-tools/"+e},C1={},N1=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=l(n.map(f=>{if(f=t8(f),f in C1)return;C1[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":e8,h||(g.as="script"),g.crossOrigin="",g.href=f,d&&g.setAttribute("nonce",d),document.head.appendChild(g),h)return new Promise((x,S)=>{g.addEventListener("load",x),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};function n8(e){const t=he(l=>l.setNodes),n=he(l=>l.setEdges),r=w.useCallback(l=>{var f;const c=((f=he.getState().petriNetsById[e])==null?void 0:f.nodes)||[],d=LC(l,c);t(e,d)},[e,t]),o=w.useCallback(l=>{var f;const c=((f=he.getState().petriNetsById[e])==null?void 0:f.edges)||[],d=zC(l,c);n(e,d)},[e,n]),i=w.useCallback(l=>{var p;const c=he.getState(),d=c.activeArcType,f={...l,id:it(),type:"floating",label:"",animated:!1,data:d!=="normal"?{arcType:d}:void 0},h=((p=c.petriNetsById[e])==null?void 0:p.edges)||[];n(e,[...h,f])},[e,n]);return{onNodesChange:r,onEdgesChange:o,onConnect:i}}const E1=e=>Symbol.iterator in e,j1=e=>"entries"in e,_1=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[o,i]of n)if(!r.has(o)||!Object.is(i,r.get(o)))return!1;return!0},r8=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let o=n.next(),i=r.next();for(;!o.done&&!i.done;){if(!Object.is(o.value,i.value))return!1;o=n.next(),i=r.next()}return!!o.done&&!!i.done};function o8(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:E1(e)&&E1(t)?j1(e)&&j1(t)?_1(e,t):r8(e,t):_1({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function i8(e){const t=qe.useRef(void 0);return n=>{const r=e(n);return o8(t.current,r)?t.current:t.current=r}}var Jj="Toggle",iy=w.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:o,...i}=e,[l,c]=Tn({prop:n,onChange:o,defaultProp:r??!1,caller:Jj});return u.jsx(He.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:De(e.onClick,()=>{e.disabled||c(!l)})})});iy.displayName=Jj;var Zj=iy;const e_=Ff("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ta=w.forwardRef(({className:e,variant:t,size:n,...r},o)=>u.jsx(Zj,{ref:o,"data-slot":"toggle",className:Xe(e_({variant:t,size:n,className:e})),...r}));Ta.displayName=Zj.displayName;var s8=Symbol("radix.slottable");function l8(e){const t=({children:n})=>u.jsx(u.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=s8,t}var a8=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),c8="VisuallyHidden",t_=w.forwardRef((e,t)=>u.jsx(He.span,{...e,ref:t,style:{...a8,...e.style}}));t_.displayName=c8;var u8=t_,[Gf,BK]=Rn("Tooltip",[kl]),Kf=kl(),n_="TooltipProvider",d8=700,Tg="tooltip.open",[f8,sy]=Gf(n_),r_=e=>{const{__scopeTooltip:t,delayDuration:n=d8,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=e,l=w.useRef(!0),c=w.useRef(!1),d=w.useRef(0);return w.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),u.jsx(f8,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:w.useCallback(f=>{c.current=f},[]),disableHoverableContent:o,children:i})};r_.displayName=n_;var dc="Tooltip",[p8,Pc]=Gf(dc),o_=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o,onOpenChange:i,disableHoverableContent:l,delayDuration:c}=e,d=sy(dc,e.__scopeTooltip),f=Kf(t),[h,p]=w.useState(null),g=wr(),x=w.useRef(0),S=l??d.disableHoverableContent,v=c??d.delayDuration,b=w.useRef(!1),[k,E]=Tn({prop:r,defaultProp:o??!1,onChange:T=>{T?(d.onOpen(),document.dispatchEvent(new CustomEvent(Tg))):d.onClose(),i==null||i(T)},caller:dc}),N=w.useMemo(()=>k?b.current?"delayed-open":"instant-open":"closed",[k]),_=w.useCallback(()=>{window.clearTimeout(x.current),x.current=0,b.current=!1,E(!0)},[E]),I=w.useCallback(()=>{window.clearTimeout(x.current),x.current=0,E(!1)},[E]),P=w.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{b.current=!0,E(!0),x.current=0},v)},[v,E]);return w.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),u.jsx(Lx,{...f,children:u.jsx(p8,{scope:t,contentId:g,open:k,stateAttribute:N,trigger:h,onTriggerChange:p,onTriggerEnter:w.useCallback(()=>{d.isOpenDelayedRef.current?P():_()},[d.isOpenDelayedRef,P,_]),onTriggerLeave:w.useCallback(()=>{S?I():(window.clearTimeout(x.current),x.current=0)},[I,S]),onOpen:_,onClose:I,disableHoverableContent:S,children:n})})};o_.displayName=dc;var Rg="TooltipTrigger",i_=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Pc(Rg,n),i=sy(Rg,n),l=Kf(n),c=w.useRef(null),d=st(t,c,o.onTriggerChange),f=w.useRef(!1),h=w.useRef(!1),p=w.useCallback(()=>f.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),u.jsx(Rf,{asChild:!0,...l,children:u.jsx(He.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:d,onPointerMove:De(e.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),h.current=!0)}),onPointerLeave:De(e.onPointerLeave,()=>{o.onTriggerLeave(),h.current=!1}),onPointerDown:De(e.onPointerDown,()=>{o.open&&o.onClose(),f.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:De(e.onFocus,()=>{f.current||o.onOpen()}),onBlur:De(e.onBlur,o.onClose),onClick:De(e.onClick,o.onClose)})})});i_.displayName=Rg;var ly="TooltipPortal",[h8,m8]=Gf(ly,{forceMount:void 0}),s_=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:o}=e,i=Pc(ly,t);return u.jsx(h8,{scope:t,forceMount:n,children:u.jsx(Mn,{present:n||i.open,children:u.jsx(jc,{asChild:!0,container:o,children:r})})})};s_.displayName=ly;var fl="TooltipContent",l_=w.forwardRef((e,t)=>{const n=m8(fl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=e,l=Pc(fl,e.__scopeTooltip);return u.jsx(Mn,{present:r||l.open,children:l.disableHoverableContent?u.jsx(a_,{side:o,...i,ref:t}):u.jsx(g8,{side:o,...i,ref:t})})}),g8=w.forwardRef((e,t)=>{const n=Pc(fl,e.__scopeTooltip),r=sy(fl,e.__scopeTooltip),o=w.useRef(null),i=st(t,o),[l,c]=w.useState(null),{trigger:d,onClose:f}=n,h=o.current,{onPointerInTransitChange:p}=r,g=w.useCallback(()=>{c(null),p(!1)},[p]),x=w.useCallback((S,v)=>{const b=S.currentTarget,k={x:S.clientX,y:S.clientY},E=w8(k,b.getBoundingClientRect()),N=b8(k,E),_=S8(v.getBoundingClientRect()),I=C8([...N,..._]);c(I),p(!0)},[p]);return w.useEffect(()=>()=>g(),[g]),w.useEffect(()=>{if(d&&h){const S=b=>x(b,h),v=b=>x(b,d);return d.addEventListener("pointerleave",S),h.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",S),h.removeEventListener("pointerleave",v)}}},[d,h,x,g]),w.useEffect(()=>{if(l){const S=v=>{const b=v.target,k={x:v.clientX,y:v.clientY},E=(d==null?void 0:d.contains(b))||(h==null?void 0:h.contains(b)),N=!k8(k,l);E?g():N&&(g(),f())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[d,h,l,f,g]),u.jsx(a_,{...e,ref:i})}),[x8,y8]=Gf(dc,{isInside:!1}),v8=l8("TooltipContent"),a_=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:l,...c}=e,d=Pc(fl,n),f=Kf(n),{onClose:h}=d;return w.useEffect(()=>(document.addEventListener(Tg,h),()=>document.removeEventListener(Tg,h)),[h]),w.useEffect(()=>{if(d.trigger){const p=g=>{const x=g.target;x!=null&&x.contains(d.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,h]),u.jsx(Nc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:u.jsxs(zx,{"data-state":d.stateAttribute,...f,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(v8,{children:r}),u.jsx(x8,{scope:n,isInside:!0,children:u.jsx(u8,{id:d.contentId,role:"tooltip",children:o||r})})]})})});l_.displayName=fl;var c_="TooltipArrow",u_=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Kf(n);return y8(c_,n).isInside?null:u.jsx($x,{...o,...r,ref:t})});u_.displayName=c_;function w8(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function b8(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function S8(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function k8(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const c=t[i],d=t[l],f=c.x,h=c.y,p=d.x,g=d.y;h>r!=g>r&&n<(p-f)*(r-h)/(g-h)+f&&(o=!o)}return o}function C8(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),N8(t)}function N8(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(o.y-l.y)>=(i.y-l.y)*(o.x-l.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const i=n[n.length-1],l=n[n.length-2];if((i.x-l.x)*(o.y-l.y)>=(i.y-l.y)*(o.x-l.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var E8=r_,j8=o_,_8=i_,P8=s_,A8=l_,I8=u_;function vn({delayDuration:e=0,...t}){return u.jsx(E8,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Qt({...e}){return u.jsx(vn,{children:u.jsx(j8,{"data-slot":"tooltip",...e})})}function Jt({...e}){return u.jsx(_8,{"data-slot":"tooltip-trigger",...e})}function Zt({className:e,sideOffset:t=0,children:n,...r}){return u.jsx(P8,{children:u.jsxs(A8,{"data-slot":"tooltip-content",sideOffset:t,className:Xe("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,u.jsx(I8,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function T8(e){const t=R8(e),n=w.forwardRef((r,o)=>{const{children:i,...l}=r,c=w.Children.toArray(i),d=c.find(D8);if(d){const f=d.props.children,h=c.map(p=>p===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:w.isValidElement(f)?w.cloneElement(f,void 0,h):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function R8(e){const t=w.forwardRef((n,r)=>{const{children:o,...i}=n;if(w.isValidElement(o)){const l=L8(o),c=O8(i,o.props);return o.type!==w.Fragment&&(c.ref=r?ss(r,l):l),w.cloneElement(o,c)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var M8=Symbol("radix.slottable");function D8(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===M8}function O8(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function L8(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Qf="Popover",[d_,VK]=Rn(Qf,[kl]),Ac=kl(),[z8,vi]=d_(Qf),f_=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:l=!1}=e,c=Ac(t),d=w.useRef(null),[f,h]=w.useState(!1),[p,g]=Tn({prop:r,defaultProp:o??!1,onChange:i,caller:Qf});return u.jsx(Lx,{...c,children:u.jsx(z8,{scope:t,contentId:wr(),triggerRef:d,open:p,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(x=>!x),[g]),hasCustomAnchor:f,onCustomAnchorAdd:w.useCallback(()=>h(!0),[]),onCustomAnchorRemove:w.useCallback(()=>h(!1),[]),modal:l,children:n})})};f_.displayName=Qf;var p_="PopoverAnchor",$8=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=vi(p_,n),i=Ac(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=o;return w.useEffect(()=>(l(),()=>c()),[l,c]),u.jsx(Rf,{...i,...r,ref:t})});$8.displayName=p_;var h_="PopoverTrigger",m_=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=vi(h_,n),i=Ac(n),l=st(t,o.triggerRef),c=u.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":w_(o.open),...r,ref:l,onClick:De(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?c:u.jsx(Rf,{asChild:!0,...i,children:c})});m_.displayName=h_;var ay="PopoverPortal",[F8,B8]=d_(ay,{forceMount:void 0}),g_=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,i=vi(ay,t);return u.jsx(F8,{scope:t,forceMount:n,children:u.jsx(Mn,{present:n||i.open,children:u.jsx(jc,{asChild:!0,container:o,children:r})})})};g_.displayName=ay;var pl="PopoverContent",x_=w.forwardRef((e,t)=>{const n=B8(pl,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,i=vi(pl,e.__scopePopover);return u.jsx(Mn,{present:r||i.open,children:i.modal?u.jsx(H8,{...o,ref:t}):u.jsx(U8,{...o,ref:t})})});x_.displayName=pl;var V8=T8("PopoverContent.RemoveScroll"),H8=w.forwardRef((e,t)=>{const n=vi(pl,e.__scopePopover),r=w.useRef(null),o=st(t,r),i=w.useRef(!1);return w.useEffect(()=>{const l=r.current;if(l)return Fx(l)},[]),u.jsx(Of,{as:V8,allowPinchZoom:!0,children:u.jsx(y_,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),i.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:De(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:De(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),U8=w.forwardRef((e,t)=>{const n=vi(pl,e.__scopePopover),r=w.useRef(!1),o=w.useRef(!1);return u.jsx(y_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),y_=w.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,...p}=e,g=vi(pl,n),x=Ac(n);return _x(),u.jsx(jf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:u.jsx(Nc,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:h,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:u.jsx(zx,{"data-state":w_(g.open),role:"dialog",id:g.contentId,...x,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),v_="PopoverClose",W8=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=vi(v_,n);return u.jsx(He.button,{type:"button",...r,ref:t,onClick:De(e.onClick,()=>o.onOpenChange(!1))})});W8.displayName=v_;var q8="PopoverArrow",Y8=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Ac(n);return u.jsx($x,{...o,...r,ref:t})});Y8.displayName=q8;function w_(e){return e?"open":"closed"}var X8=f_,G8=m_,K8=g_,Q8=x_;function J8({...e}){return u.jsx(X8,{"data-slot":"popover",...e})}function Z8({...e}){return u.jsx(G8,{"data-slot":"popover-trigger",...e})}function e9({className:e,align:t="center",sideOffset:n=4,...r}){return u.jsx(K8,{children:u.jsx(Q8,{"data-slot":"popover-content",align:t,sideOffset:n,className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}var b_=["PageUp","PageDown"],S_=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],k_={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Nl="Slider",[Mg,t9,n9]=Nf(Nl),[C_,HK]=Rn(Nl,[n9]),[r9,Jf]=C_(Nl),N_=w.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:i=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[r],value:h,onValueChange:p=()=>{},onValueCommit:g=()=>{},inverted:x=!1,form:S,...v}=e,b=w.useRef(new Set),k=w.useRef(0),N=l==="horizontal"?o9:i9,[_=[],I]=Tn({prop:h,defaultProp:f,onChange:B=>{var q;(q=[...b.current][k.current])==null||q.focus(),p(B)}}),P=w.useRef(_);function T(B){const Y=u9(_,B);L(B,Y)}function O(B){L(B,k.current)}function U(){const B=P.current[k.current];_[k.current]!==B&&g(_)}function L(B,Y,{commit:q}={commit:!1}){const A=h9(i),$=m9(Math.round((B-r)/i)*i+r,A),F=lc($,[r,o]);I((G=[])=>{const D=a9(G,F,Y);if(p9(D,d*i)){k.current=D.indexOf(F);const W=String(D)!==String(G);return W&&q&&g(D),W?D:G}else return G})}return u.jsx(r9,{scope:e.__scopeSlider,name:n,disabled:c,min:r,max:o,valueIndexToChangeRef:k,thumbs:b.current,values:_,orientation:l,form:S,children:u.jsx(Mg.Provider,{scope:e.__scopeSlider,children:u.jsx(Mg.Slot,{scope:e.__scopeSlider,children:u.jsx(N,{"aria-disabled":c,"data-disabled":c?"":void 0,...v,ref:t,onPointerDown:De(v.onPointerDown,()=>{c||(P.current=_)}),min:r,max:o,inverted:x,onSlideStart:c?void 0:T,onSlideMove:c?void 0:O,onSlideEnd:c?void 0:U,onHomeKeyDown:()=>!c&&L(r,0,{commit:!0}),onEndKeyDown:()=>!c&&L(o,_.length-1,{commit:!0}),onStepKeyDown:({event:B,direction:Y})=>{if(!c){const $=b_.includes(B.key)||B.shiftKey&&S_.includes(B.key)?10:1,F=k.current,G=_[F],D=i*$*Y;L(G+D,F,{commit:!0})}}})})})})});N_.displayName=Nl;var[E_,j_]=C_(Nl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),o9=w.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:i,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:f,...h}=e,[p,g]=w.useState(null),x=st(t,N=>g(N)),S=w.useRef(void 0),v=hi(o),b=v==="ltr",k=b&&!i||!b&&i;function E(N){const _=S.current||p.getBoundingClientRect(),I=[0,_.width],T=cy(I,k?[n,r]:[r,n]);return S.current=_,T(N-_.left)}return u.jsx(E_,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:u.jsx(__,{dir:v,"data-orientation":"horizontal",...h,ref:x,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const _=E(N.clientX);l==null||l(_)},onSlideMove:N=>{const _=E(N.clientX);c==null||c(_)},onSlideEnd:()=>{S.current=void 0,d==null||d()},onStepKeyDown:N=>{const I=k_[k?"from-left":"from-right"].includes(N.key);f==null||f({event:N,direction:I?-1:1})}})})}),i9=w.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=e,h=w.useRef(null),p=st(t,h),g=w.useRef(void 0),x=!o;function S(v){const b=g.current||h.current.getBoundingClientRect(),k=[0,b.height],N=cy(k,x?[r,n]:[n,r]);return g.current=b,N(v-b.top)}return u.jsx(E_,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:u.jsx(__,{"data-orientation":"vertical",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const b=S(v.clientY);i==null||i(b)},onSlideMove:v=>{const b=S(v.clientY);l==null||l(b)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:v=>{const k=k_[x?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:k?-1:1})}})})}),__=w.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:d,...f}=e,h=Jf(Nl,n);return u.jsx(He.span,{...f,ref:t,onKeyDown:De(e.onKeyDown,p=>{p.key==="Home"?(l(p),p.preventDefault()):p.key==="End"?(c(p),p.preventDefault()):b_.concat(S_).includes(p.key)&&(d(p),p.preventDefault())}),onPointerDown:De(e.onPointerDown,p=>{const g=p.target;g.setPointerCapture(p.pointerId),p.preventDefault(),h.thumbs.has(g)?g.focus():r(p)}),onPointerMove:De(e.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&o(p)}),onPointerUp:De(e.onPointerUp,p=>{const g=p.target;g.hasPointerCapture(p.pointerId)&&(g.releasePointerCapture(p.pointerId),i(p))})})}),P_="SliderTrack",A_=w.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Jf(P_,n);return u.jsx(He.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});A_.displayName=P_;var Dg="SliderRange",I_=w.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Jf(Dg,n),i=j_(Dg,n),l=w.useRef(null),c=st(t,l),d=o.values.length,f=o.values.map(g=>M_(g,o.min,o.max)),h=d>1?Math.min(...f):0,p=100-Math.max(...f);return u.jsx(He.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:c,style:{...e.style,[i.startEdge]:h+"%",[i.endEdge]:p+"%"}})});I_.displayName=Dg;var Og="SliderThumb",T_=w.forwardRef((e,t)=>{const n=t9(e.__scopeSlider),[r,o]=w.useState(null),i=st(t,c=>o(c)),l=w.useMemo(()=>r?n().findIndex(c=>c.ref.current===r):-1,[n,r]);return u.jsx(s9,{...e,ref:i,index:l})}),s9=w.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...i}=e,l=Jf(Og,n),c=j_(Og,n),[d,f]=w.useState(null),h=st(t,E=>f(E)),p=d?l.form||!!d.closest("form"):!0,g=Tf(d),x=l.values[r],S=x===void 0?0:M_(x,l.min,l.max),v=c9(r,l.values.length),b=g==null?void 0:g[c.size],k=b?d9(b,S,c.direction):0;return w.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${S}% + ${k}px)`},children:[u.jsx(Mg.ItemSlot,{scope:e.__scopeSlider,children:u.jsx(He.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":l.min,"aria-valuenow":x,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...i,ref:h,style:x===void 0?{display:"none"}:e.style,onFocus:De(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),p&&u.jsx(R_,{name:o??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:x},r)]})});T_.displayName=Og;var l9="RadioBubbleInput",R_=w.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const o=w.useRef(null),i=st(o,r),l=Mf(t);return w.useEffect(()=>{const c=o.current;if(!c)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&h){const p=new Event("input",{bubbles:!0});h.call(c,t),c.dispatchEvent(p)}},[l,t]),u.jsx(He.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});R_.displayName=l9;function a9(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,i)=>o-i)}function M_(e,t,n){const i=100/(n-t)*(e-t);return lc(i,[0,100])}function c9(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function u9(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function d9(e,t,n){const r=e/2,i=cy([0,50],[0,r]);return(r-i(t)*n)*n}function f9(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function p9(e,t){if(t>0){const n=f9(e);return Math.min(...n)>=t}return!0}function cy(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function h9(e){return(String(e).split(".")[1]||"").length}function m9(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var g9=N_,x9=A_,y9=I_,v9=T_;function cd({className:e,defaultValue:t,value:n,min:r=0,max:o=100,...i}){const l=w.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,o],[n,t,r,o]);return u.jsxs(g9,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:o,className:Xe("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...i,children:[u.jsx(x9,{"data-slot":"slider-track",className:Xe("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:u.jsx(y9,{"data-slot":"slider-range",className:Xe("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(c,d)=>u.jsx(v9,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},d))]})}var wi="ToggleGroup",[D_,UK]=Rn(wi,[vl]),O_=vl(),uy=qe.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return u.jsx(w9,{...o,ref:t})}if(n==="multiple"){const o=r;return u.jsx(b9,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${wi}\``)});uy.displayName=wi;var[L_,z_]=D_(wi),w9=qe.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[l,c]=Tn({prop:n,defaultProp:r??"",onChange:o,caller:wi});return u.jsx(L_,{scope:e.__scopeToggleGroup,type:"single",value:qe.useMemo(()=>l?[l]:[],[l]),onItemActivate:c,onItemDeactivate:qe.useCallback(()=>c(""),[c]),children:u.jsx($_,{...i,ref:t})})}),b9=qe.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[l,c]=Tn({prop:n,defaultProp:r??[],onChange:o,caller:wi}),d=qe.useCallback(h=>c((p=[])=>[...p,h]),[c]),f=qe.useCallback(h=>c((p=[])=>p.filter(g=>g!==h)),[c]);return u.jsx(L_,{scope:e.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:d,onItemDeactivate:f,children:u.jsx($_,{...i,ref:t})})});uy.displayName=wi;var[S9,k9]=D_(wi),$_=qe.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:i,dir:l,loop:c=!0,...d}=e,f=O_(n),h=hi(l),p={role:"group",dir:h,...d};return u.jsx(S9,{scope:n,rovingFocus:o,disabled:r,children:o?u.jsx(Cx,{asChild:!0,...f,orientation:i,dir:h,loop:c,children:u.jsx(He.div,{...p,ref:t})}):u.jsx(He.div,{...p,ref:t})})}),ef="ToggleGroupItem",F_=qe.forwardRef((e,t)=>{const n=z_(ef,e.__scopeToggleGroup),r=k9(ef,e.__scopeToggleGroup),o=O_(e.__scopeToggleGroup),i=n.value.includes(e.value),l=r.disabled||e.disabled,c={...e,pressed:i,disabled:l},d=qe.useRef(null);return r.rovingFocus?u.jsx(Nx,{asChild:!0,...o,focusable:!l,active:i,ref:d,children:u.jsx(P1,{...c,ref:t})}):u.jsx(P1,{...c,ref:t})});F_.displayName=ef;var P1=qe.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,i=z_(ef,n),l={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},c=i.type==="single"?l:void 0;return u.jsx(iy,{...c,...o,ref:t,onPressedChange:d=>{d?i.onItemActivate(r):i.onItemDeactivate(r)}})}),C9=uy,N9=F_;const B_=w.createContext({size:"default",variant:"default"});function E9({className:e,variant:t,size:n,children:r,...o}){return u.jsx(C9,{"data-slot":"toggle-group","data-variant":t,"data-size":n,className:Xe("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",e),...o,children:u.jsx(B_.Provider,{value:{variant:t,size:n},children:r})})}function A1({className:e,children:t,variant:n,size:r,...o}){const i=w.useContext(B_);return u.jsx(N9,{"data-slot":"toggle-group-item","data-variant":i.variant||n,"data-size":i.size||r,className:Xe(e_({variant:i.variant||n,size:i.size||r}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",e),...o,children:t})}function j9({onApplyLayout:e}){const[t,n]=w.useState({algorithm:"dagre",direction:"TB",nodeSeparation:50,rankSeparation:100}),[r,o]=w.useState(!1),i=()=>{e(t),o(!1)};return u.jsxs(J8,{open:r,onOpenChange:o,children:[u.jsx(vn,{children:u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsx(Z8,{asChild:!0,children:u.jsxs(ge,{variant:"ghost",size:"icon",children:[u.jsx(QI,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Layout"})]})})})}),u.jsx(Zt,{children:u.jsx("p",{children:"Layout Options"})})]})}),u.jsx(e9,{className:"w-80",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium",children:"Layout Options"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"algorithm",children:"Algorithm"}),u.jsxs(ln,{value:t.algorithm,onValueChange:l=>n({...t,algorithm:l}),children:[u.jsx(cn,{id:"algorithm",children:u.jsx(an,{placeholder:"Select algorithm"})}),u.jsxs(un,{children:[u.jsx(ut,{value:"dagre",children:"Dagre"}),u.jsx(ut,{value:"elk",children:"ELK"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{children:"Direction"}),u.jsxs(E9,{type:"single",value:t.direction,onValueChange:l=>{l&&n({...t,direction:l})},className:"justify-start",children:[u.jsx(A1,{value:"TB","aria-label":"Vertical Layout",title:"Vertical Layout",children:u.jsx(iI,{className:"h-4 w-4"})}),u.jsx(A1,{value:"LR","aria-label":"Horizontal Layout",title:"Horizontal Layout",children:u.jsx(Km,{className:"h-4 w-4"})})]})]}),u.jsx(kc,{}),t.algorithm==="dagre"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(je,{htmlFor:"nodeSeparation",children:"Node Separation"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.nodeSeparation,"px"]})]}),u.jsx(cd,{id:"nodeSeparation",min:20,max:200,step:5,value:[t.nodeSeparation],onValueChange:l=>n({...t,nodeSeparation:l[0]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(je,{htmlFor:"rankSeparation",children:"Rank Separation"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.rankSeparation,"px"]})]}),u.jsx(cd,{id:"rankSeparation",min:20,max:300,step:10,value:[t.rankSeparation],onValueChange:l=>n({...t,rankSeparation:l[0]})})]})]}),t.algorithm==="elk"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(je,{htmlFor:"nodeNodeSpacing",children:"Node-Node Spacing"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.nodeSeparation,"px"]})]}),u.jsx(cd,{id:"nodeNodeSpacing",min:10,max:100,step:5,value:[t.nodeSeparation],onValueChange:l=>n({...t,nodeSeparation:l[0]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(je,{htmlFor:"layerSpacing",children:"Layer Spacing"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.rankSeparation,"px"]})]}),u.jsx(cd,{id:"layerSpacing",min:20,max:200,step:10,value:[t.rankSeparation],onValueChange:l=>n({...t,rankSeparation:l[0]})})]})]}),u.jsx(ge,{className:"w-full",onClick:i,children:"Apply Layout"})]})})]})}const V_=w.createContext([null,()=>{}]),_9=({children:e})=>{const[t,n]=w.useState(null);return u.jsx(V_.Provider,{value:[t,n],children:e})},H_=()=>w.useContext(V_);function P9({toggleArcMode:e,onApplyLayout:t}){const[,n]=H_(),r=he(h=>h.showMarkingDisplay),o=he(h=>h.setShowMarkingDisplay),i=he(h=>h.activeArcType),l=he(h=>h.isArcMode),c=h=>{l&&i===h?e(!1):e(!0,h)},d=({type:h,className:p})=>h==="inhibitor"?u.jsxs("svg",{viewBox:"0 0 24 24",className:p,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[u.jsx("line",{x1:"3",y1:"12",x2:"16",y2:"12"}),u.jsx("circle",{cx:"19",cy:"12",r:"3",fill:"none"})]}):h==="reset"?u.jsxs("svg",{viewBox:"0 0 24 24",className:p,fill:"currentColor",stroke:"none",children:[u.jsx("polygon",{points:"12,6 20,12 12,18"}),u.jsx("polygon",{points:"6,6 14,12 6,18"})]}):u.jsx(Km,{className:p}),f=(h,p)=>{n&&n(p),h.dataTransfer.effectAllowed="move"};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"flex items-center gap-2 bg-background border rounded-lg p-2 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(vn,{children:u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsx(ge,{variant:"ghost",size:"icon",title:"Place",className:"cursor-grab",children:u.jsxs("div",{draggable:!0,onDragStart:h=>f(h,"place"),children:[u.jsx(BS,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Drag a Place from Here"})]})})})}),u.jsx(Zt,{children:u.jsx("p",{children:"Drag a Place from Here"})})]})}),u.jsx(vn,{children:u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsx(ge,{variant:"ghost",size:"icon",title:"Transition",className:"cursor-grab",children:u.jsxs("div",{draggable:!0,onDragStart:h=>f(h,"transition"),children:[u.jsx(WS,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Drag a Transition from Here"})]})})})}),u.jsx(Zt,{children:u.jsx("p",{children:"Drag a Transition from Here"})})]})}),u.jsx(vn,{children:u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsxs(Ta,{"aria-label":"Toggle Arc Mode",pressed:l&&i==="normal",onPressedChange:()=>c("normal"),children:[u.jsx(Km,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Toggle Arc Mode"})]})}),u.jsx(Zt,{children:u.jsx("p",{children:"Arc"})})]})}),u.jsx(vn,{children:u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsxs(Ta,{"aria-label":"Toggle Inhibitor Arc Mode",pressed:l&&i==="inhibitor",onPressedChange:()=>c("inhibitor"),children:[u.jsx(d,{type:"inhibitor",className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Toggle Inhibitor Arc Mode"})]})}),u.jsx(Zt,{children:u.jsx("p",{children:"Inhibitor Arc"})})]})}),u.jsx(vn,{children:u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsxs(Ta,{"aria-label":"Toggle Reset Arc Mode",pressed:l&&i==="reset",onPressedChange:()=>c("reset"),children:[u.jsx(d,{type:"reset",className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Toggle Reset Arc Mode"})]})}),u.jsx(Zt,{children:u.jsx("p",{children:"Reset Arc"})})]})}),u.jsx(vn,{children:u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsx(ge,{variant:"ghost",size:"icon",title:"Annotation",className:"cursor-grab",children:u.jsxs("div",{draggable:!0,onDragStart:h=>f(h,"auxText"),children:[u.jsx(WI,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Drag a Text Annotation from Here"})]})})})}),u.jsx(Zt,{children:u.jsx("p",{children:"Drag a Text Annotation from Here"})})]})})]}),u.jsx("div",{className:"flex items-center gap-2 h-6",children:u.jsx(kc,{orientation:"vertical",className:"mx-1 h-6"})}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(vn,{children:u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsxs(Ta,{"aria-label":"Toggle Marking Display",pressed:r,onPressedChange:o,children:[u.jsx(wT,{className:"h-4 w-4 text-green-600"}),u.jsx("span",{className:"sr-only",children:"Toggle Marking Display"})]})})}),u.jsx(Zt,{children:u.jsx("p",{children:"Toggle Marking Display"})})]})}),u.jsx(j9,{onApplyLayout:t})]})]})})}function A9({slices:e,position:t,isOpen:n,onClose:r,onSliceClick:o,size:i=240}){const[l,c]=w.useState(null),d=w.useRef(null);return w.useEffect(()=>{const f=h=>{d.current&&!d.current.contains(h.target)&&n&&r()};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[n,r]),n?u.jsx("div",{className:"fixed z-50",style:{left:`${t.x}px`,top:`${t.y}px`,transform:"translate(-50%, -50%)"},ref:d,children:u.jsx("div",{className:"rounded-full bg-sky-100 overflow-visible shadow-lg",style:{width:`${i}px`,height:`${i}px`},children:u.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:e.map((f,h)=>{const p=(f.angle-30)*Math.PI/180,g=(f.angle+30)*Math.PI/180,x=50+50*Math.cos(p),S=50+50*Math.sin(p),v=50+50*Math.cos(g),b=50+50*Math.sin(g),k=`M 50 50 L ${x} ${S} A 50 50 0 0 1 ${v} ${b} Z`,E=38,N=50+E*Math.cos(f.angle*Math.PI/180),_=50+E*Math.sin(f.angle*Math.PI/180),I=h===l;return u.jsxs("g",{onClick:()=>!f.disabled&&o(h,f),onMouseEnter:()=>!f.disabled&&c(h),onMouseLeave:()=>c(null),style:{cursor:f.disabled?"default":"pointer"},children:[u.jsx("path",{d:k,fill:I&&!f.disabled?"#6b9ac4":"transparent",stroke:"#e2e8f0",strokeWidth:"0.5"}),u.jsx("g",{transform:`translate(${N}, ${_}) rotate(${f.angle})`,children:f.label.map((P,T)=>u.jsx("text",{x:"0",y:T*8,textAnchor:"middle",fontSize:"5",fill:f.disabled?"#d3d3d3":"#333",transform:`rotate(-${f.angle})`,dominantBaseline:"middle",children:P},T))})]},h)})})})}):null}const I9=({fromX:e,fromY:t,toX:n,toY:r,connectionLineStyle:o,label:i})=>{const[l]=gx({sourceX:e,sourceY:t,targetX:n,targetY:r}),c=(e+n)/2,d=(t+r)/2;return u.jsxs("g",{children:[u.jsx("path",{style:o||{stroke:"black",strokeWidth:1},fill:"none",d:l}),i&&u.jsx("text",{x:c,y:d,textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"12px",fill:"black"},children:i})]})};function T9({open:e,onOpenChange:t,onFileLoaded:n}){const[r,o]=w.useState(!1),[i,l]=w.useState(!1),c=w.useRef(null),d=v=>{v.preventDefault(),o(!0)},f=()=>{o(!1)},h=v=>{if(v.preventDefault(),o(!1),v.dataTransfer.files&&v.dataTransfer.files.length>0){const b=v.dataTransfer.files[0];g(b)}},p=v=>{if(v.target.files&&v.target.files.length>0){const b=v.target.files[0];g(b)}},g=v=>{const b=new FileReader;b.onload=k=>{var E;(E=k.target)!=null&&E.result&&(n(k.target.result,v.name),t(!1))},b.readAsText(v)},x=()=>{var v;(v=c.current)==null||v.click()},S=async()=>{l(!0);try{const v=await fetch("/ocpn-tools/examples/airport.ocpn");if(!v.ok)throw new Error("Failed to load example file");const b=await v.text();n(b,"airport.ocpn"),t(!1)}catch(v){console.error("Error loading example:",v)}finally{l(!1)}};return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:"sm:max-w-[500px]",children:[u.jsxs(pn,{children:[u.jsx(hn,{children:"Open Petri Net"}),u.jsx(Io,{children:"Load a CPN Tools .cpn or cpn-py JSON file to visualize your Petri Net."})]}),u.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-primary bg-primary/10":"border-muted-foreground/25"}`,onDragOver:d,onDragLeave:f,onDrop:h,children:u.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[u.jsx(Jg,{className:"h-10 w-10 text-muted-foreground"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Drag & Drop"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drop your Petri Net file here, or click to browse"}),u.jsx("input",{ref:c,type:"file",accept:".xml,.json,.cpn,.ocpn",className:"hidden",onChange:p}),u.jsxs(ge,{onClick:x,variant:"outline",children:[u.jsx(OI,{className:"mr-2 h-4 w-4"}),"Open File..."]})]})}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx("span",{children:"Or try an example:"}),u.jsxs(ge,{variant:"link",className:"p-0 h-auto text-sm",onClick:S,disabled:i,children:[u.jsx(ZI,{className:"mr-1 h-3 w-3"}),"Airport Ground Handling"]})]}),u.jsx(Sr,{children:u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"})})]})})}function R9({open:e,onOpenChange:t,onSave:n,petriNetName:r}){const[o,i]=w.useState("json"),l=()=>{n(o),t(!1)};return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:"sm:max-w-[425px]",children:[u.jsxs(pn,{children:[u.jsx(hn,{children:"Save Petri Net"}),u.jsxs(Io,{children:['Choose a format to save your Petri Net "',r,'".']})]}),u.jsx("div",{className:"py-4",children:u.jsxs(Gx,{value:o,onValueChange:i,className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Eo,{value:"json",id:"json"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(je,{htmlFor:"json",className:"font-medium",children:"OCPN JSON"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Simple JSON format. Best for OCPN Tools."})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Eo,{value:"cpn-tools",id:"cpn-tools"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(je,{htmlFor:"cpn-tools",className:"font-medium",children:"CPN Tools XML"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Standard format for CPN Tools. Best for compatibility with CPN Tools."})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Eo,{value:"cpn-py",id:"cpn-py"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(je,{htmlFor:"cpn-py",className:"font-medium",children:"cpn-py JSON"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Format compatible with cpn-py library. Best for Python integration."})]})]})]})}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ge,{onClick:l,children:"Save"})]})]})})}function M9(){const e=w.useContext(_c);if(!e)throw new Error("SimulationToolbar must be used within a SimulationProvider");const{reset:t,runStep:n,runMultipleStepsAnimated:r,runMultipleStepsFast:o,stop:i,isRunning:l,simulationConfig:c}=e,d=()=>{t()},f=()=>{i()},h=()=>{n()},p=()=>{r(c.stepsPerRun,c.animationDelayMs)},g=()=>{o(c.stepsPerRun)};return u.jsx("div",{className:"flex items-center gap-1",children:u.jsxs(vn,{children:[u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:d,disabled:l,children:[u.jsx(sT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Reset Simulation"})]})})}),u.jsx(Zt,{children:u.jsx("p",{children:"Reset Simulation"})})]}),u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:f,disabled:!l,children:[u.jsx(WS,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Stop Simulation"})]})})}),u.jsx(Zt,{children:u.jsx("p",{children:"Stop Simulation"})})]}),u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:h,disabled:l,children:[u.jsx(mT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Execute One Step"})]})})}),u.jsx(Zt,{children:u.jsx("p",{children:"Execute One Step"})})]}),u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:p,disabled:l,className:"relative",children:[u.jsx(tT,{className:"h-5 w-5"}),u.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] text-primary-foreground font-medium",children:c.stepsPerRun}),u.jsxs("span",{className:"sr-only",children:["Run ",c.stepsPerRun," Steps (Animated)"]})]})})}),u.jsx(Zt,{children:u.jsxs("p",{children:["Run ",c.stepsPerRun," Steps (with intermediate markings)"]})})]}),u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:g,disabled:l,className:"relative",children:[u.jsx(MI,{className:"h-5 w-5"}),u.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] text-primary-foreground font-medium",children:c.stepsPerRun}),u.jsxs("span",{className:"sr-only",children:["Run ",c.stepsPerRun," Steps (Fast)"]})]})})}),u.jsx(Zt,{children:u.jsxs("p",{children:["Run ",c.stepsPerRun," Steps (without intermediate markings)"]})})]})]})})}function D9(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const O9=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,L9=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,z9={};function I1(e,t){return(z9.jsx?L9:O9).test(e)}const $9=/[ \t\n\f\r]/g;function F9(e){return typeof e=="object"?e.type==="text"?T1(e.value):!1:T1(e)}function T1(e){return e.replace($9,"")===""}class Ic{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ic.prototype.normal={};Ic.prototype.property={};Ic.prototype.space=void 0;function U_(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new Ic(n,r,t)}function Lg(e){return e.toLowerCase()}class Qn{constructor(t,n){this.attribute=n,this.property=t}}Qn.prototype.attribute="";Qn.prototype.booleanish=!1;Qn.prototype.boolean=!1;Qn.prototype.commaOrSpaceSeparated=!1;Qn.prototype.commaSeparated=!1;Qn.prototype.defined=!1;Qn.prototype.mustUseProperty=!1;Qn.prototype.number=!1;Qn.prototype.overloadedBoolean=!1;Qn.prototype.property="";Qn.prototype.spaceSeparated=!1;Qn.prototype.space=void 0;let B9=0;const lt=ls(),tn=ls(),W_=ls(),Se=ls(),zt=ls(),tl=ls(),rr=ls();function ls(){return 2**++B9}const zg=Object.freeze(Object.defineProperty({__proto__:null,boolean:lt,booleanish:tn,commaOrSpaceSeparated:rr,commaSeparated:tl,number:Se,overloadedBoolean:W_,spaceSeparated:zt},Symbol.toStringTag,{value:"Module"})),Tm=Object.keys(zg);class dy extends Qn{constructor(t,n,r,o){let i=-1;if(super(t,n),R1(this,"space",o),typeof r=="number")for(;++i<Tm.length;){const l=Tm[i];R1(this,Tm[i],(r&zg[l])===zg[l])}}}dy.prototype.defined=!0;function R1(e,t,n){n&&(e[t]=n)}function El(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const i=new dy(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Lg(r)]=r,n[Lg(i.attribute)]=r}return new Ic(t,n,e.space)}const q_=El({properties:{ariaActiveDescendant:null,ariaAtomic:tn,ariaAutoComplete:null,ariaBusy:tn,ariaChecked:tn,ariaColCount:Se,ariaColIndex:Se,ariaColSpan:Se,ariaControls:zt,ariaCurrent:null,ariaDescribedBy:zt,ariaDetails:null,ariaDisabled:tn,ariaDropEffect:zt,ariaErrorMessage:null,ariaExpanded:tn,ariaFlowTo:zt,ariaGrabbed:tn,ariaHasPopup:null,ariaHidden:tn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:zt,ariaLevel:Se,ariaLive:null,ariaModal:tn,ariaMultiLine:tn,ariaMultiSelectable:tn,ariaOrientation:null,ariaOwns:zt,ariaPlaceholder:null,ariaPosInSet:Se,ariaPressed:tn,ariaReadOnly:tn,ariaRelevant:null,ariaRequired:tn,ariaRoleDescription:zt,ariaRowCount:Se,ariaRowIndex:Se,ariaRowSpan:Se,ariaSelected:tn,ariaSetSize:Se,ariaSort:null,ariaValueMax:Se,ariaValueMin:Se,ariaValueNow:Se,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Y_(e,t){return t in e?e[t]:t}function X_(e,t){return Y_(e,t.toLowerCase())}const V9=El({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:tl,acceptCharset:zt,accessKey:zt,action:null,allow:null,allowFullScreen:lt,allowPaymentRequest:lt,allowUserMedia:lt,alt:null,as:null,async:lt,autoCapitalize:null,autoComplete:zt,autoFocus:lt,autoPlay:lt,blocking:zt,capture:null,charSet:null,checked:lt,cite:null,className:zt,cols:Se,colSpan:null,content:null,contentEditable:tn,controls:lt,controlsList:zt,coords:Se|tl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:lt,defer:lt,dir:null,dirName:null,disabled:lt,download:W_,draggable:tn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:lt,formTarget:null,headers:zt,height:Se,hidden:lt,high:Se,href:null,hrefLang:null,htmlFor:zt,httpEquiv:zt,id:null,imageSizes:null,imageSrcSet:null,inert:lt,inputMode:null,integrity:null,is:null,isMap:lt,itemId:null,itemProp:zt,itemRef:zt,itemScope:lt,itemType:zt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:lt,low:Se,manifest:null,max:null,maxLength:Se,media:null,method:null,min:null,minLength:Se,multiple:lt,muted:lt,name:null,nonce:null,noModule:lt,noValidate:lt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:lt,optimum:Se,pattern:null,ping:zt,placeholder:null,playsInline:lt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:lt,referrerPolicy:null,rel:zt,required:lt,reversed:lt,rows:Se,rowSpan:Se,sandbox:zt,scope:null,scoped:lt,seamless:lt,selected:lt,shadowRootClonable:lt,shadowRootDelegatesFocus:lt,shadowRootMode:null,shape:null,size:Se,sizes:null,slot:null,span:Se,spellCheck:tn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Se,step:null,style:null,tabIndex:Se,target:null,title:null,translate:null,type:null,typeMustMatch:lt,useMap:null,value:tn,width:Se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:zt,axis:null,background:null,bgColor:null,border:Se,borderColor:null,bottomMargin:Se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:lt,declare:lt,event:null,face:null,frame:null,frameBorder:null,hSpace:Se,leftMargin:Se,link:null,longDesc:null,lowSrc:null,marginHeight:Se,marginWidth:Se,noResize:lt,noHref:lt,noShade:lt,noWrap:lt,object:null,profile:null,prompt:null,rev:null,rightMargin:Se,rules:null,scheme:null,scrolling:tn,standby:null,summary:null,text:null,topMargin:Se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:lt,disableRemotePlayback:lt,prefix:null,property:null,results:Se,security:null,unselectable:null},space:"html",transform:X_}),H9=El({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:rr,accentHeight:Se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Se,amplitude:Se,arabicForm:null,ascent:Se,attributeName:null,attributeType:null,azimuth:Se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Se,by:null,calcMode:null,capHeight:Se,className:zt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Se,diffuseConstant:Se,direction:null,display:null,dur:null,divisor:Se,dominantBaseline:null,download:lt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Se,enableBackground:null,end:null,event:null,exponent:Se,externalResourcesRequired:null,fill:null,fillOpacity:Se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:tl,g2:tl,glyphName:tl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Se,horizOriginX:Se,horizOriginY:Se,id:null,ideographic:Se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Se,k:Se,k1:Se,k2:Se,k3:Se,k4:Se,kernelMatrix:rr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Se,overlineThickness:Se,paintOrder:null,panose1:null,path:null,pathLength:Se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:zt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Se,pointsAtY:Se,pointsAtZ:Se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:rr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:rr,rev:rr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:rr,requiredFeatures:rr,requiredFonts:rr,requiredFormats:rr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Se,specularExponent:Se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Se,strikethroughThickness:Se,string:null,stroke:null,strokeDashArray:rr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Se,strokeOpacity:Se,strokeWidth:null,style:null,surfaceScale:Se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:rr,tabIndex:Se,tableValues:null,target:null,targetX:Se,targetY:Se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:rr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Se,underlineThickness:Se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Se,values:null,vAlphabetic:Se,vMathematical:Se,vectorEffect:null,vHanging:Se,vIdeographic:Se,version:null,vertAdvY:Se,vertOriginX:Se,vertOriginY:Se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Y_}),G_=El({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),K_=El({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:X_}),Q_=El({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),U9={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},W9=/[A-Z]/g,M1=/-[a-z]/g,q9=/^data[-\w.:]+$/i;function Y9(e,t){const n=Lg(t);let r=t,o=Qn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&q9.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(M1,G9);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!M1.test(i)){let l=i.replace(W9,X9);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}o=dy}return new o(r,t)}function X9(e){return"-"+e.toLowerCase()}function G9(e){return e.charAt(1).toUpperCase()}const K9=U_([q_,V9,G_,K_,Q_],"html"),fy=U_([q_,H9,G_,K_,Q_],"svg");function Q9(e){return e.join(" ").trim()}var Bs={},Rm,D1;function J9(){if(D1)return Rm;D1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,f="/",h="*",p="",g="comment",x="declaration";Rm=function(v,b){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];b=b||{};var k=1,E=1;function N(q){var A=q.match(t);A&&(k+=A.length);var $=q.lastIndexOf(d);E=~$?q.length-$:E+q.length}function _(){var q={line:k,column:E};return function(A){return A.position=new I(q),O(),A}}function I(q){this.start=q,this.end={line:k,column:E},this.source=b.source}I.prototype.content=v;function P(q){var A=new Error(b.source+":"+k+":"+E+": "+q);if(A.reason=q,A.filename=b.source,A.line=k,A.column=E,A.source=v,!b.silent)throw A}function T(q){var A=q.exec(v);if(A){var $=A[0];return N($),v=v.slice($.length),A}}function O(){T(n)}function U(q){var A;for(q=q||[];A=L();)A!==!1&&q.push(A);return q}function L(){var q=_();if(!(f!=v.charAt(0)||h!=v.charAt(1))){for(var A=2;p!=v.charAt(A)&&(h!=v.charAt(A)||f!=v.charAt(A+1));)++A;if(A+=2,p===v.charAt(A-1))return P("End of comment missing");var $=v.slice(2,A-2);return E+=2,N($),v=v.slice(A),E+=2,q({type:g,comment:$})}}function B(){var q=_(),A=T(r);if(A){if(L(),!T(o))return P("property missing ':'");var $=T(i),F=q({type:x,property:S(A[0].replace(e,p)),value:$?S($[0].replace(e,p)):p});return T(l),F}}function Y(){var q=[];U(q);for(var A;A=B();)A!==!1&&(q.push(A),U(q));return q}return O(),Y()};function S(v){return v?v.replace(c,p):p}return Rm}var O1;function Z9(){if(O1)return Bs;O1=1;var e=Bs&&Bs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.default=n;var t=e(J9());function n(r,o){var i=null;if(!r||typeof r!="string")return i;var l=(0,t.default)(r),c=typeof o=="function";return l.forEach(function(d){if(d.type==="declaration"){var f=d.property,h=d.value;c?o(f,h,d):h&&(i=i||{},i[f]=h)}}),i}return Bs}var wa={},L1;function eU(){if(L1)return wa;L1=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,i=function(f){return!f||n.test(f)||e.test(f)},l=function(f,h){return h.toUpperCase()},c=function(f,h){return"".concat(h,"-")},d=function(f,h){return h===void 0&&(h={}),i(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(o,c):f=f.replace(r,c),f.replace(t,l))};return wa.camelCase=d,wa}var ba,z1;function tU(){if(z1)return ba;z1=1;var e=ba&&ba.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(Z9()),n=eU();function r(o,i){var l={};return!o||typeof o!="string"||(0,t.default)(o,function(c,d){c&&d&&(l[(0,n.camelCase)(c,i)]=d)}),l}return r.default=r,ba=r,ba}var nU=tU();const rU=hc(nU),J_=Z_("end"),py=Z_("start");function Z_(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function oU(e){const t=py(e),n=J_(e);if(t&&n)return{start:t,end:n}}function Ua(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?$1(e.position):"start"in e||"end"in e?$1(e):"line"in e||"column"in e?$g(e):""}function $g(e){return F1(e&&e.line)+":"+F1(e&&e.column)}function $1(e){return $g(e&&e.start)+"-"+$g(e&&e.end)}function F1(e){return e&&typeof e=="number"?e:1}class Dn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",i={},l=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?o=t:!i.cause&&t&&(l=!0,o=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?i.ruleId=r:(i.source=r.slice(0,d),i.ruleId=r.slice(d+1))}if(!i.place&&i.ancestors&&i.ancestors){const d=i.ancestors[i.ancestors.length-1];d&&(i.place=d.position)}const c=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=c?c.line:void 0,this.name=Ua(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=l&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}Dn.prototype.file="";Dn.prototype.name="";Dn.prototype.reason="";Dn.prototype.message="";Dn.prototype.stack="";Dn.prototype.column=void 0;Dn.prototype.line=void 0;Dn.prototype.ancestors=void 0;Dn.prototype.cause=void 0;Dn.prototype.fatal=void 0;Dn.prototype.place=void 0;Dn.prototype.ruleId=void 0;Dn.prototype.source=void 0;const hy={}.hasOwnProperty,iU=new Map,sU=/[A-Z]/g,lU=new Set(["table","tbody","thead","tfoot","tr"]),aU=new Set(["td","th"]),e2="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function cU(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=xU(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=gU(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?fy:K9,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=t2(o,e,void 0);return i&&typeof i!="string"?i:o.create(e,o.Fragment,{children:i||void 0},void 0)}function t2(e,t,n){if(t.type==="element")return uU(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return dU(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return pU(e,t,n);if(t.type==="mdxjsEsm")return fU(e,t);if(t.type==="root")return hU(e,t,n);if(t.type==="text")return mU(e,t)}function uU(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=fy,e.schema=o),e.ancestors.push(t);const i=r2(e,t.tagName,!1),l=yU(e,t);let c=gy(e,t);return lU.has(t.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!F9(d):!0})),n2(e,l,i,t),my(l,c),e.ancestors.pop(),e.schema=r,e.create(t,i,l,n)}function dU(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}fc(e,t.position)}function fU(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);fc(e,t.position)}function pU(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=fy,e.schema=o),e.ancestors.push(t);const i=t.name===null?e.Fragment:r2(e,t.name,!0),l=vU(e,t),c=gy(e,t);return n2(e,l,i,t),my(l,c),e.ancestors.pop(),e.schema=r,e.create(t,i,l,n)}function hU(e,t,n){const r={};return my(r,gy(e,t)),e.create(t,e.Fragment,r,n)}function mU(e,t){return t.value}function n2(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function my(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function gU(e,t,n){return r;function r(o,i,l,c){const f=Array.isArray(l.children)?n:t;return c?f(i,l,c):f(i,l)}}function xU(e,t){return n;function n(r,o,i,l){const c=Array.isArray(i.children),d=py(r);return t(o,i,l,c,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function yU(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&hy.call(t.properties,o)){const i=wU(e,o,t.properties[o]);if(i){const[l,c]=i;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&aU.has(t.tagName)?r=c:n[l]=c}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function vU(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const l=i.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else fc(e,t.position);else{const o=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,i=e.evaluater.evaluateExpression(c.expression)}else fc(e,t.position);else i=r.value===null?!0:r.value;n[o]=i}return n}function gy(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:iU;for(;++r<t.children.length;){const i=t.children[r];let l;if(e.passKeys){const d=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(d){const f=o.get(d)||0;l=d+"-"+f,o.set(d,f+1)}}const c=t2(e,i,l);c!==void 0&&n.push(c)}return n}function wU(e,t,n){const r=Y9(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?D9(n):Q9(n)),r.property==="style"){let o=typeof n=="object"?n:bU(e,String(n));return e.stylePropertyNameCase==="css"&&(o=SU(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?U9[r.property]||r.property:r.attribute,n]}}function bU(e,t){try{return rU(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new Dn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=e2+"#cannot-parse-style-attribute",o}}function r2(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let i=-1,l;for(;++i<o.length;){const c=I1(o[i])?{type:"Identifier",name:o[i]}:{type:"Literal",value:o[i]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(i&&c.type==="Literal"),optional:!1}:c}r=l}else r=I1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return hy.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);fc(e)}function fc(e,t){const n=new Dn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=e2+"#cannot-handle-mdx-estrees-without-createevaluater",n}function SU(e){const t={};let n;for(n in e)hy.call(e,n)&&(t[kU(n)]=e[n]);return t}function kU(e){let t=e.replace(sU,CU);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function CU(e){return"-"+e.toLowerCase()}const Mm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},NU={};function xy(e,t){const n=NU,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return o2(e,r,o)}function o2(e,t,n){if(EU(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return B1(e.children,t,n)}return Array.isArray(e)?B1(e,t,n):""}function B1(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=o2(e[o],t,n);return r.join("")}function EU(e){return!!(e&&typeof e=="object")}const V1=document.createElement("i");function yy(e){const t="&"+e+";";V1.innerHTML=t;const n=V1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ur(e,t,n,r){const o=e.length;let i=0,l;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);i<r.length;)l=r.slice(i,i+1e4),l.unshift(t,0),e.splice(...l),i+=1e4,t+=1e4}function vr(e,t){return e.length>0?(ur(e,e.length,0,t),e):t}const H1={}.hasOwnProperty;function i2(e){const t={};let n=-1;for(;++n<e.length;)jU(t,e[n]);return t}function jU(e,t){let n;for(n in t){const o=(H1.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let l;if(i)for(l in i){H1.call(o,l)||(o[l]=[]);const c=i[l];_U(o[l],Array.isArray(c)?c:c?[c]:[])}}}function _U(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ur(e,0,0,r)}function s2(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Or(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const $n=bi(/[A-Za-z]/),In=bi(/[\dA-Za-z]/),PU=bi(/[#-'*+\--9=?A-Z^-~]/);function tf(e){return e!==null&&(e<32||e===127)}const Fg=bi(/\d/),AU=bi(/[\dA-Fa-f]/),IU=bi(/[!-/:-@[-`{-~]/);function Qe(e){return e!==null&&e<-2}function Dt(e){return e!==null&&(e<0||e===32)}function yt(e){return e===-2||e===-1||e===32}const Zf=bi(new RegExp("\\p{P}|\\p{S}","u")),is=bi(/\s/);function bi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function jl(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const i=e.charCodeAt(n);let l="";if(i===37&&In(e.charCodeAt(n+1))&&In(e.charCodeAt(n+2)))o=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(l=String.fromCharCode(i));else if(i>55295&&i<57344){const c=e.charCodeAt(n+1);i<56320&&c>56319&&c<57344?(l=String.fromCharCode(i,c),o=1):l=""}else l=String.fromCharCode(i);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+o+1,l=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function St(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return l;function l(d){return yt(d)?(e.enter(n),c(d)):t(d)}function c(d){return yt(d)&&i++<o?(e.consume(d),c):(e.exit(n),t(d))}}const TU={tokenize:RU};function RU(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),St(e,t,"linePrefix")}function o(c){return e.enter("paragraph"),i(c)}function i(c){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Qe(c)?(e.consume(c),e.exit("chunkText"),i):(e.consume(c),l)}}const MU={tokenize:DU},U1={tokenize:OU};function DU(e){const t=this,n=[];let r=0,o,i,l;return c;function c(N){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,d,f)(N)}return f(N)}function d(N){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&E();const _=t.events.length;let I=_,P;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){P=t.events[I][1].end;break}k(r);let T=_;for(;T<t.events.length;)t.events[T][1].end={...P},T++;return ur(t.events,I+1,0,t.events.slice(_)),t.events.length=T,f(N)}return c(N)}function f(N){if(r===n.length){if(!o)return g(N);if(o.currentConstruct&&o.currentConstruct.concrete)return S(N);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(U1,h,p)(N)}function h(N){return o&&E(),k(r),g(N)}function p(N){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,S(N)}function g(N){return t.containerState={},e.attempt(U1,x,S)(N)}function x(N){return r++,n.push([t.currentConstruct,t.containerState]),g(N)}function S(N){if(N===null){o&&E(),k(0),e.consume(N);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:i}),v(N)}function v(N){if(N===null){b(e.exit("chunkFlow"),!0),k(0),e.consume(N);return}return Qe(N)?(e.consume(N),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(N),v)}function b(N,_){const I=t.sliceStream(N);if(_&&I.push(null),N.previous=i,i&&(i.next=N),i=N,o.defineSkip(N.start),o.write(I),t.parser.lazy[N.start.line]){let P=o.events.length;for(;P--;)if(o.events[P][1].start.offset<l&&(!o.events[P][1].end||o.events[P][1].end.offset>l))return;const T=t.events.length;let O=T,U,L;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){if(U){L=t.events[O][1].end;break}U=!0}for(k(r),P=T;P<t.events.length;)t.events[P][1].end={...L},P++;ur(t.events,O+1,0,t.events.slice(T)),t.events.length=P}}function k(N){let _=n.length;for(;_-- >N;){const I=n[_];t.containerState=I[1],I[0].exit.call(t,e)}n.length=N}function E(){o.write([null]),i=void 0,o=void 0,t.containerState._closeFlow=void 0}}function OU(e,t,n){return St(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function hl(e){if(e===null||Dt(e)||is(e))return 1;if(Zf(e))return 2}function ep(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const Bg={name:"attention",resolveAll:LU,tokenize:zU};function LU(e,t){let n=-1,r,o,i,l,c,d,f,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};W1(p,-d),W1(g,d),l={type:d>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},i={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[r][1].end={...l.start},e[n][1].start={...c.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=vr(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=vr(f,[["enter",o,t],["enter",l,t],["exit",l,t],["enter",i,t]]),f=vr(f,ep(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=vr(f,[["exit",i,t],["enter",c,t],["exit",c,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,f=vr(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,ur(e,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function zU(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=hl(r);let i;return l;function l(d){return i=d,e.enter("attentionSequence"),c(d)}function c(d){if(d===i)return e.consume(d),c;const f=e.exit("attentionSequence"),h=hl(d),p=!h||h===2&&o||n.includes(d),g=!o||o===2&&h||n.includes(r);return f._open=!!(i===42?p:p&&(o||!g)),f._close=!!(i===42?g:g&&(h||!p)),t(d)}}function W1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const $U={name:"autolink",tokenize:FU};function FU(e,t,n){let r=0;return o;function o(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(x){return $n(x)?(e.consume(x),l):x===64?n(x):f(x)}function l(x){return x===43||x===45||x===46||In(x)?(r=1,c(x)):f(x)}function c(x){return x===58?(e.consume(x),r=0,d):(x===43||x===45||x===46||In(x))&&r++<32?(e.consume(x),c):(r=0,f(x))}function d(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||tf(x)?n(x):(e.consume(x),d)}function f(x){return x===64?(e.consume(x),h):PU(x)?(e.consume(x),f):n(x)}function h(x){return In(x)?p(x):n(x)}function p(x){return x===46?(e.consume(x),r=0,h):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):g(x)}function g(x){if((x===45||In(x))&&r++<63){const S=x===45?g:p;return e.consume(x),S}return n(x)}}const Tc={partial:!0,tokenize:BU};function BU(e,t,n){return r;function r(i){return yt(i)?St(e,o,"linePrefix")(i):o(i)}function o(i){return i===null||Qe(i)?t(i):n(i)}}const l2={continuation:{tokenize:HU},exit:UU,name:"blockQuote",tokenize:VU};function VU(e,t,n){const r=this;return o;function o(l){if(l===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),i}return n(l)}function i(l){return yt(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function HU(e,t,n){const r=this;return o;function o(l){return yt(l)?St(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):i(l)}function i(l){return e.attempt(l2,t,n)(l)}}function UU(e){e.exit("blockQuote")}const a2={name:"characterEscape",tokenize:WU};function WU(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),o}function o(i){return IU(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const c2={name:"characterReference",tokenize:qU};function qU(e,t,n){const r=this;let o=0,i,l;return c;function c(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),d}function d(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),i=31,l=In,h(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,l=AU,h):(e.enter("characterReferenceValue"),i=7,l=Fg,h(p))}function h(p){if(p===59&&o){const g=e.exit("characterReferenceValue");return l===In&&!yy(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(p)&&o++<i?(e.consume(p),h):n(p)}}const q1={partial:!0,tokenize:XU},Y1={concrete:!0,name:"codeFenced",tokenize:YU};function YU(e,t,n){const r=this,o={partial:!0,tokenize:I};let i=0,l=0,c;return d;function d(P){return f(P)}function f(P){const T=r.events[r.events.length-1];return i=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,c=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(P)}function h(P){return P===c?(l++,e.consume(P),h):l<3?n(P):(e.exit("codeFencedFenceSequence"),yt(P)?St(e,p,"whitespace")(P):p(P))}function p(P){return P===null||Qe(P)?(e.exit("codeFencedFence"),r.interrupt?t(P):e.check(q1,v,_)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(P))}function g(P){return P===null||Qe(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(P)):yt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),St(e,x,"whitespace")(P)):P===96&&P===c?n(P):(e.consume(P),g)}function x(P){return P===null||Qe(P)?p(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),S(P))}function S(P){return P===null||Qe(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(P)):P===96&&P===c?n(P):(e.consume(P),S)}function v(P){return e.attempt(o,_,b)(P)}function b(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),k}function k(P){return i>0&&yt(P)?St(e,E,"linePrefix",i+1)(P):E(P)}function E(P){return P===null||Qe(P)?e.check(q1,v,_)(P):(e.enter("codeFlowValue"),N(P))}function N(P){return P===null||Qe(P)?(e.exit("codeFlowValue"),E(P)):(e.consume(P),N)}function _(P){return e.exit("codeFenced"),t(P)}function I(P,T,O){let U=0;return L;function L($){return P.enter("lineEnding"),P.consume($),P.exit("lineEnding"),B}function B($){return P.enter("codeFencedFence"),yt($)?St(P,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):Y($)}function Y($){return $===c?(P.enter("codeFencedFenceSequence"),q($)):O($)}function q($){return $===c?(U++,P.consume($),q):U>=l?(P.exit("codeFencedFenceSequence"),yt($)?St(P,A,"whitespace")($):A($)):O($)}function A($){return $===null||Qe($)?(P.exit("codeFencedFence"),T($)):O($)}}}function XU(e,t,n){const r=this;return o;function o(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i)}function i(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const Dm={name:"codeIndented",tokenize:KU},GU={partial:!0,tokenize:QU};function KU(e,t,n){const r=this;return o;function o(f){return e.enter("codeIndented"),St(e,i,"linePrefix",5)(f)}function i(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?d(f):Qe(f)?e.attempt(GU,l,d)(f):(e.enter("codeFlowValue"),c(f))}function c(f){return f===null||Qe(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),c)}function d(f){return e.exit("codeIndented"),t(f)}}function QU(e,t,n){const r=this;return o;function o(l){return r.parser.lazy[r.now().line]?n(l):Qe(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):St(e,i,"linePrefix",5)(l)}function i(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):Qe(l)?o(l):n(l)}}const JU={name:"codeText",previous:eW,resolve:ZU,tokenize:tW};function ZU(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function eW(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tW(e,t,n){let r=0,o,i;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),c(p)}function c(p){return p===96?(e.consume(p),r++,c):(e.exit("codeTextSequence"),d(p))}function d(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),d):p===96?(i=e.enter("codeTextSequence"),o=0,h(p)):Qe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||Qe(p)?(e.exit("codeTextData"),d(p)):(e.consume(p),f)}function h(p){return p===96?(e.consume(p),o++,h):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(i.type="codeTextData",f(p))}}class nW{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&Sa(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Sa(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Sa(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Sa(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Sa(this.left,n.reverse())}}}function Sa(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function u2(e){const t={};let n=-1,r,o,i,l,c,d,f;const h=new nW(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,i=0,i<d.length&&d[i][1].type==="lineEndingBlank"&&(i+=2),i<d.length&&d[i][1].type==="content"))for(;++i<d.length&&d[i][1].type!=="content";)d[i][1].type==="chunkText"&&(d[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,rW(h,n)),n=t[n],f=!0);else if(r[1]._container){for(i=n,o=void 0;i--;)if(l=h.get(i),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(h.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=i);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(r[1].end={...h.get(o)[1].start},c=h.slice(o,n),c.unshift(r),h.splice(o,n-o+1,c))}}return ur(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function rW(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const i=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,d=[],f={};let h,p,g=-1,x=n,S=0,v=0;const b=[v];for(;x;){for(;e.get(++o)[1]!==x;);i.push(o),x._tokenizer||(h=r.sliceStream(x),x.next||h.push(null),p&&l.defineSkip(x.start),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=x,x=x.next}for(x=n;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(v=g+1,b.push(v),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(l.events=[],x?(x._tokenizer=void 0,x.previous=void 0):b.pop(),g=b.length;g--;){const k=c.slice(b[g],b[g+1]),E=i.pop();d.push([E,E+k.length-1]),e.splice(E,2,k)}for(d.reverse(),g=-1;++g<d.length;)f[S+d[g][0]]=S+d[g][1],S+=d[g][1]-d[g][0]-1;return f}const oW={resolve:sW,tokenize:lW},iW={partial:!0,tokenize:aW};function sW(e){return u2(e),e}function lW(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(c)}function o(c){return c===null?i(c):Qe(c)?e.check(iW,l,i)(c):(e.consume(c),o)}function i(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function l(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function aW(e,t,n){const r=this;return o;function o(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),St(e,i,"linePrefix")}function i(l){if(l===null||Qe(l))return n(l);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function d2(e,t,n,r,o,i,l,c,d){const f=d||Number.POSITIVE_INFINITY;let h=0;return p;function p(k){return k===60?(e.enter(r),e.enter(o),e.enter(i),e.consume(k),e.exit(i),g):k===null||k===32||k===41||tf(k)?n(k):(e.enter(r),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),v(k))}function g(k){return k===62?(e.enter(i),e.consume(k),e.exit(i),e.exit(o),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),x(k))}function x(k){return k===62?(e.exit("chunkString"),e.exit(c),g(k)):k===null||k===60||Qe(k)?n(k):(e.consume(k),k===92?S:x)}function S(k){return k===60||k===62||k===92?(e.consume(k),x):x(k)}function v(k){return!h&&(k===null||k===41||Dt(k))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(r),t(k)):h<f&&k===40?(e.consume(k),h++,v):k===41?(e.consume(k),h--,v):k===null||k===32||k===40||tf(k)?n(k):(e.consume(k),k===92?b:v)}function b(k){return k===40||k===41||k===92?(e.consume(k),v):v(k)}}function f2(e,t,n,r,o,i){const l=this;let c=0,d;return f;function f(x){return e.enter(r),e.enter(o),e.consume(x),e.exit(o),e.enter(i),h}function h(x){return c>999||x===null||x===91||x===93&&!d||x===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(x):x===93?(e.exit(i),e.enter(o),e.consume(x),e.exit(o),e.exit(r),t):Qe(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===null||x===91||x===93||Qe(x)||c++>999?(e.exit("chunkString"),h(x)):(e.consume(x),d||(d=!yt(x)),x===92?g:p)}function g(x){return x===91||x===92||x===93?(e.consume(x),c++,p):p(x)}}function p2(e,t,n,r,o,i){let l;return c;function c(g){return g===34||g===39||g===40?(e.enter(r),e.enter(o),e.consume(g),e.exit(o),l=g===40?41:g,d):n(g)}function d(g){return g===l?(e.enter(o),e.consume(g),e.exit(o),e.exit(r),t):(e.enter(i),f(g))}function f(g){return g===l?(e.exit(i),d(l)):g===null?n(g):Qe(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),St(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===l||g===null||Qe(g)?(e.exit("chunkString"),f(g)):(e.consume(g),g===92?p:h)}function p(g){return g===l||g===92?(e.consume(g),h):h(g)}}function Wa(e,t){let n;return r;function r(o){return Qe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):yt(o)?St(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const cW={name:"definition",tokenize:dW},uW={partial:!0,tokenize:fW};function dW(e,t,n){const r=this;let o;return i;function i(x){return e.enter("definition"),l(x)}function l(x){return f2.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function c(x){return o=Or(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),d):n(x)}function d(x){return Dt(x)?Wa(e,f)(x):f(x)}function f(x){return d2(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function h(x){return e.attempt(uW,p,p)(x)}function p(x){return yt(x)?St(e,g,"whitespace")(x):g(x)}function g(x){return x===null||Qe(x)?(e.exit("definition"),r.parser.defined.push(o),t(x)):n(x)}}function fW(e,t,n){return r;function r(c){return Dt(c)?Wa(e,o)(c):n(c)}function o(c){return p2(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function i(c){return yt(c)?St(e,l,"whitespace")(c):l(c)}function l(c){return c===null||Qe(c)?t(c):n(c)}}const pW={name:"hardBreakEscape",tokenize:hW};function hW(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),o}function o(i){return Qe(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const mW={name:"headingAtx",resolve:gW,tokenize:xW};function gW(e,t){let n=e.length-2,r=3,o,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ur(e,r,n-r+1,[["enter",o,t],["enter",i,t],["exit",i,t],["exit",o,t]])),e}function xW(e,t,n){let r=0;return o;function o(h){return e.enter("atxHeading"),i(h)}function i(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(e.consume(h),l):h===null||Dt(h)?(e.exit("atxHeadingSequence"),c(h)):n(h)}function c(h){return h===35?(e.enter("atxHeadingSequence"),d(h)):h===null||Qe(h)?(e.exit("atxHeading"),t(h)):yt(h)?St(e,c,"whitespace")(h):(e.enter("atxHeadingText"),f(h))}function d(h){return h===35?(e.consume(h),d):(e.exit("atxHeadingSequence"),c(h))}function f(h){return h===null||h===35||Dt(h)?(e.exit("atxHeadingText"),c(h)):(e.consume(h),f)}}const yW=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],X1=["pre","script","style","textarea"],vW={concrete:!0,name:"htmlFlow",resolveTo:SW,tokenize:kW},wW={partial:!0,tokenize:NW},bW={partial:!0,tokenize:CW};function SW(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function kW(e,t,n){const r=this;let o,i,l,c,d;return f;function f(R){return h(R)}function h(R){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(R),p}function p(R){return R===33?(e.consume(R),g):R===47?(e.consume(R),i=!0,v):R===63?(e.consume(R),o=3,r.interrupt?t:M):$n(R)?(e.consume(R),l=String.fromCharCode(R),b):n(R)}function g(R){return R===45?(e.consume(R),o=2,x):R===91?(e.consume(R),o=5,c=0,S):$n(R)?(e.consume(R),o=4,r.interrupt?t:M):n(R)}function x(R){return R===45?(e.consume(R),r.interrupt?t:M):n(R)}function S(R){const V="CDATA[";return R===V.charCodeAt(c++)?(e.consume(R),c===V.length?r.interrupt?t:Y:S):n(R)}function v(R){return $n(R)?(e.consume(R),l=String.fromCharCode(R),b):n(R)}function b(R){if(R===null||R===47||R===62||Dt(R)){const V=R===47,Z=l.toLowerCase();return!V&&!i&&X1.includes(Z)?(o=1,r.interrupt?t(R):Y(R)):yW.includes(l.toLowerCase())?(o=6,V?(e.consume(R),k):r.interrupt?t(R):Y(R)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(R):i?E(R):N(R))}return R===45||In(R)?(e.consume(R),l+=String.fromCharCode(R),b):n(R)}function k(R){return R===62?(e.consume(R),r.interrupt?t:Y):n(R)}function E(R){return yt(R)?(e.consume(R),E):L(R)}function N(R){return R===47?(e.consume(R),L):R===58||R===95||$n(R)?(e.consume(R),_):yt(R)?(e.consume(R),N):L(R)}function _(R){return R===45||R===46||R===58||R===95||In(R)?(e.consume(R),_):I(R)}function I(R){return R===61?(e.consume(R),P):yt(R)?(e.consume(R),I):N(R)}function P(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),d=R,T):yt(R)?(e.consume(R),P):O(R)}function T(R){return R===d?(e.consume(R),d=null,U):R===null||Qe(R)?n(R):(e.consume(R),T)}function O(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||Dt(R)?I(R):(e.consume(R),O)}function U(R){return R===47||R===62||yt(R)?N(R):n(R)}function L(R){return R===62?(e.consume(R),B):n(R)}function B(R){return R===null||Qe(R)?Y(R):yt(R)?(e.consume(R),B):n(R)}function Y(R){return R===45&&o===2?(e.consume(R),F):R===60&&o===1?(e.consume(R),G):R===62&&o===4?(e.consume(R),H):R===63&&o===3?(e.consume(R),M):R===93&&o===5?(e.consume(R),W):Qe(R)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(wW,X,q)(R)):R===null||Qe(R)?(e.exit("htmlFlowData"),q(R)):(e.consume(R),Y)}function q(R){return e.check(bW,A,X)(R)}function A(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),$}function $(R){return R===null||Qe(R)?q(R):(e.enter("htmlFlowData"),Y(R))}function F(R){return R===45?(e.consume(R),M):Y(R)}function G(R){return R===47?(e.consume(R),l="",D):Y(R)}function D(R){if(R===62){const V=l.toLowerCase();return X1.includes(V)?(e.consume(R),H):Y(R)}return $n(R)&&l.length<8?(e.consume(R),l+=String.fromCharCode(R),D):Y(R)}function W(R){return R===93?(e.consume(R),M):Y(R)}function M(R){return R===62?(e.consume(R),H):R===45&&o===2?(e.consume(R),M):Y(R)}function H(R){return R===null||Qe(R)?(e.exit("htmlFlowData"),X(R)):(e.consume(R),H)}function X(R){return e.exit("htmlFlow"),t(R)}}function CW(e,t,n){const r=this;return o;function o(l){return Qe(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):n(l)}function i(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function NW(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Tc,t,n)}}const EW={name:"htmlText",tokenize:jW};function jW(e,t,n){const r=this;let o,i,l;return c;function c(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),d}function d(M){return M===33?(e.consume(M),f):M===47?(e.consume(M),I):M===63?(e.consume(M),N):$n(M)?(e.consume(M),O):n(M)}function f(M){return M===45?(e.consume(M),h):M===91?(e.consume(M),i=0,S):$n(M)?(e.consume(M),E):n(M)}function h(M){return M===45?(e.consume(M),x):n(M)}function p(M){return M===null?n(M):M===45?(e.consume(M),g):Qe(M)?(l=p,G(M)):(e.consume(M),p)}function g(M){return M===45?(e.consume(M),x):p(M)}function x(M){return M===62?F(M):M===45?g(M):p(M)}function S(M){const H="CDATA[";return M===H.charCodeAt(i++)?(e.consume(M),i===H.length?v:S):n(M)}function v(M){return M===null?n(M):M===93?(e.consume(M),b):Qe(M)?(l=v,G(M)):(e.consume(M),v)}function b(M){return M===93?(e.consume(M),k):v(M)}function k(M){return M===62?F(M):M===93?(e.consume(M),k):v(M)}function E(M){return M===null||M===62?F(M):Qe(M)?(l=E,G(M)):(e.consume(M),E)}function N(M){return M===null?n(M):M===63?(e.consume(M),_):Qe(M)?(l=N,G(M)):(e.consume(M),N)}function _(M){return M===62?F(M):N(M)}function I(M){return $n(M)?(e.consume(M),P):n(M)}function P(M){return M===45||In(M)?(e.consume(M),P):T(M)}function T(M){return Qe(M)?(l=T,G(M)):yt(M)?(e.consume(M),T):F(M)}function O(M){return M===45||In(M)?(e.consume(M),O):M===47||M===62||Dt(M)?U(M):n(M)}function U(M){return M===47?(e.consume(M),F):M===58||M===95||$n(M)?(e.consume(M),L):Qe(M)?(l=U,G(M)):yt(M)?(e.consume(M),U):F(M)}function L(M){return M===45||M===46||M===58||M===95||In(M)?(e.consume(M),L):B(M)}function B(M){return M===61?(e.consume(M),Y):Qe(M)?(l=B,G(M)):yt(M)?(e.consume(M),B):U(M)}function Y(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),o=M,q):Qe(M)?(l=Y,G(M)):yt(M)?(e.consume(M),Y):(e.consume(M),A)}function q(M){return M===o?(e.consume(M),o=void 0,$):M===null?n(M):Qe(M)?(l=q,G(M)):(e.consume(M),q)}function A(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||Dt(M)?U(M):(e.consume(M),A)}function $(M){return M===47||M===62||Dt(M)?U(M):n(M)}function F(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):n(M)}function G(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),D}function D(M){return yt(M)?St(e,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):W(M)}function W(M){return e.enter("htmlTextData"),l(M)}}const vy={name:"labelEnd",resolveAll:IW,resolveTo:TW,tokenize:RW},_W={tokenize:MW},PW={tokenize:DW},AW={tokenize:OW};function IW(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&ur(e,0,e.length,n),e}function TW(e,t){let n=e.length,r=0,o,i,l,c;for(;n--;)if(o=e[n][1],i){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(i=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(l=n);const d={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[i][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[l-2][1].start}};return c=[["enter",d,t],["enter",f,t]],c=vr(c,e.slice(i+1,i+r+3)),c=vr(c,[["enter",h,t]]),c=vr(c,ep(t.parser.constructs.insideSpan.null,e.slice(i+r+4,l-3),t)),c=vr(c,[["exit",h,t],e[l-2],e[l-1],["exit",f,t]]),c=vr(c,e.slice(l+1)),c=vr(c,[["exit",d,t]]),ur(e,i,e.length,c),e}function RW(e,t,n){const r=this;let o=r.events.length,i,l;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){i=r.events[o][1];break}return c;function c(g){return i?i._inactive?p(g):(l=r.parser.defined.includes(Or(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),d):n(g)}function d(g){return g===40?e.attempt(_W,h,l?h:p)(g):g===91?e.attempt(PW,h,l?f:p)(g):l?h(g):p(g)}function f(g){return e.attempt(AW,h,p)(g)}function h(g){return t(g)}function p(g){return i._balanced=!0,n(g)}}function MW(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),o}function o(p){return Dt(p)?Wa(e,i)(p):i(p)}function i(p){return p===41?h(p):d2(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return Dt(p)?Wa(e,d)(p):h(p)}function c(p){return n(p)}function d(p){return p===34||p===39||p===40?p2(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function f(p){return Dt(p)?Wa(e,h)(p):h(p)}function h(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function DW(e,t,n){const r=this;return o;function o(c){return f2.call(r,e,i,l,"reference","referenceMarker","referenceString")(c)}function i(c){return r.parser.defined.includes(Or(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function l(c){return n(c)}}function OW(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),o}function o(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const LW={name:"labelStartImage",resolveAll:vy.resolveAll,tokenize:zW};function zW(e,t,n){const r=this;return o;function o(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),i}function i(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const $W={name:"labelStartLink",resolveAll:vy.resolveAll,tokenize:FW};function FW(e,t,n){const r=this;return o;function o(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),i}function i(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Om={name:"lineEnding",tokenize:BW};function BW(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),St(e,t,"linePrefix")}}const Ed={name:"thematicBreak",tokenize:VW};function VW(e,t,n){let r=0,o;return i;function i(f){return e.enter("thematicBreak"),l(f)}function l(f){return o=f,c(f)}function c(f){return f===o?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Qe(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===o?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),yt(f)?St(e,c,"whitespace")(f):c(f))}}const Gn={continuation:{tokenize:qW},exit:XW,name:"list",tokenize:WW},HW={partial:!0,tokenize:GW},UW={partial:!0,tokenize:YW};function WW(e,t,n){const r=this,o=r.events[r.events.length-1];let i=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return c;function c(x){const S=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:Fg(x)){if(r.containerState.type||(r.containerState.type=S,e.enter(S,{_container:!0})),S==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(Ed,n,f)(x):f(x);if(!r.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(x)}return n(x)}function d(x){return Fg(x)&&++l<10?(e.consume(x),d):(!r.interrupt||l<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),f(x)):n(x)}function f(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,e.check(Tc,r.interrupt?n:h,e.attempt(HW,g,p))}function h(x){return r.containerState.initialBlankLine=!0,i++,g(x)}function p(x){return yt(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),g):n(x)}function g(x){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function qW(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Tc,o,i);function o(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,St(e,t,"listItemIndent",r.containerState.size+1)(c)}function i(c){return r.containerState.furtherBlankLines||!yt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(UW,t,l)(c))}function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,St(e,e.attempt(Gn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function YW(e,t,n){const r=this;return St(e,o,"listItemIndent",r.containerState.size+1);function o(i){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(i):n(i)}}function XW(e){e.exit(this.containerState.type)}function GW(e,t,n){const r=this;return St(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(i){const l=r.events[r.events.length-1];return!yt(i)&&l&&l[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const G1={name:"setextUnderline",resolveTo:KW,tokenize:QW};function KW(e,t){let n=e.length,r,o,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",i?(e.splice(o,0,["enter",l,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function QW(e,t,n){const r=this;let o;return i;function i(f){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),o=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===o?(e.consume(f),c):(e.exit("setextHeadingLineSequence"),yt(f)?St(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Qe(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const JW={tokenize:ZW};function ZW(e){const t=this,n=e.attempt(Tc,r,e.attempt(this.parser.constructs.flowInitial,o,St(e,e.attempt(this.parser.constructs.flow,o,e.attempt(oW,o)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const e7={resolveAll:m2()},t7=h2("string"),n7=h2("text");function h2(e){return{resolveAll:m2(e==="text"?r7:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],i=n.attempt(o,l,c);return l;function l(h){return f(h)?i(h):c(h)}function c(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),d}function d(h){return f(h)?(n.exit("data"),i(h)):(n.consume(h),d)}function f(h){if(h===null)return!0;const p=o[h];let g=-1;if(p)for(;++g<p.length;){const x=p[g];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function m2(e){return t;function t(n,r){let o=-1,i;for(;++o<=n.length;)i===void 0?n[o]&&n[o][1].type==="data"&&(i=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==i+2&&(n[i][1].end=n[o-1][1].end,n.splice(i+2,o-i-2),o=i+2),i=void 0);return e?e(n,r):n}}function r7(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let i=o.length,l=-1,c=0,d;for(;i--;){const f=o[i];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(f===-2)d=!0,c++;else if(f!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const f={type:n===e.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?l:r.start._bufferIndex+l,_index:r.start._index+i,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const o7={42:Gn,43:Gn,45:Gn,48:Gn,49:Gn,50:Gn,51:Gn,52:Gn,53:Gn,54:Gn,55:Gn,56:Gn,57:Gn,62:l2},i7={91:cW},s7={[-2]:Dm,[-1]:Dm,32:Dm},l7={35:mW,42:Ed,45:[G1,Ed],60:vW,61:G1,95:Ed,96:Y1,126:Y1},a7={38:c2,92:a2},c7={[-5]:Om,[-4]:Om,[-3]:Om,33:LW,38:c2,42:Bg,60:[$U,EW],91:$W,92:[pW,a2],93:vy,95:Bg,96:JU},u7={null:[Bg,e7]},d7={null:[42,95]},f7={null:[]},p7=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:d7,contentInitial:i7,disable:f7,document:o7,flow:l7,flowInitial:s7,insideSpan:u7,string:a7,text:c7},Symbol.toStringTag,{value:"Module"}));function h7(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},i=[];let l=[],c=[];const d={attempt:T(I),check:T(P),consume:E,enter:N,exit:_,interrupt:T(P,{interrupt:!0})},f={code:null,containerState:{},defineSkip:v,events:[],now:S,parser:e,previous:null,sliceSerialize:g,sliceStream:x,write:p};let h=t.tokenize.call(f,d);return t.resolveAll&&i.push(t),f;function p(B){return l=vr(l,B),b(),l[l.length-1]!==null?[]:(O(t,0),f.events=ep(i,f.events,f),f.events)}function g(B,Y){return g7(x(B),Y)}function x(B){return m7(l,B)}function S(){const{_bufferIndex:B,_index:Y,line:q,column:A,offset:$}=r;return{_bufferIndex:B,_index:Y,line:q,column:A,offset:$}}function v(B){o[B.line]=B.column,L()}function b(){let B;for(;r._index<l.length;){const Y=l[r._index];if(typeof Y=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<Y.length;)k(Y.charCodeAt(r._bufferIndex));else k(Y)}}function k(B){h=h(B)}function E(B){Qe(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,L()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=B}function N(B,Y){const q=Y||{};return q.type=B,q.start=S(),f.events.push(["enter",q,f]),c.push(q),q}function _(B){const Y=c.pop();return Y.end=S(),f.events.push(["exit",Y,f]),Y}function I(B,Y){O(B,Y.from)}function P(B,Y){Y.restore()}function T(B,Y){return q;function q(A,$,F){let G,D,W,M;return Array.isArray(A)?X(A):"tokenize"in A?X([A]):H(A);function H(Q){return K;function K(te){const J=te!==null&&Q[te],ie=te!==null&&Q.null,le=[...Array.isArray(J)?J:J?[J]:[],...Array.isArray(ie)?ie:ie?[ie]:[]];return X(le)(te)}}function X(Q){return G=Q,D=0,Q.length===0?F:R(Q[D])}function R(Q){return K;function K(te){return M=U(),W=Q,Q.partial||(f.currentConstruct=Q),Q.name&&f.parser.constructs.disable.null.includes(Q.name)?Z():Q.tokenize.call(Y?Object.assign(Object.create(f),Y):f,d,V,Z)(te)}}function V(Q){return B(W,M),$}function Z(Q){return M.restore(),++D<G.length?R(G[D]):F}}}function O(B,Y){B.resolveAll&&!i.includes(B)&&i.push(B),B.resolve&&ur(f.events,Y,f.events.length-Y,B.resolve(f.events.slice(Y),f)),B.resolveTo&&(f.events=B.resolveTo(f.events,f))}function U(){const B=S(),Y=f.previous,q=f.currentConstruct,A=f.events.length,$=Array.from(c);return{from:A,restore:F};function F(){r=B,f.previous=Y,f.currentConstruct=q,f.events.length=A,c=$,L()}}function L(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function m7(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,i=t.end._bufferIndex;let l;if(n===o)l=[e[n].slice(r,i)];else{if(l=e.slice(n,o),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}i>0&&l.push(e[o].slice(0,i))}return l}function g7(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const i=e[n];let l;if(typeof i=="string")l=i;else switch(i){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&o)continue;l=" ";break}default:l=String.fromCharCode(i)}o=i===-2,r.push(l)}return r.join("")}function x7(e){const r={constructs:i2([p7,...(e||{}).extensions||[]]),content:o(TU),defined:[],document:o(MU),flow:o(JW),lazy:{},string:o(t7),text:o(n7)};return r;function o(i){return l;function l(c){return h7(r,i,c)}}}function y7(e){for(;!u2(e););return e}const K1=/[\0\t\n\r]/g;function v7(){let e=1,t="",n=!0,r;return o;function o(i,l,c){const d=[];let f,h,p,g,x;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(l||void 0).decode(i)),p=0,t="",n&&(i.charCodeAt(0)===65279&&p++,n=void 0);p<i.length;){if(K1.lastIndex=p,f=K1.exec(i),g=f&&f.index!==void 0?f.index:i.length,x=i.charCodeAt(g),!f){t=i.slice(p);break}if(x===10&&p===g&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),p<g&&(d.push(i.slice(p,g)),e+=g-p),x){case 0:{d.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,d.push(-2);e++<h;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return c&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const w7=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function b7(e){return e.replace(w7,S7)}function S7(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),i=o===120||o===88;return s2(n.slice(i?2:1),i?16:10)}return yy(n)||e}const g2={}.hasOwnProperty;function k7(e,t,n){return typeof t!="string"&&(n=t,t=void 0),C7(n)(y7(x7(n).document().write(v7()(e,t,!0))))}function C7(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Ze),autolinkProtocol:U,autolinkEmail:U,atxHeading:i(Ae),blockQuote:i(ie),characterEscape:U,characterReference:U,codeFenced:i(le),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:i(le,l),codeText:i(de,l),codeTextData:U,data:U,codeFlowValue:U,definition:i(fe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:i(ye),hardBreakEscape:i(Re),hardBreakTrailing:i(Re),htmlFlow:i(nt,l),htmlFlowData:U,htmlText:i(nt,l),htmlTextData:U,image:i(rt),label:l,link:i(Ze),listItem:i(Ce),listItemValue:g,listOrdered:i(kt,p),listUnordered:i(kt),paragraph:i(tt),reference:R,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:i(Ae),strong:i(ht),thematicBreak:i(Et)},exit:{atxHeading:d(),atxHeadingSequence:I,autolink:d(),autolinkEmail:J,autolinkProtocol:te,blockQuote:d(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:Q,characterReference:K,codeFenced:d(b),codeFencedFence:v,codeFencedFenceInfo:x,codeFencedFenceMeta:S,codeFlowValue:L,codeIndented:d(k),codeText:d($),codeTextData:L,data:L,definition:d(),definitionDestinationString:_,definitionLabelString:E,definitionTitleString:N,emphasis:d(),hardBreakEscape:d(Y),hardBreakTrailing:d(Y),htmlFlow:d(q),htmlFlowData:L,htmlText:d(A),htmlTextData:L,image:d(G),label:W,labelText:D,lineEnding:B,link:d(F),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:V,resourceDestinationString:M,resourceTitleString:H,resource:X,setextHeading:d(O),setextHeadingLineSequence:T,setextHeadingText:P,strong:d(),thematicBreak:d()}};x2(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ue){let me={type:"root",children:[]};const Ee={stack:[me],tokenStack:[],config:t,enter:c,exit:f,buffer:l,resume:h,data:n},We=[];let Ie=-1;for(;++Ie<ue.length;)if(ue[Ie][1].type==="listOrdered"||ue[Ie][1].type==="listUnordered")if(ue[Ie][0]==="enter")We.push(Ie);else{const mt=We.pop();Ie=o(ue,mt,Ie)}for(Ie=-1;++Ie<ue.length;){const mt=t[ue[Ie][0]];g2.call(mt,ue[Ie][1].type)&&mt[ue[Ie][1].type].call(Object.assign({sliceSerialize:ue[Ie][2].sliceSerialize},Ee),ue[Ie][1])}if(Ee.tokenStack.length>0){const mt=Ee.tokenStack[Ee.tokenStack.length-1];(mt[1]||Q1).call(Ee,void 0,mt[0])}for(me.position={start:ti(ue.length>0?ue[0][1].start:{line:1,column:1,offset:0}),end:ti(ue.length>0?ue[ue.length-2][1].end:{line:1,column:1,offset:0})},Ie=-1;++Ie<t.transforms.length;)me=t.transforms[Ie](me)||me;return me}function o(ue,me,Ee){let We=me-1,Ie=-1,mt=!1,jt,xt,It,Mt;for(;++We<=Ee;){const ft=ue[We];switch(ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ft[0]==="enter"?Ie++:Ie--,Mt=void 0;break}case"lineEndingBlank":{ft[0]==="enter"&&(jt&&!Mt&&!Ie&&!It&&(It=We),Mt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Mt=void 0}if(!Ie&&ft[0]==="enter"&&ft[1].type==="listItemPrefix"||Ie===-1&&ft[0]==="exit"&&(ft[1].type==="listUnordered"||ft[1].type==="listOrdered")){if(jt){let _t=We;for(xt=void 0;_t--;){const pe=ue[_t];if(pe[1].type==="lineEnding"||pe[1].type==="lineEndingBlank"){if(pe[0]==="exit")continue;xt&&(ue[xt][1].type="lineEndingBlank",mt=!0),pe[1].type="lineEnding",xt=_t}else if(!(pe[1].type==="linePrefix"||pe[1].type==="blockQuotePrefix"||pe[1].type==="blockQuotePrefixWhitespace"||pe[1].type==="blockQuoteMarker"||pe[1].type==="listItemIndent"))break}It&&(!xt||It<xt)&&(jt._spread=!0),jt.end=Object.assign({},xt?ue[xt][1].start:ft[1].end),ue.splice(xt||We,0,["exit",jt,ft[2]]),We++,Ee++}if(ft[1].type==="listItemPrefix"){const _t={type:"listItem",_spread:!1,start:Object.assign({},ft[1].start),end:void 0};jt=_t,ue.splice(We,0,["enter",_t,ft[2]]),We++,Ee++,It=void 0,Mt=!0}}}return ue[me][1]._spread=mt,Ee}function i(ue,me){return Ee;function Ee(We){c.call(this,ue(We),We),me&&me.call(this,We)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ue,me,Ee){this.stack[this.stack.length-1].children.push(ue),this.stack.push(ue),this.tokenStack.push([me,Ee||void 0]),ue.position={start:ti(me.start),end:void 0}}function d(ue){return me;function me(Ee){ue&&ue.call(this,Ee),f.call(this,Ee)}}function f(ue,me){const Ee=this.stack.pop(),We=this.tokenStack.pop();if(We)We[0].type!==ue.type&&(me?me.call(this,ue,We[0]):(We[1]||Q1).call(this,ue,We[0]));else throw new Error("Cannot close `"+ue.type+"` ("+Ua({start:ue.start,end:ue.end})+"): its not open");Ee.position.end=ti(ue.end)}function h(){return xy(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(ue){if(this.data.expectingFirstListItemValue){const me=this.stack[this.stack.length-2];me.start=Number.parseInt(this.sliceSerialize(ue),10),this.data.expectingFirstListItemValue=void 0}}function x(){const ue=this.resume(),me=this.stack[this.stack.length-1];me.lang=ue}function S(){const ue=this.resume(),me=this.stack[this.stack.length-1];me.meta=ue}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const ue=this.resume(),me=this.stack[this.stack.length-1];me.value=ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const ue=this.resume(),me=this.stack[this.stack.length-1];me.value=ue.replace(/(\r?\n|\r)$/g,"")}function E(ue){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.label=me,Ee.identifier=Or(this.sliceSerialize(ue)).toLowerCase()}function N(){const ue=this.resume(),me=this.stack[this.stack.length-1];me.title=ue}function _(){const ue=this.resume(),me=this.stack[this.stack.length-1];me.url=ue}function I(ue){const me=this.stack[this.stack.length-1];if(!me.depth){const Ee=this.sliceSerialize(ue).length;me.depth=Ee}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function T(ue){const me=this.stack[this.stack.length-1];me.depth=this.sliceSerialize(ue).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function U(ue){const Ee=this.stack[this.stack.length-1].children;let We=Ee[Ee.length-1];(!We||We.type!=="text")&&(We=Nt(),We.position={start:ti(ue.start),end:void 0},Ee.push(We)),this.stack.push(We)}function L(ue){const me=this.stack.pop();me.value+=this.sliceSerialize(ue),me.position.end=ti(ue.end)}function B(ue){const me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ee=me.children[me.children.length-1];Ee.position.end=ti(ue.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(me.type)&&(U.call(this,ue),L.call(this,ue))}function Y(){this.data.atHardBreak=!0}function q(){const ue=this.resume(),me=this.stack[this.stack.length-1];me.value=ue}function A(){const ue=this.resume(),me=this.stack[this.stack.length-1];me.value=ue}function $(){const ue=this.resume(),me=this.stack[this.stack.length-1];me.value=ue}function F(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=me,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function G(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=me,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function D(ue){const me=this.sliceSerialize(ue),Ee=this.stack[this.stack.length-2];Ee.label=b7(me),Ee.identifier=Or(me).toLowerCase()}function W(){const ue=this.stack[this.stack.length-1],me=this.resume(),Ee=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ee.type==="link"){const We=ue.children;Ee.children=We}else Ee.alt=me}function M(){const ue=this.resume(),me=this.stack[this.stack.length-1];me.url=ue}function H(){const ue=this.resume(),me=this.stack[this.stack.length-1];me.title=ue}function X(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function V(ue){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.label=me,Ee.identifier=Or(this.sliceSerialize(ue)).toLowerCase(),this.data.referenceType="full"}function Z(ue){this.data.characterReferenceType=ue.type}function Q(ue){const me=this.sliceSerialize(ue),Ee=this.data.characterReferenceType;let We;Ee?(We=s2(me,Ee==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):We=yy(me);const Ie=this.stack[this.stack.length-1];Ie.value+=We}function K(ue){const me=this.stack.pop();me.position.end=ti(ue.end)}function te(ue){L.call(this,ue);const me=this.stack[this.stack.length-1];me.url=this.sliceSerialize(ue)}function J(ue){L.call(this,ue);const me=this.stack[this.stack.length-1];me.url="mailto:"+this.sliceSerialize(ue)}function ie(){return{type:"blockquote",children:[]}}function le(){return{type:"code",lang:null,meta:null,value:""}}function de(){return{type:"inlineCode",value:""}}function fe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ye(){return{type:"emphasis",children:[]}}function Ae(){return{type:"heading",depth:0,children:[]}}function Re(){return{type:"break"}}function nt(){return{type:"html",value:""}}function rt(){return{type:"image",title:null,url:"",alt:null}}function Ze(){return{type:"link",title:null,url:"",children:[]}}function kt(ue){return{type:"list",ordered:ue.type==="listOrdered",start:null,spread:ue._spread,children:[]}}function Ce(ue){return{type:"listItem",spread:ue._spread,checked:null,children:[]}}function tt(){return{type:"paragraph",children:[]}}function ht(){return{type:"strong",children:[]}}function Nt(){return{type:"text",value:""}}function Et(){return{type:"thematicBreak"}}}function ti(e){return{line:e.line,column:e.column,offset:e.offset}}function x2(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?x2(e,r):N7(e,r)}}function N7(e,t){let n;for(n in t)if(g2.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Q1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ua({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ua({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ua({start:t.start,end:t.end})+") is still open")}function E7(e){const t=this;t.parser=n;function n(r){return k7(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function j7(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function _7(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function P7(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function A7(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function I7(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function T7(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=jl(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let l,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=i+1,c+=1,e.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function R7(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function M7(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function y2(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),i=o[0];i&&i.type==="text"?i.value="["+i.value:o.unshift({type:"text",value:"["});const l=o[o.length-1];return l&&l.type==="text"?l.value+=r:o.push({type:"text",value:r}),o}function D7(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return y2(e,t);const o={src:jl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const i={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,i),e.applyData(t,i)}function O7(e,t){const n={src:jl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function L7(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function z7(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return y2(e,t);const o={href:jl(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const i={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function $7(e,t){const n={href:jl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function F7(e,t,n){const r=e.all(t),o=n?B7(n):v2(t),i={},l=[];if(typeof t.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const h=r[c];(o||c!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!o?l.push(...h.children):l.push(h)}const d=r[r.length-1];d&&(o||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:i,children:l};return e.patch(t,f),e.applyData(t,f)}function B7(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=v2(n[r])}return t}function v2(e){const t=e.spread;return t??e.children.length>1}function V7(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const l=r[o];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function H7(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function U7(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function W7(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function q7(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),o.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=py(t.children[1]),d=J_(t.children[t.children.length-1]);c&&d&&(l.position={start:c,end:d}),o.push(l)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,i),e.applyData(t,i)}function Y7(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:t.children.length;let d=-1;const f=[];for(;++d<c;){const p=t.children[d],g={},x=l?l[d]:void 0;x&&(g.align=x);let S={type:"element",tagName:i,properties:g,children:[]};p&&(S.children=e.all(p),e.patch(p,S),S=e.applyData(p,S)),f.push(S)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,h),e.applyData(t,h)}function X7(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const J1=9,Z1=32;function G7(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const i=[];for(;r;)i.push(eS(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return i.push(eS(t.slice(o),o>0,!1)),i.join("")}function eS(e,t,n){let r=0,o=e.length;if(t){let i=e.codePointAt(r);for(;i===J1||i===Z1;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(o-1);for(;i===J1||i===Z1;)o--,i=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function K7(e,t){const n={type:"text",value:G7(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Q7(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const J7={blockquote:j7,break:_7,code:P7,delete:A7,emphasis:I7,footnoteReference:T7,heading:R7,html:M7,imageReference:D7,image:O7,inlineCode:L7,linkReference:z7,link:$7,listItem:F7,list:V7,paragraph:H7,root:U7,strong:W7,table:q7,tableCell:X7,tableRow:Y7,text:K7,thematicBreak:Q7,toml:ud,yaml:ud,definition:ud,footnoteDefinition:ud};function ud(){}const w2=-1,tp=0,qa=1,nf=2,wy=3,by=4,Sy=5,ky=6,b2=7,S2=8,tS=typeof self=="object"?self:globalThis,Z7=(e,t)=>{const n=(o,i)=>(e.set(i,o),o),r=o=>{if(e.has(o))return e.get(o);const[i,l]=t[o];switch(i){case tp:case w2:return n(l,o);case qa:{const c=n([],o);for(const d of l)c.push(r(d));return c}case nf:{const c=n({},o);for(const[d,f]of l)c[r(d)]=r(f);return c}case wy:return n(new Date(l),o);case by:{const{source:c,flags:d}=l;return n(new RegExp(c,d),o)}case Sy:{const c=n(new Map,o);for(const[d,f]of l)c.set(r(d),r(f));return c}case ky:{const c=n(new Set,o);for(const d of l)c.add(r(d));return c}case b2:{const{name:c,message:d}=l;return n(new tS[c](d),o)}case S2:return n(BigInt(l),o);case"BigInt":return n(Object(BigInt(l)),o);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new tS[i](l),o)};return r},nS=e=>Z7(new Map,e)(0),Vs="",{toString:eq}={},{keys:tq}=Object,ka=e=>{const t=typeof e;if(t!=="object"||!e)return[tp,t];const n=eq.call(e).slice(8,-1);switch(n){case"Array":return[qa,Vs];case"Object":return[nf,Vs];case"Date":return[wy,Vs];case"RegExp":return[by,Vs];case"Map":return[Sy,Vs];case"Set":return[ky,Vs];case"DataView":return[qa,n]}return n.includes("Array")?[qa,n]:n.includes("Error")?[b2,n]:[nf,n]},dd=([e,t])=>e===tp&&(t==="function"||t==="symbol"),nq=(e,t,n,r)=>{const o=(l,c)=>{const d=r.push(l)-1;return n.set(c,d),d},i=l=>{if(n.has(l))return n.get(l);let[c,d]=ka(l);switch(c){case tp:{let h=l;switch(d){case"bigint":c=S2,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);h=null;break;case"undefined":return o([w2],l)}return o([c,h],l)}case qa:{if(d){let g=l;return d==="DataView"?g=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(g=new Uint8Array(l)),o([d,[...g]],l)}const h=[],p=o([c,h],l);for(const g of l)h.push(i(g));return p}case nf:{if(d)switch(d){case"BigInt":return o([d,l.toString()],l);case"Boolean":case"Number":case"String":return o([d,l.valueOf()],l)}if(t&&"toJSON"in l)return i(l.toJSON());const h=[],p=o([c,h],l);for(const g of tq(l))(e||!dd(ka(l[g])))&&h.push([i(g),i(l[g])]);return p}case wy:return o([c,l.toISOString()],l);case by:{const{source:h,flags:p}=l;return o([c,{source:h,flags:p}],l)}case Sy:{const h=[],p=o([c,h],l);for(const[g,x]of l)(e||!(dd(ka(g))||dd(ka(x))))&&h.push([i(g),i(x)]);return p}case ky:{const h=[],p=o([c,h],l);for(const g of l)(e||!dd(ka(g)))&&h.push(i(g));return p}}const{message:f}=l;return o([c,{name:d,message:f}],l)};return i},rS=(e,{json:t,lossy:n}={})=>{const r=[];return nq(!(t||n),!!t,new Map,r)(e),r},rf=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?nS(rS(e,t)):structuredClone(e):(e,t)=>nS(rS(e,t));function rq(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function oq(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function iq(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||rq,r=e.options.footnoteBackLabel||oq,o=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const h=e.all(f),p=String(f.identifier).toUpperCase(),g=jl(p.toLowerCase());let x=0;const S=[],v=e.footnoteCounts.get(p);for(;v!==void 0&&++x<=v;){S.length>0&&S.push({type:"text",value:" "});let E=typeof n=="string"?n:n(d,x);typeof E=="string"&&(E={type:"text",value:E}),S.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,x),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const b=h[h.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const E=b.children[b.children.length-1];E&&E.type==="text"?E.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...S)}else h.push(...S);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(h,!0)};e.patch(f,k),c.push(k)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...rf(l),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const np=function(e){if(e==null)return cq;if(typeof e=="function")return rp(e);if(typeof e=="object")return Array.isArray(e)?sq(e):lq(e);if(typeof e=="string")return aq(e);throw new Error("Expected function, string, or object as test")};function sq(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=np(e[n]);return rp(r);function r(...o){let i=-1;for(;++i<t.length;)if(t[i].apply(this,o))return!0;return!1}}function lq(e){const t=e;return rp(n);function n(r){const o=r;let i;for(i in e)if(o[i]!==t[i])return!1;return!0}}function aq(e){return rp(t);function t(n){return n&&n.type===e}}function rp(e){return t;function t(n,r,o){return!!(uq(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function cq(){return!0}function uq(e){return e!==null&&typeof e=="object"&&"type"in e}const k2=[],dq=!0,Vg=!1,fq="skip";function C2(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const i=np(o),l=r?-1:1;c(e,void 0,[])();function c(d,f,h){const p=d&&typeof d=="object"?d:{};if(typeof p.type=="string"){const x=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(d.type+(x?"<"+x+">":""))+")"})}return g;function g(){let x=k2,S,v,b;if((!t||i(d,f,h[h.length-1]||void 0))&&(x=pq(n(d,h)),x[0]===Vg))return x;if("children"in d&&d.children){const k=d;if(k.children&&x[0]!==fq)for(v=(r?k.children.length:-1)+l,b=h.concat(k);v>-1&&v<k.children.length;){const E=k.children[v];if(S=c(E,v,b)(),S[0]===Vg)return S;v=typeof S[1]=="number"?S[1]:v+l}}return x}}}function pq(e){return Array.isArray(e)?e:typeof e=="number"?[dq,e]:e==null?k2:[e]}function Cy(e,t,n,r){let o,i,l;typeof t=="function"?(i=void 0,l=t,o=n):(i=t,l=n,o=r),C2(e,i,c,o);function c(d,f){const h=f[f.length-1],p=h?h.children.indexOf(d):void 0;return l(d,p,h)}}const Hg={}.hasOwnProperty,hq={};function mq(e,t){const n=t||hq,r=new Map,o=new Map,i=new Map,l={...J7,...n.handlers},c={all:f,applyData:xq,definitionById:r,footnoteById:o,footnoteCounts:i,footnoteOrder:[],handlers:l,one:d,options:n,patch:gq,wrap:vq};return Cy(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:o,g=String(h.identifier).toUpperCase();p.has(g)||p.set(g,h)}}),c;function d(h,p){const g=h.type,x=c.handlers[g];if(Hg.call(c.handlers,g)&&x)return x(c,h,p);if(c.options.passThrough&&c.options.passThrough.includes(g)){if("children"in h){const{children:v,...b}=h,k=rf(b);return k.children=c.all(h),k}return rf(h)}return(c.options.unknownHandler||yq)(c,h,p)}function f(h){const p=[];if("children"in h){const g=h.children;let x=-1;for(;++x<g.length;){const S=c.one(g[x],h);if(S){if(x&&g[x-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=oS(S.value)),!Array.isArray(S)&&S.type==="element")){const v=S.children[0];v&&v.type==="text"&&(v.value=oS(v.value))}Array.isArray(S)?p.push(...S):p.push(S)}}}return p}}function gq(e,t){e.position&&(t.position=oU(e))}function xq(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&i&&Object.assign(n.properties,rf(i)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function yq(e,t){const n=t.data||{},r="value"in t&&!(Hg.call(n,"hProperties")||Hg.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vq(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function oS(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function iS(e,t){const n=mq(e,t),r=n.one(e,void 0),o=iq(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&i.children.push({type:"text",value:`
`},o),i}function wq(e,t){return e&&"run"in e?async function(n,r){const o=iS(n,{file:r,...t});await e.run(o,r)}:function(n,r){return iS(n,{file:r,...e||t})}}function sS(e){if(e)throw e}var Lm,lS;function bq(){if(lS)return Lm;lS=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},i=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var h=e.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!p)return!1;var g;for(g in f);return typeof g>"u"||e.call(f,g)},l=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},c=function(f,h){if(h==="__proto__")if(e.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return Lm=function d(){var f,h,p,g,x,S,v=arguments[0],b=1,k=arguments.length,E=!1;for(typeof v=="boolean"&&(E=v,v=arguments[1]||{},b=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});b<k;++b)if(f=arguments[b],f!=null)for(h in f)p=c(v,h),g=c(f,h),v!==g&&(E&&g&&(i(g)||(x=o(g)))?(x?(x=!1,S=p&&o(p)?p:[]):S=p&&i(p)?p:{},l(v,{name:h,newValue:d(E,S,g)})):typeof g<"u"&&l(v,{name:h,newValue:g}));return v},Lm}var Sq=bq();const zm=hc(Sq);function Ug(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function kq(){const e=[],t={run:n,use:r};return t;function n(...o){let i=-1;const l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...o);function c(d,...f){const h=e[++i];let p=-1;if(d){l(d);return}for(;++p<o.length;)(f[p]===null||f[p]===void 0)&&(f[p]=o[p]);o=f,h?Cq(h,c)(...f):l(null,...f)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function Cq(e,t){let n;return r;function r(...l){const c=e.length>l.length;let d;c&&l.push(o);try{d=e.apply(this,l)}catch(f){const h=f;if(c&&n)throw h;return o(h)}c||(d&&d.then&&typeof d.then=="function"?d.then(i,o):d instanceof Error?o(d):i(d))}function o(l,...c){n||(n=!0,t(l,...c))}function i(l){o(null,l)}}const Gr={basename:Nq,dirname:Eq,extname:jq,join:_q,sep:"/"};function Nq(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Rc(e);let n=0,r=-1,o=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(i){n=o+1;break}}else r<0&&(i=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,c=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(i){n=o+1;break}}else l<0&&(i=!0,l=o+1),c>-1&&(e.codePointAt(o)===t.codePointAt(c--)?c<0&&(r=o):(c=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function Eq(e){if(Rc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function jq(e){Rc(e);let t=e.length,n=-1,r=0,o=-1,i=0,l;for(;t--;){const c=e.codePointAt(t);if(c===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),c===46?o<0?o=t:i!==1&&(i=1):o>-1&&(i=-1)}return o<0||n<0||i===0||i===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function _q(...e){let t=-1,n;for(;++t<e.length;)Rc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Pq(n)}function Pq(e){Rc(e);const t=e.codePointAt(0)===47;let n=Aq(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Aq(e,t){let n="",r=0,o=-1,i=0,l=-1,c,d;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(o===l-1||i===1))if(o!==l-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),o=l,i=0;continue}}else if(n.length>0){n="",r=0,o=l,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,l):n=e.slice(o+1,l),r=l-o-1;o=l,i=0}else c===46&&i>-1?i++:i=-1}return n}function Rc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Iq={cwd:Tq};function Tq(){return"/"}function Wg(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Rq(e){if(typeof e=="string")e=new URL(e);else if(!Wg(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Mq(e)}function Mq(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const $m=["history","path","basename","stem","extname","dirname"];class N2{constructor(t){let n;t?Wg(t)?n={path:t}:typeof t=="string"||Dq(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Iq.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<$m.length;){const i=$m[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let o;for(o in n)$m.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Gr.basename(this.path):void 0}set basename(t){Bm(t,"basename"),Fm(t,"basename"),this.path=Gr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Gr.dirname(this.path):void 0}set dirname(t){aS(this.basename,"dirname"),this.path=Gr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Gr.extname(this.path):void 0}set extname(t){if(Fm(t,"extname"),aS(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Wg(t)&&(t=Rq(t)),Bm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Gr.basename(this.path,this.extname):void 0}set stem(t){Bm(t,"stem"),Fm(t,"stem"),this.path=Gr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new Dn(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Fm(e,t){if(e&&e.includes(Gr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Gr.sep+"`")}function Bm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function aS(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Dq(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Oq=function(e){const r=this.constructor.prototype,o=r[e],i=function(){return o.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},Lq={}.hasOwnProperty;class Ny extends Oq{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=kq()}copy(){const t=new Ny;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(zm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Um("data",this.frozen),this.namespace[t]=n,this):Lq.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Um("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=fd(t),r=this.parser||this.Parser;return Vm("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Vm("process",this.parser||this.Parser),Hm("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(i,l){const c=fd(t),d=r.parse(c);r.run(d,c,function(h,p,g){if(h||!p||!g)return f(h);const x=p,S=r.stringify(x,g);Fq(S)?g.value=S:g.result=S,f(h,g)});function f(h,p){h||!p?l(h):i?i(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),Vm("processSync",this.parser||this.Parser),Hm("processSync",this.compiler||this.Compiler),this.process(t,o),uS("processSync","process",n),r;function o(i,l){n=!0,sS(i),r=l}}run(t,n,r){cS(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(l,c){const d=fd(n);o.run(t,d,f);function f(h,p,g){const x=p||t;h?c(h):l?l(x):r(void 0,x,g)}}}runSync(t,n){let r=!1,o;return this.run(t,n,i),uS("runSync","run",r),o;function i(l,c){sS(l),o=c,r=!0}}stringify(t,n){this.freeze();const r=fd(n),o=this.compiler||this.Compiler;return Hm("stringify",o),cS(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(Um("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...p]=f;d(h,p)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(o.settings=zm(!0,o.settings,f.settings))}function c(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const p=f[h];i(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,h){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===f){g=p;break}if(g===-1)r.push([f,...h]);else if(h.length>0){let[x,...S]=h;const v=r[g][1];Ug(v)&&Ug(x)&&(x=zm(!0,v,x)),r[g]=[f,x,...S]}}}}const zq=new Ny().freeze();function Vm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Hm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Um(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function cS(e){if(!Ug(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function uS(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function fd(e){return $q(e)?e:new N2(e)}function $q(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Fq(e){return typeof e=="string"||Bq(e)}function Bq(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Vq="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",dS=[],fS={allowDangerousHtml:!0},Hq=/^(https?|ircs?|mailto|xmpp)$/i,Uq=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Wq(e){const t=qq(e),n=Yq(e);return Xq(t.runSync(t.parse(n),n),e)}function qq(e){const t=e.rehypePlugins||dS,n=e.remarkPlugins||dS,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...fS}:fS;return zq().use(E7).use(n).use(wq,r).use(t)}function Yq(e){const t=e.children||"",n=new N2;return typeof t=="string"&&(n.value=t),n}function Xq(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,i=t.disallowedElements,l=t.skipHtml,c=t.unwrapDisallowed,d=t.urlTransform||Gq;for(const h of Uq)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+Vq+h.id,void 0);return Cy(e,f),cU(e,{Fragment:u.Fragment,components:o,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function f(h,p,g){if(h.type==="raw"&&g&&typeof p=="number")return l?g.children.splice(p,1):g.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let x;for(x in Mm)if(Object.hasOwn(Mm,x)&&Object.hasOwn(h.properties,x)){const S=h.properties[x],v=Mm[x];(v===null||v.includes(h.tagName))&&(h.properties[x]=d(String(S||""),x,h))}}if(h.type==="element"){let x=n?!n.includes(h.tagName):i?i.includes(h.tagName):!1;if(!x&&r&&typeof p=="number"&&(x=!r(h,p,g)),x&&g&&typeof p=="number")return c&&h.children?g.children.splice(p,1,...h.children):g.children.splice(p,1),p}}}function Gq(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||Hq.test(e.slice(0,t))?e:""}function pS(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}function Kq(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Qq(e,t,n){const o=np((n||{}).ignore||[]),i=Jq(t);let l=-1;for(;++l<i.length;)C2(e,"text",c);function c(f,h){let p=-1,g;for(;++p<h.length;){const x=h[p],S=g?g.children:void 0;if(o(x,S?S.indexOf(x):void 0,g))return;g=x}if(g)return d(f,h)}function d(f,h){const p=h[h.length-1],g=i[l][0],x=i[l][1];let S=0;const b=p.children.indexOf(f);let k=!1,E=[];g.lastIndex=0;let N=g.exec(f.value);for(;N;){const _=N.index,I={index:N.index,input:N.input,stack:[...h,f]};let P=x(...N,I);if(typeof P=="string"&&(P=P.length>0?{type:"text",value:P}:void 0),P===!1?g.lastIndex=_+1:(S!==_&&E.push({type:"text",value:f.value.slice(S,_)}),Array.isArray(P)?E.push(...P):P&&E.push(P),S=_+N[0].length,k=!0),!g.global)break;N=g.exec(f.value)}return k?(S<f.value.length&&E.push({type:"text",value:f.value.slice(S)}),p.children.splice(b,1,...E)):E=[f],b+E.length}}function Jq(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const o=n[r];t.push([Zq(o[0]),eY(o[1])])}return t}function Zq(e){return typeof e=="string"?new RegExp(Kq(e),"g"):e}function eY(e){return typeof e=="function"?e:function(){return e}}const Wm="phrasing",qm=["autolink","link","image","label"];function tY(){return{transforms:[aY],enter:{literalAutolink:rY,literalAutolinkEmail:Ym,literalAutolinkHttp:Ym,literalAutolinkWww:Ym},exit:{literalAutolink:lY,literalAutolinkEmail:sY,literalAutolinkHttp:oY,literalAutolinkWww:iY}}}function nY(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Wm,notInConstruct:qm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Wm,notInConstruct:qm},{character:":",before:"[ps]",after:"\\/",inConstruct:Wm,notInConstruct:qm}]}}function rY(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Ym(e){this.config.enter.autolinkProtocol.call(this,e)}function oY(e){this.config.exit.autolinkProtocol.call(this,e)}function iY(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function sY(e){this.config.exit.autolinkEmail.call(this,e)}function lY(e){this.exit(e)}function aY(e){Qq(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,cY],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),uY]],{ignore:["link","linkReference"]})}function cY(e,t,n,r,o){let i="";if(!E2(o)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!dY(n)))return!1;const l=fY(n+r);if(!l[0])return!1;const c={type:"link",title:null,url:i+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function uY(e,t,n,r){return!E2(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function dY(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function fY(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=pS(e,"(");let i=pS(e,")");for(;r!==-1&&o>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function E2(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||is(n)||Zf(n))&&(!t||n!==47)}j2.peek=bY;function pY(){this.buffer()}function hY(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function mY(){this.buffer()}function gY(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function xY(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Or(this.sliceSerialize(e)).toLowerCase(),n.label=t}function yY(e){this.exit(e)}function vY(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Or(this.sliceSerialize(e)).toLowerCase(),n.label=t}function wY(e){this.exit(e)}function bY(){return"["}function j2(e,t,n,r){const o=n.createTracker(r);let i=o.move("[^");const l=n.enter("footnoteReference"),c=n.enter("reference");return i+=o.move(n.safe(n.associationId(e),{after:"]",before:i})),c(),l(),i+=o.move("]"),i}function SY(){return{enter:{gfmFootnoteCallString:pY,gfmFootnoteCall:hY,gfmFootnoteDefinitionLabelString:mY,gfmFootnoteDefinition:gY},exit:{gfmFootnoteCallString:xY,gfmFootnoteCall:yY,gfmFootnoteDefinitionLabelString:vY,gfmFootnoteDefinition:wY}}}function kY(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:j2},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,o,i,l){const c=i.createTracker(l);let d=c.move("[^");const f=i.enter("footnoteDefinition"),h=i.enter("label");return d+=c.move(i.safe(i.associationId(r),{before:d,after:"]"})),h(),d+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),d+=c.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,c.current()),t?_2:CY))),f(),d}}function CY(e,t,n){return t===0?e:_2(e,t,n)}function _2(e,t,n){return(n?"":"    ")+e}const NY=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];P2.peek=AY;function EY(){return{canContainEols:["delete"],enter:{strikethrough:_Y},exit:{strikethrough:PY}}}function jY(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:NY}],handlers:{delete:P2}}}function _Y(e){this.enter({type:"delete",children:[]},e)}function PY(e){this.exit(e)}function P2(e,t,n,r){const o=n.createTracker(r),i=n.enter("strikethrough");let l=o.move("~~");return l+=n.containerPhrasing(e,{...o.current(),before:l,after:"~"}),l+=o.move("~~"),i(),l}function AY(){return"~"}function IY(e){return e.length}function TY(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||IY,i=[],l=[],c=[],d=[];let f=0,h=-1;for(;++h<e.length;){const v=[],b=[];let k=-1;for(e[h].length>f&&(f=e[h].length);++k<e[h].length;){const E=RY(e[h][k]);if(n.alignDelimiters!==!1){const N=o(E);b[k]=N,(d[k]===void 0||N>d[k])&&(d[k]=N)}v.push(E)}l[h]=v,c[h]=b}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<f;)i[p]=hS(r[p]);else{const v=hS(r);for(;++p<f;)i[p]=v}p=-1;const g=[],x=[];for(;++p<f;){const v=i[p];let b="",k="";v===99?(b=":",k=":"):v===108?b=":":v===114&&(k=":");let E=n.alignDelimiters===!1?1:Math.max(1,d[p]-b.length-k.length);const N=b+"-".repeat(E)+k;n.alignDelimiters!==!1&&(E=b.length+E+k.length,E>d[p]&&(d[p]=E),x[p]=E),g[p]=N}l.splice(1,0,g),c.splice(1,0,x),h=-1;const S=[];for(;++h<l.length;){const v=l[h],b=c[h];p=-1;const k=[];for(;++p<f;){const E=v[p]||"";let N="",_="";if(n.alignDelimiters!==!1){const I=d[p]-(b[p]||0),P=i[p];P===114?N=" ".repeat(I):P===99?I%2?(N=" ".repeat(I/2+.5),_=" ".repeat(I/2-.5)):(N=" ".repeat(I/2),_=N):_=" ".repeat(I)}n.delimiterStart!==!1&&!p&&k.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&E==="")&&(n.delimiterStart!==!1||p)&&k.push(" "),n.alignDelimiters!==!1&&k.push(N),k.push(E),n.alignDelimiters!==!1&&k.push(_),n.padding!==!1&&k.push(" "),(n.delimiterEnd!==!1||p!==f-1)&&k.push("|")}S.push(n.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return S.join(`
`)}function RY(e){return e==null?"":String(e)}function hS(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function MY(e,t,n,r){const o=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const l=n.indentLines(n.containerFlow(e,i.current()),DY);return o(),l}function DY(e,t,n){return">"+(n?"":" ")+e}function OY(e,t){return mS(e,t.inConstruct,!0)&&!mS(e,t.notInConstruct,!1)}function mS(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function gS(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&OY(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function LY(e,t){const n=String(e);let r=n.indexOf(t),o=r,i=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++i>l&&(l=i):i=1,o=r+t.length,r=n.indexOf(t,o);return l}function zY(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function $Y(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function FY(e,t,n,r){const o=$Y(n),i=e.value||"",l=o==="`"?"GraveAccent":"Tilde";if(zY(e,n)){const p=n.enter("codeIndented"),g=n.indentLines(i,BY);return p(),g}const c=n.createTracker(r),d=o.repeat(Math.max(LY(i,o)+1,3)),f=n.enter("codeFenced");let h=c.move(d);if(e.lang){const p=n.enter(`codeFencedLang${l}`);h+=c.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...c.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${l}`);h+=c.move(" "),h+=c.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...c.current()})),p()}return h+=c.move(`
`),i&&(h+=c.move(i+`
`)),h+=c.move(d),f(),h}function BY(e,t,n){return(n?"":"    ")+e}function Ey(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function VY(e,t,n,r){const o=Ey(n),i=o==='"'?"Quote":"Apostrophe",l=n.enter("definition");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("[");return f+=d.move(n.safe(n.associationId(e),{before:f,after:"]",...d.current()})),f+=d.move("]: "),c(),!e.url||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...d.current()}))),c(),e.title&&(c=n.enter(`title${i}`),f+=d.move(" "+o),f+=d.move(n.safe(e.title,{before:f,after:o,...d.current()})),f+=d.move(o),c()),l(),f}function HY(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function pc(e){return"&#x"+e.toString(16).toUpperCase()+";"}function of(e,t,n){const r=hl(e),o=hl(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}A2.peek=UY;function A2(e,t,n,r){const o=HY(n),i=n.enter("emphasis"),l=n.createTracker(r),c=l.move(o);let d=l.move(n.containerPhrasing(e,{after:o,before:c,...l.current()}));const f=d.charCodeAt(0),h=of(r.before.charCodeAt(r.before.length-1),f,o);h.inside&&(d=pc(f)+d.slice(1));const p=d.charCodeAt(d.length-1),g=of(r.after.charCodeAt(0),p,o);g.inside&&(d=d.slice(0,-1)+pc(p));const x=l.move(o);return i(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},c+d+x}function UY(e,t,n){return n.options.emphasis||"*"}function WY(e,t){let n=!1;return Cy(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Vg}),!!((!e.depth||e.depth<3)&&xy(e)&&(t.options.setext||n))}function qY(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(WY(e,n)){const h=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return p(),h(),g+`
`+(o===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const l="#".repeat(o),c=n.enter("headingAtx"),d=n.enter("phrasing");i.move(l+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(f)&&(f=pc(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),d(),c(),f}I2.peek=YY;function I2(e){return e.value||""}function YY(){return"<"}T2.peek=XY;function T2(e,t,n,r){const o=Ey(n),i=o==='"'?"Quote":"Apostrophe",l=n.enter("image");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("![");return f+=d.move(n.safe(e.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":")",...d.current()}))),c(),e.title&&(c=n.enter(`title${i}`),f+=d.move(" "+o),f+=d.move(n.safe(e.title,{before:f,after:o,...d.current()})),f+=d.move(o),c()),f+=d.move(")"),l(),f}function XY(){return"!"}R2.peek=GY;function R2(e,t,n,r){const o=e.referenceType,i=n.enter("imageReference");let l=n.enter("label");const c=n.createTracker(r);let d=c.move("![");const f=n.safe(e.alt,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return l(),n.stack=h,i(),o==="full"||!f||f!==p?d+=c.move(p+"]"):o==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function GY(){return"!"}M2.peek=KY;function M2(e,t,n){let r=e.value||"",o="`",i=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const l=n.unsafe[i],c=n.compilePattern(l);let d;if(l.atBreak)for(;d=c.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return o+r+o}function KY(){return"`"}function D2(e,t){const n=xy(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}O2.peek=QY;function O2(e,t,n,r){const o=Ey(n),i=o==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let c,d;if(D2(e,n)){const h=n.stack;n.stack=[],c=n.enter("autolink");let p=l.move("<");return p+=l.move(n.containerPhrasing(e,{before:p,after:">",...l.current()})),p+=l.move(">"),c(),n.stack=h,p}c=n.enter("link"),d=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(e,{before:f,after:"](",...l.current()})),f+=l.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(e.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(d=n.enter("destinationRaw"),f+=l.move(n.safe(e.url,{before:f,after:e.title?" ":")",...l.current()}))),d(),e.title&&(d=n.enter(`title${i}`),f+=l.move(" "+o),f+=l.move(n.safe(e.title,{before:f,after:o,...l.current()})),f+=l.move(o),d()),f+=l.move(")"),c(),f}function QY(e,t,n){return D2(e,n)?"<":"["}L2.peek=JY;function L2(e,t,n,r){const o=e.referenceType,i=n.enter("linkReference");let l=n.enter("label");const c=n.createTracker(r);let d=c.move("[");const f=n.containerPhrasing(e,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return l(),n.stack=h,i(),o==="full"||!f||f!==p?d+=c.move(p+"]"):o==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function JY(){return"["}function jy(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function ZY(e){const t=jy(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function eX(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function z2(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function tX(e,t,n,r){const o=n.enter("list"),i=n.bulletCurrent;let l=e.ordered?eX(n):jy(n);const c=e.ordered?l==="."?")":".":ZY(n);let d=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),z2(n)===l&&h){let p=-1;for(;++p<e.children.length;){const g=e.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=c),n.bulletCurrent=l;const f=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=i,o(),f}function nX(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function rX(e,t,n,r){const o=nX(n);let i=n.bulletCurrent||jy(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let l=i.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const c=n.createTracker(r);c.move(i+" ".repeat(l-i.length)),c.shift(l);const d=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,c.current()),h);return d(),f;function h(p,g,x){return g?(x?"":" ".repeat(l))+p:(x?i:i+" ".repeat(l-i.length))+p}}function oX(e,t,n,r){const o=n.enter("paragraph"),i=n.enter("phrasing"),l=n.containerPhrasing(e,r);return i(),o(),l}const iX=np(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function sX(e,t,n,r){return(e.children.some(function(l){return iX(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function lX(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}$2.peek=aX;function $2(e,t,n,r){const o=lX(n),i=n.enter("strong"),l=n.createTracker(r),c=l.move(o+o);let d=l.move(n.containerPhrasing(e,{after:o,before:c,...l.current()}));const f=d.charCodeAt(0),h=of(r.before.charCodeAt(r.before.length-1),f,o);h.inside&&(d=pc(f)+d.slice(1));const p=d.charCodeAt(d.length-1),g=of(r.after.charCodeAt(0),p,o);g.inside&&(d=d.slice(0,-1)+pc(p));const x=l.move(o+o);return i(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},c+d+x}function aX(e,t,n){return n.options.strong||"*"}function cX(e,t,n,r){return n.safe(e.value,r)}function uX(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function dX(e,t,n){const r=(z2(n)+(n.options.ruleSpaces?" ":"")).repeat(uX(n));return n.options.ruleSpaces?r.slice(0,-1):r}const F2={blockquote:MY,break:gS,code:FY,definition:VY,emphasis:A2,hardBreak:gS,heading:qY,html:I2,image:T2,imageReference:R2,inlineCode:M2,link:O2,linkReference:L2,list:tX,listItem:rX,paragraph:oX,root:sX,strong:$2,text:cX,thematicBreak:dX};function fX(){return{enter:{table:pX,tableData:xS,tableHeader:xS,tableRow:mX},exit:{codeText:gX,table:hX,tableData:Xm,tableHeader:Xm,tableRow:Xm}}}function pX(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function hX(e){this.exit(e),this.data.inTable=void 0}function mX(e){this.enter({type:"tableRow",children:[]},e)}function Xm(e){this.exit(e)}function xS(e){this.enter({type:"tableCell",children:[]},e)}function gX(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,xX));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function xX(e,t){return t==="|"?t:e}function yX(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:l,tableCell:d,tableRow:c}};function l(x,S,v,b){return f(h(x,v,b),x.align)}function c(x,S,v,b){const k=p(x,v,b),E=f([k]);return E.slice(0,E.indexOf(`
`))}function d(x,S,v,b){const k=v.enter("tableCell"),E=v.enter("phrasing"),N=v.containerPhrasing(x,{...b,before:i,after:i});return E(),k(),N}function f(x,S){return TY(x,{align:S,alignDelimiters:r,padding:n,stringLength:o})}function h(x,S,v){const b=x.children;let k=-1;const E=[],N=S.enter("table");for(;++k<b.length;)E[k]=p(b[k],S,v);return N(),E}function p(x,S,v){const b=x.children;let k=-1;const E=[],N=S.enter("tableRow");for(;++k<b.length;)E[k]=d(b[k],x,S,v);return N(),E}function g(x,S,v){let b=F2.inlineCode(x,S,v);return v.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function vX(){return{exit:{taskListCheckValueChecked:yS,taskListCheckValueUnchecked:yS,paragraph:bX}}}function wX(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:SX}}}function yS(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function bX(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const o=t.children;let i=-1,l;for(;++i<o.length;){const c=o[i];if(c.type==="paragraph"){l=c;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function SX(e,t,n,r){const o=e.children[0],i=typeof e.checked=="boolean"&&o&&o.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",c=n.createTracker(r);i&&c.move(l);let d=F2.listItem(e,t,n,{...r,...c.current()});return i&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),d;function f(h){return h+l}}function kX(){return[tY(),SY(),EY(),fX(),vX()]}function CX(e){return{extensions:[nY(),kY(e),jY(),yX(e),wX()]}}const NX={tokenize:IX,partial:!0},B2={tokenize:TX,partial:!0},V2={tokenize:RX,partial:!0},H2={tokenize:MX,partial:!0},EX={tokenize:DX,partial:!0},U2={name:"wwwAutolink",tokenize:PX,previous:q2},W2={name:"protocolAutolink",tokenize:AX,previous:Y2},To={name:"emailAutolink",tokenize:_X,previous:X2},ao={};function jX(){return{text:ao}}let $i=48;for(;$i<123;)ao[$i]=To,$i++,$i===58?$i=65:$i===91&&($i=97);ao[43]=To;ao[45]=To;ao[46]=To;ao[95]=To;ao[72]=[To,W2];ao[104]=[To,W2];ao[87]=[To,U2];ao[119]=[To,U2];function _X(e,t,n){const r=this;let o,i;return l;function l(p){return!qg(p)||!X2.call(r,r.previous)||_y(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),c(p))}function c(p){return qg(p)?(e.consume(p),c):p===64?(e.consume(p),d):n(p)}function d(p){return p===46?e.check(EX,h,f)(p):p===45||p===95||In(p)?(i=!0,e.consume(p),d):h(p)}function f(p){return e.consume(p),o=!0,d}function h(p){return i&&o&&$n(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function PX(e,t,n){const r=this;return o;function o(l){return l!==87&&l!==119||!q2.call(r,r.previous)||_y(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(NX,e.attempt(B2,e.attempt(V2,i),n),n)(l))}function i(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function AX(e,t,n){const r=this;let o="",i=!1;return l;function l(p){return(p===72||p===104)&&Y2.call(r,r.previous)&&!_y(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(p),e.consume(p),c):n(p)}function c(p){if($n(p)&&o.length<5)return o+=String.fromCodePoint(p),e.consume(p),c;if(p===58){const g=o.toLowerCase();if(g==="http"||g==="https")return e.consume(p),d}return n(p)}function d(p){return p===47?(e.consume(p),i?f:(i=!0,d)):n(p)}function f(p){return p===null||tf(p)||Dt(p)||is(p)||Zf(p)?n(p):e.attempt(B2,e.attempt(V2,h),n)(p)}function h(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function IX(e,t,n){let r=0;return o;function o(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),o):l===46&&r===3?(e.consume(l),i):n(l)}function i(l){return l===null?n(l):t(l)}}function TX(e,t,n){let r,o,i;return l;function l(f){return f===46||f===95?e.check(H2,d,c)(f):f===null||Dt(f)||is(f)||f!==45&&Zf(f)?d(f):(i=!0,e.consume(f),l)}function c(f){return f===95?r=!0:(o=r,r=void 0),e.consume(f),l}function d(f){return o||r||!i?n(f):t(f)}}function RX(e,t){let n=0,r=0;return o;function o(l){return l===40?(n++,e.consume(l),o):l===41&&r<n?i(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(H2,t,i)(l):l===null||Dt(l)||is(l)?t(l):(e.consume(l),o)}function i(l){return l===41&&r++,e.consume(l),o}}function MX(e,t,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(e.consume(c),r):c===38?(e.consume(c),i):c===93?(e.consume(c),o):c===60||c===null||Dt(c)||is(c)?t(c):n(c)}function o(c){return c===null||c===40||c===91||Dt(c)||is(c)?t(c):r(c)}function i(c){return $n(c)?l(c):n(c)}function l(c){return c===59?(e.consume(c),r):$n(c)?(e.consume(c),l):n(c)}}function DX(e,t,n){return r;function r(i){return e.consume(i),o}function o(i){return In(i)?n(i):t(i)}}function q2(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Dt(e)}function Y2(e){return!$n(e)}function X2(e){return!(e===47||qg(e))}function qg(e){return e===43||e===45||e===46||e===95||In(e)}function _y(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const OX={tokenize:UX,partial:!0};function LX(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:BX,continuation:{tokenize:VX},exit:HX}},text:{91:{name:"gfmFootnoteCall",tokenize:FX},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:zX,resolveTo:$X}}}}function zX(e,t,n){const r=this;let o=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;o--;){const d=r.events[o][1];if(d.type==="labelImage"){l=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return c;function c(d){if(!l||!l._balanced)return n(d);const f=Or(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!i.includes(f.slice(1))?n(d):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),t(d))}}function $X(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},c=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",i,t],["enter",l,t],["exit",l,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...c),e}function FX(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,l;return c;function c(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),d}function d(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(p){if(i>999||p===93&&!l||p===null||p===91||Dt(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return o.includes(Or(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return Dt(p)||(l=!0),i++,e.consume(p),p===92?h:f}function h(p){return p===91||p===92||p===93?(e.consume(p),i++,f):f(p)}}function BX(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,l=0,c;return d;function d(S){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(S),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(S){return S===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(S),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(S)}function h(S){if(l>999||S===93&&!c||S===null||S===91||Dt(S))return n(S);if(S===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return i=Or(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(S),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return Dt(S)||(c=!0),l++,e.consume(S),S===92?p:h}function p(S){return S===91||S===92||S===93?(e.consume(S),l++,h):h(S)}function g(S){return S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),o.includes(i)||o.push(i),St(e,x,"gfmFootnoteDefinitionWhitespace")):n(S)}function x(S){return t(S)}}function VX(e,t,n){return e.check(Tc,t,e.attempt(OX,t,n))}function HX(e){e.exit("gfmFootnoteDefinition")}function UX(e,t,n){const r=this;return St(e,o,"gfmFootnoteDefinitionIndent",5);function o(i){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(i):n(i)}}function WX(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:o};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(l,c){let d=-1;for(;++d<l.length;)if(l[d][0]==="enter"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._close){let f=d;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[d][1].end.offset-l[d][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[d][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[d][1].end)},p={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[d][1].start)},g=[["enter",h,c],["enter",l[f][1],c],["exit",l[f][1],c],["enter",p,c]],x=c.parser.constructs.insideSpan.null;x&&ur(g,g.length,0,ep(x,l.slice(f+1,d),c)),ur(g,g.length,0,[["exit",p,c],["enter",l[d][1],c],["exit",l[d][1],c],["exit",h,c]]),ur(l,f-1,d-f+3,g),d=f+g.length-2;break}}for(d=-1;++d<l.length;)l[d][1].type==="strikethroughSequenceTemporary"&&(l[d][1].type="data");return l}function i(l,c,d){const f=this.previous,h=this.events;let p=0;return g;function g(S){return f===126&&h[h.length-1][1].type!=="characterEscape"?d(S):(l.enter("strikethroughSequenceTemporary"),x(S))}function x(S){const v=hl(f);if(S===126)return p>1?d(S):(l.consume(S),p++,x);if(p<2&&!n)return d(S);const b=l.exit("strikethroughSequenceTemporary"),k=hl(S);return b._open=!k||k===2&&!!v,b._close=!v||v===2&&!!k,c(S)}}}class qX{constructor(){this.map=[]}add(t,n,r){YX(this,t,n,r)}consume(t){if(this.map.sort(function(i,l){return i[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let o=r.pop();for(;o;){for(const i of o)t.push(i);o=r.pop()}this.map.length=0}}function YX(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function XX(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function GX(){return{flow:{null:{name:"table",tokenize:KX,resolveAll:QX}}}}function KX(e,t,n){const r=this;let o=0,i=0,l;return c;function c(L){let B=r.events.length-1;for(;B>-1;){const A=r.events[B][1].type;if(A==="lineEnding"||A==="linePrefix")B--;else break}const Y=B>-1?r.events[B][1].type:null,q=Y==="tableHead"||Y==="tableRow"?P:d;return q===P&&r.parser.lazy[r.now().line]?n(L):q(L)}function d(L){return e.enter("tableHead"),e.enter("tableRow"),f(L)}function f(L){return L===124||(l=!0,i+=1),h(L)}function h(L){return L===null?n(L):Qe(L)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),x):n(L):yt(L)?St(e,h,"whitespace")(L):(i+=1,l&&(l=!1,o+=1),L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),l=!0,h):(e.enter("data"),p(L)))}function p(L){return L===null||L===124||Dt(L)?(e.exit("data"),h(L)):(e.consume(L),L===92?g:p)}function g(L){return L===92||L===124?(e.consume(L),p):p(L)}function x(L){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(L):(e.enter("tableDelimiterRow"),l=!1,yt(L)?St(e,S,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):S(L))}function S(L){return L===45||L===58?b(L):L===124?(l=!0,e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),v):I(L)}function v(L){return yt(L)?St(e,b,"whitespace")(L):b(L)}function b(L){return L===58?(i+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),k):L===45?(i+=1,k(L)):L===null||Qe(L)?_(L):I(L)}function k(L){return L===45?(e.enter("tableDelimiterFiller"),E(L)):I(L)}function E(L){return L===45?(e.consume(L),E):L===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),N):(e.exit("tableDelimiterFiller"),N(L))}function N(L){return yt(L)?St(e,_,"whitespace")(L):_(L)}function _(L){return L===124?S(L):L===null||Qe(L)?!l||o!==i?I(L):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(L)):I(L)}function I(L){return n(L)}function P(L){return e.enter("tableRow"),T(L)}function T(L){return L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),T):L===null||Qe(L)?(e.exit("tableRow"),t(L)):yt(L)?St(e,T,"whitespace")(L):(e.enter("data"),O(L))}function O(L){return L===null||L===124||Dt(L)?(e.exit("data"),T(L)):(e.consume(L),L===92?U:O)}function U(L){return L===92||L===124?(e.consume(L),O):O(L)}}function QX(e,t){let n=-1,r=!0,o=0,i=[0,0,0,0],l=[0,0,0,0],c=!1,d=0,f,h,p;const g=new qX;for(;++n<e.length;){const x=e[n],S=x[1];x[0]==="enter"?S.type==="tableHead"?(c=!1,d!==0&&(vS(g,t,d,f,h),h=void 0,d=0),f={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},g.add(n,0,[["enter",f,t]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(r=!0,p=void 0,i=[0,0,0,0],l=[0,n+1,0,0],c&&(c=!1,h={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},g.add(n,0,[["enter",h,t]])),o=S.type==="tableDelimiterRow"?2:h?3:1):o&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(i[1]!==0&&(l[0]=l[1],p=pd(g,t,i,o,void 0,p),i=[0,0,0,0]),l[2]=n)):S.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(l[0]=l[1],p=pd(g,t,i,o,void 0,p)),i=l,l=[i[1],n,0,0])):S.type==="tableHead"?(c=!0,d=n):S.type==="tableRow"||S.type==="tableDelimiterRow"?(d=n,i[1]!==0?(l[0]=l[1],p=pd(g,t,i,o,n,p)):l[1]!==0&&(p=pd(g,t,l,o,n,p)),o=0):o&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(l[3]=n)}for(d!==0&&vS(g,t,d,f,h),g.consume(t.events),n=-1;++n<t.events.length;){const x=t.events[n];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=XX(t.events,n))}return e}function pd(e,t,n,r,o,i){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(i.end=Object.assign({},Us(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const d=Us(t.events,n[1]);if(i={type:l,start:Object.assign({},d),end:Object.assign({},d)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const f=Us(t.events,n[2]),h=Us(t.events,n[3]),p={type:c,start:Object.assign({},f),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const g=t.events[n[2]],x=t.events[n[3]];if(g[1].end=Object.assign({},x[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const S=n[2]+1,v=n[3]-n[2]-1;e.add(S,v,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return o!==void 0&&(i.end=Object.assign({},Us(t.events,o)),e.add(o,0,[["exit",i,t]]),i=void 0),i}function vS(e,t,n,r,o){const i=[],l=Us(t.events,n);o&&(o.end=Object.assign({},l),i.push(["exit",o,t])),r.end=Object.assign({},l),i.push(["exit",r,t]),e.add(n+1,0,i)}function Us(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const JX={name:"tasklistCheck",tokenize:eG};function ZX(){return{text:{91:JX}}}function eG(e,t,n){const r=this;return o;function o(d){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(d):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),i)}function i(d){return Dt(d)?(e.enter("taskListCheckValueUnchecked"),e.consume(d),e.exit("taskListCheckValueUnchecked"),l):d===88||d===120?(e.enter("taskListCheckValueChecked"),e.consume(d),e.exit("taskListCheckValueChecked"),l):n(d)}function l(d){return d===93?(e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),c):n(d)}function c(d){return Qe(d)?t(d):yt(d)?e.check({tokenize:tG},t,n)(d):n(d)}}function tG(e,t,n){return St(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function nG(e){return i2([jX(),LX(),WX(e),GX(),ZX()])}const rG={};function oG(e){const t=this,n=e||rG,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(nG(n)),i.push(kX()),l.push(CX(n))}function iG({open:e,onOpenChange:t}){const[n,r]=w.useState("");return w.useEffect(()=>{e&&fetch("usage-guide.md").then(o=>o.text()).then(o=>r(o)).catch(o=>{console.error("Error loading help content:",o),r(`# Error
Failed to load help content. Please try again later.`)})},[e]),u.jsx(dn,{open:e,onOpenChange:t,modal:!0,children:u.jsxs(fn,{className:"sm:max-w-[800px] max-h-[80vh]",children:[u.jsxs(pn,{children:[u.jsx(hn,{children:"Help & Documentation"}),u.jsx(Io,{children:"Learn how to use OCPN Tools with this guide."})]}),u.jsx(Uf,{className:"flex-1 pr-4 h-[60vh]",children:u.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none [&_table]:border-collapse [&_table]:w-full [&_th]:border [&_th]:border-gray-300 [&_th]:bg-gray-100 [&_th]:p-2 [&_th]:text-left [&_td]:border [&_td]:border-gray-300 [&_td]:p-2 dark:[&_th]:border-gray-600 dark:[&_th]:bg-gray-800 dark:[&_td]:border-gray-600",children:u.jsx(Wq,{remarkPlugins:[oG],children:n})})}),u.jsx(Sr,{className:"mt-4",children:u.jsx(ge,{onClick:()=>t(!1),children:"Close"})})]})})}var sG=Object.defineProperty,lG=Object.defineProperties,aG=Object.getOwnPropertyDescriptors,sf=Object.getOwnPropertySymbols,G2=Object.prototype.hasOwnProperty,K2=Object.prototype.propertyIsEnumerable,Yg=(e,t,n)=>t in e?sG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ir=(e,t)=>{for(var n in t||(t={}))G2.call(t,n)&&Yg(e,n,t[n]);if(sf)for(var n of sf(t))K2.call(t,n)&&Yg(e,n,t[n]);return e},Q2=(e,t)=>lG(e,aG(t)),cG=(e,t)=>{var n={};for(var r in e)G2.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sf)for(var r of sf(e))t.indexOf(r)<0&&K2.call(e,r)&&(n[r]=e[r]);return n},yn=(e,t,n)=>(Yg(e,typeof t!="symbol"?t+"":t,n),n),ml=(e,t,n)=>new Promise((r,o)=>{var i=d=>{try{c(n.next(d))}catch(f){o(f)}},l=d=>{try{c(n.throw(d))}catch(f){o(f)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(i,l);c((n=n.apply(e,t)).next())}),uG="hCaptcha-script",jd="hCaptchaOnLoad",wS="script-error",si="@hCaptcha/loader";function dG(e){return Object.entries(e).filter(([,t])=>t||t===!1).map(([t,n])=>`${encodeURIComponent(t)}=${encodeURIComponent(String(n))}`).join("&")}function J2(e){let t=e&&e.ownerDocument||document,n=t.defaultView||t.parentWindow||window;return{document:t,window:n}}function Z2(e){return e||document.head}function fG(e){var t;e.setTag("source",si),e.setTag("url",document.URL),e.setContext("os",{UA:navigator.userAgent}),e.setContext("browser",ir({},pG())),e.setContext("device",Q2(ir({},mG()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:((t=screen.orientation)==null?void 0:t.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}function pG(){var e,t,n,r,o,i;let l=navigator.userAgent,c,d;return l.indexOf("Firefox")!==-1?(c="Firefox",d=(e=l.match(/Firefox\/([\d.]+)/))==null?void 0:e[1]):l.indexOf("Edg")!==-1?(c="Microsoft Edge",d=(t=l.match(/Edg\/([\d.]+)/))==null?void 0:t[1]):l.indexOf("Chrome")!==-1&&l.indexOf("Safari")!==-1?(c="Chrome",d=(n=l.match(/Chrome\/([\d.]+)/))==null?void 0:n[1]):l.indexOf("Safari")!==-1&&l.indexOf("Chrome")===-1?(c="Safari",d=(r=l.match(/Version\/([\d.]+)/))==null?void 0:r[1]):l.indexOf("Opera")!==-1||l.indexOf("OPR")!==-1?(c="Opera",d=(o=l.match(/(Opera|OPR)\/([\d.]+)/))==null?void 0:o[2]):l.indexOf("MSIE")!==-1||l.indexOf("Trident")!==-1?(c="Internet Explorer",d=(i=l.match(/(MSIE |rv:)([\d.]+)/))==null?void 0:i[2]):(c="Unknown",d="Unknown"),{name:c,version:d}}function hG(e){return new Promise(t=>setTimeout(t,e))}function mG(){let e=navigator.userAgent,t;e.indexOf("Win")!==-1?t="Windows":e.indexOf("Mac")!==-1?t="Mac":e.indexOf("Linux")!==-1?t="Linux":e.indexOf("Android")!==-1?t="Android":e.indexOf("like Mac")!==-1||e.indexOf("iPhone")!==-1||e.indexOf("iPad")!==-1?t="iOS":t="Unknown";let n;return/Mobile|iPhone|iPod|Android/i.test(e)?n="Mobile":/Tablet|iPad/i.test(e)?n="Tablet":n="Desktop",{model:t,family:t,device:n}}var gG=class eP{constructor(t){yn(this,"_parent"),yn(this,"breadcrumbs",[]),yn(this,"context",{}),yn(this,"extra",{}),yn(this,"tags",{}),yn(this,"request"),yn(this,"user"),this._parent=t}get parent(){return this._parent}child(){return new eP(this)}setRequest(t){return this.request=t,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(t){return typeof t.timestamp>"u"&&(t.timestamp=new Date().toISOString()),this.breadcrumbs.push(t),this}setExtra(t,n){return this.extra[t]=n,this}removeExtra(t){return delete this.extra[t],this}setContext(t,n){return typeof n.type>"u"&&(n.type=t),this.context[t]=n,this}removeContext(t){return delete this.context[t],this}setTags(t){return this.tags=ir(ir({},this.tags),t),this}setTag(t,n){return this.tags[t]=n,this}removeTag(t){return delete this.tags[t],this}setUser(t){return this.user=t,this}removeUser(){return this.user=void 0,this}toBody(){let t=[],n=this;for(;n;)t.push(n),n=n.parent;return t.reverse().reduce((r,o)=>{var i;return r.breadcrumbs=[...(i=r.breadcrumbs)!=null?i:[],...o.breadcrumbs],r.extra=ir(ir({},r.extra),o.extra),r.contexts=ir(ir({},r.contexts),o.context),r.tags=ir(ir({},r.tags),o.tags),o.user&&(r.user=o.user),o.request&&(r.request=o.request),r},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},xG=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,yG=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,vG=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,wG=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,hd="?",bS="An unknown error occurred",bG="0.0.4";function SG(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(Math.random()*256);return e}function An(e){return(e+256).toString(16).substring(1)}function kG(){let e=SG(new Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,An(e[0])+An(e[1])+An(e[2])+An(e[3])+"-"+An(e[4])+An(e[5])+"-"+An(e[6])+An(e[7])+"-"+An(e[8])+An(e[9])+"-"+An(e[10])+An(e[11])+An(e[12])+An(e[13])+An(e[14])+An(e[15])}var CG=[[xG,"chrome"],[vG,"winjs"],[yG,"gecko"]];function NG(e){var t,n,r,o;if(!e.stack)return null;let i=[],l=(r=(n=(t=e.stack).split)==null?void 0:n.call(t,`
`))!=null?r:[];for(let c=0;c<l.length;++c){let d=null,f=null,h=null;for(let[p,g]of CG)if(f=p.exec(l[c]),f){h=g;break}if(!(!f||!h)){if(h==="chrome")d={filename:(o=f[2])!=null&&o.startsWith("address at ")?f[2].substring(11):f[2],function:f[1]||hd,lineno:f[3]?+f[3]:null,colno:f[4]?+f[4]:null};else if(h==="winjs")d={filename:f[2],function:f[1]||hd,lineno:+f[3],colno:f[4]?+f[4]:null};else if(h==="gecko")c===0&&!f[5]&&e.columnNumber!==void 0&&i.length>0&&(i[0].column=e.columnNumber+1),d={filename:f[3],function:f[1]||hd,lineno:f[4]?+f[4]:null,colno:f[5]?+f[5]:null};else continue;!d.function&&d.lineno&&(d.function=hd),i.push(d)}}return i.length?i.reverse():null}function EG(e){let t=NG(e);return{type:e.name,value:e.message,stacktrace:{frames:t??[]}}}function jG(e){let t=wG.exec(e),n=t?t.slice(1):[];if(n.length!==6)throw new Error("Invalid DSN");let r=n[5].split("/"),o=r.slice(0,-1).join("/");return n[0]+"://"+n[3]+(n[4]?":"+n[4]:"")+(o?"/"+o:"")+"/api/"+r.pop()+"/envelope/?sentry_version=7&sentry_key="+n[1]+(n[2]?"&sentry_secret="+n[2]:"")}function _G(e,t,n){var r,o;let i=ir({event_id:kG().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:bG},environment:t,release:n,timestamp:Date.now()/1e3},e.scope.toBody());if(e.type==="exception"){i.message=(o=(r=e.error)==null?void 0:r.message)!=null?o:"Unknown error",i.fingerprint=[i.message];let l=[],c=e.error;for(let d=0;d<5&&c&&(l.push(EG(c)),!(!c.cause||!(c.cause instanceof Error)));d++)c=c.cause;i.exception={values:l.reverse()}}return e.type==="message"&&(i.message=e.message,i.level=e.level),i}function PG(e){if(e instanceof Error)return e;if(typeof e=="string")return new Error(e);if(typeof e=="object"&&e!==null&&!Array.isArray(e)){let n=e,{message:r}=n,o=cG(n,["message"]),i=new Error(typeof r=="string"?r:bS);return Object.assign(i,o)}let t=new Error(bS);return Object.assign(t,{cause:e})}function AG(e,t,n){return ml(this,null,function*(){var r,o;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let i;if(n){let d=new AbortController;i=d.signal,setTimeout(()=>d.abort(),n)}let l=yield fetch(e,Q2(ir({},t),{signal:i})),c=yield l.text();return{status:l.status,body:c}}return yield new Promise((i,l)=>{var c,d;let f=new XMLHttpRequest;if(f.open((c=t==null?void 0:t.method)!=null?c:"GET",e),f.onload=()=>i({status:f.status,body:f.responseText}),f.onerror=()=>l(new Error("XHR Network Error")),t==null?void 0:t.headers)for(let[h,p]of Object.entries(t.headers))f.setRequestHeader(h,p);if(n){let h=setTimeout(()=>{f.abort(),l(new Error("Request timed out"))},n);f.onloadend=()=>{clearTimeout(h)}}f.send((d=t==null?void 0:t.body)==null?void 0:d.toString())})}catch(i){return{status:0,body:(o=(r=i==null?void 0:i.toString)==null?void 0:r.call(i))!=null?o:"Unknown error"}}})}var Xn,Xg=(Xn=class{constructor(e){yn(this,"apiURL"),yn(this,"dsn"),yn(this,"environment"),yn(this,"release"),yn(this,"sampleRate"),yn(this,"debug"),yn(this,"_scope"),yn(this,"shouldBuffer",!1),yn(this,"bufferlimit",20),yn(this,"buffer",[]);var t,n,r,o,i;this.environment=e.environment,this.release=e.release,this.sampleRate=(t=e.sampleRate)!=null?t:1,this.debug=(n=e.debug)!=null?n:!1,this._scope=(r=e.scope)!=null?r:new gG,this.apiURL=jG(e.dsn),this.dsn=e.dsn,this.shouldBuffer=(o=e.buffer)!=null?o:!1,this.bufferlimit=(i=e.bufferLimit)!=null?i:20}static init(e){Xn._instance||(Xn._instance=new Xn(e))}static get instance(){if(!Xn._instance)throw new Error("Sentry has not been initialized");return Xn._instance}log(...e){this.debug&&console.log(...e)}get scope(){return this._scope}static get scope(){return Xn.instance.scope}withScope(e){let t=this._scope.child();e(t)}static withScope(e){Xn.instance.withScope(e)}captureException(e,t){this.captureEvent({type:"exception",level:"error",error:PG(e),scope:t??this._scope})}static captureException(e,t){Xn.instance.captureException(e,t)}captureMessage(e,t="info",n){this.captureEvent({type:"message",level:t,message:e,scope:n??this._scope})}static captureMessage(e,t="info",n){Xn.instance.captureMessage(e,t,n)}captureEvent(e){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(e)}else this.sendEvent(e)}sendEvent(e,t=5e3){return ml(this,null,function*(){try{this.log("Sending sentry event",e);let n=_G(e,this.environment,this.release),r={event_id:n.event_id,dsn:this.dsn},o={type:"event"},i=JSON.stringify(r)+`
`+JSON.stringify(o)+`
`+JSON.stringify(n),l=yield AG(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:i},t);this.log("Sentry response",l.status),l.status!==200&&(console.log(l.body),console.error("Failed to send event to Sentry",l))}catch(n){console.error("Failed to send event",n)}})}flush(e=5e3){return ml(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let t=this.buffer.splice(0,this.buffer.length).map(n=>this.sendEvent(n,e));yield Promise.all(t),this.log("Flushed all events")}catch(t){console.error("Failed to flush events",t)}})}static flush(e=5e3){return Xn.instance.flush(e)}static reset(){Xn._instance=void 0}},yn(Xn,"_instance"),Xn),IG="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",TG="2.3.0",RG="production";function MG(e=!0){if(!e)return SS();Xg.init({dsn:IG,release:TG,environment:RG});let t=Xg.scope;return fG(t),SS(t)}function SS(e=null){return{addBreadcrumb:t=>{e&&e.addBreadcrumb(t)},captureRequest:t=>{e&&e.setRequest(t)},captureException:t=>{e&&Xg.captureException(t,e)}}}function DG({scriptLocation:e,query:t,loadAsync:n=!0,crossOrigin:r="anonymous",apihost:o="https://js.hcaptcha.com",cleanup:i=!1,secureApi:l=!1,scriptSource:c=""}={},d){let f=Z2(e),h=J2(f);return new Promise((p,g)=>{let x=h.document.createElement("script");x.id=uG,c?x.src=`${c}?onload=${jd}`:l?x.src=`${o}/1/secure-api.js?onload=${jd}`:x.src=`${o}/1/api.js?onload=${jd}`,x.crossOrigin=r,x.async=n;let S=(v,b)=>{try{!l&&i&&f.removeChild(x),b(v)}catch(k){g(k)}};x.onload=v=>S(v,p),x.onerror=v=>{d&&d(x.src),S(v,g)},x.src+=t!==""?`&${t}`:"",f.appendChild(x)})}var md=[];function OG(e={cleanup:!1},t){try{t.addBreadcrumb({category:si,message:"hCaptcha loader params",data:e});let n=Z2(e.scriptLocation),r=J2(n),o=md.find(({scope:l})=>l===r.window);if(o)return t.addBreadcrumb({category:si,message:"hCaptcha already loaded"}),o.promise;let i=new Promise((l,c)=>ml(this,null,function*(){try{r.window[jd]=()=>{t.addBreadcrumb({category:si,message:"hCaptcha script called onload function"}),l(r.window.hcaptcha)};let d=dG({custom:e.custom,render:e.render,sentry:e.sentry,assethost:e.assethost,imghost:e.imghost,reportapi:e.reportapi,endpoint:e.endpoint,host:e.host,recaptchacompat:e.recaptchacompat,hl:e.hl,uj:e.uj});yield DG(ir({query:d},e),f=>{t.captureRequest({url:f,method:"GET"})}),t.addBreadcrumb({category:si,message:"hCaptcha loaded",data:o})}catch{t.addBreadcrumb({category:si,message:"hCaptcha failed to load"});let f=md.findIndex(h=>h.scope===r.window);f!==-1&&md.splice(f,1),c(new Error(wS))}}));return md.push({promise:i,scope:r.window}),i}catch(n){return t.captureException(n),Promise.reject(new Error(wS))}}function tP(e,t,n=0){return ml(this,null,function*(){var r,o;let i=(r=e.maxRetries)!=null?r:2,l=(o=e.retryDelay)!=null?o:1e3,c=n<i?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield OG(e,t)}catch(d){return t.addBreadcrumb({category:si,message:c}),n>=i?(t.captureException(d),Promise.reject(d)):(t.addBreadcrumb({category:si,message:`Waiting ${l}ms before retry attempt ${n+1}`}),yield hG(l),n+=1,tP(e,t,n))}})}function LG(){return ml(this,arguments,function*(e={}){let t=MG(e.sentry);return yield tP(e,t)})}function kS(e){let t=e&&e.ownerDocument||document,n=t.defaultView||t.parentWindow||window;return{document:t,window:n}}function CS(e){return e||document.head}var zG=class extends w.Component{constructor(e){super(e),this._hcaptcha=void 0,this.renderCaptcha=this.renderCaptcha.bind(this),this.resetCaptcha=this.resetCaptcha.bind(this),this.removeCaptcha=this.removeCaptcha.bind(this),this.isReady=this.isReady.bind(this),this._onReady=null,this.loadCaptcha=this.loadCaptcha.bind(this),this.handleOnLoad=this.handleOnLoad.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleExpire=this.handleExpire.bind(this),this.handleError=this.handleError.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleChallengeExpired=this.handleChallengeExpired.bind(this),this.ref=w.createRef(),this.apiScriptRequested=!1,this.sentryHub=null,this.captchaId="",this._pendingExecute=null,this.state={isApiReady:!1,isRemoved:!1,elementId:e.id}}componentDidMount(){let e=CS(this.props.scriptLocation),t=kS(e);if(this._hcaptcha=t.window.hcaptcha||void 0,typeof this._hcaptcha<"u"){this.setState({isApiReady:!0},()=>{this.renderCaptcha()});return}this.loadCaptcha()}componentWillUnmount(){let e=this._hcaptcha,t=this.captchaId;if(this._cancelPendingExecute("react-component-unmounted"),!!this.isReady())try{e.reset(t),e.remove(t)}catch{}finally{this.captchaId="",this._onReady=null}}shouldComponentUpdate(e,t){return!(this.state.isApiReady!==t.isApiReady||this.state.isRemoved!==t.isRemoved)}componentDidUpdate(e){["sitekey","size","theme","tabindex","languageOverride","endpoint"].every(t=>e[t]===this.props[t])||this.removeCaptcha(()=>{this.renderCaptcha()})}loadCaptcha(){if(this.apiScriptRequested)return;let{apihost:e,assethost:t,endpoint:n,host:r,imghost:o,languageOverride:i,reCaptchaCompat:l,reportapi:c,sentry:d,custom:f,loadAsync:h,scriptLocation:p,scriptSource:g,secureApi:x,cleanup:S=!0,userJourneys:v}=this.props;LG({render:"explicit",apihost:e,assethost:t,endpoint:n,hl:i,host:r,imghost:o,recaptchacompat:l===!1?"off":null,reportapi:c,sentry:d,custom:f,loadAsync:h,scriptLocation:p,scriptSource:g,secureApi:x,cleanup:S,uj:v!==void 0?v:!1}).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}renderCaptcha(e){let{onReady:t}=this.props,{isApiReady:n}=this.state,r=this.captchaId;if(!n||r)return;let o=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),i=this._hcaptcha.render(this.ref.current,o);this.captchaId=i,this.setState({isRemoved:!1},()=>{e&&e(),t&&t(),this._onReady&&this._onReady(i)})}resetCaptcha(){let e=this._hcaptcha,t=this.captchaId;this.isReady()&&(e.reset(t),this._cancelPendingExecute("hcaptcha-reset"))}removeCaptcha(e){let t=this._hcaptcha,n=this.captchaId;this._cancelPendingExecute("hcaptcha-removed"),this.isReady()&&this.setState({isRemoved:!0},()=>{this.captchaId="",t.remove(n),e&&e()})}handleOnLoad(){this.setState({isApiReady:!0},()=>{let e=CS(this.props.scriptLocation),t=kS(e);this._hcaptcha=t.window.hcaptcha,this.renderCaptcha(()=>{let{onLoad:n}=this.props;n&&n()})})}handleSubmit(e){let{onVerify:t}=this.props,{isRemoved:n}=this.state,r=this._hcaptcha,o=this.captchaId;if(typeof r>"u"||n)return;let i=r.getResponse(o),l=r.getRespKey(o);t&&t(i,l)}handleExpire(){let{onExpire:e}=this.props,t=this._hcaptcha,n=this.captchaId;this.isReady()&&(t.reset(n),e&&e())}handleError(e){let{onError:t}=this.props,n=this._hcaptcha,r=this.captchaId;this.isReady()&&n.reset(r),t&&t(e)}isReady(){let{isApiReady:e,isRemoved:t}=this.state;return e&&!t}_cancelPendingExecute(e){if(!this._pendingExecute)return;let t=this._pendingExecute;this._pendingExecute=null;let n=new Error(e);t.reject(n)}handleOpen(){!this.isReady()||!this.props.onOpen||this.props.onOpen()}handleClose(){!this.isReady()||!this.props.onClose||this.props.onClose()}handleChallengeExpired(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()}execute(e=null){e=typeof e=="object"?e:null;try{let t=this._hcaptcha,n=this.captchaId;if(e&&e.async&&this._pendingExecute&&this._cancelPendingExecute("hcaptcha-execute-replaced"),!this.isReady())return e&&e.async?new Promise((o,i)=>{this._pendingExecute={resolve:o,reject:i},this._onReady=l=>{if(this._pendingExecute)try{let c=t.execute(l,e);c&&typeof c.then=="function"?c.then(d=>{this._pendingExecute=null,o(d)}).catch(d=>{this._pendingExecute=null,i(d)}):(this._pendingExecute=null,i(new Error("hcaptcha-execute-no-promise")))}catch(c){this._pendingExecute=null,i(c)}}}):(this._onReady=o=>{t.execute(o,e)},null);let r=t.execute(n,e);return e&&e.async&&r&&typeof r.then=="function"?new Promise((o,i)=>{this._pendingExecute={resolve:o,reject:i},r.then(l=>{this._pendingExecute=null,o(l)}).catch(l=>{this._pendingExecute=null,i(l)})}):r}catch(t){return e&&e.async?Promise.reject(t):null}}close(){let e=this._hcaptcha,t=this.captchaId;if(this._cancelPendingExecute("hcaptcha-closed"),!!this.isReady())return e.close(t)}setData(e){let t=this._hcaptcha,n=this.captchaId;this.isReady()&&(e&&typeof e!="object"&&(e=null),t.setData(n,e))}getResponse(){return this._hcaptcha.getResponse(this.captchaId)}getRespKey(){return this._hcaptcha.getRespKey(this.captchaId)}render(){let{elementId:e}=this.state;return w.createElement("div",{ref:this.ref,id:e})}};w.createContext();var $G=zG;function FG(e){const t=Object.values(e.petriNetsById).map(i=>{const l=i.nodes.filter(f=>f.type==="place").map(f=>`<place id="${f.id}">
            <posattr x="${f.position.x}" y="${f.position.y}"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="Solid"/>
            <textattr colour="Black" bold="false"/>
            <text>${f.data.label}</text>
            <ellipse w="60.000000" h="40.000000"/>
            <type id="${f.data.colorSet}">
              <text>${f.data.colorSet}</text>
            </type>
            <initmark id="${f.id}_initmark">
              <text>${f.data.initialMarking||""}</text>
            </initmark>
          </place>`).join(`
`),c=i.nodes.filter(f=>f.type==="transition").map(f=>`<trans id="${f.id}">
            <posattr x="${f.position.x}" y="${f.position.y}"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="solid"/>
            <textattr colour="Black" bold="false"/>
            <text>${f.data.label}</text>
            <box w="60.000000" h="40.000000"/>
            ${f.data.guard?`<cond id="${f.id}_guard">
                  <text>${f.data.guard}</text>
                </cond>`:""}
            ${f.data.time?`<time id="${f.id}_time">
                  <text>${f.data.time}</text>
                </time>`:""}
            ${f.data.priority?`<priority id="${f.id}_priority">
                  <text>${f.data.priority}</text>
                </priority>`:""}
          </trans>`).join(`
`),d=i.edges.map(f=>`<arc id="${f.id}" orientation="PtoT">
            <posattr x="0.000000" y="0.000000"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="Solid"/>
            <textattr colour="Black" bold="false"/>
            <arrowattr headsize="1.200000" currentcyckle="2"/>
            <transend idref="${f.target}"/>
            <placeend idref="${f.source}"/>
            <annot id="${f.id}_inscription">
              <text>${f.label||""}</text>
            </annot>
          </arc>`).join(`
`);return`<page id="${i.id}">
        <pageattr name="${i.name}"/>
        ${l}
        ${c}
        ${d}
        <constraints/>
      </page>`}).join(`
`),n=e.uses.map(i=>`<use file="${i.name}"/>`).join(`
`),r=e.functions.map(i=>`<ml id="${i.id}">
        ${i.code}
        <layout>${i.code}</layout>
      </ml>`).join(`
        `);return`<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE workspaceElements PUBLIC "-//CPN//DTD CPNXML 1.0//EN" "http://cpntools.org/DTD/6/cpn.dtd">
<workspaceElements>
  <generator tool="CPN Tools" version="4.0.1" format="6"/>
  <cpnet>
    <globbox>
      ${n}
      <block id="ID2">
        <id>Standard priorities</id>
        ${e.priorities.map(i=>`<ml id="${i.id}">
          val ${i.name} = ${i.level};
          <layout>val ${i.name} = ${i.level};</layout>
        </ml>`).join(`
        `)}
      </block>
      <block id="ID1">
        <id>Standard declarations</id>
        ${e.colorSets.map(i=>{const l=["int","unit","bool","intinf","time","real","string"],c=i.definition.match(/colset\s+\w+\s*=\s*(\w+);$/),d=c?c[1].toLowerCase():null;return`<color id="${i.id}">
              <id>${i.name}</id>
              ${d&&l.includes(d)?`<${d}/>`:""}
              <layout>${i.definition}</layout>
            </color>`}).join(`
        `)}
        ${e.variables.map(i=>`<var id="${i.id}">
          <type>
            <id>${i.colorSet}</id>
          </type>
          <id>${i.name}</id>
          <layout>var ${i.name}:${i.colorSet};</layout>
        </var>`).join(`
        `)}
        ${r}
      </block>
    </globbox>
    ${t}
    <monitorblock name="Monitors"/>
  </cpnet>
</workspaceElements>`}function BG(e){const t=Object.values(e.petriNetsById).flatMap(o=>o.nodes),n=Object.values(e.petriNetsById).flatMap(o=>o.edges),r={$schema:"http://json-schema.org/draft-07/schema#",colorSets:e.colorSets.map(o=>o.definition),places:t.filter(o=>o.type==="place").map(o=>({name:o.data.label,colorSet:o.data.colorSet})),transitions:t.filter(o=>o.type==="transition").map(o=>({name:o.data.label,variables:o.data.variables||[],guard:o.data.guard||"True",inArcs:n.filter(i=>i.target===o.id).map(i=>{var l;return{place:((l=t.find(c=>c.id===i.source))==null?void 0:l.data.label)||"",expression:i.label||""}}),outArcs:n.filter(i=>i.source===o.id).map(i=>{var l;return{place:((l=t.find(c=>c.id===i.target))==null?void 0:l.data.label)||"",expression:i.label||""}})})),initialMarking:t.filter(o=>o.type==="place").reduce((o,i)=>{const l=i.data.initialMarking||[];return o[String(i.data.label)]=l&&Array.isArray(l)?{tokens:l.map(c=>Array.isArray(c)?c.map(d=>typeof d=="string"?d:Number(d)):[typeof c=="string"?c:Number(c)])}:{tokens:[]},o},{}),evaluationContext:null};return JSON.stringify(r,null,2)}function op(e){var n;const t={petriNets:e.petriNetOrder.map(r=>{const o=e.petriNetsById[r];return{id:o.id,name:o.name,places:o.nodes.filter(i=>i.type==="place").map(i=>({id:i.id,name:i.data.label,colorSet:i.data.colorSet,initialMarking:i.data.initialMarking||"",marking:i.data.marking||"",position:i.position,size:i.measured||{width:50,height:30},colorSetOffset:i.data.colorSetOffset||void 0,tokenCountOffset:i.data.tokenCountOffset||void 0,markingOffset:i.data.markingOffset||void 0})),transitions:o.nodes.filter(i=>i.type==="transition").map(i=>({id:i.id,name:i.data.label,guard:i.data.guard||"",time:i.data.time||"",priority:i.data.priority||"",position:i.position,size:i.measured||{width:50,height:30}})),arcs:o.edges.map(i=>{var l,c,d,f;return{id:i.id,source:i.source,target:i.target,inscription:i.label||"",isBidirectional:((l=i.data)==null?void 0:l.isBidirectional)||!1,arcType:((c=i.data)==null?void 0:c.arcType)||void 0,labelOffset:((d=i.data)==null?void 0:d.labelOffset)||void 0,bendpoints:((f=i.data)==null?void 0:f.bendpoints)||void 0}})}}),colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses,simulationSettings:e.simulationSettings||void 0,simulationEpoch:((n=e.simulationSettings)==null?void 0:n.simulationEpoch)||void 0};return JSON.stringify(t,null,2)}function VG(e){const t=JSON.parse(e);if(!t||!Array.isArray(t.petriNets))throw new Error("Invalid JSON format: Missing 'petriNets' array.");const n={},r=[];t.petriNets.forEach(h=>{const p=h.places.map(v=>{var b,k;return{id:v.id,type:"place",position:v.position||{x:0,y:0},data:{label:v.name,colorSet:v.colorSet,initialMarking:v.initialMarking||"",marking:v.marking||"",colorSetOffset:v.colorSetOffset||void 0,tokenCountOffset:v.tokenCountOffset||void 0,markingOffset:v.markingOffset||void 0},width:((b=v.size)==null?void 0:b.width)||50,height:((k=v.size)==null?void 0:k.height)||30}}),g=h.transitions.map(v=>{var b,k;return{id:v.id,type:"transition",position:v.position||{x:0,y:0},data:{label:v.name,guard:v.guard||"",time:v.time||"",priority:v.priority||""},width:((b=v.size)==null?void 0:b.width)||50,height:((k=v.size)==null?void 0:k.height)||30}}),x=h.arcs.map(v=>({id:v.id,source:v.source,target:v.target,label:v.inscription||"",data:{isBidirectional:v.isBidirectional||!1,arcType:v.arcType||void 0,labelOffset:v.labelOffset||void 0,bendpoints:v.bendpoints||void 0}})),S={id:h.id,name:h.name,nodes:[...p,...g],edges:x,selectedElement:null};n[h.id]=S,r.push(h.id)});const o=t.colorSets||[],i=t.variables||[],l=t.priorities||[],c=t.functions||[],d=t.uses||[],f=t.simulationSettings?{stepsPerRun:t.simulationSettings.stepsPerRun,animationDelayMs:t.simulationSettings.animationDelayMs,simulationEpoch:t.simulationSettings.simulationEpoch}:void 0;return{petriNetsById:n,petriNetOrder:r,colorSets:o,variables:i,priorities:l,functions:c,uses:d,simulationSettings:f}}function HG(e,t){const n=new Blob([e],{type:"text/plain;charset=utf-8"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}function UG(e,t){var n;try{const r=(n=t.split(".").pop())==null?void 0:n.toLowerCase();if(r==="ocpn")return VG(e);if(r==="json")return qG(e);if((r==="xml"||r==="cpn")&&(e.includes("<workspaceElements>")||e.includes("<cpnet>")))return WG(e);throw new Error("Unsupported file format")}catch(r){return console.error("Error parsing file:",r),null}}function Ra(){const e="0123456789ABCDEF";let t="#";for(let n=0;n<6;n++)t+=e[Math.floor(Math.random()*16)];return t}function WG(e){const n=new DOMParser().parseFromString(e,"text/xml"),r={},o=[],i=Array.from(n.querySelectorAll("globbox color")).map(p=>{var N,_;const g=((N=p.querySelector("id"))==null?void 0:N.textContent)||"",x=p.querySelector("product");if(x){const I=Array.from(x.querySelectorAll(":scope > id")).map(T=>T.textContent||""),P=`colset ${g} = product ${I.join(" * ")};`;return{id:g,name:g,type:"product",definition:P,color:Ra()}}const S=p.querySelector("int");if(S){const I=S.querySelector("with");if(I){const P=I.querySelectorAll("ml");if(P.length>=2){const T=P[0].textContent||"0",O=P[1].textContent||"0",U=`colset ${g} = int with ${T}..${O};`;return{id:g,name:g,type:"basic",definition:U,color:Ra()}}}return{id:g,name:g,type:"basic",definition:`colset ${g} = int;`,color:Ra()}}const v=Array.from(p.children).find(I=>{const P=I.tagName.toLowerCase();return["bool","string","real","unit","time","intinf"].includes(P)}),b=v?v.tagName.toLowerCase():null,k=((_=p.querySelector("layout"))==null?void 0:_.textContent)||"",E=b?`colset ${g} = ${b};`:k||`colset ${g} = complex;`;return{id:g,name:g,type:b?"basic":"complex",definition:E,color:Ra()}}),l=Array.from(n.querySelectorAll("globbox var")).flatMap(p=>{var E,N;const g=p.getAttribute("id")||it(),x=((E=p.querySelector("type > id"))==null?void 0:E.textContent)||"",S=((N=p.querySelector("layout"))==null?void 0:N.textContent)||"",v=Array.from(p.querySelectorAll(":scope > id"));if(v.length>0)return v.map((_,I)=>({id:`${g}_${I}`,name:_.textContent||"",colorSet:x}));const b=S.match(/var\s+([^:]+):/);return!b||!b[1]?(console.warn(`Could not parse variable names from layout: ${S}`),[]):b[1].split(",").map(_=>_.trim()).filter(_=>_).map((_,I)=>({id:`${g}_${I}`,name:_,colorSet:x}))}),c=Array.from(n.querySelectorAll("globbox ml")).reduce((p,g)=>{var v;const S=(((v=g.querySelector("layout"))==null?void 0:v.textContent)||"").match(/val\s+(\w+)\s*=\s*(\d+);/);return S&&p.push({id:it(),name:S[1],level:parseInt(S[2],10)}),p},[]),d=[];Array.from(n.querySelectorAll("globbox block ml")).forEach(p=>{var S;const g=((S=p.querySelector("layout"))==null?void 0:S.textContent)||"",x=p.getAttribute("id")||it();if(g.trim().startsWith("fun ")){const v=g.match(/^fun\s+([a-zA-Z0-9_]+)/),b=v?v[1]:`func_${x}`;d.push({id:x,name:b,code:g})}}),Array.from(n.querySelectorAll("globbox > ml")).forEach(p=>{var S;const g=((S=p.textContent)==null?void 0:S.trim())||"",x=p.getAttribute("id")||it();if(g.startsWith("fun ")){const v=g.match(/^fun\s+([a-zA-Z0-9_]+)/),b=v?v[1]:`func_${x}`;d.push({id:x,name:b,code:g})}});const f=Array.from(n.querySelectorAll("globbox use")).map(p=>{var b,k;const g=((b=p.querySelector("ml"))==null?void 0:b.textContent)||"",x=((k=p.querySelector("layout"))==null?void 0:k.textContent)||"",S=g.match(/"([^"]+)"/)||x.match(/"([^"]+)"/),v=S?S[1]:"";return{id:it(),name:v,content:""}});return Array.from(n.querySelectorAll("page")).forEach(p=>{var _;const g=p.getAttribute("id")||it(),x=((_=p.querySelector("pageattr"))==null?void 0:_.getAttribute("name"))||`Page ${g}`,S=(I,P,T,O,U,L,B,Y="text")=>{var R;if(!L)return null;const q=((R=L.querySelector(Y))==null?void 0:R.textContent)||"";if(!q.trim())return null;const A=L.querySelector("posattr");if(!A)return null;const $=parseFloat(A.getAttribute("x")||"0"),F=-parseFloat(A.getAttribute("y")||"0"),G=P-O/2,D=T-U/2,W=$-G,M=F-D,H=L.querySelector("textattr"),X=(H==null?void 0:H.getAttribute("colour"))||void 0;return{id:L.getAttribute("id")||it(),type:"inscription",position:{x:W,y:M},parentId:I,draggable:!0,data:{label:q,inscriptionType:B,color:X}}},v=Array.from(p.querySelectorAll("place")).flatMap(I=>{var D,W,M,H,X;const P=I.querySelector("ellipse"),T=P?parseFloat(P.getAttribute("w")||"60"):60,O=P?parseFloat(P.getAttribute("h")||"40"):40,U=((D=I.querySelector("initmark text"))==null?void 0:D.textContent)||"",L=parseFloat(((W=I.querySelector("posattr"))==null?void 0:W.getAttribute("x"))||"0"),B=-parseFloat(((M=I.querySelector("posattr"))==null?void 0:M.getAttribute("y"))||"0"),Y=I.getAttribute("id")||it(),q=I.querySelector("type");let A;if(q){const R=q.querySelector("posattr");if(R){const V=parseFloat(R.getAttribute("x")||"0"),Z=-parseFloat(R.getAttribute("y")||"0");A={x:V-L,y:Z-B}}}const $=I.querySelector("initmark");let F;if($){const R=$.querySelector("posattr");if(R){const V=parseFloat(R.getAttribute("x")||"0"),Z=-parseFloat(R.getAttribute("y")||"0");F={x:V-L,y:Z-B}}}return[{id:Y,type:"place",position:{x:L-T/2,y:B-O/2},width:T,height:O,data:{label:((H=I.querySelector("text"))==null?void 0:H.textContent)||"",colorSet:((X=I.querySelector("type text"))==null?void 0:X.textContent)||"",initialMarking:U,colorSetOffset:A,markingOffset:F}}]}),b=Array.from(p.querySelectorAll("trans")).flatMap(I=>{var A,$,F,G,D,W;const P=I.querySelector("box"),T=P?parseFloat(P.getAttribute("w")||"60"):60,O=P?parseFloat(P.getAttribute("h")||"40"):40,U=parseFloat(((A=I.querySelector("posattr"))==null?void 0:A.getAttribute("x"))||"0"),L=-parseFloat((($=I.querySelector("posattr"))==null?void 0:$.getAttribute("y"))||"0"),B=I.getAttribute("id")||it(),Y={id:B,type:"transition",position:{x:U-T/2,y:L-O/2},width:T,height:O,data:{label:((F=I.querySelector("text"))==null?void 0:F.textContent)||"",guard:((G=I.querySelector("cond text"))==null?void 0:G.textContent)||"",time:((D=I.querySelector("time text"))==null?void 0:D.textContent)||"",priority:((W=I.querySelector("priority text"))==null?void 0:W.textContent)||""}},q=[S(B,U,L,T,O,I.querySelector("cond"),"guard"),S(B,U,L,T,O,I.querySelector("time"),"time"),S(B,U,L,T,O,I.querySelector("priority"),"priority"),S(B,U,L,T,O,I.querySelector("code"),"codeSegment")].filter(M=>M!==null);return[Y,...q]}),k=Array.from(p.querySelectorAll("arc")).flatMap(I=>{var $,F,G;const P=I.getAttribute("id")||it(),T=I.getAttribute("orientation"),O=parseInt(I.getAttribute("order")||"0",10),U=(($=I.querySelector("placeend"))==null?void 0:$.getAttribute("idref"))||"",L=((F=I.querySelector("transend"))==null?void 0:F.getAttribute("idref"))||"",B=((G=I.querySelector("annot text"))==null?void 0:G.textContent)||"",Y=Array.from(I.querySelectorAll("bendpoint")).map(D=>{var W,M;return{x:parseFloat(((W=D.querySelector("posattr"))==null?void 0:W.getAttribute("x"))||"0"),y:-parseFloat(((M=D.querySelector("posattr"))==null?void 0:M.getAttribute("y"))||"0")}});if(T==="BOTHDIR")return[{id:P,type:"floating",source:U,target:L,label:B,data:{bendpoints:Y,isBidirectional:!0,order:O}}];let q="",A="";return T==="PtoT"?(q=U,A=L):T==="TtoP"?(q=L,A=U):(q=U,A=L,console.warn(`Unhandled arc orientation: ${T} for arc ${P}. Assuming PtoT.`)),[{id:P,type:"floating",source:q,target:A,label:B,data:{bendpoints:Y,order:O}}]}),E=Array.from(p.querySelectorAll("Aux")).map(I=>{var q,A,$;const P=I.getAttribute("id")||it(),T=((q=I.querySelector("text"))==null?void 0:q.textContent)||"",O=parseFloat(((A=I.querySelector("posattr"))==null?void 0:A.getAttribute("x"))||"0"),U=-parseFloat((($=I.querySelector("posattr"))==null?void 0:$.getAttribute("y"))||"0"),L=I.querySelector("textattr"),B=(L==null?void 0:L.getAttribute("colour"))||void 0,Y=(L==null?void 0:L.getAttribute("bold"))==="true";return{id:P,type:"auxText",position:{x:O,y:U},data:{label:T,color:B,bold:Y}}}),N={id:g,name:x,nodes:[...v,...b,...E],edges:k,selectedElement:null};r[g]=N,o.push(g)}),{petriNetsById:r,petriNetOrder:o,colorSets:i,variables:l,priorities:c,functions:d,uses:f}}function qG(e){const t=JSON.parse(e),n=t.places.map(c=>{var d;return{id:it(),type:"place",position:{x:0,y:0},data:{label:c.name,colorSet:c.colorSet,initialMarking:((d=t.initialMarking[c.name])==null?void 0:d.tokens.map(f=>Array.isArray(f)?f:[f]))||[]}}}),r=t.transitions.map(c=>({id:it(),type:"transition",position:{x:0,y:0},data:{label:c.name,guard:c.guard,variables:c.variables}})),o=t.transitions.flatMap(c=>{const d=r.find(f=>f.data.label===c.name);return[...c.inArcs.map(f=>{var h;return{id:it(),source:((h=n.find(p=>p.data.label===f.place))==null?void 0:h.id)||"",target:(d==null?void 0:d.id)||"",label:f.expression}}),...c.outArcs.map(f=>{var h;return{id:it(),source:(d==null?void 0:d.id)||"",target:((h=n.find(p=>p.data.label===f.place))==null?void 0:h.id)||"",label:f.expression}})]}),i=it(),l={id:i,name:"Default Petri Net",nodes:[...n,...r],edges:o,selectedElement:null};return{petriNetsById:{[i]:l},petriNetOrder:[i],colorSets:t.colorSets.map(c=>({id:it(),name:c.split(" ")[1],type:"basic",definition:c,color:Ra()})),variables:[],priorities:[],functions:[],uses:[]}}const YG="107df1fd-0a94-4781-ac95-0689be476e62",XG="50b2fe65-b00b-4b9e-ad62-3ba471098be2",NS={"feature-request":"Feature Request","bug-report":"Bug Report","help-other":"Help / Other"},GG={"feature-request":"Describe the feature you'd like to see. What problem does it solve? How would you use it?","bug-report":"What happened? What did you expect to happen? Steps to reproduce the issue","help-other":"What do you need help with? Describe your question or challenge"};function KG({open:e,onOpenChange:t}){const[n,r]=w.useState("feature-request"),[o,i]=w.useState(""),[l,c]=w.useState(""),[d,f]=w.useState(!1),[h,p]=w.useState(null),[g,x]=w.useState("idle"),[S,v]=w.useState(""),b=w.useRef(null),k=w.useContext(_c),E=()=>{var O;r("feature-request"),i(""),c(""),f(!1),p(null),x("idle"),v(""),(O=b.current)==null||O.resetCaptcha()},N=O=>{O||g==="success"&&E(),t(O)},_=()=>{var O,U;try{const L=he.getState(),B={petriNetsById:L.petriNetsById,petriNetOrder:L.petriNetOrder,colorSets:L.colorSets,variables:L.variables,priorities:L.priorities,functions:L.functions,uses:L.uses,simulationSettings:{stepsPerRun:(O=k==null?void 0:k.simulationConfig)==null?void 0:O.stepsPerRun,animationDelayMs:(U=k==null?void 0:k.simulationConfig)==null?void 0:U.animationDelayMs,simulationEpoch:L.simulationEpoch}};return op(B)}catch{return null}},I=async O=>{if(O.preventDefault(),!h){v("Please complete the captcha verification.");return}if(!o.trim()){v("Please enter a message.");return}x("sending"),v("");try{const U=new FormData;if(U.append("access_key",YG),U.append("subject",`OCPN Tools Feedback: ${NS[n]}`),U.append("from_name","OCPN Tools Feedback"),U.append("category",NS[n]),U.append("message",o),U.append("h-captcha-response",h),l.trim()?(U.append("email",l),U.append("replyto",l)):U.append("email","noreply@ocpn-tools.feedback"),d){const Y=_();if(Y){const q=Y.length>5e4?Y.substring(0,5e4)+`
... (truncated)`:Y;U.append("petri_net_model",q)}}const B=await(await fetch("https://api.web3forms.com/submit",{method:"POST",body:U})).json();B.success?x("success"):(x("error"),v(B.message||"Something went wrong. Please try again."))}catch{x("error"),v("Network error. Please check your connection and try again.")}},P=O=>{p(O),v("")},T=()=>{p(null)};return u.jsx(dn,{open:e,onOpenChange:N,children:u.jsxs(fn,{className:"sm:max-w-[500px]",children:[u.jsxs(pn,{children:[u.jsx(hn,{children:"Send Feedback"}),u.jsx(Io,{children:"Help us improve OCPN Tools. Your feedback is greatly appreciated!"})]}),g==="success"?u.jsxs("div",{className:"flex flex-col items-center gap-4 py-8",children:[u.jsx(wI,{className:"h-12 w-12 text-green-500"}),u.jsx("p",{className:"text-center text-lg font-medium",children:"Thank you for your feedback!"}),u.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"We appreciate you taking the time to help us improve."}),u.jsx(ge,{onClick:()=>{E(),t(!1)},children:"Close"})]}):u.jsxs("form",{onSubmit:I,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{children:"Category"}),u.jsxs(Gx,{value:n,onValueChange:O=>r(O),className:"flex flex-row gap-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Eo,{value:"feature-request",id:"cat-feature"}),u.jsx(je,{htmlFor:"cat-feature",className:"font-normal cursor-pointer",children:"Feature Request"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Eo,{value:"bug-report",id:"cat-bug"}),u.jsx(je,{htmlFor:"cat-bug",className:"font-normal cursor-pointer",children:"Bug Report"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Eo,{value:"help-other",id:"cat-help"}),u.jsx(je,{htmlFor:"cat-help",className:"font-normal cursor-pointer",children:"Help / Other"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"feedback-message",children:"Message"}),u.jsx(wl,{id:"feedback-message",placeholder:GG[n],value:o,onChange:O=>i(O.target.value),className:"min-h-[120px] resize-y",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(je,{htmlFor:"feedback-email",children:["Email"," ",u.jsx("span",{className:"text-muted-foreground font-normal",children:"(optional  if you'd like a reply)"})]}),u.jsx(at,{id:"feedback-email",type:"email",placeholder:"your@email.com",value:l,onChange:O=>c(O.target.value)})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Jx,{id:"include-model",checked:d,onCheckedChange:O=>f(O===!0)}),u.jsx(je,{htmlFor:"include-model",className:"font-normal cursor-pointer text-sm",children:"Include the currently loaded Petri Net and its simulation state"})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx($G,{ref:b,sitekey:XG,reCaptchaCompat:!1,onVerify:P,onExpire:T})}),S&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[u.jsx(yI,{className:"h-4 w-4 shrink-0"}),S]}),u.jsxs(Sr,{children:[u.jsx(ge,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancel"}),u.jsx(ge,{type:"submit",disabled:g==="sending",children:g==="sending"?u.jsxs(u.Fragment,{children:[u.jsx(YI,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending"]}):"Send Feedback"})]})]})]})})}function QG({onToggleAIAssistant:e}){const[t,n]=w.useState(!1),[r,o]=w.useState(!1);return u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(vn,{children:u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:()=>n(!0),children:[u.jsx(SI,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Help & Documentation"})]})})}),u.jsx(Zt,{children:u.jsx("p",{children:"Help & Documentation"})})]})}),u.jsx(vn,{children:u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:()=>o(!0),children:[u.jsx(GI,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Send Feedback"})]})})}),u.jsx(Zt,{children:u.jsx("p",{children:"Send Feedback"})})]})}),u.jsx(vn,{children:u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",onClick:e,children:[u.jsx(xT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Toggle AI Assistant"})]})})}),u.jsx(Zt,{children:u.jsx("p",{children:"Toggle AI Assistant"})})]})}),u.jsx(iG,{open:t,onOpenChange:n}),u.jsx(KG,{open:r,onOpenChange:o})]})}const JG=e=>({petriNetOrder:e.petriNetOrder,petriNetsById:e.petriNetsById,activePetriNetId:e.activePetriNetId,colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses,simulationEpoch:e.simulationEpoch,setSimulationEpoch:e.setSimulationEpoch,createPetriNet:e.createPetriNet,setActivePetriNet:e.setActivePetriNet,setNodes:e.setNodes,setEdges:e.setEdges,setColorSets:e.setColorSets,setVariables:e.setVariables,setPriorities:e.setPriorities,setFunctions:e.setFunctions,setUses:e.setUses,toggleArcMode:e.toggleArcMode,reset:e.reset}),ZG={type:"floating",markerEnd:{type:rc.ArrowClosed,color:"#000",width:10,height:10}},eK=({onToggleAIAssistant:e})=>{const[t,n]=w.useState(!1),[r,o]=w.useState(!1),[i,l]=w.useState(!1),[c,d]=w.useState(""),[f,h]=w.useState(!1),[p,g]=w.useState(null),[x,S]=w.useState(""),[v,b]=w.useState(!1),[k,E]=w.useState({x:0,y:0}),N=w.useRef({snappedPositions:new Map,isDragging:!1,isSnapping:!1}),_=w.useContext(_c),{petriNetOrder:I,petriNetsById:P,activePetriNetId:T,colorSets:O,variables:U,priorities:L,functions:B,uses:Y,simulationEpoch:q,setSimulationEpoch:A,createPetriNet:$,setActivePetriNet:F,setNodes:G,setEdges:D,setColorSets:W,setVariables:M,setPriorities:H,setFunctions:X,setUses:R,toggleArcMode:V,reset:Z}=he(i8(JG)),Q=he(pe=>T?pe.petriNetsById[T]:null),K=n8(T||""),{onNodesChange:te,onEdgesChange:J,onConnect:ie}=T?K:{onNodesChange:()=>{},onEdgesChange:()=>{},onConnect:()=>{}},{fitView:le,screenToFlowPosition:de}=pi(),fe=D3(),[ye]=H_(),{undo:Ae,redo:Re}=he.temporal.getState(),nt=w.useSyncExternalStore(he.temporal.subscribe,()=>he.temporal.getState().pastStates.length>0),rt=w.useSyncExternalStore(he.temporal.subscribe,()=>he.temporal.getState().futureStates.length>0);w.useEffect(()=>{fe&&le({padding:.35,maxZoom:4})},[fe,le]),w.useEffect(()=>{const pe=ke=>{const re=ke.target;if(re.tagName==="INPUT"||re.tagName==="TEXTAREA"||re.isContentEditable)return;const be=ke.metaKey||ke.ctrlKey;if(ke.code==="KeyZ"&&be&&!ke.shiftKey){ke.preventDefault(),Ae();return}if(ke.code==="KeyZ"&&be&&ke.shiftKey){ke.preventDefault(),Re();return}if(!_)return;const{isRunning:Oe,runStep:Ye,runMultipleStepsAnimated:Fe,runMultipleStepsFast:Ve,reset:Pe,stop:ct,simulationConfig:Je}=_;if(ke.code==="Space"&&!ke.shiftKey&&!be){ke.preventDefault(),Oe?ct():Fe(Je.stepsPerRun,Je.animationDelayMs);return}if(ke.code==="ArrowRight"&&be&&!ke.shiftKey){ke.preventDefault(),Oe||Ye();return}if(ke.code==="ArrowRight"&&be&&ke.shiftKey){ke.preventDefault(),Oe||Ve(Je.stepsPerRun);return}if(ke.code==="ArrowLeft"&&be&&!ke.shiftKey){ke.preventDefault(),Oe||Pe();return}if(ke.code==="Escape"){Oe&&(ke.preventDefault(),ct());return}};return window.addEventListener("keydown",pe),()=>window.removeEventListener("keydown",pe)},[_,Ae,Re]);const Ze=[{key:"bottom",label:[""],angle:90},{key:"undo",label:["Undo"],angle:150,disabled:!nt},{key:"redo",label:["Redo"],angle:30,disabled:!rt},{key:"new-place",label:["New","Place"],angle:210},{key:"create-aux",label:["Create aux","text"],angle:270,disabled:!0},{key:"new-transition",label:["New","Transition"],angle:330}],kt=(pe,ke)=>{if(pe){if(Z(),Object.values(pe.petriNetsById).forEach(re=>{he.getState().addPetriNet(re)}),pe.petriNetOrder.length>0&&he.getState().setActivePetriNet(pe.petriNetOrder[0]),pe.colorSets&&W(pe.colorSets),pe.variables&&M(pe.variables),pe.priorities&&H(pe.priorities),pe.functions&&X(pe.functions),pe.uses&&R(pe.uses),pe.simulationSettings&&(pe.simulationSettings.simulationEpoch!==void 0&&A(pe.simulationSettings.simulationEpoch),_!=null&&_.setSimulationConfig)){const re=_.simulationConfig;_.setSimulationConfig({...re,stepsPerRun:pe.simulationSettings.stepsPerRun??re.stepsPerRun,animationDelayMs:pe.simulationSettings.animationDelayMs??re.animationDelayMs})}if(ke.endsWith(".json")){const re={algorithm:"dagre",direction:"TB",nodeSeparation:150,rankSeparation:50};Object.values(pe.petriNetsById).forEach(be=>{It(re,be.nodes,be.edges)})}else window.requestAnimationFrame(()=>{le({padding:.35,maxZoom:4})})}},Ce=(pe,ke)=>{_?_.reset():console.error("Simulation context not found, cannot reset simulation state.");const re=UG(pe,ke);re?kt(re,ke):alert("Failed to parse the file. Please check the file format.")},tt=pe=>{var Oe,Ye;let ke,re;const be={petriNetsById:P,petriNetOrder:I,colorSets:O,variables:U,priorities:L,functions:B,uses:Y,simulationSettings:{stepsPerRun:(Oe=_==null?void 0:_.simulationConfig)==null?void 0:Oe.stepsPerRun,animationDelayMs:(Ye=_==null?void 0:_.simulationConfig)==null?void 0:Ye.animationDelayMs,simulationEpoch:q}};switch(pe){case"cpn-tools":ke=FG({...be,petriNetsById:Object.fromEntries(Object.entries(be.petriNetsById).map(([Fe,Ve])=>[Fe,{...Ve,nodes:Ve.nodes.map(Pe=>({...Pe,position:{...Pe.position,y:-Pe.position.y}}))}]))}),re="PetriNet.cpn";break;case"cpn-py":ke=BG(be),re="PetriNet.json";break;case"json":default:ke=op(be),re="PetriNet.ocpn";break}HG(ke,re)},ht=w.useCallback(pe=>{pe.preventDefault(),pe.dataTransfer.dropEffect="move"},[]),Nt=w.useCallback(pe=>{if(pe.preventDefault(),!ye||typeof ye!="string")return;const ke=de({x:pe.clientX,y:pe.clientY}),re={id:`node_${Date.now()}`,type:ye,position:ke,width:ye==="transition"?60:30,data:{label:ye==="auxText"?"Annotation":`${ye}`,...ye==="place"?{colorSet:""}:ye==="transition"?{guard:""}:{}}};T?he.getState().addNode(T,re):console.error("Cannot add node: activePetriNetId is null.")},[de,ye,T]),Et=w.useCallback((pe,ke)=>{b(!1),T?he.getState().setSelectedElement(T,{type:"node",element:ke}):console.error("Cannot set selected element: activePetriNetId is null.")},[T]),ue=w.useCallback((pe,ke,re)=>{Jr(),N.current.isDragging=!0,N.current.isSnapping=!1,N.current.snappedPositions.clear()},[]),me=w.useCallback((pe,ke,re)=>{var Pe,ct,Je,At,Tt;if(!T||re.length===0)return;const be=he.getState().petriNetsById[T];if(!be)return;if(!pe.shiftKey){N.current.isSnapping=!1,N.current.snappedPositions.clear();return}const Oe=20;let Ye=null,Fe=null;const Ve=new Set(re.map(bt=>bt.id));for(const bt of re){if(Ye!==null&&Fe!==null)break;const Ot={x:bt.position.x+(((Pe=bt.measured)==null?void 0:Pe.width)||50)/2,y:bt.position.y+(((ct=bt.measured)==null?void 0:ct.height)||30)/2},bn=be.edges.filter(Gt=>{if(!(Gt.source===bt.id||Gt.target===bt.id))return!1;const Bn=Gt.source===bt.id?Gt.target:Gt.source;return!Ve.has(Bn)});for(const Gt of bn){if(Ye!==null&&Fe!==null)break;const co=Gt.source===bt.id?Gt.target:Gt.source,Bn=be.nodes.find(_l=>_l.id===co);if(!Bn)continue;const Si={x:Bn.position.x+(((Je=Bn.measured)==null?void 0:Je.width)||50)/2,y:Bn.position.y+(((At=Bn.measured)==null?void 0:At.height)||30)/2},uo=(Tt=Gt.data)==null?void 0:Tt.bendpoints;let Vr=Si;uo&&uo.length>0&&(Gt.source===bt.id?Vr=uo[0]:Vr=uo[uo.length-1]),Fe===null&&Math.abs(Ot.y-Vr.y)<Oe&&(Fe=Vr.y-Ot.y),Ye===null&&Math.abs(Ot.x-Vr.x)<Oe&&(Ye=Vr.x-Ot.x)}}if(Ye!==null||Fe!==null){N.current.isSnapping=!0,N.current.snappedPositions.clear(),re.forEach(Ot=>{const bn={x:Ot.position.x+(Ye??0),y:Ot.position.y+(Fe??0)};N.current.snappedPositions.set(Ot.id,bn)});const bt=be.nodes.map(Ot=>{const bn=N.current.snappedPositions.get(Ot.id);return bn?{...Ot,position:bn}:Ot});G(T,bt)}else N.current.isSnapping=!1,N.current.snappedPositions.clear()},[T,G]),Ee=w.useCallback((pe,ke,re)=>{Zr(),setTimeout(()=>{N.current.isDragging=!1,N.current.isSnapping=!1,N.current.snappedPositions.clear()},50)},[]),We=w.useCallback(pe=>{if(T)if(N.current.isSnapping&&N.current.snappedPositions.size>0){const ke=pe.map(re=>{if(re.type==="position"&&"id"in re&&re.position){const be=N.current.snappedPositions.get(re.id);if(be)return{...re,position:be}}return re});te(ke)}else te(pe)},[T,te]),Ie=w.useCallback((pe,ke)=>{b(!1),T?he.getState().setSelectedElement(T,{type:"edge",element:ke}):console.error("Cannot set selected element: activePetriNetId is null.")},[T]),mt=w.useCallback(()=>{T?he.getState().setSelectedElement(T,null):console.error("Cannot set selected element: activePetriNetId is null."),b(!1)},[T]),jt=w.useCallback(pe=>{pe.preventDefault();const ke=pe,re={x:ke.clientX,y:ke.clientY};E(re),b(!0)},[]),xt=(pe,ke)=>{if(ke.disabled)return;if(ke.key==="undo"){Ae(),b(!1);return}if(ke.key==="redo"){Re(),b(!1);return}const re=ke.key==="new-place"?50:60,be=ke.key==="new-place"?50:40,Oe={x:de(k).x-re/2,y:de(k).y-be/2};if(ke.key==="new-place"){const Ye={id:`node_${Date.now()}`,type:"place",position:Oe,data:{label:"place",isArcMode:!1,colorSet:""}};T&&he.getState().addNode(T,Ye)}else if(ke.key==="new-transition"){const Ye={id:`node_${Date.now()}`,type:"transition",position:Oe,width:60,data:{label:"transition",isArcMode:!1,guard:""}};T&&he.getState().addNode(T,Ye)}b(!1)},It=w.useCallback(async(pe,ke,re)=>{if(!ke.length)return;const be=re.map(Oe=>({...Oe,data:Oe.data?{...Oe.data,bendpoints:void 0}:Oe.data}));T&&D(T,be);try{if(pe.algorithm==="dagre"){const Oe=await N1(()=>import("./index-BBi8uhPg.js").then(Ve=>Ve.i),[]),Ye=new Oe.graphlib.Graph;Ye.setGraph({rankdir:pe.direction,nodesep:pe.nodeSeparation,ranksep:pe.rankSeparation,ranker:"network-simplex"}),Ye.setDefaultEdgeLabel(()=>({})),re.forEach(Ve=>Ye.setEdge(Ve.source,Ve.target)),ke.forEach(Ve=>{var Pe,ct;return Ye.setNode(Ve.id,{...Ve,width:((Pe=Ve.measured)==null?void 0:Pe.width)??0,height:((ct=Ve.measured)==null?void 0:ct.height)??0})}),Oe.layout(Ye);const Fe=ke.map(Ve=>{var At,Tt;const Pe=Ye.node(Ve.id),ct=Pe.x-(((At=Ve.measured)==null?void 0:At.width)??0)/2,Je=Pe.y-(((Tt=Ve.measured)==null?void 0:Tt.height)??0)/2;return{...Ve,position:{x:ct,y:Je}}});T&&G(T,[...Fe])}else if(pe.algorithm==="elk"){const{default:Oe}=await N1(async()=>{const{default:Pe}=await import("./elk.bundled-BQph-5em.js").then(ct=>ct.e);return{default:Pe}},[]),Ye=new Oe,Fe={id:"root",layoutOptions:{"elk.algorithm":"layered","elk.direction":pe.direction==="TB"?"DOWN":"RIGHT","elk.spacing.nodeNode":pe.nodeSeparation.toString(),"elk.layered.spacing.nodeNodeBetweenLayers":pe.rankSeparation.toString()},children:ke.map(Pe=>{var ct,Je;return{id:Pe.id,width:Number(((ct=Pe.style)==null?void 0:ct.width)||80),height:Number(((Je=Pe.style)==null?void 0:Je.height)||80)}}),edges:re.map(Pe=>({id:Pe.id,sources:[Pe.source],targets:[Pe.target]}))},Ve=await Ye.layout(Fe);if(Ve.children){const Pe=ke.map(ct=>{var At;const Je=(At=Ve.children)==null?void 0:At.find(Tt=>Tt.id===ct.id);return Je&&Je.x!==void 0&&Je.y!==void 0?{...ct,position:{x:Je.x,y:Je.y}}:ct});T&&G(T,[...Pe])}}window.requestAnimationFrame(()=>{le({padding:.35})})}catch(Oe){console.error("Error applying layout:",Oe)}},[G,D,le,T]),Mt=pe=>{pe.preventDefault(),$(c),l(!1),d("")},ft=pe=>{pe.preventDefault(),p&&x.trim()&&(he.getState().renamePetriNet(p,x),h(!1),g(null),S(""))},_t=pe=>{const ke=P[pe];ke&&(g(pe),S(ke.name),h(!0))};return u.jsxs("div",{className:"dndflow flex flex-col grow",children:[" ",u.jsxs("div",{className:"flex flex-col grow",style:{height:100},children:[" ",u.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(vn,{children:u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",title:"Open",onClick:()=>o(!0),children:[u.jsx(zI,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Open Petri Net"})]})})}),u.jsx(Zt,{children:u.jsx("p",{children:"Open Petri Net"})})]})}),u.jsx(vn,{children:u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",title:"Save",onClick:()=>n(!0),children:[u.jsx(aT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Save Petri Net"})]})})}),u.jsx(Zt,{children:u.jsx("p",{children:"Save Petri Net"})})]})}),u.jsx(vn,{children:u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",title:"Undo",onClick:()=>Ae(),disabled:!nt,children:[u.jsx(ET,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Undo"})]})})}),u.jsx(Zt,{children:u.jsx("p",{children:"Undo"})})]})}),u.jsx(vn,{children:u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ge,{variant:"ghost",size:"icon",title:"Redo",onClick:()=>Re(),disabled:!rt,children:[u.jsx(oT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Redo"})]})})}),u.jsx(Zt,{children:u.jsx("p",{children:"Redo"})})]})})]}),u.jsx(M9,{}),u.jsx(QG,{onToggleAIAssistant:e})]}),u.jsx(T9,{open:r,onOpenChange:o,onFileLoaded:Ce}),u.jsx(R9,{open:t,onOpenChange:n,onSave:tt,petriNetName:"Petri Net"}),u.jsx("div",{className:"flex flex-col w-full mx-auto bg-muted",children:u.jsx(mi,{defaultValue:T||I[0],value:T??void 0,onValueChange:pe=>F(pe),className:"flex flex-col gap-2 items-start",children:u.jsxs(gi,{className:"flex gap-4 items-center",children:[I.map(pe=>u.jsx(Fn,{value:pe,onClick:ke=>{pe===T&&(ke.preventDefault(),_t(pe))},children:P[pe].name},pe)),u.jsx(dn,{open:i,onOpenChange:l,children:u.jsxs(fn,{className:"p-4",children:[u.jsx(pn,{children:u.jsx(hn,{children:"Add New Subnet"})}),u.jsxs("form",{onSubmit:Mt,className:"space-y-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(je,{htmlFor:"petri-net-name",children:"Subnet Name"}),u.jsx(at,{id:"petri-net-name",placeholder:"Enter Petri Net name",value:c,onChange:pe=>d(pe.target.value)})]}),u.jsx(ge,{type:"submit",className:"w-full",children:"Add Petri Net"})]})]})}),u.jsx(dn,{open:f,onOpenChange:h,children:u.jsxs(fn,{className:"p-4",children:[u.jsx(pn,{children:u.jsx(hn,{children:"Rename Petri Net"})}),u.jsxs("form",{onSubmit:ft,className:"space-y-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(je,{htmlFor:"rename-petri-net-name",children:"New Name"}),u.jsx(at,{id:"rename-petri-net-name",placeholder:"Enter new name",value:x,onChange:pe=>S(pe.target.value),autoFocus:!0})]}),u.jsx(ge,{type:"submit",className:"w-full",children:"Rename"})]})]})})]})})}),u.jsxs(I3,{nodes:(Q==null?void 0:Q.nodes)||[],nodeTypes:v$,edges:(Q==null?void 0:Q.edges)||[],edgeTypes:E$,onNodesChange:We,onEdgesChange:J,onNodeDragStart:(pe,ke,re)=>{Et(pe,ke),ue(pe,ke,re)},onNodeDrag:me,onNodeDragStop:Ee,onNodeClick:Et,onEdgeClick:Ie,onPaneClick:mt,onPaneContextMenu:jt,onConnect:ie,onDrop:Nt,onDragOver:ht,defaultEdgeOptions:ZG,connectionLineComponent:I9,maxZoom:4,selectionOnDrag:!0,selectionKeyCode:"Shift",multiSelectionKeyCode:["Meta","Control"],children:[u.jsx(F3,{}),u.jsx(s$,{}),u.jsx(Y3,{}),u.jsx(Sc,{position:"top-center",children:u.jsx(P9,{toggleArcMode:V,onApplyLayout:pe=>Q&&It(pe,Q.nodes,Q.edges)})}),u.jsx(A9,{slices:Ze,position:k,isOpen:v,onClose:()=>b(!1),onSliceClick:xt,size:200})]})]})]})};function tK({open:e,onOpenChange:t,apiKey:n,onApiKeyChange:r}){const[o,i]=w.useState(n||""),[l,c]=w.useState(!1);w.useEffect(()=>{i(n||"")},[n]);const d=()=>{r(o),t(!1)};return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:"sm:max-w-[500px]",children:[u.jsxs(pn,{children:[u.jsx(hn,{children:"Settings"}),u.jsx(Io,{children:"Configure your OCPN Tools preferences."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(je,{htmlFor:"openai-api-key",children:"OpenAI API Key"}),u.jsxs("div",{className:"relative",children:[u.jsx(at,{id:"openai-api-key",type:l?"text":"password",placeholder:"sk-...",value:o,onChange:f=>i(f.target.value),className:"w-full pr-10",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",inputMode:"text",autoFocus:!0}),u.jsx(ge,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>c(!l),children:l?u.jsx(AI,{className:"h-4 w-4"}):u.jsx(TI,{className:"h-4 w-4"})})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Your API key is stored locally in your browser and never sent to our servers."})]}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ge,{onClick:d,children:"Save Changes"})]})]})})}const ES="ocpn-tools-openai-api-key";function nK(){const[e,t]=w.useState([{id:"welcome",role:"assistant",content:"Hello! I'm Carl, your OCPN assistant. I can help you analyze your model, explain concepts, or suggest improvements. What would you like to know?",timestamp:new Date}]),[n,r]=w.useState(""),[o,i]=w.useState(!1),l=w.useRef(null),[c,d]=w.useState(!1),[f,h]=w.useState(null);w.useEffect(()=>{const v=localStorage.getItem(ES);v&&h(v)},[]);const p=v=>{h(v),localStorage.setItem(ES,v)};w.useEffect(()=>{var v;(v=l.current)==null||v.scrollIntoView({behavior:"smooth"})},[e]);const g=()=>{const v={petriNetsById:he.getState().petriNetsById,petriNetOrder:he.getState().petriNetOrder,colorSets:he.getState().colorSets,variables:he.getState().variables,priorities:he.getState().priorities,functions:he.getState().functions,uses:he.getState().uses};return`
      Here is the current state of the Petri Net:

      ${op(v)}
    `},x=async()=>{if(!n.trim()||o)return;if(!f){t(b=>[...b,{id:Date.now().toString(),role:"user",content:n,timestamp:new Date},{id:Date.now().toString()+"-error",role:"assistant",content:"Please set your OpenAI API key in the settings to use the AI assistant. Click the settings icon in the top right corner.",timestamp:new Date}]),r("");return}const v={id:Date.now().toString(),role:"user",content:n,timestamp:new Date};t(b=>[...b,v]),r(""),i(!0);try{const k=[{role:"system",content:`You are an AI assistant specialized in Colored Petri Nets (CPN). 
          Help the user understand and analyze their Petri Net model.
          Here is the current state of the Petri Net:
          
          ${g()}
          
          Be concise but informative in your responses. If asked about concepts, explain them clearly.
          If asked to analyze the model, provide insights based on the structure and properties.`},...e.filter(I=>I.id!=="welcome").map(I=>({role:I.role,content:I.content})),{role:v.role,content:v.content}],E=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({model:"gpt-4o",messages:k,temperature:.7,max_tokens:1e3})});if(!E.ok)throw new Error(`API error: ${E.status}`);const N=await E.json(),_={id:Date.now().toString()+"-response",role:"assistant",content:N.choices[0].message.content,timestamp:new Date};t(I=>[...I,_])}catch(b){console.error("Error calling OpenAI API:",b),t(k=>[...k,{id:Date.now().toString()+"-error",role:"assistant",content:"Sorry, there was an error processing your request. Please try again later.",timestamp:new Date}])}finally{i(!1)}},S=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),x())};return u.jsxs(La,{defaultSize:20,className:"min-w-[400px] border-l h-screen",children:[u.jsxs("div",{className:"flex flex-col h-full overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("div",{className:"flex items-center",children:u.jsx("h2",{className:"font-semibold",children:"OCPN AI Assistant"})}),u.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>d(!0),children:u.jsx(US,{className:"h-4 w-4"})})]}),u.jsx(Uf,{className:"flex-1 p-4",children:u.jsxs("div",{className:"space-y-4",children:[e.map(v=>u.jsxs("div",{className:Xe("flex flex-col max-w-[90%] rounded-lg p-3",v.role==="user"?"ml-auto bg-primary text-primary-foreground":"bg-muted text-foreground"),children:[u.jsx("div",{className:"whitespace-pre-wrap",children:v.content}),u.jsx("div",{className:"text-xs opacity-70 mt-1 self-end",children:v.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},v.id)),o&&u.jsx("div",{className:"flex max-w-[90%] rounded-lg p-3 bg-muted text-foreground",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground/50 animate-bounce"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground/50 animate-bounce",style:{animationDelay:"0.2s"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground/50 animate-bounce",style:{animationDelay:"0.4s"}})]})}),u.jsx("div",{ref:l})]})}),u.jsx(kc,{}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(at,{placeholder:"Ask about your OCPN",value:n,onChange:v=>r(v.target.value),onKeyDown:S,disabled:o||!f,className:"flex-1"}),u.jsx(ge,{size:"icon",onClick:x,disabled:o||!n.trim()||!f,children:u.jsx(fT,{className:"h-4 w-4"})})]}),!f&&u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Please set your OpenAI API key in settings to use the AI assistant."})]})]}),u.jsx(tK,{open:c,onOpenChange:d,apiKey:f,onApiKeyChange:p})]})}class Gg{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,jS.unregister(this),t}free(){const t=this.__destroy_into_raw();wt.__wbg_wasmsimulator_free(t,0)}advanceTime(t){wt.wasmsimulator_advanceTime(this.__wbg_ptr,t)}fireTransition(t){const n=_d(t,wt.__wbindgen_malloc,wt.__wbindgen_realloc),r=nl,o=wt.wasmsimulator_fireTransition(this.__wbg_ptr,n,r);if(o[2])throw So(o[1]);return So(o[0])}getCurrentTime(){return wt.wasmsimulator_getCurrentTime(this.__wbg_ptr)}getEnabledTransitions(){const t=wt.wasmsimulator_getEnabledTransitions(this.__wbg_ptr);if(t[2])throw So(t[1]);return So(t[0])}getSimulationEpoch(){return wt.wasmsimulator_getSimulationEpoch(this.__wbg_ptr)}constructor(t){const n=_d(t,wt.__wbindgen_malloc,wt.__wbindgen_realloc),r=nl,o=wt.wasmsimulator_new(n,r);if(o[2])throw So(o[1]);return this.__wbg_ptr=o[0]>>>0,jS.register(this,this.__wbg_ptr,this),this}runMultipleSteps(t){const n=wt.wasmsimulator_runMultipleSteps(this.__wbg_ptr,t);if(n[2])throw So(n[1]);return So(n[0])}run_step(){const t=wt.wasmsimulator_run_step(this.__wbg_ptr);if(t[2])throw So(t[1]);return So(t[0])}setCurrentTime(t){wt.wasmsimulator_setCurrentTime(this.__wbg_ptr,t)}setEventListener(t){wt.wasmsimulator_setEventListener(this.__wbg_ptr,t)}setSimulationEpoch(t){var n=Oa(t)?0:_d(t,wt.__wbindgen_malloc,wt.__wbindgen_realloc),r=nl;wt.wasmsimulator_setSimulationEpoch(this.__wbg_ptr,n,r)}}Symbol.dispose&&(Gg.prototype[Symbol.dispose]=Gg.prototype.free);function rK(){return{__proto__:null,"./cpnsim_bg.js":{__proto__:null,__wbg_Error_8c4e43fe74559d73:function(t,n){return Error(Ca(t,n))},__wbg_String_8f0eb39a4a4c2f66:function(t,n){const r=String(n),o=_d(r,wt.__wbindgen_malloc,wt.__wbindgen_realloc),i=nl;PS().setInt32(t+4,i,!0),PS().setInt32(t+0,o,!0)},__wbg___wbindgen_is_string_cd444516edc5b180:function(t){return typeof t=="string"},__wbg___wbindgen_is_undefined_9e4d92534c42d778:function(t){return t===void 0},__wbg___wbindgen_throw_be289d5034ed271b:function(t,n){throw new Error(Ca(t,n))},__wbg_call_389efe28435a9388:function(){return Na(function(t,n){return t.call(n)},arguments)},__wbg_call_4708e0c13bdc8e95:function(){return Na(function(t,n,r){return t.call(n,r)},arguments)},__wbg_fromCodePoint_22365db7b7d6ac39:function(){return Na(function(t){return String.fromCodePoint(t>>>0)},arguments)},__wbg_from_bddd64e7d5ff6941:function(t){return Array.from(t)},__wbg_getRandomValues_1c61fac11405ffdc:function(){return Na(function(t,n){globalThis.crypto.getRandomValues(_S(t,n))},arguments)},__wbg_log_6b5ca2e6124b2808:function(t){console.log(t)},__wbg_log_fd0b2a51e6426eed:function(t,n){console.log(Ca(t,n))},__wbg_new_361308b2356cecd0:function(){return new Object},__wbg_new_3eb36ae241fe6f44:function(){return new Array},__wbg_new_dca287b076112a51:function(){return new Map},__wbg_new_dd2b680c8bf6ae29:function(t){return new Uint8Array(t)},__wbg_new_no_args_1c7c842f08d00ebb:function(t,n){return new Function(Ca(t,n))},__wbg_now_2c95c9de01293173:function(t){return t.now()},__wbg_performance_7a3ffd0b17f663ad:function(t){return t.performance},__wbg_push_8ffdcb2063340ba5:function(t,n){return t.push(n)},__wbg_set_1eb0999cf5d27fc8:function(t,n,r){return t.set(n,r)},__wbg_set_3f1d0b984ed272ed:function(t,n,r){t[n]=r},__wbg_set_6cb8631f80447a67:function(){return Na(function(t,n,r){return Reflect.set(t,n,r)},arguments)},__wbg_set_f43e577aea94465b:function(t,n,r){t[n>>>0]=r},__wbg_static_accessor_GLOBAL_12837167ad935116:function(){const t=typeof global>"u"?null:global;return Oa(t)?0:Ma(t)},__wbg_static_accessor_GLOBAL_THIS_e628e89ab3b1c95f:function(){const t=typeof globalThis>"u"?null:globalThis;return Oa(t)?0:Ma(t)},__wbg_static_accessor_SELF_a621d3dfbb60d0ce:function(){const t=typeof self>"u"?null:self;return Oa(t)?0:Ma(t)},__wbg_static_accessor_WINDOW_f8727f0cf888e0bd:function(){const t=typeof window>"u"?null:window;return Oa(t)?0:Ma(t)},__wbindgen_cast_0000000000000001:function(t){return t},__wbindgen_cast_0000000000000002:function(t){return t},__wbindgen_cast_0000000000000003:function(t,n){return _S(t,n)},__wbindgen_cast_0000000000000004:function(t,n){return Ca(t,n)},__wbindgen_init_externref_table:function(){const t=wt.__wbindgen_externrefs,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)}}}}const jS=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>wt.__wbg_wasmsimulator_free(e>>>0,1));function Ma(e){const t=wt.__externref_table_alloc();return wt.__wbindgen_externrefs.set(t,e),t}function _S(e,t){return e=e>>>0,Ya().subarray(e/1,e/1+t)}let Bi=null;function PS(){return(Bi===null||Bi.buffer.detached===!0||Bi.buffer.detached===void 0&&Bi.buffer!==wt.memory.buffer)&&(Bi=new DataView(wt.memory.buffer)),Bi}function Ca(e,t){return e=e>>>0,iK(e,t)}let Da=null;function Ya(){return(Da===null||Da.byteLength===0)&&(Da=new Uint8Array(wt.memory.buffer)),Da}function Na(e,t){try{return e.apply(this,t)}catch(n){const r=Ma(n);wt.__wbindgen_exn_store(r)}}function Oa(e){return e==null}function _d(e,t,n){if(n===void 0){const c=Xa.encode(e),d=t(c.length,1)>>>0;return Ya().subarray(d,d+c.length).set(c),nl=c.length,d}let r=e.length,o=t(r,1)>>>0;const i=Ya();let l=0;for(;l<r;l++){const c=e.charCodeAt(l);if(c>127)break;i[o+l]=c}if(l!==r){l!==0&&(e=e.slice(l)),o=n(o,r,r=l+e.length*3,1)>>>0;const c=Ya().subarray(o+l,o+r),d=Xa.encodeInto(e,c);l+=d.written,o=n(o,r,l,1)>>>0}return nl=l,o}function So(e){const t=wt.__wbindgen_externrefs.get(e);return wt.__externref_table_dealloc(e),t}let Pd=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Pd.decode();const oK=2146435072;let Gm=0;function iK(e,t){return Gm+=t,Gm>=oK&&(Pd=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),Pd.decode(),Gm=t),Pd.decode(Ya().subarray(e,e+t))}const Xa=new TextEncoder;"encodeInto"in Xa||(Xa.encodeInto=function(e,t){const n=Xa.encode(e);return t.set(n),{read:e.length,written:n.length}});let nl=0,wt;function sK(e,t){return wt=e.exports,Bi=null,Da=null,wt.__wbindgen_start(),wt}async function lK(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(o){if(e.ok&&n(e.type)&&e.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}else{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}function n(r){switch(r){case"basic":case"cors":case"default":return!0}return!1}}async function aK(e){if(wt!==void 0)return wt;e!==void 0&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),e===void 0&&(e=new URL("/ocpn-tools/assets/cpnsim_bg-BFHfw5GM.wasm",import.meta.url));const t=rK();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await lK(await e,t);return sK(n)}function rl(e){if(e==null)return null;if(e instanceof Map){const t={},n=Array.from(e.keys()).map(String).sort();for(const r of n)t[r]=rl(e.get(r));return t}else{if(Array.isArray(e))return e.map(rl);if(typeof e=="object"){const t={},n=Object.keys(e).sort();for(const r of n)t[r]=rl(e[r]);return t}}return e}function AS(e){const t=rl(e);return JSON.stringify(t)}function cK(e,t){if(t||e.every(n=>n==null)){const n=e.length;return n<=3?"".repeat(n):`${n}`}return JSON.stringify(e)}function uK(e){const t=e.trim(),n=dK(t),r=[];for(const o of n){const i=o.trim();if(!i)continue;const l=i.match(/^(\d+)`(.+)$/s);if(l){const c=parseInt(l[1],10),d=l[2].trim();for(let f=0;f<c;f++)r.push(d)}else r.push(i)}return`[${r.join(", ")}]`}function dK(e){const t=[];let n=0,r="";for(let o=0;o<e.length;o++){const i=e[o];i==="("||i==="["||i==="{"?(n++,r+=i):i===")"||i==="]"||i==="}"?(n--,r+=i):n===0&&i==="+"&&o+1<e.length&&e[o+1]==="+"?(t.push(r),r="",o++):r+=i}return t.push(r),t}function fK(){const e=w.useRef(null),t=w.useRef(null),[n,r]=w.useState(!1),[o,i]=w.useState(!1),l=w.useRef(!1),[c,d]=w.useState([]),[f,h]=w.useState(0),[p,g]=w.useState(0),[x,S]=w.useState(yH),v=he(A=>A.updateNodeMarking),b=he(A=>A.applyInitialMarkings),k=w.useCallback(A=>{const $=he.getState().petriNetsById;for(const F in $){const G=$[F].nodes.find(D=>D.id===A);if(G)return G}},[]),E=w.useCallback(A=>{var X;A.consumed instanceof Map?A.consumed.forEach((R,V)=>{var Q;const Z=k(V);if(Z&&Z.type==="place"){let K=[];try{const J=k(V),ie=(Q=J==null?void 0:J.data)==null?void 0:Q.marking;if(Array.isArray(ie))K=ie;else if(typeof ie=="number")K=[ie];else if(typeof ie=="string"&&ie.trim()!==""){const le=JSON.parse(ie);K=Array.isArray(le)?le:[le]}}catch(J){console.error(`Error reading/parsing marking for node ${V}:`,Z.data.marking,J),K=[]}const te=[...K];R.forEach(J=>{const ie=AS(J),le=te.findIndex(de=>AS(de)===ie);le!==-1?te.splice(le,1):console.warn(`Token not found for removal in node ${V}:`,J,te)}),v(V,te)}else console.warn(`Place node not found or invalid for consumed event: ${V}`)}):A.consumed&&console.warn("eventData.consumed is not a Map:",A.consumed),A.produced instanceof Map?A.produced.forEach((R,V)=>{var Q;const Z=k(V);if(Z&&Z.type==="place"){let K=[];try{const ie=k(V),le=(Q=ie==null?void 0:ie.data)==null?void 0:Q.marking;if(Array.isArray(le))K=le;else if(typeof le=="number")K=[le];else if(typeof le=="string"&&le.trim()!==""){const de=JSON.parse(le);K=Array.isArray(de)?de:[de]}}catch(ie){console.error(`Error reading/parsing marking for node ${V}:`,Z.data.marking,ie),K=[]}const te=R.map(ie=>rl(ie)),J=[...K,...te];v(V,J)}else console.warn(`Place node not found or invalid for produced event: ${V}`)}):A.produced&&console.warn("eventData.produced is not a Map:",A.produced);const $=k(A.transitionId),F=(X=$==null?void 0:$.data)!=null&&X.label&&typeof $.data.label=="string"?$.data.label:A.transitionId,G=he.getState().colorSets,D=R=>{if(!R)return[];const V=[];return R.forEach((Z,Q)=>{var de,fe;const K=k(Q),te=(de=K==null?void 0:K.data)!=null&&de.label&&typeof K.data.label=="string"?K.data.label:Q,J=typeof((fe=K==null?void 0:K.data)==null?void 0:fe.colorSet)=="string"?K.data.colorSet:"",ie=J.toUpperCase()==="UNIT"||G.some(ye=>ye.name===J&&ye.name.toUpperCase()==="UNIT"),le=Z.map(ye=>rl(ye));V.push({placeId:Q,placeName:te,tokens:cK(le,ie)})}),V};let W=0;h(R=>(W=R+1,W));const M=A.simulationTime!==void 0?Number(A.simulationTime):A.time??0,H={id:it(),step:W,time:M,transitionId:A.transitionId,transitionName:F,tokens:{consumed:D(A.consumed),produced:D(A.produced)},timestamp:new Date};d(R=>[...R,H]),g(M)},[v,k,h,d,g]);async function N(){d([]),h(0),g(0),r(!1),e.current=null,t.current=null;try{e.current=await aK(),b();const A=he.getState().petriNetsById,$=he.getState().petriNetOrder,F=he.getState().colorSets,G=he.getState().variables,D=he.getState().priorities,W=he.getState().functions,M=he.getState().uses,H=he.getState().simulationEpoch,X={petriNetsById:structuredClone(A),petriNetOrder:$,colorSets:F,variables:G,priorities:D,functions:W,uses:M,simulationSettings:{simulationEpoch:H}};Object.values(X.petriNetsById).forEach(V=>{V.nodes.forEach(Z=>{if(Z.type==="place"){let Q=[];if(Array.isArray(Z.data.marking))Q=Z.data.marking;else if(typeof Z.data.marking=="string")try{const K=JSON.parse(Z.data.marking);Array.isArray(K)&&(Q=K)}catch{console.warn(`Could not parse marking string for node ${Z.id}: ${Z.data.marking}`)}if(Z.data.marking=JSON.stringify(Q),Z.data.initialMarking){const K=Z.data.initialMarking;typeof K=="string"?K.startsWith("[")&&K.endsWith("]")||K.endsWith(".all()")||K.trim()===""&&(Z.data.initialMarking="[]"):Array.isArray(K)&&(Z.data.initialMarking=JSON.stringify(K))}else Z.data.initialMarking="[]"}}),V.edges.forEach(Z=>{if(Z.label&&typeof Z.label=="string"){const Q=Z.label.trim();if(!Q||Q.startsWith("[")&&Q.endsWith("]"))return;if(Q.includes("`")||Q.includes("++")){const K=uK(Q);K!==Q&&(console.log(`Desugared arc inscription "${Q}"  "${K}"`),Z.label=K)}}})});const R=op(X);console.log("Creating WASM Simulator with JSON:",R),t.current=new Gg(R),console.log("WASM Simulator created successfully"),t.current.setEventListener(E),r(!0),console.log("WASM Simulator initialized successfully.")}catch(A){console.error("Error initializing WASM Simulator:",A),r(!1),e.current=null,t.current=null}}const _=async()=>{(!n||!e.current||!t.current)&&await N()},I=()=>{if(t.current)try{console.log("Requesting simulation step...");const A=t.current.run_step();return console.log("Simulation step result:",A),A}catch(A){return console.error("Error running simulation step:",A),null}else return console.warn("WASM Simulator ref is null after initialization attempt, cannot run step."),null};return{runStep:async()=>{await _(),Jr();try{I()}finally{Zr()}},runMultipleStepsAnimated:async(A,$=50)=>{if(!o){i(!0),l.current=!1,Jr();try{await _();for(let F=0;F<A;F++){if(l.current){console.log("Simulation stopped by user");break}if(I()==null){console.log("No transitions enabled, stopping animation.");break}await new Promise(D=>setTimeout(D,$))}}finally{i(!1),Zr()}}},runMultipleStepsFast:async A=>{if(!o){i(!0),l.current=!1,Jr();try{if(await _(),t.current){const $=t.current;if(typeof $.runMultipleSteps=="function"){const F=$.runMultipleSteps(A);if(Array.isArray(F))for(const G of F)G&&typeof G=="object"&&E(G)}else for(let F=0;F<A&&!l.current;F++)if(I()==null){console.log("No transitions enabled, stopping fast run.");break}}}finally{i(!1),Zr()}}},stop:()=>{console.log("Stop requested"),l.current=!0},fireTransition:async A=>{if(await _(),t.current){const $=t.current;if(typeof $.fireTransition=="function"){Jr();try{const F=$.fireTransition(A);console.log(`Fire transition ${A} result:`,F)}catch(F){console.error(`Error firing transition ${A}:`,F)}finally{Zr()}}else console.warn("fireTransition method not available in WASM simulator")}},getEnabledTransitions:async()=>{if(await _(),t.current){const A=t.current;if(typeof A.getEnabledTransitions=="function")try{return A.getEnabledTransitions()}catch($){console.error("Error getting enabled transitions:",$)}}return[]},reset:async()=>{l.current=!0,i(!1),h(0),g(0),d([]),await N()},events:c,clearEvents:()=>{d([])},isInitialized:n,isRunning:o,simulationTime:p,stepCounter:f,simulationConfig:x,setSimulationConfig:S,ensureInitialized:_,_executeWasmStep:I}}function pK({children:e}){const t=fK();return u.jsx(_c.Provider,{value:t,children:e})}var Br="Accordion",hK=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Py,mK,gK]=Nf(Br),[ip,WK]=Rn(Br,[gK,Xj]),Ay=Xj(),nP=qe.forwardRef((e,t)=>{const{type:n,...r}=e,o=r,i=r;return u.jsx(Py.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?u.jsx(wK,{...i,ref:t}):u.jsx(vK,{...o,ref:t})})});nP.displayName=Br;var[rP,xK]=ip(Br),[oP,yK]=ip(Br,{collapsible:!1}),vK=qe.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},collapsible:i=!1,...l}=e,[c,d]=Tn({prop:n,defaultProp:r??"",onChange:o,caller:Br});return u.jsx(rP,{scope:e.__scopeAccordion,value:qe.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:qe.useCallback(()=>i&&d(""),[i,d]),children:u.jsx(oP,{scope:e.__scopeAccordion,collapsible:i,children:u.jsx(iP,{...l,ref:t})})})}),wK=qe.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[l,c]=Tn({prop:n,defaultProp:r??[],onChange:o,caller:Br}),d=qe.useCallback(h=>c((p=[])=>[...p,h]),[c]),f=qe.useCallback(h=>c((p=[])=>p.filter(g=>g!==h)),[c]);return u.jsx(rP,{scope:e.__scopeAccordion,value:l,onItemOpen:d,onItemClose:f,children:u.jsx(oP,{scope:e.__scopeAccordion,collapsible:!0,children:u.jsx(iP,{...i,ref:t})})})}),[bK,sp]=ip(Br),iP=qe.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:o,orientation:i="vertical",...l}=e,c=qe.useRef(null),d=st(c,t),f=mK(n),p=hi(o)==="ltr",g=De(e.onKeyDown,x=>{var O;if(!hK.includes(x.key))return;const S=x.target,v=f().filter(U=>{var L;return!((L=U.ref.current)!=null&&L.disabled)}),b=v.findIndex(U=>U.ref.current===S),k=v.length;if(b===-1)return;x.preventDefault();let E=b;const N=0,_=k-1,I=()=>{E=b+1,E>_&&(E=N)},P=()=>{E=b-1,E<N&&(E=_)};switch(x.key){case"Home":E=N;break;case"End":E=_;break;case"ArrowRight":i==="horizontal"&&(p?I():P());break;case"ArrowDown":i==="vertical"&&I();break;case"ArrowLeft":i==="horizontal"&&(p?P():I());break;case"ArrowUp":i==="vertical"&&P();break}const T=E%k;(O=v[T].ref.current)==null||O.focus()});return u.jsx(bK,{scope:n,disabled:r,direction:o,orientation:i,children:u.jsx(Py.Slot,{scope:n,children:u.jsx(He.div,{...l,"data-orientation":i,ref:d,onKeyDown:r?void 0:g})})})}),lf="AccordionItem",[SK,Iy]=ip(lf),sP=qe.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...o}=e,i=sp(lf,n),l=xK(lf,n),c=Ay(n),d=wr(),f=r&&l.value.includes(r)||!1,h=i.disabled||e.disabled;return u.jsx(SK,{scope:n,open:f,disabled:h,triggerId:d,children:u.jsx(Qj,{"data-orientation":i.orientation,"data-state":fP(f),...c,...o,ref:t,disabled:h,open:f,onOpenChange:p=>{p?l.onItemOpen(r):l.onItemClose(r)}})})});sP.displayName=lf;var lP="AccordionHeader",aP=qe.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=sp(Br,n),i=Iy(lP,n);return u.jsx(He.h3,{"data-orientation":o.orientation,"data-state":fP(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});aP.displayName=lP;var Kg="AccordionTrigger",cP=qe.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=sp(Br,n),i=Iy(Kg,n),l=yK(Kg,n),c=Ay(n);return u.jsx(Py.ItemSlot,{scope:n,children:u.jsx(KH,{"aria-disabled":i.open&&!l.collapsible||void 0,"data-orientation":o.orientation,id:i.triggerId,...c,...r,ref:t})})});cP.displayName=Kg;var uP="AccordionContent",dP=qe.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=sp(Br,n),i=Iy(uP,n),l=Ay(n);return u.jsx(QH,{role:"region","aria-labelledby":i.triggerId,"data-orientation":o.orientation,...l,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});dP.displayName=uP;function fP(e){return e?"open":"closed"}var kK=nP,CK=sP,NK=aP,EK=cP,jK=dP;function _K({...e}){return u.jsx(kK,{"data-slot":"accordion",...e})}function IS({className:e,...t}){return u.jsx(CK,{"data-slot":"accordion-item",className:Xe("border-b last:border-b-0",e),...t})}function TS({className:e,children:t,...n}){return u.jsx(NK,{className:"flex",children:u.jsxs(EK,{"data-slot":"accordion-trigger",className:Xe("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,u.jsx(ri,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function RS({className:e,children:t,...n}){return u.jsx(jK,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:u.jsx("div",{className:Xe("pt-0 pb-4",e),children:t})})}function MS({attribute:e,timeRange:t,valueChanges:n,onAddChange:r,onEditChange:o}){const i=w.useRef(null),[l,c]=w.useState(0);w.useEffect(()=>{const g=i.current;if(!g)return;const x=()=>{c(g.offsetWidth)};x();const S=new ResizeObserver(x);return S.observe(g),()=>{g&&S.unobserve(g)}},[]);const d=g=>{const[x,S]=t,v=S-x,b=(g-x)/v*l;return Math.max(0,Math.min(l,b))},f=g=>{const[x,S]=t,v=S-x,b=x+g/l*v;return Math.max(x,Math.min(S,b))},h=g=>{if(!i.current)return;const x=i.current.getBoundingClientRect(),S=g.clientX-x.left,v=f(S);r(Math.round(v))},p=(g,x)=>{switch(g){case"set":return`= ${x}`;case"add":return`+ ${x}`;case"subtract":return`- ${x}`;case"prefix":return`prefix "${x}"`;case"append":return`append "${x}"`;case"increasePercent":return`+${x}%`;case"decreasePercent":return`-${x}%`;case"reset":return"reset";default:return g}};return u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs(je,{className:"text-sm font-medium",children:[e.name,u.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",e.type,", initial: ",e.initialValue.toString(),")"]})]})}),u.jsxs("div",{ref:i,className:"h-8 bg-muted rounded-md relative cursor-pointer",onClick:h,children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:[0,.25,.5,.75,1].map(g=>u.jsx("div",{className:"absolute h-2 border-l border-muted-foreground/30",style:{left:`${g*100}%`}},g))}),u.jsxs("div",{className:"absolute inset-x-0 -bottom-5 flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:t[0]}),u.jsx("span",{children:Math.round((t[0]+t[1])/2)}),u.jsx("span",{children:t[1]})]}),u.jsx(vn,{children:n.map(g=>u.jsxs(Qt,{children:[u.jsx(Jt,{asChild:!0,children:u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-primary rounded-full cursor-pointer z-10",style:{left:`${d(g.timestamp)}px`},onClick:x=>{x.stopPropagation(),o(g)}})}),u.jsxs(Zt,{children:[u.jsxs("p",{children:["Time: ",g.timestamp]}),u.jsx("p",{children:p(g.operation,g.value)})]})]},g.id))})]})]})}function PK({open:e,onOpenChange:t,attribute:n,timestamp:r,existingChange:o,onSave:i,onDelete:l}){const[c,d]=w.useState("set"),[f,h]=w.useState(""),[p,g]=w.useState(r);w.useEffect(()=>{e&&(o?(d(o.operation),h(o.value.toString()),g(o.timestamp)):(d(n.type==="string"?"set":"add"),h(""),g(r)))},[e,n,r,o]);const x=()=>n.type==="string"?[{value:"set",label:"Set to"},{value:"prefix",label:"Prefix"},{value:"append",label:"Append"},{value:"reset",label:"Reset to initial value"}]:n.type==="int"||n.type==="real"?[{value:"set",label:"Set to"},{value:"add",label:"Add"},{value:"subtract",label:"Subtract"},{value:"increasePercent",label:"Increase by %"},{value:"decreasePercent",label:"Decrease by %"},{value:"reset",label:"Reset to initial value"}]:n.type==="boolean"?[{value:"set",label:"Set to"},{value:"toggle",label:"Toggle"},{value:"reset",label:"Reset to initial value"}]:[],S=()=>{const v=n.type==="int"?Number.parseInt(f,10):n.type==="real"?Number.parseFloat(f):n.type==="boolean"?f==="true":f,b={id:(o==null?void 0:o.id)||it(),attributeId:n.id,timestamp:p,operation:c,value:v};i(b)};return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:"sm:max-w-[425px]",children:[u.jsxs(pn,{children:[u.jsx(hn,{children:o?"Edit Value Change":"Add Value Change"}),u.jsxs(Io,{children:['Define how the attribute "',n.name,'" changes at a specific time.']})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"timestamp",className:"text-right",children:"Timestamp"}),u.jsx(at,{id:"timestamp",type:"number",value:p,onChange:v=>g(Number(v.target.value)),className:"col-span-3",min:0})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"operation",className:"text-right",children:"Operation"}),u.jsxs(ln,{value:c,onValueChange:d,children:[u.jsx(cn,{className:"col-span-3",children:u.jsx(an,{placeholder:"Select operation"})}),u.jsx(un,{children:x().map(v=>u.jsx(ut,{value:v.value,children:v.label},v.value))})]})]}),c!=="reset"&&c!=="toggle"&&u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"value",className:"text-right",children:"Value"}),n.type==="boolean"?u.jsxs(ln,{value:f,onValueChange:h,children:[u.jsx(cn,{className:"col-span-3",children:u.jsx(an,{placeholder:"Select value"})}),u.jsxs(un,{children:[u.jsx(ut,{value:"true",children:"True"}),u.jsx(ut,{value:"false",children:"False"})]})]}):u.jsx(at,{id:"value",type:n.type==="int"||n.type==="real"?"number":"text",value:f,onChange:v=>h(v.target.value),className:"col-span-3"})]})]}),u.jsxs(Sr,{className:"flex justify-between",children:[u.jsx("div",{children:o&&l&&u.jsx(ge,{variant:"destructive",onClick:l,children:"Delete"})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ge,{onClick:S,children:"Save"})]})]})]})})}function AK({open:e,onOpenChange:t,onAdd:n}){const[r,o]=w.useState(""),[i,l]=w.useState("string"),[c,d]=w.useState(""),f=()=>{let h;switch(i){case"int":h=Number.parseInt(c,10)||0;break;case"real":h=Number.parseFloat(c)||0;break;case"boolean":h=c==="true";break;default:h=c}const p={id:it(),name:r,type:i,initialValue:h};n(p),o(""),l("string"),d("")};return u.jsx(dn,{open:e,onOpenChange:t,children:u.jsxs(fn,{className:"sm:max-w-[425px]",children:[u.jsxs(pn,{children:[u.jsx(hn,{children:"Add Global Attribute"}),u.jsx(Io,{children:"Create a new attribute for the global context."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"name",className:"text-right",children:"Name"}),u.jsx(at,{id:"name",value:r,onChange:h=>o(h.target.value),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"type",className:"text-right",children:"Type"}),u.jsxs(ln,{value:i,onValueChange:h=>l(h),children:[u.jsx(cn,{className:"col-span-3",children:u.jsx(an,{placeholder:"Select type"})}),u.jsxs(un,{children:[u.jsx(ut,{value:"string",children:"String"}),u.jsx(ut,{value:"int",children:"Integer"}),u.jsx(ut,{value:"real",children:"Real"}),u.jsx(ut,{value:"boolean",children:"Boolean"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(je,{htmlFor:"initialValue",className:"text-right",children:"Initial Value"}),i==="boolean"?u.jsxs(ln,{value:c,onValueChange:d,children:[u.jsx(cn,{className:"col-span-3",children:u.jsx(an,{placeholder:"Select value"})}),u.jsxs(un,{children:[u.jsx(ut,{value:"true",children:"True"}),u.jsx(ut,{value:"false",children:"False"})]})]}):u.jsx(at,{id:"initialValue",type:i==="int"||i==="real"?"number":"text",value:c,onChange:h=>d(h.target.value),className:"col-span-3"})]})]}),u.jsxs(Sr,{children:[u.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ge,{onClick:f,disabled:!r,children:"Add Attribute"})]})]})})}function IK({simulationTimeRange:e}){const[t,n]=w.useState([{id:"global-tax",name:"Sales Tax",type:"real",initialValue:19.5}]),[r,o]=w.useState([]),i=he(P=>P.colorSets),[l,c]=w.useState([{id:"change-1",attributeId:"global-1",timestamp:10,operation:"set",value:"PROC-002"},{id:"change-2",attributeId:"global-2",timestamp:25,operation:"add",value:50}]),[d,f]=w.useState(!1),[h,p]=w.useState(!1),[g,x]=w.useState(null),[S,v]=w.useState(null),[b,k]=w.useState(null);w.useEffect(()=>{const T=i.filter(O=>O.type==="record"||O.type==="complex").filter(O=>typeof O.id=="string"&&typeof O.definition=="string"&&O.definition.includes("record")).map(O=>{const U=[],L=O.definition,B=L.match(/record\s+(.*);/);return B&&B[1]?B[1].trim().split("*").forEach((A,$)=>{const F=A.split(":");if(F.length===2){const G=F[0].trim(),D=F[1].trim();let W="string";switch(D.toUpperCase()){case"INT":W="int";break;case"STRING":W="string";break;case"BOOL":W="boolean";break;case"REAL":W="real";break;default:console.warn(`Unknown attribute type "${D}" in definition: ${L}. Defaulting to string.`)}U.push({id:`${O.id}-attr-${$}`,name:G,type:W,initialValue:""})}else console.warn(`Could not parse attribute pair: "${A}" in definition: ${L}`)}):console.warn(`Could not parse record attributes from definition: ${L}`),{id:O.id,name:O.name,attributes:U}});o(T)},[i]);const E=(P,T,O)=>{x(P),k(T),v(O||null),f(!0)},N=P=>{c(S?T=>T.map(O=>O.id===S.id?P:O):T=>[...T,P]),f(!1)},_=P=>{c(T=>T.filter(O=>O.id!==P)),f(!1)},I=P=>{n(T=>[...T,P]),p(!1)};return u.jsxs(Uf,{className:"h-full",children:[u.jsxs(cj,{className:"w-full border-none shadow-none gap-0",children:[u.jsx(uj,{children:u.jsx(FV,{children:"Object Evolution Layer"})}),u.jsx(dj,{children:u.jsxs(_K,{type:"multiple",defaultValue:["global-context"],children:[u.jsxs(IS,{value:"global-context",children:[u.jsx(TS,{className:"flex items-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(FI,{className:"h-4 w-4"}),u.jsx("span",{children:"Global Context"})]})}),u.jsx(RS,{children:u.jsxs("div",{className:"space-y-4",children:[t.map(P=>u.jsx(MS,{attribute:P,timeRange:e,valueChanges:l.filter(T=>T.attributeId===P.id),onAddChange:T=>E(P,T),onEditChange:T=>E(P,T.timestamp,T)},P.id)),u.jsxs(ge,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>p(!0),children:[u.jsx(HS,{className:"h-4 w-4 mr-2"}),"Add Attribute"]})]})})]}),r.map(P=>u.jsxs(IS,{value:P.id,children:[u.jsx(TS,{className:"flex items-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(aI,{className:"h-4 w-4"}),u.jsx("span",{children:P.name})]})}),u.jsx(RS,{children:u.jsx("div",{className:"space-y-4",children:P.attributes.map(T=>u.jsx(MS,{attribute:T,timeRange:e,valueChanges:l.filter(O=>O.attributeId===T.id),onAddChange:O=>E(T,O),onEditChange:O=>E(T,O.timestamp,O)},T.id))})})]},P.id))]})})]}),g&&u.jsx(PK,{open:d,onOpenChange:f,attribute:g,timestamp:b||0,existingChange:S,onSave:N,onDelete:S?()=>_(S.id):void 0}),u.jsx(AK,{open:h,onOpenChange:p,onAdd:I})]})}function TK(){const[e,t]=w.useState(!1),n=[0,100],r=()=>{t(o=>!o)};return u.jsx(pK,{children:u.jsx("div",{className:"h-screen",children:u.jsxs(kw,{direction:"horizontal",children:[u.jsx(ZH,{}),u.jsx(Cw,{}),u.jsx(La,{children:u.jsxs(kw,{direction:"vertical",children:[u.jsx(La,{className:"flex flex-col",children:u.jsx(cN,{children:u.jsx(_9,{children:u.jsx(eK,{onToggleAIAssistant:r})})})}),u.jsx(Cw,{}),u.jsx(La,{defaultSize:0,collapsedSize:0,collapsible:!0,minSize:10,children:u.jsx(IK,{simulationTimeRange:n})})]})}),e&&u.jsx(u.Fragment,{children:u.jsx(nK,{})})]})})})}ZA.createRoot(document.getElementById("root")).render(u.jsx(qe.StrictMode,{children:u.jsx(TK,{})}));export{RK as c,hc as g};
