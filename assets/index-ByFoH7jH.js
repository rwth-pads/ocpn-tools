function sA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Qq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ja(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ph={exports:{}},Jl={},Ah={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function lA(){if(P0)return xt;P0=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function g(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function S(H,X,I){this.props=H,this.context=X,this.refs=v,this.updater=I||x}S.prototype.isReactComponent={},S.prototype.setState=function(H,X){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,X,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=S.prototype;function E(H,X,I){this.props=H,this.context=X,this.refs=v,this.updater=I||x}var N=E.prototype=new k;N.constructor=E,b(N,S.prototype),N.isPureReactComponent=!0;var _=Array.isArray,T=Object.prototype.hasOwnProperty,P={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function z(H,X,I){var V,J={},Z=null,K=null;if(X!=null)for(V in X.ref!==void 0&&(K=X.ref),X.key!==void 0&&(Z=""+X.key),X)T.call(X,V)&&!M.hasOwnProperty(V)&&(J[V]=X[V]);var te=arguments.length-2;if(te===1)J.children=I;else if(1<te){for(var Q=Array(te),ie=0;ie<te;ie++)Q[ie]=arguments[ie+2];J.children=Q}if(H&&H.defaultProps)for(V in te=H.defaultProps,te)J[V]===void 0&&(J[V]=te[V]);return{$$typeof:e,type:H,key:Z,ref:K,props:J,_owner:P.current}}function Y(H,X){return{$$typeof:e,type:H.type,key:X,ref:H.ref,props:H.props,_owner:H._owner}}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function B(H){var X={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(I){return X[I]})}var q=/\/+/g;function U(H,X){return typeof H=="object"&&H!==null&&H.key!=null?B(""+H.key):X.toString(36)}function A(H,X,I,V,J){var Z=typeof H;(Z==="undefined"||Z==="boolean")&&(H=null);var K=!1;if(H===null)K=!0;else switch(Z){case"string":case"number":K=!0;break;case"object":switch(H.$$typeof){case e:case t:K=!0}}if(K)return K=H,J=J(K),H=V===""?"."+U(K,0):V,_(J)?(I="",H!=null&&(I=H.replace(q,"$&/")+"/"),A(J,X,I,"",function(ie){return ie})):J!=null&&(L(J)&&(J=Y(J,I+(!J.key||K&&K.key===J.key?"":(""+J.key).replace(q,"$&/")+"/")+H)),X.push(J)),1;if(K=0,V=V===""?".":V+":",_(H))for(var te=0;te<H.length;te++){Z=H[te];var Q=V+U(Z,te);K+=A(Z,X,I,Q,J)}else if(Q=g(H),typeof Q=="function")for(H=Q.call(H),te=0;!(Z=H.next()).done;)Z=Z.value,Q=V+U(Z,te++),K+=A(Z,X,I,Q,J);else if(Z==="object")throw X=String(H),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return K}function F(H,X,I){if(H==null)return H;var V=[],J=0;return A(H,V,"","",function(Z){return X.call(I,Z,J++)}),V}function $(H){if(H._status===-1){var X=H._result;X=X(),X.then(function(I){(H._status===0||H._status===-1)&&(H._status=1,H._result=I)},function(I){(H._status===0||H._status===-1)&&(H._status=2,H._result=I)}),H._status===-1&&(H._status=0,H._result=X)}if(H._status===1)return H._result.default;throw H._result}var G={current:null},D={transition:null},W={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:D,ReactCurrentOwner:P};function R(){throw Error("act(...) is not supported in production builds of React.")}return xt.Children={map:F,forEach:function(H,X,I){F(H,function(){X.apply(this,arguments)},I)},count:function(H){var X=0;return F(H,function(){X++}),X},toArray:function(H){return F(H,function(X){return X})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},xt.Component=S,xt.Fragment=n,xt.Profiler=o,xt.PureComponent=E,xt.StrictMode=r,xt.Suspense=d,xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,xt.act=R,xt.cloneElement=function(H,X,I){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var V=b({},H.props),J=H.key,Z=H.ref,K=H._owner;if(X!=null){if(X.ref!==void 0&&(Z=X.ref,K=P.current),X.key!==void 0&&(J=""+X.key),H.type&&H.type.defaultProps)var te=H.type.defaultProps;for(Q in X)T.call(X,Q)&&!M.hasOwnProperty(Q)&&(V[Q]=X[Q]===void 0&&te!==void 0?te[Q]:X[Q])}var Q=arguments.length-2;if(Q===1)V.children=I;else if(1<Q){te=Array(Q);for(var ie=0;ie<Q;ie++)te[ie]=arguments[ie+2];V.children=te}return{$$typeof:e,type:H.type,key:J,ref:Z,props:V,_owner:K}},xt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:i,_context:H},H.Consumer=H},xt.createElement=z,xt.createFactory=function(H){var X=z.bind(null,H);return X.type=H,X},xt.createRef=function(){return{current:null}},xt.forwardRef=function(H){return{$$typeof:c,render:H}},xt.isValidElement=L,xt.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:$}},xt.memo=function(H,X){return{$$typeof:f,type:H,compare:X===void 0?null:X}},xt.startTransition=function(H){var X=D.transition;D.transition={};try{H()}finally{D.transition=X}},xt.unstable_act=R,xt.useCallback=function(H,X){return G.current.useCallback(H,X)},xt.useContext=function(H){return G.current.useContext(H)},xt.useDebugValue=function(){},xt.useDeferredValue=function(H){return G.current.useDeferredValue(H)},xt.useEffect=function(H,X){return G.current.useEffect(H,X)},xt.useId=function(){return G.current.useId()},xt.useImperativeHandle=function(H,X,I){return G.current.useImperativeHandle(H,X,I)},xt.useInsertionEffect=function(H,X){return G.current.useInsertionEffect(H,X)},xt.useLayoutEffect=function(H,X){return G.current.useLayoutEffect(H,X)},xt.useMemo=function(H,X){return G.current.useMemo(H,X)},xt.useReducer=function(H,X,I){return G.current.useReducer(H,X,I)},xt.useRef=function(H){return G.current.useRef(H)},xt.useState=function(H){return G.current.useState(H)},xt.useSyncExternalStore=function(H,X,I){return G.current.useSyncExternalStore(H,X,I)},xt.useTransition=function(){return G.current.useTransition()},xt.version="18.3.1",xt}var A0;function Za(){return A0||(A0=1,Ah.exports=lA()),Ah.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function aA(){if(I0)return Jl;I0=1;var e=Za(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var m,p={},g=null,x=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(x=d.ref);for(m in d)r.call(d,m)&&!i.hasOwnProperty(m)&&(p[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)p[m]===void 0&&(p[m]=d[m]);return{$$typeof:t,type:c,key:g,ref:x,props:p,_owner:o.current}}return Jl.Fragment=n,Jl.jsx=l,Jl.jsxs=l,Jl}var T0;function cA(){return T0||(T0=1,Ph.exports=aA()),Ph.exports}var u=cA(),w=Za();const He=Ja(w),Fd=sA({__proto__:null,default:He},[w]);var Eu={},Ih={exports:{}},Fn={},Th={exports:{}},Rh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function uA(){return R0||(R0=1,function(e){function t(D,W){var R=D.length;D.push(W);e:for(;0<R;){var H=R-1>>>1,X=D[H];if(0<o(X,W))D[H]=W,D[R]=X,R=H;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var W=D[0],R=D.pop();if(R!==W){D[0]=R;e:for(var H=0,X=D.length,I=X>>>1;H<I;){var V=2*(H+1)-1,J=D[V],Z=V+1,K=D[Z];if(0>o(J,R))Z<X&&0>o(K,J)?(D[H]=K,D[Z]=R,H=Z):(D[H]=J,D[V]=R,H=V);else if(Z<X&&0>o(K,R))D[H]=K,D[Z]=R,H=Z;else break e}}return W}function o(D,W){var R=D.sortIndex-W.sortIndex;return R!==0?R:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,p=null,g=3,x=!1,b=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(D){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=D)r(f),W.sortIndex=W.expirationTime,t(d,W);else break;W=n(f)}}function _(D){if(v=!1,N(D),!b)if(n(d)!==null)b=!0,$(T);else{var W=n(f);W!==null&&G(_,W.startTime-D)}}function T(D,W){b=!1,v&&(v=!1,k(z),z=-1),x=!0;var R=g;try{for(N(W),p=n(d);p!==null&&(!(p.expirationTime>W)||D&&!B());){var H=p.callback;if(typeof H=="function"){p.callback=null,g=p.priorityLevel;var X=H(p.expirationTime<=W);W=e.unstable_now(),typeof X=="function"?p.callback=X:p===n(d)&&r(d),N(W)}else r(d);p=n(d)}if(p!==null)var I=!0;else{var V=n(f);V!==null&&G(_,V.startTime-W),I=!1}return I}finally{p=null,g=R,x=!1}}var P=!1,M=null,z=-1,Y=5,L=-1;function B(){return!(e.unstable_now()-L<Y)}function q(){if(M!==null){var D=e.unstable_now();L=D;var W=!0;try{W=M(!0,D)}finally{W?U():(P=!1,M=null)}}else P=!1}var U;if(typeof E=="function")U=function(){E(q)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,F=A.port2;A.port1.onmessage=q,U=function(){F.postMessage(null)}}else U=function(){S(q,0)};function $(D){M=D,P||(P=!0,U())}function G(D,W){z=S(function(){D(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,$(T))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var R=g;g=W;try{return D()}finally{g=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var R=g;g=D;try{return W()}finally{g=R}},e.unstable_scheduleCallback=function(D,W,R){var H=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?H+R:H):R=H,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=R+X,D={id:m++,callback:W,priorityLevel:D,startTime:R,expirationTime:X,sortIndex:-1},R>H?(D.sortIndex=R,t(f,D),n(d)===null&&D===n(f)&&(v?(k(z),z=-1):v=!0,G(_,R-H))):(D.sortIndex=X,t(d,D),b||x||(b=!0,$(T))),D},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(D){var W=g;return function(){var R=g;g=W;try{return D.apply(this,arguments)}finally{g=R}}}}(Rh)),Rh}var M0;function dA(){return M0||(M0=1,Th.exports=uA()),Th.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function fA(){if(D0)return Fn;D0=1;var e=Za(),t=dA();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function i(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(o[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function g(s){return d.call(p,s)?!0:d.call(m,s)?!1:f.test(s)?p[s]=!0:(m[s]=!0,!1)}function x(s,a,h,y){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return y?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,a,h,y){if(a===null||typeof a>"u"||x(s,a,h,y))return!0;if(y)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function v(s,a,h,y,C,j,O){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=y,this.attributeNamespace=C,this.mustUseProperty=h,this.propertyName=s,this.type=a,this.sanitizeURL=j,this.removeEmptyString=O}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new v(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];S[a]=new v(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new v(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new v(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new v(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new v(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new v(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new v(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new v(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(k,E);S[a]=new v(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(k,E);S[a]=new v(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(k,E);S[a]=new v(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new v(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new v(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,a,h,y){var C=S.hasOwnProperty(a)?S[a]:null;(C!==null?C.type!==0:y||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,h,C,y)&&(h=null),y||C===null?g(a)&&(h===null?s.removeAttribute(a):s.setAttribute(a,""+h)):C.mustUseProperty?s[C.propertyName]=h===null?C.type===3?!1:"":h:(a=C.attributeName,y=C.attributeNamespace,h===null?s.removeAttribute(a):(C=C.type,h=C===3||C===4&&h===!0?"":""+h,y?s.setAttributeNS(y,a,h):s.setAttribute(a,h))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),P=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),D=Symbol.iterator;function W(s){return s===null||typeof s!="object"?null:(s=D&&s[D]||s["@@iterator"],typeof s=="function"?s:null)}var R=Object.assign,H;function X(s){if(H===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+s}var I=!1;function V(s,a){if(!s||I)return"";I=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(de){var y=de}Reflect.construct(s,[],a)}else{try{a.call()}catch(de){y=de}s.call(a.prototype)}else{try{throw Error()}catch(de){y=de}s()}}catch(de){if(de&&y&&typeof de.stack=="string"){for(var C=de.stack.split(`
`),j=y.stack.split(`
`),O=C.length-1,ee=j.length-1;1<=O&&0<=ee&&C[O]!==j[ee];)ee--;for(;1<=O&&0<=ee;O--,ee--)if(C[O]!==j[ee]){if(O!==1||ee!==1)do if(O--,ee--,0>ee||C[O]!==j[ee]){var re=`
`+C[O].replace(" at new "," at ");return s.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",s.displayName)),re}while(1<=O&&0<=ee);break}}}finally{I=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?X(s):""}function J(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=V(s.type,!1),s;case 11:return s=V(s.type.render,!1),s;case 1:return s=V(s.type,!0),s;default:return""}}function Z(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case P:return"Portal";case Y:return"Profiler";case z:return"StrictMode";case U:return"Suspense";case A:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case B:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return a=s.displayName||null,a!==null?a:Z(s.type)||"Memo";case $:a=s._payload,s=s._init;try{return Z(s(a))}catch{}}return null}function K(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(a);case 8:return a===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function te(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Q(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ie(s){var a=Q(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),y=""+s[a];if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var C=h.get,j=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return C.call(this)},set:function(O){y=""+O,j.call(this,O)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function(O){y=""+O},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ue(s){s._valueTracker||(s._valueTracker=ie(s))}function fe(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var h=a.getValue(),y="";return s&&(y=Q(s)?s.checked?"true":"false":s.value),s=y,s!==h?(a.setValue(s),!0):!1}function pe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function we(s,a){var h=a.checked;return R({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function De(s,a){var h=a.defaultValue==null?"":a.defaultValue,y=a.checked!=null?a.checked:a.defaultChecked;h=te(a.value!=null?a.value:h),s._wrapperState={initialChecked:y,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Oe(s,a){a=a.checked,a!=null&&N(s,"checked",a,!1)}function it(s,a){Oe(s,a);var h=te(a.value),y=a.type;if(h!=null)y==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(y==="submit"||y==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Qe(s,a.type,h):a.hasOwnProperty("defaultValue")&&Qe(s,a.type,te(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Ze(s,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var y=a.type;if(!(y!=="submit"&&y!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,h||a===s.value||(s.value=a),s.defaultValue=a}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function Qe(s,a,h){(a!=="number"||pe(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var Ce=Array.isArray;function Ve(s,a,h,y){if(s=s.options,a){a={};for(var C=0;C<h.length;C++)a["$"+h[C]]=!0;for(h=0;h<s.length;h++)C=a.hasOwnProperty("$"+s[h].value),s[h].selected!==C&&(s[h].selected=C),C&&y&&(s[h].defaultSelected=!0)}else{for(h=""+te(h),a=null,C=0;C<s.length;C++){if(s[C].value===h){s[C].selected=!0,y&&(s[C].defaultSelected=!0);return}a!==null||s[C].disabled||(a=s[C])}a!==null&&(a.selected=!0)}}function ut(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return R({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function bt(s,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(n(92));if(Ce(h)){if(1<h.length)throw Error(n(93));h=h[0]}a=h}a==null&&(a=""),h=a}s._wrapperState={initialValue:te(h)}}function _t(s,a){var h=te(a.value),y=te(a.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),a.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),y!=null&&(s.defaultValue=""+y)}function At(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ne(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ne(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var he,be=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,y,C){MSApp.execUnsafeLocalFunction(function(){return s(a,h,y,C)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(he=he||document.createElement("div"),he.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=he.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Ne(s,a){if(a){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=a;return}}s.textContent=a}var Le={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tt=["Webkit","ms","Moz","O"];Object.keys(Le).forEach(function(s){tt.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Le[a]=Le[s]})});function We(s,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||Le.hasOwnProperty(s)&&Le[s]?(""+a).trim():a+"px"}function Xe(s,a){s=s.style;for(var h in a)if(a.hasOwnProperty(h)){var y=h.indexOf("--")===0,C=We(h,a[h],y);h==="float"&&(h="cssFloat"),y?s.setProperty(h,C):s[h]=C}}var et=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ue(s,a){if(a){if(et[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function St(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gt=null;function Et(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var se=null,je=null,nt=null;function ze(s){if(s=Ll(s)){if(typeof se!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Bc(a),se(s.stateNode,s.type,a))}}function lt(s){je?nt?nt.push(s):nt=[s]:je=s}function ft(){if(je){var s=je,a=nt;if(nt=je=null,ze(s),a)for(s=0;s<a.length;s++)ze(a[s])}}function at(s,a){return s(a)}function ht(){}var Lt=!1;function Zt(s,a,h){if(Lt)return s(a,h);Lt=!0;try{return at(s,a,h)}finally{Lt=!1,(je!==null||nt!==null)&&(ht(),ft())}}function Ht(s,a){var h=s.stateNode;if(h===null)return null;var y=Bc(h);if(y===null)return null;h=y[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(n(231,a,typeof h));return h}var mr=!1;if(c)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{mr=!1}function hl(s,a,h,y,C,j,O,ee,re){var de=Array.prototype.slice.call(arguments,3);try{a.apply(h,de)}catch(xe){this.onError(xe)}}var li=!1,Xi=null,qi=!1,ml=null,Ff={onError:function(s){li=!0,Xi=s}};function Bf(s,a,h,y,C,j,O,ee,re){li=!1,Xi=null,hl.apply(Ff,arguments)}function Vf(s,a,h,y,C,j,O,ee,re){if(Bf.apply(this,arguments),li){if(li){var de=Xi;li=!1,Xi=null}else throw Error(n(198));qi||(qi=!0,ml=de)}}function Or(s){var a=s,h=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(h=a.return),s=a.return;while(s)}return a.tag===3?h:null}function gl(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function xl(s){if(Or(s)!==s)throw Error(n(188))}function Hf(s){var a=s.alternate;if(!a){if(a=Or(s),a===null)throw Error(n(188));return a!==s?null:s}for(var h=s,y=a;;){var C=h.return;if(C===null)break;var j=C.alternate;if(j===null){if(y=C.return,y!==null){h=y;continue}break}if(C.child===j.child){for(j=C.child;j;){if(j===h)return xl(C),s;if(j===y)return xl(C),a;j=j.sibling}throw Error(n(188))}if(h.return!==y.return)h=C,y=j;else{for(var O=!1,ee=C.child;ee;){if(ee===h){O=!0,h=C,y=j;break}if(ee===y){O=!0,y=C,h=j;break}ee=ee.sibling}if(!O){for(ee=j.child;ee;){if(ee===h){O=!0,h=j,y=C;break}if(ee===y){O=!0,y=j,h=C;break}ee=ee.sibling}if(!O)throw Error(n(189))}}if(h.alternate!==y)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?s:a}function xc(s){return s=Hf(s),s!==null?yc(s):null}function yc(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=yc(s);if(a!==null)return a;s=s.sibling}return null}var vc=t.unstable_scheduleCallback,wc=t.unstable_cancelCallback,Uf=t.unstable_shouldYield,bc=t.unstable_requestPaint,Ft=t.unstable_now,Wf=t.unstable_getCurrentPriorityLevel,yl=t.unstable_ImmediatePriority,Sc=t.unstable_UserBlockingPriority,Gi=t.unstable_NormalPriority,Yf=t.unstable_LowPriority,kc=t.unstable_IdlePriority,ai=null,or=null;function Xf(s){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(ai,s,void 0,(s.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:Kf,qf=Math.log,Gf=Math.LN2;function Kf(s){return s>>>=0,s===0?32:31-(qf(s)/Gf|0)|0}var Ki=64,Qi=4194304;function Lr(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ji(s,a){var h=s.pendingLanes;if(h===0)return 0;var y=0,C=s.suspendedLanes,j=s.pingedLanes,O=h&268435455;if(O!==0){var ee=O&~C;ee!==0?y=Lr(ee):(j&=O,j!==0&&(y=Lr(j)))}else O=h&~C,O!==0?y=Lr(O):j!==0&&(y=Lr(j));if(y===0)return 0;if(a!==0&&a!==y&&(a&C)===0&&(C=y&-y,j=a&-a,C>=j||C===16&&(j&4194240)!==0))return a;if((y&4)!==0&&(y|=h&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=y;0<a;)h=31-Un(a),C=1<<h,y|=s[h],a&=~C;return y}function Cc(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qf(s,a){for(var h=s.suspendedLanes,y=s.pingedLanes,C=s.expirationTimes,j=s.pendingLanes;0<j;){var O=31-Un(j),ee=1<<O,re=C[O];re===-1?((ee&h)===0||(ee&y)!==0)&&(C[O]=Cc(ee,a)):re<=a&&(s.expiredLanes|=ee),j&=~ee}}function vl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Zi(){var s=Ki;return Ki<<=1,(Ki&4194240)===0&&(Ki=64),s}function wl(s){for(var a=[],h=0;31>h;h++)a.push(s);return a}function ci(s,a,h){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Un(a),s[a]=h}function Nc(s,a){var h=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var y=s.eventTimes;for(s=s.expirationTimes;0<h;){var C=31-Un(h),j=1<<C;a[C]=0,y[C]=-1,s[C]=-1,h&=~j}}function Jf(s,a){var h=s.entangledLanes|=a;for(s=s.entanglements;h;){var y=31-Un(h),C=1<<y;C&a|s[y]&a&&(s[y]|=a),h&=~C}}var Pt=0;function ly(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ay,Zf,cy,uy,dy,ep=!1,Ec=[],vo=null,wo=null,bo=null,bl=new Map,Sl=new Map,So=[],_2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fy(s,a){switch(s){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":bo=null;break;case"pointerover":case"pointerout":bl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(a.pointerId)}}function kl(s,a,h,y,C,j){return s===null||s.nativeEvent!==j?(s={blockedOn:a,domEventName:h,eventSystemFlags:y,nativeEvent:j,targetContainers:[C]},a!==null&&(a=Ll(a),a!==null&&Zf(a)),s):(s.eventSystemFlags|=y,a=s.targetContainers,C!==null&&a.indexOf(C)===-1&&a.push(C),s)}function P2(s,a,h,y,C){switch(a){case"focusin":return vo=kl(vo,s,a,h,y,C),!0;case"dragenter":return wo=kl(wo,s,a,h,y,C),!0;case"mouseover":return bo=kl(bo,s,a,h,y,C),!0;case"pointerover":var j=C.pointerId;return bl.set(j,kl(bl.get(j)||null,s,a,h,y,C)),!0;case"gotpointercapture":return j=C.pointerId,Sl.set(j,kl(Sl.get(j)||null,s,a,h,y,C)),!0}return!1}function py(s){var a=ui(s.target);if(a!==null){var h=Or(a);if(h!==null){if(a=h.tag,a===13){if(a=gl(h),a!==null){s.blockedOn=a,dy(s.priority,function(){cy(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function jc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var h=np(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var y=new h.constructor(h.type,h);gt=y,h.target.dispatchEvent(y),gt=null}else return a=Ll(h),a!==null&&Zf(a),s.blockedOn=h,!1;a.shift()}return!0}function hy(s,a,h){jc(s)&&h.delete(a)}function A2(){ep=!1,vo!==null&&jc(vo)&&(vo=null),wo!==null&&jc(wo)&&(wo=null),bo!==null&&jc(bo)&&(bo=null),bl.forEach(hy),Sl.forEach(hy)}function Cl(s,a){s.blockedOn===a&&(s.blockedOn=null,ep||(ep=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,A2)))}function Nl(s){function a(C){return Cl(C,s)}if(0<Ec.length){Cl(Ec[0],s);for(var h=1;h<Ec.length;h++){var y=Ec[h];y.blockedOn===s&&(y.blockedOn=null)}}for(vo!==null&&Cl(vo,s),wo!==null&&Cl(wo,s),bo!==null&&Cl(bo,s),bl.forEach(a),Sl.forEach(a),h=0;h<So.length;h++)y=So[h],y.blockedOn===s&&(y.blockedOn=null);for(;0<So.length&&(h=So[0],h.blockedOn===null);)py(h),h.blockedOn===null&&So.shift()}var es=_.ReactCurrentBatchConfig,_c=!0;function I2(s,a,h,y){var C=Pt,j=es.transition;es.transition=null;try{Pt=1,tp(s,a,h,y)}finally{Pt=C,es.transition=j}}function T2(s,a,h,y){var C=Pt,j=es.transition;es.transition=null;try{Pt=4,tp(s,a,h,y)}finally{Pt=C,es.transition=j}}function tp(s,a,h,y){if(_c){var C=np(s,a,h,y);if(C===null)vp(s,a,y,Pc,h),fy(s,y);else if(P2(C,s,a,h,y))y.stopPropagation();else if(fy(s,y),a&4&&-1<_2.indexOf(s)){for(;C!==null;){var j=Ll(C);if(j!==null&&ay(j),j=np(s,a,h,y),j===null&&vp(s,a,y,Pc,h),j===C)break;C=j}C!==null&&y.stopPropagation()}else vp(s,a,y,null,h)}}var Pc=null;function np(s,a,h,y){if(Pc=null,s=Et(y),s=ui(s),s!==null)if(a=Or(s),a===null)s=null;else if(h=a.tag,h===13){if(s=gl(a),s!==null)return s;s=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Pc=s,null}function my(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wf()){case yl:return 1;case Sc:return 4;case Gi:case Yf:return 16;case kc:return 536870912;default:return 16}default:return 16}}var ko=null,rp=null,Ac=null;function gy(){if(Ac)return Ac;var s,a=rp,h=a.length,y,C="value"in ko?ko.value:ko.textContent,j=C.length;for(s=0;s<h&&a[s]===C[s];s++);var O=h-s;for(y=1;y<=O&&a[h-y]===C[j-y];y++);return Ac=C.slice(s,1<y?1-y:void 0)}function Ic(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Tc(){return!0}function xy(){return!1}function Wn(s){function a(h,y,C,j,O){this._reactName=h,this._targetInst=C,this.type=y,this.nativeEvent=j,this.target=O,this.currentTarget=null;for(var ee in s)s.hasOwnProperty(ee)&&(h=s[ee],this[ee]=h?h(j):j[ee]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Tc:xy,this.isPropagationStopped=xy,this}return R(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Tc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Tc)},persist:function(){},isPersistent:Tc}),a}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},op=Wn(ts),El=R({},ts,{view:0,detail:0}),R2=Wn(El),ip,sp,jl,Rc=R({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ap,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==jl&&(jl&&s.type==="mousemove"?(ip=s.screenX-jl.screenX,sp=s.screenY-jl.screenY):sp=ip=0,jl=s),ip)},movementY:function(s){return"movementY"in s?s.movementY:sp}}),yy=Wn(Rc),M2=R({},Rc,{dataTransfer:0}),D2=Wn(M2),O2=R({},El,{relatedTarget:0}),lp=Wn(O2),L2=R({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),z2=Wn(L2),$2=R({},ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),F2=Wn($2),B2=R({},ts,{data:0}),vy=Wn(B2),V2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W2(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=U2[s])?!!a[s]:!1}function ap(){return W2}var Y2=R({},El,{key:function(s){if(s.key){var a=V2[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ic(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?H2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ap,charCode:function(s){return s.type==="keypress"?Ic(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ic(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),X2=Wn(Y2),q2=R({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wy=Wn(q2),G2=R({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ap}),K2=Wn(G2),Q2=R({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),J2=Wn(Q2),Z2=R({},Rc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),eP=Wn(Z2),tP=[9,13,27,32],cp=c&&"CompositionEvent"in window,_l=null;c&&"documentMode"in document&&(_l=document.documentMode);var nP=c&&"TextEvent"in window&&!_l,by=c&&(!cp||_l&&8<_l&&11>=_l),Sy=" ",ky=!1;function Cy(s,a){switch(s){case"keyup":return tP.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ny(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ns=!1;function rP(s,a){switch(s){case"compositionend":return Ny(a);case"keypress":return a.which!==32?null:(ky=!0,Sy);case"textInput":return s=a.data,s===Sy&&ky?null:s;default:return null}}function oP(s,a){if(ns)return s==="compositionend"||!cp&&Cy(s,a)?(s=gy(),Ac=rp=ko=null,ns=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return by&&a.locale!=="ko"?null:a.data;default:return null}}var iP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!iP[s.type]:a==="textarea"}function jy(s,a,h,y){lt(y),a=zc(a,"onChange"),0<a.length&&(h=new op("onChange","change",null,h,y),s.push({event:h,listeners:a}))}var Pl=null,Al=null;function sP(s){Wy(s,0)}function Mc(s){var a=ls(s);if(fe(a))return s}function lP(s,a){if(s==="change")return a}var _y=!1;if(c){var up;if(c){var dp="oninput"in document;if(!dp){var Py=document.createElement("div");Py.setAttribute("oninput","return;"),dp=typeof Py.oninput=="function"}up=dp}else up=!1;_y=up&&(!document.documentMode||9<document.documentMode)}function Ay(){Pl&&(Pl.detachEvent("onpropertychange",Iy),Al=Pl=null)}function Iy(s){if(s.propertyName==="value"&&Mc(Al)){var a=[];jy(a,Al,s,Et(s)),Zt(sP,a)}}function aP(s,a,h){s==="focusin"?(Ay(),Pl=a,Al=h,Pl.attachEvent("onpropertychange",Iy)):s==="focusout"&&Ay()}function cP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Mc(Al)}function uP(s,a){if(s==="click")return Mc(a)}function dP(s,a){if(s==="input"||s==="change")return Mc(a)}function fP(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var gr=typeof Object.is=="function"?Object.is:fP;function Il(s,a){if(gr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var h=Object.keys(s),y=Object.keys(a);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var C=h[y];if(!d.call(a,C)||!gr(s[C],a[C]))return!1}return!0}function Ty(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ry(s,a){var h=Ty(s);s=0;for(var y;h;){if(h.nodeType===3){if(y=s+h.textContent.length,s<=a&&y>=a)return{node:h,offset:a-s};s=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Ty(h)}}function My(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?My(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Dy(){for(var s=window,a=pe();a instanceof s.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)s=a.contentWindow;else break;a=pe(s.document)}return a}function fp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function pP(s){var a=Dy(),h=s.focusedElem,y=s.selectionRange;if(a!==h&&h&&h.ownerDocument&&My(h.ownerDocument.documentElement,h)){if(y!==null&&fp(h)){if(a=y.start,s=y.end,s===void 0&&(s=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(s,h.value.length);else if(s=(a=h.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var C=h.textContent.length,j=Math.min(y.start,C);y=y.end===void 0?j:Math.min(y.end,C),!s.extend&&j>y&&(C=y,y=j,j=C),C=Ry(h,j);var O=Ry(h,y);C&&O&&(s.rangeCount!==1||s.anchorNode!==C.node||s.anchorOffset!==C.offset||s.focusNode!==O.node||s.focusOffset!==O.offset)&&(a=a.createRange(),a.setStart(C.node,C.offset),s.removeAllRanges(),j>y?(s.addRange(a),s.extend(O.node,O.offset)):(a.setEnd(O.node,O.offset),s.addRange(a)))}}for(a=[],s=h;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)s=a[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var hP=c&&"documentMode"in document&&11>=document.documentMode,rs=null,pp=null,Tl=null,hp=!1;function Oy(s,a,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;hp||rs==null||rs!==pe(y)||(y=rs,"selectionStart"in y&&fp(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Tl&&Il(Tl,y)||(Tl=y,y=zc(pp,"onSelect"),0<y.length&&(a=new op("onSelect","select",null,a,h),s.push({event:a,listeners:y}),a.target=rs)))}function Dc(s,a){var h={};return h[s.toLowerCase()]=a.toLowerCase(),h["Webkit"+s]="webkit"+a,h["Moz"+s]="moz"+a,h}var os={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},mp={},Ly={};c&&(Ly=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function Oc(s){if(mp[s])return mp[s];if(!os[s])return s;var a=os[s],h;for(h in a)if(a.hasOwnProperty(h)&&h in Ly)return mp[s]=a[h];return s}var zy=Oc("animationend"),$y=Oc("animationiteration"),Fy=Oc("animationstart"),By=Oc("transitionend"),Vy=new Map,Hy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(s,a){Vy.set(s,a),i(a,[s])}for(var gp=0;gp<Hy.length;gp++){var xp=Hy[gp],mP=xp.toLowerCase(),gP=xp[0].toUpperCase()+xp.slice(1);Co(mP,"on"+gP)}Co(zy,"onAnimationEnd"),Co($y,"onAnimationIteration"),Co(Fy,"onAnimationStart"),Co("dblclick","onDoubleClick"),Co("focusin","onFocus"),Co("focusout","onBlur"),Co(By,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function Uy(s,a,h){var y=s.type||"unknown-event";s.currentTarget=h,Vf(y,a,void 0,s),s.currentTarget=null}function Wy(s,a){a=(a&4)!==0;for(var h=0;h<s.length;h++){var y=s[h],C=y.event;y=y.listeners;e:{var j=void 0;if(a)for(var O=y.length-1;0<=O;O--){var ee=y[O],re=ee.instance,de=ee.currentTarget;if(ee=ee.listener,re!==j&&C.isPropagationStopped())break e;Uy(C,ee,de),j=re}else for(O=0;O<y.length;O++){if(ee=y[O],re=ee.instance,de=ee.currentTarget,ee=ee.listener,re!==j&&C.isPropagationStopped())break e;Uy(C,ee,de),j=re}}}if(qi)throw s=ml,qi=!1,ml=null,s}function Mt(s,a){var h=a[Np];h===void 0&&(h=a[Np]=new Set);var y=s+"__bubble";h.has(y)||(Yy(a,s,2,!1),h.add(y))}function yp(s,a,h){var y=0;a&&(y|=4),Yy(h,s,y,a)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Ml(s){if(!s[Lc]){s[Lc]=!0,r.forEach(function(h){h!=="selectionchange"&&(xP.has(h)||yp(h,!1,s),yp(h,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Lc]||(a[Lc]=!0,yp("selectionchange",!1,a))}}function Yy(s,a,h,y){switch(my(a)){case 1:var C=I2;break;case 4:C=T2;break;default:C=tp}h=C.bind(null,a,h,s),C=void 0,!mr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(C=!0),y?C!==void 0?s.addEventListener(a,h,{capture:!0,passive:C}):s.addEventListener(a,h,!0):C!==void 0?s.addEventListener(a,h,{passive:C}):s.addEventListener(a,h,!1)}function vp(s,a,h,y,C){var j=y;if((a&1)===0&&(a&2)===0&&y!==null)e:for(;;){if(y===null)return;var O=y.tag;if(O===3||O===4){var ee=y.stateNode.containerInfo;if(ee===C||ee.nodeType===8&&ee.parentNode===C)break;if(O===4)for(O=y.return;O!==null;){var re=O.tag;if((re===3||re===4)&&(re=O.stateNode.containerInfo,re===C||re.nodeType===8&&re.parentNode===C))return;O=O.return}for(;ee!==null;){if(O=ui(ee),O===null)return;if(re=O.tag,re===5||re===6){y=j=O;continue e}ee=ee.parentNode}}y=y.return}Zt(function(){var de=j,xe=Et(h),ve=[];e:{var ge=Vy.get(s);if(ge!==void 0){var Ee=op,Te=s;switch(s){case"keypress":if(Ic(h)===0)break e;case"keydown":case"keyup":Ee=X2;break;case"focusin":Te="focus",Ee=lp;break;case"focusout":Te="blur",Ee=lp;break;case"beforeblur":case"afterblur":Ee=lp;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=D2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=K2;break;case zy:case $y:case Fy:Ee=z2;break;case By:Ee=J2;break;case"scroll":Ee=R2;break;case"wheel":Ee=eP;break;case"copy":case"cut":case"paste":Ee=F2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=wy}var $e=(a&4)!==0,Yt=!$e&&s==="scroll",ae=$e?ge!==null?ge+"Capture":null:ge;$e=[];for(var oe=de,ce;oe!==null;){ce=oe;var ke=ce.stateNode;if(ce.tag===5&&ke!==null&&(ce=ke,ae!==null&&(ke=Ht(oe,ae),ke!=null&&$e.push(Dl(oe,ke,ce)))),Yt)break;oe=oe.return}0<$e.length&&(ge=new Ee(ge,Te,null,h,xe),ve.push({event:ge,listeners:$e}))}}if((a&7)===0){e:{if(ge=s==="mouseover"||s==="pointerover",Ee=s==="mouseout"||s==="pointerout",ge&&h!==gt&&(Te=h.relatedTarget||h.fromElement)&&(ui(Te)||Te[eo]))break e;if((Ee||ge)&&(ge=xe.window===xe?xe:(ge=xe.ownerDocument)?ge.defaultView||ge.parentWindow:window,Ee?(Te=h.relatedTarget||h.toElement,Ee=de,Te=Te?ui(Te):null,Te!==null&&(Yt=Or(Te),Te!==Yt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(Ee=null,Te=de),Ee!==Te)){if($e=yy,ke="onMouseLeave",ae="onMouseEnter",oe="mouse",(s==="pointerout"||s==="pointerover")&&($e=wy,ke="onPointerLeave",ae="onPointerEnter",oe="pointer"),Yt=Ee==null?ge:ls(Ee),ce=Te==null?ge:ls(Te),ge=new $e(ke,oe+"leave",Ee,h,xe),ge.target=Yt,ge.relatedTarget=ce,ke=null,ui(xe)===de&&($e=new $e(ae,oe+"enter",Te,h,xe),$e.target=ce,$e.relatedTarget=Yt,ke=$e),Yt=ke,Ee&&Te)t:{for($e=Ee,ae=Te,oe=0,ce=$e;ce;ce=is(ce))oe++;for(ce=0,ke=ae;ke;ke=is(ke))ce++;for(;0<oe-ce;)$e=is($e),oe--;for(;0<ce-oe;)ae=is(ae),ce--;for(;oe--;){if($e===ae||ae!==null&&$e===ae.alternate)break t;$e=is($e),ae=is(ae)}$e=null}else $e=null;Ee!==null&&Xy(ve,ge,Ee,$e,!1),Te!==null&&Yt!==null&&Xy(ve,Yt,Te,$e,!0)}}e:{if(ge=de?ls(de):window,Ee=ge.nodeName&&ge.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&ge.type==="file")var Be=lP;else if(Ey(ge))if(_y)Be=dP;else{Be=cP;var qe=aP}else(Ee=ge.nodeName)&&Ee.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(Be=uP);if(Be&&(Be=Be(s,de))){jy(ve,Be,h,xe);break e}qe&&qe(s,ge,de),s==="focusout"&&(qe=ge._wrapperState)&&qe.controlled&&ge.type==="number"&&Qe(ge,"number",ge.value)}switch(qe=de?ls(de):window,s){case"focusin":(Ey(qe)||qe.contentEditable==="true")&&(rs=qe,pp=de,Tl=null);break;case"focusout":Tl=pp=rs=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,Oy(ve,h,xe);break;case"selectionchange":if(hP)break;case"keydown":case"keyup":Oy(ve,h,xe)}var Ge;if(cp)e:{switch(s){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else ns?Cy(s,h)&&(rt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(rt="onCompositionStart");rt&&(by&&h.locale!=="ko"&&(ns||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&ns&&(Ge=gy()):(ko=xe,rp="value"in ko?ko.value:ko.textContent,ns=!0)),qe=zc(de,rt),0<qe.length&&(rt=new vy(rt,s,null,h,xe),ve.push({event:rt,listeners:qe}),Ge?rt.data=Ge:(Ge=Ny(h),Ge!==null&&(rt.data=Ge)))),(Ge=nP?rP(s,h):oP(s,h))&&(de=zc(de,"onBeforeInput"),0<de.length&&(xe=new vy("onBeforeInput","beforeinput",null,h,xe),ve.push({event:xe,listeners:de}),xe.data=Ge))}Wy(ve,a)})}function Dl(s,a,h){return{instance:s,listener:a,currentTarget:h}}function zc(s,a){for(var h=a+"Capture",y=[];s!==null;){var C=s,j=C.stateNode;C.tag===5&&j!==null&&(C=j,j=Ht(s,h),j!=null&&y.unshift(Dl(s,j,C)),j=Ht(s,a),j!=null&&y.push(Dl(s,j,C))),s=s.return}return y}function is(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Xy(s,a,h,y,C){for(var j=a._reactName,O=[];h!==null&&h!==y;){var ee=h,re=ee.alternate,de=ee.stateNode;if(re!==null&&re===y)break;ee.tag===5&&de!==null&&(ee=de,C?(re=Ht(h,j),re!=null&&O.unshift(Dl(h,re,ee))):C||(re=Ht(h,j),re!=null&&O.push(Dl(h,re,ee)))),h=h.return}O.length!==0&&s.push({event:a,listeners:O})}var yP=/\r\n?/g,vP=/\u0000|\uFFFD/g;function qy(s){return(typeof s=="string"?s:""+s).replace(yP,`
`).replace(vP,"")}function $c(s,a,h){if(a=qy(a),qy(s)!==a&&h)throw Error(n(425))}function Fc(){}var wp=null,bp=null;function Sp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var kp=typeof setTimeout=="function"?setTimeout:void 0,wP=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,bP=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(s){return Gy.resolve(null).then(s).catch(SP)}:kp;function SP(s){setTimeout(function(){throw s})}function Cp(s,a){var h=a,y=0;do{var C=h.nextSibling;if(s.removeChild(h),C&&C.nodeType===8)if(h=C.data,h==="/$"){if(y===0){s.removeChild(C),Nl(a);return}y--}else h!=="$"&&h!=="$?"&&h!=="$!"||y++;h=C}while(h);Nl(a)}function No(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Ky(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return s;a--}else h==="/$"&&a++}s=s.previousSibling}return null}var ss=Math.random().toString(36).slice(2),zr="__reactFiber$"+ss,Ol="__reactProps$"+ss,eo="__reactContainer$"+ss,Np="__reactEvents$"+ss,kP="__reactListeners$"+ss,CP="__reactHandles$"+ss;function ui(s){var a=s[zr];if(a)return a;for(var h=s.parentNode;h;){if(a=h[eo]||h[zr]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(s=Ky(s);s!==null;){if(h=s[zr])return h;s=Ky(s)}return a}s=h,h=s.parentNode}return null}function Ll(s){return s=s[zr]||s[eo],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ls(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Bc(s){return s[Ol]||null}var Ep=[],as=-1;function Eo(s){return{current:s}}function Dt(s){0>as||(s.current=Ep[as],Ep[as]=null,as--)}function Tt(s,a){as++,Ep[as]=s.current,s.current=a}var jo={},xn=Eo(jo),Dn=Eo(!1),di=jo;function cs(s,a){var h=s.type.contextTypes;if(!h)return jo;var y=s.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===a)return y.__reactInternalMemoizedMaskedChildContext;var C={},j;for(j in h)C[j]=a[j];return y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=C),C}function On(s){return s=s.childContextTypes,s!=null}function Vc(){Dt(Dn),Dt(xn)}function Qy(s,a,h){if(xn.current!==jo)throw Error(n(168));Tt(xn,a),Tt(Dn,h)}function Jy(s,a,h){var y=s.stateNode;if(a=a.childContextTypes,typeof y.getChildContext!="function")return h;y=y.getChildContext();for(var C in y)if(!(C in a))throw Error(n(108,K(s)||"Unknown",C));return R({},h,y)}function Hc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||jo,di=xn.current,Tt(xn,s),Tt(Dn,Dn.current),!0}function Zy(s,a,h){var y=s.stateNode;if(!y)throw Error(n(169));h?(s=Jy(s,a,di),y.__reactInternalMemoizedMergedChildContext=s,Dt(Dn),Dt(xn),Tt(xn,s)):Dt(Dn),Tt(Dn,h)}var to=null,Uc=!1,jp=!1;function ev(s){to===null?to=[s]:to.push(s)}function NP(s){Uc=!0,ev(s)}function _o(){if(!jp&&to!==null){jp=!0;var s=0,a=Pt;try{var h=to;for(Pt=1;s<h.length;s++){var y=h[s];do y=y(!0);while(y!==null)}to=null,Uc=!1}catch(C){throw to!==null&&(to=to.slice(s+1)),vc(yl,_o),C}finally{Pt=a,jp=!1}}return null}var us=[],ds=0,Wc=null,Yc=0,ir=[],sr=0,fi=null,no=1,ro="";function pi(s,a){us[ds++]=Yc,us[ds++]=Wc,Wc=s,Yc=a}function tv(s,a,h){ir[sr++]=no,ir[sr++]=ro,ir[sr++]=fi,fi=s;var y=no;s=ro;var C=32-Un(y)-1;y&=~(1<<C),h+=1;var j=32-Un(a)+C;if(30<j){var O=C-C%5;j=(y&(1<<O)-1).toString(32),y>>=O,C-=O,no=1<<32-Un(a)+C|h<<C|y,ro=j+s}else no=1<<j|h<<C|y,ro=s}function _p(s){s.return!==null&&(pi(s,1),tv(s,1,0))}function Pp(s){for(;s===Wc;)Wc=us[--ds],us[ds]=null,Yc=us[--ds],us[ds]=null;for(;s===fi;)fi=ir[--sr],ir[sr]=null,ro=ir[--sr],ir[sr]=null,no=ir[--sr],ir[sr]=null}var Yn=null,Xn=null,zt=!1,xr=null;function nv(s,a){var h=ur(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=s,a=s.deletions,a===null?(s.deletions=[h],s.flags|=16):a.push(h)}function rv(s,a){switch(s.tag){case 5:var h=s.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Yn=s,Xn=No(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Yn=s,Xn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=fi!==null?{id:no,overflow:ro}:null,s.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=ur(18,null,null,0),h.stateNode=a,h.return=s,s.child=h,Yn=s,Xn=null,!0):!1;default:return!1}}function Ap(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ip(s){if(zt){var a=Xn;if(a){var h=a;if(!rv(s,a)){if(Ap(s))throw Error(n(418));a=No(h.nextSibling);var y=Yn;a&&rv(s,a)?nv(y,h):(s.flags=s.flags&-4097|2,zt=!1,Yn=s)}}else{if(Ap(s))throw Error(n(418));s.flags=s.flags&-4097|2,zt=!1,Yn=s}}}function ov(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Yn=s}function Xc(s){if(s!==Yn)return!1;if(!zt)return ov(s),zt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Sp(s.type,s.memoizedProps)),a&&(a=Xn)){if(Ap(s))throw iv(),Error(n(418));for(;a;)nv(s,a),a=No(a.nextSibling)}if(ov(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(a===0){Xn=No(s.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}s=s.nextSibling}Xn=null}}else Xn=Yn?No(s.stateNode.nextSibling):null;return!0}function iv(){for(var s=Xn;s;)s=No(s.nextSibling)}function fs(){Xn=Yn=null,zt=!1}function Tp(s){xr===null?xr=[s]:xr.push(s)}var EP=_.ReactCurrentBatchConfig;function zl(s,a,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var y=h.stateNode}if(!y)throw Error(n(147,s));var C=y,j=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===j?a.ref:(a=function(O){var ee=C.refs;O===null?delete ee[j]:ee[j]=O},a._stringRef=j,a)}if(typeof s!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,s))}return s}function qc(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function sv(s){var a=s._init;return a(s._payload)}function lv(s){function a(ae,oe){if(s){var ce=ae.deletions;ce===null?(ae.deletions=[oe],ae.flags|=16):ce.push(oe)}}function h(ae,oe){if(!s)return null;for(;oe!==null;)a(ae,oe),oe=oe.sibling;return null}function y(ae,oe){for(ae=new Map;oe!==null;)oe.key!==null?ae.set(oe.key,oe):ae.set(oe.index,oe),oe=oe.sibling;return ae}function C(ae,oe){return ae=Oo(ae,oe),ae.index=0,ae.sibling=null,ae}function j(ae,oe,ce){return ae.index=ce,s?(ce=ae.alternate,ce!==null?(ce=ce.index,ce<oe?(ae.flags|=2,oe):ce):(ae.flags|=2,oe)):(ae.flags|=1048576,oe)}function O(ae){return s&&ae.alternate===null&&(ae.flags|=2),ae}function ee(ae,oe,ce,ke){return oe===null||oe.tag!==6?(oe=kh(ce,ae.mode,ke),oe.return=ae,oe):(oe=C(oe,ce),oe.return=ae,oe)}function re(ae,oe,ce,ke){var Be=ce.type;return Be===M?xe(ae,oe,ce.props.children,ke,ce.key):oe!==null&&(oe.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===$&&sv(Be)===oe.type)?(ke=C(oe,ce.props),ke.ref=zl(ae,oe,ce),ke.return=ae,ke):(ke=yu(ce.type,ce.key,ce.props,null,ae.mode,ke),ke.ref=zl(ae,oe,ce),ke.return=ae,ke)}function de(ae,oe,ce,ke){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ce.containerInfo||oe.stateNode.implementation!==ce.implementation?(oe=Ch(ce,ae.mode,ke),oe.return=ae,oe):(oe=C(oe,ce.children||[]),oe.return=ae,oe)}function xe(ae,oe,ce,ke,Be){return oe===null||oe.tag!==7?(oe=bi(ce,ae.mode,ke,Be),oe.return=ae,oe):(oe=C(oe,ce),oe.return=ae,oe)}function ve(ae,oe,ce){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=kh(""+oe,ae.mode,ce),oe.return=ae,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case T:return ce=yu(oe.type,oe.key,oe.props,null,ae.mode,ce),ce.ref=zl(ae,null,oe),ce.return=ae,ce;case P:return oe=Ch(oe,ae.mode,ce),oe.return=ae,oe;case $:var ke=oe._init;return ve(ae,ke(oe._payload),ce)}if(Ce(oe)||W(oe))return oe=bi(oe,ae.mode,ce,null),oe.return=ae,oe;qc(ae,oe)}return null}function ge(ae,oe,ce,ke){var Be=oe!==null?oe.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Be!==null?null:ee(ae,oe,""+ce,ke);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case T:return ce.key===Be?re(ae,oe,ce,ke):null;case P:return ce.key===Be?de(ae,oe,ce,ke):null;case $:return Be=ce._init,ge(ae,oe,Be(ce._payload),ke)}if(Ce(ce)||W(ce))return Be!==null?null:xe(ae,oe,ce,ke,null);qc(ae,ce)}return null}function Ee(ae,oe,ce,ke,Be){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ae=ae.get(ce)||null,ee(oe,ae,""+ke,Be);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case T:return ae=ae.get(ke.key===null?ce:ke.key)||null,re(oe,ae,ke,Be);case P:return ae=ae.get(ke.key===null?ce:ke.key)||null,de(oe,ae,ke,Be);case $:var qe=ke._init;return Ee(ae,oe,ce,qe(ke._payload),Be)}if(Ce(ke)||W(ke))return ae=ae.get(ce)||null,xe(oe,ae,ke,Be,null);qc(oe,ke)}return null}function Te(ae,oe,ce,ke){for(var Be=null,qe=null,Ge=oe,rt=oe=0,nn=null;Ge!==null&&rt<ce.length;rt++){Ge.index>rt?(nn=Ge,Ge=null):nn=Ge.sibling;var jt=ge(ae,Ge,ce[rt],ke);if(jt===null){Ge===null&&(Ge=nn);break}s&&Ge&&jt.alternate===null&&a(ae,Ge),oe=j(jt,oe,rt),qe===null?Be=jt:qe.sibling=jt,qe=jt,Ge=nn}if(rt===ce.length)return h(ae,Ge),zt&&pi(ae,rt),Be;if(Ge===null){for(;rt<ce.length;rt++)Ge=ve(ae,ce[rt],ke),Ge!==null&&(oe=j(Ge,oe,rt),qe===null?Be=Ge:qe.sibling=Ge,qe=Ge);return zt&&pi(ae,rt),Be}for(Ge=y(ae,Ge);rt<ce.length;rt++)nn=Ee(Ge,ae,rt,ce[rt],ke),nn!==null&&(s&&nn.alternate!==null&&Ge.delete(nn.key===null?rt:nn.key),oe=j(nn,oe,rt),qe===null?Be=nn:qe.sibling=nn,qe=nn);return s&&Ge.forEach(function(Lo){return a(ae,Lo)}),zt&&pi(ae,rt),Be}function $e(ae,oe,ce,ke){var Be=W(ce);if(typeof Be!="function")throw Error(n(150));if(ce=Be.call(ce),ce==null)throw Error(n(151));for(var qe=Be=null,Ge=oe,rt=oe=0,nn=null,jt=ce.next();Ge!==null&&!jt.done;rt++,jt=ce.next()){Ge.index>rt?(nn=Ge,Ge=null):nn=Ge.sibling;var Lo=ge(ae,Ge,jt.value,ke);if(Lo===null){Ge===null&&(Ge=nn);break}s&&Ge&&Lo.alternate===null&&a(ae,Ge),oe=j(Lo,oe,rt),qe===null?Be=Lo:qe.sibling=Lo,qe=Lo,Ge=nn}if(jt.done)return h(ae,Ge),zt&&pi(ae,rt),Be;if(Ge===null){for(;!jt.done;rt++,jt=ce.next())jt=ve(ae,jt.value,ke),jt!==null&&(oe=j(jt,oe,rt),qe===null?Be=jt:qe.sibling=jt,qe=jt);return zt&&pi(ae,rt),Be}for(Ge=y(ae,Ge);!jt.done;rt++,jt=ce.next())jt=Ee(Ge,ae,rt,jt.value,ke),jt!==null&&(s&&jt.alternate!==null&&Ge.delete(jt.key===null?rt:jt.key),oe=j(jt,oe,rt),qe===null?Be=jt:qe.sibling=jt,qe=jt);return s&&Ge.forEach(function(iA){return a(ae,iA)}),zt&&pi(ae,rt),Be}function Yt(ae,oe,ce,ke){if(typeof ce=="object"&&ce!==null&&ce.type===M&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case T:e:{for(var Be=ce.key,qe=oe;qe!==null;){if(qe.key===Be){if(Be=ce.type,Be===M){if(qe.tag===7){h(ae,qe.sibling),oe=C(qe,ce.props.children),oe.return=ae,ae=oe;break e}}else if(qe.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===$&&sv(Be)===qe.type){h(ae,qe.sibling),oe=C(qe,ce.props),oe.ref=zl(ae,qe,ce),oe.return=ae,ae=oe;break e}h(ae,qe);break}else a(ae,qe);qe=qe.sibling}ce.type===M?(oe=bi(ce.props.children,ae.mode,ke,ce.key),oe.return=ae,ae=oe):(ke=yu(ce.type,ce.key,ce.props,null,ae.mode,ke),ke.ref=zl(ae,oe,ce),ke.return=ae,ae=ke)}return O(ae);case P:e:{for(qe=ce.key;oe!==null;){if(oe.key===qe)if(oe.tag===4&&oe.stateNode.containerInfo===ce.containerInfo&&oe.stateNode.implementation===ce.implementation){h(ae,oe.sibling),oe=C(oe,ce.children||[]),oe.return=ae,ae=oe;break e}else{h(ae,oe);break}else a(ae,oe);oe=oe.sibling}oe=Ch(ce,ae.mode,ke),oe.return=ae,ae=oe}return O(ae);case $:return qe=ce._init,Yt(ae,oe,qe(ce._payload),ke)}if(Ce(ce))return Te(ae,oe,ce,ke);if(W(ce))return $e(ae,oe,ce,ke);qc(ae,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,oe!==null&&oe.tag===6?(h(ae,oe.sibling),oe=C(oe,ce),oe.return=ae,ae=oe):(h(ae,oe),oe=kh(ce,ae.mode,ke),oe.return=ae,ae=oe),O(ae)):h(ae,oe)}return Yt}var ps=lv(!0),av=lv(!1),Gc=Eo(null),Kc=null,hs=null,Rp=null;function Mp(){Rp=hs=Kc=null}function Dp(s){var a=Gc.current;Dt(Gc),s._currentValue=a}function Op(s,a,h){for(;s!==null;){var y=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,y!==null&&(y.childLanes|=a)):y!==null&&(y.childLanes&a)!==a&&(y.childLanes|=a),s===h)break;s=s.return}}function ms(s,a){Kc=s,Rp=hs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Ln=!0),s.firstContext=null)}function lr(s){var a=s._currentValue;if(Rp!==s)if(s={context:s,memoizedValue:a,next:null},hs===null){if(Kc===null)throw Error(n(308));hs=s,Kc.dependencies={lanes:0,firstContext:s}}else hs=hs.next=s;return a}var hi=null;function Lp(s){hi===null?hi=[s]:hi.push(s)}function cv(s,a,h,y){var C=a.interleaved;return C===null?(h.next=h,Lp(a)):(h.next=C.next,C.next=h),a.interleaved=h,oo(s,y)}function oo(s,a){s.lanes|=a;var h=s.alternate;for(h!==null&&(h.lanes|=a),h=s,s=s.return;s!==null;)s.childLanes|=a,h=s.alternate,h!==null&&(h.childLanes|=a),h=s,s=s.return;return h.tag===3?h.stateNode:null}var Po=!1;function zp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function io(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ao(s,a,h){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(Nt&2)!==0){var C=y.pending;return C===null?a.next=a:(a.next=C.next,C.next=a),y.pending=a,oo(s,h)}return C=y.interleaved,C===null?(a.next=a,Lp(y)):(a.next=C.next,C.next=a),y.interleaved=a,oo(s,h)}function Qc(s,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var y=a.lanes;y&=s.pendingLanes,h|=y,a.lanes=h,Jf(s,h)}}function dv(s,a){var h=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var C=null,j=null;if(h=h.firstBaseUpdate,h!==null){do{var O={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};j===null?C=j=O:j=j.next=O,h=h.next}while(h!==null);j===null?C=j=a:j=j.next=a}else C=j=a;h={baseState:y.baseState,firstBaseUpdate:C,lastBaseUpdate:j,shared:y.shared,effects:y.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=a:s.next=a,h.lastBaseUpdate=a}function Jc(s,a,h,y){var C=s.updateQueue;Po=!1;var j=C.firstBaseUpdate,O=C.lastBaseUpdate,ee=C.shared.pending;if(ee!==null){C.shared.pending=null;var re=ee,de=re.next;re.next=null,O===null?j=de:O.next=de,O=re;var xe=s.alternate;xe!==null&&(xe=xe.updateQueue,ee=xe.lastBaseUpdate,ee!==O&&(ee===null?xe.firstBaseUpdate=de:ee.next=de,xe.lastBaseUpdate=re))}if(j!==null){var ve=C.baseState;O=0,xe=de=re=null,ee=j;do{var ge=ee.lane,Ee=ee.eventTime;if((y&ge)===ge){xe!==null&&(xe=xe.next={eventTime:Ee,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var Te=s,$e=ee;switch(ge=a,Ee=h,$e.tag){case 1:if(Te=$e.payload,typeof Te=="function"){ve=Te.call(Ee,ve,ge);break e}ve=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=$e.payload,ge=typeof Te=="function"?Te.call(Ee,ve,ge):Te,ge==null)break e;ve=R({},ve,ge);break e;case 2:Po=!0}}ee.callback!==null&&ee.lane!==0&&(s.flags|=64,ge=C.effects,ge===null?C.effects=[ee]:ge.push(ee))}else Ee={eventTime:Ee,lane:ge,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},xe===null?(de=xe=Ee,re=ve):xe=xe.next=Ee,O|=ge;if(ee=ee.next,ee===null){if(ee=C.shared.pending,ee===null)break;ge=ee,ee=ge.next,ge.next=null,C.lastBaseUpdate=ge,C.shared.pending=null}}while(!0);if(xe===null&&(re=ve),C.baseState=re,C.firstBaseUpdate=de,C.lastBaseUpdate=xe,a=C.shared.interleaved,a!==null){C=a;do O|=C.lane,C=C.next;while(C!==a)}else j===null&&(C.shared.lanes=0);xi|=O,s.lanes=O,s.memoizedState=ve}}function fv(s,a,h){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var y=s[a],C=y.callback;if(C!==null){if(y.callback=null,y=h,typeof C!="function")throw Error(n(191,C));C.call(y)}}}var $l={},$r=Eo($l),Fl=Eo($l),Bl=Eo($l);function mi(s){if(s===$l)throw Error(n(174));return s}function $p(s,a){switch(Tt(Bl,a),Tt(Fl,s),Tt($r,$l),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:le(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=le(a,s)}Dt($r),Tt($r,a)}function gs(){Dt($r),Dt(Fl),Dt(Bl)}function pv(s){mi(Bl.current);var a=mi($r.current),h=le(a,s.type);a!==h&&(Tt(Fl,s),Tt($r,h))}function Fp(s){Fl.current===s&&(Dt($r),Dt(Fl))}var Bt=Eo(0);function Zc(s){for(var a=s;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Bp=[];function Vp(){for(var s=0;s<Bp.length;s++)Bp[s]._workInProgressVersionPrimary=null;Bp.length=0}var eu=_.ReactCurrentDispatcher,Hp=_.ReactCurrentBatchConfig,gi=0,Vt=null,Kt=null,en=null,tu=!1,Vl=!1,Hl=0,jP=0;function yn(){throw Error(n(321))}function Up(s,a){if(a===null)return!1;for(var h=0;h<a.length&&h<s.length;h++)if(!gr(s[h],a[h]))return!1;return!0}function Wp(s,a,h,y,C,j){if(gi=j,Vt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,eu.current=s===null||s.memoizedState===null?IP:TP,s=h(y,C),Vl){j=0;do{if(Vl=!1,Hl=0,25<=j)throw Error(n(301));j+=1,en=Kt=null,a.updateQueue=null,eu.current=RP,s=h(y,C)}while(Vl)}if(eu.current=ou,a=Kt!==null&&Kt.next!==null,gi=0,en=Kt=Vt=null,tu=!1,a)throw Error(n(300));return s}function Yp(){var s=Hl!==0;return Hl=0,s}function Fr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Vt.memoizedState=en=s:en=en.next=s,en}function ar(){if(Kt===null){var s=Vt.alternate;s=s!==null?s.memoizedState:null}else s=Kt.next;var a=en===null?Vt.memoizedState:en.next;if(a!==null)en=a,Kt=s;else{if(s===null)throw Error(n(310));Kt=s,s={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},en===null?Vt.memoizedState=en=s:en=en.next=s}return en}function Ul(s,a){return typeof a=="function"?a(s):a}function Xp(s){var a=ar(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var y=Kt,C=y.baseQueue,j=h.pending;if(j!==null){if(C!==null){var O=C.next;C.next=j.next,j.next=O}y.baseQueue=C=j,h.pending=null}if(C!==null){j=C.next,y=y.baseState;var ee=O=null,re=null,de=j;do{var xe=de.lane;if((gi&xe)===xe)re!==null&&(re=re.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),y=de.hasEagerState?de.eagerState:s(y,de.action);else{var ve={lane:xe,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};re===null?(ee=re=ve,O=y):re=re.next=ve,Vt.lanes|=xe,xi|=xe}de=de.next}while(de!==null&&de!==j);re===null?O=y:re.next=ee,gr(y,a.memoizedState)||(Ln=!0),a.memoizedState=y,a.baseState=O,a.baseQueue=re,h.lastRenderedState=y}if(s=h.interleaved,s!==null){C=s;do j=C.lane,Vt.lanes|=j,xi|=j,C=C.next;while(C!==s)}else C===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function qp(s){var a=ar(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var y=h.dispatch,C=h.pending,j=a.memoizedState;if(C!==null){h.pending=null;var O=C=C.next;do j=s(j,O.action),O=O.next;while(O!==C);gr(j,a.memoizedState)||(Ln=!0),a.memoizedState=j,a.baseQueue===null&&(a.baseState=j),h.lastRenderedState=j}return[j,y]}function hv(){}function mv(s,a){var h=Vt,y=ar(),C=a(),j=!gr(y.memoizedState,C);if(j&&(y.memoizedState=C,Ln=!0),y=y.queue,Gp(yv.bind(null,h,y,s),[s]),y.getSnapshot!==a||j||en!==null&&en.memoizedState.tag&1){if(h.flags|=2048,Wl(9,xv.bind(null,h,y,C,a),void 0,null),tn===null)throw Error(n(349));(gi&30)!==0||gv(h,a,C)}return C}function gv(s,a,h){s.flags|=16384,s={getSnapshot:a,value:h},a=Vt.updateQueue,a===null?(a={lastEffect:null,stores:null},Vt.updateQueue=a,a.stores=[s]):(h=a.stores,h===null?a.stores=[s]:h.push(s))}function xv(s,a,h,y){a.value=h,a.getSnapshot=y,vv(a)&&wv(s)}function yv(s,a,h){return h(function(){vv(a)&&wv(s)})}function vv(s){var a=s.getSnapshot;s=s.value;try{var h=a();return!gr(s,h)}catch{return!0}}function wv(s){var a=oo(s,1);a!==null&&br(a,s,1,-1)}function bv(s){var a=Fr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ul,lastRenderedState:s},a.queue=s,s=s.dispatch=AP.bind(null,Vt,s),[a.memoizedState,s]}function Wl(s,a,h,y){return s={tag:s,create:a,destroy:h,deps:y,next:null},a=Vt.updateQueue,a===null?(a={lastEffect:null,stores:null},Vt.updateQueue=a,a.lastEffect=s.next=s):(h=a.lastEffect,h===null?a.lastEffect=s.next=s:(y=h.next,h.next=s,s.next=y,a.lastEffect=s)),s}function Sv(){return ar().memoizedState}function nu(s,a,h,y){var C=Fr();Vt.flags|=s,C.memoizedState=Wl(1|a,h,void 0,y===void 0?null:y)}function ru(s,a,h,y){var C=ar();y=y===void 0?null:y;var j=void 0;if(Kt!==null){var O=Kt.memoizedState;if(j=O.destroy,y!==null&&Up(y,O.deps)){C.memoizedState=Wl(a,h,j,y);return}}Vt.flags|=s,C.memoizedState=Wl(1|a,h,j,y)}function kv(s,a){return nu(8390656,8,s,a)}function Gp(s,a){return ru(2048,8,s,a)}function Cv(s,a){return ru(4,2,s,a)}function Nv(s,a){return ru(4,4,s,a)}function Ev(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function jv(s,a,h){return h=h!=null?h.concat([s]):null,ru(4,4,Ev.bind(null,a,s),h)}function Kp(){}function _v(s,a){var h=ar();a=a===void 0?null:a;var y=h.memoizedState;return y!==null&&a!==null&&Up(a,y[1])?y[0]:(h.memoizedState=[s,a],s)}function Pv(s,a){var h=ar();a=a===void 0?null:a;var y=h.memoizedState;return y!==null&&a!==null&&Up(a,y[1])?y[0]:(s=s(),h.memoizedState=[s,a],s)}function Av(s,a,h){return(gi&21)===0?(s.baseState&&(s.baseState=!1,Ln=!0),s.memoizedState=h):(gr(h,a)||(h=Zi(),Vt.lanes|=h,xi|=h,s.baseState=!0),a)}function _P(s,a){var h=Pt;Pt=h!==0&&4>h?h:4,s(!0);var y=Hp.transition;Hp.transition={};try{s(!1),a()}finally{Pt=h,Hp.transition=y}}function Iv(){return ar().memoizedState}function PP(s,a,h){var y=Mo(s);if(h={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null},Tv(s))Rv(a,h);else if(h=cv(s,a,h,y),h!==null){var C=An();br(h,s,y,C),Mv(h,a,y)}}function AP(s,a,h){var y=Mo(s),C={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null};if(Tv(s))Rv(a,C);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=a.lastRenderedReducer,j!==null))try{var O=a.lastRenderedState,ee=j(O,h);if(C.hasEagerState=!0,C.eagerState=ee,gr(ee,O)){var re=a.interleaved;re===null?(C.next=C,Lp(a)):(C.next=re.next,re.next=C),a.interleaved=C;return}}catch{}finally{}h=cv(s,a,C,y),h!==null&&(C=An(),br(h,s,y,C),Mv(h,a,y))}}function Tv(s){var a=s.alternate;return s===Vt||a!==null&&a===Vt}function Rv(s,a){Vl=tu=!0;var h=s.pending;h===null?a.next=a:(a.next=h.next,h.next=a),s.pending=a}function Mv(s,a,h){if((h&4194240)!==0){var y=a.lanes;y&=s.pendingLanes,h|=y,a.lanes=h,Jf(s,h)}}var ou={readContext:lr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},IP={readContext:lr,useCallback:function(s,a){return Fr().memoizedState=[s,a===void 0?null:a],s},useContext:lr,useEffect:kv,useImperativeHandle:function(s,a,h){return h=h!=null?h.concat([s]):null,nu(4194308,4,Ev.bind(null,a,s),h)},useLayoutEffect:function(s,a){return nu(4194308,4,s,a)},useInsertionEffect:function(s,a){return nu(4,2,s,a)},useMemo:function(s,a){var h=Fr();return a=a===void 0?null:a,s=s(),h.memoizedState=[s,a],s},useReducer:function(s,a,h){var y=Fr();return a=h!==void 0?h(a):a,y.memoizedState=y.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},y.queue=s,s=s.dispatch=PP.bind(null,Vt,s),[y.memoizedState,s]},useRef:function(s){var a=Fr();return s={current:s},a.memoizedState=s},useState:bv,useDebugValue:Kp,useDeferredValue:function(s){return Fr().memoizedState=s},useTransition:function(){var s=bv(!1),a=s[0];return s=_P.bind(null,s[1]),Fr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,h){var y=Vt,C=Fr();if(zt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=a(),tn===null)throw Error(n(349));(gi&30)!==0||gv(y,a,h)}C.memoizedState=h;var j={value:h,getSnapshot:a};return C.queue=j,kv(yv.bind(null,y,j,s),[s]),y.flags|=2048,Wl(9,xv.bind(null,y,j,h,a),void 0,null),h},useId:function(){var s=Fr(),a=tn.identifierPrefix;if(zt){var h=ro,y=no;h=(y&~(1<<32-Un(y)-1)).toString(32)+h,a=":"+a+"R"+h,h=Hl++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=jP++,a=":"+a+"r"+h.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},TP={readContext:lr,useCallback:_v,useContext:lr,useEffect:Gp,useImperativeHandle:jv,useInsertionEffect:Cv,useLayoutEffect:Nv,useMemo:Pv,useReducer:Xp,useRef:Sv,useState:function(){return Xp(Ul)},useDebugValue:Kp,useDeferredValue:function(s){var a=ar();return Av(a,Kt.memoizedState,s)},useTransition:function(){var s=Xp(Ul)[0],a=ar().memoizedState;return[s,a]},useMutableSource:hv,useSyncExternalStore:mv,useId:Iv,unstable_isNewReconciler:!1},RP={readContext:lr,useCallback:_v,useContext:lr,useEffect:Gp,useImperativeHandle:jv,useInsertionEffect:Cv,useLayoutEffect:Nv,useMemo:Pv,useReducer:qp,useRef:Sv,useState:function(){return qp(Ul)},useDebugValue:Kp,useDeferredValue:function(s){var a=ar();return Kt===null?a.memoizedState=s:Av(a,Kt.memoizedState,s)},useTransition:function(){var s=qp(Ul)[0],a=ar().memoizedState;return[s,a]},useMutableSource:hv,useSyncExternalStore:mv,useId:Iv,unstable_isNewReconciler:!1};function yr(s,a){if(s&&s.defaultProps){a=R({},a),s=s.defaultProps;for(var h in s)a[h]===void 0&&(a[h]=s[h]);return a}return a}function Qp(s,a,h,y){a=s.memoizedState,h=h(y,a),h=h==null?a:R({},a,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var iu={isMounted:function(s){return(s=s._reactInternals)?Or(s)===s:!1},enqueueSetState:function(s,a,h){s=s._reactInternals;var y=An(),C=Mo(s),j=io(y,C);j.payload=a,h!=null&&(j.callback=h),a=Ao(s,j,C),a!==null&&(br(a,s,C,y),Qc(a,s,C))},enqueueReplaceState:function(s,a,h){s=s._reactInternals;var y=An(),C=Mo(s),j=io(y,C);j.tag=1,j.payload=a,h!=null&&(j.callback=h),a=Ao(s,j,C),a!==null&&(br(a,s,C,y),Qc(a,s,C))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var h=An(),y=Mo(s),C=io(h,y);C.tag=2,a!=null&&(C.callback=a),a=Ao(s,C,y),a!==null&&(br(a,s,y,h),Qc(a,s,y))}};function Dv(s,a,h,y,C,j,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,j,O):a.prototype&&a.prototype.isPureReactComponent?!Il(h,y)||!Il(C,j):!0}function Ov(s,a,h){var y=!1,C=jo,j=a.contextType;return typeof j=="object"&&j!==null?j=lr(j):(C=On(a)?di:xn.current,y=a.contextTypes,j=(y=y!=null)?cs(s,C):jo),a=new a(h,j),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=iu,s.stateNode=a,a._reactInternals=s,y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=C,s.__reactInternalMemoizedMaskedChildContext=j),a}function Lv(s,a,h,y){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,y),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,y),a.state!==s&&iu.enqueueReplaceState(a,a.state,null)}function Jp(s,a,h,y){var C=s.stateNode;C.props=h,C.state=s.memoizedState,C.refs={},zp(s);var j=a.contextType;typeof j=="object"&&j!==null?C.context=lr(j):(j=On(a)?di:xn.current,C.context=cs(s,j)),C.state=s.memoizedState,j=a.getDerivedStateFromProps,typeof j=="function"&&(Qp(s,a,j,h),C.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(a=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),a!==C.state&&iu.enqueueReplaceState(C,C.state,null),Jc(s,h,C,y),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308)}function xs(s,a){try{var h="",y=a;do h+=J(y),y=y.return;while(y);var C=h}catch(j){C=`
Error generating stack: `+j.message+`
`+j.stack}return{value:s,source:a,stack:C,digest:null}}function Zp(s,a,h){return{value:s,source:null,stack:h??null,digest:a??null}}function eh(s,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var MP=typeof WeakMap=="function"?WeakMap:Map;function zv(s,a,h){h=io(-1,h),h.tag=3,h.payload={element:null};var y=a.value;return h.callback=function(){fu||(fu=!0,mh=y),eh(s,a)},h}function $v(s,a,h){h=io(-1,h),h.tag=3;var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var C=a.value;h.payload=function(){return y(C)},h.callback=function(){eh(s,a)}}var j=s.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(h.callback=function(){eh(s,a),typeof y!="function"&&(To===null?To=new Set([this]):To.add(this));var O=a.stack;this.componentDidCatch(a.value,{componentStack:O!==null?O:""})}),h}function Fv(s,a,h){var y=s.pingCache;if(y===null){y=s.pingCache=new MP;var C=new Set;y.set(a,C)}else C=y.get(a),C===void 0&&(C=new Set,y.set(a,C));C.has(h)||(C.add(h),s=qP.bind(null,s,a,h),a.then(s,s))}function Bv(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Vv(s,a,h,y,C){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=io(-1,1),a.tag=2,Ao(h,a,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=C,s)}var DP=_.ReactCurrentOwner,Ln=!1;function Pn(s,a,h,y){a.child=s===null?av(a,null,h,y):ps(a,s.child,h,y)}function Hv(s,a,h,y,C){h=h.render;var j=a.ref;return ms(a,C),y=Wp(s,a,h,y,j,C),h=Yp(),s!==null&&!Ln?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~C,so(s,a,C)):(zt&&h&&_p(a),a.flags|=1,Pn(s,a,y,C),a.child)}function Uv(s,a,h,y,C){if(s===null){var j=h.type;return typeof j=="function"&&!Sh(j)&&j.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=j,Wv(s,a,j,y,C)):(s=yu(h.type,null,y,a,a.mode,C),s.ref=a.ref,s.return=a,a.child=s)}if(j=s.child,(s.lanes&C)===0){var O=j.memoizedProps;if(h=h.compare,h=h!==null?h:Il,h(O,y)&&s.ref===a.ref)return so(s,a,C)}return a.flags|=1,s=Oo(j,y),s.ref=a.ref,s.return=a,a.child=s}function Wv(s,a,h,y,C){if(s!==null){var j=s.memoizedProps;if(Il(j,y)&&s.ref===a.ref)if(Ln=!1,a.pendingProps=y=j,(s.lanes&C)!==0)(s.flags&131072)!==0&&(Ln=!0);else return a.lanes=s.lanes,so(s,a,C)}return th(s,a,h,y,C)}function Yv(s,a,h){var y=a.pendingProps,C=y.children,j=s!==null?s.memoizedState:null;if(y.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(vs,qn),qn|=h;else{if((h&1073741824)===0)return s=j!==null?j.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Tt(vs,qn),qn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=j!==null?j.baseLanes:h,Tt(vs,qn),qn|=y}else j!==null?(y=j.baseLanes|h,a.memoizedState=null):y=h,Tt(vs,qn),qn|=y;return Pn(s,a,C,h),a.child}function Xv(s,a){var h=a.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function th(s,a,h,y,C){var j=On(h)?di:xn.current;return j=cs(a,j),ms(a,C),h=Wp(s,a,h,y,j,C),y=Yp(),s!==null&&!Ln?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~C,so(s,a,C)):(zt&&y&&_p(a),a.flags|=1,Pn(s,a,h,C),a.child)}function qv(s,a,h,y,C){if(On(h)){var j=!0;Hc(a)}else j=!1;if(ms(a,C),a.stateNode===null)lu(s,a),Ov(a,h,y),Jp(a,h,y,C),y=!0;else if(s===null){var O=a.stateNode,ee=a.memoizedProps;O.props=ee;var re=O.context,de=h.contextType;typeof de=="object"&&de!==null?de=lr(de):(de=On(h)?di:xn.current,de=cs(a,de));var xe=h.getDerivedStateFromProps,ve=typeof xe=="function"||typeof O.getSnapshotBeforeUpdate=="function";ve||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(ee!==y||re!==de)&&Lv(a,O,y,de),Po=!1;var ge=a.memoizedState;O.state=ge,Jc(a,y,O,C),re=a.memoizedState,ee!==y||ge!==re||Dn.current||Po?(typeof xe=="function"&&(Qp(a,h,xe,y),re=a.memoizedState),(ee=Po||Dv(a,h,ee,y,ge,re,de))?(ve||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(a.flags|=4194308)):(typeof O.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=y,a.memoizedState=re),O.props=y,O.state=re,O.context=de,y=ee):(typeof O.componentDidMount=="function"&&(a.flags|=4194308),y=!1)}else{O=a.stateNode,uv(s,a),ee=a.memoizedProps,de=a.type===a.elementType?ee:yr(a.type,ee),O.props=de,ve=a.pendingProps,ge=O.context,re=h.contextType,typeof re=="object"&&re!==null?re=lr(re):(re=On(h)?di:xn.current,re=cs(a,re));var Ee=h.getDerivedStateFromProps;(xe=typeof Ee=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(ee!==ve||ge!==re)&&Lv(a,O,y,re),Po=!1,ge=a.memoizedState,O.state=ge,Jc(a,y,O,C);var Te=a.memoizedState;ee!==ve||ge!==Te||Dn.current||Po?(typeof Ee=="function"&&(Qp(a,h,Ee,y),Te=a.memoizedState),(de=Po||Dv(a,h,de,y,ge,Te,re)||!1)?(xe||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(y,Te,re),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(y,Te,re)),typeof O.componentDidUpdate=="function"&&(a.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof O.componentDidUpdate!="function"||ee===s.memoizedProps&&ge===s.memoizedState||(a.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||ee===s.memoizedProps&&ge===s.memoizedState||(a.flags|=1024),a.memoizedProps=y,a.memoizedState=Te),O.props=y,O.state=Te,O.context=re,y=de):(typeof O.componentDidUpdate!="function"||ee===s.memoizedProps&&ge===s.memoizedState||(a.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||ee===s.memoizedProps&&ge===s.memoizedState||(a.flags|=1024),y=!1)}return nh(s,a,h,y,j,C)}function nh(s,a,h,y,C,j){Xv(s,a);var O=(a.flags&128)!==0;if(!y&&!O)return C&&Zy(a,h,!1),so(s,a,j);y=a.stateNode,DP.current=a;var ee=O&&typeof h.getDerivedStateFromError!="function"?null:y.render();return a.flags|=1,s!==null&&O?(a.child=ps(a,s.child,null,j),a.child=ps(a,null,ee,j)):Pn(s,a,ee,j),a.memoizedState=y.state,C&&Zy(a,h,!0),a.child}function Gv(s){var a=s.stateNode;a.pendingContext?Qy(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Qy(s,a.context,!1),$p(s,a.containerInfo)}function Kv(s,a,h,y,C){return fs(),Tp(C),a.flags|=256,Pn(s,a,h,y),a.child}var rh={dehydrated:null,treeContext:null,retryLane:0};function oh(s){return{baseLanes:s,cachePool:null,transitions:null}}function Qv(s,a,h){var y=a.pendingProps,C=Bt.current,j=!1,O=(a.flags&128)!==0,ee;if((ee=O)||(ee=s!==null&&s.memoizedState===null?!1:(C&2)!==0),ee?(j=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(C|=1),Tt(Bt,C&1),s===null)return Ip(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(O=y.children,s=y.fallback,j?(y=a.mode,j=a.child,O={mode:"hidden",children:O},(y&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=O):j=vu(O,y,0,null),s=bi(s,y,h,null),j.return=a,s.return=a,j.sibling=s,a.child=j,a.child.memoizedState=oh(h),a.memoizedState=rh,s):ih(a,O));if(C=s.memoizedState,C!==null&&(ee=C.dehydrated,ee!==null))return OP(s,a,O,y,ee,C,h);if(j){j=y.fallback,O=a.mode,C=s.child,ee=C.sibling;var re={mode:"hidden",children:y.children};return(O&1)===0&&a.child!==C?(y=a.child,y.childLanes=0,y.pendingProps=re,a.deletions=null):(y=Oo(C,re),y.subtreeFlags=C.subtreeFlags&14680064),ee!==null?j=Oo(ee,j):(j=bi(j,O,h,null),j.flags|=2),j.return=a,y.return=a,y.sibling=j,a.child=y,y=j,j=a.child,O=s.child.memoizedState,O=O===null?oh(h):{baseLanes:O.baseLanes|h,cachePool:null,transitions:O.transitions},j.memoizedState=O,j.childLanes=s.childLanes&~h,a.memoizedState=rh,y}return j=s.child,s=j.sibling,y=Oo(j,{mode:"visible",children:y.children}),(a.mode&1)===0&&(y.lanes=h),y.return=a,y.sibling=null,s!==null&&(h=a.deletions,h===null?(a.deletions=[s],a.flags|=16):h.push(s)),a.child=y,a.memoizedState=null,y}function ih(s,a){return a=vu({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function su(s,a,h,y){return y!==null&&Tp(y),ps(a,s.child,null,h),s=ih(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function OP(s,a,h,y,C,j,O){if(h)return a.flags&256?(a.flags&=-257,y=Zp(Error(n(422))),su(s,a,O,y)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(j=y.fallback,C=a.mode,y=vu({mode:"visible",children:y.children},C,0,null),j=bi(j,C,O,null),j.flags|=2,y.return=a,j.return=a,y.sibling=j,a.child=y,(a.mode&1)!==0&&ps(a,s.child,null,O),a.child.memoizedState=oh(O),a.memoizedState=rh,j);if((a.mode&1)===0)return su(s,a,O,null);if(C.data==="$!"){if(y=C.nextSibling&&C.nextSibling.dataset,y)var ee=y.dgst;return y=ee,j=Error(n(419)),y=Zp(j,y,void 0),su(s,a,O,y)}if(ee=(O&s.childLanes)!==0,Ln||ee){if(y=tn,y!==null){switch(O&-O){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(y.suspendedLanes|O))!==0?0:C,C!==0&&C!==j.retryLane&&(j.retryLane=C,oo(s,C),br(y,s,C,-1))}return bh(),y=Zp(Error(n(421))),su(s,a,O,y)}return C.data==="$?"?(a.flags|=128,a.child=s.child,a=GP.bind(null,s),C._reactRetry=a,null):(s=j.treeContext,Xn=No(C.nextSibling),Yn=a,zt=!0,xr=null,s!==null&&(ir[sr++]=no,ir[sr++]=ro,ir[sr++]=fi,no=s.id,ro=s.overflow,fi=a),a=ih(a,y.children),a.flags|=4096,a)}function Jv(s,a,h){s.lanes|=a;var y=s.alternate;y!==null&&(y.lanes|=a),Op(s.return,a,h)}function sh(s,a,h,y,C){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:C}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=y,j.tail=h,j.tailMode=C)}function Zv(s,a,h){var y=a.pendingProps,C=y.revealOrder,j=y.tail;if(Pn(s,a,y.children,h),y=Bt.current,(y&2)!==0)y=y&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Jv(s,h,a);else if(s.tag===19)Jv(s,h,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}y&=1}if(Tt(Bt,y),(a.mode&1)===0)a.memoizedState=null;else switch(C){case"forwards":for(h=a.child,C=null;h!==null;)s=h.alternate,s!==null&&Zc(s)===null&&(C=h),h=h.sibling;h=C,h===null?(C=a.child,a.child=null):(C=h.sibling,h.sibling=null),sh(a,!1,C,h,j);break;case"backwards":for(h=null,C=a.child,a.child=null;C!==null;){if(s=C.alternate,s!==null&&Zc(s)===null){a.child=C;break}s=C.sibling,C.sibling=h,h=C,C=s}sh(a,!0,h,null,j);break;case"together":sh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function lu(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function so(s,a,h){if(s!==null&&(a.dependencies=s.dependencies),xi|=a.lanes,(h&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,h=Oo(s,s.pendingProps),a.child=h,h.return=a;s.sibling!==null;)s=s.sibling,h=h.sibling=Oo(s,s.pendingProps),h.return=a;h.sibling=null}return a.child}function LP(s,a,h){switch(a.tag){case 3:Gv(a),fs();break;case 5:pv(a);break;case 1:On(a.type)&&Hc(a);break;case 4:$p(a,a.stateNode.containerInfo);break;case 10:var y=a.type._context,C=a.memoizedProps.value;Tt(Gc,y._currentValue),y._currentValue=C;break;case 13:if(y=a.memoizedState,y!==null)return y.dehydrated!==null?(Tt(Bt,Bt.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?Qv(s,a,h):(Tt(Bt,Bt.current&1),s=so(s,a,h),s!==null?s.sibling:null);Tt(Bt,Bt.current&1);break;case 19:if(y=(h&a.childLanes)!==0,(s.flags&128)!==0){if(y)return Zv(s,a,h);a.flags|=128}if(C=a.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Tt(Bt,Bt.current),y)break;return null;case 22:case 23:return a.lanes=0,Yv(s,a,h)}return so(s,a,h)}var e0,lh,t0,n0;e0=function(s,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},lh=function(){},t0=function(s,a,h,y){var C=s.memoizedProps;if(C!==y){s=a.stateNode,mi($r.current);var j=null;switch(h){case"input":C=we(s,C),y=we(s,y),j=[];break;case"select":C=R({},C,{value:void 0}),y=R({},y,{value:void 0}),j=[];break;case"textarea":C=ut(s,C),y=ut(s,y),j=[];break;default:typeof C.onClick!="function"&&typeof y.onClick=="function"&&(s.onclick=Fc)}Ue(h,y);var O;h=null;for(de in C)if(!y.hasOwnProperty(de)&&C.hasOwnProperty(de)&&C[de]!=null)if(de==="style"){var ee=C[de];for(O in ee)ee.hasOwnProperty(O)&&(h||(h={}),h[O]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(o.hasOwnProperty(de)?j||(j=[]):(j=j||[]).push(de,null));for(de in y){var re=y[de];if(ee=C!=null?C[de]:void 0,y.hasOwnProperty(de)&&re!==ee&&(re!=null||ee!=null))if(de==="style")if(ee){for(O in ee)!ee.hasOwnProperty(O)||re&&re.hasOwnProperty(O)||(h||(h={}),h[O]="");for(O in re)re.hasOwnProperty(O)&&ee[O]!==re[O]&&(h||(h={}),h[O]=re[O])}else h||(j||(j=[]),j.push(de,h)),h=re;else de==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,ee=ee?ee.__html:void 0,re!=null&&ee!==re&&(j=j||[]).push(de,re)):de==="children"?typeof re!="string"&&typeof re!="number"||(j=j||[]).push(de,""+re):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(o.hasOwnProperty(de)?(re!=null&&de==="onScroll"&&Mt("scroll",s),j||ee===re||(j=[])):(j=j||[]).push(de,re))}h&&(j=j||[]).push("style",h);var de=j;(a.updateQueue=de)&&(a.flags|=4)}},n0=function(s,a,h,y){h!==y&&(a.flags|=4)};function Yl(s,a){if(!zt)switch(s.tailMode){case"hidden":a=s.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function vn(s){var a=s.alternate!==null&&s.alternate.child===s.child,h=0,y=0;if(a)for(var C=s.child;C!==null;)h|=C.lanes|C.childLanes,y|=C.subtreeFlags&14680064,y|=C.flags&14680064,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)h|=C.lanes|C.childLanes,y|=C.subtreeFlags,y|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=y,s.childLanes=h,a}function zP(s,a,h){var y=a.pendingProps;switch(Pp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(a),null;case 1:return On(a.type)&&Vc(),vn(a),null;case 3:return y=a.stateNode,gs(),Dt(Dn),Dt(xn),Vp(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(s===null||s.child===null)&&(Xc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,xr!==null&&(yh(xr),xr=null))),lh(s,a),vn(a),null;case 5:Fp(a);var C=mi(Bl.current);if(h=a.type,s!==null&&a.stateNode!=null)t0(s,a,h,y,C),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!y){if(a.stateNode===null)throw Error(n(166));return vn(a),null}if(s=mi($r.current),Xc(a)){y=a.stateNode,h=a.type;var j=a.memoizedProps;switch(y[zr]=a,y[Ol]=j,s=(a.mode&1)!==0,h){case"dialog":Mt("cancel",y),Mt("close",y);break;case"iframe":case"object":case"embed":Mt("load",y);break;case"video":case"audio":for(C=0;C<Rl.length;C++)Mt(Rl[C],y);break;case"source":Mt("error",y);break;case"img":case"image":case"link":Mt("error",y),Mt("load",y);break;case"details":Mt("toggle",y);break;case"input":De(y,j),Mt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!j.multiple},Mt("invalid",y);break;case"textarea":bt(y,j),Mt("invalid",y)}Ue(h,j),C=null;for(var O in j)if(j.hasOwnProperty(O)){var ee=j[O];O==="children"?typeof ee=="string"?y.textContent!==ee&&(j.suppressHydrationWarning!==!0&&$c(y.textContent,ee,s),C=["children",ee]):typeof ee=="number"&&y.textContent!==""+ee&&(j.suppressHydrationWarning!==!0&&$c(y.textContent,ee,s),C=["children",""+ee]):o.hasOwnProperty(O)&&ee!=null&&O==="onScroll"&&Mt("scroll",y)}switch(h){case"input":ue(y),Ze(y,j,!0);break;case"textarea":ue(y),At(y);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(y.onclick=Fc)}y=C,a.updateQueue=y,y!==null&&(a.flags|=4)}else{O=C.nodeType===9?C:C.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ne(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=O.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof y.is=="string"?s=O.createElement(h,{is:y.is}):(s=O.createElement(h),h==="select"&&(O=s,y.multiple?O.multiple=!0:y.size&&(O.size=y.size))):s=O.createElementNS(s,h),s[zr]=a,s[Ol]=y,e0(s,a,!1,!1),a.stateNode=s;e:{switch(O=St(h,y),h){case"dialog":Mt("cancel",s),Mt("close",s),C=y;break;case"iframe":case"object":case"embed":Mt("load",s),C=y;break;case"video":case"audio":for(C=0;C<Rl.length;C++)Mt(Rl[C],s);C=y;break;case"source":Mt("error",s),C=y;break;case"img":case"image":case"link":Mt("error",s),Mt("load",s),C=y;break;case"details":Mt("toggle",s),C=y;break;case"input":De(s,y),C=we(s,y),Mt("invalid",s);break;case"option":C=y;break;case"select":s._wrapperState={wasMultiple:!!y.multiple},C=R({},y,{value:void 0}),Mt("invalid",s);break;case"textarea":bt(s,y),C=ut(s,y),Mt("invalid",s);break;default:C=y}Ue(h,C),ee=C;for(j in ee)if(ee.hasOwnProperty(j)){var re=ee[j];j==="style"?Xe(s,re):j==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&be(s,re)):j==="children"?typeof re=="string"?(h!=="textarea"||re!=="")&&Ne(s,re):typeof re=="number"&&Ne(s,""+re):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?re!=null&&j==="onScroll"&&Mt("scroll",s):re!=null&&N(s,j,re,O))}switch(h){case"input":ue(s),Ze(s,y,!1);break;case"textarea":ue(s),At(s);break;case"option":y.value!=null&&s.setAttribute("value",""+te(y.value));break;case"select":s.multiple=!!y.multiple,j=y.value,j!=null?Ve(s,!!y.multiple,j,!1):y.defaultValue!=null&&Ve(s,!!y.multiple,y.defaultValue,!0);break;default:typeof C.onClick=="function"&&(s.onclick=Fc)}switch(h){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return vn(a),null;case 6:if(s&&a.stateNode!=null)n0(s,a,s.memoizedProps,y);else{if(typeof y!="string"&&a.stateNode===null)throw Error(n(166));if(h=mi(Bl.current),mi($r.current),Xc(a)){if(y=a.stateNode,h=a.memoizedProps,y[zr]=a,(j=y.nodeValue!==h)&&(s=Yn,s!==null))switch(s.tag){case 3:$c(y.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&$c(y.nodeValue,h,(s.mode&1)!==0)}j&&(a.flags|=4)}else y=(h.nodeType===9?h:h.ownerDocument).createTextNode(y),y[zr]=a,a.stateNode=y}return vn(a),null;case 13:if(Dt(Bt),y=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(zt&&Xn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)iv(),fs(),a.flags|=98560,j=!1;else if(j=Xc(a),y!==null&&y.dehydrated!==null){if(s===null){if(!j)throw Error(n(318));if(j=a.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[zr]=a}else fs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;vn(a),j=!1}else xr!==null&&(yh(xr),xr=null),j=!0;if(!j)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(y=y!==null,y!==(s!==null&&s.memoizedState!==null)&&y&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Bt.current&1)!==0?Qt===0&&(Qt=3):bh())),a.updateQueue!==null&&(a.flags|=4),vn(a),null);case 4:return gs(),lh(s,a),s===null&&Ml(a.stateNode.containerInfo),vn(a),null;case 10:return Dp(a.type._context),vn(a),null;case 17:return On(a.type)&&Vc(),vn(a),null;case 19:if(Dt(Bt),j=a.memoizedState,j===null)return vn(a),null;if(y=(a.flags&128)!==0,O=j.rendering,O===null)if(y)Yl(j,!1);else{if(Qt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(O=Zc(s),O!==null){for(a.flags|=128,Yl(j,!1),y=O.updateQueue,y!==null&&(a.updateQueue=y,a.flags|=4),a.subtreeFlags=0,y=h,h=a.child;h!==null;)j=h,s=y,j.flags&=14680066,O=j.alternate,O===null?(j.childLanes=0,j.lanes=s,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=O.childLanes,j.lanes=O.lanes,j.child=O.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=O.memoizedProps,j.memoizedState=O.memoizedState,j.updateQueue=O.updateQueue,j.type=O.type,s=O.dependencies,j.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return Tt(Bt,Bt.current&1|2),a.child}s=s.sibling}j.tail!==null&&Ft()>ws&&(a.flags|=128,y=!0,Yl(j,!1),a.lanes=4194304)}else{if(!y)if(s=Zc(O),s!==null){if(a.flags|=128,y=!0,h=s.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),Yl(j,!0),j.tail===null&&j.tailMode==="hidden"&&!O.alternate&&!zt)return vn(a),null}else 2*Ft()-j.renderingStartTime>ws&&h!==1073741824&&(a.flags|=128,y=!0,Yl(j,!1),a.lanes=4194304);j.isBackwards?(O.sibling=a.child,a.child=O):(h=j.last,h!==null?h.sibling=O:a.child=O,j.last=O)}return j.tail!==null?(a=j.tail,j.rendering=a,j.tail=a.sibling,j.renderingStartTime=Ft(),a.sibling=null,h=Bt.current,Tt(Bt,y?h&1|2:h&1),a):(vn(a),null);case 22:case 23:return wh(),y=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==y&&(a.flags|=8192),y&&(a.mode&1)!==0?(qn&1073741824)!==0&&(vn(a),a.subtreeFlags&6&&(a.flags|=8192)):vn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function $P(s,a){switch(Pp(a),a.tag){case 1:return On(a.type)&&Vc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return gs(),Dt(Dn),Dt(xn),Vp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Fp(a),null;case 13:if(Dt(Bt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));fs()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Dt(Bt),null;case 4:return gs(),null;case 10:return Dp(a.type._context),null;case 22:case 23:return wh(),null;case 24:return null;default:return null}}var au=!1,wn=!1,FP=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function ys(s,a){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(y){Ut(s,a,y)}else h.current=null}function ah(s,a,h){try{h()}catch(y){Ut(s,a,y)}}var r0=!1;function BP(s,a){if(wp=_c,s=Dy(),fp(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var C=y.anchorOffset,j=y.focusNode;y=y.focusOffset;try{h.nodeType,j.nodeType}catch{h=null;break e}var O=0,ee=-1,re=-1,de=0,xe=0,ve=s,ge=null;t:for(;;){for(var Ee;ve!==h||C!==0&&ve.nodeType!==3||(ee=O+C),ve!==j||y!==0&&ve.nodeType!==3||(re=O+y),ve.nodeType===3&&(O+=ve.nodeValue.length),(Ee=ve.firstChild)!==null;)ge=ve,ve=Ee;for(;;){if(ve===s)break t;if(ge===h&&++de===C&&(ee=O),ge===j&&++xe===y&&(re=O),(Ee=ve.nextSibling)!==null)break;ve=ge,ge=ve.parentNode}ve=Ee}h=ee===-1||re===-1?null:{start:ee,end:re}}else h=null}h=h||{start:0,end:0}}else h=null;for(bp={focusedElem:s,selectionRange:h},_c=!1,Ae=a;Ae!==null;)if(a=Ae,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ae=s;else for(;Ae!==null;){a=Ae;try{var Te=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var $e=Te.memoizedProps,Yt=Te.memoizedState,ae=a.stateNode,oe=ae.getSnapshotBeforeUpdate(a.elementType===a.type?$e:yr(a.type,$e),Yt);ae.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var ce=a.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ke){Ut(a,a.return,ke)}if(s=a.sibling,s!==null){s.return=a.return,Ae=s;break}Ae=a.return}return Te=r0,r0=!1,Te}function Xl(s,a,h){var y=a.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var C=y=y.next;do{if((C.tag&s)===s){var j=C.destroy;C.destroy=void 0,j!==void 0&&ah(a,h,j)}C=C.next}while(C!==y)}}function cu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&s)===s){var y=h.create;h.destroy=y()}h=h.next}while(h!==a)}}function ch(s){var a=s.ref;if(a!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof a=="function"?a(s):a.current=s}}function o0(s){var a=s.alternate;a!==null&&(s.alternate=null,o0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[zr],delete a[Ol],delete a[Np],delete a[kP],delete a[CP])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function i0(s){return s.tag===5||s.tag===3||s.tag===4}function s0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||i0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function uh(s,a,h){var y=s.tag;if(y===5||y===6)s=s.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(s,a):h.insertBefore(s,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(s,h)):(a=h,a.appendChild(s)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=Fc));else if(y!==4&&(s=s.child,s!==null))for(uh(s,a,h),s=s.sibling;s!==null;)uh(s,a,h),s=s.sibling}function dh(s,a,h){var y=s.tag;if(y===5||y===6)s=s.stateNode,a?h.insertBefore(s,a):h.appendChild(s);else if(y!==4&&(s=s.child,s!==null))for(dh(s,a,h),s=s.sibling;s!==null;)dh(s,a,h),s=s.sibling}var cn=null,vr=!1;function Io(s,a,h){for(h=h.child;h!==null;)l0(s,a,h),h=h.sibling}function l0(s,a,h){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(ai,h)}catch{}switch(h.tag){case 5:wn||ys(h,a);case 6:var y=cn,C=vr;cn=null,Io(s,a,h),cn=y,vr=C,cn!==null&&(vr?(s=cn,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):cn.removeChild(h.stateNode));break;case 18:cn!==null&&(vr?(s=cn,h=h.stateNode,s.nodeType===8?Cp(s.parentNode,h):s.nodeType===1&&Cp(s,h),Nl(s)):Cp(cn,h.stateNode));break;case 4:y=cn,C=vr,cn=h.stateNode.containerInfo,vr=!0,Io(s,a,h),cn=y,vr=C;break;case 0:case 11:case 14:case 15:if(!wn&&(y=h.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){C=y=y.next;do{var j=C,O=j.destroy;j=j.tag,O!==void 0&&((j&2)!==0||(j&4)!==0)&&ah(h,a,O),C=C.next}while(C!==y)}Io(s,a,h);break;case 1:if(!wn&&(ys(h,a),y=h.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=h.memoizedProps,y.state=h.memoizedState,y.componentWillUnmount()}catch(ee){Ut(h,a,ee)}Io(s,a,h);break;case 21:Io(s,a,h);break;case 22:h.mode&1?(wn=(y=wn)||h.memoizedState!==null,Io(s,a,h),wn=y):Io(s,a,h);break;default:Io(s,a,h)}}function a0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new FP),a.forEach(function(y){var C=KP.bind(null,s,y);h.has(y)||(h.add(y),y.then(C,C))})}}function wr(s,a){var h=a.deletions;if(h!==null)for(var y=0;y<h.length;y++){var C=h[y];try{var j=s,O=a,ee=O;e:for(;ee!==null;){switch(ee.tag){case 5:cn=ee.stateNode,vr=!1;break e;case 3:cn=ee.stateNode.containerInfo,vr=!0;break e;case 4:cn=ee.stateNode.containerInfo,vr=!0;break e}ee=ee.return}if(cn===null)throw Error(n(160));l0(j,O,C),cn=null,vr=!1;var re=C.alternate;re!==null&&(re.return=null),C.return=null}catch(de){Ut(C,a,de)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)c0(a,s),a=a.sibling}function c0(s,a){var h=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(wr(a,s),Br(s),y&4){try{Xl(3,s,s.return),cu(3,s)}catch($e){Ut(s,s.return,$e)}try{Xl(5,s,s.return)}catch($e){Ut(s,s.return,$e)}}break;case 1:wr(a,s),Br(s),y&512&&h!==null&&ys(h,h.return);break;case 5:if(wr(a,s),Br(s),y&512&&h!==null&&ys(h,h.return),s.flags&32){var C=s.stateNode;try{Ne(C,"")}catch($e){Ut(s,s.return,$e)}}if(y&4&&(C=s.stateNode,C!=null)){var j=s.memoizedProps,O=h!==null?h.memoizedProps:j,ee=s.type,re=s.updateQueue;if(s.updateQueue=null,re!==null)try{ee==="input"&&j.type==="radio"&&j.name!=null&&Oe(C,j),St(ee,O);var de=St(ee,j);for(O=0;O<re.length;O+=2){var xe=re[O],ve=re[O+1];xe==="style"?Xe(C,ve):xe==="dangerouslySetInnerHTML"?be(C,ve):xe==="children"?Ne(C,ve):N(C,xe,ve,de)}switch(ee){case"input":it(C,j);break;case"textarea":_t(C,j);break;case"select":var ge=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!j.multiple;var Ee=j.value;Ee!=null?Ve(C,!!j.multiple,Ee,!1):ge!==!!j.multiple&&(j.defaultValue!=null?Ve(C,!!j.multiple,j.defaultValue,!0):Ve(C,!!j.multiple,j.multiple?[]:"",!1))}C[Ol]=j}catch($e){Ut(s,s.return,$e)}}break;case 6:if(wr(a,s),Br(s),y&4){if(s.stateNode===null)throw Error(n(162));C=s.stateNode,j=s.memoizedProps;try{C.nodeValue=j}catch($e){Ut(s,s.return,$e)}}break;case 3:if(wr(a,s),Br(s),y&4&&h!==null&&h.memoizedState.isDehydrated)try{Nl(a.containerInfo)}catch($e){Ut(s,s.return,$e)}break;case 4:wr(a,s),Br(s);break;case 13:wr(a,s),Br(s),C=s.child,C.flags&8192&&(j=C.memoizedState!==null,C.stateNode.isHidden=j,!j||C.alternate!==null&&C.alternate.memoizedState!==null||(hh=Ft())),y&4&&a0(s);break;case 22:if(xe=h!==null&&h.memoizedState!==null,s.mode&1?(wn=(de=wn)||xe,wr(a,s),wn=de):wr(a,s),Br(s),y&8192){if(de=s.memoizedState!==null,(s.stateNode.isHidden=de)&&!xe&&(s.mode&1)!==0)for(Ae=s,xe=s.child;xe!==null;){for(ve=Ae=xe;Ae!==null;){switch(ge=Ae,Ee=ge.child,ge.tag){case 0:case 11:case 14:case 15:Xl(4,ge,ge.return);break;case 1:ys(ge,ge.return);var Te=ge.stateNode;if(typeof Te.componentWillUnmount=="function"){y=ge,h=ge.return;try{a=y,Te.props=a.memoizedProps,Te.state=a.memoizedState,Te.componentWillUnmount()}catch($e){Ut(y,h,$e)}}break;case 5:ys(ge,ge.return);break;case 22:if(ge.memoizedState!==null){f0(ve);continue}}Ee!==null?(Ee.return=ge,Ae=Ee):f0(ve)}xe=xe.sibling}e:for(xe=null,ve=s;;){if(ve.tag===5){if(xe===null){xe=ve;try{C=ve.stateNode,de?(j=C.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(ee=ve.stateNode,re=ve.memoizedProps.style,O=re!=null&&re.hasOwnProperty("display")?re.display:null,ee.style.display=We("display",O))}catch($e){Ut(s,s.return,$e)}}}else if(ve.tag===6){if(xe===null)try{ve.stateNode.nodeValue=de?"":ve.memoizedProps}catch($e){Ut(s,s.return,$e)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===s)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===s)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===s)break e;xe===ve&&(xe=null),ve=ve.return}xe===ve&&(xe=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:wr(a,s),Br(s),y&4&&a0(s);break;case 21:break;default:wr(a,s),Br(s)}}function Br(s){var a=s.flags;if(a&2){try{e:{for(var h=s.return;h!==null;){if(i0(h)){var y=h;break e}h=h.return}throw Error(n(160))}switch(y.tag){case 5:var C=y.stateNode;y.flags&32&&(Ne(C,""),y.flags&=-33);var j=s0(s);dh(s,j,C);break;case 3:case 4:var O=y.stateNode.containerInfo,ee=s0(s);uh(s,ee,O);break;default:throw Error(n(161))}}catch(re){Ut(s,s.return,re)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function VP(s,a,h){Ae=s,u0(s)}function u0(s,a,h){for(var y=(s.mode&1)!==0;Ae!==null;){var C=Ae,j=C.child;if(C.tag===22&&y){var O=C.memoizedState!==null||au;if(!O){var ee=C.alternate,re=ee!==null&&ee.memoizedState!==null||wn;ee=au;var de=wn;if(au=O,(wn=re)&&!de)for(Ae=C;Ae!==null;)O=Ae,re=O.child,O.tag===22&&O.memoizedState!==null?p0(C):re!==null?(re.return=O,Ae=re):p0(C);for(;j!==null;)Ae=j,u0(j),j=j.sibling;Ae=C,au=ee,wn=de}d0(s)}else(C.subtreeFlags&8772)!==0&&j!==null?(j.return=C,Ae=j):d0(s)}}function d0(s){for(;Ae!==null;){var a=Ae;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:wn||cu(5,a);break;case 1:var y=a.stateNode;if(a.flags&4&&!wn)if(h===null)y.componentDidMount();else{var C=a.elementType===a.type?h.memoizedProps:yr(a.type,h.memoizedProps);y.componentDidUpdate(C,h.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var j=a.updateQueue;j!==null&&fv(a,j,y);break;case 3:var O=a.updateQueue;if(O!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}fv(a,O,h)}break;case 5:var ee=a.stateNode;if(h===null&&a.flags&4){h=ee;var re=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&h.focus();break;case"img":re.src&&(h.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var de=a.alternate;if(de!==null){var xe=de.memoizedState;if(xe!==null){var ve=xe.dehydrated;ve!==null&&Nl(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}wn||a.flags&512&&ch(a)}catch(ge){Ut(a,a.return,ge)}}if(a===s){Ae=null;break}if(h=a.sibling,h!==null){h.return=a.return,Ae=h;break}Ae=a.return}}function f0(s){for(;Ae!==null;){var a=Ae;if(a===s){Ae=null;break}var h=a.sibling;if(h!==null){h.return=a.return,Ae=h;break}Ae=a.return}}function p0(s){for(;Ae!==null;){var a=Ae;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{cu(4,a)}catch(re){Ut(a,h,re)}break;case 1:var y=a.stateNode;if(typeof y.componentDidMount=="function"){var C=a.return;try{y.componentDidMount()}catch(re){Ut(a,C,re)}}var j=a.return;try{ch(a)}catch(re){Ut(a,j,re)}break;case 5:var O=a.return;try{ch(a)}catch(re){Ut(a,O,re)}}}catch(re){Ut(a,a.return,re)}if(a===s){Ae=null;break}var ee=a.sibling;if(ee!==null){ee.return=a.return,Ae=ee;break}Ae=a.return}}var HP=Math.ceil,uu=_.ReactCurrentDispatcher,fh=_.ReactCurrentOwner,cr=_.ReactCurrentBatchConfig,Nt=0,tn=null,Xt=null,un=0,qn=0,vs=Eo(0),Qt=0,ql=null,xi=0,du=0,ph=0,Gl=null,zn=null,hh=0,ws=1/0,lo=null,fu=!1,mh=null,To=null,pu=!1,Ro=null,hu=0,Kl=0,gh=null,mu=-1,gu=0;function An(){return(Nt&6)!==0?Ft():mu!==-1?mu:mu=Ft()}function Mo(s){return(s.mode&1)===0?1:(Nt&2)!==0&&un!==0?un&-un:EP.transition!==null?(gu===0&&(gu=Zi()),gu):(s=Pt,s!==0||(s=window.event,s=s===void 0?16:my(s.type)),s)}function br(s,a,h,y){if(50<Kl)throw Kl=0,gh=null,Error(n(185));ci(s,h,y),((Nt&2)===0||s!==tn)&&(s===tn&&((Nt&2)===0&&(du|=h),Qt===4&&Do(s,un)),$n(s,y),h===1&&Nt===0&&(a.mode&1)===0&&(ws=Ft()+500,Uc&&_o()))}function $n(s,a){var h=s.callbackNode;Qf(s,a);var y=Ji(s,s===tn?un:0);if(y===0)h!==null&&wc(h),s.callbackNode=null,s.callbackPriority=0;else if(a=y&-y,s.callbackPriority!==a){if(h!=null&&wc(h),a===1)s.tag===0?NP(m0.bind(null,s)):ev(m0.bind(null,s)),bP(function(){(Nt&6)===0&&_o()}),h=null;else{switch(ly(y)){case 1:h=yl;break;case 4:h=Sc;break;case 16:h=Gi;break;case 536870912:h=kc;break;default:h=Gi}h=k0(h,h0.bind(null,s))}s.callbackPriority=a,s.callbackNode=h}}function h0(s,a){if(mu=-1,gu=0,(Nt&6)!==0)throw Error(n(327));var h=s.callbackNode;if(bs()&&s.callbackNode!==h)return null;var y=Ji(s,s===tn?un:0);if(y===0)return null;if((y&30)!==0||(y&s.expiredLanes)!==0||a)a=xu(s,y);else{a=y;var C=Nt;Nt|=2;var j=x0();(tn!==s||un!==a)&&(lo=null,ws=Ft()+500,vi(s,a));do try{YP();break}catch(ee){g0(s,ee)}while(!0);Mp(),uu.current=j,Nt=C,Xt!==null?a=0:(tn=null,un=0,a=Qt)}if(a!==0){if(a===2&&(C=vl(s),C!==0&&(y=C,a=xh(s,C))),a===1)throw h=ql,vi(s,0),Do(s,y),$n(s,Ft()),h;if(a===6)Do(s,y);else{if(C=s.current.alternate,(y&30)===0&&!UP(C)&&(a=xu(s,y),a===2&&(j=vl(s),j!==0&&(y=j,a=xh(s,j))),a===1))throw h=ql,vi(s,0),Do(s,y),$n(s,Ft()),h;switch(s.finishedWork=C,s.finishedLanes=y,a){case 0:case 1:throw Error(n(345));case 2:wi(s,zn,lo);break;case 3:if(Do(s,y),(y&130023424)===y&&(a=hh+500-Ft(),10<a)){if(Ji(s,0)!==0)break;if(C=s.suspendedLanes,(C&y)!==y){An(),s.pingedLanes|=s.suspendedLanes&C;break}s.timeoutHandle=kp(wi.bind(null,s,zn,lo),a);break}wi(s,zn,lo);break;case 4:if(Do(s,y),(y&4194240)===y)break;for(a=s.eventTimes,C=-1;0<y;){var O=31-Un(y);j=1<<O,O=a[O],O>C&&(C=O),y&=~j}if(y=C,y=Ft()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*HP(y/1960))-y,10<y){s.timeoutHandle=kp(wi.bind(null,s,zn,lo),y);break}wi(s,zn,lo);break;case 5:wi(s,zn,lo);break;default:throw Error(n(329))}}}return $n(s,Ft()),s.callbackNode===h?h0.bind(null,s):null}function xh(s,a){var h=Gl;return s.current.memoizedState.isDehydrated&&(vi(s,a).flags|=256),s=xu(s,a),s!==2&&(a=zn,zn=h,a!==null&&yh(a)),s}function yh(s){zn===null?zn=s:zn.push.apply(zn,s)}function UP(s){for(var a=s;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var y=0;y<h.length;y++){var C=h[y],j=C.getSnapshot;C=C.value;try{if(!gr(j(),C))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Do(s,a){for(a&=~ph,a&=~du,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var h=31-Un(a),y=1<<h;s[h]=-1,a&=~y}}function m0(s){if((Nt&6)!==0)throw Error(n(327));bs();var a=Ji(s,0);if((a&1)===0)return $n(s,Ft()),null;var h=xu(s,a);if(s.tag!==0&&h===2){var y=vl(s);y!==0&&(a=y,h=xh(s,y))}if(h===1)throw h=ql,vi(s,0),Do(s,a),$n(s,Ft()),h;if(h===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,wi(s,zn,lo),$n(s,Ft()),null}function vh(s,a){var h=Nt;Nt|=1;try{return s(a)}finally{Nt=h,Nt===0&&(ws=Ft()+500,Uc&&_o())}}function yi(s){Ro!==null&&Ro.tag===0&&(Nt&6)===0&&bs();var a=Nt;Nt|=1;var h=cr.transition,y=Pt;try{if(cr.transition=null,Pt=1,s)return s()}finally{Pt=y,cr.transition=h,Nt=a,(Nt&6)===0&&_o()}}function wh(){qn=vs.current,Dt(vs)}function vi(s,a){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,wP(h)),Xt!==null)for(h=Xt.return;h!==null;){var y=h;switch(Pp(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Vc();break;case 3:gs(),Dt(Dn),Dt(xn),Vp();break;case 5:Fp(y);break;case 4:gs();break;case 13:Dt(Bt);break;case 19:Dt(Bt);break;case 10:Dp(y.type._context);break;case 22:case 23:wh()}h=h.return}if(tn=s,Xt=s=Oo(s.current,null),un=qn=a,Qt=0,ql=null,ph=du=xi=0,zn=Gl=null,hi!==null){for(a=0;a<hi.length;a++)if(h=hi[a],y=h.interleaved,y!==null){h.interleaved=null;var C=y.next,j=h.pending;if(j!==null){var O=j.next;j.next=C,y.next=O}h.pending=y}hi=null}return s}function g0(s,a){do{var h=Xt;try{if(Mp(),eu.current=ou,tu){for(var y=Vt.memoizedState;y!==null;){var C=y.queue;C!==null&&(C.pending=null),y=y.next}tu=!1}if(gi=0,en=Kt=Vt=null,Vl=!1,Hl=0,fh.current=null,h===null||h.return===null){Qt=1,ql=a,Xt=null;break}e:{var j=s,O=h.return,ee=h,re=a;if(a=un,ee.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var de=re,xe=ee,ve=xe.tag;if((xe.mode&1)===0&&(ve===0||ve===11||ve===15)){var ge=xe.alternate;ge?(xe.updateQueue=ge.updateQueue,xe.memoizedState=ge.memoizedState,xe.lanes=ge.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var Ee=Bv(O);if(Ee!==null){Ee.flags&=-257,Vv(Ee,O,ee,j,a),Ee.mode&1&&Fv(j,de,a),a=Ee,re=de;var Te=a.updateQueue;if(Te===null){var $e=new Set;$e.add(re),a.updateQueue=$e}else Te.add(re);break e}else{if((a&1)===0){Fv(j,de,a),bh();break e}re=Error(n(426))}}else if(zt&&ee.mode&1){var Yt=Bv(O);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),Vv(Yt,O,ee,j,a),Tp(xs(re,ee));break e}}j=re=xs(re,ee),Qt!==4&&(Qt=2),Gl===null?Gl=[j]:Gl.push(j),j=O;do{switch(j.tag){case 3:j.flags|=65536,a&=-a,j.lanes|=a;var ae=zv(j,re,a);dv(j,ae);break e;case 1:ee=re;var oe=j.type,ce=j.stateNode;if((j.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(To===null||!To.has(ce)))){j.flags|=65536,a&=-a,j.lanes|=a;var ke=$v(j,ee,a);dv(j,ke);break e}}j=j.return}while(j!==null)}v0(h)}catch(Be){a=Be,Xt===h&&h!==null&&(Xt=h=h.return);continue}break}while(!0)}function x0(){var s=uu.current;return uu.current=ou,s===null?ou:s}function bh(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),tn===null||(xi&268435455)===0&&(du&268435455)===0||Do(tn,un)}function xu(s,a){var h=Nt;Nt|=2;var y=x0();(tn!==s||un!==a)&&(lo=null,vi(s,a));do try{WP();break}catch(C){g0(s,C)}while(!0);if(Mp(),Nt=h,uu.current=y,Xt!==null)throw Error(n(261));return tn=null,un=0,Qt}function WP(){for(;Xt!==null;)y0(Xt)}function YP(){for(;Xt!==null&&!Uf();)y0(Xt)}function y0(s){var a=S0(s.alternate,s,qn);s.memoizedProps=s.pendingProps,a===null?v0(s):Xt=a,fh.current=null}function v0(s){var a=s;do{var h=a.alternate;if(s=a.return,(a.flags&32768)===0){if(h=zP(h,a,qn),h!==null){Xt=h;return}}else{if(h=$P(h,a),h!==null){h.flags&=32767,Xt=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Qt=6,Xt=null;return}}if(a=a.sibling,a!==null){Xt=a;return}Xt=a=s}while(a!==null);Qt===0&&(Qt=5)}function wi(s,a,h){var y=Pt,C=cr.transition;try{cr.transition=null,Pt=1,XP(s,a,h,y)}finally{cr.transition=C,Pt=y}return null}function XP(s,a,h,y){do bs();while(Ro!==null);if((Nt&6)!==0)throw Error(n(327));h=s.finishedWork;var C=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var j=h.lanes|h.childLanes;if(Nc(s,j),s===tn&&(Xt=tn=null,un=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||pu||(pu=!0,k0(Gi,function(){return bs(),null})),j=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||j){j=cr.transition,cr.transition=null;var O=Pt;Pt=1;var ee=Nt;Nt|=4,fh.current=null,BP(s,h),c0(h,s),pP(bp),_c=!!wp,bp=wp=null,s.current=h,VP(h),bc(),Nt=ee,Pt=O,cr.transition=j}else s.current=h;if(pu&&(pu=!1,Ro=s,hu=C),j=s.pendingLanes,j===0&&(To=null),Xf(h.stateNode),$n(s,Ft()),a!==null)for(y=s.onRecoverableError,h=0;h<a.length;h++)C=a[h],y(C.value,{componentStack:C.stack,digest:C.digest});if(fu)throw fu=!1,s=mh,mh=null,s;return(hu&1)!==0&&s.tag!==0&&bs(),j=s.pendingLanes,(j&1)!==0?s===gh?Kl++:(Kl=0,gh=s):Kl=0,_o(),null}function bs(){if(Ro!==null){var s=ly(hu),a=cr.transition,h=Pt;try{if(cr.transition=null,Pt=16>s?16:s,Ro===null)var y=!1;else{if(s=Ro,Ro=null,hu=0,(Nt&6)!==0)throw Error(n(331));var C=Nt;for(Nt|=4,Ae=s.current;Ae!==null;){var j=Ae,O=j.child;if((Ae.flags&16)!==0){var ee=j.deletions;if(ee!==null){for(var re=0;re<ee.length;re++){var de=ee[re];for(Ae=de;Ae!==null;){var xe=Ae;switch(xe.tag){case 0:case 11:case 15:Xl(8,xe,j)}var ve=xe.child;if(ve!==null)ve.return=xe,Ae=ve;else for(;Ae!==null;){xe=Ae;var ge=xe.sibling,Ee=xe.return;if(o0(xe),xe===de){Ae=null;break}if(ge!==null){ge.return=Ee,Ae=ge;break}Ae=Ee}}}var Te=j.alternate;if(Te!==null){var $e=Te.child;if($e!==null){Te.child=null;do{var Yt=$e.sibling;$e.sibling=null,$e=Yt}while($e!==null)}}Ae=j}}if((j.subtreeFlags&2064)!==0&&O!==null)O.return=j,Ae=O;else e:for(;Ae!==null;){if(j=Ae,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Xl(9,j,j.return)}var ae=j.sibling;if(ae!==null){ae.return=j.return,Ae=ae;break e}Ae=j.return}}var oe=s.current;for(Ae=oe;Ae!==null;){O=Ae;var ce=O.child;if((O.subtreeFlags&2064)!==0&&ce!==null)ce.return=O,Ae=ce;else e:for(O=oe;Ae!==null;){if(ee=Ae,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:cu(9,ee)}}catch(Be){Ut(ee,ee.return,Be)}if(ee===O){Ae=null;break e}var ke=ee.sibling;if(ke!==null){ke.return=ee.return,Ae=ke;break e}Ae=ee.return}}if(Nt=C,_o(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(ai,s)}catch{}y=!0}return y}finally{Pt=h,cr.transition=a}}return!1}function w0(s,a,h){a=xs(h,a),a=zv(s,a,1),s=Ao(s,a,1),a=An(),s!==null&&(ci(s,1,a),$n(s,a))}function Ut(s,a,h){if(s.tag===3)w0(s,s,h);else for(;a!==null;){if(a.tag===3){w0(a,s,h);break}else if(a.tag===1){var y=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(To===null||!To.has(y))){s=xs(h,s),s=$v(a,s,1),a=Ao(a,s,1),s=An(),a!==null&&(ci(a,1,s),$n(a,s));break}}a=a.return}}function qP(s,a,h){var y=s.pingCache;y!==null&&y.delete(a),a=An(),s.pingedLanes|=s.suspendedLanes&h,tn===s&&(un&h)===h&&(Qt===4||Qt===3&&(un&130023424)===un&&500>Ft()-hh?vi(s,0):ph|=h),$n(s,a)}function b0(s,a){a===0&&((s.mode&1)===0?a=1:(a=Qi,Qi<<=1,(Qi&130023424)===0&&(Qi=4194304)));var h=An();s=oo(s,a),s!==null&&(ci(s,a,h),$n(s,h))}function GP(s){var a=s.memoizedState,h=0;a!==null&&(h=a.retryLane),b0(s,h)}function KP(s,a){var h=0;switch(s.tag){case 13:var y=s.stateNode,C=s.memoizedState;C!==null&&(h=C.retryLane);break;case 19:y=s.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(a),b0(s,h)}var S0;S0=function(s,a,h){if(s!==null)if(s.memoizedProps!==a.pendingProps||Dn.current)Ln=!0;else{if((s.lanes&h)===0&&(a.flags&128)===0)return Ln=!1,LP(s,a,h);Ln=(s.flags&131072)!==0}else Ln=!1,zt&&(a.flags&1048576)!==0&&tv(a,Yc,a.index);switch(a.lanes=0,a.tag){case 2:var y=a.type;lu(s,a),s=a.pendingProps;var C=cs(a,xn.current);ms(a,h),C=Wp(null,a,y,s,C,h);var j=Yp();return a.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,On(y)?(j=!0,Hc(a)):j=!1,a.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,zp(a),C.updater=iu,a.stateNode=C,C._reactInternals=a,Jp(a,y,s,h),a=nh(null,a,y,!0,j,h)):(a.tag=0,zt&&j&&_p(a),Pn(null,a,C,h),a=a.child),a;case 16:y=a.elementType;e:{switch(lu(s,a),s=a.pendingProps,C=y._init,y=C(y._payload),a.type=y,C=a.tag=JP(y),s=yr(y,s),C){case 0:a=th(null,a,y,s,h);break e;case 1:a=qv(null,a,y,s,h);break e;case 11:a=Hv(null,a,y,s,h);break e;case 14:a=Uv(null,a,y,yr(y.type,s),h);break e}throw Error(n(306,y,""))}return a;case 0:return y=a.type,C=a.pendingProps,C=a.elementType===y?C:yr(y,C),th(s,a,y,C,h);case 1:return y=a.type,C=a.pendingProps,C=a.elementType===y?C:yr(y,C),qv(s,a,y,C,h);case 3:e:{if(Gv(a),s===null)throw Error(n(387));y=a.pendingProps,j=a.memoizedState,C=j.element,uv(s,a),Jc(a,y,null,h);var O=a.memoizedState;if(y=O.element,j.isDehydrated)if(j={element:y,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},a.updateQueue.baseState=j,a.memoizedState=j,a.flags&256){C=xs(Error(n(423)),a),a=Kv(s,a,y,h,C);break e}else if(y!==C){C=xs(Error(n(424)),a),a=Kv(s,a,y,h,C);break e}else for(Xn=No(a.stateNode.containerInfo.firstChild),Yn=a,zt=!0,xr=null,h=av(a,null,y,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(fs(),y===C){a=so(s,a,h);break e}Pn(s,a,y,h)}a=a.child}return a;case 5:return pv(a),s===null&&Ip(a),y=a.type,C=a.pendingProps,j=s!==null?s.memoizedProps:null,O=C.children,Sp(y,C)?O=null:j!==null&&Sp(y,j)&&(a.flags|=32),Xv(s,a),Pn(s,a,O,h),a.child;case 6:return s===null&&Ip(a),null;case 13:return Qv(s,a,h);case 4:return $p(a,a.stateNode.containerInfo),y=a.pendingProps,s===null?a.child=ps(a,null,y,h):Pn(s,a,y,h),a.child;case 11:return y=a.type,C=a.pendingProps,C=a.elementType===y?C:yr(y,C),Hv(s,a,y,C,h);case 7:return Pn(s,a,a.pendingProps,h),a.child;case 8:return Pn(s,a,a.pendingProps.children,h),a.child;case 12:return Pn(s,a,a.pendingProps.children,h),a.child;case 10:e:{if(y=a.type._context,C=a.pendingProps,j=a.memoizedProps,O=C.value,Tt(Gc,y._currentValue),y._currentValue=O,j!==null)if(gr(j.value,O)){if(j.children===C.children&&!Dn.current){a=so(s,a,h);break e}}else for(j=a.child,j!==null&&(j.return=a);j!==null;){var ee=j.dependencies;if(ee!==null){O=j.child;for(var re=ee.firstContext;re!==null;){if(re.context===y){if(j.tag===1){re=io(-1,h&-h),re.tag=2;var de=j.updateQueue;if(de!==null){de=de.shared;var xe=de.pending;xe===null?re.next=re:(re.next=xe.next,xe.next=re),de.pending=re}}j.lanes|=h,re=j.alternate,re!==null&&(re.lanes|=h),Op(j.return,h,a),ee.lanes|=h;break}re=re.next}}else if(j.tag===10)O=j.type===a.type?null:j.child;else if(j.tag===18){if(O=j.return,O===null)throw Error(n(341));O.lanes|=h,ee=O.alternate,ee!==null&&(ee.lanes|=h),Op(O,h,a),O=j.sibling}else O=j.child;if(O!==null)O.return=j;else for(O=j;O!==null;){if(O===a){O=null;break}if(j=O.sibling,j!==null){j.return=O.return,O=j;break}O=O.return}j=O}Pn(s,a,C.children,h),a=a.child}return a;case 9:return C=a.type,y=a.pendingProps.children,ms(a,h),C=lr(C),y=y(C),a.flags|=1,Pn(s,a,y,h),a.child;case 14:return y=a.type,C=yr(y,a.pendingProps),C=yr(y.type,C),Uv(s,a,y,C,h);case 15:return Wv(s,a,a.type,a.pendingProps,h);case 17:return y=a.type,C=a.pendingProps,C=a.elementType===y?C:yr(y,C),lu(s,a),a.tag=1,On(y)?(s=!0,Hc(a)):s=!1,ms(a,h),Ov(a,y,C),Jp(a,y,C,h),nh(null,a,y,!0,s,h);case 19:return Zv(s,a,h);case 22:return Yv(s,a,h)}throw Error(n(156,a.tag))};function k0(s,a){return vc(s,a)}function QP(s,a,h,y){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(s,a,h,y){return new QP(s,a,h,y)}function Sh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function JP(s){if(typeof s=="function")return Sh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===q)return 11;if(s===F)return 14}return 2}function Oo(s,a){var h=s.alternate;return h===null?(h=ur(s.tag,a,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=a,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,a=s.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function yu(s,a,h,y,C,j){var O=2;if(y=s,typeof s=="function")Sh(s)&&(O=1);else if(typeof s=="string")O=5;else e:switch(s){case M:return bi(h.children,C,j,a);case z:O=8,C|=8;break;case Y:return s=ur(12,h,a,C|2),s.elementType=Y,s.lanes=j,s;case U:return s=ur(13,h,a,C),s.elementType=U,s.lanes=j,s;case A:return s=ur(19,h,a,C),s.elementType=A,s.lanes=j,s;case G:return vu(h,C,j,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:O=10;break e;case B:O=9;break e;case q:O=11;break e;case F:O=14;break e;case $:O=16,y=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=ur(O,h,a,C),a.elementType=s,a.type=y,a.lanes=j,a}function bi(s,a,h,y){return s=ur(7,s,y,a),s.lanes=h,s}function vu(s,a,h,y){return s=ur(22,s,y,a),s.elementType=G,s.lanes=h,s.stateNode={isHidden:!1},s}function kh(s,a,h){return s=ur(6,s,null,a),s.lanes=h,s}function Ch(s,a,h){return a=ur(4,s.children!==null?s.children:[],s.key,a),a.lanes=h,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function ZP(s,a,h,y,C){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=y,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Nh(s,a,h,y,C,j,O,ee,re){return s=new ZP(s,a,h,ee,re),a===1?(a=1,j===!0&&(a|=8)):a=0,j=ur(3,null,null,a),s.current=j,j.stateNode=s,j.memoizedState={element:y,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},zp(j),s}function eA(s,a,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:y==null?null:""+y,children:s,containerInfo:a,implementation:h}}function C0(s){if(!s)return jo;s=s._reactInternals;e:{if(Or(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(On(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var h=s.type;if(On(h))return Jy(s,h,a)}return a}function N0(s,a,h,y,C,j,O,ee,re){return s=Nh(h,y,!0,s,C,j,O,ee,re),s.context=C0(null),h=s.current,y=An(),C=Mo(h),j=io(y,C),j.callback=a??null,Ao(h,j,C),s.current.lanes=C,ci(s,C,y),$n(s,y),s}function wu(s,a,h,y){var C=a.current,j=An(),O=Mo(C);return h=C0(h),a.context===null?a.context=h:a.pendingContext=h,a=io(j,O),a.payload={element:s},y=y===void 0?null:y,y!==null&&(a.callback=y),s=Ao(C,a,O),s!==null&&(br(s,C,O,j),Qc(s,C,O)),O}function bu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function E0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<a?h:a}}function Eh(s,a){E0(s,a),(s=s.alternate)&&E0(s,a)}function tA(){return null}var j0=typeof reportError=="function"?reportError:function(s){console.error(s)};function jh(s){this._internalRoot=s}Su.prototype.render=jh.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));wu(s,a,null,null)},Su.prototype.unmount=jh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;yi(function(){wu(null,s,null,null)}),a[eo]=null}};function Su(s){this._internalRoot=s}Su.prototype.unstable_scheduleHydration=function(s){if(s){var a=uy();s={blockedOn:null,target:s,priority:a};for(var h=0;h<So.length&&a!==0&&a<So[h].priority;h++);So.splice(h,0,s),h===0&&py(s)}};function _h(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ku(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function _0(){}function nA(s,a,h,y,C){if(C){if(typeof y=="function"){var j=y;y=function(){var de=bu(O);j.call(de)}}var O=N0(a,y,s,0,null,!1,!1,"",_0);return s._reactRootContainer=O,s[eo]=O.current,Ml(s.nodeType===8?s.parentNode:s),yi(),O}for(;C=s.lastChild;)s.removeChild(C);if(typeof y=="function"){var ee=y;y=function(){var de=bu(re);ee.call(de)}}var re=Nh(s,0,!1,null,null,!1,!1,"",_0);return s._reactRootContainer=re,s[eo]=re.current,Ml(s.nodeType===8?s.parentNode:s),yi(function(){wu(a,re,h,y)}),re}function Cu(s,a,h,y,C){var j=h._reactRootContainer;if(j){var O=j;if(typeof C=="function"){var ee=C;C=function(){var re=bu(O);ee.call(re)}}wu(a,O,s,C)}else O=nA(h,a,s,C,y);return bu(O)}ay=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var h=Lr(a.pendingLanes);h!==0&&(Jf(a,h|1),$n(a,Ft()),(Nt&6)===0&&(ws=Ft()+500,_o()))}break;case 13:yi(function(){var y=oo(s,1);if(y!==null){var C=An();br(y,s,1,C)}}),Eh(s,1)}},Zf=function(s){if(s.tag===13){var a=oo(s,134217728);if(a!==null){var h=An();br(a,s,134217728,h)}Eh(s,134217728)}},cy=function(s){if(s.tag===13){var a=Mo(s),h=oo(s,a);if(h!==null){var y=An();br(h,s,a,y)}Eh(s,a)}},uy=function(){return Pt},dy=function(s,a){var h=Pt;try{return Pt=s,a()}finally{Pt=h}},se=function(s,a,h){switch(a){case"input":if(it(s,h),a=h.name,h.type==="radio"&&a!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var y=h[a];if(y!==s&&y.form===s.form){var C=Bc(y);if(!C)throw Error(n(90));fe(y),it(y,C)}}}break;case"textarea":_t(s,h);break;case"select":a=h.value,a!=null&&Ve(s,!!h.multiple,a,!1)}},at=vh,ht=yi;var rA={usingClientEntryPoint:!1,Events:[Ll,ls,Bc,lt,ft,vh]},Ql={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oA={bundleType:Ql.bundleType,version:Ql.version,rendererPackageName:Ql.rendererPackageName,rendererConfig:Ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=xc(s),s===null?null:s.stateNode},findFiberByHostInstance:Ql.findFiberByHostInstance||tA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{ai=Nu.inject(oA),or=Nu}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rA,Fn.createPortal=function(s,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_h(a))throw Error(n(200));return eA(s,a,null,h)},Fn.createRoot=function(s,a){if(!_h(s))throw Error(n(299));var h=!1,y="",C=j0;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(C=a.onRecoverableError)),a=Nh(s,1,!1,null,null,h,!1,y,C),s[eo]=a.current,Ml(s.nodeType===8?s.parentNode:s),new jh(a)},Fn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=xc(a),s=s===null?null:s.stateNode,s},Fn.flushSync=function(s){return yi(s)},Fn.hydrate=function(s,a,h){if(!ku(a))throw Error(n(200));return Cu(null,s,a,!0,h)},Fn.hydrateRoot=function(s,a,h){if(!_h(s))throw Error(n(405));var y=h!=null&&h.hydratedSources||null,C=!1,j="",O=j0;if(h!=null&&(h.unstable_strictMode===!0&&(C=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onRecoverableError!==void 0&&(O=h.onRecoverableError)),a=N0(a,null,s,1,h??null,C,!1,j,O),s[eo]=a.current,Ml(s),y)for(s=0;s<y.length;s++)h=y[s],C=h._getVersion,C=C(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,C]:a.mutableSourceEagerHydrationData.push(h,C);return new Su(a)},Fn.render=function(s,a,h){if(!ku(a))throw Error(n(200));return Cu(null,s,a,!1,h)},Fn.unmountComponentAtNode=function(s){if(!ku(s))throw Error(n(40));return s._reactRootContainer?(yi(function(){Cu(null,null,s,!1,function(){s._reactRootContainer=null,s[eo]=null})}),!0):!1},Fn.unstable_batchedUpdates=vh,Fn.unstable_renderSubtreeIntoContainer=function(s,a,h,y){if(!ku(h))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Cu(s,a,h,!1,y)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var O0;function rS(){if(O0)return Ih.exports;O0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ih.exports=fA(),Ih.exports}var L0;function pA(){if(L0)return Eu;L0=1;var e=rS();return Eu.createRoot=e.createRoot,Eu.hydrateRoot=e.hydrateRoot,Eu}var hA=pA();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),z0=e=>{const t=gA(e);return t.charAt(0).toUpperCase()+t.slice(1)},oS=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:l,...c},d)=>w.createElement("svg",{ref:d,...xA,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:oS("lucide",o),...c},[...l.map(([f,m])=>w.createElement(f,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(e,t)=>{const n=w.forwardRef(({className:r,...o},i)=>w.createElement(yA,{ref:i,iconNode:t,className:oS(`lucide-${mA(z0(e))}`,`lucide-${e}`,r),...o}));return n.displayName=z0(e),n};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],wA=ct("arrow-down",vA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],iS=ct("arrow-right",bA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],kA=ct("box",SA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sS=ct("check",CA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ho=ct("chevron-down",NA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],lS=ct("chevron-left",EA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ji=ct("chevron-right",jA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],PA=ct("chevron-up",_A);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],aS=ct("chevrons-left",AA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],cS=ct("chevrons-right",IA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],RA=ct("circle-help",TA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Tm=ct("circle-plus",MA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uS=ct("circle",DA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],_g=ct("clock",OA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],zA=ct("database",LA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],dS=ct("download",$A);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],BA=ct("eye-off",FA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HA=ct("eye",VA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]],WA=ct("fast-forward",UA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],XA=ct("file-up",YA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],GA=ct("folder-open",qA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],QA=ct("globe",KA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],pa=ct("grip-vertical",JA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],eI=ct("hash",ZA);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"M15 12h6",key:"upa0zy"}],["path",{d:"M15 6h6",key:"1jlkvy"}],["path",{d:"m3 13 3.553-7.724a.5.5 0 0 1 .894 0L11 13",key:"blevx4"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M4 11h6",key:"olkgv1"}]],nI=ct("letter-text",tI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],oI=ct("network",rI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],sI=ct("plane",iI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],aI=ct("play",lI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fS=ct("plus",cI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],dI=ct("rotate-ccw",uI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pI=ct("save",fI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],mI=ct("search",hI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],xI=ct("send",gI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pS=ct("settings",yI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],wI=ct("skip-forward",vI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],SI=ct("sparkles",bI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Zl=ct("square-pen",kI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["path",{d:"M4 10c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"4i38lg"}],["path",{d:"M10 16c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"mlte4a"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]],NI=ct("square-stack",CI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],hS=ct("square",EI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Jn=ct("trash-2",jI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],PI=ct("trash",_I);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Pg=ct("upload",AI);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],TI=ct("x",II),Bd=w.createContext(null);Bd.displayName="PanelGroupContext";const Wt={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Ag=10,Ii=w.useLayoutEffect,$0=Fd.useId,RI=typeof $0=="function"?$0:()=>null;let MI=0;function Ig(e=null){const t=RI(),n=w.useRef(e||t||null);return n.current===null&&(n.current=""+MI++),e??n.current}function mS({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:o,forwardedRef:i,id:l,maxSize:c,minSize:d,onCollapse:f,onExpand:m,onResize:p,order:g,style:x,tagName:b="div",...v}){const S=w.useContext(Bd);if(S===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:k,expandPanel:E,getPanelSize:N,getPanelStyle:_,groupId:T,isPanelCollapsed:P,reevaluatePanelConstraints:M,registerPanel:z,resizePanel:Y,unregisterPanel:L}=S,B=Ig(l),q=w.useRef({callbacks:{onCollapse:f,onExpand:m,onResize:p},constraints:{collapsedSize:n,collapsible:r,defaultSize:o,maxSize:c,minSize:d},id:B,idIsFromProps:l!==void 0,order:g});w.useRef({didLogMissingDefaultSizeWarning:!1}),Ii(()=>{const{callbacks:A,constraints:F}=q.current,$={...F};q.current.id=B,q.current.idIsFromProps=l!==void 0,q.current.order=g,A.onCollapse=f,A.onExpand=m,A.onResize=p,F.collapsedSize=n,F.collapsible=r,F.defaultSize=o,F.maxSize=c,F.minSize=d,($.collapsedSize!==F.collapsedSize||$.collapsible!==F.collapsible||$.maxSize!==F.maxSize||$.minSize!==F.minSize)&&M(q.current,$)}),Ii(()=>{const A=q.current;return z(A),()=>{L(A)}},[g,B,z,L]),w.useImperativeHandle(i,()=>({collapse:()=>{k(q.current)},expand:A=>{E(q.current,A)},getId(){return B},getSize(){return N(q.current)},isCollapsed(){return P(q.current)},isExpanded(){return!P(q.current)},resize:A=>{Y(q.current,A)}}),[k,E,N,P,B,Y]);const U=_(q.current,o);return w.createElement(b,{...v,children:e,className:t,id:B,style:{...U,...x},[Wt.groupId]:T,[Wt.panel]:"",[Wt.panelCollapsible]:r||void 0,[Wt.panelId]:B,[Wt.panelSize]:parseFloat(""+U.flexGrow).toFixed(1)})}const gS=w.forwardRef((e,t)=>w.createElement(mS,{...e,forwardedRef:t}));mS.displayName="Panel";gS.displayName="forwardRef(Panel)";let Rm=null,Qu=-1,Uo=null;function DI(e,t){if(t){const n=(t&bS)!==0,r=(t&SS)!==0,o=(t&kS)!==0,i=(t&CS)!==0;if(n)return o?"se-resize":i?"ne-resize":"e-resize";if(r)return o?"sw-resize":i?"nw-resize":"w-resize";if(o)return"s-resize";if(i)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function OI(){Uo!==null&&(document.head.removeChild(Uo),Rm=null,Uo=null,Qu=-1)}function Mh(e,t){var n,r;const o=DI(e,t);if(Rm!==o){if(Rm=o,Uo===null&&(Uo=document.createElement("style"),document.head.appendChild(Uo)),Qu>=0){var i;(i=Uo.sheet)===null||i===void 0||i.removeRule(Qu)}Qu=(n=(r=Uo.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${o} !important;}`))!==null&&n!==void 0?n:-1}}function xS(e){return e.type==="keydown"}function yS(e){return e.type.startsWith("pointer")}function vS(e){return e.type.startsWith("mouse")}function Vd(e){if(yS(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(vS(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function LI(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function zI(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function $I(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:V0(e),b:V0(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;pt(r,"Stacking order can only be calculated for elements with a common ancestor");const o={a:B0(F0(n.a)),b:B0(F0(n.b))};if(o.a===o.b){const i=r.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)};let c=i.length;for(;c--;){const d=i[c];if(d===l.a)return 1;if(d===l.b)return-1}}return Math.sign(o.a-o.b)}const FI=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function BI(e){var t;const n=getComputedStyle((t=wS(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function VI(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||BI(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||FI.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function F0(e){let t=e.length;for(;t--;){const n=e[t];if(pt(n,"Missing node"),VI(n))return n}return null}function B0(e){return e&&Number(getComputedStyle(e).zIndex)||0}function V0(e){const t=[];for(;e;)t.push(e),e=wS(e);return t}function wS(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const bS=1,SS=2,kS=4,CS=8,HI=LI()==="coarse";let _r=[],Os=!1,_i=new Map,Hd=new Map;const Ra=new Set;function UI(e,t,n,r,o){var i;const{ownerDocument:l}=t,c={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:o},d=(i=_i.get(l))!==null&&i!==void 0?i:0;return _i.set(l,d+1),Ra.add(c),ud(),function(){var m;Hd.delete(e),Ra.delete(c);const p=(m=_i.get(l))!==null&&m!==void 0?m:1;if(_i.set(l,p-1),ud(),p===1&&_i.delete(l),_r.includes(c)){const g=_r.indexOf(c);g>=0&&_r.splice(g,1),Rg(),o("up",!0,null)}}}function WI(e){const{target:t}=e,{x:n,y:r}=Vd(e);Os=!0,Tg({target:t,x:n,y:r}),ud(),_r.length>0&&(dd("down",e),e.preventDefault(),NS(t)||e.stopImmediatePropagation())}function Dh(e){const{x:t,y:n}=Vd(e);if(Os&&e.buttons===0&&(Os=!1,dd("up",e)),!Os){const{target:r}=e;Tg({target:r,x:t,y:n})}dd("move",e),Rg(),_r.length>0&&e.preventDefault()}function Oh(e){const{target:t}=e,{x:n,y:r}=Vd(e);Hd.clear(),Os=!1,_r.length>0&&(e.preventDefault(),NS(t)||e.stopImmediatePropagation()),dd("up",e),Tg({target:t,x:n,y:r}),Rg(),ud()}function NS(e){let t=e;for(;t;){if(t.hasAttribute(Wt.resizeHandle))return!0;t=t.parentElement}return!1}function Tg({target:e,x:t,y:n}){_r.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),Ra.forEach(o=>{const{element:i,hitAreaMargins:l}=o,c=i.getBoundingClientRect(),{bottom:d,left:f,right:m,top:p}=c,g=HI?l.coarse:l.fine;if(t>=f-g&&t<=m+g&&n>=p-g&&n<=d+g){if(r!==null&&document.contains(r)&&i!==r&&!i.contains(r)&&!r.contains(i)&&$I(r,i)>0){let b=r,v=!1;for(;b&&!b.contains(i);){if(zI(b.getBoundingClientRect(),c)){v=!0;break}b=b.parentElement}if(v)return}_r.push(o)}})}function Lh(e,t){Hd.set(e,t)}function Rg(){let e=!1,t=!1;_r.forEach(r=>{const{direction:o}=r;o==="horizontal"?e=!0:t=!0});let n=0;Hd.forEach(r=>{n|=r}),e&&t?Mh("intersection",n):e?Mh("horizontal",n):t?Mh("vertical",n):OI()}let zh=new AbortController;function ud(){zh.abort(),zh=new AbortController;const e={capture:!0,signal:zh.signal};Ra.size&&(Os?(_r.length>0&&_i.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("contextmenu",Oh,e),r.addEventListener("pointerleave",Dh,e),r.addEventListener("pointermove",Dh,e))}),window.addEventListener("pointerup",Oh,e),window.addEventListener("pointercancel",Oh,e)):_i.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("pointerdown",WI,e),r.addEventListener("pointermove",Dh,e))}))}function dd(e,t){Ra.forEach(n=>{const{setResizeHandlerState:r}=n,o=_r.includes(n);r(e,o,t)})}function YI(){const[e,t]=w.useState(0);return w.useCallback(()=>t(n=>n+1),[])}function pt(e,t){if(!e)throw console.error(t),Error(t)}function Mi(e,t,n=Ag){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function fo(e,t,n=Ag){return Mi(e,t,n)===0}function Kn(e,t,n){return Mi(e,t,n)===0}function XI(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const o=e[r],i=t[r];if(!Kn(o,i,n))return!1}return!0}function Ts({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];pt(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:o=0,collapsible:i,maxSize:l=100,minSize:c=0}=r;if(Mi(n,c)<0)if(i){const d=(o+c)/2;Mi(n,d)<0?n=o:n=c}else n=c;return n=Math.min(l,n),n=parseFloat(n.toFixed(Ag)),n}function ha({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:o,trigger:i}){if(Kn(e,0))return t;const l=[...t],[c,d]=r;pt(c!=null,"Invalid first pivot index"),pt(d!=null,"Invalid second pivot index");let f=0;if(i==="keyboard"){{const p=e<0?d:c,g=n[p];pt(g,`Panel constraints not found for index ${p}`);const{collapsedSize:x=0,collapsible:b,minSize:v=0}=g;if(b){const S=t[p];if(pt(S!=null,`Previous layout not found for panel index ${p}`),Kn(S,x)){const k=v-S;Mi(k,Math.abs(e))>0&&(e=e<0?0-k:k)}}}{const p=e<0?c:d,g=n[p];pt(g,`No panel constraints found for index ${p}`);const{collapsedSize:x=0,collapsible:b,minSize:v=0}=g;if(b){const S=t[p];if(pt(S!=null,`Previous layout not found for panel index ${p}`),Kn(S,v)){const k=S-x;Mi(k,Math.abs(e))>0&&(e=e<0?0-k:k)}}}}{const p=e<0?1:-1;let g=e<0?d:c,x=0;for(;;){const v=t[g];pt(v!=null,`Previous layout not found for panel index ${g}`);const k=Ts({panelConstraints:n,panelIndex:g,size:100})-v;if(x+=k,g+=p,g<0||g>=n.length)break}const b=Math.min(Math.abs(e),Math.abs(x));e=e<0?0-b:b}{let g=e<0?c:d;for(;g>=0&&g<n.length;){const x=Math.abs(e)-Math.abs(f),b=t[g];pt(b!=null,`Previous layout not found for panel index ${g}`);const v=b-x,S=Ts({panelConstraints:n,panelIndex:g,size:v});if(!Kn(b,S)&&(f+=b-S,l[g]=S,f.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?g--:g++}}if(XI(o,l))return o;{const p=e<0?d:c,g=t[p];pt(g!=null,`Previous layout not found for panel index ${p}`);const x=g+f,b=Ts({panelConstraints:n,panelIndex:p,size:x});if(l[p]=b,!Kn(b,x)){let v=x-b,k=e<0?d:c;for(;k>=0&&k<n.length;){const E=l[k];pt(E!=null,`Previous layout not found for panel index ${k}`);const N=E+v,_=Ts({panelConstraints:n,panelIndex:k,size:N});if(Kn(E,_)||(v-=_-E,l[k]=_),Kn(v,0))break;e>0?k--:k++}}}const m=l.reduce((p,g)=>g+p,0);return Kn(m,100)?l:o}function qI({layout:e,panelsArray:t,pivotIndices:n}){let r=0,o=100,i=0,l=0;const c=n[0];pt(c!=null,"No pivot index found"),t.forEach((p,g)=>{const{constraints:x}=p,{maxSize:b=100,minSize:v=0}=x;g===c?(r=v,o=b):(i+=v,l+=b)});const d=Math.min(o,100-i),f=Math.max(r,100-l),m=e[c];return{valueMax:d,valueMin:f,valueNow:m}}function Ma(e,t=document){return Array.from(t.querySelectorAll(`[${Wt.resizeHandleId}][data-panel-group-id="${e}"]`))}function ES(e,t,n=document){const o=Ma(e,n).findIndex(i=>i.getAttribute(Wt.resizeHandleId)===t);return o??null}function jS(e,t,n){const r=ES(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function _S(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function Ud(e,t=document){const n=t.querySelector(`[${Wt.resizeHandleId}="${e}"]`);return n||null}function GI(e,t,n,r=document){var o,i,l,c;const d=Ud(t,r),f=Ma(e,r),m=d?f.indexOf(d):-1,p=(o=(i=n[m])===null||i===void 0?void 0:i.id)!==null&&o!==void 0?o:null,g=(l=(c=n[m+1])===null||c===void 0?void 0:c.id)!==null&&l!==void 0?l:null;return[p,g]}function KI({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:o,panelGroupElement:i,setLayout:l}){w.useRef({didWarnAboutMissingResizeHandle:!1}),Ii(()=>{if(!i)return;const c=Ma(n,i);for(let d=0;d<o.length-1;d++){const{valueMax:f,valueMin:m,valueNow:p}=qI({layout:r,panelsArray:o,pivotIndices:[d,d+1]}),g=c[d];if(g!=null){const x=o[d];pt(x,`No panel data found for index "${d}"`),g.setAttribute("aria-controls",x.id),g.setAttribute("aria-valuemax",""+Math.round(f)),g.setAttribute("aria-valuemin",""+Math.round(m)),g.setAttribute("aria-valuenow",p!=null?""+Math.round(p):"")}}return()=>{c.forEach((d,f)=>{d.removeAttribute("aria-controls"),d.removeAttribute("aria-valuemax"),d.removeAttribute("aria-valuemin"),d.removeAttribute("aria-valuenow")})}},[n,r,o,i]),w.useEffect(()=>{if(!i)return;const c=t.current;pt(c,"Eager values not found");const{panelDataArray:d}=c,f=_S(n,i);pt(f!=null,`No group found for id "${n}"`);const m=Ma(n,i);pt(m,`No resize handles found for group id "${n}"`);const p=m.map(g=>{const x=g.getAttribute(Wt.resizeHandleId);pt(x,"Resize handle element has no handle id attribute");const[b,v]=GI(n,x,d,i);if(b==null||v==null)return()=>{};const S=k=>{if(!k.defaultPrevented)switch(k.key){case"Enter":{k.preventDefault();const E=d.findIndex(N=>N.id===b);if(E>=0){const N=d[E];pt(N,`No panel data found for index ${E}`);const _=r[E],{collapsedSize:T=0,collapsible:P,minSize:M=0}=N.constraints;if(_!=null&&P){const z=ha({delta:Kn(_,T)?M-T:T-_,initialLayout:r,panelConstraints:d.map(Y=>Y.constraints),pivotIndices:jS(n,x,i),prevLayout:r,trigger:"keyboard"});r!==z&&l(z)}}break}}};return g.addEventListener("keydown",S),()=>{g.removeEventListener("keydown",S)}});return()=>{p.forEach(g=>g())}},[i,e,t,n,r,o,l])}function H0(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function PS(e,t){const n=e==="horizontal",{x:r,y:o}=Vd(t);return n?r:o}function QI(e,t,n,r,o){const i=n==="horizontal",l=Ud(t,o);pt(l,`No resize handle element found for id "${t}"`);const c=l.getAttribute(Wt.groupId);pt(c,"Resize handle element has no group id attribute");let{initialCursorPosition:d}=r;const f=PS(n,e),m=_S(c,o);pt(m,`No group element found for id "${c}"`);const p=m.getBoundingClientRect(),g=i?p.width:p.height;return(f-d)/g*100}function JI(e,t,n,r,o,i){if(xS(e)){const l=n==="horizontal";let c=0;e.shiftKey?c=100:o!=null?c=o:c=10;let d=0;switch(e.key){case"ArrowDown":d=l?0:c;break;case"ArrowLeft":d=l?-c:0;break;case"ArrowRight":d=l?c:0;break;case"ArrowUp":d=l?0:-c;break;case"End":d=100;break;case"Home":d=-100;break}return d}else return r==null?0:QI(e,t,n,r,i)}function ZI({panelDataArray:e}){const t=Array(e.length),n=e.map(i=>i.constraints);let r=0,o=100;for(let i=0;i<e.length;i++){const l=n[i];pt(l,`Panel constraints not found for index ${i}`);const{defaultSize:c}=l;c!=null&&(r++,t[i]=c,o-=c)}for(let i=0;i<e.length;i++){const l=n[i];pt(l,`Panel constraints not found for index ${i}`);const{defaultSize:c}=l;if(c!=null)continue;const d=e.length-r,f=o/d;r++,t[i]=f,o-=f}return t}function Ss(e,t,n){t.forEach((r,o)=>{const i=e[o];pt(i,`Panel data not found for index ${o}`);const{callbacks:l,constraints:c,id:d}=i,{collapsedSize:f=0,collapsible:m}=c,p=n[d];if(p==null||r!==p){n[d]=r;const{onCollapse:g,onExpand:x,onResize:b}=l;b&&b(r,p),m&&(g||x)&&(x&&(p==null||fo(p,f))&&!fo(r,f)&&x(),g&&(p==null||!fo(p,f))&&fo(r,f)&&g())}})}function ju(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function eT({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:o,precision:i=3}){const l=n[o];let c;return l==null?c=e!=null?e.toPrecision(i):"1":r.length===1?c="1":c=l.toPrecision(i),{flexBasis:0,flexGrow:c,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function tT(e,t=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}function U0(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function AS(e){return`react-resizable-panels:${e}`}function IS(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:o,order:i}=t;return o?r:i?`${i}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function TS(e,t){try{const n=AS(e),r=t.getItem(n);if(r){const o=JSON.parse(r);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function nT(e,t,n){var r,o;const i=(r=TS(e,n))!==null&&r!==void 0?r:{},l=IS(t);return(o=i[l])!==null&&o!==void 0?o:null}function rT(e,t,n,r,o){var i;const l=AS(e),c=IS(t),d=(i=TS(e,o))!==null&&i!==void 0?i:{};d[c]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{o.setItem(l,JSON.stringify(d))}catch(f){console.error(f)}}function W0({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((i,l)=>i+l,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(i=>`${i}%`).join(", ")}`);if(!Kn(r,100)&&n.length>0)for(let i=0;i<t.length;i++){const l=n[i];pt(l!=null,`No layout data found for index ${i}`);const c=100/r*l;n[i]=c}let o=0;for(let i=0;i<t.length;i++){const l=n[i];pt(l!=null,`No layout data found for index ${i}`);const c=Ts({panelConstraints:t,panelIndex:i,size:l});l!=c&&(o+=l-c,n[i]=c)}if(!Kn(o,0))for(let i=0;i<t.length;i++){const l=n[i];pt(l!=null,`No layout data found for index ${i}`);const c=l+o,d=Ts({panelConstraints:t,panelIndex:i,size:c});if(l!==d&&(o-=d-l,n[i]=d,Kn(o,0)))break}return n}const oT=100,ma={getItem:e=>(U0(ma),ma.getItem(e)),setItem:(e,t)=>{U0(ma),ma.setItem(e,t)}},Y0={};function RS({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:o,id:i=null,onLayout:l=null,keyboardResizeBy:c=null,storage:d=ma,style:f,tagName:m="div",...p}){const g=Ig(i),x=w.useRef(null),[b,v]=w.useState(null),[S,k]=w.useState([]),E=YI(),N=w.useRef({}),_=w.useRef(new Map),T=w.useRef(0),P=w.useRef({autoSaveId:e,direction:r,dragState:b,id:g,keyboardResizeBy:c,onLayout:l,storage:d}),M=w.useRef({layout:S,panelDataArray:[],panelDataArrayChanged:!1});w.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),w.useImperativeHandle(o,()=>({getId:()=>P.current.id,getLayout:()=>{const{layout:I}=M.current;return I},setLayout:I=>{const{onLayout:V}=P.current,{layout:J,panelDataArray:Z}=M.current,K=W0({layout:I,panelConstraints:Z.map(te=>te.constraints)});H0(J,K)||(k(K),M.current.layout=K,V&&V(K),Ss(Z,K,N.current))}}),[]),Ii(()=>{P.current.autoSaveId=e,P.current.direction=r,P.current.dragState=b,P.current.id=g,P.current.onLayout=l,P.current.storage=d}),KI({committedValuesRef:P,eagerValuesRef:M,groupId:g,layout:S,panelDataArray:M.current.panelDataArray,setLayout:k,panelGroupElement:x.current}),w.useEffect(()=>{const{panelDataArray:I}=M.current;if(e){if(S.length===0||S.length!==I.length)return;let V=Y0[e];V==null&&(V=tT(rT,oT),Y0[e]=V);const J=[...I],Z=new Map(_.current);V(e,J,Z,S,d)}},[e,S,d]),w.useEffect(()=>{});const z=w.useCallback(I=>{const{onLayout:V}=P.current,{layout:J,panelDataArray:Z}=M.current;if(I.constraints.collapsible){const K=Z.map(ue=>ue.constraints),{collapsedSize:te=0,panelSize:Q,pivotIndices:ie}=Si(Z,I,J);if(pt(Q!=null,`Panel size not found for panel "${I.id}"`),!fo(Q,te)){_.current.set(I.id,Q);const fe=As(Z,I)===Z.length-1?Q-te:te-Q,pe=ha({delta:fe,initialLayout:J,panelConstraints:K,pivotIndices:ie,prevLayout:J,trigger:"imperative-api"});ju(J,pe)||(k(pe),M.current.layout=pe,V&&V(pe),Ss(Z,pe,N.current))}}},[]),Y=w.useCallback((I,V)=>{const{onLayout:J}=P.current,{layout:Z,panelDataArray:K}=M.current;if(I.constraints.collapsible){const te=K.map(we=>we.constraints),{collapsedSize:Q=0,panelSize:ie=0,minSize:ue=0,pivotIndices:fe}=Si(K,I,Z),pe=V??ue;if(fo(ie,Q)){const we=_.current.get(I.id),De=we!=null&&we>=pe?we:pe,it=As(K,I)===K.length-1?ie-De:De-ie,Ze=ha({delta:it,initialLayout:Z,panelConstraints:te,pivotIndices:fe,prevLayout:Z,trigger:"imperative-api"});ju(Z,Ze)||(k(Ze),M.current.layout=Ze,J&&J(Ze),Ss(K,Ze,N.current))}}},[]),L=w.useCallback(I=>{const{layout:V,panelDataArray:J}=M.current,{panelSize:Z}=Si(J,I,V);return pt(Z!=null,`Panel size not found for panel "${I.id}"`),Z},[]),B=w.useCallback((I,V)=>{const{panelDataArray:J}=M.current,Z=As(J,I);return eT({defaultSize:V,dragState:b,layout:S,panelData:J,panelIndex:Z})},[b,S]),q=w.useCallback(I=>{const{layout:V,panelDataArray:J}=M.current,{collapsedSize:Z=0,collapsible:K,panelSize:te}=Si(J,I,V);return pt(te!=null,`Panel size not found for panel "${I.id}"`),K===!0&&fo(te,Z)},[]),U=w.useCallback(I=>{const{layout:V,panelDataArray:J}=M.current,{collapsedSize:Z=0,collapsible:K,panelSize:te}=Si(J,I,V);return pt(te!=null,`Panel size not found for panel "${I.id}"`),!K||Mi(te,Z)>0},[]),A=w.useCallback(I=>{const{panelDataArray:V}=M.current;V.push(I),V.sort((J,Z)=>{const K=J.order,te=Z.order;return K==null&&te==null?0:K==null?-1:te==null?1:K-te}),M.current.panelDataArrayChanged=!0,E()},[E]);Ii(()=>{if(M.current.panelDataArrayChanged){M.current.panelDataArrayChanged=!1;const{autoSaveId:I,onLayout:V,storage:J}=P.current,{layout:Z,panelDataArray:K}=M.current;let te=null;if(I){const ie=nT(I,K,J);ie&&(_.current=new Map(Object.entries(ie.expandToSizes)),te=ie.layout)}te==null&&(te=ZI({panelDataArray:K}));const Q=W0({layout:te,panelConstraints:K.map(ie=>ie.constraints)});H0(Z,Q)||(k(Q),M.current.layout=Q,V&&V(Q),Ss(K,Q,N.current))}}),Ii(()=>{const I=M.current;return()=>{I.layout=[]}},[]);const F=w.useCallback(I=>{let V=!1;const J=x.current;return J&&window.getComputedStyle(J,null).getPropertyValue("direction")==="rtl"&&(V=!0),function(K){K.preventDefault();const te=x.current;if(!te)return()=>null;const{direction:Q,dragState:ie,id:ue,keyboardResizeBy:fe,onLayout:pe}=P.current,{layout:we,panelDataArray:De}=M.current,{initialLayout:Oe}=ie??{},it=jS(ue,I,te);let Ze=JI(K,I,Q,ie,fe,te);const Qe=Q==="horizontal";Qe&&V&&(Ze=-Ze);const Ce=De.map(bt=>bt.constraints),Ve=ha({delta:Ze,initialLayout:Oe??we,panelConstraints:Ce,pivotIndices:it,prevLayout:we,trigger:xS(K)?"keyboard":"mouse-or-touch"}),ut=!ju(we,Ve);(yS(K)||vS(K))&&T.current!=Ze&&(T.current=Ze,!ut&&Ze!==0?Qe?Lh(I,Ze<0?bS:SS):Lh(I,Ze<0?kS:CS):Lh(I,0)),ut&&(k(Ve),M.current.layout=Ve,pe&&pe(Ve),Ss(De,Ve,N.current))}},[]),$=w.useCallback((I,V)=>{const{onLayout:J}=P.current,{layout:Z,panelDataArray:K}=M.current,te=K.map(we=>we.constraints),{panelSize:Q,pivotIndices:ie}=Si(K,I,Z);pt(Q!=null,`Panel size not found for panel "${I.id}"`);const fe=As(K,I)===K.length-1?Q-V:V-Q,pe=ha({delta:fe,initialLayout:Z,panelConstraints:te,pivotIndices:ie,prevLayout:Z,trigger:"imperative-api"});ju(Z,pe)||(k(pe),M.current.layout=pe,J&&J(pe),Ss(K,pe,N.current))},[]),G=w.useCallback((I,V)=>{const{layout:J,panelDataArray:Z}=M.current,{collapsedSize:K=0,collapsible:te}=V,{collapsedSize:Q=0,collapsible:ie,maxSize:ue=100,minSize:fe=0}=I.constraints,{panelSize:pe}=Si(Z,I,J);pe!=null&&(te&&ie&&fo(pe,K)?fo(K,Q)||$(I,Q):pe<fe?$(I,fe):pe>ue&&$(I,ue))},[$]),D=w.useCallback((I,V)=>{const{direction:J}=P.current,{layout:Z}=M.current;if(!x.current)return;const K=Ud(I,x.current);pt(K,`Drag handle element not found for id "${I}"`);const te=PS(J,V);v({dragHandleId:I,dragHandleRect:K.getBoundingClientRect(),initialCursorPosition:te,initialLayout:Z})},[]),W=w.useCallback(()=>{v(null)},[]),R=w.useCallback(I=>{const{panelDataArray:V}=M.current,J=As(V,I);J>=0&&(V.splice(J,1),delete N.current[I.id],M.current.panelDataArrayChanged=!0,E())},[E]),H=w.useMemo(()=>({collapsePanel:z,direction:r,dragState:b,expandPanel:Y,getPanelSize:L,getPanelStyle:B,groupId:g,isPanelCollapsed:q,isPanelExpanded:U,reevaluatePanelConstraints:G,registerPanel:A,registerResizeHandle:F,resizePanel:$,startDragging:D,stopDragging:W,unregisterPanel:R,panelGroupElement:x.current}),[z,b,r,Y,L,B,g,q,U,G,A,F,$,D,W,R]),X={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return w.createElement(Bd.Provider,{value:H},w.createElement(m,{...p,children:t,className:n,id:i,ref:x,style:{...X,...f},[Wt.group]:"",[Wt.groupDirection]:r,[Wt.groupId]:g}))}const MS=w.forwardRef((e,t)=>w.createElement(RS,{...e,forwardedRef:t}));RS.displayName="PanelGroup";MS.displayName="forwardRef(PanelGroup)";function As(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function Si(e,t,n){const r=As(e,t),i=r===e.length-1?[r-1,r]:[r,r+1],l=n[r];return{...t.constraints,panelSize:l,pivotIndices:i}}function iT({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){w.useEffect(()=>{if(e||n==null||r==null)return;const o=Ud(t,r);if(o==null)return;const i=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),n(l);break}case"F6":{l.preventDefault();const c=o.getAttribute(Wt.groupId);pt(c,`No group element found for id "${c}"`);const d=Ma(c,r),f=ES(c,t,r);pt(f!==null,`No resize element found for id "${t}"`);const m=l.shiftKey?f>0?f-1:d.length-1:f+1<d.length?f+1:0;d[m].focus();break}}};return o.addEventListener("keydown",i),()=>{o.removeEventListener("keydown",i)}},[r,e,t,n])}function DS({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:o,onBlur:i,onClick:l,onDragging:c,onFocus:d,onPointerDown:f,onPointerUp:m,style:p={},tabIndex:g=0,tagName:x="div",...b}){var v,S;const k=w.useRef(null),E=w.useRef({onClick:l,onDragging:c,onPointerDown:f,onPointerUp:m});w.useEffect(()=>{E.current.onClick=l,E.current.onDragging=c,E.current.onPointerDown=f,E.current.onPointerUp=m});const N=w.useContext(Bd);if(N===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:_,groupId:T,registerResizeHandle:P,startDragging:M,stopDragging:z,panelGroupElement:Y}=N,L=Ig(o),[B,q]=w.useState("inactive"),[U,A]=w.useState(!1),[F,$]=w.useState(null),G=w.useRef({state:B});Ii(()=>{G.current.state=B}),w.useEffect(()=>{if(n)$(null);else{const H=P(L);$(()=>H)}},[n,L,P]);const D=(v=r==null?void 0:r.coarse)!==null&&v!==void 0?v:15,W=(S=r==null?void 0:r.fine)!==null&&S!==void 0?S:5;w.useEffect(()=>{if(n||F==null)return;const H=k.current;pt(H,"Element ref not attached");let X=!1;return UI(L,H,_,{coarse:D,fine:W},(V,J,Z)=>{if(!J){q("inactive");return}switch(V){case"down":{q("drag"),X=!1,pt(Z,'Expected event to be defined for "down" action'),M(L,Z);const{onDragging:K,onPointerDown:te}=E.current;K==null||K(!0),te==null||te();break}case"move":{const{state:K}=G.current;X=!0,K!=="drag"&&q("hover"),pt(Z,'Expected event to be defined for "move" action'),F(Z);break}case"up":{q("hover"),z();const{onClick:K,onDragging:te,onPointerUp:Q}=E.current;te==null||te(!1),Q==null||Q(),X||K==null||K();break}}})},[D,_,n,W,P,L,F,M,z]),iT({disabled:n,handleId:L,resizeHandler:F,panelGroupElement:Y});const R={touchAction:"none",userSelect:"none"};return w.createElement(x,{...b,children:e,className:t,id:o,onBlur:()=>{A(!1),i==null||i()},onFocus:()=>{A(!0),d==null||d()},ref:k,role:"separator",style:{...R,...p},tabIndex:g,[Wt.groupDirection]:_,[Wt.groupId]:T,[Wt.resizeHandle]:"",[Wt.resizeHandleActive]:B==="drag"?"pointer":U?"keyboard":void 0,[Wt.resizeHandleEnabled]:!n,[Wt.resizeHandleId]:L,[Wt.resizeHandleState]:B})}DS.displayName="PanelResizeHandle";function OS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=OS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function LS(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=OS(e))&&(r&&(r+=" "),r+=t);return r}const sT=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},lT=(e,t)=>({classGroupId:e,validator:t}),zS=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),fd="-",X0=[],aT="arbitrary..",cT=e=>{const t=dT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return uT(l);const c=l.split(fd),d=c[0]===""&&c.length>1?1:0;return $S(c,d,t)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=n[l];return d?f?sT(f,d):d:f||X0}return n[l]||X0}}},$S=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const o=e[t],i=n.nextPart.get(o);if(i){const f=$S(e,t+1,i);if(f)return f}const l=n.validators;if(l===null)return;const c=t===0?e.join(fd):e.slice(t).join(fd),d=l.length;for(let f=0;f<d;f++){const m=l[f];if(m.validator(c))return m.classGroupId}},uT=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?aT+r:void 0})(),dT=e=>{const{theme:t,classGroups:n}=e;return fT(n,t)},fT=(e,t)=>{const n=zS();for(const r in e){const o=e[r];Mg(o,n,r,t)}return n},Mg=(e,t,n,r)=>{const o=e.length;for(let i=0;i<o;i++){const l=e[i];pT(l,t,n,r)}},pT=(e,t,n,r)=>{if(typeof e=="string"){hT(e,t,n);return}if(typeof e=="function"){mT(e,t,n,r);return}gT(e,t,n,r)},hT=(e,t,n)=>{const r=e===""?t:FS(t,e);r.classGroupId=n},mT=(e,t,n,r)=>{if(xT(e)){Mg(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(lT(n,e))},gT=(e,t,n,r)=>{const o=Object.entries(e),i=o.length;for(let l=0;l<i;l++){const[c,d]=o[l];Mg(d,FS(t,c),n,r)}},FS=(e,t)=>{let n=e;const r=t.split(fd),o=r.length;for(let i=0;i<o;i++){const l=r[i];let c=n.nextPart.get(l);c||(c=zS(),n.nextPart.set(l,c)),n=c}return n},xT=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,yT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const o=(i,l)=>{n[i]=l,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(i){let l=n[i];if(l!==void 0)return l;if((l=r[i])!==void 0)return o(i,l),l},set(i,l){i in n?n[i]=l:o(i,l)}}},Mm="!",q0=":",vT=[],G0=(e,t,n,r,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),wT=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const i=[];let l=0,c=0,d=0,f;const m=o.length;for(let v=0;v<m;v++){const S=o[v];if(l===0&&c===0){if(S===q0){i.push(o.slice(d,v)),d=v+1;continue}if(S==="/"){f=v;continue}}S==="["?l++:S==="]"?l--:S==="("?c++:S===")"&&c--}const p=i.length===0?o:o.slice(d);let g=p,x=!1;p.endsWith(Mm)?(g=p.slice(0,-1),x=!0):p.startsWith(Mm)&&(g=p.slice(1),x=!0);const b=f&&f>d?f-d:void 0;return G0(i,x,g,b)};if(t){const o=t+q0,i=r;r=l=>l.startsWith(o)?i(l.slice(o.length)):G0(vT,!1,l,void 0,!0)}if(n){const o=r;r=i=>n({className:i,parseClassName:o})}return r},bT=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let o=[];for(let i=0;i<n.length;i++){const l=n[i],c=l[0]==="[",d=t.has(l);c||d?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(l)):o.push(l)}return o.length>0&&(o.sort(),r.push(...o)),r}},ST=e=>({cache:yT(e.cacheSize),parseClassName:wT(e),sortModifiers:bT(e),...cT(e)}),kT=/\s+/,CT=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:i}=t,l=[],c=e.trim().split(kT);let d="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{isExternal:p,modifiers:g,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:v}=n(m);if(p){d=m+(d.length>0?" "+d:d);continue}let S=!!v,k=r(S?b.substring(0,v):b);if(!k){if(!S){d=m+(d.length>0?" "+d:d);continue}if(k=r(b),!k){d=m+(d.length>0?" "+d:d);continue}S=!1}const E=g.length===0?"":g.length===1?g[0]:i(g).join(":"),N=x?E+Mm:E,_=N+k;if(l.indexOf(_)>-1)continue;l.push(_);const T=o(k,S);for(let P=0;P<T.length;++P){const M=T[P];l.push(N+M)}d=m+(d.length>0?" "+d:d)}return d},NT=(...e)=>{let t=0,n,r,o="";for(;t<e.length;)(n=e[t++])&&(r=BS(n))&&(o&&(o+=" "),o+=r);return o},BS=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=BS(e[r]))&&(n&&(n+=" "),n+=t);return n},ET=(e,...t)=>{let n,r,o,i;const l=d=>{const f=t.reduce((m,p)=>p(m),e());return n=ST(f),r=n.cache.get,o=n.cache.set,i=c,c(d)},c=d=>{const f=r(d);if(f)return f;const m=CT(d,n);return o(d,m),m};return i=l,(...d)=>i(NT(...d))},jT=[],Jt=e=>{const t=n=>n[e]||jT;return t.isThemeGetter=!0,t},VS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,HS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_T=/^\d+\/\d+$/,PT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,TT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ks=e=>_T.test(e),mt=e=>!!e&&!Number.isNaN(Number(e)),zo=e=>!!e&&Number.isInteger(Number(e)),$h=e=>e.endsWith("%")&&mt(e.slice(0,-1)),ao=e=>PT.test(e),MT=()=>!0,DT=e=>AT.test(e)&&!IT.test(e),US=()=>!1,OT=e=>TT.test(e),LT=e=>RT.test(e),zT=e=>!Re(e)&&!Me(e),$T=e=>rl(e,XS,US),Re=e=>VS.test(e),ki=e=>rl(e,qS,DT),Fh=e=>rl(e,UT,mt),K0=e=>rl(e,WS,US),FT=e=>rl(e,YS,LT),_u=e=>rl(e,GS,OT),Me=e=>HS.test(e),ea=e=>ol(e,qS),BT=e=>ol(e,WT),Q0=e=>ol(e,WS),VT=e=>ol(e,XS),HT=e=>ol(e,YS),Pu=e=>ol(e,GS,!0),rl=(e,t,n)=>{const r=VS.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},ol=(e,t,n=!1)=>{const r=HS.exec(e);return r?r[1]?t(r[1]):n:!1},WS=e=>e==="position"||e==="percentage",YS=e=>e==="image"||e==="url",XS=e=>e==="length"||e==="size"||e==="bg-size",qS=e=>e==="length",UT=e=>e==="number",WT=e=>e==="family-name",GS=e=>e==="shadow",YT=()=>{const e=Jt("color"),t=Jt("font"),n=Jt("text"),r=Jt("font-weight"),o=Jt("tracking"),i=Jt("leading"),l=Jt("breakpoint"),c=Jt("container"),d=Jt("spacing"),f=Jt("radius"),m=Jt("shadow"),p=Jt("inset-shadow"),g=Jt("text-shadow"),x=Jt("drop-shadow"),b=Jt("blur"),v=Jt("perspective"),S=Jt("aspect"),k=Jt("ease"),E=Jt("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[..._(),Me,Re],P=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],z=()=>[Me,Re,d],Y=()=>[ks,"full","auto",...z()],L=()=>[zo,"none","subgrid",Me,Re],B=()=>["auto",{span:["full",zo,Me,Re]},zo,Me,Re],q=()=>[zo,"auto",Me,Re],U=()=>["auto","min","max","fr",Me,Re],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...z()],G=()=>[ks,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],D=()=>[e,Me,Re],W=()=>[..._(),Q0,K0,{position:[Me,Re]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",VT,$T,{size:[Me,Re]}],X=()=>[$h,ea,ki],I=()=>["","none","full",f,Me,Re],V=()=>["",mt,ea,ki],J=()=>["solid","dashed","dotted","double"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[mt,$h,Q0,K0],te=()=>["","none",b,Me,Re],Q=()=>["none",mt,Me,Re],ie=()=>["none",mt,Me,Re],ue=()=>[mt,Me,Re],fe=()=>[ks,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ao],breakpoint:[ao],color:[MT],container:[ao],"drop-shadow":[ao],ease:["in","out","in-out"],font:[zT],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ao],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ao],shadow:[ao],spacing:["px",mt],text:[ao],"text-shadow":[ao],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ks,Re,Me,S]}],container:["container"],columns:[{columns:[mt,Re,Me,c]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Y()}],"inset-x":[{"inset-x":Y()}],"inset-y":[{"inset-y":Y()}],start:[{start:Y()}],end:[{end:Y()}],top:[{top:Y()}],right:[{right:Y()}],bottom:[{bottom:Y()}],left:[{left:Y()}],visibility:["visible","invisible","collapse"],z:[{z:[zo,"auto",Me,Re]}],basis:[{basis:[ks,"full","auto",c,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[mt,ks,"auto","initial","none",Re]}],grow:[{grow:["",mt,Me,Re]}],shrink:[{shrink:["",mt,Me,Re]}],order:[{order:[zo,"first","last","none",Me,Re]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[c,"screen",...G()]}],"min-w":[{"min-w":[c,"screen","none",...G()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,ea,ki]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Me,Fh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",$h,Re]}],"font-family":[{font:[BT,Re,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Me,Re]}],"line-clamp":[{"line-clamp":[mt,"none",Me,Fh]}],leading:[{leading:[i,...z()]}],"list-image":[{"list-image":["none",Me,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[mt,"from-font","auto",Me,ki]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[mt,"auto",Me,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zo,Me,Re],radial:["",Me,Re],conic:[zo,Me,Re]},HT,FT]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:I()}],"rounded-s":[{"rounded-s":I()}],"rounded-e":[{"rounded-e":I()}],"rounded-t":[{"rounded-t":I()}],"rounded-r":[{"rounded-r":I()}],"rounded-b":[{"rounded-b":I()}],"rounded-l":[{"rounded-l":I()}],"rounded-ss":[{"rounded-ss":I()}],"rounded-se":[{"rounded-se":I()}],"rounded-ee":[{"rounded-ee":I()}],"rounded-es":[{"rounded-es":I()}],"rounded-tl":[{"rounded-tl":I()}],"rounded-tr":[{"rounded-tr":I()}],"rounded-br":[{"rounded-br":I()}],"rounded-bl":[{"rounded-bl":I()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[mt,Me,Re]}],"outline-w":[{outline:["",mt,ea,ki]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",m,Pu,_u]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",p,Pu,_u]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[mt,ki]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",g,Pu,_u]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[mt,Me,Re]}],"mix-blend":[{"mix-blend":[...Z(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Z()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[mt]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[Me,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[mt]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,Re]}],filter:[{filter:["","none",Me,Re]}],blur:[{blur:te()}],brightness:[{brightness:[mt,Me,Re]}],contrast:[{contrast:[mt,Me,Re]}],"drop-shadow":[{"drop-shadow":["","none",x,Pu,_u]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",mt,Me,Re]}],"hue-rotate":[{"hue-rotate":[mt,Me,Re]}],invert:[{invert:["",mt,Me,Re]}],saturate:[{saturate:[mt,Me,Re]}],sepia:[{sepia:["",mt,Me,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,Re]}],"backdrop-blur":[{"backdrop-blur":te()}],"backdrop-brightness":[{"backdrop-brightness":[mt,Me,Re]}],"backdrop-contrast":[{"backdrop-contrast":[mt,Me,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",mt,Me,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[mt,Me,Re]}],"backdrop-invert":[{"backdrop-invert":["",mt,Me,Re]}],"backdrop-opacity":[{"backdrop-opacity":[mt,Me,Re]}],"backdrop-saturate":[{"backdrop-saturate":[mt,Me,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",mt,Me,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[mt,"initial",Me,Re]}],ease:[{ease:["linear","initial",k,Me,Re]}],delay:[{delay:[mt,Me,Re]}],animate:[{animate:["none",E,Me,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,Me,Re]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:Q()}],"rotate-x":[{"rotate-x":Q()}],"rotate-y":[{"rotate-y":Q()}],"rotate-z":[{"rotate-z":Q()}],scale:[{scale:ie()}],"scale-x":[{"scale-x":ie()}],"scale-y":[{"scale-y":ie()}],"scale-z":[{"scale-z":ie()}],"scale-3d":["scale-3d"],skew:[{skew:ue()}],"skew-x":[{"skew-x":ue()}],"skew-y":[{"skew-y":ue()}],transform:[{transform:[Me,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,Re]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[mt,ea,ki,Fh]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},XT=ET(YT);function Ye(...e){return XT(LS(e))}function J0({className:e,...t}){return u.jsx(MS,{"data-slot":"resizable-panel-group",className:Ye("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function ka({...e}){return u.jsx(gS,{"data-slot":"resizable-panel",...e})}function Z0({withHandle:e,className:t,...n}){return u.jsx(DS,{"data-slot":"resizable-handle",className:Ye("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&u.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:u.jsx(pa,{className:"size-2.5"})})})}const ew=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const g=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,g))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,o,c);return c},qT=e=>e?ew(e):ew,GT=e=>e;function KT(e,t=GT){const n=He.useSyncExternalStore(e.subscribe,He.useCallback(()=>t(e.getState()),[e,t]),He.useCallback(()=>t(e.getInitialState()),[e,t]));return He.useDebugValue(n),n}const tw=e=>{const t=qT(e),n=r=>KT(t,r);return Object.assign(n,t),n},QT=e=>e?tw(e):tw,dn=[];for(let e=0;e<256;++e)dn.push((e+256).toString(16).slice(1));function JT(e,t=0){return(dn[e[t+0]]+dn[e[t+1]]+dn[e[t+2]]+dn[e[t+3]]+"-"+dn[e[t+4]]+dn[e[t+5]]+"-"+dn[e[t+6]]+dn[e[t+7]]+"-"+dn[e[t+8]]+dn[e[t+9]]+"-"+dn[e[t+10]]+dn[e[t+11]]+dn[e[t+12]]+dn[e[t+13]]+dn[e[t+14]]+dn[e[t+15]]).toLowerCase()}let Bh;const ZT=new Uint8Array(16);function eR(){if(!Bh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Bh=crypto.getRandomValues.bind(crypto)}return Bh(ZT)}const tR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nw={randomUUID:tR};function nR(e,t,n){var o;e=e||{};const r=e.random??((o=e.rng)==null?void 0:o.call(e))??eR();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,JT(r)}function ot(e,t,n){return nw.randomUUID?nw.randomUUID():nR(e)}function Gt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Gt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var rR={value:()=>{}};function Wd(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ju(n)}function Ju(e){this._=e}function oR(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ju.prototype=Wd.prototype={constructor:Ju,on:function(e,t){var n=this._,r=oR(e+"",n),o,i=-1,l=r.length;if(arguments.length<2){for(;++i<l;)if((o=(e=r[i]).type)&&(o=iR(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<l;)if(o=(e=r[i]).type)n[o]=rw(n[o],e.name,t);else if(t==null)for(o in n)n[o]=rw(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ju(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function iR(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function rw(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=rR,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Dm="http://www.w3.org/1999/xhtml";const ow={svg:"http://www.w3.org/2000/svg",xhtml:Dm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yd(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ow.hasOwnProperty(t)?{space:ow[t],local:e}:e}function sR(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Dm&&t.documentElement.namespaceURI===Dm?t.createElement(e):t.createElementNS(n,e)}}function lR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function KS(e){var t=Yd(e);return(t.local?lR:sR)(t)}function aR(){}function Dg(e){return e==null?aR:function(){return this.querySelector(e)}}function cR(e){typeof e!="function"&&(e=Dg(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],l=i.length,c=r[o]=new Array(l),d,f,m=0;m<l;++m)(d=i[m])&&(f=e.call(d,d.__data__,m,i))&&("__data__"in d&&(f.__data__=d.__data__),c[m]=f);return new rr(r,this._parents)}function uR(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function dR(){return[]}function QS(e){return e==null?dR:function(){return this.querySelectorAll(e)}}function fR(e){return function(){return uR(e.apply(this,arguments))}}function pR(e){typeof e=="function"?e=fR(e):e=QS(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var l=t[i],c=l.length,d,f=0;f<c;++f)(d=l[f])&&(r.push(e.call(d,d.__data__,f,l)),o.push(d));return new rr(r,o)}function JS(e){return function(){return this.matches(e)}}function ZS(e){return function(t){return t.matches(e)}}var hR=Array.prototype.find;function mR(e){return function(){return hR.call(this.children,e)}}function gR(){return this.firstElementChild}function xR(e){return this.select(e==null?gR:mR(typeof e=="function"?e:ZS(e)))}var yR=Array.prototype.filter;function vR(){return Array.from(this.children)}function wR(e){return function(){return yR.call(this.children,e)}}function bR(e){return this.selectAll(e==null?vR:wR(typeof e=="function"?e:ZS(e)))}function SR(e){typeof e!="function"&&(e=JS(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],l=i.length,c=r[o]=[],d,f=0;f<l;++f)(d=i[f])&&e.call(d,d.__data__,f,i)&&c.push(d);return new rr(r,this._parents)}function ek(e){return new Array(e.length)}function kR(){return new rr(this._enter||this._groups.map(ek),this._parents)}function pd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}pd.prototype={constructor:pd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function CR(e){return function(){return e}}function NR(e,t,n,r,o,i){for(var l=0,c,d=t.length,f=i.length;l<f;++l)(c=t[l])?(c.__data__=i[l],r[l]=c):n[l]=new pd(e,i[l]);for(;l<d;++l)(c=t[l])&&(o[l]=c)}function ER(e,t,n,r,o,i,l){var c,d,f=new Map,m=t.length,p=i.length,g=new Array(m),x;for(c=0;c<m;++c)(d=t[c])&&(g[c]=x=l.call(d,d.__data__,c,t)+"",f.has(x)?o[c]=d:f.set(x,d));for(c=0;c<p;++c)x=l.call(e,i[c],c,i)+"",(d=f.get(x))?(r[c]=d,d.__data__=i[c],f.delete(x)):n[c]=new pd(e,i[c]);for(c=0;c<m;++c)(d=t[c])&&f.get(g[c])===d&&(o[c]=d)}function jR(e){return e.__data__}function _R(e,t){if(!arguments.length)return Array.from(this,jR);var n=t?ER:NR,r=this._parents,o=this._groups;typeof e!="function"&&(e=CR(e));for(var i=o.length,l=new Array(i),c=new Array(i),d=new Array(i),f=0;f<i;++f){var m=r[f],p=o[f],g=p.length,x=PR(e.call(m,m&&m.__data__,f,r)),b=x.length,v=c[f]=new Array(b),S=l[f]=new Array(b),k=d[f]=new Array(g);n(m,p,v,S,k,x,t);for(var E=0,N=0,_,T;E<b;++E)if(_=v[E]){for(E>=N&&(N=E+1);!(T=S[N])&&++N<b;);_._next=T||null}}return l=new rr(l,r),l._enter=c,l._exit=d,l}function PR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AR(){return new rr(this._exit||this._groups.map(ek),this._parents)}function IR(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function TR(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,l=Math.min(o,i),c=new Array(o),d=0;d<l;++d)for(var f=n[d],m=r[d],p=f.length,g=c[d]=new Array(p),x,b=0;b<p;++b)(x=f[b]||m[b])&&(g[b]=x);for(;d<o;++d)c[d]=n[d];return new rr(c,this._parents)}function RR(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],l;--o>=0;)(l=r[o])&&(i&&l.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(l,i),i=l);return this}function MR(e){e||(e=DR);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var l=n[i],c=l.length,d=o[i]=new Array(c),f,m=0;m<c;++m)(f=l[m])&&(d[m]=f);d.sort(t)}return new rr(o,this._parents).order()}function DR(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function OR(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function LR(){return Array.from(this)}function zR(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var l=r[o];if(l)return l}return null}function $R(){let e=0;for(const t of this)++e;return e}function FR(){return!this.node()}function BR(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,l=o.length,c;i<l;++i)(c=o[i])&&e.call(c,c.__data__,i,o);return this}function VR(e){return function(){this.removeAttribute(e)}}function HR(e){return function(){this.removeAttributeNS(e.space,e.local)}}function UR(e,t){return function(){this.setAttribute(e,t)}}function WR(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function YR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function XR(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function qR(e,t){var n=Yd(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?HR:VR:typeof t=="function"?n.local?XR:YR:n.local?WR:UR)(n,t))}function tk(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function GR(e){return function(){this.style.removeProperty(e)}}function KR(e,t,n){return function(){this.style.setProperty(e,t,n)}}function QR(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function JR(e,t,n){return arguments.length>1?this.each((t==null?GR:typeof t=="function"?QR:KR)(e,t,n??"")):Ys(this.node(),e)}function Ys(e,t){return e.style.getPropertyValue(t)||tk(e).getComputedStyle(e,null).getPropertyValue(t)}function ZR(e){return function(){delete this[e]}}function eM(e,t){return function(){this[e]=t}}function tM(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function nM(e,t){return arguments.length>1?this.each((t==null?ZR:typeof t=="function"?tM:eM)(e,t)):this.node()[e]}function nk(e){return e.trim().split(/^|\s+/)}function Og(e){return e.classList||new rk(e)}function rk(e){this._node=e,this._names=nk(e.getAttribute("class")||"")}rk.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ok(e,t){for(var n=Og(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function ik(e,t){for(var n=Og(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function rM(e){return function(){ok(this,e)}}function oM(e){return function(){ik(this,e)}}function iM(e,t){return function(){(t.apply(this,arguments)?ok:ik)(this,e)}}function sM(e,t){var n=nk(e+"");if(arguments.length<2){for(var r=Og(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?iM:t?rM:oM)(n,t))}function lM(){this.textContent=""}function aM(e){return function(){this.textContent=e}}function cM(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function uM(e){return arguments.length?this.each(e==null?lM:(typeof e=="function"?cM:aM)(e)):this.node().textContent}function dM(){this.innerHTML=""}function fM(e){return function(){this.innerHTML=e}}function pM(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function hM(e){return arguments.length?this.each(e==null?dM:(typeof e=="function"?pM:fM)(e)):this.node().innerHTML}function mM(){this.nextSibling&&this.parentNode.appendChild(this)}function gM(){return this.each(mM)}function xM(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yM(){return this.each(xM)}function vM(e){var t=typeof e=="function"?e:KS(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function wM(){return null}function bM(e,t){var n=typeof e=="function"?e:KS(e),r=t==null?wM:typeof t=="function"?t:Dg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function SM(){var e=this.parentNode;e&&e.removeChild(this)}function kM(){return this.each(SM)}function CM(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function NM(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function EM(e){return this.select(e?NM:CM)}function jM(e){return arguments.length?this.property("__data__",e):this.node().__data__}function _M(e){return function(t){e.call(this,t,this.__data__)}}function PM(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function AM(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function IM(e,t,n){return function(){var r=this.__on,o,i=_M(t);if(r){for(var l=0,c=r.length;l<c;++l)if((o=r[l]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function TM(e,t,n){var r=PM(e+""),o,i=r.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var d=0,f=c.length,m;d<f;++d)for(o=0,m=c[d];o<i;++o)if((l=r[o]).type===m.type&&l.name===m.name)return m.value}return}for(c=t?IM:AM,o=0;o<i;++o)this.each(c(r[o],t,n));return this}function sk(e,t,n){var r=tk(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function RM(e,t){return function(){return sk(this,e,t)}}function MM(e,t){return function(){return sk(this,e,t.apply(this,arguments))}}function DM(e,t){return this.each((typeof t=="function"?MM:RM)(e,t))}function*OM(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,l;o<i;++o)(l=r[o])&&(yield l)}var lk=[null];function rr(e,t){this._groups=e,this._parents=t}function ec(){return new rr([[document.documentElement]],lk)}function LM(){return this}rr.prototype=ec.prototype={constructor:rr,select:cR,selectAll:pR,selectChild:xR,selectChildren:bR,filter:SR,data:_R,enter:kR,exit:AR,join:IR,merge:TR,selection:LM,order:RR,sort:MR,call:OR,nodes:LR,node:zR,size:$R,empty:FR,each:BR,attr:qR,style:JR,property:nM,classed:sM,text:uM,html:hM,raise:gM,lower:yM,append:vM,insert:bM,remove:kM,clone:EM,datum:jM,on:TM,dispatch:DM,[Symbol.iterator]:OM};function Zn(e){return typeof e=="string"?new rr([[document.querySelector(e)]],[document.documentElement]):new rr([[e]],lk)}function zM(e){let t;for(;t=e.sourceEvent;)e=t;return e}function kr(e,t){if(e=zM(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const $M={passive:!1},Da={capture:!0,passive:!1};function Vh(e){e.stopImmediatePropagation()}function Ls(e){e.preventDefault(),e.stopImmediatePropagation()}function ak(e){var t=e.document.documentElement,n=Zn(e).on("dragstart.drag",Ls,Da);"onselectstart"in t?n.on("selectstart.drag",Ls,Da):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ck(e,t){var n=e.document.documentElement,r=Zn(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ls,Da),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Au=e=>()=>e;function Om(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:l,y:c,dx:d,dy:f,dispatch:m}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:m}})}Om.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function FM(e){return!e.ctrlKey&&!e.button}function BM(){return this.parentNode}function VM(e,t){return t??{x:e.x,y:e.y}}function HM(){return navigator.maxTouchPoints||"ontouchstart"in this}function uk(){var e=FM,t=BM,n=VM,r=HM,o={},i=Wd("start","drag","end"),l=0,c,d,f,m,p=0;function g(_){_.on("mousedown.drag",x).filter(r).on("touchstart.drag",S).on("touchmove.drag",k,$M).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(_,T){if(!(m||!e.call(this,_,T))){var P=N(this,t.call(this,_,T),_,T,"mouse");P&&(Zn(_.view).on("mousemove.drag",b,Da).on("mouseup.drag",v,Da),ak(_.view),Vh(_),f=!1,c=_.clientX,d=_.clientY,P("start",_))}}function b(_){if(Ls(_),!f){var T=_.clientX-c,P=_.clientY-d;f=T*T+P*P>p}o.mouse("drag",_)}function v(_){Zn(_.view).on("mousemove.drag mouseup.drag",null),ck(_.view,f),Ls(_),o.mouse("end",_)}function S(_,T){if(e.call(this,_,T)){var P=_.changedTouches,M=t.call(this,_,T),z=P.length,Y,L;for(Y=0;Y<z;++Y)(L=N(this,M,_,T,P[Y].identifier,P[Y]))&&(Vh(_),L("start",_,P[Y]))}}function k(_){var T=_.changedTouches,P=T.length,M,z;for(M=0;M<P;++M)(z=o[T[M].identifier])&&(Ls(_),z("drag",_,T[M]))}function E(_){var T=_.changedTouches,P=T.length,M,z;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),M=0;M<P;++M)(z=o[T[M].identifier])&&(Vh(_),z("end",_,T[M]))}function N(_,T,P,M,z,Y){var L=i.copy(),B=kr(Y||P,T),q,U,A;if((A=n.call(_,new Om("beforestart",{sourceEvent:P,target:g,identifier:z,active:l,x:B[0],y:B[1],dx:0,dy:0,dispatch:L}),M))!=null)return q=A.x-B[0]||0,U=A.y-B[1]||0,function F($,G,D){var W=B,R;switch($){case"start":o[z]=F,R=l++;break;case"end":delete o[z],--l;case"drag":B=kr(D||G,T),R=l;break}L.call($,_,new Om($,{sourceEvent:G,subject:A,target:g,identifier:z,active:R,x:B[0]+q,y:B[1]+U,dx:B[0]-W[0],dy:B[1]-W[1],dispatch:L}),M)}}return g.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Au(!!_),g):e},g.container=function(_){return arguments.length?(t=typeof _=="function"?_:Au(_),g):t},g.subject=function(_){return arguments.length?(n=typeof _=="function"?_:Au(_),g):n},g.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:Au(!!_),g):r},g.on=function(){var _=i.on.apply(i,arguments);return _===i?g:_},g.clickDistance=function(_){return arguments.length?(p=(_=+_)*_,g):Math.sqrt(p)},g}function Lg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function tc(){}var Oa=.7,hd=1/Oa,zs="\\s*([+-]?\\d+)\\s*",La="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UM=/^#([0-9a-f]{3,8})$/,WM=new RegExp(`^rgb\\(${zs},${zs},${zs}\\)$`),YM=new RegExp(`^rgb\\(${Yr},${Yr},${Yr}\\)$`),XM=new RegExp(`^rgba\\(${zs},${zs},${zs},${La}\\)$`),qM=new RegExp(`^rgba\\(${Yr},${Yr},${Yr},${La}\\)$`),GM=new RegExp(`^hsl\\(${La},${Yr},${Yr}\\)$`),KM=new RegExp(`^hsla\\(${La},${Yr},${Yr},${La}\\)$`),iw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lg(tc,Di,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sw,formatHex:sw,formatHex8:QM,formatHsl:JM,formatRgb:lw,toString:lw});function sw(){return this.rgb().formatHex()}function QM(){return this.rgb().formatHex8()}function JM(){return fk(this).formatHsl()}function lw(){return this.rgb().formatRgb()}function Di(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=UM.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?aw(t):n===3?new Vn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Iu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Iu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=WM.exec(e))?new Vn(t[1],t[2],t[3],1):(t=YM.exec(e))?new Vn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=XM.exec(e))?Iu(t[1],t[2],t[3],t[4]):(t=qM.exec(e))?Iu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GM.exec(e))?dw(t[1],t[2]/100,t[3]/100,1):(t=KM.exec(e))?dw(t[1],t[2]/100,t[3]/100,t[4]):iw.hasOwnProperty(e)?aw(iw[e]):e==="transparent"?new Vn(NaN,NaN,NaN,0):null}function aw(e){return new Vn(e>>16&255,e>>8&255,e&255,1)}function Iu(e,t,n,r){return r<=0&&(e=t=n=NaN),new Vn(e,t,n,r)}function ZM(e){return e instanceof tc||(e=Di(e)),e?(e=e.rgb(),new Vn(e.r,e.g,e.b,e.opacity)):new Vn}function Lm(e,t,n,r){return arguments.length===1?ZM(e):new Vn(e,t,n,r??1)}function Vn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Lg(Vn,Lm,dk(tc,{brighter(e){return e=e==null?hd:Math.pow(hd,e),new Vn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Oa:Math.pow(Oa,e),new Vn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vn(Ti(this.r),Ti(this.g),Ti(this.b),md(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cw,formatHex:cw,formatHex8:eD,formatRgb:uw,toString:uw}));function cw(){return`#${Pi(this.r)}${Pi(this.g)}${Pi(this.b)}`}function eD(){return`#${Pi(this.r)}${Pi(this.g)}${Pi(this.b)}${Pi((isNaN(this.opacity)?1:this.opacity)*255)}`}function uw(){const e=md(this.opacity);return`${e===1?"rgb(":"rgba("}${Ti(this.r)}, ${Ti(this.g)}, ${Ti(this.b)}${e===1?")":`, ${e})`}`}function md(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ti(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pi(e){return e=Ti(e),(e<16?"0":"")+e.toString(16)}function dw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Cr(e,t,n,r)}function fk(e){if(e instanceof Cr)return new Cr(e.h,e.s,e.l,e.opacity);if(e instanceof tc||(e=Di(e)),!e)return new Cr;if(e instanceof Cr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),l=NaN,c=i-o,d=(i+o)/2;return c?(t===i?l=(n-r)/c+(n<r)*6:n===i?l=(r-t)/c+2:l=(t-n)/c+4,c/=d<.5?i+o:2-i-o,l*=60):c=d>0&&d<1?0:l,new Cr(l,c,d,e.opacity)}function tD(e,t,n,r){return arguments.length===1?fk(e):new Cr(e,t,n,r??1)}function Cr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Lg(Cr,tD,dk(tc,{brighter(e){return e=e==null?hd:Math.pow(hd,e),new Cr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Oa:Math.pow(Oa,e),new Cr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Vn(Hh(e>=240?e-240:e+120,o,r),Hh(e,o,r),Hh(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Cr(fw(this.h),Tu(this.s),Tu(this.l),md(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=md(this.opacity);return`${e===1?"hsl(":"hsla("}${fw(this.h)}, ${Tu(this.s)*100}%, ${Tu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fw(e){return e=(e||0)%360,e<0?e+360:e}function Tu(e){return Math.max(0,Math.min(1,e||0))}function Hh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const zg=e=>()=>e;function nD(e,t){return function(n){return e+n*t}}function rD(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function oD(e){return(e=+e)==1?pk:function(t,n){return n-t?rD(t,n,e):zg(isNaN(t)?n:t)}}function pk(e,t){var n=t-e;return n?nD(e,n):zg(isNaN(e)?t:e)}const gd=function e(t){var n=oD(t);function r(o,i){var l=n((o=Lm(o)).r,(i=Lm(i)).r),c=n(o.g,i.g),d=n(o.b,i.b),f=pk(o.opacity,i.opacity);return function(m){return o.r=l(m),o.g=c(m),o.b=d(m),o.opacity=f(m),o+""}}return r.gamma=e,r}(1);function iD(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function sD(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lD(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),l;for(l=0;l<r;++l)o[l]=Ca(e[l],t[l]);for(;l<n;++l)i[l]=t[l];return function(c){for(l=0;l<r;++l)i[l]=o[l](c);return i}}function aD(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Hr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function cD(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Ca(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var zm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uh=new RegExp(zm.source,"g");function uD(e){return function(){return e}}function dD(e){return function(t){return e(t)+""}}function hk(e,t){var n=zm.lastIndex=Uh.lastIndex=0,r,o,i,l=-1,c=[],d=[];for(e=e+"",t=t+"";(r=zm.exec(e))&&(o=Uh.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),c[l]?c[l]+=i:c[++l]=i),(r=r[0])===(o=o[0])?c[l]?c[l]+=o:c[++l]=o:(c[++l]=null,d.push({i:l,x:Hr(r,o)})),n=Uh.lastIndex;return n<t.length&&(i=t.slice(n),c[l]?c[l]+=i:c[++l]=i),c.length<2?d[0]?dD(d[0].x):uD(t):(t=d.length,function(f){for(var m=0,p;m<t;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function Ca(e,t){var n=typeof t,r;return t==null||n==="boolean"?zg(t):(n==="number"?Hr:n==="string"?(r=Di(t))?(t=r,gd):hk:t instanceof Di?gd:t instanceof Date?aD:sD(t)?iD:Array.isArray(t)?lD:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cD:Hr)(e,t)}var pw=180/Math.PI,$m={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mk(e,t,n,r,o,i){var l,c,d;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(d=e*n+t*r)&&(n-=e*d,r-=t*d),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,d/=c),e*r<t*n&&(e=-e,t=-t,d=-d,l=-l),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*pw,skewX:Math.atan(d)*pw,scaleX:l,scaleY:c}}var Ru;function fD(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$m:mk(t.a,t.b,t.c,t.d,t.e,t.f)}function pD(e){return e==null||(Ru||(Ru=document.createElementNS("http://www.w3.org/2000/svg","g")),Ru.setAttribute("transform",e),!(e=Ru.transform.baseVal.consolidate()))?$m:(e=e.matrix,mk(e.a,e.b,e.c,e.d,e.e,e.f))}function gk(e,t,n,r){function o(f){return f.length?f.pop()+" ":""}function i(f,m,p,g,x,b){if(f!==p||m!==g){var v=x.push("translate(",null,t,null,n);b.push({i:v-4,x:Hr(f,p)},{i:v-2,x:Hr(m,g)})}else(p||g)&&x.push("translate("+p+t+g+n)}function l(f,m,p,g){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),g.push({i:p.push(o(p)+"rotate(",null,r)-2,x:Hr(f,m)})):m&&p.push(o(p)+"rotate("+m+r)}function c(f,m,p,g){f!==m?g.push({i:p.push(o(p)+"skewX(",null,r)-2,x:Hr(f,m)}):m&&p.push(o(p)+"skewX("+m+r)}function d(f,m,p,g,x,b){if(f!==p||m!==g){var v=x.push(o(x)+"scale(",null,",",null,")");b.push({i:v-4,x:Hr(f,p)},{i:v-2,x:Hr(m,g)})}else(p!==1||g!==1)&&x.push(o(x)+"scale("+p+","+g+")")}return function(f,m){var p=[],g=[];return f=e(f),m=e(m),i(f.translateX,f.translateY,m.translateX,m.translateY,p,g),l(f.rotate,m.rotate,p,g),c(f.skewX,m.skewX,p,g),d(f.scaleX,f.scaleY,m.scaleX,m.scaleY,p,g),f=m=null,function(x){for(var b=-1,v=g.length,S;++b<v;)p[(S=g[b]).i]=S.x(x);return p.join("")}}}var hD=gk(fD,"px, ","px)","deg)"),mD=gk(pD,", ",")",")"),gD=1e-12;function hw(e){return((e=Math.exp(e))+1/e)/2}function xD(e){return((e=Math.exp(e))-1/e)/2}function yD(e){return((e=Math.exp(2*e))-1)/(e+1)}const Zu=function e(t,n,r){function o(i,l){var c=i[0],d=i[1],f=i[2],m=l[0],p=l[1],g=l[2],x=m-c,b=p-d,v=x*x+b*b,S,k;if(v<gD)k=Math.log(g/f)/t,S=function(M){return[c+M*x,d+M*b,f*Math.exp(t*M*k)]};else{var E=Math.sqrt(v),N=(g*g-f*f+r*v)/(2*f*n*E),_=(g*g-f*f-r*v)/(2*g*n*E),T=Math.log(Math.sqrt(N*N+1)-N),P=Math.log(Math.sqrt(_*_+1)-_);k=(P-T)/t,S=function(M){var z=M*k,Y=hw(T),L=f/(n*E)*(Y*yD(t*z+T)-xD(T));return[c+L*x,d+L*b,f*Y/hw(t*z+T)]}}return S.duration=k*1e3*t/Math.SQRT2,S}return o.rho=function(i){var l=Math.max(.001,+i),c=l*l,d=c*c;return e(l,c,d)},o}(Math.SQRT2,2,4);var Xs=0,ga=0,ta=0,xk=1e3,xd,xa,yd=0,Oi=0,Xd=0,za=typeof performance=="object"&&performance.now?performance:Date,yk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $g(){return Oi||(yk(vD),Oi=za.now()+Xd)}function vD(){Oi=0}function vd(){this._call=this._time=this._next=null}vd.prototype=vk.prototype={constructor:vd,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?$g():+n)+(t==null?0:+t),!this._next&&xa!==this&&(xa?xa._next=this:xd=this,xa=this),this._call=e,this._time=n,Fm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fm())}};function vk(e,t,n){var r=new vd;return r.restart(e,t,n),r}function wD(){$g(),++Xs;for(var e=xd,t;e;)(t=Oi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Xs}function mw(){Oi=(yd=za.now())+Xd,Xs=ga=0;try{wD()}finally{Xs=0,SD(),Oi=0}}function bD(){var e=za.now(),t=e-yd;t>xk&&(Xd-=t,yd=e)}function SD(){for(var e,t=xd,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:xd=n);xa=e,Fm(r)}function Fm(e){if(!Xs){ga&&(ga=clearTimeout(ga));var t=e-Oi;t>24?(e<1/0&&(ga=setTimeout(mw,e-za.now()-Xd)),ta&&(ta=clearInterval(ta))):(ta||(yd=za.now(),ta=setInterval(bD,xk)),Xs=1,yk(mw))}}function gw(e,t,n){var r=new vd;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var kD=Wd("start","end","cancel","interrupt"),CD=[],wk=0,xw=1,Bm=2,ed=3,yw=4,Vm=5,td=6;function qd(e,t,n,r,o,i){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;ND(e,n,{name:t,index:r,group:o,on:kD,tween:CD,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:wk})}function Fg(e,t){var n=Tr(e,t);if(n.state>wk)throw new Error("too late; already scheduled");return n}function Kr(e,t){var n=Tr(e,t);if(n.state>ed)throw new Error("too late; already running");return n}function Tr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ND(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=vk(i,0,n.time);function i(f){n.state=xw,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var m,p,g,x;if(n.state!==xw)return d();for(m in r)if(x=r[m],x.name===n.name){if(x.state===ed)return gw(l);x.state===yw?(x.state=td,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete r[m]):+m<t&&(x.state=td,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete r[m])}if(gw(function(){n.state===ed&&(n.state=yw,n.timer.restart(c,n.delay,n.time),c(f))}),n.state=Bm,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Bm){for(n.state=ed,o=new Array(g=n.tween.length),m=0,p=-1;m<g;++m)(x=n.tween[m].value.call(e,e.__data__,n.index,n.group))&&(o[++p]=x);o.length=p+1}}function c(f){for(var m=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=Vm,1),p=-1,g=o.length;++p<g;)o[p].call(e,m);n.state===Vm&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=td,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function nd(e,t){var n=e.__transition,r,o,i=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){i=!1;continue}o=r.state>Bm&&r.state<Vm,r.state=td,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}i&&delete e.__transition}}function ED(e){return this.each(function(){nd(this,e)})}function jD(e,t){var n,r;return function(){var o=Kr(this,e),i=o.tween;if(i!==n){r=n=i;for(var l=0,c=r.length;l<c;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}o.tween=r}}function _D(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Kr(this,e),l=i.tween;if(l!==r){o=(r=l).slice();for(var c={name:t,value:n},d=0,f=o.length;d<f;++d)if(o[d].name===t){o[d]=c;break}d===f&&o.push(c)}i.tween=o}}function PD(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Tr(this.node(),n).tween,o=0,i=r.length,l;o<i;++o)if((l=r[o]).name===e)return l.value;return null}return this.each((t==null?jD:_D)(n,e,t))}function Bg(e,t,n){var r=e._id;return e.each(function(){var o=Kr(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Tr(o,r).value[t]}}function bk(e,t){var n;return(typeof t=="number"?Hr:t instanceof Di?gd:(n=Di(t))?(t=n,gd):hk)(e,t)}function AD(e){return function(){this.removeAttribute(e)}}function ID(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TD(e,t,n){var r,o=n+"",i;return function(){var l=this.getAttribute(e);return l===o?null:l===r?i:i=t(r=l,n)}}function RD(e,t,n){var r,o=n+"",i;return function(){var l=this.getAttributeNS(e.space,e.local);return l===o?null:l===r?i:i=t(r=l,n)}}function MD(e,t,n){var r,o,i;return function(){var l,c=n(this),d;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=c+"",l===d?null:l===r&&d===o?i:(o=d,i=t(r=l,c)))}}function DD(e,t,n){var r,o,i;return function(){var l,c=n(this),d;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=c+"",l===d?null:l===r&&d===o?i:(o=d,i=t(r=l,c)))}}function OD(e,t){var n=Yd(e),r=n==="transform"?mD:bk;return this.attrTween(e,typeof t=="function"?(n.local?DD:MD)(n,r,Bg(this,"attr."+e,t)):t==null?(n.local?ID:AD)(n):(n.local?RD:TD)(n,r,t))}function LD(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function zD(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function $D(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&zD(e,i)),n}return o._value=t,o}function FD(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&LD(e,i)),n}return o._value=t,o}function BD(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Yd(e);return this.tween(n,(r.local?$D:FD)(r,t))}function VD(e,t){return function(){Fg(this,e).delay=+t.apply(this,arguments)}}function HD(e,t){return t=+t,function(){Fg(this,e).delay=t}}function UD(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?VD:HD)(t,e)):Tr(this.node(),t).delay}function WD(e,t){return function(){Kr(this,e).duration=+t.apply(this,arguments)}}function YD(e,t){return t=+t,function(){Kr(this,e).duration=t}}function XD(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?WD:YD)(t,e)):Tr(this.node(),t).duration}function qD(e,t){if(typeof t!="function")throw new Error;return function(){Kr(this,e).ease=t}}function GD(e){var t=this._id;return arguments.length?this.each(qD(t,e)):Tr(this.node(),t).ease}function KD(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Kr(this,e).ease=n}}function QD(e){if(typeof e!="function")throw new Error;return this.each(KD(this._id,e))}function JD(e){typeof e!="function"&&(e=JS(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],l=i.length,c=r[o]=[],d,f=0;f<l;++f)(d=i[f])&&e.call(d,d.__data__,f,i)&&c.push(d);return new ho(r,this._parents,this._name,this._id)}function ZD(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),l=new Array(r),c=0;c<i;++c)for(var d=t[c],f=n[c],m=d.length,p=l[c]=new Array(m),g,x=0;x<m;++x)(g=d[x]||f[x])&&(p[x]=g);for(;c<r;++c)l[c]=t[c];return new ho(l,this._parents,this._name,this._id)}function eO(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function tO(e,t,n){var r,o,i=eO(t)?Fg:Kr;return function(){var l=i(this,e),c=l.on;c!==r&&(o=(r=c).copy()).on(t,n),l.on=o}}function nO(e,t){var n=this._id;return arguments.length<2?Tr(this.node(),n).on.on(e):this.each(tO(n,e,t))}function rO(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function oO(){return this.on("end.remove",rO(this._id))}function iO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Dg(e));for(var r=this._groups,o=r.length,i=new Array(o),l=0;l<o;++l)for(var c=r[l],d=c.length,f=i[l]=new Array(d),m,p,g=0;g<d;++g)(m=c[g])&&(p=e.call(m,m.__data__,g,c))&&("__data__"in m&&(p.__data__=m.__data__),f[g]=p,qd(f[g],t,n,g,f,Tr(m,n)));return new ho(i,this._parents,t,n)}function sO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=QS(e));for(var r=this._groups,o=r.length,i=[],l=[],c=0;c<o;++c)for(var d=r[c],f=d.length,m,p=0;p<f;++p)if(m=d[p]){for(var g=e.call(m,m.__data__,p,d),x,b=Tr(m,n),v=0,S=g.length;v<S;++v)(x=g[v])&&qd(x,t,n,v,g,b);i.push(g),l.push(m)}return new ho(i,l,t,n)}var lO=ec.prototype.constructor;function aO(){return new lO(this._groups,this._parents)}function cO(e,t){var n,r,o;return function(){var i=Ys(this,e),l=(this.style.removeProperty(e),Ys(this,e));return i===l?null:i===n&&l===r?o:o=t(n=i,r=l)}}function Sk(e){return function(){this.style.removeProperty(e)}}function uO(e,t,n){var r,o=n+"",i;return function(){var l=Ys(this,e);return l===o?null:l===r?i:i=t(r=l,n)}}function dO(e,t,n){var r,o,i;return function(){var l=Ys(this,e),c=n(this),d=c+"";return c==null&&(d=c=(this.style.removeProperty(e),Ys(this,e))),l===d?null:l===r&&d===o?i:(o=d,i=t(r=l,c))}}function fO(e,t){var n,r,o,i="style."+t,l="end."+i,c;return function(){var d=Kr(this,e),f=d.on,m=d.value[i]==null?c||(c=Sk(t)):void 0;(f!==n||o!==m)&&(r=(n=f).copy()).on(l,o=m),d.on=r}}function pO(e,t,n){var r=(e+="")=="transform"?hD:bk;return t==null?this.styleTween(e,cO(e,r)).on("end.style."+e,Sk(e)):typeof t=="function"?this.styleTween(e,dO(e,r,Bg(this,"style."+e,t))).each(fO(this._id,e)):this.styleTween(e,uO(e,r,t),n).on("end.style."+e,null)}function hO(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function mO(e,t,n){var r,o;function i(){var l=t.apply(this,arguments);return l!==o&&(r=(o=l)&&hO(e,l,n)),r}return i._value=t,i}function gO(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,mO(e,t,n??""))}function xO(e){return function(){this.textContent=e}}function yO(e){return function(){var t=e(this);this.textContent=t??""}}function vO(e){return this.tween("text",typeof e=="function"?yO(Bg(this,"text",e)):xO(e==null?"":e+""))}function wO(e){return function(t){this.textContent=e.call(this,t)}}function bO(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&wO(o)),t}return r._value=e,r}function SO(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,bO(e))}function kO(){for(var e=this._name,t=this._id,n=kk(),r=this._groups,o=r.length,i=0;i<o;++i)for(var l=r[i],c=l.length,d,f=0;f<c;++f)if(d=l[f]){var m=Tr(d,t);qd(d,e,n,f,l,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new ho(r,this._parents,e,n)}function CO(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,l){var c={value:l},d={value:function(){--o===0&&i()}};n.each(function(){var f=Kr(this,r),m=f.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(d)),f.on=t}),o===0&&i()})}var NO=0;function ho(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function kk(){return++NO}var co=ec.prototype;ho.prototype={constructor:ho,select:iO,selectAll:sO,selectChild:co.selectChild,selectChildren:co.selectChildren,filter:JD,merge:ZD,selection:aO,transition:kO,call:co.call,nodes:co.nodes,node:co.node,size:co.size,empty:co.empty,each:co.each,on:nO,attr:OD,attrTween:BD,style:pO,styleTween:gO,text:vO,textTween:SO,remove:oO,tween:PD,delay:UD,duration:XD,ease:GD,easeVarying:QD,end:CO,[Symbol.iterator]:co[Symbol.iterator]};function EO(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var jO={time:null,delay:0,duration:250,ease:EO};function _O(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function PO(e){var t,n;e instanceof ho?(t=e._id,e=e._name):(t=kk(),(n=jO).time=$g(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var l=r[i],c=l.length,d,f=0;f<c;++f)(d=l[f])&&qd(d,e,t,f,l,n||_O(d,t));return new ho(r,this._parents,e,t)}ec.prototype.interrupt=ED;ec.prototype.transition=PO;const Mu=e=>()=>e;function AO(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function po(e,t,n){this.k=e,this.x=t,this.y=n}po.prototype={constructor:po,scale:function(e){return e===1?this:new po(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new po(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Gd=new po(1,0,0);Ck.prototype=po.prototype;function Ck(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Gd;return e.__zoom}function Wh(e){e.stopImmediatePropagation()}function na(e){e.preventDefault(),e.stopImmediatePropagation()}function IO(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function TO(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function vw(){return this.__zoom||Gd}function RO(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function MO(){return navigator.maxTouchPoints||"ontouchstart"in this}function DO(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l))}function Nk(){var e=IO,t=TO,n=DO,r=RO,o=MO,i=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,d=Zu,f=Wd("start","zoom","end"),m,p,g,x=500,b=150,v=0,S=10;function k(A){A.property("__zoom",vw).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",Y).on("dblclick.zoom",L).filter(o).on("touchstart.zoom",B).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(A,F,$,G){var D=A.selection?A.selection():A;D.property("__zoom",vw),A!==D?T(A,F,$,G):D.interrupt().each(function(){P(this,arguments).event(G).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},k.scaleBy=function(A,F,$,G){k.scaleTo(A,function(){var D=this.__zoom.k,W=typeof F=="function"?F.apply(this,arguments):F;return D*W},$,G)},k.scaleTo=function(A,F,$,G){k.transform(A,function(){var D=t.apply(this,arguments),W=this.__zoom,R=$==null?_(D):typeof $=="function"?$.apply(this,arguments):$,H=W.invert(R),X=typeof F=="function"?F.apply(this,arguments):F;return n(N(E(W,X),R,H),D,l)},$,G)},k.translateBy=function(A,F,$,G){k.transform(A,function(){return n(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof $=="function"?$.apply(this,arguments):$),t.apply(this,arguments),l)},null,G)},k.translateTo=function(A,F,$,G,D){k.transform(A,function(){var W=t.apply(this,arguments),R=this.__zoom,H=G==null?_(W):typeof G=="function"?G.apply(this,arguments):G;return n(Gd.translate(H[0],H[1]).scale(R.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof $=="function"?-$.apply(this,arguments):-$),W,l)},G,D)};function E(A,F){return F=Math.max(i[0],Math.min(i[1],F)),F===A.k?A:new po(F,A.x,A.y)}function N(A,F,$){var G=F[0]-$[0]*A.k,D=F[1]-$[1]*A.k;return G===A.x&&D===A.y?A:new po(A.k,G,D)}function _(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function T(A,F,$,G){A.on("start.zoom",function(){P(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(G).end()}).tween("zoom",function(){var D=this,W=arguments,R=P(D,W).event(G),H=t.apply(D,W),X=$==null?_(H):typeof $=="function"?$.apply(D,W):$,I=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),V=D.__zoom,J=typeof F=="function"?F.apply(D,W):F,Z=d(V.invert(X).concat(I/V.k),J.invert(X).concat(I/J.k));return function(K){if(K===1)K=J;else{var te=Z(K),Q=I/te[2];K=new po(Q,X[0]-te[0]*Q,X[1]-te[1]*Q)}R.zoom(null,K)}})}function P(A,F,$){return!$&&A.__zooming||new M(A,F)}function M(A,F){this.that=A,this.args=F,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,F),this.taps=0}M.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,F){return this.mouse&&A!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var F=Zn(this.that).datum();f.call(A,this.that,new AO(A,{sourceEvent:this.sourceEvent,target:k,transform:this.that.__zoom,dispatch:f}),F)}};function z(A,...F){if(!e.apply(this,arguments))return;var $=P(this,F).event(A),G=this.__zoom,D=Math.max(i[0],Math.min(i[1],G.k*Math.pow(2,r.apply(this,arguments)))),W=kr(A);if($.wheel)($.mouse[0][0]!==W[0]||$.mouse[0][1]!==W[1])&&($.mouse[1]=G.invert($.mouse[0]=W)),clearTimeout($.wheel);else{if(G.k===D)return;$.mouse=[W,G.invert(W)],nd(this),$.start()}na(A),$.wheel=setTimeout(R,b),$.zoom("mouse",n(N(E(G,D),$.mouse[0],$.mouse[1]),$.extent,l));function R(){$.wheel=null,$.end()}}function Y(A,...F){if(g||!e.apply(this,arguments))return;var $=A.currentTarget,G=P(this,F,!0).event(A),D=Zn(A.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",I,!0),W=kr(A,$),R=A.clientX,H=A.clientY;ak(A.view),Wh(A),G.mouse=[W,this.__zoom.invert(W)],nd(this),G.start();function X(V){if(na(V),!G.moved){var J=V.clientX-R,Z=V.clientY-H;G.moved=J*J+Z*Z>v}G.event(V).zoom("mouse",n(N(G.that.__zoom,G.mouse[0]=kr(V,$),G.mouse[1]),G.extent,l))}function I(V){D.on("mousemove.zoom mouseup.zoom",null),ck(V.view,G.moved),na(V),G.event(V).end()}}function L(A,...F){if(e.apply(this,arguments)){var $=this.__zoom,G=kr(A.changedTouches?A.changedTouches[0]:A,this),D=$.invert(G),W=$.k*(A.shiftKey?.5:2),R=n(N(E($,W),G,D),t.apply(this,F),l);na(A),c>0?Zn(this).transition().duration(c).call(T,R,G,A):Zn(this).call(k.transform,R,G,A)}}function B(A,...F){if(e.apply(this,arguments)){var $=A.touches,G=$.length,D=P(this,F,A.changedTouches.length===G).event(A),W,R,H,X;for(Wh(A),R=0;R<G;++R)H=$[R],X=kr(H,this),X=[X,this.__zoom.invert(X),H.identifier],D.touch0?!D.touch1&&D.touch0[2]!==X[2]&&(D.touch1=X,D.taps=0):(D.touch0=X,W=!0,D.taps=1+!!m);m&&(m=clearTimeout(m)),W&&(D.taps<2&&(p=X[0],m=setTimeout(function(){m=null},x)),nd(this),D.start())}}function q(A,...F){if(this.__zooming){var $=P(this,F).event(A),G=A.changedTouches,D=G.length,W,R,H,X;for(na(A),W=0;W<D;++W)R=G[W],H=kr(R,this),$.touch0&&$.touch0[2]===R.identifier?$.touch0[0]=H:$.touch1&&$.touch1[2]===R.identifier&&($.touch1[0]=H);if(R=$.that.__zoom,$.touch1){var I=$.touch0[0],V=$.touch0[1],J=$.touch1[0],Z=$.touch1[1],K=(K=J[0]-I[0])*K+(K=J[1]-I[1])*K,te=(te=Z[0]-V[0])*te+(te=Z[1]-V[1])*te;R=E(R,Math.sqrt(K/te)),H=[(I[0]+J[0])/2,(I[1]+J[1])/2],X=[(V[0]+Z[0])/2,(V[1]+Z[1])/2]}else if($.touch0)H=$.touch0[0],X=$.touch0[1];else return;$.zoom("touch",n(N(R,H,X),$.extent,l))}}function U(A,...F){if(this.__zooming){var $=P(this,F).event(A),G=A.changedTouches,D=G.length,W,R;for(Wh(A),g&&clearTimeout(g),g=setTimeout(function(){g=null},x),W=0;W<D;++W)R=G[W],$.touch0&&$.touch0[2]===R.identifier?delete $.touch0:$.touch1&&$.touch1[2]===R.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(R=kr(R,this),Math.hypot(p[0]-R[0],p[1]-R[1])<S)){var H=Zn(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return k.wheelDelta=function(A){return arguments.length?(r=typeof A=="function"?A:Mu(+A),k):r},k.filter=function(A){return arguments.length?(e=typeof A=="function"?A:Mu(!!A),k):e},k.touchable=function(A){return arguments.length?(o=typeof A=="function"?A:Mu(!!A),k):o},k.extent=function(A){return arguments.length?(t=typeof A=="function"?A:Mu([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),k):t},k.scaleExtent=function(A){return arguments.length?(i[0]=+A[0],i[1]=+A[1],k):[i[0],i[1]]},k.translateExtent=function(A){return arguments.length?(l[0][0]=+A[0][0],l[1][0]=+A[1][0],l[0][1]=+A[0][1],l[1][1]=+A[1][1],k):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},k.constrain=function(A){return arguments.length?(n=A,k):n},k.duration=function(A){return arguments.length?(c=+A,k):c},k.interpolate=function(A){return arguments.length?(d=A,k):d},k.on=function(){var A=f.on.apply(f,arguments);return A===f?k:A},k.clickDistance=function(A){return arguments.length?(v=(A=+A)*A,k):Math.sqrt(v)},k.tapDistance=function(A){return arguments.length?(S=+A,k):S},k}const qr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},$a=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ek=["Enter"," ","Escape"],jk={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var qs;(function(e){e.Strict="strict",e.Loose="loose"})(qs||(qs={}));var Ri;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Ri||(Ri={}));var Fa;(function(e){e.Partial="partial",e.Full="full"})(Fa||(Fa={}));const _k={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Wo;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Wo||(Wo={}));var Ba;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ba||(Ba={}));var Pe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Pe||(Pe={}));const ww={[Pe.Left]:Pe.Right,[Pe.Right]:Pe.Left,[Pe.Top]:Pe.Bottom,[Pe.Bottom]:Pe.Top};function Pk(e){return e===null?null:e?"valid":"invalid"}const Ak=e=>"id"in e&&"source"in e&&"target"in e,OO=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Vg=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),nc=(e,t=[0,0])=>{const{width:n,height:r}=xo(e),o=e.origin??t,i=n*o[0],l=r*o[1];return{x:e.position.x-i,y:e.position.y-l}},LO=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let l=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(l=i?t.nodeLookup.get(o):Vg(o)?o:t.nodeLookup.get(o.id));const c=l?wd(l,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Kd(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Qd(n)},rc=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=Kd(n,wd(o)),r=!0)}),r?Qd(n):{x:0,y:0,width:0,height:0}},Hg=(e,t,[n,r,o]=[0,0,1],i=!1,l=!1)=>{const c={...ic(t,[n,r,o]),width:t.width/o,height:t.height/o},d=[];for(const f of e.values()){const{measured:m,selectable:p=!0,hidden:g=!1}=f;if(l&&!p||g)continue;const x=m.width??f.width??f.initialWidth??null,b=m.height??f.height??f.initialHeight??null,v=Va(c,Ks(f)),S=(x??0)*(b??0),k=i&&v>0;(!f.internals.handleBounds||k||v>=S||f.dragging)&&d.push(f)}return d},zO=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function $O(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function FO({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},l){if(e.size===0)return Promise.resolve(!0);const c=$O(e,l),d=rc(c),f=Ug(d,t,n,(l==null?void 0:l.minZoom)??o,(l==null?void 0:l.maxZoom)??i,(l==null?void 0:l.padding)??.1);return await r.setViewport(f,{duration:l==null?void 0:l.duration,ease:l==null?void 0:l.ease,interpolate:l==null?void 0:l.interpolate}),Promise.resolve(!0)}function Ik({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const l=n.get(e),c=l.parentId?n.get(l.parentId):void 0,{x:d,y:f}=c?c.internals.positionAbsolute:{x:0,y:0},m=l.origin??r;let p=l.extent||o;if(l.extent==="parent"&&!l.expandParent)if(!c)i==null||i("005",qr.error005());else{const x=c.measured.width,b=c.measured.height;x&&b&&(p=[[d,f],[d+x,f+b]])}else c&&Qs(l.extent)&&(p=[[l.extent[0][0]+d,l.extent[0][1]+f],[l.extent[1][0]+d,l.extent[1][1]+f]]);const g=Qs(p)?Li(t,p,l.measured):t;return(l.measured.width===void 0||l.measured.height===void 0)&&(i==null||i("015",qr.error015())),{position:{x:g.x-d+(l.measured.width??0)*m[0],y:g.y-f+(l.measured.height??0)*m[1]},positionAbsolute:g}}async function BO({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(g=>g.id)),l=[];for(const g of n){if(g.deletable===!1)continue;const x=i.has(g.id),b=!x&&g.parentId&&l.find(v=>v.id===g.parentId);(x||b)&&l.push(g)}const c=new Set(t.map(g=>g.id)),d=r.filter(g=>g.deletable!==!1),m=zO(l,d);for(const g of d)c.has(g.id)&&!m.find(b=>b.id===g.id)&&m.push(g);if(!o)return{edges:m,nodes:l};const p=await o({nodes:l,edges:m});return typeof p=="boolean"?p?{edges:m,nodes:l}:{edges:[],nodes:[]}:p}const Gs=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Li=(e={x:0,y:0},t,n)=>({x:Gs(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Gs(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Tk(e,t,n){const{width:r,height:o}=xo(n),{x:i,y:l}=n.internals.positionAbsolute;return Li(e,[[i,l],[i+r,l+o]],t)}const bw=(e,t,n)=>e<t?Gs(Math.abs(e-t),1,t)/t:e>n?-Gs(Math.abs(e-n),1,t)/t:0,Rk=(e,t,n=15,r=40)=>{const o=bw(e.x,r,t.width-r)*n,i=bw(e.y,r,t.height-r)*n;return[o,i]},Kd=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Hm=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Qd=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Ks=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Vg(e)?e.internals.positionAbsolute:nc(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},wd=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Vg(e)?e.internals.positionAbsolute:nc(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},Mk=(e,t)=>Qd(Kd(Hm(e),Hm(t))),Va=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Sw=e=>Nr(e.width)&&Nr(e.height)&&Nr(e.x)&&Nr(e.y),Nr=e=>!isNaN(e)&&isFinite(e),VO=(e,t)=>{},oc=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),ic=({x:e,y:t},[n,r,o],i=!1,l=[1,1])=>{const c={x:(e-n)/o,y:(t-r)/o};return i?oc(c,l):c},bd=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function Cs(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function HO(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Cs(e,n),o=Cs(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=Cs(e.top??e.y??0,n),o=Cs(e.bottom??e.y??0,n),i=Cs(e.left??e.x??0,t),l=Cs(e.right??e.x??0,t);return{top:r,right:l,bottom:o,left:i,x:i+l,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function UO(e,t,n,r,o,i){const{x:l,y:c}=bd(e,[t,n,r]),{x:d,y:f}=bd({x:e.x+e.width,y:e.y+e.height},[t,n,r]),m=o-d,p=i-f;return{left:Math.floor(l),top:Math.floor(c),right:Math.floor(m),bottom:Math.floor(p)}}const Ug=(e,t,n,r,o,i)=>{const l=HO(i,t,n),c=(t-l.x)/e.width,d=(n-l.y)/e.height,f=Math.min(c,d),m=Gs(f,r,o),p=e.x+e.width/2,g=e.y+e.height/2,x=t/2-p*m,b=n/2-g*m,v=UO(e,x,b,m,t,n),S={left:Math.min(v.left-l.left,0),top:Math.min(v.top-l.top,0),right:Math.min(v.right-l.right,0),bottom:Math.min(v.bottom-l.bottom,0)};return{x:x-S.left+S.right,y:b-S.top+S.bottom,zoom:m}},Ha=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Qs(e){return e!=null&&e!=="parent"}function xo(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Wg(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Dk(e,t={width:0,height:0},n,r,o){const i={...e},l=r.get(n);if(l){const c=l.origin||o;i.x+=l.internals.positionAbsolute.x-(t.width??0)*c[0],i.y+=l.internals.positionAbsolute.y-(t.height??0)*c[1]}return i}function kw(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function WO(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function YO(e){return{...jk,...e||{}}}function Na(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:l}=Er(e),c=ic({x:i-((o==null?void 0:o.left)??0),y:l-((o==null?void 0:o.top)??0)},r),{x:d,y:f}=n?oc(c,t):c;return{xSnapped:d,ySnapped:f,...c}}const Yg=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ok=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},XO=["INPUT","SELECT","TEXTAREA"];function Lk(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:XO.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const zk=e=>"clientX"in e,Er=(e,t)=>{var i,l;const n=zk(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Cw=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:e,nodeId:o,position:l.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...Yg(l)}})};function $k({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:l,targetControlY:c}){const d=e*.125+o*.375+l*.375+n*.125,f=t*.125+i*.375+c*.375+r*.125,m=Math.abs(d-e),p=Math.abs(f-t);return[d,f,m,p]}function Du(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Nw({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case Pe.Left:return[t-Du(t-r,i),n];case Pe.Right:return[t+Du(r-t,i),n];case Pe.Top:return[t,n-Du(n-o,i)];case Pe.Bottom:return[t,n+Du(o-n,i)]}}function Fk({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:o,targetPosition:i=Pe.Top,curvature:l=.25}){const[c,d]=Nw({pos:n,x1:e,y1:t,x2:r,y2:o,c:l}),[f,m]=Nw({pos:i,x1:r,y1:o,x2:e,y2:t,c:l}),[p,g,x,b]=$k({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:c,sourceControlY:d,targetControlX:f,targetControlY:m});return[`M${e},${t} C${c},${d} ${f},${m} ${r},${o}`,p,g,x,b]}function Bk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,l=Math.abs(r-t)/2,c=r<t?r+l:r-l;return[i,c,o,l]}function qO({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const l=o&&n?r+1e3:r,c=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return l+c}function GO({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=Kd(wd(e),wd(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const l={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Va(l,Qd(i))>0}const KO=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,QO=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),JO=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||KO;let o;return Ak(e)?o={...e}:o={...e,id:r(e)},QO(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function Xg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,l,c]=Bk({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,l,c]}const Ew={[Pe.Left]:{x:-1,y:0},[Pe.Right]:{x:1,y:0},[Pe.Top]:{x:0,y:-1},[Pe.Bottom]:{x:0,y:1}},ZO=({source:e,sourcePosition:t=Pe.Bottom,target:n})=>t===Pe.Left||t===Pe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},jw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function eL({source:e,sourcePosition:t=Pe.Bottom,target:n,targetPosition:r=Pe.Top,center:o,offset:i,stepPosition:l}){const c=Ew[t],d=Ew[r],f={x:e.x+c.x*i,y:e.y+c.y*i},m={x:n.x+d.x*i,y:n.y+d.y*i},p=ZO({source:f,sourcePosition:t,target:m}),g=p.x!==0?"x":"y",x=p[g];let b=[],v,S;const k={x:0,y:0},E={x:0,y:0},[,,N,_]=Bk({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(c[g]*d[g]===-1){g==="x"?(v=o.x??f.x+(m.x-f.x)*l,S=o.y??(f.y+m.y)/2):(v=o.x??(f.x+m.x)/2,S=o.y??f.y+(m.y-f.y)*l);const P=[{x:v,y:f.y},{x:v,y:m.y}],M=[{x:f.x,y:S},{x:m.x,y:S}];c[g]===x?b=g==="x"?P:M:b=g==="x"?M:P}else{const P=[{x:f.x,y:m.y}],M=[{x:m.x,y:f.y}];if(g==="x"?b=c.x===x?M:P:b=c.y===x?P:M,t===r){const q=Math.abs(e[g]-n[g]);if(q<=i){const U=Math.min(i-1,i-q);c[g]===x?k[g]=(f[g]>e[g]?-1:1)*U:E[g]=(m[g]>n[g]?-1:1)*U}}if(t!==r){const q=g==="x"?"y":"x",U=c[g]===d[q],A=f[q]>m[q],F=f[q]<m[q];(c[g]===1&&(!U&&A||U&&F)||c[g]!==1&&(!U&&F||U&&A))&&(b=g==="x"?P:M)}const z={x:f.x+k.x,y:f.y+k.y},Y={x:m.x+E.x,y:m.y+E.y},L=Math.max(Math.abs(z.x-b[0].x),Math.abs(Y.x-b[0].x)),B=Math.max(Math.abs(z.y-b[0].y),Math.abs(Y.y-b[0].y));L>=B?(v=(z.x+Y.x)/2,S=b[0].y):(v=b[0].x,S=(z.y+Y.y)/2)}return[[e,{x:f.x+k.x,y:f.y+k.y},...b,{x:m.x+E.x,y:m.y+E.y},n],v,S,N,_]}function tL(e,t,n,r){const o=Math.min(jw(e,t)/2,jw(t,n)/2,r),{x:i,y:l}=t;if(e.x===i&&i===n.x||e.y===l&&l===n.y)return`L${i} ${l}`;if(e.y===l){const f=e.x<n.x?-1:1,m=e.y<n.y?1:-1;return`L ${i+o*f},${l}Q ${i},${l} ${i},${l+o*m}`}const c=e.x<n.x?1:-1,d=e.y<n.y?-1:1;return`L ${i},${l+o*d}Q ${i},${l} ${i+o*c},${l}`}function Um({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:o,targetPosition:i=Pe.Top,borderRadius:l=5,centerX:c,centerY:d,offset:f=20,stepPosition:m=.5}){const[p,g,x,b,v]=eL({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:c,y:d},offset:f,stepPosition:m});return[p.reduce((k,E,N)=>{let _="";return N>0&&N<p.length-1?_=tL(p[N-1],E,p[N+1],l):_=`${N===0?"M":"L"}${E.x} ${E.y}`,k+=_,k},""),g,x,b,v]}function _w(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function nL(e){var p;const{sourceNode:t,targetNode:n}=e;if(!_w(t)||!_w(n))return null;const r=t.internals.handleBounds||Pw(t.handles),o=n.internals.handleBounds||Pw(n.handles),i=Aw((r==null?void 0:r.source)??[],e.sourceHandle),l=Aw(e.connectionMode===qs.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!l)return(p=e.onError)==null||p.call(e,"008",qr.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const c=(i==null?void 0:i.position)||Pe.Bottom,d=(l==null?void 0:l.position)||Pe.Top,f=zi(t,i,c),m=zi(n,l,d);return{sourceX:f.x,sourceY:f.y,targetX:m.x,targetY:m.y,sourcePosition:c,targetPosition:d}}function Pw(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function zi(e,t,n=Pe.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:l,height:c}=t??xo(e);if(r)return{x:o+l/2,y:i+c/2};switch((t==null?void 0:t.position)??n){case Pe.Top:return{x:o+l/2,y:i};case Pe.Right:return{x:o+l,y:i+c/2};case Pe.Bottom:return{x:o+l/2,y:i+c};case Pe.Left:return{x:o,y:i+c/2}}}function Aw(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Wm(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function rL(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((l,c)=>([c.markerStart||r,c.markerEnd||o].forEach(d=>{if(d&&typeof d=="object"){const f=Wm(d,t);i.has(f)||(l.push({id:f,color:d.color||n,...d}),i.add(f))}}),l),[]).sort((l,c)=>l.id.localeCompare(c.id))}const Vk=1e3,oL=10,qg={nodeOrigin:[0,0],nodeExtent:$a,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},iL={...qg,checkEquality:!0};function Gg(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function sL(e,t,n){const r=Gg(qg,n);for(const o of e.values())if(o.parentId)Qg(o,e,t,r);else{const i=nc(o,r.nodeOrigin),l=Qs(o.extent)?o.extent:r.nodeExtent,c=Li(i,l,xo(o));o.internals.positionAbsolute=c}}function lL(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const i={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(i):o.type==="target"&&r.push(i)}return{source:n,target:r}}function Kg(e){return e==="manual"}function Ym(e,t,n,r={}){var f,m;const o=Gg(iL,r),i={i:0},l=new Map(t),c=o!=null&&o.elevateNodesOnSelect&&!Kg(o.zIndexMode)?Vk:0;let d=e.length>0;t.clear(),n.clear();for(const p of e){let g=l.get(p.id);if(o.checkEquality&&p===(g==null?void 0:g.internals.userNode))t.set(p.id,g);else{const x=nc(p,o.nodeOrigin),b=Qs(p.extent)?p.extent:o.nodeExtent,v=Li(x,b,xo(p));g={...o.defaults,...p,measured:{width:(f=p.measured)==null?void 0:f.width,height:(m=p.measured)==null?void 0:m.height},internals:{positionAbsolute:v,handleBounds:lL(p,g),z:Hk(p,c,o.zIndexMode),userNode:p}},t.set(p.id,g)}(g.measured===void 0||g.measured.width===void 0||g.measured.height===void 0)&&!g.hidden&&(d=!1),p.parentId&&Qg(g,t,n,r,i)}return d}function aL(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Qg(e,t,n,r,o){const{elevateNodesOnSelect:i,nodeOrigin:l,nodeExtent:c,zIndexMode:d}=Gg(qg,r),f=e.parentId,m=t.get(f);if(!m){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}aL(e,n),o&&!m.parentId&&m.internals.rootParentIndex===void 0&&d==="auto"&&(m.internals.rootParentIndex=++o.i,m.internals.z=m.internals.z+o.i*oL),o&&m.internals.rootParentIndex!==void 0&&(o.i=m.internals.rootParentIndex);const p=i&&!Kg(d)?Vk:0,{x:g,y:x,z:b}=cL(e,m,l,c,p,d),{positionAbsolute:v}=e.internals,S=g!==v.x||x!==v.y;(S||b!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:S?{x:g,y:x}:v,z:b}})}function Hk(e,t,n){const r=Nr(e.zIndex)?e.zIndex:0;return Kg(n)?r:r+(e.selected?t:0)}function cL(e,t,n,r,o,i){const{x:l,y:c}=t.internals.positionAbsolute,d=xo(e),f=nc(e,n),m=Qs(e.extent)?Li(f,e.extent,d):f;let p=Li({x:l+m.x,y:c+m.y},r,d);e.extent==="parent"&&(p=Tk(p,d,t));const g=Hk(e,o,i),x=t.internals.z??0;return{x:p.x,y:p.y,z:x>=g?x+1:g}}function Jg(e,t,n,r=[0,0]){var l;const o=[],i=new Map;for(const c of e){const d=t.get(c.parentId);if(!d)continue;const f=((l=i.get(c.parentId))==null?void 0:l.expandedRect)??Ks(d),m=Mk(f,c.rect);i.set(c.parentId,{expandedRect:m,parent:d})}return i.size>0&&i.forEach(({expandedRect:c,parent:d},f)=>{var N;const m=d.internals.positionAbsolute,p=xo(d),g=d.origin??r,x=c.x<m.x?Math.round(Math.abs(m.x-c.x)):0,b=c.y<m.y?Math.round(Math.abs(m.y-c.y)):0,v=Math.max(p.width,Math.round(c.width)),S=Math.max(p.height,Math.round(c.height)),k=(v-p.width)*g[0],E=(S-p.height)*g[1];(x>0||b>0||k||E)&&(o.push({id:f,type:"position",position:{x:d.position.x-x+k,y:d.position.y-b+E}}),(N=n.get(f))==null||N.forEach(_=>{e.some(T=>T.id===_.id)||o.push({id:_.id,type:"position",position:{x:_.position.x+x,y:_.position.y+b}})})),(p.width<c.width||p.height<c.height||x||b)&&o.push({id:f,type:"dimensions",setAttributes:!0,dimensions:{width:v+(x?g[0]*x-k:0),height:S+(b?g[1]*b-E:0)}})}),o}function uL(e,t,n,r,o,i,l){const c=r==null?void 0:r.querySelector(".xyflow__viewport");let d=!1;if(!c)return{changes:[],updatedInternals:d};const f=[],m=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(m.transform),g=[];for(const x of e.values()){const b=t.get(x.id);if(!b)continue;if(b.hidden){t.set(b.id,{...b,internals:{...b.internals,handleBounds:void 0}}),d=!0;continue}const v=Yg(x.nodeElement),S=b.measured.width!==v.width||b.measured.height!==v.height;if(!!(v.width&&v.height&&(S||!b.internals.handleBounds||x.force))){const E=x.nodeElement.getBoundingClientRect(),N=Qs(b.extent)?b.extent:i;let{positionAbsolute:_}=b.internals;b.parentId&&b.extent==="parent"?_=Tk(_,v,t.get(b.parentId)):N&&(_=Li(_,N,v));const T={...b,measured:v,internals:{...b.internals,positionAbsolute:_,handleBounds:{source:Cw("source",x.nodeElement,E,p,b.id),target:Cw("target",x.nodeElement,E,p,b.id)}}};t.set(b.id,T),b.parentId&&Qg(T,t,n,{nodeOrigin:o,zIndexMode:l}),d=!0,S&&(f.push({id:b.id,type:"dimensions",dimensions:v}),b.expandParent&&b.parentId&&g.push({id:b.id,parentId:b.parentId,rect:Ks(T,o)}))}}if(g.length>0){const x=Jg(g,t,n,o);f.push(...x)}return{changes:f,updatedInternals:d}}async function dL({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const l=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),c=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(c)}function Iw(e,t,n,r,o,i){let l=o;const c=r.get(l)||new Map;r.set(l,c.set(n,t)),l=`${o}-${e}`;const d=r.get(l)||new Map;if(r.set(l,d.set(n,t)),i){l=`${o}-${e}-${i}`;const f=r.get(l)||new Map;r.set(l,f.set(n,t))}}function Uk(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:l=null,targetHandle:c=null}=r,d={edgeId:r.id,source:o,target:i,sourceHandle:l,targetHandle:c},f=`${o}-${l}--${i}-${c}`,m=`${i}-${c}--${o}-${l}`;Iw("source",d,m,e,o,l),Iw("target",d,f,e,i,c),t.set(r.id,r)}}function Wk(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Wk(n,t):!1}function Tw(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function fL(e,t,n,r){const o=new Map;for(const[i,l]of e)if((l.selected||l.id===r)&&(!l.parentId||!Wk(l,e))&&(l.draggable||t&&typeof l.draggable>"u")){const c=e.get(i);c&&o.set(i,{id:i,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return o}function Yh({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var l,c,d;const o=[];for(const[f,m]of t){const p=(l=n.get(f))==null?void 0:l.internals.userNode;p&&o.push({...p,position:m.position,dragging:r})}if(!e)return[o[0],o];const i=(c=n.get(e))==null?void 0:c.internals.userNode;return[i?{...i,position:((d=t.get(e))==null?void 0:d.position)||i.position,dragging:r}:o[0],o]}function pL({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},l=oc(i,t);return{x:l.x-i.x,y:l.y-i.y}}function hL({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},l=0,c=new Map,d=!1,f={x:0,y:0},m=null,p=!1,g=null,x=!1,b=!1,v=null;function S({noDragClassName:E,handleSelector:N,domNode:_,isSelectable:T,nodeId:P,nodeClickDistance:M=0}){g=Zn(_);function z({x:q,y:U}){const{nodeLookup:A,nodeExtent:F,snapGrid:$,snapToGrid:G,nodeOrigin:D,onNodeDrag:W,onSelectionDrag:R,onError:H,updateNodePositions:X}=t();i={x:q,y:U};let I=!1;const V=c.size>1,J=V&&F?Hm(rc(c)):null,Z=V&&G?pL({dragItems:c,snapGrid:$,x:q,y:U}):null;for(const[K,te]of c){if(!A.has(K))continue;let Q={x:q-te.distance.x,y:U-te.distance.y};G&&(Q=Z?{x:Math.round(Q.x+Z.x),y:Math.round(Q.y+Z.y)}:oc(Q,$));let ie=null;if(V&&F&&!te.extent&&J){const{positionAbsolute:pe}=te.internals,we=pe.x-J.x+F[0][0],De=pe.x+te.measured.width-J.x2+F[1][0],Oe=pe.y-J.y+F[0][1],it=pe.y+te.measured.height-J.y2+F[1][1];ie=[[we,Oe],[De,it]]}const{position:ue,positionAbsolute:fe}=Ik({nodeId:K,nextPosition:Q,nodeLookup:A,nodeExtent:ie||F,nodeOrigin:D,onError:H});I=I||te.position.x!==ue.x||te.position.y!==ue.y,te.position=ue,te.internals.positionAbsolute=fe}if(b=b||I,!!I&&(X(c,!0),v&&(r||W||!P&&R))){const[K,te]=Yh({nodeId:P,dragItems:c,nodeLookup:A});r==null||r(v,c,K,te),W==null||W(v,K,te),P||R==null||R(v,te)}}async function Y(){if(!m)return;const{transform:q,panBy:U,autoPanSpeed:A,autoPanOnNodeDrag:F}=t();if(!F){d=!1,cancelAnimationFrame(l);return}const[$,G]=Rk(f,m,A);($!==0||G!==0)&&(i.x=(i.x??0)-$/q[2],i.y=(i.y??0)-G/q[2],await U({x:$,y:G})&&z(i)),l=requestAnimationFrame(Y)}function L(q){var V;const{nodeLookup:U,multiSelectionActive:A,nodesDraggable:F,transform:$,snapGrid:G,snapToGrid:D,selectNodesOnDrag:W,onNodeDragStart:R,onSelectionDragStart:H,unselectNodesAndEdges:X}=t();p=!0,(!W||!T)&&!A&&P&&((V=U.get(P))!=null&&V.selected||X()),T&&W&&P&&(e==null||e(P));const I=Na(q.sourceEvent,{transform:$,snapGrid:G,snapToGrid:D,containerBounds:m});if(i=I,c=fL(U,F,I,P),c.size>0&&(n||R||!P&&H)){const[J,Z]=Yh({nodeId:P,dragItems:c,nodeLookup:U});n==null||n(q.sourceEvent,c,J,Z),R==null||R(q.sourceEvent,J,Z),P||H==null||H(q.sourceEvent,Z)}}const B=uk().clickDistance(M).on("start",q=>{const{domNode:U,nodeDragThreshold:A,transform:F,snapGrid:$,snapToGrid:G}=t();m=(U==null?void 0:U.getBoundingClientRect())||null,x=!1,b=!1,v=q.sourceEvent,A===0&&L(q),i=Na(q.sourceEvent,{transform:F,snapGrid:$,snapToGrid:G,containerBounds:m}),f=Er(q.sourceEvent,m)}).on("drag",q=>{const{autoPanOnNodeDrag:U,transform:A,snapGrid:F,snapToGrid:$,nodeDragThreshold:G,nodeLookup:D}=t(),W=Na(q.sourceEvent,{transform:A,snapGrid:F,snapToGrid:$,containerBounds:m});if(v=q.sourceEvent,(q.sourceEvent.type==="touchmove"&&q.sourceEvent.touches.length>1||P&&!D.has(P))&&(x=!0),!x){if(!d&&U&&p&&(d=!0,Y()),!p){const R=Er(q.sourceEvent,m),H=R.x-f.x,X=R.y-f.y;Math.sqrt(H*H+X*X)>G&&L(q)}(i.x!==W.xSnapped||i.y!==W.ySnapped)&&c&&p&&(f=Er(q.sourceEvent,m),z(W))}}).on("end",q=>{if(!(!p||x)&&(d=!1,p=!1,cancelAnimationFrame(l),c.size>0)){const{nodeLookup:U,updateNodePositions:A,onNodeDragStop:F,onSelectionDragStop:$}=t();if(b&&(A(c,!1),b=!1),o||F||!P&&$){const[G,D]=Yh({nodeId:P,dragItems:c,nodeLookup:U,dragging:!1});o==null||o(q.sourceEvent,c,G,D),F==null||F(q.sourceEvent,G,D),P||$==null||$(q.sourceEvent,D)}}}).filter(q=>{const U=q.target;return!q.button&&(!E||!Tw(U,`.${E}`,_))&&(!N||Tw(U,N,_))});g.call(B)}function k(){g==null||g.on(".drag",null)}return{update:S,destroy:k}}function mL(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())Va(o,Ks(i))>0&&r.push(i);return r}const gL=250;function xL(e,t,n,r){var c,d;let o=[],i=1/0;const l=mL(e,n,t+gL);for(const f of l){const m=[...((c=f.internals.handleBounds)==null?void 0:c.source)??[],...((d=f.internals.handleBounds)==null?void 0:d.target)??[]];for(const p of m){if(r.nodeId===p.nodeId&&r.type===p.type&&r.id===p.id)continue;const{x:g,y:x}=zi(f,p,p.position,!0),b=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(x-e.y,2));b>t||(b<i?(o=[{...p,x:g,y:x}],i=b):b===i&&o.push({...p,x:g,y:x}))}}if(!o.length)return null;if(o.length>1){const f=r.type==="source"?"target":"source";return o.find(m=>m.type===f)??o[0]}return o[0]}function Yk(e,t,n,r,o,i=!1){var f,m,p;const l=r.get(e);if(!l)return null;const c=o==="strict"?(f=l.internals.handleBounds)==null?void 0:f[t]:[...((m=l.internals.handleBounds)==null?void 0:m.source)??[],...((p=l.internals.handleBounds)==null?void 0:p.target)??[]],d=(n?c==null?void 0:c.find(g=>g.id===n):c==null?void 0:c[0])??null;return d&&i?{...d,...zi(l,d,d.position,!0)}:d}function Xk(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function yL(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const qk=()=>!0;function vL(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:l,domNode:c,nodeLookup:d,lib:f,autoPanOnConnect:m,flowId:p,panBy:g,cancelConnection:x,onConnectStart:b,onConnect:v,onConnectEnd:S,isValidConnection:k=qk,onReconnectEnd:E,updateConnection:N,getTransform:_,getFromHandle:T,autoPanSpeed:P,dragThreshold:M=1,handleDomNode:z}){const Y=Ok(e.target);let L=0,B;const{x:q,y:U}=Er(e),A=Xk(i,z),F=c==null?void 0:c.getBoundingClientRect();let $=!1;if(!F||!A)return;const G=Yk(o,A,r,d,t);if(!G)return;let D=Er(e,F),W=!1,R=null,H=!1,X=null;function I(){if(!m||!F)return;const[ue,fe]=Rk(D,F,P);g({x:ue,y:fe}),L=requestAnimationFrame(I)}const V={...G,nodeId:o,type:A,position:G.position},J=d.get(o);let K={inProgress:!0,isValid:null,from:zi(J,V,Pe.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:J,to:D,toHandle:null,toPosition:ww[V.position],toNode:null,pointer:D};function te(){$=!0,N(K),b==null||b(e,{nodeId:o,handleId:r,handleType:A})}M===0&&te();function Q(ue){if(!$){const{x:it,y:Ze}=Er(ue),Qe=it-q,Ce=Ze-U;if(!(Qe*Qe+Ce*Ce>M*M))return;te()}if(!T()||!V){ie(ue);return}const fe=_();D=Er(ue,F),B=xL(ic(D,fe,!1,[1,1]),n,d,V),W||(I(),W=!0);const pe=Gk(ue,{handle:B,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:l?"target":"source",isValidConnection:k,doc:Y,lib:f,flowId:p,nodeLookup:d});X=pe.handleDomNode,R=pe.connection,H=yL(!!B,pe.isValid);const we=d.get(o),De=we?zi(we,V,Pe.Left,!0):K.from,Oe={...K,from:De,isValid:H,to:pe.toHandle&&H?bd({x:pe.toHandle.x,y:pe.toHandle.y},fe):D,toHandle:pe.toHandle,toPosition:H&&pe.toHandle?pe.toHandle.position:ww[V.position],toNode:pe.toHandle?d.get(pe.toHandle.nodeId):null,pointer:D};N(Oe),K=Oe}function ie(ue){if(!("touches"in ue&&ue.touches.length>0)){if($){(B||X)&&R&&H&&(v==null||v(R));const{inProgress:fe,...pe}=K,we={...pe,toPosition:K.toHandle?K.toPosition:null};S==null||S(ue,we),i&&(E==null||E(ue,we))}x(),cancelAnimationFrame(L),W=!1,H=!1,R=null,X=null,Y.removeEventListener("mousemove",Q),Y.removeEventListener("mouseup",ie),Y.removeEventListener("touchmove",Q),Y.removeEventListener("touchend",ie)}}Y.addEventListener("mousemove",Q),Y.addEventListener("mouseup",ie),Y.addEventListener("touchmove",Q),Y.addEventListener("touchend",ie)}function Gk(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:l,lib:c,flowId:d,isValidConnection:f=qk,nodeLookup:m}){const p=i==="target",g=t?l.querySelector(`.${c}-flow__handle[data-id="${d}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x,y:b}=Er(e),v=l.elementFromPoint(x,b),S=v!=null&&v.classList.contains(`${c}-flow__handle`)?v:g,k={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const E=Xk(void 0,S),N=S.getAttribute("data-nodeid"),_=S.getAttribute("data-handleid"),T=S.classList.contains("connectable"),P=S.classList.contains("connectableend");if(!N||!E)return k;const M={source:p?N:r,sourceHandle:p?_:o,target:p?r:N,targetHandle:p?o:_};k.connection=M;const Y=T&&P&&(n===qs.Strict?p&&E==="source"||!p&&E==="target":N!==r||_!==o);k.isValid=Y&&f(M),k.toHandle=Yk(N,E,_,m,n,!0)}return k}const Xm={onPointerDown:vL,isValid:Gk};function wL({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=Zn(e);function i({translateExtent:c,width:d,height:f,zoomStep:m=1,pannable:p=!0,zoomable:g=!0,inversePan:x=!1}){const b=N=>{if(N.sourceEvent.type!=="wheel"||!t)return;const _=n(),T=N.sourceEvent.ctrlKey&&Ha()?10:1,P=-N.sourceEvent.deltaY*(N.sourceEvent.deltaMode===1?.05:N.sourceEvent.deltaMode?1:.002)*m,M=_[2]*Math.pow(2,P*T);t.scaleTo(M)};let v=[0,0];const S=N=>{(N.sourceEvent.type==="mousedown"||N.sourceEvent.type==="touchstart")&&(v=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY])},k=N=>{const _=n();if(N.sourceEvent.type!=="mousemove"&&N.sourceEvent.type!=="touchmove"||!t)return;const T=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY],P=[T[0]-v[0],T[1]-v[1]];v=T;const M=r()*Math.max(_[2],Math.log(_[2]))*(x?-1:1),z={x:_[0]-P[0]*M,y:_[1]-P[1]*M},Y=[[0,0],[d,f]];t.setViewportConstrained({x:z.x,y:z.y,zoom:_[2]},Y,c)},E=Nk().on("start",S).on("zoom",p?k:null).on("zoom.wheel",g?b:null);o.call(E,{})}function l(){o.on("zoom",null)}return{update:i,destroy:l,pointer:kr}}const Jd=e=>({x:e.x,y:e.y,zoom:e.k}),Xh=({x:e,y:t,zoom:n})=>Gd.translate(e,t).scale(n),Rs=(e,t)=>e.target.closest(`.${t}`),Kk=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),bL=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,qh=(e,t=0,n=bL,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},Qk=e=>{const t=e.ctrlKey&&Ha()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function SL({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:l,onPanZoomStart:c,onPanZoom:d,onPanZoomEnd:f}){return m=>{if(Rs(m,t))return m.ctrlKey&&m.preventDefault(),!1;m.preventDefault(),m.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(m.ctrlKey&&l){const S=kr(m),k=Qk(m),E=p*Math.pow(2,k);r.scaleTo(n,E,S,m);return}const g=m.deltaMode===1?20:1;let x=o===Ri.Vertical?0:m.deltaX*g,b=o===Ri.Horizontal?0:m.deltaY*g;!Ha()&&m.shiftKey&&o!==Ri.Vertical&&(x=m.deltaY*g,b=0),r.translateBy(n,-(x/p)*i,-(b/p)*i,{internal:!0});const v=Jd(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(d==null||d(m,v),e.panScrollTimeout=setTimeout(()=>{f==null||f(m,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,c==null||c(m,v))}}function kL({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",l=!t&&i&&!r.ctrlKey,c=Rs(r,e);if(r.ctrlKey&&i&&c&&r.preventDefault(),l||c)return null;r.preventDefault(),n.call(this,r,o)}}function CL({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,l,c;if((i=r.sourceEvent)!=null&&i.internal)return;const o=Jd(r.transform);e.mouseButton=((l=r.sourceEvent)==null?void 0:l.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((c=r.sourceEvent)==null?void 0:c.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function NL({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var l,c;e.usedRightMouseButton=!!(n&&Kk(t,e.mouseButton??0)),(l=i.sourceEvent)!=null&&l.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((c=i.sourceEvent)!=null&&c.internal)&&(o==null||o(i.sourceEvent,Jd(i.transform)))}}function EL({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return l=>{var c;if(!((c=l.sourceEvent)!=null&&c.internal)&&(e.isZoomingOrPanning=!1,i&&Kk(t,e.mouseButton??0)&&!e.usedRightMouseButton&&l.sourceEvent&&i(l.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const d=Jd(l.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(l.sourceEvent,d)},n?150:0)}}}function jL({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:l,noWheelClassName:c,noPanClassName:d,lib:f,connectionInProgress:m}){return p=>{var S;const g=e||t,x=n&&p.ctrlKey,b=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(Rs(p,`${f}-flow__node`)||Rs(p,`${f}-flow__edge`)))return!0;if(!r&&!g&&!o&&!i&&!n||l||m&&!b||Rs(p,c)&&b||Rs(p,d)&&(!b||o&&b&&!e)||!n&&p.ctrlKey&&b)return!1;if(!n&&p.type==="touchstart"&&((S=p.touches)==null?void 0:S.length)>1)return p.preventDefault(),!1;if(!g&&!o&&!x&&b||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||b)&&v}}function _L({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:i,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=e.getBoundingClientRect(),p=Nk().scaleExtent([t,n]).translateExtent(r),g=Zn(e).call(p);E({x:o.x,y:o.y,zoom:Gs(o.zoom,t,n)},[[0,0],[m.width,m.height]],r);const x=g.on("wheel.zoom"),b=g.on("dblclick.zoom");p.wheelDelta(Qk);function v(B,q){return g?new Promise(U=>{p==null||p.interpolate((q==null?void 0:q.interpolate)==="linear"?Ca:Zu).transform(qh(g,q==null?void 0:q.duration,q==null?void 0:q.ease,()=>U(!0)),B)}):Promise.resolve(!1)}function S({noWheelClassName:B,noPanClassName:q,onPaneContextMenu:U,userSelectionActive:A,panOnScroll:F,panOnDrag:$,panOnScrollMode:G,panOnScrollSpeed:D,preventScrolling:W,zoomOnPinch:R,zoomOnScroll:H,zoomOnDoubleClick:X,zoomActivationKeyPressed:I,lib:V,onTransformChange:J,connectionInProgress:Z,paneClickDistance:K,selectionOnDrag:te}){A&&!f.isZoomingOrPanning&&k();const Q=F&&!I&&!A;p.clickDistance(te?1/0:!Nr(K)||K<0?0:K);const ie=Q?SL({zoomPanValues:f,noWheelClassName:B,d3Selection:g,d3Zoom:p,panOnScrollMode:G,panOnScrollSpeed:D,zoomOnPinch:R,onPanZoomStart:l,onPanZoom:i,onPanZoomEnd:c}):kL({noWheelClassName:B,preventScrolling:W,d3ZoomHandler:x});if(g.on("wheel.zoom",ie,{passive:!1}),!A){const fe=CL({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:l});p.on("start",fe);const pe=NL({zoomPanValues:f,panOnDrag:$,onPaneContextMenu:!!U,onPanZoom:i,onTransformChange:J});p.on("zoom",pe);const we=EL({zoomPanValues:f,panOnDrag:$,panOnScroll:F,onPaneContextMenu:U,onPanZoomEnd:c,onDraggingChange:d});p.on("end",we)}const ue=jL({zoomActivationKeyPressed:I,panOnDrag:$,zoomOnScroll:H,panOnScroll:F,zoomOnDoubleClick:X,zoomOnPinch:R,userSelectionActive:A,noPanClassName:q,noWheelClassName:B,lib:V,connectionInProgress:Z});p.filter(ue),X?g.on("dblclick.zoom",b):g.on("dblclick.zoom",null)}function k(){p.on("zoom",null)}async function E(B,q,U){const A=Xh(B),F=p==null?void 0:p.constrain()(A,q,U);return F&&await v(F),new Promise($=>$(F))}async function N(B,q){const U=Xh(B);return await v(U,q),new Promise(A=>A(U))}function _(B){if(g){const q=Xh(B),U=g.property("__zoom");(U.k!==B.zoom||U.x!==B.x||U.y!==B.y)&&(p==null||p.transform(g,q,null,{sync:!0}))}}function T(){const B=g?Ck(g.node()):{x:0,y:0,k:1};return{x:B.x,y:B.y,zoom:B.k}}function P(B,q){return g?new Promise(U=>{p==null||p.interpolate((q==null?void 0:q.interpolate)==="linear"?Ca:Zu).scaleTo(qh(g,q==null?void 0:q.duration,q==null?void 0:q.ease,()=>U(!0)),B)}):Promise.resolve(!1)}function M(B,q){return g?new Promise(U=>{p==null||p.interpolate((q==null?void 0:q.interpolate)==="linear"?Ca:Zu).scaleBy(qh(g,q==null?void 0:q.duration,q==null?void 0:q.ease,()=>U(!0)),B)}):Promise.resolve(!1)}function z(B){p==null||p.scaleExtent(B)}function Y(B){p==null||p.translateExtent(B)}function L(B){const q=!Nr(B)||B<0?0:B;p==null||p.clickDistance(q)}return{update:S,destroy:k,setViewport:N,setViewportConstrained:E,getViewport:T,scaleTo:P,scaleBy:M,setScaleExtent:z,setTranslateExtent:Y,syncViewport:_,setClickDistance:L}}var $i;(function(e){e.Line="line",e.Handle="handle"})($i||($i={}));const PL=["top-left","top-right","bottom-left","bottom-right"],AL=["top","right","bottom","left"];function IL({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const l=e-t,c=n-r,d=[l>0?1:l<0?-1:0,c>0?1:c<0?-1:0];return l&&o&&(d[0]=d[0]*-1),c&&i&&(d[1]=d[1]*-1),d}function Rw(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function $o(e,t){return Math.max(0,t-e)}function Fo(e,t){return Math.max(0,e-t)}function Ou(e,t,n){return Math.max(0,t-e,e-n)}function Mw(e,t){return e?!t:t}function TL(e,t,n,r,o,i,l,c){let{affectsX:d,affectsY:f}=t;const{isHorizontal:m,isVertical:p}=t,g=m&&p,{xSnapped:x,ySnapped:b}=n,{minWidth:v,maxWidth:S,minHeight:k,maxHeight:E}=r,{x:N,y:_,width:T,height:P,aspectRatio:M}=e;let z=Math.floor(m?x-e.pointerX:0),Y=Math.floor(p?b-e.pointerY:0);const L=T+(d?-z:z),B=P+(f?-Y:Y),q=-i[0]*T,U=-i[1]*P;let A=Ou(L,v,S),F=Ou(B,k,E);if(l){let D=0,W=0;d&&z<0?D=$o(N+z+q,l[0][0]):!d&&z>0&&(D=Fo(N+L+q,l[1][0])),f&&Y<0?W=$o(_+Y+U,l[0][1]):!f&&Y>0&&(W=Fo(_+B+U,l[1][1])),A=Math.max(A,D),F=Math.max(F,W)}if(c){let D=0,W=0;d&&z>0?D=Fo(N+z,c[0][0]):!d&&z<0&&(D=$o(N+L,c[1][0])),f&&Y>0?W=Fo(_+Y,c[0][1]):!f&&Y<0&&(W=$o(_+B,c[1][1])),A=Math.max(A,D),F=Math.max(F,W)}if(o){if(m){const D=Ou(L/M,k,E)*M;if(A=Math.max(A,D),l){let W=0;!d&&!f||d&&!f&&g?W=Fo(_+U+L/M,l[1][1])*M:W=$o(_+U+(d?z:-z)/M,l[0][1])*M,A=Math.max(A,W)}if(c){let W=0;!d&&!f||d&&!f&&g?W=$o(_+L/M,c[1][1])*M:W=Fo(_+(d?z:-z)/M,c[0][1])*M,A=Math.max(A,W)}}if(p){const D=Ou(B*M,v,S)/M;if(F=Math.max(F,D),l){let W=0;!d&&!f||f&&!d&&g?W=Fo(N+B*M+q,l[1][0])/M:W=$o(N+(f?Y:-Y)*M+q,l[0][0])/M,F=Math.max(F,W)}if(c){let W=0;!d&&!f||f&&!d&&g?W=$o(N+B*M,c[1][0])/M:W=Fo(N+(f?Y:-Y)*M,c[0][0])/M,F=Math.max(F,W)}}}Y=Y+(Y<0?F:-F),z=z+(z<0?A:-A),o&&(g?L>B*M?Y=(Mw(d,f)?-z:z)/M:z=(Mw(d,f)?-Y:Y)*M:m?(Y=z/M,f=d):(z=Y*M,d=f));const $=d?N+z:N,G=f?_+Y:_;return{width:T+(d?-z:z),height:P+(f?-Y:Y),x:i[0]*z*(d?-1:1)+$,y:i[1]*Y*(f?-1:1)+G}}const Jk={width:0,height:0,x:0,y:0},RL={...Jk,pointerX:0,pointerY:0,aspectRatio:1};function ML(e){return[[0,0],[e.measured.width,e.measured.height]]}function DL(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,l=e.measured.height??0,c=n[0]*i,d=n[1]*l;return[[r-c,o-d],[r+i-c,o+l-d]]}function OL({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=Zn(e);let l={controlDirection:Rw("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function c({controlPosition:f,boundaries:m,keepAspectRatio:p,resizeDirection:g,onResizeStart:x,onResize:b,onResizeEnd:v,shouldResize:S}){let k={...Jk},E={...RL};l={boundaries:m,resizeDirection:g,keepAspectRatio:p,controlDirection:Rw(f)};let N,_=null,T=[],P,M,z,Y=!1;const L=uk().on("start",B=>{const{nodeLookup:q,transform:U,snapGrid:A,snapToGrid:F,nodeOrigin:$,paneDomNode:G}=n();if(N=q.get(t),!N)return;_=(G==null?void 0:G.getBoundingClientRect())??null;const{xSnapped:D,ySnapped:W}=Na(B.sourceEvent,{transform:U,snapGrid:A,snapToGrid:F,containerBounds:_});k={width:N.measured.width??0,height:N.measured.height??0,x:N.position.x??0,y:N.position.y??0},E={...k,pointerX:D,pointerY:W,aspectRatio:k.width/k.height},P=void 0,N.parentId&&(N.extent==="parent"||N.expandParent)&&(P=q.get(N.parentId),M=P&&N.extent==="parent"?ML(P):void 0),T=[],z=void 0;for(const[R,H]of q)if(H.parentId===t&&(T.push({id:R,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const X=DL(H,N,H.origin??$);z?z=[[Math.min(X[0][0],z[0][0]),Math.min(X[0][1],z[0][1])],[Math.max(X[1][0],z[1][0]),Math.max(X[1][1],z[1][1])]]:z=X}x==null||x(B,{...k})}).on("drag",B=>{const{transform:q,snapGrid:U,snapToGrid:A,nodeOrigin:F}=n(),$=Na(B.sourceEvent,{transform:q,snapGrid:U,snapToGrid:A,containerBounds:_}),G=[];if(!N)return;const{x:D,y:W,width:R,height:H}=k,X={},I=N.origin??F,{width:V,height:J,x:Z,y:K}=TL(E,l.controlDirection,$,l.boundaries,l.keepAspectRatio,I,M,z),te=V!==R,Q=J!==H,ie=Z!==D&&te,ue=K!==W&&Q;if(!ie&&!ue&&!te&&!Q)return;if((ie||ue||I[0]===1||I[1]===1)&&(X.x=ie?Z:k.x,X.y=ue?K:k.y,k.x=X.x,k.y=X.y,T.length>0)){const De=Z-D,Oe=K-W;for(const it of T)it.position={x:it.position.x-De+I[0]*(V-R),y:it.position.y-Oe+I[1]*(J-H)},G.push(it)}if((te||Q)&&(X.width=te&&(!l.resizeDirection||l.resizeDirection==="horizontal")?V:k.width,X.height=Q&&(!l.resizeDirection||l.resizeDirection==="vertical")?J:k.height,k.width=X.width,k.height=X.height),P&&N.expandParent){const De=I[0]*(X.width??0);X.x&&X.x<De&&(k.x=De,E.x=E.x-(X.x-De));const Oe=I[1]*(X.height??0);X.y&&X.y<Oe&&(k.y=Oe,E.y=E.y-(X.y-Oe))}const fe=IL({width:k.width,prevWidth:R,height:k.height,prevHeight:H,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),pe={...k,direction:fe};(S==null?void 0:S(B,pe))!==!1&&(Y=!0,b==null||b(B,pe),r(X,G))}).on("end",B=>{Y&&(v==null||v(B,{...k}),o==null||o({...k}),Y=!1)});i.call(L)}function d(){i.on(".drag",null)}return{update:c,destroy:d}}var Gh={exports:{}},Kh={},Qh={exports:{}},Jh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function LL(){if(Dw)return Jh;Dw=1;var e=Za();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function c(p,g){var x=g(),b=r({inst:{value:x,getSnapshot:g}}),v=b[0].inst,S=b[1];return i(function(){v.value=x,v.getSnapshot=g,d(v)&&S({inst:v})},[p,x,g]),o(function(){return d(v)&&S({inst:v}),p(function(){d(v)&&S({inst:v})})},[p]),l(x),x}function d(p){var g=p.getSnapshot;p=p.value;try{var x=g();return!n(p,x)}catch{return!0}}function f(p,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Jh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Jh}var Ow;function zL(){return Ow||(Ow=1,Qh.exports=LL()),Qh.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw;function $L(){if(Lw)return Kh;Lw=1;var e=Za(),t=zL();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Kh.useSyncExternalStoreWithSelector=function(f,m,p,g,x){var b=i(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=c(function(){function k(P){if(!E){if(E=!0,N=P,P=g(P),x!==void 0&&v.hasValue){var M=v.value;if(x(M,P))return _=M}return _=P}if(M=_,r(N,P))return M;var z=g(P);return x!==void 0&&x(M,z)?(N=P,M):(N=P,_=z)}var E=!1,N,_,T=p===void 0?null:p;return[function(){return k(m())},T===null?void 0:function(){return k(T())}]},[m,p,g,x]);var S=o(f,b[0],b[1]);return l(function(){v.hasValue=!0,v.value=S},[S]),d(S),S},Kh}var zw;function FL(){return zw||(zw=1,Gh.exports=$L()),Gh.exports}var BL=FL();const VL=Ja(BL),HL={},$w=e=>{let t;const n=new Set,r=(m,p)=>{const g=typeof m=="function"?m(t):m;if(!Object.is(g,t)){const x=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(b=>b(t,x))}},o=()=>t,d={setState:r,getState:o,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(HL?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,o,d);return d},UL=e=>e?$w(e):$w,{useDebugValue:WL}=He,{useSyncExternalStoreWithSelector:YL}=VL,XL=e=>e;function Zk(e,t=XL,n){const r=YL(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return WL(r),r}const Fw=(e,t)=>{const n=UL(e),r=(o,i=t)=>Zk(n,o,i);return Object.assign(r,n),r},qL=(e,t)=>e?Fw(e,t):Fw;function Ot(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var il=rS();const GL=Ja(il),Zd=w.createContext(null),KL=Zd.Provider,eC=qr.error001();function wt(e,t){const n=w.useContext(Zd);if(n===null)throw new Error(eC);return Zk(n,e,t)}function $t(){const e=w.useContext(Zd);if(e===null)throw new Error(eC);return w.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Bw={display:"none"},QL={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},tC="react-flow__node-desc",nC="react-flow__edge-desc",JL="react-flow__aria-live",ZL=e=>e.ariaLiveMessage,ez=e=>e.ariaLabelConfig;function tz({rfId:e}){const t=wt(ZL);return u.jsx("div",{id:`${JL}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:QL,children:t})}function nz({rfId:e,disableKeyboardA11y:t}){const n=wt(ez);return u.jsxs(u.Fragment,{children:[u.jsx("div",{id:`${tC}-${e}`,style:Bw,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),u.jsx("div",{id:`${nC}-${e}`,style:Bw,children:n["edge.a11yDescription.default"]}),!t&&u.jsx(tz,{rfId:e})]})}const sc=w.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const l=`${e}`.split("-");return u.jsx("div",{className:Gt(["react-flow__panel",n,...l]),style:r,ref:i,...o,children:t})});sc.displayName="Panel";function rz({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:u.jsx(sc,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:u.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const oz=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Lu=e=>e.id;function iz(e,t){return Ot(e.selectedNodes.map(Lu),t.selectedNodes.map(Lu))&&Ot(e.selectedEdges.map(Lu),t.selectedEdges.map(Lu))}function sz({onSelectionChange:e}){const t=$t(),{selectedNodes:n,selectedEdges:r}=wt(oz,iz);return w.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const lz=e=>!!e.onSelectionChangeHandlers;function az({onSelectionChange:e}){const t=wt(lz);return e||t?u.jsx(sz,{onSelectionChange:e}):null}const rC=[0,0],cz={x:0,y:0,zoom:1},uz=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Vw=[...uz,"rfId"],dz=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Hw={translateExtent:$a,nodeOrigin:rC,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function fz(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:l,reset:c,setDefaultNodesAndEdges:d}=wt(dz,Ot),f=$t();w.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{m.current=Hw,c()}),[]);const m=w.useRef(Hw);return w.useEffect(()=>{for(const p of Vw){const g=e[p],x=m.current[p];g!==x&&(typeof e[p]>"u"||(p==="nodes"?t(g):p==="edges"?n(g):p==="minZoom"?r(g):p==="maxZoom"?o(g):p==="translateExtent"?i(g):p==="nodeExtent"?l(g):p==="ariaLabelConfig"?f.setState({ariaLabelConfig:YO(g)}):p==="fitView"?f.setState({fitViewQueued:g}):p==="fitViewOptions"?f.setState({fitViewOptions:g}):f.setState({[p]:g})))}m.current=e},Vw.map(p=>e[p])),null}function Uw(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function pz(e){var r;const[t,n]=w.useState(e==="system"?null:e);return w.useEffect(()=>{if(e!=="system"){n(e);return}const o=Uw(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=Uw())!=null&&r.matches?"dark":"light"}const Ww=typeof document<"u"?document:null;function Ua(e=null,t={target:Ww,actInsideInputWithModifier:!0}){const[n,r]=w.useState(!1),o=w.useRef(!1),i=w.useRef(new Set([])),[l,c]=w.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=f.reduce((p,g)=>p.concat(...g),[]);return[f,m]}return[[],[]]},[e]);return w.useEffect(()=>{const d=(t==null?void 0:t.target)??Ww,f=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const m=x=>{var S,k;if(o.current=x.ctrlKey||x.metaKey||x.shiftKey||x.altKey,(!o.current||o.current&&!f)&&Lk(x))return!1;const v=Xw(x.code,c);if(i.current.add(x[v]),Yw(l,i.current,!1)){const E=((k=(S=x.composedPath)==null?void 0:S.call(x))==null?void 0:k[0])||x.target,N=(E==null?void 0:E.nodeName)==="BUTTON"||(E==null?void 0:E.nodeName)==="A";t.preventDefault!==!1&&(o.current||!N)&&x.preventDefault(),r(!0)}},p=x=>{const b=Xw(x.code,c);Yw(l,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(x[b]),x.key==="Meta"&&i.current.clear(),o.current=!1},g=()=>{i.current.clear(),r(!1)};return d==null||d.addEventListener("keydown",m),d==null||d.addEventListener("keyup",p),window.addEventListener("blur",g),window.addEventListener("contextmenu",g),()=>{d==null||d.removeEventListener("keydown",m),d==null||d.removeEventListener("keyup",p),window.removeEventListener("blur",g),window.removeEventListener("contextmenu",g)}}},[e,r]),n}function Yw(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Xw(e,t){return t.includes(e)?"code":"key"}const hz=()=>{const e=$t();return w.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:l}=e.getState();return l?(await l.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:l,panZoom:c}=e.getState(),d=Ug(t,r,o,i,l,(n==null?void 0:n.padding)??.1);return c?(await c.setViewport(d,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:l}=e.getState();if(!l)return t;const{x:c,y:d}=l.getBoundingClientRect(),f={x:t.x-c,y:t.y-d},m=n.snapGrid??o,p=n.snapToGrid??i;return ic(f,r,p,m)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),l=bd(t,n);return{x:l.x+o,y:l.y+i}}}),[])};function oC(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const l=r.get(i.id);l?l.push(i):r.set(i.id,[i])}for(const i of t){const l=r.get(i.id);if(!l){n.push(i);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const c={...i};for(const d of l)mz(d,c);n.push(c)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function mz(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function iC(e,t){return oC(e,t)}function sC(e,t){return oC(e,t)}function Ni(e,t){return{id:e,type:"select",selected:t}}function Ms(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const l=t.has(o);!(i.selected===void 0&&!l)&&i.selected!==l&&(n&&(i.selected=l),r.push(Ni(i.id,l)))}return r}function qw({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,l]of e.entries()){const c=t.get(l.id),d=((o=c==null?void 0:c.internals)==null?void 0:o.userNode)??c;d!==void 0&&d!==l&&n.push({id:l.id,item:l,type:"replace"}),d===void 0&&n.push({item:l,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Gw(e){return{id:e.id,type:"remove"}}const Kw=e=>OO(e),gz=e=>Ak(e);function lC(e){return w.forwardRef(e)}const xz=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Qw(e){const[t,n]=w.useState(BigInt(0)),[r]=w.useState(()=>yz(()=>n(o=>o+BigInt(1))));return xz(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function yz(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const aC=w.createContext(null);function vz({children:e}){const t=$t(),n=w.useCallback(c=>{const{nodes:d=[],setNodes:f,hasDefaultNodes:m,onNodesChange:p,nodeLookup:g,fitViewQueued:x,onNodesChangeMiddlewareMap:b}=t.getState();let v=d;for(const k of c)v=typeof k=="function"?k(v):k;let S=qw({items:v,lookup:g});for(const k of b.values())S=k(S);m&&f(v),S.length>0?p==null||p(S):x&&window.requestAnimationFrame(()=>{const{fitViewQueued:k,nodes:E,setNodes:N}=t.getState();k&&N(E)})},[]),r=Qw(n),o=w.useCallback(c=>{const{edges:d=[],setEdges:f,hasDefaultEdges:m,onEdgesChange:p,edgeLookup:g}=t.getState();let x=d;for(const b of c)x=typeof b=="function"?b(x):b;m?f(x):p&&p(qw({items:x,lookup:g}))},[]),i=Qw(o),l=w.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return u.jsx(aC.Provider,{value:l,children:e})}function wz(){const e=w.useContext(aC);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const bz=e=>!!e.panZoom;function Qo(){const e=hz(),t=$t(),n=wz(),r=wt(bz),o=w.useMemo(()=>{const i=p=>t.getState().nodeLookup.get(p),l=p=>{n.nodeQueue.push(p)},c=p=>{n.edgeQueue.push(p)},d=p=>{var k,E;const{nodeLookup:g,nodeOrigin:x}=t.getState(),b=Kw(p)?p:g.get(p.id),v=b.parentId?Dk(b.position,b.measured,b.parentId,g,x):b.position,S={...b,position:v,width:((k=b.measured)==null?void 0:k.width)??b.width,height:((E=b.measured)==null?void 0:E.height)??b.height};return Ks(S)},f=(p,g,x={replace:!1})=>{l(b=>b.map(v=>{if(v.id===p){const S=typeof g=="function"?g(v):g;return x.replace&&Kw(S)?S:{...v,...S}}return v}))},m=(p,g,x={replace:!1})=>{c(b=>b.map(v=>{if(v.id===p){const S=typeof g=="function"?g(v):g;return x.replace&&gz(S)?S:{...v,...S}}return v}))};return{getNodes:()=>t.getState().nodes.map(p=>({...p})),getNode:p=>{var g;return(g=i(p))==null?void 0:g.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:p=[]}=t.getState();return p.map(g=>({...g}))},getEdge:p=>t.getState().edgeLookup.get(p),setNodes:l,setEdges:c,addNodes:p=>{const g=Array.isArray(p)?p:[p];n.nodeQueue.push(x=>[...x,...g])},addEdges:p=>{const g=Array.isArray(p)?p:[p];n.edgeQueue.push(x=>[...x,...g])},toObject:()=>{const{nodes:p=[],edges:g=[],transform:x}=t.getState(),[b,v,S]=x;return{nodes:p.map(k=>({...k})),edges:g.map(k=>({...k})),viewport:{x:b,y:v,zoom:S}}},deleteElements:async({nodes:p=[],edges:g=[]})=>{const{nodes:x,edges:b,onNodesDelete:v,onEdgesDelete:S,triggerNodeChanges:k,triggerEdgeChanges:E,onDelete:N,onBeforeDelete:_}=t.getState(),{nodes:T,edges:P}=await BO({nodesToRemove:p,edgesToRemove:g,nodes:x,edges:b,onBeforeDelete:_}),M=P.length>0,z=T.length>0;if(M){const Y=P.map(Gw);S==null||S(P),E(Y)}if(z){const Y=T.map(Gw);v==null||v(T),k(Y)}return(z||M)&&(N==null||N({nodes:T,edges:P})),{deletedNodes:T,deletedEdges:P}},getIntersectingNodes:(p,g=!0,x)=>{const b=Sw(p),v=b?p:d(p),S=x!==void 0;return v?(x||t.getState().nodes).filter(k=>{const E=t.getState().nodeLookup.get(k.id);if(E&&!b&&(k.id===p.id||!E.internals.positionAbsolute))return!1;const N=Ks(S?k:E),_=Va(N,v);return g&&_>0||_>=N.width*N.height||_>=v.width*v.height}):[]},isNodeIntersecting:(p,g,x=!0)=>{const v=Sw(p)?p:d(p);if(!v)return!1;const S=Va(v,g);return x&&S>0||S>=g.width*g.height||S>=v.width*v.height},updateNode:f,updateNodeData:(p,g,x={replace:!1})=>{f(p,b=>{const v=typeof g=="function"?g(b):g;return x.replace?{...b,data:v}:{...b,data:{...b.data,...v}}},x)},updateEdge:m,updateEdgeData:(p,g,x={replace:!1})=>{m(p,b=>{const v=typeof g=="function"?g(b):g;return x.replace?{...b,data:v}:{...b,data:{...b.data,...v}}},x)},getNodesBounds:p=>{const{nodeLookup:g,nodeOrigin:x}=t.getState();return LO(p,{nodeLookup:g,nodeOrigin:x})},getHandleConnections:({type:p,id:g,nodeId:x})=>{var b;return Array.from(((b=t.getState().connectionLookup.get(`${x}-${p}${g?`-${g}`:""}`))==null?void 0:b.values())??[])},getNodeConnections:({type:p,handleId:g,nodeId:x})=>{var b;return Array.from(((b=t.getState().connectionLookup.get(`${x}${p?g?`-${p}-${g}`:`-${p}`:""}`))==null?void 0:b.values())??[])},fitView:async p=>{const g=t.getState().fitViewResolver??WO();return t.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:g}),n.nodeQueue.push(x=>[...x]),g.promise}}},[]);return w.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const Jw=e=>e.selected,Sz=typeof window<"u"?window:void 0;function kz({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=$t(),{deleteElements:r}=Qo(),o=Ua(e,{actInsideInputWithModifier:!1}),i=Ua(t,{target:Sz});w.useEffect(()=>{if(o){const{edges:l,nodes:c}=n.getState();r({nodes:c.filter(Jw),edges:l.filter(Jw)}),n.setState({nodesSelectionActive:!1})}},[o]),w.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function Cz(e){const t=$t();w.useEffect(()=>{const n=()=>{var o,i,l,c;if(!e.current||!(((i=(o=e.current).checkVisibility)==null?void 0:i.call(o))??!0))return!1;const r=Yg(e.current);(r.height===0||r.width===0)&&((c=(l=t.getState()).onError)==null||c.call(l,"004",qr.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const ef={position:"absolute",width:"100%",height:"100%",top:0,left:0},Nz=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function Ez({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=Ri.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:d,translateExtent:f,minZoom:m,maxZoom:p,zoomActivationKeyCode:g,preventScrolling:x=!0,children:b,noWheelClassName:v,noPanClassName:S,onViewportChange:k,isControlledViewport:E,paneClickDistance:N,selectionOnDrag:_}){const T=$t(),P=w.useRef(null),{userSelectionActive:M,lib:z,connectionInProgress:Y}=wt(Nz,Ot),L=Ua(g),B=w.useRef();Cz(P);const q=w.useCallback(U=>{k==null||k({x:U[0],y:U[1],zoom:U[2]}),E||T.setState({transform:U})},[k,E]);return w.useEffect(()=>{if(P.current){B.current=_L({domNode:P.current,minZoom:m,maxZoom:p,translateExtent:f,viewport:d,onDraggingChange:$=>T.setState({paneDragging:$}),onPanZoomStart:($,G)=>{const{onViewportChangeStart:D,onMoveStart:W}=T.getState();W==null||W($,G),D==null||D(G)},onPanZoom:($,G)=>{const{onViewportChange:D,onMove:W}=T.getState();W==null||W($,G),D==null||D(G)},onPanZoomEnd:($,G)=>{const{onViewportChangeEnd:D,onMoveEnd:W}=T.getState();W==null||W($,G),D==null||D(G)}});const{x:U,y:A,zoom:F}=B.current.getViewport();return T.setState({panZoom:B.current,transform:[U,A,F],domNode:P.current.closest(".react-flow")}),()=>{var $;($=B.current)==null||$.destroy()}}},[]),w.useEffect(()=>{var U;(U=B.current)==null||U.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:L,preventScrolling:x,noPanClassName:S,userSelectionActive:M,noWheelClassName:v,lib:z,onTransformChange:q,connectionInProgress:Y,selectionOnDrag:_,paneClickDistance:N})},[e,t,n,r,o,i,l,c,L,x,S,M,v,z,q,Y,_,N]),u.jsx("div",{className:"react-flow__renderer",ref:P,style:ef,children:b})}const jz=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function _z(){const{userSelectionActive:e,userSelectionRect:t}=wt(jz,Ot);return e&&t?u.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Zh=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Pz=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Az({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Fa.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:i,onSelectionStart:l,onSelectionEnd:c,onPaneClick:d,onPaneContextMenu:f,onPaneScroll:m,onPaneMouseEnter:p,onPaneMouseMove:g,onPaneMouseLeave:x,children:b}){const v=$t(),{userSelectionActive:S,elementsSelectable:k,dragging:E,connectionInProgress:N}=wt(Pz,Ot),_=k&&(e||S),T=w.useRef(null),P=w.useRef(),M=w.useRef(new Set),z=w.useRef(new Set),Y=w.useRef(!1),L=D=>{if(Y.current||N){Y.current=!1;return}d==null||d(D),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},B=D=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){D.preventDefault();return}f==null||f(D)},q=m?D=>m(D):void 0,U=D=>{Y.current&&(D.stopPropagation(),Y.current=!1)},A=D=>{var J,Z;const{domNode:W}=v.getState();if(P.current=W==null?void 0:W.getBoundingClientRect(),!P.current)return;const R=D.target===T.current;if(!R&&!!D.target.closest(".nokey")||!e||!(i&&R||t)||D.button!==0||!D.isPrimary)return;(Z=(J=D.target)==null?void 0:J.setPointerCapture)==null||Z.call(J,D.pointerId),Y.current=!1;const{x:I,y:V}=Er(D.nativeEvent,P.current);v.setState({userSelectionRect:{width:0,height:0,startX:I,startY:V,x:I,y:V}}),R||(D.stopPropagation(),D.preventDefault())},F=D=>{const{userSelectionRect:W,transform:R,nodeLookup:H,edgeLookup:X,connectionLookup:I,triggerNodeChanges:V,triggerEdgeChanges:J,defaultEdgeOptions:Z,resetSelectedElements:K}=v.getState();if(!P.current||!W)return;const{x:te,y:Q}=Er(D.nativeEvent,P.current),{startX:ie,startY:ue}=W;if(!Y.current){const Oe=t?0:o;if(Math.hypot(te-ie,Q-ue)<=Oe)return;K(),l==null||l(D)}Y.current=!0;const fe={startX:ie,startY:ue,x:te<ie?te:ie,y:Q<ue?Q:ue,width:Math.abs(te-ie),height:Math.abs(Q-ue)},pe=M.current,we=z.current;M.current=new Set(Hg(H,fe,R,n===Fa.Partial,!0).map(Oe=>Oe.id)),z.current=new Set;const De=(Z==null?void 0:Z.selectable)??!0;for(const Oe of M.current){const it=I.get(Oe);if(it)for(const{edgeId:Ze}of it.values()){const Qe=X.get(Ze);Qe&&(Qe.selectable??De)&&z.current.add(Ze)}}if(!kw(pe,M.current)){const Oe=Ms(H,M.current,!0);V(Oe)}if(!kw(we,z.current)){const Oe=Ms(X,z.current);J(Oe)}v.setState({userSelectionRect:fe,userSelectionActive:!0,nodesSelectionActive:!1})},$=D=>{var W,R;D.button===0&&((R=(W=D.target)==null?void 0:W.releasePointerCapture)==null||R.call(W,D.pointerId),!S&&D.target===T.current&&v.getState().userSelectionRect&&(L==null||L(D)),v.setState({userSelectionActive:!1,userSelectionRect:null}),Y.current&&(c==null||c(D),v.setState({nodesSelectionActive:M.current.size>0})))},G=r===!0||Array.isArray(r)&&r.includes(0);return u.jsxs("div",{className:Gt(["react-flow__pane",{draggable:G,dragging:E,selection:e}]),onClick:_?void 0:Zh(L,T),onContextMenu:Zh(B,T),onWheel:Zh(q,T),onPointerEnter:_?void 0:p,onPointerMove:_?F:g,onPointerUp:_?$:void 0,onPointerDownCapture:_?A:void 0,onClickCapture:_?U:void 0,onPointerLeave:x,ref:T,style:ef,children:[b,u.jsx(_z,{})]})}function qm({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:l,nodeLookup:c,onError:d}=t.getState(),f=c.get(e);if(!f){d==null||d("012",qr.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&l)&&(i({nodes:[f],edges:[]}),requestAnimationFrame(()=>{var m;return(m=r==null?void 0:r.current)==null?void 0:m.blur()})):o([e])}function cC({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:l}){const c=$t(),[d,f]=w.useState(!1),m=w.useRef();return w.useEffect(()=>{m.current=hL({getStoreItems:()=>c.getState(),onNodeMouseDown:p=>{qm({id:p,store:c,nodeRef:e})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),w.useEffect(()=>{var p,g;if(t)(p=m.current)==null||p.destroy();else if(e.current)return(g=m.current)==null||g.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:l}),()=>{var x;(x=m.current)==null||x.destroy()}},[n,r,t,i,e,o]),d}const Iz=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function uC(){const e=$t();return w.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:l,onError:c,updateNodePositions:d,nodeLookup:f,nodeOrigin:m}=e.getState(),p=new Map,g=Iz(l),x=o?i[0]:5,b=o?i[1]:5,v=n.direction.x*x*n.factor,S=n.direction.y*b*n.factor;for(const[,k]of f){if(!g(k))continue;let E={x:k.internals.positionAbsolute.x+v,y:k.internals.positionAbsolute.y+S};o&&(E=oc(E,i));const{position:N,positionAbsolute:_}=Ik({nodeId:k.id,nextPosition:E,nodeLookup:f,nodeExtent:r,nodeOrigin:m,onError:c});k.position=N,k.internals.positionAbsolute=_,p.set(k.id,k)}d(p)},[])}const Zg=w.createContext(null),Tz=Zg.Provider;Zg.Consumer;const dC=()=>w.useContext(Zg),Rz=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Mz=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:l}=r,{fromHandle:c,toHandle:d,isValid:f}=l,m=(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===n;return{connectingFrom:(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n,connectingTo:m,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===qs.Strict?(c==null?void 0:c.type)!==n:e!==(c==null?void 0:c.nodeId)||t!==(c==null?void 0:c.id),connectionInProcess:!!c,clickConnectionInProcess:!!o,valid:m&&f}};function Dz({type:e="source",position:t=Pe.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:l,onConnect:c,children:d,className:f,onMouseDown:m,onTouchStart:p,...g},x){var F,$;const b=l||null,v=e==="target",S=$t(),k=dC(),{connectOnClick:E,noPanClassName:N,rfId:_}=wt(Rz,Ot),{connectingFrom:T,connectingTo:P,clickConnecting:M,isPossibleEndHandle:z,connectionInProcess:Y,clickConnectionInProcess:L,valid:B}=wt(Mz(k,b,e),Ot);k||($=(F=S.getState()).onError)==null||$.call(F,"010",qr.error010());const q=G=>{const{defaultEdgeOptions:D,onConnect:W,hasDefaultEdges:R}=S.getState(),H={...D,...G};if(R){const{edges:X,setEdges:I}=S.getState();I(JO(H,X))}W==null||W(H),c==null||c(H)},U=G=>{if(!k)return;const D=zk(G.nativeEvent);if(o&&(D&&G.button===0||!D)){const W=S.getState();Xm.onPointerDown(G.nativeEvent,{handleDomNode:G.currentTarget,autoPanOnConnect:W.autoPanOnConnect,connectionMode:W.connectionMode,connectionRadius:W.connectionRadius,domNode:W.domNode,nodeLookup:W.nodeLookup,lib:W.lib,isTarget:v,handleId:b,nodeId:k,flowId:W.rfId,panBy:W.panBy,cancelConnection:W.cancelConnection,onConnectStart:W.onConnectStart,onConnectEnd:W.onConnectEnd,updateConnection:W.updateConnection,onConnect:q,isValidConnection:n||W.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:W.autoPanSpeed,dragThreshold:W.connectionDragThreshold})}D?m==null||m(G):p==null||p(G)},A=G=>{const{onClickConnectStart:D,onClickConnectEnd:W,connectionClickStartHandle:R,connectionMode:H,isValidConnection:X,lib:I,rfId:V,nodeLookup:J,connection:Z}=S.getState();if(!k||!R&&!o)return;if(!R){D==null||D(G.nativeEvent,{nodeId:k,handleId:b,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:k,type:e,id:b}});return}const K=Ok(G.target),te=n||X,{connection:Q,isValid:ie}=Xm.isValid(G.nativeEvent,{handle:{nodeId:k,id:b,type:e},connectionMode:H,fromNodeId:R.nodeId,fromHandleId:R.id||null,fromType:R.type,isValidConnection:te,flowId:V,doc:K,lib:I,nodeLookup:J});ie&&Q&&q(Q);const ue=structuredClone(Z);delete ue.inProgress,ue.toPosition=ue.toHandle?ue.toHandle.position:null,W==null||W(G,ue),S.setState({connectionClickStartHandle:null})};return u.jsx("div",{"data-handleid":b,"data-nodeid":k,"data-handlepos":t,"data-id":`${_}-${k}-${b}-${e}`,className:Gt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",N,f,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:i,clickconnecting:M,connectingfrom:T,connectingto:P,valid:B,connectionindicator:r&&(!Y||z)&&(Y||L?i:o)}]),onMouseDown:U,onTouchStart:U,onClick:E?A:void 0,ref:x,...g,children:d})}const qo=w.memo(lC(Dz));function Oz({data:e,isConnectable:t,sourcePosition:n=Pe.Bottom}){return u.jsxs(u.Fragment,{children:[e==null?void 0:e.label,u.jsx(qo,{type:"source",position:n,isConnectable:t})]})}function Lz({data:e,isConnectable:t,targetPosition:n=Pe.Top,sourcePosition:r=Pe.Bottom}){return u.jsxs(u.Fragment,{children:[u.jsx(qo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,u.jsx(qo,{type:"source",position:r,isConnectable:t})]})}function zz(){return null}function $z({data:e,isConnectable:t,targetPosition:n=Pe.Top}){return u.jsxs(u.Fragment,{children:[u.jsx(qo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Sd={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Zw={input:Oz,default:Lz,output:$z,group:zz};function Fz(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const Bz=e=>{const{width:t,height:n,x:r,y:o}=rc(e.nodeLookup,{filter:i=>!!i.selected});return{width:Nr(t)?t:null,height:Nr(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function Vz({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=$t(),{width:o,height:i,transformString:l,userSelectionActive:c}=wt(Bz,Ot),d=uC(),f=w.useRef(null);if(w.useEffect(()=>{var g;n||(g=f.current)==null||g.focus({preventScroll:!0})},[n]),cC({nodeRef:f}),c||!o||!i)return null;const m=e?g=>{const x=r.getState().nodes.filter(b=>b.selected);e(g,x)}:void 0,p=g=>{Object.prototype.hasOwnProperty.call(Sd,g.key)&&(g.preventDefault(),d({direction:Sd[g.key],factor:g.shiftKey?4:1}))};return u.jsx("div",{className:Gt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:u.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:o,height:i}})})}const eb=typeof window<"u"?window:void 0,Hz=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function fC({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:d,selectionKeyCode:f,selectionOnDrag:m,selectionMode:p,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:b,panActivationKeyCode:v,zoomActivationKeyCode:S,elementsSelectable:k,zoomOnScroll:E,zoomOnPinch:N,panOnScroll:_,panOnScrollSpeed:T,panOnScrollMode:P,zoomOnDoubleClick:M,panOnDrag:z,defaultViewport:Y,translateExtent:L,minZoom:B,maxZoom:q,preventScrolling:U,onSelectionContextMenu:A,noWheelClassName:F,noPanClassName:$,disableKeyboardA11y:G,onViewportChange:D,isControlledViewport:W}){const{nodesSelectionActive:R,userSelectionActive:H}=wt(Hz,Ot),X=Ua(f,{target:eb}),I=Ua(v,{target:eb}),V=I||z,J=I||_,Z=m&&V!==!0,K=X||H||Z;return kz({deleteKeyCode:d,multiSelectionKeyCode:b}),u.jsx(Ez,{onPaneContextMenu:i,elementsSelectable:k,zoomOnScroll:E,zoomOnPinch:N,panOnScroll:J,panOnScrollSpeed:T,panOnScrollMode:P,zoomOnDoubleClick:M,panOnDrag:!X&&V,defaultViewport:Y,translateExtent:L,minZoom:B,maxZoom:q,zoomActivationKeyCode:S,preventScrolling:U,noWheelClassName:F,noPanClassName:$,onViewportChange:D,isControlledViewport:W,paneClickDistance:c,selectionOnDrag:Z,children:u.jsxs(Az,{onSelectionStart:g,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:l,panOnDrag:V,isSelecting:!!K,selectionMode:p,selectionKeyPressed:X,paneClickDistance:c,selectionOnDrag:Z,children:[e,R&&u.jsx(Vz,{onSelectionContextMenu:A,noPanClassName:$,disableKeyboardA11y:G})]})})}fC.displayName="FlowRenderer";const Uz=w.memo(fC),Wz=e=>t=>e?Hg(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function Yz(e){return wt(w.useCallback(Wz(e),[e]),Ot)}const Xz=e=>e.updateNodeInternals;function qz(){const e=wt(Xz),[t]=w.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return w.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Gz({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=$t(),i=w.useRef(null),l=w.useRef(null),c=w.useRef(e.sourcePosition),d=w.useRef(e.targetPosition),f=w.useRef(t),m=n&&!!e.internals.handleBounds;return w.useEffect(()=>{i.current&&!e.hidden&&(!m||l.current!==i.current)&&(l.current&&(r==null||r.unobserve(l.current)),r==null||r.observe(i.current),l.current=i.current)},[m,e.hidden]),w.useEffect(()=>()=>{l.current&&(r==null||r.unobserve(l.current),l.current=null)},[]),w.useEffect(()=>{if(i.current){const p=f.current!==t,g=c.current!==e.sourcePosition,x=d.current!==e.targetPosition;(p||g||x)&&(f.current=t,c.current=e.sourcePosition,d.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function Kz({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:l,nodesDraggable:c,elementsSelectable:d,nodesConnectable:f,nodesFocusable:m,resizeObserver:p,noDragClassName:g,noPanClassName:x,disableKeyboardA11y:b,rfId:v,nodeTypes:S,nodeClickDistance:k,onError:E}){const{node:N,internals:_,isParent:T}=wt(te=>{const Q=te.nodeLookup.get(e),ie=te.parentLookup.has(e);return{node:Q,internals:Q.internals,isParent:ie}},Ot);let P=N.type||"default",M=(S==null?void 0:S[P])||Zw[P];M===void 0&&(E==null||E("003",qr.error003(P)),P="default",M=(S==null?void 0:S.default)||Zw.default);const z=!!(N.draggable||c&&typeof N.draggable>"u"),Y=!!(N.selectable||d&&typeof N.selectable>"u"),L=!!(N.connectable||f&&typeof N.connectable>"u"),B=!!(N.focusable||m&&typeof N.focusable>"u"),q=$t(),U=Wg(N),A=Gz({node:N,nodeType:P,hasDimensions:U,resizeObserver:p}),F=cC({nodeRef:A,disabled:N.hidden||!z,noDragClassName:g,handleSelector:N.dragHandle,nodeId:e,isSelectable:Y,nodeClickDistance:k}),$=uC();if(N.hidden)return null;const G=xo(N),D=Fz(N),W=Y||z||t||n||r||o,R=n?te=>n(te,{..._.userNode}):void 0,H=r?te=>r(te,{..._.userNode}):void 0,X=o?te=>o(te,{..._.userNode}):void 0,I=i?te=>i(te,{..._.userNode}):void 0,V=l?te=>l(te,{..._.userNode}):void 0,J=te=>{const{selectNodesOnDrag:Q,nodeDragThreshold:ie}=q.getState();Y&&(!Q||!z||ie>0)&&qm({id:e,store:q,nodeRef:A}),t&&t(te,{..._.userNode})},Z=te=>{if(!(Lk(te.nativeEvent)||b)){if(Ek.includes(te.key)&&Y){const Q=te.key==="Escape";qm({id:e,store:q,unselect:Q,nodeRef:A})}else if(z&&N.selected&&Object.prototype.hasOwnProperty.call(Sd,te.key)){te.preventDefault();const{ariaLabelConfig:Q}=q.getState();q.setState({ariaLiveMessage:Q["node.a11yDescription.ariaLiveMessage"]({direction:te.key.replace("Arrow","").toLowerCase(),x:~~_.positionAbsolute.x,y:~~_.positionAbsolute.y})}),$({direction:Sd[te.key],factor:te.shiftKey?4:1})}}},K=()=>{var we;if(b||!((we=A.current)!=null&&we.matches(":focus-visible")))return;const{transform:te,width:Q,height:ie,autoPanOnNodeFocus:ue,setCenter:fe}=q.getState();if(!ue)return;Hg(new Map([[e,N]]),{x:0,y:0,width:Q,height:ie},te,!0).length>0||fe(N.position.x+G.width/2,N.position.y+G.height/2,{zoom:te[2]})};return u.jsx("div",{className:Gt(["react-flow__node",`react-flow__node-${P}`,{[x]:z},N.className,{selected:N.selected,selectable:Y,parent:T,draggable:z,dragging:F}]),ref:A,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:W?"all":"none",visibility:U?"visible":"hidden",...N.style,...D},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:R,onMouseMove:H,onMouseLeave:X,onContextMenu:I,onClick:J,onDoubleClick:V,onKeyDown:B?Z:void 0,tabIndex:B?0:void 0,onFocus:B?K:void 0,role:N.ariaRole??(B?"group":void 0),"aria-roledescription":"node","aria-describedby":b?void 0:`${tC}-${v}`,"aria-label":N.ariaLabel,...N.domAttributes,children:u.jsx(Tz,{value:e,children:u.jsx(M,{id:e,data:N.data,type:P,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:N.selected??!1,selectable:Y,draggable:z,deletable:N.deletable??!0,isConnectable:L,sourcePosition:N.sourcePosition,targetPosition:N.targetPosition,dragging:F,dragHandle:N.dragHandle,zIndex:_.z,parentId:N.parentId,...G})})})}var Qz=w.memo(Kz);const Jz=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function pC(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=wt(Jz,Ot),l=Yz(e.onlyRenderVisibleElements),c=qz();return u.jsx("div",{className:"react-flow__nodes",style:ef,children:l.map(d=>u.jsx(Qz,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:c,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},d))})}pC.displayName="NodeRenderer";const Zz=w.memo(pC);function e3(e){return wt(w.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),l=n.nodeLookup.get(o.target);i&&l&&GO({sourceNode:i,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),Ot)}const t3=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return u.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},n3=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return u.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},tb={[Ba.Arrow]:t3,[Ba.ArrowClosed]:n3};function r3(e){const t=$t();return w.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(tb,e)?tb[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",qr.error009(e)),null)},[e])}const o3=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{const d=r3(t);return d?u.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:c,refX:"0",refY:"0",children:u.jsx(d,{color:n,strokeWidth:l})}):null},hC=({defaultColor:e,rfId:t})=>{const n=wt(i=>i.edges),r=wt(i=>i.defaultEdgeOptions),o=w.useMemo(()=>rL(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?u.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:u.jsx("defs",{children:o.map(i=>u.jsx(o3,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};hC.displayName="MarkerDefinitions";var i3=w.memo(hC);function mC({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:d,className:f,...m}){const[p,g]=w.useState({x:1,y:0,width:0,height:0}),x=Gt(["react-flow__edge-textwrapper",f]),b=w.useRef(null);return w.useEffect(()=>{if(b.current){const v=b.current.getBBox();g({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?u.jsxs("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:x,visibility:p.width?"visible":"hidden",...m,children:[o&&u.jsx("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:i,rx:c,ry:c}),u.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:b,style:r,children:n}),d]}):null}mC.displayName="EdgeText";const s3=w.memo(mC);function tf({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,interactionWidth:f=20,...m}){return u.jsxs(u.Fragment,{children:[u.jsx("path",{...m,d:e,fill:"none",className:Gt(["react-flow__edge-path",m.className])}),f?u.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&Nr(t)&&Nr(n)?u.jsx(s3,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d}):null]})}function nb({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Pe.Left||e===Pe.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function gC({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:o,targetPosition:i=Pe.Top}){const[l,c]=nb({pos:n,x1:e,y1:t,x2:r,y2:o}),[d,f]=nb({pos:i,x1:r,y1:o,x2:e,y2:t}),[m,p,g,x]=$k({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:f});return[`M${e},${t} C${l},${c} ${d},${f} ${r},${o}`,m,p,g,x]}function xC(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:l,targetPosition:c,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:v,markerStart:S,interactionWidth:k})=>{const[E,N,_]=gC({sourceX:n,sourceY:r,sourcePosition:l,targetX:o,targetY:i,targetPosition:c}),T=e.isInternal?void 0:t;return u.jsx(tf,{id:T,path:E,labelX:N,labelY:_,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:v,markerStart:S,interactionWidth:k})})}const l3=xC({isInternal:!1}),yC=xC({isInternal:!0});l3.displayName="SimpleBezierEdge";yC.displayName="SimpleBezierEdgeInternal";function vC(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:g,sourcePosition:x=Pe.Bottom,targetPosition:b=Pe.Top,markerEnd:v,markerStart:S,pathOptions:k,interactionWidth:E})=>{const[N,_,T]=Um({sourceX:n,sourceY:r,sourcePosition:x,targetX:o,targetY:i,targetPosition:b,borderRadius:k==null?void 0:k.borderRadius,offset:k==null?void 0:k.offset,stepPosition:k==null?void 0:k.stepPosition}),P=e.isInternal?void 0:t;return u.jsx(tf,{id:P,path:N,labelX:_,labelY:T,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:g,markerEnd:v,markerStart:S,interactionWidth:E})})}const wC=vC({isInternal:!1}),bC=vC({isInternal:!0});wC.displayName="SmoothStepEdge";bC.displayName="SmoothStepEdgeInternal";function SC(e){return w.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return u.jsx(wC,{...n,id:r,pathOptions:w.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const a3=SC({isInternal:!1}),kC=SC({isInternal:!0});a3.displayName="StepEdge";kC.displayName="StepEdgeInternal";function CC(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:g,markerEnd:x,markerStart:b,interactionWidth:v})=>{const[S,k,E]=Xg({sourceX:n,sourceY:r,targetX:o,targetY:i}),N=e.isInternal?void 0:t;return u.jsx(tf,{id:N,path:S,labelX:k,labelY:E,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:g,markerEnd:x,markerStart:b,interactionWidth:v})})}const c3=CC({isInternal:!1}),NC=CC({isInternal:!0});c3.displayName="StraightEdge";NC.displayName="StraightEdgeInternal";function EC(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:l=Pe.Bottom,targetPosition:c=Pe.Top,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:v,markerStart:S,pathOptions:k,interactionWidth:E})=>{const[N,_,T]=Fk({sourceX:n,sourceY:r,sourcePosition:l,targetX:o,targetY:i,targetPosition:c,curvature:k==null?void 0:k.curvature}),P=e.isInternal?void 0:t;return u.jsx(tf,{id:P,path:N,labelX:_,labelY:T,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:v,markerStart:S,interactionWidth:E})})}const u3=EC({isInternal:!1}),jC=EC({isInternal:!0});u3.displayName="BezierEdge";jC.displayName="BezierEdgeInternal";const rb={default:jC,straight:NC,step:kC,smoothstep:bC,simplebezier:yC},ob={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},d3=(e,t,n)=>n===Pe.Left?e-t:n===Pe.Right?e+t:e,f3=(e,t,n)=>n===Pe.Top?e-t:n===Pe.Bottom?e+t:e,ib="react-flow__edgeupdater";function sb({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:l,type:c}){return u.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:l,className:Gt([ib,`${ib}-${c}`]),cx:d3(t,r,e),cy:f3(n,r,e),r,stroke:"transparent",fill:"transparent"})}function p3({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:l,sourcePosition:c,targetPosition:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:p,setReconnecting:g,setUpdateHover:x}){const b=$t(),v=(_,T)=>{if(_.button!==0)return;const{autoPanOnConnect:P,domNode:M,isValidConnection:z,connectionMode:Y,connectionRadius:L,lib:B,onConnectStart:q,onConnectEnd:U,cancelConnection:A,nodeLookup:F,rfId:$,panBy:G,updateConnection:D}=b.getState(),W=T.type==="target",R=(I,V)=>{g(!1),p==null||p(I,n,T.type,V)},H=I=>f==null?void 0:f(n,I),X=(I,V)=>{g(!0),m==null||m(_,n,T.type),q==null||q(I,V)};Xm.onPointerDown(_.nativeEvent,{autoPanOnConnect:P,connectionMode:Y,connectionRadius:L,domNode:M,handleId:T.id,nodeId:T.nodeId,nodeLookup:F,isTarget:W,edgeUpdaterType:T.type,lib:B,flowId:$,cancelConnection:A,panBy:G,isValidConnection:z,onConnect:H,onConnectStart:X,onConnectEnd:U,onReconnectEnd:R,updateConnection:D,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,dragThreshold:b.getState().connectionDragThreshold,handleDomNode:_.currentTarget})},S=_=>v(_,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),k=_=>v(_,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),E=()=>x(!0),N=()=>x(!1);return u.jsxs(u.Fragment,{children:[(e===!0||e==="source")&&u.jsx(sb,{position:c,centerX:r,centerY:o,radius:t,onMouseDown:S,onMouseEnter:E,onMouseOut:N,type:"source"}),(e===!0||e==="target")&&u.jsx(sb,{position:d,centerX:i,centerY:l,radius:t,onMouseDown:k,onMouseEnter:E,onMouseOut:N,type:"target"})]})}function h3({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:l,onMouseEnter:c,onMouseMove:d,onMouseLeave:f,reconnectRadius:m,onReconnect:p,onReconnectStart:g,onReconnectEnd:x,rfId:b,edgeTypes:v,noPanClassName:S,onError:k,disableKeyboardA11y:E}){let N=wt(fe=>fe.edgeLookup.get(e));const _=wt(fe=>fe.defaultEdgeOptions);N=_?{..._,...N}:N;let T=N.type||"default",P=(v==null?void 0:v[T])||rb[T];P===void 0&&(k==null||k("011",qr.error011(T)),T="default",P=(v==null?void 0:v.default)||rb.default);const M=!!(N.focusable||t&&typeof N.focusable>"u"),z=typeof p<"u"&&(N.reconnectable||n&&typeof N.reconnectable>"u"),Y=!!(N.selectable||r&&typeof N.selectable>"u"),L=w.useRef(null),[B,q]=w.useState(!1),[U,A]=w.useState(!1),F=$t(),{zIndex:$,sourceX:G,sourceY:D,targetX:W,targetY:R,sourcePosition:H,targetPosition:X}=wt(w.useCallback(fe=>{const pe=fe.nodeLookup.get(N.source),we=fe.nodeLookup.get(N.target);if(!pe||!we)return{zIndex:N.zIndex,...ob};const De=nL({id:e,sourceNode:pe,targetNode:we,sourceHandle:N.sourceHandle||null,targetHandle:N.targetHandle||null,connectionMode:fe.connectionMode,onError:k});return{zIndex:qO({selected:N.selected,zIndex:N.zIndex,sourceNode:pe,targetNode:we,elevateOnSelect:fe.elevateEdgesOnSelect,zIndexMode:fe.zIndexMode}),...De||ob}},[N.source,N.target,N.sourceHandle,N.targetHandle,N.selected,N.zIndex]),Ot),I=w.useMemo(()=>N.markerStart?`url('#${Wm(N.markerStart,b)}')`:void 0,[N.markerStart,b]),V=w.useMemo(()=>N.markerEnd?`url('#${Wm(N.markerEnd,b)}')`:void 0,[N.markerEnd,b]);if(N.hidden||G===null||D===null||W===null||R===null)return null;const J=fe=>{var Oe;const{addSelectedEdges:pe,unselectNodesAndEdges:we,multiSelectionActive:De}=F.getState();Y&&(F.setState({nodesSelectionActive:!1}),N.selected&&De?(we({nodes:[],edges:[N]}),(Oe=L.current)==null||Oe.blur()):pe([e])),o&&o(fe,N)},Z=i?fe=>{i(fe,{...N})}:void 0,K=l?fe=>{l(fe,{...N})}:void 0,te=c?fe=>{c(fe,{...N})}:void 0,Q=d?fe=>{d(fe,{...N})}:void 0,ie=f?fe=>{f(fe,{...N})}:void 0,ue=fe=>{var pe;if(!E&&Ek.includes(fe.key)&&Y){const{unselectNodesAndEdges:we,addSelectedEdges:De}=F.getState();fe.key==="Escape"?((pe=L.current)==null||pe.blur(),we({edges:[N]})):De([e])}};return u.jsx("svg",{style:{zIndex:$},children:u.jsxs("g",{className:Gt(["react-flow__edge",`react-flow__edge-${T}`,N.className,S,{selected:N.selected,animated:N.animated,inactive:!Y&&!o,updating:B,selectable:Y}]),onClick:J,onDoubleClick:Z,onContextMenu:K,onMouseEnter:te,onMouseMove:Q,onMouseLeave:ie,onKeyDown:M?ue:void 0,tabIndex:M?0:void 0,role:N.ariaRole??(M?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":N.ariaLabel===null?void 0:N.ariaLabel||`Edge from ${N.source} to ${N.target}`,"aria-describedby":M?`${nC}-${b}`:void 0,ref:L,...N.domAttributes,children:[!U&&u.jsx(P,{id:e,source:N.source,target:N.target,type:N.type,selected:N.selected,animated:N.animated,selectable:Y,deletable:N.deletable??!0,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,sourceX:G,sourceY:D,targetX:W,targetY:R,sourcePosition:H,targetPosition:X,data:N.data,style:N.style,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerStart:I,markerEnd:V,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth}),z&&u.jsx(p3,{edge:N,isReconnectable:z,reconnectRadius:m,onReconnect:p,onReconnectStart:g,onReconnectEnd:x,sourceX:G,sourceY:D,targetX:W,targetY:R,sourcePosition:H,targetPosition:X,setUpdateHover:q,setReconnecting:A})]})})}var m3=w.memo(h3);const g3=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function _C({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:m,reconnectRadius:p,onEdgeDoubleClick:g,onReconnectStart:x,onReconnectEnd:b,disableKeyboardA11y:v}){const{edgesFocusable:S,edgesReconnectable:k,elementsSelectable:E,onError:N}=wt(g3,Ot),_=e3(t);return u.jsxs("div",{className:"react-flow__edges",children:[u.jsx(i3,{defaultColor:e,rfId:n}),_.map(T=>u.jsx(m3,{id:T,edgesFocusable:S,edgesReconnectable:k,elementsSelectable:E,noPanClassName:o,onReconnect:i,onContextMenu:l,onMouseEnter:c,onMouseMove:d,onMouseLeave:f,onClick:m,reconnectRadius:p,onDoubleClick:g,onReconnectStart:x,onReconnectEnd:b,rfId:n,onError:N,edgeTypes:r,disableKeyboardA11y:v},T))]})}_C.displayName="EdgeRenderer";const x3=w.memo(_C),y3=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function v3({children:e}){const t=wt(y3);return u.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function w3(e){const t=Qo(),n=w.useRef(!1);w.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const b3=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function S3(e){const t=wt(b3),n=$t();return w.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function k3(e){return e.connection.inProgress?{...e.connection,to:ic(e.connection.to,e.transform)}:{...e.connection}}function C3(e){return k3}function ex(e){const t=C3();return wt(t,Ot)}const N3=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function E3({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:l,isValid:c,inProgress:d}=wt(N3,Ot);return!(i&&o&&d)?null:u.jsx("svg",{style:e,width:i,height:l,className:"react-flow__connectionline react-flow__container",children:u.jsx("g",{className:Gt(["react-flow__connection",Pk(c)]),children:u.jsx(PC,{style:t,type:n,CustomComponent:r,isValid:c})})})}const PC=({style:e,type:t=Wo.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:l,fromHandle:c,fromPosition:d,to:f,toNode:m,toHandle:p,toPosition:g,pointer:x}=ex();if(!o)return;if(n)return u.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:c,fromX:i.x,fromY:i.y,toX:f.x,toY:f.y,fromPosition:d,toPosition:g,connectionStatus:Pk(r),toNode:m,toHandle:p,pointer:x});let b="";const v={sourceX:i.x,sourceY:i.y,sourcePosition:d,targetX:f.x,targetY:f.y,targetPosition:g};switch(t){case Wo.Bezier:[b]=Fk(v);break;case Wo.SimpleBezier:[b]=gC(v);break;case Wo.Step:[b]=Um({...v,borderRadius:0});break;case Wo.SmoothStep:[b]=Um(v);break;default:[b]=Xg(v)}return u.jsx("path",{d:b,fill:"none",className:"react-flow__connection-path",style:e})};PC.displayName="ConnectionLine";const j3={};function lb(e=j3){w.useRef(e),$t(),w.useEffect(()=>{},[e])}function _3(){$t(),w.useRef(!1),w.useEffect(()=>{},[])}function AC({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:p,onSelectionStart:g,onSelectionEnd:x,connectionLineType:b,connectionLineStyle:v,connectionLineComponent:S,connectionLineContainerStyle:k,selectionKeyCode:E,selectionOnDrag:N,selectionMode:_,multiSelectionKeyCode:T,panActivationKeyCode:P,zoomActivationKeyCode:M,deleteKeyCode:z,onlyRenderVisibleElements:Y,elementsSelectable:L,defaultViewport:B,translateExtent:q,minZoom:U,maxZoom:A,preventScrolling:F,defaultMarkerColor:$,zoomOnScroll:G,zoomOnPinch:D,panOnScroll:W,panOnScrollSpeed:R,panOnScrollMode:H,zoomOnDoubleClick:X,panOnDrag:I,onPaneClick:V,onPaneMouseEnter:J,onPaneMouseMove:Z,onPaneMouseLeave:K,onPaneScroll:te,onPaneContextMenu:Q,paneClickDistance:ie,nodeClickDistance:ue,onEdgeContextMenu:fe,onEdgeMouseEnter:pe,onEdgeMouseMove:we,onEdgeMouseLeave:De,reconnectRadius:Oe,onReconnect:it,onReconnectStart:Ze,onReconnectEnd:Qe,noDragClassName:Ce,noWheelClassName:Ve,noPanClassName:ut,disableKeyboardA11y:bt,nodeExtent:_t,rfId:At,viewport:ne,onViewportChange:le}){return lb(e),lb(t),_3(),w3(n),S3(ne),u.jsx(Uz,{onPaneClick:V,onPaneMouseEnter:J,onPaneMouseMove:Z,onPaneMouseLeave:K,onPaneContextMenu:Q,onPaneScroll:te,paneClickDistance:ie,deleteKeyCode:z,selectionKeyCode:E,selectionOnDrag:N,selectionMode:_,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:T,panActivationKeyCode:P,zoomActivationKeyCode:M,elementsSelectable:L,zoomOnScroll:G,zoomOnPinch:D,zoomOnDoubleClick:X,panOnScroll:W,panOnScrollSpeed:R,panOnScrollMode:H,panOnDrag:I,defaultViewport:B,translateExtent:q,minZoom:U,maxZoom:A,onSelectionContextMenu:p,preventScrolling:F,noDragClassName:Ce,noWheelClassName:Ve,noPanClassName:ut,disableKeyboardA11y:bt,onViewportChange:le,isControlledViewport:!!ne,children:u.jsxs(v3,{children:[u.jsx(x3,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:l,onReconnect:it,onReconnectStart:Ze,onReconnectEnd:Qe,onlyRenderVisibleElements:Y,onEdgeContextMenu:fe,onEdgeMouseEnter:pe,onEdgeMouseMove:we,onEdgeMouseLeave:De,reconnectRadius:Oe,defaultMarkerColor:$,noPanClassName:ut,disableKeyboardA11y:bt,rfId:At}),u.jsx(E3,{style:v,type:b,component:S,containerStyle:k}),u.jsx("div",{className:"react-flow__edgelabel-renderer"}),u.jsx(Zz,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:m,nodeClickDistance:ue,onlyRenderVisibleElements:Y,noPanClassName:ut,noDragClassName:Ce,disableKeyboardA11y:bt,nodeExtent:_t,rfId:At}),u.jsx("div",{className:"react-flow__viewport-portal"})]})})}AC.displayName="GraphView";const P3=w.memo(AC),ab=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:l,fitViewOptions:c,minZoom:d=.5,maxZoom:f=2,nodeOrigin:m,nodeExtent:p,zIndexMode:g="basic"}={})=>{const x=new Map,b=new Map,v=new Map,S=new Map,k=r??t??[],E=n??e??[],N=m??[0,0],_=p??$a;Uk(v,S,k);const T=Ym(E,x,b,{nodeOrigin:N,nodeExtent:_,zIndexMode:g});let P=[0,0,1];if(l&&o&&i){const M=rc(x,{filter:B=>!!((B.width||B.initialWidth)&&(B.height||B.initialHeight))}),{x:z,y:Y,zoom:L}=Ug(M,o,i,d,f,(c==null?void 0:c.padding)??.1);P=[z,Y,L]}return{rfId:"1",width:o??0,height:i??0,transform:P,nodes:E,nodesInitialized:T,nodeLookup:x,parentLookup:b,edges:k,edgeLookup:S,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:d,maxZoom:f,translateExtent:$a,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:qs.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:N,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:c,fitViewResolver:null,connection:{..._k},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:VO,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:jk,zIndexMode:g,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},A3=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:f,nodeOrigin:m,nodeExtent:p,zIndexMode:g})=>qL((x,b)=>{async function v(){const{nodeLookup:S,panZoom:k,fitViewOptions:E,fitViewResolver:N,width:_,height:T,minZoom:P,maxZoom:M}=b();k&&(await FO({nodes:S,width:_,height:T,panZoom:k,minZoom:P,maxZoom:M},E),N==null||N.resolve(!0),x({fitViewResolver:null}))}return{...ab({nodes:e,edges:t,width:o,height:i,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:f,nodeOrigin:m,nodeExtent:p,defaultNodes:n,defaultEdges:r,zIndexMode:g}),setNodes:S=>{const{nodeLookup:k,parentLookup:E,nodeOrigin:N,elevateNodesOnSelect:_,fitViewQueued:T,zIndexMode:P}=b(),M=Ym(S,k,E,{nodeOrigin:N,nodeExtent:p,elevateNodesOnSelect:_,checkEquality:!0,zIndexMode:P});T&&M?(v(),x({nodes:S,nodesInitialized:M,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:S,nodesInitialized:M})},setEdges:S=>{const{connectionLookup:k,edgeLookup:E}=b();Uk(k,E,S),x({edges:S})},setDefaultNodesAndEdges:(S,k)=>{if(S){const{setNodes:E}=b();E(S),x({hasDefaultNodes:!0})}if(k){const{setEdges:E}=b();E(k),x({hasDefaultEdges:!0})}},updateNodeInternals:S=>{const{triggerNodeChanges:k,nodeLookup:E,parentLookup:N,domNode:_,nodeOrigin:T,nodeExtent:P,debug:M,fitViewQueued:z,zIndexMode:Y}=b(),{changes:L,updatedInternals:B}=uL(S,E,N,_,T,P,Y);B&&(sL(E,N,{nodeOrigin:T,nodeExtent:P,zIndexMode:Y}),z?(v(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),(L==null?void 0:L.length)>0&&(M&&console.log("React Flow: trigger node changes",L),k==null||k(L)))},updateNodePositions:(S,k=!1)=>{const E=[];let N=[];const{nodeLookup:_,triggerNodeChanges:T,connection:P,updateConnection:M,onNodesChangeMiddlewareMap:z}=b();for(const[Y,L]of S){const B=_.get(Y),q=!!(B!=null&&B.expandParent&&(B!=null&&B.parentId)&&(L!=null&&L.position)),U={id:Y,type:"position",position:q?{x:Math.max(0,L.position.x),y:Math.max(0,L.position.y)}:L.position,dragging:k};if(B&&P.inProgress&&P.fromNode.id===B.id){const A=zi(B,P.fromHandle,Pe.Left,!0);M({...P,from:A})}q&&B.parentId&&E.push({id:Y,parentId:B.parentId,rect:{...L.internals.positionAbsolute,width:L.measured.width??0,height:L.measured.height??0}}),N.push(U)}if(E.length>0){const{parentLookup:Y,nodeOrigin:L}=b(),B=Jg(E,_,Y,L);N.push(...B)}for(const Y of z.values())N=Y(N);T(N)},triggerNodeChanges:S=>{const{onNodesChange:k,setNodes:E,nodes:N,hasDefaultNodes:_,debug:T}=b();if(S!=null&&S.length){if(_){const P=iC(S,N);E(P)}T&&console.log("React Flow: trigger node changes",S),k==null||k(S)}},triggerEdgeChanges:S=>{const{onEdgesChange:k,setEdges:E,edges:N,hasDefaultEdges:_,debug:T}=b();if(S!=null&&S.length){if(_){const P=sC(S,N);E(P)}T&&console.log("React Flow: trigger edge changes",S),k==null||k(S)}},addSelectedNodes:S=>{const{multiSelectionActive:k,edgeLookup:E,nodeLookup:N,triggerNodeChanges:_,triggerEdgeChanges:T}=b();if(k){const P=S.map(M=>Ni(M,!0));_(P);return}_(Ms(N,new Set([...S]),!0)),T(Ms(E))},addSelectedEdges:S=>{const{multiSelectionActive:k,edgeLookup:E,nodeLookup:N,triggerNodeChanges:_,triggerEdgeChanges:T}=b();if(k){const P=S.map(M=>Ni(M,!0));T(P);return}T(Ms(E,new Set([...S]))),_(Ms(N,new Set,!0))},unselectNodesAndEdges:({nodes:S,edges:k}={})=>{const{edges:E,nodes:N,nodeLookup:_,triggerNodeChanges:T,triggerEdgeChanges:P}=b(),M=S||N,z=k||E,Y=M.map(B=>{const q=_.get(B.id);return q&&(q.selected=!1),Ni(B.id,!1)}),L=z.map(B=>Ni(B.id,!1));T(Y),P(L)},setMinZoom:S=>{const{panZoom:k,maxZoom:E}=b();k==null||k.setScaleExtent([S,E]),x({minZoom:S})},setMaxZoom:S=>{const{panZoom:k,minZoom:E}=b();k==null||k.setScaleExtent([E,S]),x({maxZoom:S})},setTranslateExtent:S=>{var k;(k=b().panZoom)==null||k.setTranslateExtent(S),x({translateExtent:S})},resetSelectedElements:()=>{const{edges:S,nodes:k,triggerNodeChanges:E,triggerEdgeChanges:N,elementsSelectable:_}=b();if(!_)return;const T=k.reduce((M,z)=>z.selected?[...M,Ni(z.id,!1)]:M,[]),P=S.reduce((M,z)=>z.selected?[...M,Ni(z.id,!1)]:M,[]);E(T),N(P)},setNodeExtent:S=>{const{nodes:k,nodeLookup:E,parentLookup:N,nodeOrigin:_,elevateNodesOnSelect:T,nodeExtent:P,zIndexMode:M}=b();S[0][0]===P[0][0]&&S[0][1]===P[0][1]&&S[1][0]===P[1][0]&&S[1][1]===P[1][1]||(Ym(k,E,N,{nodeOrigin:_,nodeExtent:S,elevateNodesOnSelect:T,checkEquality:!1,zIndexMode:M}),x({nodeExtent:S}))},panBy:S=>{const{transform:k,width:E,height:N,panZoom:_,translateExtent:T}=b();return dL({delta:S,panZoom:_,transform:k,translateExtent:T,width:E,height:N})},setCenter:async(S,k,E)=>{const{width:N,height:_,maxZoom:T,panZoom:P}=b();if(!P)return Promise.resolve(!1);const M=typeof(E==null?void 0:E.zoom)<"u"?E.zoom:T;return await P.setViewport({x:N/2-S*M,y:_/2-k*M,zoom:M},{duration:E==null?void 0:E.duration,ease:E==null?void 0:E.ease,interpolate:E==null?void 0:E.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{..._k}})},updateConnection:S=>{x({connection:S})},reset:()=>x({...ab()})}},Object.is);function IC({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:d,fitView:f,nodeOrigin:m,nodeExtent:p,zIndexMode:g,children:x}){const[b]=w.useState(()=>A3({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:f,minZoom:l,maxZoom:c,fitViewOptions:d,nodeOrigin:m,nodeExtent:p,zIndexMode:g}));return u.jsx(KL,{value:b,children:u.jsx(vz,{children:x})})}function I3({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:l,fitView:c,fitViewOptions:d,minZoom:f,maxZoom:m,nodeOrigin:p,nodeExtent:g,zIndexMode:x}){return w.useContext(Zd)?u.jsx(u.Fragment,{children:e}):u.jsx(IC,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:l,fitView:c,initialFitViewOptions:d,initialMinZoom:f,initialMaxZoom:m,nodeOrigin:p,nodeExtent:g,zIndexMode:x,children:e})}const T3={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function R3({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:l,onNodeClick:c,onEdgeClick:d,onInit:f,onMove:m,onMoveStart:p,onMoveEnd:g,onConnect:x,onConnectStart:b,onConnectEnd:v,onClickConnectStart:S,onClickConnectEnd:k,onNodeMouseEnter:E,onNodeMouseMove:N,onNodeMouseLeave:_,onNodeContextMenu:T,onNodeDoubleClick:P,onNodeDragStart:M,onNodeDrag:z,onNodeDragStop:Y,onNodesDelete:L,onEdgesDelete:B,onDelete:q,onSelectionChange:U,onSelectionDragStart:A,onSelectionDrag:F,onSelectionDragStop:$,onSelectionContextMenu:G,onSelectionStart:D,onSelectionEnd:W,onBeforeDelete:R,connectionMode:H,connectionLineType:X=Wo.Bezier,connectionLineStyle:I,connectionLineComponent:V,connectionLineContainerStyle:J,deleteKeyCode:Z="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:te=!1,selectionMode:Q=Fa.Full,panActivationKeyCode:ie="Space",multiSelectionKeyCode:ue=Ha()?"Meta":"Control",zoomActivationKeyCode:fe=Ha()?"Meta":"Control",snapToGrid:pe,snapGrid:we,onlyRenderVisibleElements:De=!1,selectNodesOnDrag:Oe,nodesDraggable:it,autoPanOnNodeFocus:Ze,nodesConnectable:Qe,nodesFocusable:Ce,nodeOrigin:Ve=rC,edgesFocusable:ut,edgesReconnectable:bt,elementsSelectable:_t=!0,defaultViewport:At=cz,minZoom:ne=.5,maxZoom:le=2,translateExtent:he=$a,preventScrolling:be=!0,nodeExtent:Ne,defaultMarkerColor:Le="#b1b1b7",zoomOnScroll:tt=!0,zoomOnPinch:We=!0,panOnScroll:Xe=!1,panOnScrollSpeed:et=.5,panOnScrollMode:Ue=Ri.Free,zoomOnDoubleClick:St=!0,panOnDrag:gt=!0,onPaneClick:Et,onPaneMouseEnter:se,onPaneMouseMove:je,onPaneMouseLeave:nt,onPaneScroll:ze,onPaneContextMenu:lt,paneClickDistance:ft=1,nodeClickDistance:at=0,children:ht,onReconnect:Lt,onReconnectStart:Zt,onReconnectEnd:Ht,onEdgeContextMenu:mr,onEdgeDoubleClick:Mn,onEdgeMouseEnter:hl,onEdgeMouseMove:li,onEdgeMouseLeave:Xi,reconnectRadius:qi=10,onNodesChange:ml,onEdgesChange:Ff,noDragClassName:Bf="nodrag",noWheelClassName:Vf="nowheel",noPanClassName:Or="nopan",fitView:gl,fitViewOptions:xl,connectOnClick:Hf,attributionPosition:xc,proOptions:yc,defaultEdgeOptions:vc,elevateNodesOnSelect:wc=!0,elevateEdgesOnSelect:Uf=!1,disableKeyboardA11y:bc=!1,autoPanOnConnect:Ft,autoPanOnNodeDrag:Wf,autoPanSpeed:yl,connectionRadius:Sc,isValidConnection:Gi,onError:Yf,style:kc,id:ai,nodeDragThreshold:or,connectionDragThreshold:Xf,viewport:Un,onViewportChange:qf,width:Gf,height:Kf,colorMode:Ki="light",debug:Qi,onScroll:Lr,ariaLabelConfig:Ji,zIndexMode:Cc="basic",...Qf},vl){const Zi=ai||"1",wl=pz(Ki),ci=w.useCallback(Nc=>{Nc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Lr==null||Lr(Nc)},[Lr]);return u.jsx("div",{"data-testid":"rf__wrapper",...Qf,onScroll:ci,style:{...kc,...T3},ref:vl,className:Gt(["react-flow",o,wl]),id:ai,role:"application",children:u.jsxs(I3,{nodes:e,edges:t,width:Gf,height:Kf,fitView:gl,fitViewOptions:xl,minZoom:ne,maxZoom:le,nodeOrigin:Ve,nodeExtent:Ne,zIndexMode:Cc,children:[u.jsx(P3,{onInit:f,onNodeClick:c,onEdgeClick:d,onNodeMouseEnter:E,onNodeMouseMove:N,onNodeMouseLeave:_,onNodeContextMenu:T,onNodeDoubleClick:P,nodeTypes:i,edgeTypes:l,connectionLineType:X,connectionLineStyle:I,connectionLineComponent:V,connectionLineContainerStyle:J,selectionKeyCode:K,selectionOnDrag:te,selectionMode:Q,deleteKeyCode:Z,multiSelectionKeyCode:ue,panActivationKeyCode:ie,zoomActivationKeyCode:fe,onlyRenderVisibleElements:De,defaultViewport:At,translateExtent:he,minZoom:ne,maxZoom:le,preventScrolling:be,zoomOnScroll:tt,zoomOnPinch:We,zoomOnDoubleClick:St,panOnScroll:Xe,panOnScrollSpeed:et,panOnScrollMode:Ue,panOnDrag:gt,onPaneClick:Et,onPaneMouseEnter:se,onPaneMouseMove:je,onPaneMouseLeave:nt,onPaneScroll:ze,onPaneContextMenu:lt,paneClickDistance:ft,nodeClickDistance:at,onSelectionContextMenu:G,onSelectionStart:D,onSelectionEnd:W,onReconnect:Lt,onReconnectStart:Zt,onReconnectEnd:Ht,onEdgeContextMenu:mr,onEdgeDoubleClick:Mn,onEdgeMouseEnter:hl,onEdgeMouseMove:li,onEdgeMouseLeave:Xi,reconnectRadius:qi,defaultMarkerColor:Le,noDragClassName:Bf,noWheelClassName:Vf,noPanClassName:Or,rfId:Zi,disableKeyboardA11y:bc,nodeExtent:Ne,viewport:Un,onViewportChange:qf}),u.jsx(fz,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:b,onConnectEnd:v,onClickConnectStart:S,onClickConnectEnd:k,nodesDraggable:it,autoPanOnNodeFocus:Ze,nodesConnectable:Qe,nodesFocusable:Ce,edgesFocusable:ut,edgesReconnectable:bt,elementsSelectable:_t,elevateNodesOnSelect:wc,elevateEdgesOnSelect:Uf,minZoom:ne,maxZoom:le,nodeExtent:Ne,onNodesChange:ml,onEdgesChange:Ff,snapToGrid:pe,snapGrid:we,connectionMode:H,translateExtent:he,connectOnClick:Hf,defaultEdgeOptions:vc,fitView:gl,fitViewOptions:xl,onNodesDelete:L,onEdgesDelete:B,onDelete:q,onNodeDragStart:M,onNodeDrag:z,onNodeDragStop:Y,onSelectionDrag:F,onSelectionDragStart:A,onSelectionDragStop:$,onMove:m,onMoveStart:p,onMoveEnd:g,noPanClassName:Or,nodeOrigin:Ve,rfId:Zi,autoPanOnConnect:Ft,autoPanOnNodeDrag:Wf,autoPanSpeed:yl,onError:Yf,connectionRadius:Sc,isValidConnection:Gi,selectNodesOnDrag:Oe,nodeDragThreshold:or,connectionDragThreshold:Xf,onBeforeDelete:R,debug:Qi,ariaLabelConfig:Ji,zIndexMode:Cc}),u.jsx(az,{onSelectionChange:U}),ht,u.jsx(rz,{proOptions:yc,position:xc}),u.jsx(nz,{rfId:Zi,disableKeyboardA11y:bc})]})})}var M3=lC(R3);const D3=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function O3({children:e}){const t=wt(D3);return t?il.createPortal(e,t):null}const L3=e=>t=>{if(!e.includeHiddenNodes)return t.nodesInitialized;if(t.nodeLookup.size===0)return!1;for(const[,{internals:n}]of t.nodeLookup)if(n.handleBounds===void 0||!Wg(n.userNode))return!1;return!0};function z3(e={includeHiddenNodes:!1}){return wt(L3(e))}function cb(e){return wt(w.useCallback(n=>n.nodeLookup.get(e),[e]),Ot)}function $3({dimensions:e,lineWidth:t,variant:n,className:r}){return u.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Gt(["react-flow__background-pattern",n,r])})}function F3({radius:e,className:t}){return u.jsx("circle",{cx:e,cy:e,r:e,className:Gt(["react-flow__background-pattern","dots",t])})}var Yo;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Yo||(Yo={}));const B3={[Yo.Dots]:1,[Yo.Lines]:1,[Yo.Cross]:6},V3=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function TC({id:e,variant:t=Yo.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:l,bgColor:c,style:d,className:f,patternClassName:m}){const p=w.useRef(null),{transform:g,patternId:x}=wt(V3,Ot),b=r||B3[t],v=t===Yo.Dots,S=t===Yo.Cross,k=Array.isArray(n)?n:[n,n],E=[k[0]*g[2]||1,k[1]*g[2]||1],N=b*g[2],_=Array.isArray(i)?i:[i,i],T=S?[N,N]:E,P=[_[0]*g[2]||1+T[0]/2,_[1]*g[2]||1+T[1]/2],M=`${x}${e||""}`;return u.jsxs("svg",{className:Gt(["react-flow__background",f]),style:{...d,...ef,"--xy-background-color-props":c,"--xy-background-pattern-color-props":l},ref:p,"data-testid":"rf__background",children:[u.jsx("pattern",{id:M,x:g[0]%E[0],y:g[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${P[0]},-${P[1]})`,children:v?u.jsx(F3,{radius:N/2,className:m}):u.jsx($3,{dimensions:T,lineWidth:o,variant:t,className:m})}),u.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${M})`})]})}TC.displayName="Background";const H3=w.memo(TC);function U3(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:u.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function W3(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:u.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Y3(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:u.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function X3(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function q3(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function zu({children:e,className:t,...n}){return u.jsx("button",{type:"button",className:Gt(["react-flow__controls-button",t]),...n,children:e})}const G3=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function RC({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:l,onFitView:c,onInteractiveChange:d,className:f,children:m,position:p="bottom-left",orientation:g="vertical","aria-label":x}){const b=$t(),{isInteractive:v,minZoomReached:S,maxZoomReached:k,ariaLabelConfig:E}=wt(G3,Ot),{zoomIn:N,zoomOut:_,fitView:T}=Qo(),P=()=>{N(),i==null||i()},M=()=>{_(),l==null||l()},z=()=>{T(o),c==null||c()},Y=()=>{b.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),d==null||d(!v)},L=g==="horizontal"?"horizontal":"vertical";return u.jsxs(sc,{className:Gt(["react-flow__controls",L,f]),position:p,style:e,"data-testid":"rf__controls","aria-label":x??E["controls.ariaLabel"],children:[t&&u.jsxs(u.Fragment,{children:[u.jsx(zu,{onClick:P,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:k,children:u.jsx(U3,{})}),u.jsx(zu,{onClick:M,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:S,children:u.jsx(W3,{})})]}),n&&u.jsx(zu,{className:"react-flow__controls-fitview",onClick:z,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:u.jsx(Y3,{})}),r&&u.jsx(zu,{className:"react-flow__controls-interactive",onClick:Y,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:v?u.jsx(q3,{}):u.jsx(X3,{})}),m]})}RC.displayName="Controls";const K3=w.memo(RC);function Q3({id:e,x:t,y:n,width:r,height:o,style:i,color:l,strokeColor:c,strokeWidth:d,className:f,borderRadius:m,shapeRendering:p,selected:g,onClick:x}){const{background:b,backgroundColor:v}=i||{},S=l||b||v;return u.jsx("rect",{className:Gt(["react-flow__minimap-node",{selected:g},f]),x:t,y:n,rx:m,ry:m,width:r,height:o,style:{fill:S,stroke:c,strokeWidth:d},shapeRendering:p,onClick:x?k=>x(k,e):void 0})}const J3=w.memo(Q3),Z3=e=>e.nodes.map(t=>t.id),em=e=>e instanceof Function?e:()=>e;function e4({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=J3,onClick:l}){const c=wt(Z3,Ot),d=em(t),f=em(e),m=em(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return u.jsx(u.Fragment,{children:c.map(g=>u.jsx(n4,{id:g,nodeColorFunc:d,nodeStrokeColorFunc:f,nodeClassNameFunc:m,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:l,shapeRendering:p},g))})}function t4({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:l,NodeComponent:c,onClick:d}){const{node:f,x:m,y:p,width:g,height:x}=wt(b=>{const{internals:v}=b.nodeLookup.get(e),S=v.userNode,{x:k,y:E}=v.positionAbsolute,{width:N,height:_}=xo(S);return{node:S,x:k,y:E,width:N,height:_}},Ot);return!f||f.hidden||!Wg(f)?null:u.jsx(c,{x:m,y:p,width:g,height:x,style:f.style,selected:!!f.selected,className:r(f),color:t(f),borderRadius:o,strokeColor:n(f),strokeWidth:i,shapeRendering:l,onClick:d,id:f.id})}const n4=w.memo(t4);var r4=w.memo(e4);const o4=200,i4=150,s4=e=>!e.hidden,l4=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Mk(rc(e.nodeLookup,{filter:s4}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},a4="react-flow__minimap-desc";function MC({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:l,nodeComponent:c,bgColor:d,maskColor:f,maskStrokeColor:m,maskStrokeWidth:p,position:g="bottom-right",onClick:x,onNodeClick:b,pannable:v=!1,zoomable:S=!1,ariaLabel:k,inversePan:E,zoomStep:N=1,offsetScale:_=5}){const T=$t(),P=w.useRef(null),{boundingRect:M,viewBB:z,rfId:Y,panZoom:L,translateExtent:B,flowWidth:q,flowHeight:U,ariaLabelConfig:A}=wt(l4,Ot),F=(e==null?void 0:e.width)??o4,$=(e==null?void 0:e.height)??i4,G=M.width/F,D=M.height/$,W=Math.max(G,D),R=W*F,H=W*$,X=_*W,I=M.x-(R-M.width)/2-X,V=M.y-(H-M.height)/2-X,J=R+X*2,Z=H+X*2,K=`${a4}-${Y}`,te=w.useRef(0),Q=w.useRef();te.current=W,w.useEffect(()=>{if(P.current&&L)return Q.current=wL({domNode:P.current,panZoom:L,getTransform:()=>T.getState().transform,getViewScale:()=>te.current}),()=>{var pe;(pe=Q.current)==null||pe.destroy()}},[L]),w.useEffect(()=>{var pe;(pe=Q.current)==null||pe.update({translateExtent:B,width:q,height:U,inversePan:E,pannable:v,zoomStep:N,zoomable:S})},[v,S,E,N,B,q,U]);const ie=x?pe=>{var Oe;const[we,De]=((Oe=Q.current)==null?void 0:Oe.pointer(pe))||[0,0];x(pe,{x:we,y:De})}:void 0,ue=b?w.useCallback((pe,we)=>{const De=T.getState().nodeLookup.get(we).internals.userNode;b(pe,De)},[]):void 0,fe=k??A["minimap.ariaLabel"];return u.jsx(sc,{position:g,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*W:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:Gt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:u.jsxs("svg",{width:F,height:$,viewBox:`${I} ${V} ${J} ${Z}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":K,ref:P,onClick:ie,children:[fe&&u.jsx("title",{id:K,children:fe}),u.jsx(r4,{onClick:ue,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:l,nodeComponent:c}),u.jsx("path",{className:"react-flow__minimap-mask",d:`M${I-X},${V-X}h${J+X*2}v${Z+X*2}h${-J-X*2}z
        M${z.x},${z.y}h${z.width}v${z.height}h${-z.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}MC.displayName="MiniMap";const c4=w.memo(MC),u4=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,d4={[$i.Line]:"right",[$i.Handle]:"bottom-right"};function f4({nodeId:e,position:t,variant:n=$i.Handle,className:r,style:o=void 0,children:i,color:l,minWidth:c=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:g,autoScale:x=!0,shouldResize:b,onResizeStart:v,onResize:S,onResizeEnd:k}){const E=dC(),N=typeof e=="string"?e:E,_=$t(),T=w.useRef(null),P=n===$i.Handle,M=wt(w.useCallback(u4(P&&x),[P,x]),Ot),z=w.useRef(null),Y=t??d4[n];w.useEffect(()=>{if(!(!T.current||!N))return z.current||(z.current=OL({domNode:T.current,nodeId:N,getStoreItems:()=>{const{nodeLookup:B,transform:q,snapGrid:U,snapToGrid:A,nodeOrigin:F,domNode:$}=_.getState();return{nodeLookup:B,transform:q,snapGrid:U,snapToGrid:A,nodeOrigin:F,paneDomNode:$}},onChange:(B,q)=>{const{triggerNodeChanges:U,nodeLookup:A,parentLookup:F,nodeOrigin:$}=_.getState(),G=[],D={x:B.x,y:B.y},W=A.get(N);if(W&&W.expandParent&&W.parentId){const R=W.origin??$,H=B.width??W.measured.width??0,X=B.height??W.measured.height??0,I={id:W.id,parentId:W.parentId,rect:{width:H,height:X,...Dk({x:B.x??W.position.x,y:B.y??W.position.y},{width:H,height:X},W.parentId,A,R)}},V=Jg([I],A,F,$);G.push(...V),D.x=B.x?Math.max(R[0]*H,B.x):void 0,D.y=B.y?Math.max(R[1]*X,B.y):void 0}if(D.x!==void 0&&D.y!==void 0){const R={id:N,type:"position",position:{...D}};G.push(R)}if(B.width!==void 0&&B.height!==void 0){const H={id:N,type:"dimensions",resizing:!0,setAttributes:g?g==="horizontal"?"width":"height":!0,dimensions:{width:B.width,height:B.height}};G.push(H)}for(const R of q){const H={...R,type:"position"};G.push(H)}U(G)},onEnd:({width:B,height:q})=>{const U={id:N,type:"dimensions",resizing:!1,dimensions:{width:B,height:q}};_.getState().triggerNodeChanges([U])}})),z.current.update({controlPosition:Y,boundaries:{minWidth:c,minHeight:d,maxWidth:f,maxHeight:m},keepAspectRatio:p,resizeDirection:g,onResizeStart:v,onResize:S,onResizeEnd:k,shouldResize:b}),()=>{var B;(B=z.current)==null||B.destroy()}},[Y,c,d,f,m,p,v,S,k,b]);const L=Y.split("-");return u.jsx("div",{className:Gt(["react-flow__resize-control","nodrag",...L,n,r]),ref:T,style:{...o,scale:M,...l&&{[P?"backgroundColor":"borderColor"]:l}},children:i})}const ub=w.memo(f4);function DC({nodeId:e,isVisible:t=!0,handleClassName:n,handleStyle:r,lineClassName:o,lineStyle:i,color:l,minWidth:c=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:p=!1,autoScale:g=!0,shouldResize:x,onResizeStart:b,onResize:v,onResizeEnd:S}){return t?u.jsxs(u.Fragment,{children:[AL.map(k=>u.jsx(ub,{className:o,style:i,nodeId:e,position:k,variant:$i.Line,color:l,minWidth:c,minHeight:d,maxWidth:f,maxHeight:m,onResizeStart:b,keepAspectRatio:p,autoScale:g,shouldResize:x,onResize:v,onResizeEnd:S},k)),PL.map(k=>u.jsx(ub,{className:n,style:r,nodeId:e,position:k,color:l,minWidth:c,minHeight:d,maxWidth:f,maxHeight:m,onResizeStart:b,keepAspectRatio:p,autoScale:g,shouldResize:x,onResize:v,onResizeEnd:S},k))]}):null}function Gm(e){return e!==null&&typeof e=="object"&&"value"in e&&"timestamp"in e&&typeof e.timestamp=="number"}function tm({children:e,offset:t,onDragEnd:n,className:r,style:o}){const[i,l]=w.useState(!1),[c,d]=w.useState(t),f=w.useRef(c),m=w.useRef(null),{getZoom:p}=Qo();f.current=c,He.useEffect(()=>{d(t)},[t]);const g=w.useCallback(x=>{x.stopPropagation(),l(!0),m.current={x:x.clientX,y:x.clientY,offsetX:f.current.x,offsetY:f.current.y};const b=S=>{if(!m.current)return;const k=p(),E=(S.clientX-m.current.x)/k,N=(S.clientY-m.current.y)/k,_={x:m.current.offsetX+E,y:m.current.offsetY+N};d(_),f.current=_},v=()=>{l(!1),m.current&&n(f.current),m.current=null,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",v)};document.addEventListener("mousemove",b),document.addEventListener("mouseup",v)},[p,n]);return u.jsx("div",{style:{position:"absolute",transform:`translate(${c.x}px, ${c.y}px)`,cursor:i?"grabbing":"grab",userSelect:"none",...o},className:`nodrag ${r||""}`,onMouseDown:g,children:e})}function Ds(e,t=!1){if(e==null)return t?"":"()";if(e instanceof Map){const n=[];return e.forEach((r,o)=>{n.push(`${o}=${Ds(r)}`)}),`{${n.join(", ")}}`}else return Array.isArray(e)?`(${e.map(n=>Ds(n)).join(",")})`:typeof e=="object"?Gm(e)?Ds(e.value,t):`{${Object.entries(e).map(([r,o])=>`${r}=${Ds(o)}`).join(", ")}}`:typeof e=="string"?`"${e}"`:String(e)}function p4(e,t){if(t)return new Date(t.getTime()+e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});if(e===0)return"@0";const n=e/1e3;if(n<60)return`@${n.toFixed(n%1===0?0:1)}s`;const r=n/60;if(r<60)return`@${r.toFixed(r%1===0?0:1)}m`;const o=r/60;if(o<24)return`@${o.toFixed(o%1===0?0:1)}h`;const i=o/24;return`@${i.toFixed(i%1===0?0:1)}d`}function h4(e,t=!1,n=!1,r=null){if(t&&!n)return[{count:e.length,value:"",timestamp:0,timeDisplay:""}];const o=new Map;for(const i of e){const l=Gm(i)?i.timestamp:0,c=Gm(i)?Ds(i.value,t):Ds(i,t),d=n?`${c}@${l}`:c,f=o.get(d);f?f.count++:o.set(d,{count:1,value:c,timestamp:l,timeDisplay:n?p4(l,r):""})}return Array.from(o.values())}const nm=10,m4=({id:e,data:t,selected:n})=>{var Y;const r=ex(),o=me(L=>L.colorSets.find(B=>B.name===t.colorSet)),i=(o==null?void 0:o.color)||"#000000",l=(o==null?void 0:o.type)==="basic"&&((Y=o==null?void 0:o.definition)==null?void 0:Y.includes("= unit;")),c=(o==null?void 0:o.timed)===!0,d=me(L=>L.activePetriNetId),f=me(L=>L.updateNodeData),m=me(L=>L.showMarkingDisplay),p=me(L=>L.simulationEpoch),g=p?new Date(p):null,x=r.inProgress&&r.fromNode.id!==e&&r.fromNode.type==="transition",b=t.marking&&Array.isArray(t.marking)&&t.marking.length>0,v=b?t.marking.length:0,S=b?h4(t.marking,l,c,g):[],k=S.slice(0,nm),E=S.length>nm,N=t.colorSetOffset??{x:0,y:35},_=t.tokenCountOffset??{x:25,y:-5},T=t.markingOffset??{x:40,y:0},P=w.useCallback(L=>{d&&f(d,e,{...t,colorSetOffset:L})},[d,e,t,f]),M=w.useCallback(L=>{d&&f(d,e,{...t,tokenCountOffset:L})},[d,e,t,f]),z=w.useCallback(L=>{d&&f(d,e,{...t,markingOffset:L})},[d,e,t,f]);return u.jsxs("div",{className:"relative cpn-node place-node",style:{borderColor:i},children:[u.jsx(DC,{isVisible:n,minWidth:30,minHeight:30}),u.jsx("div",{className:"whitespace-pre-wrap leading-tight",children:t.label}),t.colorSet&&u.jsx(tm,{offset:N,onDragEnd:P,className:"text-[9px] font-mono whitespace-nowrap",style:{top:"50%",left:"50%"},children:t.colorSet}),b&&u.jsx(tm,{offset:_,onDragEnd:M,style:{top:"50%",left:"50%"},children:u.jsx("div",{className:"marking flex items-center justify-center text-[9px] text-black rounded-full min-w-[14px] h-[14px] px-0.5",children:v})}),b&&m&&u.jsx(tm,{offset:T,onDragEnd:z,style:{top:"50%",left:"50%"},children:u.jsx("table",{className:"marking text-[7px] font-mono text-black rounded-sm border-collapse",children:u.jsxs("tbody",{children:[k.map((L,B)=>u.jsxs("tr",{children:[u.jsxs("td",{className:"px-1 py-0.5 text-right",children:[L.count,"`"]}),u.jsx("td",{className:"px-1 py-0.5",children:L.value}),c&&u.jsx("td",{className:"px-1 py-0.5 text-muted-foreground whitespace-nowrap",children:L.timeDisplay})]},B)),E&&u.jsx("tr",{children:u.jsxs("td",{colSpan:c?3:2,className:"px-1 py-0.5 text-center text-muted-foreground",children:["...",S.length-nm," more"]})})]})})}),u.jsx(qo,{className:"custom-handle",type:"source",position:Pe.Right,style:{visibility:t.isArcMode&&!r.inProgress?"visible":"hidden"}}),u.jsx(qo,{className:"custom-handle",type:"target",position:Pe.Left,style:{visibility:t.isArcMode&&x?"visible":"hidden"},isConnectable:x})]})};function db({children:e,offset:t,onDragEnd:n,className:r,style:o}){const[i,l]=w.useState(!1),[c,d]=w.useState(t),f=w.useRef(c),m=w.useRef(null),{getZoom:p}=Qo();f.current=c;const g=w.useRef(t);He.useEffect(()=>{g.current.x===t.x&&g.current.y===t.y||(g.current=t,d(t))},[t]);const x=w.useCallback(b=>{b.stopPropagation(),l(!0),m.current={x:b.clientX,y:b.clientY,offsetX:f.current.x,offsetY:f.current.y};const v=k=>{if(!m.current)return;const E=p(),N=(k.clientX-m.current.x)/E,_=(k.clientY-m.current.y)/E,T=m.current.offsetX+N,P=m.current.offsetY+_,M={x:T,y:P};d(M),f.current=M},S=()=>{l(!1),m.current&&n(f.current),m.current=null,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",S)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",S)},[p,n]);return u.jsx("div",{style:{position:"absolute",left:"50%",top:0,transform:`translate(calc(-50% + ${c.x}px), ${c.y}px)`,cursor:i?"grabbing":"grab",userSelect:"none",whiteSpace:"nowrap",...o},className:`nodrag ${r||""}`,onMouseDown:x,children:e})}const g4=({id:e,data:t,selected:n})=>{const r=ex(),o=me(p=>p.activePetriNetId),i=me(p=>p.updateNodeData),l=r.inProgress&&r.fromNode.id!==e&&r.fromNode.type==="place",c=t.guardOffset??{x:-45,y:-15},d=t.timeOffset??{x:45,y:-15},f=w.useCallback(p=>{o&&i(o,e,{...t,guardOffset:p})},[o,e,t,i]),m=w.useCallback(p=>{o&&i(o,e,{...t,timeOffset:p})},[o,e,t,i]);return u.jsxs("div",{className:"relative cpn-node transition-node",children:[u.jsx(DC,{isVisible:n,minWidth:15,minHeight:30}),u.jsx("div",{className:"whitespace-pre-wrap leading-tight",children:t.label}),t.guard&&u.jsx(db,{offset:c,onDragEnd:f,className:"text-[9px] font-mono whitespace-nowrap text-[#006400]",children:t.guard}),t.time&&u.jsxs(db,{offset:d,onDragEnd:m,className:"text-[9px] font-mono whitespace-nowrap text-[#8B4513]",children:["@+",t.time]}),u.jsx(qo,{className:"custom-handle",type:"source",position:Pe.Right,style:{visibility:t.isArcMode&&!r.inProgress?"visible":"hidden"}}),u.jsx(qo,{className:"custom-handle",type:"target",position:Pe.Left,style:{visibility:t.isArcMode&&l?"visible":"hidden"},isConnectable:l})]})},x4=w.memo(g4),y4=({data:e})=>{const t={color:e.color||"inherit",fontWeight:e.bold?"bold":"normal",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",whiteSpace:"pre-wrap",textAlign:"center",fontSize:"9px"};return u.jsx("div",{className:"cpn-node auxtext-node",style:t,children:e.label})},v4=({data:e})=>{const t=e.color||"inherit";return u.jsx("div",{className:"inscription-node font-mono text-[9px] whitespace-pre-wrap cursor-move select-none",style:{color:t},children:e.label})},w4=w.memo(v4),b4=[{id:"a",type:"place",position:{x:-200,y:0},data:{label:"start",colorSet:"INT",initialMarking:"[1, 5, 5, 10]"}},{id:"b",type:"transition",position:{x:-110,y:100},width:70,height:30,data:{label:"transition",guard:"var1>4",time:"",priority:"",codeSegment:""}},{id:"c",type:"place",position:{x:0,y:200},width:50,height:30,data:{label:"end place",colorSet:"INT"}}],S4={place:m4,transition:x4,auxText:y4,inscription:w4};function fb(e,t){var N,_;const{width:n=0,height:r=0}=e.measured||{},o=e.internals.positionAbsolute,i=t.internals.positionAbsolute,l=n/2,c=r/2,d=o.x+l,f=o.y+c,m=i.x+(((N=t.measured)==null?void 0:N.width)??0)/2,p=i.y+(((_=t.measured)==null?void 0:_.height)??0)/2;if(e.type==="place"){const T=m-d,P=p-f,M=Math.atan2(P,T),z=l,Y=c,L=d+z*Math.cos(M),B=f+Y*Math.sin(M);return{x:L,y:B}}const g=(m-d)/(2*l)-(p-f)/(2*c),x=(m-d)/(2*l)+(p-f)/(2*c),b=1/(Math.abs(g)+Math.abs(x)||1),v=b*g,S=b*x,k=l*(v+S)+d,E=c*(-v+S)+f;return{x:k,y:E}}function pb(e,t){const{width:n=0,height:r=0}=e.measured||{},o=e.internals.positionAbsolute,i=n/2,l=r/2,c=o.x+i,d=o.y+l,f=t.x,m=t.y;if(e.type==="place"){const S=f-c,k=m-d,E=Math.atan2(k,S),N=i,_=l,T=c+N*Math.cos(E),P=d+_*Math.sin(E);return{x:T,y:P}}const p=f-c,g=m-d;if(p===0&&g===0)return{x:c,y:d};let x=1/0;if(p!==0){const S=i/Math.abs(p),k=i/Math.abs(p);x=Math.min(x,p>0?S:k)}if(g!==0){const S=l/Math.abs(g),k=l/Math.abs(g);x=Math.min(x,g>0?S:k)}const b=c+x*p,v=d+x*g;return{x:b,y:v}}function hb(e,t){var c,d,f,m;const n={...e.internals.positionAbsolute,...e},r=Math.round(n.x),o=Math.round(n.y),i=Math.round(t.x),l=Math.round(t.y);if(e.type==="place"){const p=i-(r+(((c=n.measured)==null?void 0:c.width)??0)/2),g=l-(o+(((d=n.measured)==null?void 0:d.height)??0)/2),x=Math.atan2(g,p);return Math.abs(x)<Math.PI/4?Pe.Right:Math.abs(x)>3*Math.PI/4?Pe.Left:x>0?Pe.Bottom:Pe.Top}return i<=r+1?Pe.Left:i>=r+(((f=n.measured)==null?void 0:f.width)??0)-1?Pe.Right:l<=o+1?Pe.Top:l>=n.y+((((m=n.measured)==null?void 0:m.height)??0)-1)?Pe.Bottom:Pe.Top}function k4(e,t){const n=fb(e,t),r=fb(t,e),o=hb(e,n),i=hb(t,r);return{sx:n.x,sy:n.y,tx:r.x,ty:r.y,sourcePos:o,targetPos:i}}function C4(e,t,n){const r=n.x-t.x,o=n.y-t.y,i=r*r+o*o;if(i===0)return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2);let l=((e.x-t.x)*r+(e.y-t.y)*o)/i;l=Math.max(0,Math.min(1,l));const c=t.x+l*r,d=t.y+l*o;return Math.sqrt((e.x-c)**2+(e.y-d)**2)}function mb(e,t,n,r,o){if(!o||o.length===0)return{path:`M ${e},${t} L ${n},${r}`,labelX:(e+n)/2,labelY:(t+r)/2};let i=`M ${e},${t}`;for(const x of o)i+=` L ${x.x},${x.y}`;i+=` L ${n},${r}`;const l=[{x:e,y:t},...o,{x:n,y:r}],c=[];let d=0;for(let x=1;x<l.length;x++){const b=l[x].x-l[x-1].x,v=l[x].y-l[x-1].y,S=Math.sqrt(b*b+v*v);c.push(S),d+=S}const f=d/2;let m=0,p=(e+n)/2,g=(t+r)/2;for(let x=0;x<c.length;x++){const b=c[x];if(m+b>=f){const v=f-m,S=b>0?v/b:0;p=l[x].x+S*(l[x+1].x-l[x].x),g=l[x].y+S*(l[x+1].y-l[x].y);break}m+=b}return{path:i,labelX:p,labelY:g}}function N4({id:e,source:t,target:n,style:r,label:o,data:i}){const l=cb(t),c=cb(n),{getZoom:d}=Qo(),[f,m]=w.useState(null),[p,g]=w.useState(null),x=w.useRef(null),b=w.useRef(null),v=me(Ce=>Ce.activePetriNetId),S=me(Ce=>Ce.updateEdgeData),k=me(Ce=>Ce.setSelectedElement),E=me(Ce=>{const Ve=Ce.activePetriNetId,ut=Ve?Ce.petriNetsById[Ve]:null;return(ut==null?void 0:ut.edges)??[]}),{parallelArcIndex:N,totalParallelArcs:_}=w.useMemo(()=>{const Ce=E.filter(bt=>bt.source===t&&bt.target===n||bt.source===n&&bt.target===t),Ve=Ce.length;let ut=Ce.findIndex(bt=>bt.id===e);return ut===-1&&(ut=0),{parallelArcIndex:ut,totalParallelArcs:Ve}},[E,e,t,n]),T=me(Ce=>{var ne;const Ve=Ce.activePetriNetId,ut=Ve?Ce.petriNetsById[Ve]:null;if(!ut)return"#000";const bt=ut.nodes.find(le=>le.id===t),_t=ut.nodes.find(le=>le.id===n),At=(bt==null?void 0:bt.type)==="place"?bt:(_t==null?void 0:_t.type)==="place"?_t:null;if(At&&((ne=At.data)!=null&&ne.colorSet)){const le=Ce.colorSets.find(he=>he.name===At.data.colorSet);if(le!=null&&le.color)return le.color}if(typeof o=="string"){const le=Ce.variables.find(he=>he.name===o.trim());if(le){const he=Ce.colorSets.find(be=>be.name===le.colorSet);if(he!=null&&he.color)return he.color}}return"#000"}),P=w.useCallback(Ce=>{v&&S(v,e,{...i,labelOffset:Ce})},[v,e,i,S]),M=w.useCallback((Ce,Ve)=>{Ce.stopPropagation(),Ce.preventDefault(),g(Ve),x.current={startX:Ce.clientX,startY:Ce.clientY,lastClientX:Ce.clientX,lastClientY:Ce.clientY,originalBendpoints:[...(i==null?void 0:i.bendpoints)??[]],hasDragged:!1,index:Ve};const ut=()=>{var et,Ue,St,gt,Et,se;const be=((et=x.current)==null?void 0:et.originalBendpoints)??[],Ne=l?{x:l.internals.positionAbsolute.x+(((Ue=l.measured)==null?void 0:Ue.width)??0)/2,y:l.internals.positionAbsolute.y+(((St=l.measured)==null?void 0:St.height)??0)/2}:null,Le=c?{x:c.internals.positionAbsolute.x+(((gt=c.measured)==null?void 0:gt.width)??0)/2,y:c.internals.positionAbsolute.y+(((Et=c.measured)==null?void 0:Et.height)??0)/2}:null,tt=((se=x.current)==null?void 0:se.index)??0,We=tt===0?Ne:be[tt-1],Xe=tt===be.length-1?Le:be[tt+1];return{prevPoint:We,nextPoint:Xe}},bt=(be,Ne)=>{const{prevPoint:Le,nextPoint:tt}=ut();if(!Le&&!tt)return{x:be,y:Ne};let We=be,Xe=Ne;if(Le){const et=Math.abs(be-Le.x),Ue=Math.abs(Ne-Le.y);et<20&&(We=Le.x),Ue<20&&(Xe=Le.y)}if(tt){const et=Math.abs(be-tt.x),Ue=Math.abs(Ne-tt.y);et<20&&(We=tt.x),Ue<20&&(Xe=tt.y)}return{x:We,y:Xe}},_t=(be,Ne,Le)=>{if(!x.current||!v)return;const tt=d(),We=(be-x.current.startX)/tt,Xe=(Ne-x.current.startY)/tt;(Math.abs(We)>3||Math.abs(Xe)>3)&&(x.current.hasDragged=!0);const et=x.current.index,Ue=x.current.originalBendpoints[et];let St=Ue.x+We,gt=Ue.y+Xe;if(Le){const se=bt(St,gt);St=se.x,gt=se.y}const Et=x.current.originalBendpoints.map((se,je)=>je===et?{x:St,y:gt}:se);S(v,e,{bendpoints:Et})},At=be=>{x.current&&(x.current.lastClientX=be.clientX,x.current.lastClientY=be.clientY,_t(be.clientX,be.clientY,be.shiftKey))},ne=be=>{be.key==="Shift"&&x.current&&_t(x.current.lastClientX,x.current.lastClientY,!0)},le=be=>{be.key==="Shift"&&x.current&&_t(x.current.lastClientX,x.current.lastClientY,!1)},he=()=>{var Ne;const be=((Ne=x.current)==null?void 0:Ne.hasDragged)??!1;if(g(null),!be&&v&&(i!=null&&i.bendpoints)){const Le=i.bendpoints.filter((tt,We)=>We!==Ve);S(v,e,{bendpoints:Le.length>0?Le:void 0})}x.current=null,document.removeEventListener("mousemove",At),document.removeEventListener("mouseup",he),document.removeEventListener("keydown",ne),document.removeEventListener("keyup",le)};document.addEventListener("mousemove",At),document.addEventListener("mouseup",he),document.addEventListener("keydown",ne),document.addEventListener("keyup",le)},[v,e,i==null?void 0:i.bendpoints,l,c,S,d]),z=w.useCallback(Ce=>{var et,Ue,St,gt,Et,se,je,nt;if(Ce.button!==0||(Ce.stopPropagation(),Ce.preventDefault(),!v))return;const Ve=Ce.target.closest("svg");if(!Ve)return;const ut=Ve.createSVGPoint();ut.x=Ce.clientX,ut.y=Ce.clientY;const bt=Ve.getScreenCTM();let _t;if(bt){const ze=ut.matrixTransform(bt.inverse());_t={x:ze.x,y:ze.y}}else{const ze=Ve.getBoundingClientRect(),lt=d(),ft=Ve.viewBox.baseVal;if(ft&&ft.width>0){const at=ft.width/ze.width,ht=ft.height/ze.height;_t={x:ft.x+(Ce.clientX-ze.left)*at,y:ft.y+(Ce.clientY-ze.top)*ht}}else _t={x:(Ce.clientX-ze.left)/lt,y:(Ce.clientY-ze.top)/lt}}const At={x:_t.x,y:_t.y},ne=(i==null?void 0:i.bendpoints)??[];let le=0;if(ne.length>0){const ze=l?{x:l.internals.positionAbsolute.x+(((et=l.measured)==null?void 0:et.width)??0)/2,y:l.internals.positionAbsolute.y+(((Ue=l.measured)==null?void 0:Ue.height)??0)/2}:{x:0,y:0},lt=c?{x:c.internals.positionAbsolute.x+(((St=c.measured)==null?void 0:St.width)??0)/2,y:c.internals.positionAbsolute.y+(((gt=c.measured)==null?void 0:gt.height)??0)/2}:{x:0,y:0},ft=[ze,...ne,lt];let at=1/0;for(let ht=0;ht<ft.length-1;ht++){const Lt=ft[ht],Zt=ft[ht+1],Ht=C4(At,Lt,Zt);Ht<at&&(at=Ht,le=ht)}}b.current={startX:Ce.clientX,startY:Ce.clientY,insertIndex:le,newBendpoint:At,hasDragged:!1};const he=l?{x:l.internals.positionAbsolute.x+(((Et=l.measured)==null?void 0:Et.width)??0)/2,y:l.internals.positionAbsolute.y+(((se=l.measured)==null?void 0:se.height)??0)/2}:{x:0,y:0},be=c?{x:c.internals.positionAbsolute.x+(((je=c.measured)==null?void 0:je.width)??0)/2,y:c.internals.positionAbsolute.y+(((nt=c.measured)==null?void 0:nt.height)??0)/2}:{x:0,y:0},Ne=(ze,lt,ft,at)=>{const ht=at===0?he:ft[at-1],Lt=at===ft.length-1?be:ft[at+1];let Zt=ze,Ht=lt;return ht&&(Math.abs(ze-ht.x)<20&&(Zt=ht.x),Math.abs(lt-ht.y)<20&&(Ht=ht.y)),Lt&&(Math.abs(ze-Lt.x)<20&&(Zt=Lt.x),Math.abs(lt-Lt.y)<20&&(Ht=Lt.y)),{x:Zt,y:Ht}},Le=ze=>{if(!b.current||!v)return;const lt=d(),ft=(ze.clientX-b.current.startX)/lt,at=(ze.clientY-b.current.startY)/lt;if(!b.current.hasDragged&&(Math.abs(ft)>3||Math.abs(at)>3)){b.current.hasDragged=!0;const ht=[...ne.slice(0,le),b.current.newBendpoint,...ne.slice(le)];S(v,e,{bendpoints:ht}),g(le),x.current={startX:b.current.startX,startY:b.current.startY,lastClientX:ze.clientX,lastClientY:ze.clientY,originalBendpoints:ht,hasDragged:!0,index:le}}if(x.current){x.current.lastClientX=ze.clientX,x.current.lastClientY=ze.clientY;const ht=x.current.index,Lt=x.current.originalBendpoints[ht];let Zt=Lt.x+ft,Ht=Lt.y+at;if(ze.shiftKey){const Mn=Ne(Zt,Ht,x.current.originalBendpoints,ht);Zt=Mn.x,Ht=Mn.y}const mr=x.current.originalBendpoints.map((Mn,hl)=>hl===ht?{x:Zt,y:Ht}:Mn);S(v,e,{bendpoints:mr})}},tt=ze=>{if(ze.key==="Shift"&&x.current&&v){const lt=d(),ft=(x.current.lastClientX-x.current.startX)/lt,at=(x.current.lastClientY-x.current.startY)/lt,ht=x.current.index,Lt=x.current.originalBendpoints[ht],Zt=Ne(Lt.x+ft,Lt.y+at,x.current.originalBendpoints,ht),Ht=x.current.originalBendpoints.map((mr,Mn)=>Mn===ht?Zt:mr);S(v,e,{bendpoints:Ht})}},We=ze=>{if(ze.key==="Shift"&&x.current&&v){const lt=d(),ft=(x.current.lastClientX-x.current.startX)/lt,at=(x.current.lastClientY-x.current.startY)/lt,ht=x.current.index,Lt=x.current.originalBendpoints[ht],Zt=x.current.originalBendpoints.map((Ht,mr)=>mr===ht?{x:Lt.x+ft,y:Lt.y+at}:Ht);S(v,e,{bendpoints:Zt})}},Xe=()=>{if(b.current&&!b.current.hasDragged){const ze=E.find(lt=>lt.id===e);ze&&v&&k(v,{type:"edge",element:ze})}g(null),b.current=null,x.current=null,document.removeEventListener("mousemove",Le),document.removeEventListener("mouseup",Xe),document.removeEventListener("keydown",tt),document.removeEventListener("keyup",We)};document.addEventListener("mousemove",Le),document.addEventListener("mouseup",Xe),document.addEventListener("keydown",tt),document.addEventListener("keyup",We)},[v,e,i==null?void 0:i.bendpoints,l,c,E,S,k,d]);if(!l||!c)return null;const Y=i==null?void 0:i.bendpoints,L=(i==null?void 0:i.labelOffset)??{x:0,y:0},B=(i==null?void 0:i.isBidirectional)??!1,q=12;let U=0;if(_>1){const Ce=(_-1)/2;U=(N-Ce)*q}const A=k4(l,c),F=t<n?t:n,$=t===F,G=A.tx-A.sx,D=A.ty-A.sy,W=Math.sqrt(G*G+D*D);let R=W>0?-D/W:0,H=W>0?G/W:1;$||(R=-R,H=-H);let X,I,V,J,Z,K,te;if(Y&&Y.length>0){const Ce=U!==0?Y.map(ne=>({x:ne.x+R*U,y:ne.y+H*U})):Y,Ve=Ce[0],ut=Ce[Ce.length-1],bt=pb(l,Ve);X=bt.x,I=bt.y;const _t=pb(c,ut);V=_t.x,J=_t.y;const At=mb(X,I,V,J,Ce);Z=At.path,K=At.labelX,te=At.labelY}else{X=A.sx+R*U,I=A.sy+H*U,V=A.tx+R*U,J=A.ty+H*U;const Ce=mb(X,I,V,J,void 0);Z=Ce.path,K=Ce.labelX,te=Ce.labelY}const Q=V-X,ie=J-I,ue=Math.sqrt(Q*Q+ie*ie),fe=12;let pe=ue>0?-ie/ue:0,we=ue>0?Q/ue:-1;we>0&&(pe=-pe,we=-we);const De=K+pe*fe,Oe=te+we*fe,Ze=typeof o=="string"&&(o.trim()==="1`()"||o.trim()==="()")?null:o,Qe=Y&&U!==0?Y.map(Ce=>({x:Ce.x+R*U,y:Ce.y+H*U})):Y;return u.jsxs(u.Fragment,{children:[E4(e,Z,T,B,r,z),Qe&&Qe.length>0&&u.jsx("g",{className:"bendpoint-handles",children:Qe.map((Ce,Ve)=>u.jsxs("g",{children:[u.jsx("circle",{cx:Ce.x,cy:Ce.y,r:12,fill:"transparent",style:{cursor:"grab",pointerEvents:"all"},onMouseEnter:()=>m(Ve),onMouseLeave:()=>{p!==Ve&&m(null)},onMouseDown:ut=>M(ut,Ve)}),(f===Ve||p===Ve)&&u.jsx("circle",{cx:Ce.x,cy:Ce.y,r:5,fill:T,stroke:"white",strokeWidth:1.5,style:{pointerEvents:"none",cursor:p===Ve?"grabbing":"grab"}})]},Ve))}),Ze&&u.jsx(j4,{id:e,label:Ze,baseLabelX:De,baseLabelY:Oe,labelOffset:L,onLabelDragEnd:P})]})}function E4(e,t,n,r,o,i){return u.jsxs("g",{children:[u.jsxs("defs",{children:[u.jsx("marker",{id:`arrow-end-${e}`,markerWidth:"10",markerHeight:"10",refX:"10",refY:"5",orient:"auto",markerUnits:"userSpaceOnUse",children:u.jsx("polygon",{points:"0,0 10,5 0,10",fill:n})}),u.jsx("marker",{id:`arrow-start-${e}`,markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",orient:"auto",markerUnits:"userSpaceOnUse",children:u.jsx("polygon",{points:"10,0 0,5 10,10",fill:n})})]}),i&&u.jsx("path",{d:t,fill:"none",stroke:"transparent",strokeWidth:16,style:{cursor:"pointer",pointerEvents:"stroke"},onMouseDown:i}),u.jsx("path",{id:e,d:t,fill:"none",className:"stroke-[currentColor]",style:{stroke:n,...o},markerEnd:`url(#arrow-end-${e})`,markerStart:r?`url(#arrow-start-${e})`:void 0})]})}function j4({id:e,label:t,baseLabelX:n,baseLabelY:r,labelOffset:o,onLabelDragEnd:i}){const[l,c]=w.useState(!1),[d,f]=w.useState(o),m=w.useRef(null),p=w.useRef(d);p.current=d;const{getZoom:g}=Qo(),x=me(_=>_.activePetriNetId),b=me(_=>_.setSelectedElement),v=me(_=>{const T=_.activePetriNetId?_.petriNetsById[_.activePetriNetId]:null;return(T==null?void 0:T.edges)||[]}),S=w.useCallback(_=>{_.stopPropagation(),c(!0),m.current={x:_.clientX,y:_.clientY,offsetX:p.current.x,offsetY:p.current.y};const T=M=>{if(!m.current)return;const z=g(),Y=(M.clientX-m.current.x)/z,L=(M.clientY-m.current.y)/z,B={x:m.current.offsetX+Y,y:m.current.offsetY+L};f(B),p.current=B},P=()=>{c(!1),m.current&&i(p.current),m.current=null,document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",P)};document.addEventListener("mousemove",T),document.addEventListener("mouseup",P)},[i,g]),k=w.useCallback(_=>{_.stopPropagation();const T=v.find(P=>P.id===e);T&&x&&b(x,{type:"edge",element:T})},[e,v,x,b]);He.useEffect(()=>{f(o)},[o]);const E=n+d.x,N=r+d.y;return u.jsx(O3,{children:u.jsx("div",{style:{transform:`translate(-50%, -100%) translate(${E}px,${N}px)`,cursor:l?"grabbing":"grab",pointerEvents:"auto"},className:`nodrag nopan edge-label-renderer__custom-edge text-[10px] font-mono whitespace-pre-wrap ${l?"":"hover:bg-accent/50"} px-1 rounded`,onMouseDown:S,onClick:k,children:t})})}const _4=[{id:"a->b",source:"a",target:"b",label:"var1"},{id:"b->c",source:"b",target:"c",label:"var1"}],P4={floating:N4},A4=[{id:ot(),name:"UNIT",type:"basic",definition:"colset UNIT = unit;",color:"#3b82f6"},{id:ot(),name:"BOOL",type:"basic",definition:"colset BOOL = bool;",color:"#10b981"},{id:ot(),name:"INT",type:"basic",definition:"colset INT = int;",color:"#3b82f6"},{id:ot(),name:"INTINF",type:"basic",definition:"colset INTINF = intinf;",color:"#3b82f6"},{id:ot(),name:"TIME",type:"basic",definition:"colset TIME = time;",color:"#8b5cf6"},{id:ot(),name:"REAL",type:"basic",definition:"colset REAL = real;",color:"#ef4444"},{id:ot(),name:"STRING",type:"basic",definition:"colset STRING = string;",color:"#f59e0b"}],I4=[{id:ot(),name:"var1",colorSet:"INT"}],T4=[{id:ot(),name:"P_HIGH",level:100},{id:ot(),name:"P_NORMAL",level:1e3},{id:ot(),name:"P_LOW",level:1e4}],R4=[],M4={petriNetsById:{},petriNetOrder:[],activePetriNetId:null,colorSets:[],variables:[],priorities:[],functions:[],uses:[],simulationEpoch:null,showMarkingDisplay:!0},rd="ID6",D4={id:rd,name:"Petri Net",nodes:b4,edges:_4,selectedElement:null},me=QT(e=>({petriNetsById:{[rd]:D4},petriNetOrder:[rd],activePetriNetId:rd,colorSets:A4,variables:I4,priorities:T4,functions:R4,uses:[],simulationEpoch:null,showMarkingDisplay:!0,setNodes:(t,n)=>{e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],nodes:n}}}))},setEdges:(t,n)=>{e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],edges:n}}}))},createPetriNet:t=>{const n=ot(),r={id:n,name:t,nodes:[],edges:[],selectedElement:null};e(o=>({petriNetsById:{...o.petriNetsById,[n]:r},petriNetOrder:[...o.petriNetOrder,n],activePetriNetId:n}))},addPetriNet:t=>{e(n=>({petriNetsById:{...n.petriNetsById,[t.id]:{...t,selectedElement:null}},petriNetOrder:[...n.petriNetOrder,t.id],activePetriNetId:t.id}))},setActivePetriNet:t=>{e(n=>({activePetriNetId:t,petriNetsById:{...n.petriNetsById,[t]:{...n.petriNetsById[t],selectedElement:null}}}))},addNode:(t,n)=>{e(r=>{const o=r.petriNetsById[t],i=[...o.nodes,{...n,id:n.id??ot()}];return{petriNetsById:{...r.petriNetsById,[t]:{...o,nodes:i}}}})},addEdge:(t,n)=>{e(r=>{const o=r.petriNetsById[t],i=[...o.edges,{...n,id:n.id??ot()}];return{petriNetsById:{...r.petriNetsById,[t]:{...o,edges:i}}}})},updateNode:(t,n)=>{e(r=>{const o=r.petriNetsById[t],i=o.nodes.map(l=>l.id===n.id?{...n}:l);return{petriNetsById:{...r.petriNetsById,[t]:{...o,nodes:i}}}})},updateNodeMarking:(t,n)=>{e(r=>{const o=r.petriNetsById[r.activePetriNetId],i=o.nodes.map(l=>l.id===t?{...l,data:{...l.data,marking:n}}:l);return{petriNetsById:{...r.petriNetsById,[r.activePetriNetId]:{...o,nodes:i}}}})},updateNodeData:(t,n,r)=>{e(o=>{var f;const i=o.petriNetsById[t],l={initialMarking:"initialMarking",colorSet:"colorSet",guard:"guard",time:"time",priority:"priority",codeSegment:"codeSegment"};let c=i.nodes.map(m=>m.id===n?{...m,data:{...m.data,...r}}:m);c=c.map(m=>{var p,g;if(m.type==="inscription"&&m.parentId===n){const x=(p=m.data)==null?void 0:p.inscriptionType,b=(g=Object.entries(l).find(([,v])=>v===x))==null?void 0:g[0];if(b&&b in r){const v=r[b];return{...m,data:{...m.data,label:v||""}}}}return m});const d=((f=i.selectedElement)==null?void 0:f.type)==="node"&&i.selectedElement.element.id===n?{...i.selectedElement,element:{...i.selectedElement.element,data:{...r}}}:i.selectedElement;return{petriNetsById:{...o.petriNetsById,[t]:{...i,nodes:c,selectedElement:d}}}})},updateEdgeData:(t,n,r)=>{e(o=>{var d;const i=o.petriNetsById[t],l=i.edges.map(f=>f.id===n?{...f,data:{...f.data,...r}}:f),c=((d=i.selectedElement)==null?void 0:d.type)==="edge"&&i.selectedElement.element.id===n?{...i.selectedElement,element:{...i.selectedElement.element,data:{...i.selectedElement.element.data,...r}}}:i.selectedElement;return{petriNetsById:{...o.petriNetsById,[t]:{...i,edges:l,selectedElement:c}}}})},updateEdgeLabel:(t,n,r)=>{e(o=>{var d;const i=o.petriNetsById[t],l=i.edges.map(f=>f.id===n?{...f,label:r}:f),c=((d=i.selectedElement)==null?void 0:d.type)==="edge"&&i.selectedElement.element.id===n?{...i.selectedElement,element:{...i.selectedElement.element,label:r}}:i.selectedElement;return{petriNetsById:{...o.petriNetsById,[t]:{...i,edges:l,selectedElement:c}}}})},swapEdgeDirection:(t,n)=>{e(r=>{var d;const o=r.petriNetsById[t],i=o.edges.map(f=>f.id===n?{...f,source:f.target,target:f.source}:f),l=o.edges.find(f=>f.id===n),c=((d=o.selectedElement)==null?void 0:d.type)==="edge"&&o.selectedElement.element.id===n&&l?{...o.selectedElement,element:{...o.selectedElement.element,source:l.target,target:l.source}}:o.selectedElement;return{petriNetsById:{...r.petriNetsById,[t]:{...o,edges:i,selectedElement:c}}}})},applyInitialMarkings:()=>{e(t=>{const n=t.petriNetsById[t.activePetriNetId],r=n.nodes.map(o=>{if(o.type==="place"){let i=[];if(o.data.initialMarking)try{if(typeof o.data.initialMarking=="string"&&o.data.initialMarking.trim()!==""){let l=[];if(o.data.initialMarking.match(/^\s*\[\s*((?:\(\)\s*,?\s*)*)\s*\]\s*$/)){const d=(o.data.initialMarking.match(/\(\)/g)||[]).length;l=Array(d).fill(null)}else if(o.data.initialMarking.endsWith(".all()")){const d=o.data.initialMarking.substring(0,o.data.initialMarking.length-6).trim(),f=t.colorSets.find(m=>m.name===d);if(f&&f.definition.includes("int")){const m=f.definition.match(/with\s+(\d+)\.\.(\d+);/);if(m){const p=parseInt(m[1],10),g=parseInt(m[2],10);!isNaN(p)&&!isNaN(g)?l=Array.from({length:g-p+1},(x,b)=>p+b):console.warn(`Invalid range values in color set definition: "${f.definition}"`)}else console.warn(`No valid range found in color set definition: "${f.definition}"`)}else console.warn(`Cannot apply '.all()' to color set "${d}". It's either not found, not a 'basic' type, or doesn't contain 'int' in its definition.`),l=[]}else{const d=JSON.parse(o.data.initialMarking);Array.isArray(d)?l=d:l=[d]}i=l}}catch(l){console.error(`Error parsing initial marking for node ${o.id}:`,o.data.initialMarking,l),i=[]}return{...o,data:{...o.data,marking:i}}}return o});return{petriNetsById:{...t.petriNetsById,[t.activePetriNetId]:{...n,nodes:r}}}})},setSelectedElement:(t,n)=>e(r=>({petriNetsById:{...r.petriNetsById,[t]:{...r.petriNetsById[t],selectedElement:n}}})),setColorSets:t=>{e({colorSets:t})},setVariables:t=>{e({variables:t})},setPriorities:t=>{e({priorities:t})},setFunctions:t=>{e({functions:t})},setUses:t=>{e({uses:t})},addColorSet:t=>e(n=>({colorSets:[...n.colorSets,{...t,id:t.id??ot()}]})),addVariable:t=>e(n=>({variables:[...n.variables,{...t,id:t.id??ot()}]})),addPriority:t=>e(n=>({priorities:[...n.priorities,{...t,id:t.id??ot()}]})),addFunction:t=>e(n=>({functions:[...n.functions,{...t,id:t.id??ot()}]})),renameColorSet:(t,n)=>e(r=>{const o=r.colorSets.find(f=>f.id===t);if(!o)return r;const i=o.name;if(i===n)return r;const l=r.colorSets.map(f=>f.id===t?{...f,name:n}:f),c=r.variables.map(f=>f.colorSet===i?{...f,colorSet:n}:f),d={};for(const[f,m]of Object.entries(r.petriNetsById)){const p=m.nodes.map(g=>{var x;return g.type==="place"&&((x=g.data)==null?void 0:x.colorSet)===i?{...g,data:{...g.data,colorSet:n}}:g});d[f]={...m,nodes:p}}return{colorSets:l,variables:c,petriNetsById:d}}),deleteColorSet:t=>e(n=>({colorSets:n.colorSets.filter(r=>r.id!==t)})),deleteVariable:t=>e(n=>({variables:n.variables.filter(r=>r.id!==t)})),deletePriority:t=>e(n=>({priorities:n.priorities.filter(r=>r.id!==t)})),deleteFunction:t=>e(n=>({functions:n.functions.filter(r=>r.id!==t)})),addUse:t=>e(n=>({uses:[...n.uses,{...t,id:t.id??ot()}]})),updateUse:(t,n)=>e(r=>({uses:r.uses.map(o=>o.id===t?{name:n.name,content:n.content}:o)})),deleteUse:t=>e(n=>({uses:n.uses.filter(r=>r.id!==t)})),toggleArcMode:t=>e(n=>({petriNetsById:Object.fromEntries(Object.entries(n.petriNetsById).map(([r,o])=>[r,{...o,nodes:o.nodes.map(i=>({...i,data:{...i.data,isArcMode:t}}))}]))})),setSimulationEpoch:t=>e(()=>({simulationEpoch:t})),setShowMarkingDisplay:t=>e(()=>({showMarkingDisplay:t})),reset:()=>{e(M4)}}));function gb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Wi(...e){return t=>{let n=!1;const r=e.map(o=>{const i=gb(o,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():gb(e[o],null)}}}}function st(...e){return w.useCallback(Wi(...e),e)}var O4=Symbol.for("react.lazy"),kd=Fd[" use ".trim().toString()];function L4(e){return typeof e=="object"&&e!==null&&"then"in e}function OC(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===O4&&"_payload"in e&&L4(e._payload)}function nf(e){const t=z4(e),n=w.forwardRef((r,o)=>{let{children:i,...l}=r;OC(i)&&typeof kd=="function"&&(i=kd(i._payload));const c=w.Children.toArray(i),d=c.find(F4);if(d){const f=d.props.children,m=c.map(p=>p===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:w.isValidElement(f)?w.cloneElement(f,void 0,m):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}var LC=nf("Slot");function z4(e){const t=w.forwardRef((n,r)=>{let{children:o,...i}=n;if(OC(o)&&typeof kd=="function"&&(o=kd(o._payload)),w.isValidElement(o)){const l=V4(o),c=B4(i,o.props);return o.type!==w.Fragment&&(c.ref=r?Wi(r,l):l),w.cloneElement(o,c)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $4=Symbol("radix.slottable");function F4(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$4}function B4(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function V4(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var H4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],U4=H4.reduce((e,t)=>{const n=nf(`Primitive.${t}`),r=w.forwardRef((o,i)=>{const{asChild:l,...c}=o,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),W4="Separator",xb="horizontal",Y4=["horizontal","vertical"],zC=w.forwardRef((e,t)=>{const{decorative:n,orientation:r=xb,...o}=e,i=X4(r)?r:xb,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return u.jsx(U4.div,{"data-orientation":i,...c,...o,ref:t})});zC.displayName=W4;function X4(e){return Y4.includes(e)}var q4=zC;function lc({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return u.jsx(q4,{"data-slot":"separator-root",decorative:n,orientation:t,className:Ye("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function Ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function G4(e,t){const n=w.createContext(t),r=i=>{const{children:l,...c}=i,d=w.useMemo(()=>c,Object.values(c));return u.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function o(i){const l=w.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,o]}function En(e,t=[]){let n=[];function r(i,l){const c=w.createContext(l),d=n.length;n=[...n,l];const f=p=>{var k;const{scope:g,children:x,...b}=p,v=((k=g==null?void 0:g[e])==null?void 0:k[d])||c,S=w.useMemo(()=>b,Object.values(b));return u.jsx(v.Provider,{value:S,children:x})};f.displayName=i+"Provider";function m(p,g){var v;const x=((v=g==null?void 0:g[e])==null?void 0:v[d])||c,b=w.useContext(x);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,m]}const o=()=>{const i=n.map(l=>w.createContext(l));return function(c){const d=(c==null?void 0:c[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return o.scopeName=e,[r,K4(o,...t)]}function K4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const p=d(i)[`__scope${f}`];return{...c,...p}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function yb(e){const t=Q4(e),n=w.forwardRef((r,o)=>{const{children:i,...l}=r,c=w.Children.toArray(i),d=c.find(Z4);if(d){const f=d.props.children,m=c.map(p=>p===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:w.isValidElement(f)?w.cloneElement(f,void 0,m):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function Q4(e){const t=w.forwardRef((n,r)=>{const{children:o,...i}=n;if(w.isValidElement(o)){const l=t$(o),c=e$(i,o.props);return o.type!==w.Fragment&&(c.ref=r?Wi(r,l):l),w.cloneElement(o,c)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var J4=Symbol("radix.slottable");function Z4(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===J4}function e$(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function t$(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function rf(e){const t=e+"CollectionProvider",[n,r]=En(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:S,children:k}=v,E=He.useRef(null),N=He.useRef(new Map).current;return u.jsx(o,{scope:S,itemMap:N,collectionRef:E,children:k})};l.displayName=t;const c=e+"CollectionSlot",d=yb(c),f=He.forwardRef((v,S)=>{const{scope:k,children:E}=v,N=i(c,k),_=st(S,N.collectionRef);return u.jsx(d,{ref:_,children:E})});f.displayName=c;const m=e+"CollectionItemSlot",p="data-radix-collection-item",g=yb(m),x=He.forwardRef((v,S)=>{const{scope:k,children:E,...N}=v,_=He.useRef(null),T=st(S,_),P=i(m,k);return He.useEffect(()=>(P.itemMap.set(_,{ref:_,...N}),()=>void P.itemMap.delete(_))),u.jsx(g,{[p]:"",ref:T,children:E})});x.displayName=m;function b(v){const S=i(e+"CollectionConsumer",v);return He.useCallback(()=>{const E=S.collectionRef.current;if(!E)return[];const N=Array.from(E.querySelectorAll(`[${p}]`));return Array.from(S.itemMap.values()).sort((P,M)=>N.indexOf(P.ref.current)-N.indexOf(M.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:l,Slot:f,ItemSlot:x},b,r]}var an=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},n$=Fd[" useId ".trim().toString()]||(()=>{}),r$=0;function fr(e){const[t,n]=w.useState(n$());return an(()=>{n(r=>r??String(r$++))},[e]),e||(t?`radix-${t}`:"")}function o$(e){const t=i$(e),n=w.forwardRef((r,o)=>{const{children:i,...l}=r,c=w.Children.toArray(i),d=c.find(l$);if(d){const f=d.props.children,m=c.map(p=>p===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:w.isValidElement(f)?w.cloneElement(f,void 0,m):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function i$(e){const t=w.forwardRef((n,r)=>{const{children:o,...i}=n;if(w.isValidElement(o)){const l=c$(o),c=a$(i,o.props);return o.type!==w.Fragment&&(c.ref=r?Wi(r,l):l),w.cloneElement(o,c)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var s$=Symbol("radix.slottable");function l$(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===s$}function a$(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function c$(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var u$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=u$.reduce((e,t)=>{const n=o$(`Primitive.${t}`),r=w.forwardRef((o,i)=>{const{asChild:l,...c}=o,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function d$(e,t){e&&il.flushSync(()=>e.dispatchEvent(t))}function In(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var f$=Fd[" useInsertionEffect ".trim().toString()]||an;function Nn({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,i,l]=p$({defaultProp:t,onChange:n}),c=e!==void 0,d=c?e:o;{const m=w.useRef(e!==void 0);w.useEffect(()=>{const p=m.current;p!==c&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const f=w.useCallback(m=>{var p;if(c){const g=h$(m)?m(e):m;g!==e&&((p=l.current)==null||p.call(l,g))}else i(m)},[c,e,i,l]);return[d,f]}function p$({defaultProp:e,onChange:t}){const[n,r]=w.useState(e),o=w.useRef(n),i=w.useRef(t);return f$(()=>{i.current=t},[t]),w.useEffect(()=>{var l;o.current!==n&&((l=i.current)==null||l.call(i,n),o.current=n)},[n,o]),[n,r,i]}function h$(e){return typeof e=="function"}var m$=w.createContext(void 0);function Jo(e){const t=w.useContext(m$);return e||t||"ltr"}var rm="rovingFocusGroup.onEntryFocus",g$={bubbles:!1,cancelable:!0},ac="RovingFocusGroup",[Km,$C,x$]=rf(ac),[y$,sl]=En(ac,[x$]),[v$,w$]=y$(ac),FC=w.forwardRef((e,t)=>u.jsx(Km.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(Km.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(b$,{...e,ref:t})})}));FC.displayName=ac;var b$=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...p}=e,g=w.useRef(null),x=st(t,g),b=Jo(i),[v,S]=Nn({prop:l,defaultProp:c??null,onChange:d,caller:ac}),[k,E]=w.useState(!1),N=In(f),_=$C(n),T=w.useRef(!1),[P,M]=w.useState(0);return w.useEffect(()=>{const z=g.current;if(z)return z.addEventListener(rm,N),()=>z.removeEventListener(rm,N)},[N]),u.jsx(v$,{scope:n,orientation:r,dir:b,loop:o,currentTabStopId:v,onItemFocus:w.useCallback(z=>S(z),[S]),onItemShiftTab:w.useCallback(()=>E(!0),[]),onFocusableItemAdd:w.useCallback(()=>M(z=>z+1),[]),onFocusableItemRemove:w.useCallback(()=>M(z=>z-1),[]),children:u.jsx(Fe.div,{tabIndex:k||P===0?-1:0,"data-orientation":r,...p,ref:x,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{T.current=!0}),onFocus:Ie(e.onFocus,z=>{const Y=!T.current;if(z.target===z.currentTarget&&Y&&!k){const L=new CustomEvent(rm,g$);if(z.currentTarget.dispatchEvent(L),!L.defaultPrevented){const B=_().filter($=>$.focusable),q=B.find($=>$.active),U=B.find($=>$.id===v),F=[q,U,...B].filter(Boolean).map($=>$.ref.current);HC(F,m)}}T.current=!1}),onBlur:Ie(e.onBlur,()=>E(!1))})})}),BC="RovingFocusGroupItem",VC=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,children:l,...c}=e,d=fr(),f=i||d,m=w$(BC,n),p=m.currentTabStopId===f,g=$C(n),{onFocusableItemAdd:x,onFocusableItemRemove:b,currentTabStopId:v}=m;return w.useEffect(()=>{if(r)return x(),()=>b()},[r,x,b]),u.jsx(Km.ItemSlot,{scope:n,id:f,focusable:r,active:o,children:u.jsx(Fe.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:Ie(e.onMouseDown,S=>{r?m.onItemFocus(f):S.preventDefault()}),onFocus:Ie(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:Ie(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){m.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const k=C$(S,m.orientation,m.dir);if(k!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let N=g().filter(_=>_.focusable).map(_=>_.ref.current);if(k==="last")N.reverse();else if(k==="prev"||k==="next"){k==="prev"&&N.reverse();const _=N.indexOf(S.currentTarget);N=m.loop?N$(N,_+1):N.slice(_+1)}setTimeout(()=>HC(N))}}),children:typeof l=="function"?l({isCurrentTabStop:p,hasTabStop:v!=null}):l})})});VC.displayName=BC;var S$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function C$(e,t,n){const r=k$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return S$[r]}function HC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function N$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var tx=FC,nx=VC;function E$(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var jn=e=>{const{present:t,children:n}=e,r=j$(t),o=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=st(r.ref,_$(o));return typeof n=="function"||r.isPresent?w.cloneElement(o,{ref:i}):null};jn.displayName="Presence";function j$(e){const[t,n]=w.useState(),r=w.useRef(null),o=w.useRef(e),i=w.useRef("none"),l=e?"mounted":"unmounted",[c,d]=E$(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const f=$u(r.current);i.current=c==="mounted"?f:"none"},[c]),an(()=>{const f=r.current,m=o.current;if(m!==e){const g=i.current,x=$u(f);e?d("MOUNT"):x==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(m&&g!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),an(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,p=x=>{const v=$u(r.current).includes(CSS.escape(x.animationName));if(x.target===t&&v&&(d("ANIMATION_END"),!o.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},g=x=>{x.target===t&&(i.current=$u(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function $u(e){return(e==null?void 0:e.animationName)||"none"}function _$(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var of="Tabs",[P$,Jq]=En(of,[sl]),UC=sl(),[A$,rx]=P$(of),WC=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:d="automatic",...f}=e,m=Jo(c),[p,g]=Nn({prop:r,onChange:o,defaultProp:i??"",caller:of});return u.jsx(A$,{scope:n,baseId:fr(),value:p,onValueChange:g,orientation:l,dir:m,activationMode:d,children:u.jsx(Fe.div,{dir:m,"data-orientation":l,...f,ref:t})})});WC.displayName=of;var YC="TabsList",XC=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,i=rx(YC,n),l=UC(n);return u.jsx(tx,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(Fe.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:t})})});XC.displayName=YC;var qC="TabsTrigger",GC=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...i}=e,l=rx(qC,n),c=UC(n),d=QC(l.baseId,r),f=JC(l.baseId,r),m=r===l.value;return u.jsx(nx,{asChild:!0,...c,focusable:!o,active:m,children:u.jsx(Fe.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...i,ref:t,onMouseDown:Ie(e.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?l.onValueChange(r):p.preventDefault()}),onKeyDown:Ie(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(r)}),onFocus:Ie(e.onFocus,()=>{const p=l.activationMode!=="manual";!m&&!o&&p&&l.onValueChange(r)})})})});GC.displayName=qC;var KC="TabsContent",Cd=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:i,...l}=e,c=rx(KC,n),d=QC(c.baseId,r),f=JC(c.baseId,r),m=r===c.value,p=w.useRef(m);return w.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),u.jsx(jn,{present:o||m,children:({present:g})=>u.jsx(Fe.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:g&&i})})});Cd.displayName=KC;function QC(e,t){return`${e}-trigger-${t}`}function JC(e,t){return`${e}-content-${t}`}var I$=WC,T$=XC,R$=GC,M$=Cd;function Zo({className:e,...t}){return u.jsx(I$,{"data-slot":"tabs",className:Ye("flex flex-col gap-2",e),...t})}function ei({className:e,...t}){return u.jsx(T$,{"data-slot":"tabs-list",className:Ye("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Rn({className:e,...t}){return u.jsx(R$,{"data-slot":"tabs-trigger",className:Ye("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function pr({className:e,...t}){return u.jsx(M$,{"data-slot":"tabs-content",className:Ye("flex-1 outline-none",e),...t})}var D$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],O$=D$.reduce((e,t)=>{const n=nf(`Primitive.${t}`),r=w.forwardRef((o,i)=>{const{asChild:l,...c}=o,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),L$="Label",ZC=w.forwardRef((e,t)=>u.jsx(O$.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ZC.displayName=L$;var z$=ZC;function _e({className:e,...t}){return u.jsx(z$,{"data-slot":"label",className:Ye("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function Je({className:e,type:t,...n}){return u.jsx("input",{type:t,"data-slot":"input",className:Ye("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}function Wa(e,[t,n]){return Math.min(n,Math.max(t,e))}function $$(e,t=globalThis==null?void 0:globalThis.document){const n=In(e);w.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var F$="DismissableLayer",Qm="dismissableLayer.update",B$="dismissableLayer.pointerDownOutside",V$="dismissableLayer.focusOutside",vb,eN=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cc=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...d}=e,f=w.useContext(eN),[m,p]=w.useState(null),g=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=w.useState({}),b=st(t,M=>p(M)),v=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),k=v.indexOf(S),E=m?v.indexOf(m):-1,N=f.layersWithOutsidePointerEventsDisabled.size>0,_=E>=k,T=W$(M=>{const z=M.target,Y=[...f.branches].some(L=>L.contains(z));!_||Y||(o==null||o(M),l==null||l(M),M.defaultPrevented||c==null||c())},g),P=Y$(M=>{const z=M.target;[...f.branches].some(L=>L.contains(z))||(i==null||i(M),l==null||l(M),M.defaultPrevented||c==null||c())},g);return $$(M=>{E===f.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&c&&(M.preventDefault(),c()))},g),w.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(vb=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),wb(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=vb)}},[m,g,n,f]),w.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),wb())},[m,f]),w.useEffect(()=>{const M=()=>x({});return document.addEventListener(Qm,M),()=>document.removeEventListener(Qm,M)},[]),u.jsx(Fe.div,{...d,ref:b,style:{pointerEvents:N?_?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,T.onPointerDownCapture)})});cc.displayName=F$;var H$="DismissableLayerBranch",U$=w.forwardRef((e,t)=>{const n=w.useContext(eN),r=w.useRef(null),o=st(t,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(Fe.div,{...e,ref:o})});U$.displayName=H$;function W$(e,t=globalThis==null?void 0:globalThis.document){const n=In(e),r=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let d=function(){tN(B$,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Y$(e,t=globalThis==null?void 0:globalThis.document){const n=In(e),r=w.useRef(!1);return w.useEffect(()=>{const o=i=>{i.target&&!r.current&&tN(V$,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wb(){const e=new CustomEvent(Qm);document.dispatchEvent(e)}function tN(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?d$(o,i):o.dispatchEvent(i)}var om=0;function ox(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bb()),document.body.insertAdjacentElement("beforeend",e[1]??bb()),om++,()=>{om===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),om--}},[])}function bb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var im="focusScope.autoFocusOnMount",sm="focusScope.autoFocusOnUnmount",Sb={bubbles:!1,cancelable:!0},X$="FocusScope",sf=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...l}=e,[c,d]=w.useState(null),f=In(o),m=In(i),p=w.useRef(null),g=st(t,v=>d(v)),x=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let v=function(N){if(x.paused||!c)return;const _=N.target;c.contains(_)?p.current=_:Vo(p.current,{select:!0})},S=function(N){if(x.paused||!c)return;const _=N.relatedTarget;_!==null&&(c.contains(_)||Vo(p.current,{select:!0}))},k=function(N){if(document.activeElement===document.body)for(const T of N)T.removedNodes.length>0&&Vo(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",S);const E=new MutationObserver(k);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",S),E.disconnect()}}},[r,c,x.paused]),w.useEffect(()=>{if(c){Cb.add(x);const v=document.activeElement;if(!c.contains(v)){const k=new CustomEvent(im,Sb);c.addEventListener(im,f),c.dispatchEvent(k),k.defaultPrevented||(q$(Z$(nN(c)),{select:!0}),document.activeElement===v&&Vo(c))}return()=>{c.removeEventListener(im,f),setTimeout(()=>{const k=new CustomEvent(sm,Sb);c.addEventListener(sm,m),c.dispatchEvent(k),k.defaultPrevented||Vo(v??document.body,{select:!0}),c.removeEventListener(sm,m),Cb.remove(x)},0)}}},[c,f,m,x]);const b=w.useCallback(v=>{if(!n&&!r||x.paused)return;const S=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,k=document.activeElement;if(S&&k){const E=v.currentTarget,[N,_]=G$(E);N&&_?!v.shiftKey&&k===_?(v.preventDefault(),n&&Vo(N,{select:!0})):v.shiftKey&&k===N&&(v.preventDefault(),n&&Vo(_,{select:!0})):k===E&&v.preventDefault()}},[n,r,x.paused]);return u.jsx(Fe.div,{tabIndex:-1,...l,ref:g,onKeyDown:b})});sf.displayName=X$;function q$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Vo(r,{select:t}),document.activeElement!==n)return}function G$(e){const t=nN(e),n=kb(t,e),r=kb(t.reverse(),e);return[n,r]}function nN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function kb(e,t){for(const n of e)if(!K$(n,{upTo:t}))return n}function K$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Q$(e){return e instanceof HTMLInputElement&&"select"in e}function Vo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Q$(e)&&t&&e.select()}}var Cb=J$();function J$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Nb(e,t),e.unshift(t)},remove(t){var n;e=Nb(e,t),(n=e[0])==null||n.resume()}}}function Nb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Z$(e){return e.filter(t=>t.tagName!=="A")}const e5=["top","right","bottom","left"],Go=Math.min,Qn=Math.max,Nd=Math.round,Fu=Math.floor,Xr=e=>({x:e,y:e}),t5={left:"right",right:"left",bottom:"top",top:"bottom"},n5={start:"end",end:"start"};function Jm(e,t,n){return Qn(e,Go(t,n))}function mo(e,t){return typeof e=="function"?e(t):e}function go(e){return e.split("-")[0]}function ll(e){return e.split("-")[1]}function ix(e){return e==="x"?"y":"x"}function sx(e){return e==="y"?"height":"width"}const r5=new Set(["top","bottom"]);function Wr(e){return r5.has(go(e))?"y":"x"}function lx(e){return ix(Wr(e))}function o5(e,t,n){n===void 0&&(n=!1);const r=ll(e),o=lx(e),i=sx(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=Ed(l)),[l,Ed(l)]}function i5(e){const t=Ed(e);return[Zm(e),t,Zm(t)]}function Zm(e){return e.replace(/start|end/g,t=>n5[t])}const Eb=["left","right"],jb=["right","left"],s5=["top","bottom"],l5=["bottom","top"];function a5(e,t,n){switch(e){case"top":case"bottom":return n?t?jb:Eb:t?Eb:jb;case"left":case"right":return t?s5:l5;default:return[]}}function c5(e,t,n,r){const o=ll(e);let i=a5(go(e),n==="start",r);return o&&(i=i.map(l=>l+"-"+o),t&&(i=i.concat(i.map(Zm)))),i}function Ed(e){return e.replace(/left|right|bottom|top/g,t=>t5[t])}function u5(e){return{top:0,right:0,bottom:0,left:0,...e}}function rN(e){return typeof e!="number"?u5(e):{top:e,right:e,bottom:e,left:e}}function jd(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function _b(e,t,n){let{reference:r,floating:o}=e;const i=Wr(t),l=lx(t),c=sx(l),d=go(t),f=i==="y",m=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,g=r[c]/2-o[c]/2;let x;switch(d){case"top":x={x:m,y:r.y-o.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:p};break;case"left":x={x:r.x-o.width,y:p};break;default:x={x:r.x,y:r.y}}switch(ll(t)){case"start":x[l]-=g*(n&&f?-1:1);break;case"end":x[l]+=g*(n&&f?-1:1);break}return x}async function d5(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:l,elements:c,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:g=!1,padding:x=0}=mo(t,e),b=rN(x),S=c[g?p==="floating"?"reference":"floating":p],k=jd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:m,strategy:d})),E=p==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),_=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},T=jd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:N,strategy:d}):E);return{top:(k.top-T.top+b.top)/_.y,bottom:(T.bottom-k.bottom+b.bottom)/_.y,left:(k.left-T.left+b.left)/_.x,right:(T.right-k.right+b.right)/_.x}}const f5=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:l}=n,c=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:p}=_b(f,r,d),g=r,x={},b=0;for(let S=0;S<c.length;S++){var v;const{name:k,fn:E}=c[S],{x:N,y:_,data:T,reset:P}=await E({x:m,y:p,initialPlacement:r,placement:g,strategy:o,middlewareData:x,rects:f,platform:{...l,detectOverflow:(v=l.detectOverflow)!=null?v:d5},elements:{reference:e,floating:t}});m=N??m,p=_??p,x={...x,[k]:{...x[k],...T}},P&&b<=50&&(b++,typeof P=="object"&&(P.placement&&(g=P.placement),P.rects&&(f=P.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):P.rects),{x:m,y:p}=_b(f,g,d)),S=-1)}return{x:m,y:p,placement:g,strategy:o,middlewareData:x}},p5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:l,elements:c,middlewareData:d}=t,{element:f,padding:m=0}=mo(e,t)||{};if(f==null)return{};const p=rN(m),g={x:n,y:r},x=lx(o),b=sx(x),v=await l.getDimensions(f),S=x==="y",k=S?"top":"left",E=S?"bottom":"right",N=S?"clientHeight":"clientWidth",_=i.reference[b]+i.reference[x]-g[x]-i.floating[b],T=g[x]-i.reference[x],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let M=P?P[N]:0;(!M||!await(l.isElement==null?void 0:l.isElement(P)))&&(M=c.floating[N]||i.floating[b]);const z=_/2-T/2,Y=M/2-v[b]/2-1,L=Go(p[k],Y),B=Go(p[E],Y),q=L,U=M-v[b]-B,A=M/2-v[b]/2+z,F=Jm(q,A,U),$=!d.arrow&&ll(o)!=null&&A!==F&&i.reference[b]/2-(A<q?L:B)-v[b]/2<0,G=$?A<q?A-q:A-U:0;return{[x]:g[x]+G,data:{[x]:F,centerOffset:A-F-G,...$&&{alignmentOffset:G}},reset:$}}}),h5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:l,initialPlacement:c,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...S}=mo(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const k=go(o),E=Wr(c),N=go(c)===c,_=await(d.isRTL==null?void 0:d.isRTL(f.floating)),T=g||(N||!v?[Ed(c)]:i5(c)),P=b!=="none";!g&&P&&T.push(...c5(c,v,b,_));const M=[c,...T],z=await d.detectOverflow(t,S),Y=[];let L=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&Y.push(z[k]),p){const A=o5(o,l,_);Y.push(z[A[0]],z[A[1]])}if(L=[...L,{placement:o,overflows:Y}],!Y.every(A=>A<=0)){var B,q;const A=(((B=i.flip)==null?void 0:B.index)||0)+1,F=M[A];if(F&&(!(p==="alignment"?E!==Wr(F):!1)||L.every(D=>Wr(D.placement)===E?D.overflows[0]>0:!0)))return{data:{index:A,overflows:L},reset:{placement:F}};let $=(q=L.filter(G=>G.overflows[0]<=0).sort((G,D)=>G.overflows[1]-D.overflows[1])[0])==null?void 0:q.placement;if(!$)switch(x){case"bestFit":{var U;const G=(U=L.filter(D=>{if(P){const W=Wr(D.placement);return W===E||W==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(W=>W>0).reduce((W,R)=>W+R,0)]).sort((D,W)=>D[1]-W[1])[0])==null?void 0:U[0];G&&($=G);break}case"initialPlacement":$=c;break}if(o!==$)return{reset:{placement:$}}}return{}}}};function Pb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ab(e){return e5.some(t=>e[t]>=0)}const m5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:o="referenceHidden",...i}=mo(e,t);switch(o){case"referenceHidden":{const l=await r.detectOverflow(t,{...i,elementContext:"reference"}),c=Pb(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Ab(c)}}}case"escaped":{const l=await r.detectOverflow(t,{...i,altBoundary:!0}),c=Pb(l,n.floating);return{data:{escapedOffsets:c,escaped:Ab(c)}}}default:return{}}}}},oN=new Set(["left","top"]);async function g5(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=go(n),c=ll(n),d=Wr(n)==="y",f=oN.has(l)?-1:1,m=i&&d?-1:1,p=mo(t,e);let{mainAxis:g,crossAxis:x,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof b=="number"&&(x=c==="end"?b*-1:b),d?{x:x*m,y:g*f}:{x:g*f,y:x*m}}const x5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:l,middlewareData:c}=t,d=await g5(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+d.x,y:i+d.y,data:{...d,placement:l}}}}},y5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o,platform:i}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:k=>{let{x:E,y:N}=k;return{x:E,y:N}}},...f}=mo(e,t),m={x:n,y:r},p=await i.detectOverflow(t,f),g=Wr(go(o)),x=ix(g);let b=m[x],v=m[g];if(l){const k=x==="y"?"top":"left",E=x==="y"?"bottom":"right",N=b+p[k],_=b-p[E];b=Jm(N,b,_)}if(c){const k=g==="y"?"top":"left",E=g==="y"?"bottom":"right",N=v+p[k],_=v-p[E];v=Jm(N,v,_)}const S=d.fn({...t,[x]:b,[g]:v});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[x]:l,[g]:c}}}}}},v5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:l}=t,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=mo(e,t),m={x:n,y:r},p=Wr(o),g=ix(p);let x=m[g],b=m[p];const v=mo(c,t),S=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const N=g==="y"?"height":"width",_=i.reference[g]-i.floating[N]+S.mainAxis,T=i.reference[g]+i.reference[N]-S.mainAxis;x<_?x=_:x>T&&(x=T)}if(f){var k,E;const N=g==="y"?"width":"height",_=oN.has(go(o)),T=i.reference[p]-i.floating[N]+(_&&((k=l.offset)==null?void 0:k[p])||0)+(_?0:S.crossAxis),P=i.reference[p]+i.reference[N]+(_?0:((E=l.offset)==null?void 0:E[p])||0)-(_?S.crossAxis:0);b<T?b=T:b>P&&(b=P)}return{[g]:x,[p]:b}}}},w5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:l,elements:c}=t,{apply:d=()=>{},...f}=mo(e,t),m=await l.detectOverflow(t,f),p=go(o),g=ll(o),x=Wr(o)==="y",{width:b,height:v}=i.floating;let S,k;p==="top"||p==="bottom"?(S=p,k=g===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(k=p,S=g==="end"?"top":"bottom");const E=v-m.top-m.bottom,N=b-m.left-m.right,_=Go(v-m[S],E),T=Go(b-m[k],N),P=!t.middlewareData.shift;let M=_,z=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(z=N),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(M=E),P&&!g){const L=Qn(m.left,0),B=Qn(m.right,0),q=Qn(m.top,0),U=Qn(m.bottom,0);x?z=b-2*(L!==0||B!==0?L+B:Qn(m.left,m.right)):M=v-2*(q!==0||U!==0?q+U:Qn(m.top,m.bottom))}await d({...t,availableWidth:z,availableHeight:M});const Y=await l.getDimensions(c.floating);return b!==Y.width||v!==Y.height?{reset:{rects:!0}}:{}}}};function lf(){return typeof window<"u"}function al(e){return iN(e)?(e.nodeName||"").toLowerCase():"#document"}function tr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qr(e){var t;return(t=(iN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function iN(e){return lf()?e instanceof Node||e instanceof tr(e).Node:!1}function Ar(e){return lf()?e instanceof Element||e instanceof tr(e).Element:!1}function Gr(e){return lf()?e instanceof HTMLElement||e instanceof tr(e).HTMLElement:!1}function Ib(e){return!lf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof tr(e).ShadowRoot}const b5=new Set(["inline","contents"]);function uc(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Ir(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!b5.has(o)}const S5=new Set(["table","td","th"]);function k5(e){return S5.has(al(e))}const C5=[":popover-open",":modal"];function af(e){return C5.some(t=>{try{return e.matches(t)}catch{return!1}})}const N5=["transform","translate","scale","rotate","perspective"],E5=["transform","translate","scale","rotate","perspective","filter"],j5=["paint","layout","strict","content"];function ax(e){const t=cx(),n=Ar(e)?Ir(e):e;return N5.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||E5.some(r=>(n.willChange||"").includes(r))||j5.some(r=>(n.contain||"").includes(r))}function _5(e){let t=Ko(e);for(;Gr(t)&&!Js(t);){if(ax(t))return t;if(af(t))return null;t=Ko(t)}return null}function cx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const P5=new Set(["html","body","#document"]);function Js(e){return P5.has(al(e))}function Ir(e){return tr(e).getComputedStyle(e)}function cf(e){return Ar(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ko(e){if(al(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ib(e)&&e.host||Qr(e);return Ib(t)?t.host:t}function sN(e){const t=Ko(e);return Js(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gr(t)&&uc(t)?t:sN(t)}function Ya(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=sN(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),l=tr(o);if(i){const c=eg(l);return t.concat(l,l.visualViewport||[],uc(o)?o:[],c&&n?Ya(c):[])}return t.concat(o,Ya(o,[],n))}function eg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lN(e){const t=Ir(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Gr(e),i=o?e.offsetWidth:n,l=o?e.offsetHeight:r,c=Nd(n)!==i||Nd(r)!==l;return c&&(n=i,r=l),{width:n,height:r,$:c}}function ux(e){return Ar(e)?e:e.contextElement}function $s(e){const t=ux(e);if(!Gr(t))return Xr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=lN(t);let l=(i?Nd(n.width):n.width)/r,c=(i?Nd(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const A5=Xr(0);function aN(e){const t=tr(e);return!cx()||!t.visualViewport?A5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function I5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==tr(e)?!1:t}function Fi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=ux(e);let l=Xr(1);t&&(r?Ar(r)&&(l=$s(r)):l=$s(e));const c=I5(i,n,r)?aN(i):Xr(0);let d=(o.left+c.x)/l.x,f=(o.top+c.y)/l.y,m=o.width/l.x,p=o.height/l.y;if(i){const g=tr(i),x=r&&Ar(r)?tr(r):r;let b=g,v=eg(b);for(;v&&r&&x!==b;){const S=$s(v),k=v.getBoundingClientRect(),E=Ir(v),N=k.left+(v.clientLeft+parseFloat(E.paddingLeft))*S.x,_=k.top+(v.clientTop+parseFloat(E.paddingTop))*S.y;d*=S.x,f*=S.y,m*=S.x,p*=S.y,d+=N,f+=_,b=tr(v),v=eg(b)}}return jd({width:m,height:p,x:d,y:f})}function uf(e,t){const n=cf(e).scrollLeft;return t?t.left+n:Fi(Qr(e)).left+n}function cN(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-uf(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function T5(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",l=Qr(r),c=t?af(t.floating):!1;if(r===l||c&&i)return n;let d={scrollLeft:0,scrollTop:0},f=Xr(1);const m=Xr(0),p=Gr(r);if((p||!p&&!i)&&((al(r)!=="body"||uc(l))&&(d=cf(r)),Gr(r))){const x=Fi(r);f=$s(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const g=l&&!p&&!i?cN(l,d):Xr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+m.x+g.x,y:n.y*f.y-d.scrollTop*f.y+m.y+g.y}}function R5(e){return Array.from(e.getClientRects())}function M5(e){const t=Qr(e),n=cf(e),r=e.ownerDocument.body,o=Qn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Qn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+uf(e);const c=-n.scrollTop;return Ir(r).direction==="rtl"&&(l+=Qn(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:l,y:c}}const Tb=25;function D5(e,t){const n=tr(e),r=Qr(e),o=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,c=0,d=0;if(o){i=o.width,l=o.height;const m=cx();(!m||m&&t==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}const f=uf(r);if(f<=0){const m=r.ownerDocument,p=m.body,g=getComputedStyle(p),x=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(r.clientWidth-p.clientWidth-x);b<=Tb&&(i-=b)}else f<=Tb&&(i+=f);return{width:i,height:l,x:c,y:d}}const O5=new Set(["absolute","fixed"]);function L5(e,t){const n=Fi(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Gr(e)?$s(e):Xr(1),l=e.clientWidth*i.x,c=e.clientHeight*i.y,d=o*i.x,f=r*i.y;return{width:l,height:c,x:d,y:f}}function Rb(e,t,n){let r;if(t==="viewport")r=D5(e,n);else if(t==="document")r=M5(Qr(e));else if(Ar(t))r=L5(t,n);else{const o=aN(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return jd(r)}function uN(e,t){const n=Ko(e);return n===t||!Ar(n)||Js(n)?!1:Ir(n).position==="fixed"||uN(n,t)}function z5(e,t){const n=t.get(e);if(n)return n;let r=Ya(e,[],!1).filter(c=>Ar(c)&&al(c)!=="body"),o=null;const i=Ir(e).position==="fixed";let l=i?Ko(e):e;for(;Ar(l)&&!Js(l);){const c=Ir(l),d=ax(l);!d&&c.position==="fixed"&&(o=null),(i?!d&&!o:!d&&c.position==="static"&&!!o&&O5.has(o.position)||uc(l)&&!d&&uN(e,l))?r=r.filter(m=>m!==l):o=c,l=Ko(l)}return t.set(e,r),r}function $5(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const l=[...n==="clippingAncestors"?af(t)?[]:z5(t,this._c):[].concat(n),r],c=l[0],d=l.reduce((f,m)=>{const p=Rb(t,m,o);return f.top=Qn(p.top,f.top),f.right=Go(p.right,f.right),f.bottom=Go(p.bottom,f.bottom),f.left=Qn(p.left,f.left),f},Rb(t,c,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function F5(e){const{width:t,height:n}=lN(e);return{width:t,height:n}}function B5(e,t,n){const r=Gr(t),o=Qr(t),i=n==="fixed",l=Fi(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=Xr(0);function f(){d.x=uf(o)}if(r||!r&&!i)if((al(t)!=="body"||uc(o))&&(c=cf(t)),r){const x=Fi(t,!0,i,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else o&&f();i&&!r&&o&&f();const m=o&&!r&&!i?cN(o,c):Xr(0),p=l.left+c.scrollLeft-d.x-m.x,g=l.top+c.scrollTop-d.y-m.y;return{x:p,y:g,width:l.width,height:l.height}}function lm(e){return Ir(e).position==="static"}function Mb(e,t){if(!Gr(e)||Ir(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Qr(e)===n&&(n=n.ownerDocument.body),n}function dN(e,t){const n=tr(e);if(af(e))return n;if(!Gr(e)){let o=Ko(e);for(;o&&!Js(o);){if(Ar(o)&&!lm(o))return o;o=Ko(o)}return n}let r=Mb(e,t);for(;r&&k5(r)&&lm(r);)r=Mb(r,t);return r&&Js(r)&&lm(r)&&!ax(r)?n:r||_5(e)||n}const V5=async function(e){const t=this.getOffsetParent||dN,n=this.getDimensions,r=await n(e.floating);return{reference:B5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function H5(e){return Ir(e).direction==="rtl"}const U5={convertOffsetParentRelativeRectToViewportRelativeRect:T5,getDocumentElement:Qr,getClippingRect:$5,getOffsetParent:dN,getElementRects:V5,getClientRects:R5,getDimensions:F5,getScale:$s,isElement:Ar,isRTL:H5};function fN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function W5(e,t){let n=null,r;const o=Qr(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:m,top:p,width:g,height:x}=f;if(c||t(),!g||!x)return;const b=Fu(p),v=Fu(o.clientWidth-(m+g)),S=Fu(o.clientHeight-(p+x)),k=Fu(m),N={rootMargin:-b+"px "+-v+"px "+-S+"px "+-k+"px",threshold:Qn(0,Go(1,d))||1};let _=!0;function T(P){const M=P[0].intersectionRatio;if(M!==d){if(!_)return l();M?l(!1,M):r=setTimeout(()=>{l(!1,1e-7)},1e3)}M===1&&!fN(f,e.getBoundingClientRect())&&l(),_=!1}try{n=new IntersectionObserver(T,{...N,root:o.ownerDocument})}catch{n=new IntersectionObserver(T,N)}n.observe(e)}return l(!0),i}function Y5(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=ux(e),m=o||i?[...f?Ya(f):[],...Ya(t)]:[];m.forEach(k=>{o&&k.addEventListener("scroll",n,{passive:!0}),i&&k.addEventListener("resize",n)});const p=f&&c?W5(f,n):null;let g=-1,x=null;l&&(x=new ResizeObserver(k=>{let[E]=k;E&&E.target===f&&x&&(x.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var N;(N=x)==null||N.observe(t)})),n()}),f&&!d&&x.observe(f),x.observe(t));let b,v=d?Fi(e):null;d&&S();function S(){const k=Fi(e);v&&!fN(v,k)&&n(),v=k,b=requestAnimationFrame(S)}return n(),()=>{var k;m.forEach(E=>{o&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),p==null||p(),(k=x)==null||k.disconnect(),x=null,d&&cancelAnimationFrame(b)}}const X5=x5,q5=y5,G5=h5,K5=w5,Q5=m5,Db=p5,J5=v5,Z5=(e,t,n)=>{const r=new Map,o={platform:U5,...n},i={...o.platform,_c:r};return f5(e,t,{...o,platform:i})};var eF=typeof document<"u",tF=function(){},od=eF?w.useLayoutEffect:tF;function _d(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!_d(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!_d(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function pN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ob(e,t){const n=pN(e);return Math.round(t*n)/n}function am(e){const t=w.useRef(e);return od(()=>{t.current=e}),t}function nF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:l}={},transform:c=!0,whileElementsMounted:d,open:f}=e,[m,p]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,x]=w.useState(r);_d(g,r)||x(r);const[b,v]=w.useState(null),[S,k]=w.useState(null),E=w.useCallback(D=>{D!==P.current&&(P.current=D,v(D))},[]),N=w.useCallback(D=>{D!==M.current&&(M.current=D,k(D))},[]),_=i||b,T=l||S,P=w.useRef(null),M=w.useRef(null),z=w.useRef(m),Y=d!=null,L=am(d),B=am(o),q=am(f),U=w.useCallback(()=>{if(!P.current||!M.current)return;const D={placement:t,strategy:n,middleware:g};B.current&&(D.platform=B.current),Z5(P.current,M.current,D).then(W=>{const R={...W,isPositioned:q.current!==!1};A.current&&!_d(z.current,R)&&(z.current=R,il.flushSync(()=>{p(R)}))})},[g,t,n,B,q]);od(()=>{f===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,p(D=>({...D,isPositioned:!1})))},[f]);const A=w.useRef(!1);od(()=>(A.current=!0,()=>{A.current=!1}),[]),od(()=>{if(_&&(P.current=_),T&&(M.current=T),_&&T){if(L.current)return L.current(_,T,U);U()}},[_,T,U,L,Y]);const F=w.useMemo(()=>({reference:P,floating:M,setReference:E,setFloating:N}),[E,N]),$=w.useMemo(()=>({reference:_,floating:T}),[_,T]),G=w.useMemo(()=>{const D={position:n,left:0,top:0};if(!$.floating)return D;const W=Ob($.floating,m.x),R=Ob($.floating,m.y);return c?{...D,transform:"translate("+W+"px, "+R+"px)",...pN($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:R}},[n,c,$.floating,m.x,m.y]);return w.useMemo(()=>({...m,update:U,refs:F,elements:$,floatingStyles:G}),[m,U,F,$,G])}const rF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Db({element:r.current,padding:o}).fn(n):{}:r?Db({element:r,padding:o}).fn(n):{}}}},oF=(e,t)=>({...X5(e),options:[e,t]}),iF=(e,t)=>({...q5(e),options:[e,t]}),sF=(e,t)=>({...J5(e),options:[e,t]}),lF=(e,t)=>({...G5(e),options:[e,t]}),aF=(e,t)=>({...K5(e),options:[e,t]}),cF=(e,t)=>({...Q5(e),options:[e,t]}),uF=(e,t)=>({...rF(e),options:[e,t]});var dF="Arrow",hN=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return u.jsx(Fe.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});hN.displayName=dF;var fF=hN;function df(e){const[t,n]=w.useState(void 0);return an(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let l,c;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,c=f.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var dx="Popper",[mN,cl]=En(dx),[pF,gN]=mN(dx),xN=e=>{const{__scopePopper:t,children:n}=e,[r,o]=w.useState(null);return u.jsx(pF,{scope:t,anchor:r,onAnchorChange:o,children:n})};xN.displayName=dx;var yN="PopperAnchor",vN=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=gN(yN,n),l=w.useRef(null),c=st(t,l),d=w.useRef(null);return w.useEffect(()=>{const f=d.current;d.current=(r==null?void 0:r.current)||l.current,f!==d.current&&i.onAnchorChange(d.current)}),r?null:u.jsx(Fe.div,{...o,ref:c})});vN.displayName=yN;var fx="PopperContent",[hF,mF]=mN(fx),wN=w.forwardRef((e,t)=>{var K,te,Q,ie,ue,fe;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:b,...v}=e,S=gN(fx,n),[k,E]=w.useState(null),N=st(t,pe=>E(pe)),[_,T]=w.useState(null),P=df(_),M=(P==null?void 0:P.width)??0,z=(P==null?void 0:P.height)??0,Y=r+(i!=="center"?"-"+i:""),L=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},B=Array.isArray(f)?f:[f],q=B.length>0,U={padding:L,boundary:B.filter(xF),altBoundary:q},{refs:A,floatingStyles:F,placement:$,isPositioned:G,middlewareData:D}=nF({strategy:"fixed",placement:Y,whileElementsMounted:(...pe)=>Y5(...pe,{animationFrame:x==="always"}),elements:{reference:S.anchor},middleware:[oF({mainAxis:o+z,alignmentAxis:l}),d&&iF({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?sF():void 0,...U}),d&&lF({...U}),aF({...U,apply:({elements:pe,rects:we,availableWidth:De,availableHeight:Oe})=>{const{width:it,height:Ze}=we.reference,Qe=pe.floating.style;Qe.setProperty("--radix-popper-available-width",`${De}px`),Qe.setProperty("--radix-popper-available-height",`${Oe}px`),Qe.setProperty("--radix-popper-anchor-width",`${it}px`),Qe.setProperty("--radix-popper-anchor-height",`${Ze}px`)}}),_&&uF({element:_,padding:c}),yF({arrowWidth:M,arrowHeight:z}),g&&cF({strategy:"referenceHidden",...U})]}),[W,R]=kN($),H=In(b);an(()=>{G&&(H==null||H())},[G,H]);const X=(K=D.arrow)==null?void 0:K.x,I=(te=D.arrow)==null?void 0:te.y,V=((Q=D.arrow)==null?void 0:Q.centerOffset)!==0,[J,Z]=w.useState();return an(()=>{k&&Z(window.getComputedStyle(k).zIndex)},[k]),u.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:G?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(ie=D.transformOrigin)==null?void 0:ie.x,(ue=D.transformOrigin)==null?void 0:ue.y].join(" "),...((fe=D.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(hF,{scope:n,placedSide:W,onArrowChange:T,arrowX:X,arrowY:I,shouldHideArrow:V,children:u.jsx(Fe.div,{"data-side":W,"data-align":R,...v,ref:N,style:{...v.style,animation:G?void 0:"none"}})})})});wN.displayName=fx;var bN="PopperArrow",gF={top:"bottom",right:"left",bottom:"top",left:"right"},SN=w.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=mF(bN,r),l=gF[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(fF,{...o,ref:n,style:{...o.style,display:"block"}})})});SN.displayName=bN;function xF(e){return e!==null}var yF=e=>({name:"transformOrigin",options:e,fn(t){var S,k,E;const{placement:n,rects:r,middlewareData:o}=t,l=((S=o.arrow)==null?void 0:S.centerOffset)!==0,c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,m]=kN(n),p={start:"0%",center:"50%",end:"100%"}[m],g=(((k=o.arrow)==null?void 0:k.x)??0)+c/2,x=(((E=o.arrow)==null?void 0:E.y)??0)+d/2;let b="",v="";return f==="bottom"?(b=l?p:`${g}px`,v=`${-d}px`):f==="top"?(b=l?p:`${g}px`,v=`${r.floating.height+d}px`):f==="right"?(b=`${-d}px`,v=l?p:`${x}px`):f==="left"&&(b=`${r.floating.width+d}px`,v=l?p:`${x}px`),{data:{x:b,y:v}}}});function kN(e){const[t,n="center"]=e.split("-");return[t,n]}var px=xN,ff=vN,hx=wN,mx=SN,vF="Portal",dc=w.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[o,i]=w.useState(!1);an(()=>i(!0),[]);const l=n||o&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?GL.createPortal(u.jsx(Fe.div,{...r,ref:t}),l):null});dc.displayName=vF;function wF(e){const t=bF(e),n=w.forwardRef((r,o)=>{const{children:i,...l}=r,c=w.Children.toArray(i),d=c.find(kF);if(d){const f=d.props.children,m=c.map(p=>p===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:w.isValidElement(f)?w.cloneElement(f,void 0,m):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function bF(e){const t=w.forwardRef((n,r)=>{const{children:o,...i}=n;if(w.isValidElement(o)){const l=NF(o),c=CF(i,o.props);return o.type!==w.Fragment&&(c.ref=r?Wi(r,l):l),w.cloneElement(o,c)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SF=Symbol("radix.slottable");function kF(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SF}function CF(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function NF(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function pf(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var CN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),EF="VisuallyHidden",jF=w.forwardRef((e,t)=>u.jsx(Fe.span,{...e,ref:t,style:{...CN,...e.style}}));jF.displayName=EF;var _F=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ns=new WeakMap,Bu=new WeakMap,Vu={},cm=0,NN=function(e){return e&&(e.host||NN(e.parentNode))},PF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=NN(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},AF=function(e,t,n,r){var o=PF(t,Array.isArray(e)?e:[e]);Vu[n]||(Vu[n]=new WeakMap);var i=Vu[n],l=[],c=new Set,d=new Set(o),f=function(p){!p||c.has(p)||(c.add(p),f(p.parentNode))};o.forEach(f);var m=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(g){if(c.has(g))m(g);else try{var x=g.getAttribute(r),b=x!==null&&x!=="false",v=(Ns.get(g)||0)+1,S=(i.get(g)||0)+1;Ns.set(g,v),i.set(g,S),l.push(g),v===1&&b&&Bu.set(g,!0),S===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",g,k)}})};return m(t),c.clear(),cm++,function(){l.forEach(function(p){var g=Ns.get(p)-1,x=i.get(p)-1;Ns.set(p,g),i.set(p,x),g||(Bu.has(p)||p.removeAttribute(r),Bu.delete(p)),x||p.removeAttribute(n)}),cm--,cm||(Ns=new WeakMap,Ns=new WeakMap,Bu=new WeakMap,Vu={})}},gx=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=_F(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),AF(r,o,n,"aria-hidden")):function(){return null}},Ur=function(){return Ur=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ur.apply(this,arguments)};function EN(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function IF(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var id="right-scroll-bar-position",sd="width-before-scroll-bar",TF="with-scroll-bars-hidden",RF="--removed-body-scroll-bar-size";function um(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function MF(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var DF=typeof window<"u"?w.useLayoutEffect:w.useEffect,Lb=new WeakMap;function OF(e,t){var n=MF(null,function(r){return e.forEach(function(o){return um(o,r)})});return DF(function(){var r=Lb.get(n);if(r){var o=new Set(r),i=new Set(e),l=n.current;o.forEach(function(c){i.has(c)||um(c,null)}),i.forEach(function(c){o.has(c)||um(c,l)})}Lb.set(n,e)},[e]),n}function LF(e){return e}function zF(e,t){t===void 0&&(t=LF);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=t(i,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(i),l=n}var d=function(){var m=l;l=[],m.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(m){l.push(m),f()},filter:function(m){return l=l.filter(m),n}}}};return o}function $F(e){e===void 0&&(e={});var t=zF(null);return t.options=Ur({async:!0,ssr:!1},e),t}var jN=function(e){var t=e.sideCar,n=EN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Ur({},n))};jN.isSideCarExport=!0;function FF(e,t){return e.useMedium(t),jN}var _N=$F(),dm=function(){},hf=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:dm,onWheelCapture:dm,onTouchMoveCapture:dm}),o=r[0],i=r[1],l=e.forwardProps,c=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,p=e.shards,g=e.sideCar,x=e.noIsolation,b=e.inert,v=e.allowPinchZoom,S=e.as,k=S===void 0?"div":S,E=e.gapMode,N=EN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=g,T=OF([n,t]),P=Ur(Ur({},N),o);return w.createElement(w.Fragment,null,m&&w.createElement(_,{sideCar:_N,removeScrollBar:f,shards:p,noIsolation:x,inert:b,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:E}),l?w.cloneElement(w.Children.only(c),Ur(Ur({},P),{ref:T})):w.createElement(k,Ur({},P,{className:d,ref:T}),c))});hf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hf.classNames={fullWidth:sd,zeroRight:id};var BF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=BF();return t&&e.setAttribute("nonce",t),e}function HF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function UF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var WF=function(){var e=0,t=null;return{add:function(n){e==0&&(t=VF())&&(HF(t,n),UF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},YF=function(){var e=WF();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},PN=function(){var e=YF(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},XF={left:0,top:0,right:0,gap:0},fm=function(e){return parseInt(e||"",10)||0},qF=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[fm(n),fm(r),fm(o)]},GF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return XF;var t=qF(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},KF=PN(),Fs="data-scroll-locked",QF=function(e,t,n,r){var o=e.left,i=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(TF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Fs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(id,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(sd,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(id," .").concat(id,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(sd," .").concat(sd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fs,`] {
    `).concat(RF,": ").concat(c,`px;
  }
`)},zb=function(){var e=parseInt(document.body.getAttribute(Fs)||"0",10);return isFinite(e)?e:0},JF=function(){w.useEffect(function(){return document.body.setAttribute(Fs,(zb()+1).toString()),function(){var e=zb()-1;e<=0?document.body.removeAttribute(Fs):document.body.setAttribute(Fs,e.toString())}},[])},ZF=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;JF();var i=w.useMemo(function(){return GF(o)},[o]);return w.createElement(KF,{styles:QF(i,!t,o,n?"":"!important")})},tg=!1;if(typeof window<"u")try{var Hu=Object.defineProperty({},"passive",{get:function(){return tg=!0,!0}});window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{tg=!1}var Es=tg?{passive:!1}:!1,eB=function(e){return e.tagName==="TEXTAREA"},AN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!eB(e)&&n[t]==="visible")},tB=function(e){return AN(e,"overflowY")},nB=function(e){return AN(e,"overflowX")},$b=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=IN(e,r);if(o){var i=TN(e,r),l=i[1],c=i[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},rB=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},oB=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},IN=function(e,t){return e==="v"?tB(t):nB(t)},TN=function(e,t){return e==="v"?rB(t):oB(t)},iB=function(e,t){return e==="h"&&t==="rtl"?-1:1},sB=function(e,t,n,r,o){var i=iB(e,window.getComputedStyle(t).direction),l=i*r,c=n.target,d=t.contains(c),f=!1,m=l>0,p=0,g=0;do{var x=TN(e,c),b=x[0],v=x[1],S=x[2],k=v-S-i*b;(b||k)&&IN(e,c)&&(p+=k,g+=b),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(m&&Math.abs(p)<1||!m&&Math.abs(g)<1)&&(f=!0),f},Uu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Fb=function(e){return[e.deltaX,e.deltaY]},Bb=function(e){return e&&"current"in e?e.current:e},lB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},aB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cB=0,js=[];function uB(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),o=w.useState(cB++)[0],i=w.useState(PN)[0],l=w.useRef(e);w.useEffect(function(){l.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var v=IF([e.lockRef.current],(e.shards||[]).map(Bb),!0).filter(Boolean);return v.forEach(function(S){return S.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),v.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=w.useCallback(function(v,S){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var k=Uu(v),E=n.current,N="deltaX"in v?v.deltaX:E[0]-k[0],_="deltaY"in v?v.deltaY:E[1]-k[1],T,P=v.target,M=Math.abs(N)>Math.abs(_)?"h":"v";if("touches"in v&&M==="h"&&P.type==="range")return!1;var z=$b(M,P);if(!z)return!0;if(z?T=M:(T=M==="v"?"h":"v",z=$b(M,P)),!z)return!1;if(!r.current&&"changedTouches"in v&&(N||_)&&(r.current=T),!T)return!0;var Y=r.current||T;return sB(Y,S,v,Y==="h"?N:_)},[]),d=w.useCallback(function(v){var S=v;if(!(!js.length||js[js.length-1]!==i)){var k="deltaY"in S?Fb(S):Uu(S),E=t.current.filter(function(T){return T.name===S.type&&(T.target===S.target||S.target===T.shadowParent)&&lB(T.delta,k)})[0];if(E&&E.should){S.cancelable&&S.preventDefault();return}if(!E){var N=(l.current.shards||[]).map(Bb).filter(Boolean).filter(function(T){return T.contains(S.target)}),_=N.length>0?c(S,N[0]):!l.current.noIsolation;_&&S.cancelable&&S.preventDefault()}}},[]),f=w.useCallback(function(v,S,k,E){var N={name:v,delta:S,target:k,should:E,shadowParent:dB(k)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(_){return _!==N})},1)},[]),m=w.useCallback(function(v){n.current=Uu(v),r.current=void 0},[]),p=w.useCallback(function(v){f(v.type,Fb(v),v.target,c(v,e.lockRef.current))},[]),g=w.useCallback(function(v){f(v.type,Uu(v),v.target,c(v,e.lockRef.current))},[]);w.useEffect(function(){return js.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Es),document.addEventListener("touchmove",d,Es),document.addEventListener("touchstart",m,Es),function(){js=js.filter(function(v){return v!==i}),document.removeEventListener("wheel",d,Es),document.removeEventListener("touchmove",d,Es),document.removeEventListener("touchstart",m,Es)}},[]);var x=e.removeScrollBar,b=e.inert;return w.createElement(w.Fragment,null,b?w.createElement(i,{styles:aB(o)}):null,x?w.createElement(ZF,{gapMode:e.gapMode}):null)}function dB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fB=FF(_N,uB);var mf=w.forwardRef(function(e,t){return w.createElement(hf,Ur({},e,{ref:t,sideCar:fB}))});mf.classNames=hf.classNames;var pB=[" ","Enter","ArrowUp","ArrowDown"],hB=[" ","Enter"],Bi="Select",[gf,xf,mB]=rf(Bi),[ul,Zq]=En(Bi,[mB,cl]),yf=cl(),[gB,ti]=ul(Bi),[xB,yB]=ul(Bi),RN=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:l,defaultValue:c,onValueChange:d,dir:f,name:m,autoComplete:p,disabled:g,required:x,form:b}=e,v=yf(t),[S,k]=w.useState(null),[E,N]=w.useState(null),[_,T]=w.useState(!1),P=Jo(f),[M,z]=Nn({prop:r,defaultProp:o??!1,onChange:i,caller:Bi}),[Y,L]=Nn({prop:l,defaultProp:c,onChange:d,caller:Bi}),B=w.useRef(null),q=S?b||!!S.closest("form"):!0,[U,A]=w.useState(new Set),F=Array.from(U).map($=>$.props.value).join(";");return u.jsx(px,{...v,children:u.jsxs(gB,{required:x,scope:t,trigger:S,onTriggerChange:k,valueNode:E,onValueNodeChange:N,valueNodeHasChildren:_,onValueNodeHasChildrenChange:T,contentId:fr(),value:Y,onValueChange:L,open:M,onOpenChange:z,dir:P,triggerPointerDownPosRef:B,disabled:g,children:[u.jsx(gf.Provider,{scope:t,children:u.jsx(xB,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback($=>{A(G=>new Set(G).add($))},[]),onNativeOptionRemove:w.useCallback($=>{A(G=>{const D=new Set(G);return D.delete($),D})},[]),children:n})}),q?u.jsxs(tE,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:p,value:Y,onChange:$=>L($.target.value),disabled:g,form:b,children:[Y===void 0?u.jsx("option",{value:""}):null,Array.from(U)]},F):null]})})};RN.displayName=Bi;var MN="SelectTrigger",DN=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=yf(n),l=ti(MN,n),c=l.disabled||r,d=st(t,l.onTriggerChange),f=xf(n),m=w.useRef("touch"),[p,g,x]=rE(v=>{const S=f().filter(N=>!N.disabled),k=S.find(N=>N.value===l.value),E=oE(S,v,k);E!==void 0&&l.onValueChange(E.value)}),b=v=>{c||(l.onOpenChange(!0),x()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return u.jsx(ff,{asChild:!0,...i,children:u.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":nE(l.value)?"":void 0,...o,ref:d,onClick:Ie(o.onClick,v=>{v.currentTarget.focus(),m.current!=="mouse"&&b(v)}),onPointerDown:Ie(o.onPointerDown,v=>{m.current=v.pointerType;const S=v.target;S.hasPointerCapture(v.pointerId)&&S.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(b(v),v.preventDefault())}),onKeyDown:Ie(o.onKeyDown,v=>{const S=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(S&&v.key===" ")&&pB.includes(v.key)&&(b(),v.preventDefault())})})})});DN.displayName=MN;var ON="SelectValue",LN=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:l="",...c}=e,d=ti(ON,n),{onValueNodeHasChildrenChange:f}=d,m=i!==void 0,p=st(t,d.onValueNodeChange);return an(()=>{f(m)},[f,m]),u.jsx(Fe.span,{...c,ref:p,style:{pointerEvents:"none"},children:nE(d.value)?u.jsx(u.Fragment,{children:l}):i})});LN.displayName=ON;var vB="SelectIcon",zN=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return u.jsx(Fe.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});zN.displayName=vB;var wB="SelectPortal",$N=e=>u.jsx(dc,{asChild:!0,...e});$N.displayName=wB;var Vi="SelectContent",FN=w.forwardRef((e,t)=>{const n=ti(Vi,e.__scopeSelect),[r,o]=w.useState();if(an(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?il.createPortal(u.jsx(BN,{scope:e.__scopeSelect,children:u.jsx(gf.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),i):null}return u.jsx(VN,{...e,ref:t})});FN.displayName=Vi;var Sr=10,[BN,ni]=ul(Vi),bB="SelectContentImpl",SB=wF("SelectContent.RemoveScroll"),VN=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:b,hideWhenDetached:v,avoidCollisions:S,...k}=e,E=ti(Vi,n),[N,_]=w.useState(null),[T,P]=w.useState(null),M=st(t,K=>_(K)),[z,Y]=w.useState(null),[L,B]=w.useState(null),q=xf(n),[U,A]=w.useState(!1),F=w.useRef(!1);w.useEffect(()=>{if(N)return gx(N)},[N]),ox();const $=w.useCallback(K=>{const[te,...Q]=q().map(fe=>fe.ref.current),[ie]=Q.slice(-1),ue=document.activeElement;for(const fe of K)if(fe===ue||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===te&&T&&(T.scrollTop=0),fe===ie&&T&&(T.scrollTop=T.scrollHeight),fe==null||fe.focus(),document.activeElement!==ue))return},[q,T]),G=w.useCallback(()=>$([z,N]),[$,z,N]);w.useEffect(()=>{U&&G()},[U,G]);const{onOpenChange:D,triggerPointerDownPosRef:W}=E;w.useEffect(()=>{if(N){let K={x:0,y:0};const te=ie=>{var ue,fe;K={x:Math.abs(Math.round(ie.pageX)-(((ue=W.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((fe=W.current)==null?void 0:fe.y)??0))}},Q=ie=>{K.x<=10&&K.y<=10?ie.preventDefault():N.contains(ie.target)||D(!1),document.removeEventListener("pointermove",te),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",Q,{capture:!0})}}},[N,D,W]),w.useEffect(()=>{const K=()=>D(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[D]);const[R,H]=rE(K=>{const te=q().filter(ue=>!ue.disabled),Q=te.find(ue=>ue.ref.current===document.activeElement),ie=oE(te,K,Q);ie&&setTimeout(()=>ie.ref.current.focus())}),X=w.useCallback((K,te,Q)=>{const ie=!F.current&&!Q;(E.value!==void 0&&E.value===te||ie)&&(Y(K),ie&&(F.current=!0))},[E.value]),I=w.useCallback(()=>N==null?void 0:N.focus(),[N]),V=w.useCallback((K,te,Q)=>{const ie=!F.current&&!Q;(E.value!==void 0&&E.value===te||ie)&&B(K)},[E.value]),J=r==="popper"?ng:HN,Z=J===ng?{side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:b,hideWhenDetached:v,avoidCollisions:S}:{};return u.jsx(BN,{scope:n,content:N,viewport:T,onViewportChange:P,itemRefCallback:X,selectedItem:z,onItemLeave:I,itemTextRefCallback:V,focusSelectedItem:G,selectedItemText:L,position:r,isPositioned:U,searchRef:R,children:u.jsx(mf,{as:SB,allowPinchZoom:!0,children:u.jsx(sf,{asChild:!0,trapped:E.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:Ie(o,K=>{var te;(te=E.trigger)==null||te.focus({preventScroll:!0}),K.preventDefault()}),children:u.jsx(cc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:u.jsx(J,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:K=>K.preventDefault(),...k,...Z,onPlaced:()=>A(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ie(k.onKeyDown,K=>{const te=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!te&&K.key.length===1&&H(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let ie=q().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(K.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const ue=K.target,fe=ie.indexOf(ue);ie=ie.slice(fe+1)}setTimeout(()=>$(ie)),K.preventDefault()}})})})})})})});VN.displayName=bB;var kB="SelectItemAlignedPosition",HN=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=ti(Vi,n),l=ni(Vi,n),[c,d]=w.useState(null),[f,m]=w.useState(null),p=st(t,M=>m(M)),g=xf(n),x=w.useRef(!1),b=w.useRef(!0),{viewport:v,selectedItem:S,selectedItemText:k,focusSelectedItem:E}=l,N=w.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&f&&v&&S&&k){const M=i.trigger.getBoundingClientRect(),z=f.getBoundingClientRect(),Y=i.valueNode.getBoundingClientRect(),L=k.getBoundingClientRect();if(i.dir!=="rtl"){const ue=L.left-z.left,fe=Y.left-ue,pe=M.left-fe,we=M.width+pe,De=Math.max(we,z.width),Oe=window.innerWidth-Sr,it=Wa(fe,[Sr,Math.max(Sr,Oe-De)]);c.style.minWidth=we+"px",c.style.left=it+"px"}else{const ue=z.right-L.right,fe=window.innerWidth-Y.right-ue,pe=window.innerWidth-M.right-fe,we=M.width+pe,De=Math.max(we,z.width),Oe=window.innerWidth-Sr,it=Wa(fe,[Sr,Math.max(Sr,Oe-De)]);c.style.minWidth=we+"px",c.style.right=it+"px"}const B=g(),q=window.innerHeight-Sr*2,U=v.scrollHeight,A=window.getComputedStyle(f),F=parseInt(A.borderTopWidth,10),$=parseInt(A.paddingTop,10),G=parseInt(A.borderBottomWidth,10),D=parseInt(A.paddingBottom,10),W=F+$+U+D+G,R=Math.min(S.offsetHeight*5,W),H=window.getComputedStyle(v),X=parseInt(H.paddingTop,10),I=parseInt(H.paddingBottom,10),V=M.top+M.height/2-Sr,J=q-V,Z=S.offsetHeight/2,K=S.offsetTop+Z,te=F+$+K,Q=W-te;if(te<=V){const ue=B.length>0&&S===B[B.length-1].ref.current;c.style.bottom="0px";const fe=f.clientHeight-v.offsetTop-v.offsetHeight,pe=Math.max(J,Z+(ue?I:0)+fe+G),we=te+pe;c.style.height=we+"px"}else{const ue=B.length>0&&S===B[0].ref.current;c.style.top="0px";const pe=Math.max(V,F+v.offsetTop+(ue?X:0)+Z)+Q;c.style.height=pe+"px",v.scrollTop=te-V+v.offsetTop}c.style.margin=`${Sr}px 0`,c.style.minHeight=R+"px",c.style.maxHeight=q+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[g,i.trigger,i.valueNode,c,f,v,S,k,i.dir,r]);an(()=>N(),[N]);const[_,T]=w.useState();an(()=>{f&&T(window.getComputedStyle(f).zIndex)},[f]);const P=w.useCallback(M=>{M&&b.current===!0&&(N(),E==null||E(),b.current=!1)},[N,E]);return u.jsx(NB,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:P,children:u.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(Fe.div,{...o,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});HN.displayName=kB;var CB="SelectPopperPosition",ng=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Sr,...i}=e,l=yf(n);return u.jsx(hx,{...l,...i,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ng.displayName=CB;var[NB,xx]=ul(Vi,{}),rg="SelectViewport",UN=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,i=ni(rg,n),l=xx(rg,n),c=st(t,i.onViewportChange),d=w.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(gf.Slot,{scope:n,children:u.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ie(o.onScroll,f=>{const m=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=l;if(g!=null&&g.current&&p){const x=Math.abs(d.current-m.scrollTop);if(x>0){const b=window.innerHeight-Sr*2,v=parseFloat(p.style.minHeight),S=parseFloat(p.style.height),k=Math.max(v,S);if(k<b){const E=k+x,N=Math.min(b,E),_=E-N;p.style.height=N+"px",p.style.bottom==="0px"&&(m.scrollTop=_>0?_:0,p.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});UN.displayName=rg;var WN="SelectGroup",[EB,jB]=ul(WN),_B=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=fr();return u.jsx(EB,{scope:n,id:o,children:u.jsx(Fe.div,{role:"group","aria-labelledby":o,...r,ref:t})})});_B.displayName=WN;var YN="SelectLabel",PB=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=jB(YN,n);return u.jsx(Fe.div,{id:o.id,...r,ref:t})});PB.displayName=YN;var Pd="SelectItem",[AB,XN]=ul(Pd),qN=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...l}=e,c=ti(Pd,n),d=ni(Pd,n),f=c.value===r,[m,p]=w.useState(i??""),[g,x]=w.useState(!1),b=st(t,E=>{var N;return(N=d.itemRefCallback)==null?void 0:N.call(d,E,r,o)}),v=fr(),S=w.useRef("touch"),k=()=>{o||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(AB,{scope:n,value:r,disabled:o,textId:v,isSelected:f,onItemTextChange:w.useCallback(E=>{p(N=>N||((E==null?void 0:E.textContent)??"").trim())},[]),children:u.jsx(gf.ItemSlot,{scope:n,value:r,disabled:o,textValue:m,children:u.jsx(Fe.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:b,onFocus:Ie(l.onFocus,()=>x(!0)),onBlur:Ie(l.onBlur,()=>x(!1)),onClick:Ie(l.onClick,()=>{S.current!=="mouse"&&k()}),onPointerUp:Ie(l.onPointerUp,()=>{S.current==="mouse"&&k()}),onPointerDown:Ie(l.onPointerDown,E=>{S.current=E.pointerType}),onPointerMove:Ie(l.onPointerMove,E=>{var N;S.current=E.pointerType,o?(N=d.onItemLeave)==null||N.call(d):S.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(l.onPointerLeave,E=>{var N;E.currentTarget===document.activeElement&&((N=d.onItemLeave)==null||N.call(d))}),onKeyDown:Ie(l.onKeyDown,E=>{var _;((_=d.searchRef)==null?void 0:_.current)!==""&&E.key===" "||(hB.includes(E.key)&&k(),E.key===" "&&E.preventDefault())})})})})});qN.displayName=Pd;var ya="SelectItemText",GN=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,l=ti(ya,n),c=ni(ya,n),d=XN(ya,n),f=yB(ya,n),[m,p]=w.useState(null),g=st(t,k=>p(k),d.onItemTextChange,k=>{var E;return(E=c.itemTextRefCallback)==null?void 0:E.call(c,k,d.value,d.disabled)}),x=m==null?void 0:m.textContent,b=w.useMemo(()=>u.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:S}=f;return an(()=>(v(b),()=>S(b)),[v,S,b]),u.jsxs(u.Fragment,{children:[u.jsx(Fe.span,{id:d.textId,...i,ref:g}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?il.createPortal(i.children,l.valueNode):null]})});GN.displayName=ya;var KN="SelectItemIndicator",QN=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return XN(KN,n).isSelected?u.jsx(Fe.span,{"aria-hidden":!0,...r,ref:t}):null});QN.displayName=KN;var og="SelectScrollUpButton",JN=w.forwardRef((e,t)=>{const n=ni(og,e.__scopeSelect),r=xx(og,e.__scopeSelect),[o,i]=w.useState(!1),l=st(t,r.onScrollButtonChange);return an(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollTop>0;i(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?u.jsx(eE,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});JN.displayName=og;var ig="SelectScrollDownButton",ZN=w.forwardRef((e,t)=>{const n=ni(ig,e.__scopeSelect),r=xx(ig,e.__scopeSelect),[o,i]=w.useState(!1),l=st(t,r.onScrollButtonChange);return an(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;i(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?u.jsx(eE,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});ZN.displayName=ig;var eE=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,i=ni("SelectScrollButton",n),l=w.useRef(null),c=xf(n),d=w.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return w.useEffect(()=>()=>d(),[d]),an(()=>{var m;const f=c().find(p=>p.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),u.jsx(Fe.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Ie(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ie(o.onPointerMove,()=>{var f;(f=i.onItemLeave)==null||f.call(i),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ie(o.onPointerLeave,()=>{d()})})}),IB="SelectSeparator",TB=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(Fe.div,{"aria-hidden":!0,...r,ref:t})});TB.displayName=IB;var sg="SelectArrow",RB=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=yf(n),i=ti(sg,n),l=ni(sg,n);return i.open&&l.position==="popper"?u.jsx(mx,{...o,...r,ref:t}):null});RB.displayName=sg;var MB="SelectBubbleInput",tE=w.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=w.useRef(null),i=st(r,o),l=pf(t);return w.useEffect(()=>{const c=o.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const p=new Event("change",{bubbles:!0});m.call(c,t),c.dispatchEvent(p)}},[l,t]),u.jsx(Fe.select,{...n,style:{...CN,...n.style},ref:i,defaultValue:t})});tE.displayName=MB;function nE(e){return e===""||e===void 0}function rE(e){const t=In(e),n=w.useRef(""),r=w.useRef(0),o=w.useCallback(l=>{const c=n.current+l;t(c),function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(c)},[t]),i=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function oE(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let l=DB(e,Math.max(i,0));o.length===1&&(l=l.filter(f=>f!==n));const d=l.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function DB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var OB=RN,LB=DN,zB=LN,$B=zN,FB=$N,BB=FN,VB=UN,HB=qN,UB=GN,WB=QN,YB=JN,XB=ZN;function rn({...e}){return u.jsx(OB,{"data-slot":"select",...e})}function on({...e}){return u.jsx(zB,{"data-slot":"select-value",...e})}function sn({className:e,size:t="default",children:n,...r}){return u.jsxs(LB,{"data-slot":"select-trigger","data-size":t,className:Ye("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,u.jsx($B,{asChild:!0,children:u.jsx(Ho,{className:"size-4 opacity-50"})})]})}function ln({className:e,children:t,position:n="popper",...r}){return u.jsx(FB,{children:u.jsxs(BB,{"data-slot":"select-content",className:Ye("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(qB,{}),u.jsx(VB,{className:Ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),u.jsx(GB,{})]})})}function yt({className:e,children:t,...n}){return u.jsxs(HB,{"data-slot":"select-item",className:Ye("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[u.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:u.jsx(WB,{children:u.jsx(sS,{className:"size-4"})})}),u.jsx(UB,{children:t})]})}function qB({className:e,...t}){return u.jsx(YB,{"data-slot":"select-scroll-up-button",className:Ye("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(PA,{className:"size-4"})})}function GB({className:e,...t}){return u.jsx(XB,{"data-slot":"select-scroll-down-button",className:Ye("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(Ho,{className:"size-4"})})}const Vb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Hb=LS,vf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Hb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=t,l=Object.keys(o).map(f=>{const m=n==null?void 0:n[f],p=i==null?void 0:i[f];if(m===null)return null;const g=Vb(m)||Vb(p);return o[f][g]}),c=n&&Object.entries(n).reduce((f,m)=>{let[p,g]=m;return g===void 0||(f[p]=g),f},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,m)=>{let{class:p,className:g,...x}=m;return Object.entries(x).every(b=>{let[v,S]=b;return Array.isArray(S)?S.includes({...i,...c}[v]):{...i,...c}[v]===S})?[...f,p,g]:f},[]);return Hb(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)},KB=vf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all cursor-pointer disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function QB({className:e,variant:t,size:n,asChild:r=!1,...o},i){const l=r?LC:"button";return u.jsx(l,{ref:i,"data-slot":"button",className:Ye(KB({variant:t,size:n,className:e})),...o})}const ye=w.forwardRef(QB);ye.displayName="Button";function JB(e){const t=ZB(e),n=w.forwardRef((r,o)=>{const{children:i,...l}=r,c=w.Children.toArray(i),d=c.find(t6);if(d){const f=d.props.children,m=c.map(p=>p===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:w.isValidElement(f)?w.cloneElement(f,void 0,m):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function ZB(e){const t=w.forwardRef((n,r)=>{const{children:o,...i}=n;if(w.isValidElement(o)){const l=r6(o),c=n6(i,o.props);return o.type!==w.Fragment&&(c.ref=r?Wi(r,l):l),w.cloneElement(o,c)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var e6=Symbol("radix.slottable");function t6(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===e6}function n6(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function r6(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var wf="Dialog",[iE,eG]=En(wf),[o6,Rr]=iE(wf),sE=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=w.useRef(null),d=w.useRef(null),[f,m]=Nn({prop:r,defaultProp:o??!1,onChange:i,caller:wf});return u.jsx(o6,{scope:t,triggerRef:c,contentRef:d,contentId:fr(),titleId:fr(),descriptionId:fr(),open:f,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(p=>!p),[m]),modal:l,children:n})};sE.displayName=wf;var lE="DialogTrigger",aE=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Rr(lE,n),i=st(t,o.triggerRef);return u.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":wx(o.open),...r,ref:i,onClick:Ie(e.onClick,o.onOpenToggle)})});aE.displayName=lE;var yx="DialogPortal",[i6,cE]=iE(yx,{forceMount:void 0}),uE=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,i=Rr(yx,t);return u.jsx(i6,{scope:t,forceMount:n,children:w.Children.map(r,l=>u.jsx(jn,{present:n||i.open,children:u.jsx(dc,{asChild:!0,container:o,children:l})}))})};uE.displayName=yx;var Ad="DialogOverlay",dE=w.forwardRef((e,t)=>{const n=cE(Ad,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Rr(Ad,e.__scopeDialog);return i.modal?u.jsx(jn,{present:r||i.open,children:u.jsx(l6,{...o,ref:t})}):null});dE.displayName=Ad;var s6=JB("DialogOverlay.RemoveScroll"),l6=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Rr(Ad,n);return u.jsx(mf,{as:s6,allowPinchZoom:!0,shards:[o.contentRef],children:u.jsx(Fe.div,{"data-state":wx(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Hi="DialogContent",fE=w.forwardRef((e,t)=>{const n=cE(Hi,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Rr(Hi,e.__scopeDialog);return u.jsx(jn,{present:r||i.open,children:i.modal?u.jsx(a6,{...o,ref:t}):u.jsx(c6,{...o,ref:t})})});fE.displayName=Hi;var a6=w.forwardRef((e,t)=>{const n=Rr(Hi,e.__scopeDialog),r=w.useRef(null),o=st(t,n.contentRef,r);return w.useEffect(()=>{const i=r.current;if(i)return gx(i)},[]),u.jsx(pE,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,i=>i.preventDefault())})}),c6=w.forwardRef((e,t)=>{const n=Rr(Hi,e.__scopeDialog),r=w.useRef(!1),o=w.useRef(!1);return u.jsx(pE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),pE=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...l}=e,c=Rr(Hi,n),d=w.useRef(null),f=st(t,d);return ox(),u.jsxs(u.Fragment,{children:[u.jsx(sf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:u.jsx(cc,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":wx(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(u6,{titleId:c.titleId}),u.jsx(f6,{contentRef:d,descriptionId:c.descriptionId})]})]})}),vx="DialogTitle",hE=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Rr(vx,n);return u.jsx(Fe.h2,{id:o.titleId,...r,ref:t})});hE.displayName=vx;var mE="DialogDescription",gE=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Rr(mE,n);return u.jsx(Fe.p,{id:o.descriptionId,...r,ref:t})});gE.displayName=mE;var xE="DialogClose",yE=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Rr(xE,n);return u.jsx(Fe.button,{type:"button",...r,ref:t,onClick:Ie(e.onClick,()=>o.onOpenChange(!1))})});yE.displayName=xE;function wx(e){return e?"open":"closed"}var vE="DialogTitleWarning",[tG,wE]=G4(vE,{contentName:Hi,titleName:vx,docsSlug:"dialog"}),u6=({titleId:e})=>{const t=wE(vE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},d6="DialogDescriptionWarning",f6=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wE(d6).contentName}}.`;return w.useEffect(()=>{var i;const o=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},p6=sE,h6=aE,m6=uE,bE=dE,g6=fE,x6=hE,SE=gE,y6=yE,v6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],w6=v6.reduce((e,t)=>{const n=nf(`Primitive.${t}`),r=w.forwardRef((o,i)=>{const{asChild:l,...c}=o,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),b6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),S6="VisuallyHidden",kE=w.forwardRef((e,t)=>u.jsx(w6.span,{...e,ref:t,style:{...b6,...e.style}}));kE.displayName=S6;var k6=kE;function fn({...e}){return u.jsx(p6,{"data-slot":"dialog",...e})}function pm({...e}){return u.jsx(h6,{"data-slot":"dialog-trigger",...e})}function C6({...e}){return u.jsx(m6,{"data-slot":"dialog-portal",...e})}const CE=w.forwardRef(({className:e,...t},n)=>u.jsx(bE,{ref:n,"data-slot":"dialog-overlay",className:Ye("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));CE.displayName=bE.displayName;function pn({className:e,children:t,...n}){return u.jsxs(C6,{"data-slot":"dialog-portal",children:[u.jsx(CE,{}),u.jsxs(g6,{"data-slot":"dialog-content",className:Ye("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg max-h-[85vh] overflow-y-auto",e),...n,children:[u.jsx(k6,{asChild:!0,children:u.jsx(SE,{children:"Dialog content"})}),t,u.jsxs(y6,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(TI,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function hn({className:e,...t}){return u.jsx("div",{"data-slot":"dialog-header",className:Ye("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Mr({className:e,...t}){return u.jsx("div",{"data-slot":"dialog-footer",className:Ye("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function mn({className:e,...t}){return u.jsx(x6,{"data-slot":"dialog-title",className:Ye("text-lg leading-none font-semibold",e),...t})}function ri({className:e,...t}){return u.jsx(SE,{"data-slot":"dialog-description",className:Ye("text-muted-foreground text-sm",e),...t})}function NE({className:e,...t}){return u.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:u.jsx("table",{"data-slot":"table",className:Ye("w-full caption-bottom text-sm",e),...t})})}function EE({className:e,...t}){return u.jsx("thead",{"data-slot":"table-header",className:Ye("[&_tr]:border-b",e),...t})}function jE({className:e,...t}){return u.jsx("tbody",{"data-slot":"table-body",className:Ye("[&_tr:last-child]:border-0",e),...t})}function Bs({className:e,...t}){return u.jsx("tr",{"data-slot":"table-row",className:Ye("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Ea({className:e,...t}){return u.jsx("th",{"data-slot":"table-head",className:Ye("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Ai({className:e,...t}){return u.jsx("td",{"data-slot":"table-cell",className:Ye("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}const N6=vf("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function E6({className:e,variant:t,...n}){return u.jsx("div",{"data-slot":"alert",role:"alert",className:Ye(N6({variant:t}),e),...n})}function j6({className:e,...t}){return u.jsx("div",{"data-slot":"alert-description",className:Ye("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function _6({open:e,onOpenChange:t,colorSetName:n,attributes:r,initialData:o,onSave:i}){const[l,c]=w.useState("visual"),[d,f]=w.useState([]),[m,p]=w.useState([]),[g,x]=w.useState(""),[b,v]=w.useState(null),[S,k]=w.useState(1),[E,N]=w.useState(10),_=r.length>0;w.useEffect(()=>{o&&Array.isArray(o)?(_?f(o):p(o),x(JSON.stringify(o,null,2))):(f([]),p([]),x("[]")),k(1)},[o,_]);const T=_?d.length:m.length,P=Math.max(1,Math.ceil(T/E)),M=w.useMemo(()=>{const V=(S-1)*E;return d.slice(V,V+E)},[d,S,E]),z=w.useMemo(()=>{const V=(S-1)*E;return m.slice(V,V+E)},[m,S,E]),Y=V=>(S-1)*E+V,L=V=>{N(V),k(1)};w.useEffect(()=>{l==="visual"&&x(JSON.stringify(_?d:m,null,2))},[d,m,l,_]);const B=()=>{const V=[...m,""];p(V),k(Math.ceil(V.length/E))},q=V=>{const J=[...m];J.splice(V,1),p(J);const Z=Math.max(1,Math.ceil(J.length/E));S>Z&&k(Z)},U=(V,J)=>{const Z=[...m];try{J.startsWith("[")&&J.endsWith("]")||J.startsWith("{")&&J.endsWith("}")?Z[V]=JSON.parse(J):!isNaN(Number(J))&&J.trim()!==""?Z[V]=Number(J):J.toLowerCase()==="true"?Z[V]=!0:J.toLowerCase()==="false"?Z[V]=!1:Z[V]=J}catch{Z[V]=J}p(Z)},A=V=>typeof V=="object"?JSON.stringify(V):String(V),F=()=>{const V={};r.forEach(Z=>{Z.type==="INT"||Z.type==="REAL"?V[Z.name]=0:Z.type==="BOOL"?V[Z.name]=!1:V[Z.name]=""});const J=[...d,V];f(J),k(Math.ceil(J.length/E))},$=V=>{const J=[...d];J.splice(V,1),f(J);const Z=Math.max(1,Math.ceil(J.length/E));S>Z&&k(Z)},G=(V,J,Z)=>{const K=[...d];K[V]={...K[V],[J]:Z},f(K)},D=(V,J)=>{try{if(J==="INT"){const Z=Number.parseInt(V,10);return isNaN(Z)?0:Z}else if(J==="REAL"){const Z=Number.parseFloat(V);return isNaN(Z)?0:Z}else if(J==="BOOL")return V.toLowerCase()==="true";return V}catch{return J==="INT"||J==="REAL"?0:J==="BOOL"?!1:V}},W=V=>{x(V),v(null);try{const J=JSON.parse(V);Array.isArray(J)||v("JSON must be an array")}catch{v("Invalid JSON format")}},R=V=>{if(V==="json"&&l==="visual")x(JSON.stringify(_?d:m,null,2));else if(V==="visual"&&l==="json")try{const J=JSON.parse(g);Array.isArray(J)?(_?f(J):p(J),v(null)):v("JSON must be an array")}catch{v("Invalid JSON format")}c(V)},H=()=>{if(l==="json")try{const V=JSON.parse(g);Array.isArray(V)?(i(V),t(!1)):v("JSON must be an array")}catch{v("Invalid JSON format")}else i(_?d:m),t(!1)},X=V=>{var K;const J=(K=V.target.files)==null?void 0:K[0];if(!J)return;const Z=new FileReader;Z.onload=te=>{var ie;const Q=(ie=te.target)==null?void 0:ie.result;try{const ue=JSON.parse(Q);Array.isArray(ue)?(_?f(ue):p(ue),x(JSON.stringify(ue,null,2)),c("visual"),v(null)):v("Uploaded file must contain an array")}catch{try{const ue=Q.split(`
`),fe=ue[0].split(",").map(we=>we.trim()),pe=[];for(let we=1;we<ue.length;we++){if(!ue[we].trim())continue;const De=ue[we].split(",").map(it=>it.trim()),Oe={};fe.forEach((it,Ze)=>{const Qe=r.find(Ce=>Ce.name===it);Qe&&Ze<De.length&&(Oe[it]=D(De[Ze],Qe.type))}),pe.push(Oe)}f(pe),x(JSON.stringify(pe,null,2)),c("visual"),v(null)}catch{v("Failed to parse file as JSON or CSV")}}},Z.readAsText(J)},I=()=>{const J=`data:text/csv;charset=utf-8,${r.map(te=>te.name).join(",")}
`,Z=encodeURI(J),K=document.createElement("a");K.setAttribute("href",Z),K.setAttribute("download",`${n}_template.csv`),document.body.appendChild(K),K.click(),document.body.removeChild(K)};return u.jsx(fn,{open:e,onOpenChange:t,children:u.jsxs(pn,{className:"max-w-3xl",children:[u.jsx(hn,{children:u.jsxs(mn,{children:["Edit Initial Marking for ",n]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"space-x-2",children:[u.jsxs(ye,{variant:"outline",size:"sm",onClick:_?F:B,children:[u.jsx(Tm,{className:"h-4 w-4 mr-2"}),_?"Add Record":"Add Entry"]}),_&&u.jsxs(ye,{variant:"outline",size:"sm",onClick:I,children:[u.jsx(dS,{className:"h-4 w-4 mr-2"}),"CSV Template"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Je,{type:"file",id:"file-upload",className:"hidden",accept:".json,.csv",onChange:X}),u.jsx(_e,{htmlFor:"file-upload",className:"cursor-pointer",children:u.jsx(ye,{variant:"outline",size:"sm",asChild:!0,children:u.jsxs("span",{children:[u.jsx(Pg,{className:"h-4 w-4 mr-2"}),"Import"]})})})]})]}),b&&u.jsx(E6,{variant:"destructive",children:u.jsx(j6,{children:b})}),u.jsxs(Zo,{value:l,onValueChange:R,children:[u.jsxs(ei,{className:"grid w-full grid-cols-2",children:[u.jsx(Rn,{value:"visual",children:"Visual Editor"}),u.jsx(Rn,{value:"json",children:"JSON Editor"})]}),u.jsxs(pr,{value:"visual",className:"space-y-4",children:[_?u.jsxs(NE,{children:[u.jsx(EE,{children:u.jsxs(Bs,{children:[r.map(V=>u.jsx(Ea,{children:V.name},V.name)),u.jsx(Ea,{className:"w-[80px]",children:"Actions"})]})}),u.jsx(jE,{children:M.length===0?u.jsx(Bs,{children:u.jsx(Ai,{colSpan:r.length+1,className:"text-center",children:'No records. Click "Add Record" to create one.'})}):M.map((V,J)=>{const Z=Y(J);return u.jsxs(Bs,{children:[r.map(K=>{var te;return u.jsx(Ai,{children:u.jsx(Je,{value:((te=V[K.name])==null?void 0:te.toString())??"",onChange:Q=>G(Z,K.name,D(Q.target.value,K.type))})},`${Z}-${K.name}`)}),u.jsx(Ai,{children:u.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>$(Z),className:"h-8 w-8",children:u.jsx(Jn,{className:"h-4 w-4"})})})]},Z)})})]}):u.jsx("div",{className:"space-y-2",children:z.length===0?u.jsx("div",{className:"text-center text-muted-foreground py-4",children:'No entries. Click "Add Entry" to create one.'}):z.map((V,J)=>{const Z=Y(J);return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-muted-foreground w-8 text-right",children:[Z+1,"."]}),u.jsx(Je,{className:"flex-1 font-mono",value:A(V),onChange:K=>U(Z,K.target.value),placeholder:'e.g., [1, "Modellin"] or 42 or "text"'}),u.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>q(Z),className:"h-8 w-8",children:u.jsx(Jn,{className:"h-4 w-4"})})]},Z)})}),T>10&&u.jsxs("div",{className:"flex items-center justify-between pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsxs("span",{children:[T===0?0:(S-1)*E+1,"",Math.min(S*E,T)," of ",T]}),u.jsxs(rn,{value:String(E),onValueChange:V=>L(Number(V)),children:[u.jsx(sn,{className:"h-7 w-[70px] text-xs",children:u.jsx(on,{})}),u.jsx(ln,{children:[10,25,50,100].map(V=>u.jsx(yt,{value:String(V),children:V},V))})]}),u.jsx("span",{className:"text-xs",children:"per page"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(1),disabled:S<=1,children:u.jsx(aS,{className:"h-3 w-3"})}),u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(S-1),disabled:S<=1,children:u.jsx(lS,{className:"h-3 w-3"})}),u.jsxs("span",{className:"text-sm px-2",children:[S," / ",P]}),u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(S+1),disabled:S>=P,children:u.jsx(ji,{className:"h-3 w-3"})}),u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(P),disabled:S>=P,children:u.jsx(cS,{className:"h-3 w-3"})})]})]})]}),u.jsx(pr,{value:"json",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"json-editor",children:"JSON Editor"}),u.jsx("textarea",{id:"json-editor",className:"w-full h-[300px] font-mono text-sm p-2 border rounded-md",value:g,onChange:V=>W(V.target.value)})]})})]})]}),u.jsxs(Mr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ye,{onClick:H,children:"Save"})]})]})})}function _E(e,t,n,r,o){return e+t*1e3+n*60*1e3+r*60*60*1e3+o*24*60*60*1e3}function Xa(e){let t=e;const n=Math.floor(t/(24*60*60*1e3));t%=24*60*60*1e3;const r=Math.floor(t/(60*60*1e3));t%=60*60*1e3;const o=Math.floor(t/(60*1e3));t%=60*1e3;const i=Math.floor(t/1e3);return{ms:t%1e3,s:i,m:o,h:r,d:n}}function Ub(e){const{d:t,h:n,m:r,s:o,ms:i}=Xa(e),l=[];return t>0&&l.push(`${t}d`),n>0&&l.push(`${n}h`),r>0&&l.push(`${r}m`),o>0&&l.push(`${o}s`),i>0&&l.push(`${i}ms`),l.length>0?l.join(" "):"0"}function Id(e,t){return new Date(t.getTime()+e).toISOString().slice(0,16)}function PE(e,t){return new Date(e).getTime()-t.getTime()}function Wb(e,t){const n=t.toUpperCase();if(n==="INT"){const r=parseInt(e,10);return isNaN(r)?0:r}else if(n==="REAL"){const r=parseFloat(e);return isNaN(r)?0:r}else if(n==="BOOL")return e.toLowerCase()==="true";return e}function P6(e){const t={};return e.forEach(n=>{const r=n.type.toUpperCase();r==="INT"||r==="REAL"?t[n.name]=0:r==="BOOL"?t[n.name]=!1:t[n.name]=""}),t}function A6({token:e,index:t,colorSetType:n,epoch:r,onChange:o,onRemove:i}){const[l,c]=w.useState("relative"),d=Xa(e.timestamp),[f,m]=w.useState(d),[p,g]=w.useState(r?Id(e.timestamp,r):"");w.useEffect(()=>{const k=Xa(e.timestamp);m(k),r&&g(Id(e.timestamp,r))},[e.timestamp,r]);const x=k=>{o(t,{...e,value:k})},b=(k,E)=>{const N={...f,[k]:E};m(N);const _=_E(N.ms,N.s,N.m,N.h,N.d);o(t,{...e,timestamp:_})},v=k=>{if(g(k),r){const E=PE(k,r);o(t,{...e,timestamp:E})}},S=()=>{switch(n){case"int":return u.jsx(Je,{type:"number",value:e.value,onChange:k=>x(parseInt(k.target.value,10)||0),className:"w-24"});case"bool":return u.jsxs("select",{value:String(e.value),onChange:k=>x(k.target.value==="true"),className:"h-9 rounded-md border border-input bg-background px-3 py-1 text-sm",children:[u.jsx("option",{value:"true",children:"true"}),u.jsx("option",{value:"false",children:"false"})]});case"string":return u.jsx(Je,{type:"text",value:e.value,onChange:k=>x(k.target.value),className:"w-32"});case"unit":return u.jsx("span",{className:"px-2 py-1 text-muted-foreground",children:"()"});default:return u.jsx(Je,{type:"text",value:JSON.stringify(e.value),onChange:k=>{try{x(JSON.parse(k.target.value))}catch{x(k.target.value)}},className:"w-32"})}};return u.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md bg-muted/30",children:[u.jsxs("span",{className:"text-sm text-muted-foreground w-6",children:["#",t+1]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(_e,{className:"text-xs",children:"Value:"}),S()]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsx(_e,{className:"text-xs",children:"Time:"}),u.jsxs(Zo,{value:l,onValueChange:k=>c(k),className:"flex-1",children:[u.jsxs(ei,{className:"h-7",children:[u.jsx(Rn,{value:"relative",className:"text-xs px-2 py-1",children:"Relative"}),u.jsx(Rn,{value:"absolute",className:"text-xs px-2 py-1",disabled:!r,children:"Absolute"})]}),u.jsx(pr,{value:"relative",className:"mt-1",children:u.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[["d","h","m","s"].map(k=>u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(Je,{type:"number",min:"0",max:k==="h"?23:k==="m"||k==="s"?59:void 0,value:f[k],onChange:E=>b(k,parseInt(E.target.value,10)||0),className:"w-12 h-7 text-xs"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:k})]},k)),u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(Je,{type:"number",min:"0",max:"999",value:f.ms,onChange:k=>b("ms",parseInt(k.target.value,10)||0),className:"w-14 h-7 text-xs"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})]})}),u.jsx(pr,{value:"absolute",className:"mt-1",children:r?u.jsx(Je,{type:"datetime-local",value:p,onChange:k=>v(k.target.value),className:"h-7 text-xs"}):u.jsx("p",{className:"text-xs text-muted-foreground",children:"Set simulation epoch in Settings to use absolute time"})})]})]}),u.jsx(ye,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>i(t),children:u.jsx(Jn,{className:"h-3 w-3"})})]})}const I6=[10,25,50,100];function T6({currentPage:e,totalPages:t,pageSize:n,totalItems:r,onPageChange:o,onPageSizeChange:i}){const l=r===0?0:(e-1)*n+1,c=Math.min(e*n,r);return u.jsxs("div",{className:"flex items-center justify-between pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsxs("span",{children:[l,"",c," of ",r]}),u.jsxs(rn,{value:String(n),onValueChange:d=>i(Number(d)),children:[u.jsx(sn,{className:"h-7 w-[70px] text-xs",children:u.jsx(on,{})}),u.jsx(ln,{children:I6.map(d=>u.jsx(yt,{value:String(d),children:d},d))})]}),u.jsx("span",{className:"text-xs",children:"per page"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(1),disabled:e<=1,children:u.jsx(aS,{className:"h-3 w-3"})}),u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(e-1),disabled:e<=1,children:u.jsx(lS,{className:"h-3 w-3"})}),u.jsxs("span",{className:"text-sm px-2",children:[e," / ",t||1]}),u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(e+1),disabled:e>=t,children:u.jsx(ji,{className:"h-3 w-3"})}),u.jsx(ye,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>o(t),disabled:e>=t,children:u.jsx(cS,{className:"h-3 w-3"})})]})]})}function R6({timestamp:e,epoch:t,onChange:n}){const[r,o]=w.useState(!1),[i,l]=w.useState("relative"),[c,d]=w.useState(Xa(e)),[f,m]=w.useState(t?Id(e,t):"");w.useEffect(()=>{d(Xa(e)),t&&m(Id(e,t))},[e,t]);const p=(v,S)=>{const k={...c,[v]:S};d(k),n(_E(k.ms,k.s,k.m,k.h,k.d))},g=v=>{m(v),t&&n(PE(v,t))},x=i==="absolute"&&t?new Date(t.getTime()+e).toLocaleString():Ub(e),b=i==="absolute"?Ub(e):t?new Date(t.getTime()+e).toLocaleString():`${e}ms`;return r?u.jsxs("div",{className:"space-y-1",onBlur:v=>{v.currentTarget.contains(v.relatedTarget)||o(!1)},children:[u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("button",{className:`text-[10px] px-1.5 py-0.5 rounded ${i==="relative"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,onClick:()=>l("relative"),children:"Rel"}),u.jsx("button",{className:`text-[10px] px-1.5 py-0.5 rounded ${i==="absolute"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"} ${t?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>{t&&l("absolute")},disabled:!t,children:"Abs"})]}),i==="absolute"&&t?u.jsx(Je,{type:"datetime-local",value:f,onChange:v=>g(v.target.value),className:"h-7 text-xs",autoFocus:!0}):u.jsx("div",{className:"flex items-center gap-0.5 flex-wrap",children:["d","h","m","s"].map(v=>u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(Je,{type:"number",min:"0",max:v==="h"?23:v==="m"||v==="s"?59:void 0,value:c[v],onChange:S=>p(v,parseInt(S.target.value,10)||0),className:"w-10 h-6 text-xs p-1",autoFocus:v==="d"}),u.jsx("span",{className:"text-[10px] text-muted-foreground",children:v})]},v))})]}):u.jsx("button",{className:"text-left text-sm font-mono hover:bg-muted/50 rounded px-1 py-0.5 w-full",onClick:()=>o(!0),title:b,children:x})}function M6({open:e,onOpenChange:t,colorSetName:n,colorSetType:r,recordAttributes:o,initialData:i,onSave:l}){const[c,d]=w.useState(i),[f,m]=w.useState(1),[p,g]=w.useState(10),[x,b]=w.useState(""),[v,S]=w.useState("visual"),[k,E]=w.useState(null),N=me(X=>X.simulationEpoch),_=N?new Date(N):null,T=o&&o.length>0;w.useEffect(()=>{d(i),m(1)},[i,e]),w.useEffect(()=>{v==="visual"&&b(JSON.stringify(c,null,2))},[c,v]);const P=Math.max(1,Math.ceil(c.length/p)),M=w.useMemo(()=>{const X=(f-1)*p;return c.slice(X,X+p)},[c,f,p]),z=X=>(f-1)*p+X,Y=()=>{let X;T?X=P6(o):X=r==="int"?0:r==="bool"?!0:r==="string"?"":r==="unit"?null:"";const I=[...c,{value:X,timestamp:0}];d(I),m(Math.ceil(I.length/p))},L=(X,I)=>{const V=[...c];V[X]=I,d(V)},B=X=>{const I=c.filter((J,Z)=>Z!==X);d(I);const V=Math.max(1,Math.ceil(I.length/p));f>V&&m(V)},q=(X,I,V,J)=>{const Z=[...c],K=Z[X].value;Z[X]={...Z[X],value:{...K,[I]:Wb(J,V)}},d(Z)},U=(X,I)=>{const V=[...c];V[X]={...V[X],timestamp:I},d(V)},A=X=>{g(X),m(1)},F=()=>{if(!T)return;const I=`data:text/csv;charset=utf-8,${[...o.map(Z=>Z.name),"Timestamp"].join(",")}
`,V=encodeURI(I),J=document.createElement("a");J.setAttribute("href",V),J.setAttribute("download",`${n}_timed_template.csv`),document.body.appendChild(J),J.click(),document.body.removeChild(J)},$=X=>{var J;const I=(J=X.target.files)==null?void 0:J[0];if(!I)return;const V=new FileReader;V.onload=Z=>{var te;const K=(te=Z.target)==null?void 0:te.result;try{const Q=JSON.parse(K);Array.isArray(Q)?(d(Q),m(1),S("visual"),E(null)):E("Uploaded file must contain an array")}catch{if(!T){E("Non-record types only support JSON import");return}try{const Q=K.split(`
`),ie=Q[0].split(",").map(we=>we.trim()),ue=ie.findIndex(we=>we.toLowerCase()==="timestamp"),fe=ie.filter((we,De)=>De!==ue),pe=[];for(let we=1;we<Q.length;we++){if(!Q[we].trim())continue;const De=Q[we].split(",").map(Ze=>Ze.trim()),Oe={};fe.forEach(Ze=>{const Qe=ie.indexOf(Ze),Ce=o.find(Ve=>Ve.name===Ze);Ce&&Qe>=0&&Qe<De.length&&(Oe[Ze]=Wb(De[Qe],Ce.type))});const it=ue>=0&&ue<De.length&&parseInt(De[ue],10)||0;pe.push({value:Oe,timestamp:it})}d(pe),m(1),S("visual"),E(null)}catch{E("Failed to parse file as JSON or CSV")}}},V.readAsText(I),X.target.value=""},G=X=>{if(X==="json"&&v==="visual")b(JSON.stringify(c,null,2));else if(X==="visual"&&v==="json")try{const I=JSON.parse(x);Array.isArray(I)?(d(I),E(null)):E("JSON must be an array")}catch{E("Invalid JSON format")}S(X)},D=()=>{if(v==="json")try{const X=JSON.parse(x);Array.isArray(X)?(l(X),t(!1)):E("JSON must be an array")}catch{E("Invalid JSON format")}else l(c),t(!1)},W=()=>c.length>10?u.jsx(T6,{currentPage:f,totalPages:P,pageSize:p,totalItems:c.length,onPageChange:m,onPageSizeChange:A}):null,R=()=>u.jsxs("div",{children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(NE,{children:[u.jsx(EE,{children:u.jsxs(Bs,{children:[o.map(X=>u.jsx(Ea,{children:X.name},X.name)),u.jsx(Ea,{className:"min-w-[160px]",children:"Timestamp"}),u.jsx(Ea,{className:"w-[50px]"})]})}),u.jsx(jE,{children:M.length===0?u.jsx(Bs,{children:u.jsx(Ai,{colSpan:o.length+2,className:"text-center text-muted-foreground py-8",children:'No tokens. Click "Add Token" to add one.'})}):M.map((X,I)=>{const V=z(I),J=X.value||{};return u.jsxs(Bs,{children:[o.map(Z=>{var K;return u.jsx(Ai,{className:"p-1",children:u.jsx(Je,{value:((K=J[Z.name])==null?void 0:K.toString())??"",onChange:te=>q(V,Z.name,Z.type,te.target.value),className:"h-7 text-xs"})},Z.name)}),u.jsx(Ai,{className:"p-1",children:u.jsx(R6,{timestamp:X.timestamp,epoch:_,onChange:Z=>U(V,Z)})}),u.jsx(Ai,{className:"p-1",children:u.jsx(ye,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>B(V),children:u.jsx(Jn,{className:"h-3 w-3"})})})]},V)})})]})}),W()]}),H=()=>u.jsxs("div",{children:[u.jsx("div",{className:"space-y-2",children:M.length===0?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No tokens. Click "Add Token" to add a timed token.'}):M.map((X,I)=>{const V=z(I);return u.jsx(A6,{token:X,index:V,colorSetType:r,epoch:_,onChange:L,onRemove:B},V)})}),W()]});return u.jsx(fn,{open:e,onOpenChange:t,children:u.jsxs(pn,{className:T?"max-w-[90vw] xl:max-w-6xl":"max-w-3xl",children:[u.jsx(hn,{children:u.jsxs(mn,{children:["Edit Timed Marking for ",n]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.length," token",c.length!==1?"s":"",_&&u.jsxs("span",{className:"ml-2",children:["(Epoch: ",_.toLocaleString(),")"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[T&&u.jsxs(ye,{variant:"outline",size:"sm",onClick:F,children:[u.jsx(dS,{className:"h-4 w-4 mr-1"}),"CSV Template"]}),u.jsxs("div",{children:[u.jsx(Je,{type:"file",id:"timed-file-upload",className:"hidden",accept:".json,.csv",onChange:$}),u.jsx(_e,{htmlFor:"timed-file-upload",className:"cursor-pointer",children:u.jsx(ye,{variant:"outline",size:"sm",asChild:!0,children:u.jsxs("span",{children:[u.jsx(Pg,{className:"h-4 w-4 mr-1"}),"Import"]})})})]}),u.jsxs(ye,{variant:"outline",size:"sm",onClick:Y,children:[u.jsx(fS,{className:"h-4 w-4 mr-1"}),"Add Token"]})]})]}),u.jsxs(Zo,{value:v,onValueChange:G,children:[u.jsxs(ei,{className:"grid w-full grid-cols-2",children:[u.jsx(Rn,{value:"visual",children:"Visual Editor"}),u.jsx(Rn,{value:"json",children:"JSON Editor"})]}),u.jsx(pr,{value:"visual",className:"space-y-2",children:T?R():H()}),u.jsx(pr,{value:"json",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"timed-json-editor",children:"JSON Editor"}),u.jsx("textarea",{id:"timed-json-editor",className:"w-full h-[300px] font-mono text-sm p-2 border rounded-md",value:x,onChange:X=>{b(X.target.value),E(null);try{const I=JSON.parse(X.target.value);Array.isArray(I)||E("JSON must be an array")}catch{E("Invalid JSON format")}}}),k&&u.jsx("p",{className:"text-sm text-destructive",children:k})]})})]})]}),u.jsxs(Mr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ye,{onClick:D,children:"Save"})]})]})})}const D6=({colorSets:e})=>{var M,z,Y,L,B,q,U;const[t,n]=w.useState(!1),[r,o]=w.useState(!1),[i,l]=w.useState(null),c=me(A=>A.activePetriNetId),d=me(A=>{const F=A.activePetriNetId?A.petriNetsById[A.activePetriNetId]:null;return F==null?void 0:F.selectedElement}),f=me(A=>A.updateNodeData);if(!d||d.type!=="node"||!d.element)return u.jsx("div",{children:"No node selected"});const{id:m,data:p}=d.element;if(!("colorSet"in p))return u.jsx("div",{children:"Invalid node type"});const g=e.find(A=>A.name===p.colorSet),x=(g==null?void 0:g.type)==="basic"&&((M=g==null?void 0:g.definition)==null?void 0:M.includes("= unit;")),b=(g==null?void 0:g.timed)===!0,v=()=>{var F;if(!g)return"other";const A=((F=g.definition)==null?void 0:F.toLowerCase())||"";return A.includes("= unit")?"unit":A.includes("= int")?"int":A.includes("= bool")?"bool":A.includes("= string")?"string":"other"},S=A=>{if(!A)return[];try{const F=JSON.parse(A);if(Array.isArray(F))return F.map($=>typeof $=="object"&&$!==null&&"value"in $&&"timestamp"in $?{value:$.value,timestamp:Number($.timestamp)||0}:{value:$,timestamp:0})}catch{try{const F=JSON.parse(A);if(Array.isArray(F))return F.map($=>({value:$,timestamp:0}))}catch{}}return[]},k=A=>A.length===0?"":JSON.stringify(A.map(F=>({value:F.value,timestamp:F.timestamp}))),E=A=>{if(!A)return 0;const F=A.trim();if(/^\d+$/.test(F))return parseInt(F,10);if(F.startsWith("["))try{const $=F.match(/\(\)/g);return $?$.length:0}catch{return 0}return 0},N=A=>A<=0?"":`[${Array(A).fill("()").join(", ")}]`,_=A=>{const F=e.find($=>$.name===A);if(!F||F.type!=="record")return[];if(A==="Product")return[{name:"id",type:"INT"},{name:"name",type:"STRING"},{name:"price",type:"REAL"}];if(A==="Order")return[{name:"orderId",type:"STRING"},{name:"status",type:"STRING"},{name:"amount",type:"INT"}];try{const $=/colset\s+(\w+)\s*=\s*record\s+([^;]+);/i,G=/(\w+)\s*:\s*(\w+)/g,D=F.definition.match($);if(!D)return[];const W=D[2],R=[];let H;for(;(H=G.exec(W))!==null;)R.push({name:H[1],type:H[2].toUpperCase()});return R}catch($){return console.error("Failed to parse record definition:",$),[]}},T=A=>{if(!A)return[];try{if(A.trim().startsWith("["))return JSON.parse(A);const F=/(\d+)`\{([^}]+)\}/g,$=[];let G;for(;(G=F.exec(A))!==null;){const D=Number.parseInt(G[1],10),W=G[2],R=/(\w+)=([^,]+)(?:,|$)/g,H={};let X;for(;(X=R.exec(W))!==null;){let I=X[2].trim();const V=X[1];isNaN(Number(I))?I.toLowerCase()==="true"||I.toLowerCase()==="false"?H[V]=I.toLowerCase()==="true":((I.startsWith('"')&&I.endsWith('"')||I.startsWith("'")&&I.endsWith("'"))&&(I=I.substring(1,I.length-1)),H[V]=I):I.includes(".")?H[V]=Number.parseFloat(I):H[V]=Number.parseInt(I,10)}for(let I=0;I<D;I++)$.push({...H})}return $}catch(F){return console.error("Failed to parse initial marking:",F),[]}},P=A=>{if(!A||A.length===0)return"";try{return JSON.stringify(A)}catch(F){return console.error("Failed to format record marking:",F),""}};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(_e,{htmlFor:"label",children:"Label"}),u.jsx(Je,{id:"label",value:p.label||"",onChange:A=>{c&&f(c,m,{...p,label:A.target.value,isArcMode:p.isArcMode||!1,type:p.type||"node",colorSet:p.colorSet||"INT",initialMarking:p.initialMarking||""})}})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(_e,{htmlFor:"colorSet",children:"Color Set"}),u.jsxs(rn,{value:p.colorSet||"INT",onValueChange:A=>{c&&f(c,m,{...p,label:p.label||"",colorSet:A,isArcMode:p.isArcMode||!1,type:p.type||"node",initialMarking:p.initialMarking||""})},children:[u.jsx(sn,{children:u.jsx(on,{placeholder:"Select color set"})}),u.jsx(ln,{children:e.map(A=>u.jsx(yt,{value:A.name,children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:A.color||"#3b82f6"}}),A.name]})},A.id))})]})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(_e,{htmlFor:"initialMarking",children:"Initial Marking"}),x&&!b?u.jsx(Je,{id:"initialMarking",type:"number",min:"0",value:E(p.initialMarking||""),onChange:A=>{if(c){const F=parseInt(A.target.value,10)||0;f(c,m,{...p,label:p.label||"",initialMarking:N(F),isArcMode:p.isArcMode||!1,type:p.type||"defaultType",colorSet:p.colorSet||"defaultColorSet"})}}}):b?u.jsx("div",{className:"flex flex-col gap-2",children:u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsxs("div",{className:"flex-1 text-sm text-muted-foreground border rounded-md px-3 py-2 bg-muted/30",children:[S(p.initialMarking||"").length," timed token(s)"]}),u.jsx(ye,{variant:"outline",onClick:()=>{l({id:m,data:{...p}}),o(!0)},children:"Edit"})]})}):u.jsx("div",{className:"flex flex-col gap-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Je,{id:"initialMarking",value:p.initialMarking||"",placeholder:"e.g., [1, 2, 3]",onChange:A=>{c&&f(c,m,{...p,label:p.label||"",initialMarking:A.target.value,isArcMode:p.isArcMode||!1,type:p.type||"defaultType",colorSet:p.colorSet||"defaultColorSet"})}}),u.jsx(ye,{variant:"outline",onClick:()=>{l({id:m,data:{...p}}),n(!0)},children:"Edit"})]})})]}),i&&u.jsxs(u.Fragment,{children:[u.jsx(_6,{open:t,onOpenChange:n,colorSetName:((z=i.data)==null?void 0:z.colorSet)||"",attributes:_(((Y=i.data)==null?void 0:Y.colorSet)||""),initialData:T(((L=i.data)==null?void 0:L.initialMarking)||""),onSave:A=>{const F=P(A);c&&i&&f(c,i.id,{label:i.data.label||"",isArcMode:i.data.isArcMode||!1,type:i.data.type||"place",colorSet:i.data.colorSet||"INT",initialMarking:F,marking:A})}}),u.jsx(M6,{open:r,onOpenChange:o,colorSetName:((B=i.data)==null?void 0:B.colorSet)||"",colorSetType:v(),recordAttributes:_(((q=i.data)==null?void 0:q.colorSet)||""),initialData:S(((U=i.data)==null?void 0:U.initialMarking)||""),onSave:A=>{const F=k(A);c&&i&&f(c,i.id,{label:i.data.label||"",isArcMode:i.data.isArcMode||!1,type:i.data.type||"place",colorSet:i.data.colorSet||"INT",initialMarking:F,marking:A})}})]})]})},jr=w.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:Ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));jr.displayName="Textarea";function O6({value:e,onChange:t}){const[n,r]=w.useState(""),[o,i]=w.useState(""),[l,c]=w.useState(""),[d,f]=w.useState(e||"");w.useEffect(()=>{if(!e){r(""),i(""),c(""),f(`input ();
output ();
action
();`);return}f(e);try{const S=e.match(/input\s*$$(.*?)$$;/s),k=e.match(/output\s*$$(.*?)$$;/s),E=e.match(/action\s*(.*?)(?:$$$$;|$$$$$)/s);r(S?S[1]:""),i(k?k[1]:""),c(E?E[1].trim():"")}catch(S){console.error("Error parsing code segment:",S)}},[e]);const m=()=>{const S=`input (${n});
output (${o});
action
${l}();`;f(S),t(S)},p=S=>{r(S.target.value)},g=S=>{i(S.target.value)},x=S=>{c(S.target.value)},b=S=>{f(S.target.value),t(S.target.value)},v=()=>{m()};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs(Zo,{defaultValue:"structured",className:"w-full",children:[u.jsxs(ei,{className:"grid w-full grid-cols-2",children:[u.jsx(Rn,{value:"structured",children:"Structured Editor"}),u.jsx(Rn,{value:"raw",children:"Raw Code"})]}),u.jsxs(pr,{value:"structured",className:"space-y-4 pt-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"input-pattern",children:"Input Pattern"}),u.jsx(jr,{id:"input-pattern",placeholder:"n, b",className:"font-mono h-[60px]",value:n,onChange:p,onBlur:v}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"List the CPN variables that can be used in the code action, separated by commas."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"output-pattern",children:"Output Pattern"}),u.jsx(jr,{id:"output-pattern",placeholder:"result",className:"font-mono h-[60px]",value:o,onChange:g,onBlur:v}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"List the CPN variables to be changed as a result of the execution, separated by commas."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"action-code",children:"Action Code"}),u.jsx(jr,{id:"action-code",placeholder:"let val result = n + 1 in result end",className:"font-mono h-[120px]",value:l,onChange:x,onBlur:v}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"ML code to execute when the transition fires. Can use variables from input pattern and must return a value matching the output pattern."})]})]}),u.jsx(pr,{value:"raw",className:"pt-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"raw-code",children:"Code Segment"}),u.jsx(jr,{id:"raw-code",placeholder:"input (n, b);\\noutput (result);\\naction\\nlet val result = n + 1 in result end();",className:"font-mono h-[240px]",value:d,onChange:b})]})})]}),u.jsx("div",{className:"pt-2",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:"Code segments may use CPN variables and can bind variables on output arcs. The action section is mandatory, while input and output are optional."})})]})}function L6(e){let t=Math.abs(e);const n=Math.floor(t/(24*60*60*1e3));t%=24*60*60*1e3;const r=Math.floor(t/(60*60*1e3));t%=60*60*1e3;const o=Math.floor(t/(60*1e3));t%=60*1e3;const i=Math.floor(t/1e3);return{ms:t%1e3,s:i,m:o,h:r,d:n}}function ra(e){const t=[];return e.d>0&&t.push(`delay_days(${e.d})`),e.h>0&&t.push(`delay_hours(${e.h})`),e.m>0&&t.push(`delay_min(${e.m})`),e.s>0&&t.push(`delay_sec(${e.s})`),e.ms>0&&t.push(`delay_ms(${e.ms})`),t.length>0?t.join(" + "):""}function z6(e){if(!e||e.trim()==="")return{ms:0,s:0,m:0,h:0,d:0};const t=/delay_(days|hours|min|sec|ms)\s*\(\s*(\d+)\s*\)/g;let n=0,r=!1,o;if(e.replace(t,"").replace(/\+/g,"").trim()!=="")return null;for(t.lastIndex=0;(o=t.exec(e))!==null;){r=!0;const l=o[1],c=parseInt(o[2],10);switch(l){case"days":n+=c*24*60*60*1e3;break;case"hours":n+=c*60*60*1e3;break;case"min":n+=c*60*1e3;break;case"sec":n+=c*1e3;break;case"ms":n+=c;break}}return!r&&e.trim()!==""?null:L6(n)}const $6=({priorities:e})=>{const t=me(k=>k.activePetriNetId),n=me(k=>{const E=k.activePetriNetId?k.petriNetsById[k.activePetriNetId]:null;return E==null?void 0:E.selectedElement}),r=me(k=>k.updateNodeData),[o,i]=w.useState("relative"),[l,c]=w.useState({ms:0,s:0,m:0,h:0,d:0}),[d,f]=w.useState(""),[m,p]=w.useState(null),g=n&&n.type==="node"&&n.element,x=g?n.element.id:null,b=g?n.element.data:null;if(w.useEffect(()=>{if(x&&x!==m&&b){p(x);const k=b.time||"",E=z6(k);E!==null?(i("relative"),c(E),f(k)):(i("expression"),f(k),c({ms:0,s:0,m:0,h:0,d:0}))}},[x,m,b]),!g||!b)return u.jsx("div",{children:"No node selected"});const v=x,S=b;return"guard"in S?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(_e,{htmlFor:"label",children:"Label"}),u.jsx(Je,{id:"label",value:S.label??"",onChange:k=>{t&&r(t,v,{...S,label:k.target.value,isArcMode:S.isArcMode||!1,type:S.type||"defaultType",colorSet:S.colorSet||"defaultColorSet",initialMarking:S.initialMarking||"defaultMarking"})}})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(_e,{htmlFor:"guard",children:"Guard"}),u.jsx(Je,{id:"guard",value:S.guard||"",onChange:k=>{t&&r(t,v,{...S,label:S.label||"",guard:k.target.value,isArcMode:S.isArcMode||!1,type:S.type||"defaultType",colorSet:S.colorSet||"defaultColorSet",initialMarking:S.initialMarking||"defaultMarking"})}})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(_e,{children:"Time"}),u.jsxs(Zo,{value:o,onValueChange:k=>i(k),className:"w-full",children:[u.jsxs(ei,{className:"grid w-full grid-cols-2",children:[u.jsx(Rn,{value:"relative",children:"Relative"}),u.jsx(Rn,{value:"expression",children:"Expression"})]}),u.jsx(pr,{value:"relative",className:"mt-2",children:u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Je,{type:"number",min:"0",value:l.d,onChange:k=>{const E={...l,d:parseInt(k.target.value,10)||0};c(E);const N=ra(E);f(N),t&&r(t,v,{...S,label:S.label||"",time:N,isArcMode:S.isArcMode||!1,type:S.type||"defaultType",colorSet:S.colorSet,initialMarking:S.initialMarking,priority:S.priority||"NONE",codeSegment:S.codeSegment||"",guard:S.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"d"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Je,{type:"number",min:"0",max:"23",value:l.h,onChange:k=>{const E={...l,h:parseInt(k.target.value,10)||0};c(E);const N=ra(E);f(N),t&&r(t,v,{...S,label:S.label||"",time:N,isArcMode:S.isArcMode||!1,type:S.type||"defaultType",colorSet:S.colorSet,initialMarking:S.initialMarking,priority:S.priority||"NONE",codeSegment:S.codeSegment||"",guard:S.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"h"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Je,{type:"number",min:"0",max:"59",value:l.m,onChange:k=>{const E={...l,m:parseInt(k.target.value,10)||0};c(E);const N=ra(E);f(N),t&&r(t,v,{...S,label:S.label||"",time:N,isArcMode:S.isArcMode||!1,type:S.type||"defaultType",colorSet:S.colorSet,initialMarking:S.initialMarking,priority:S.priority||"NONE",codeSegment:S.codeSegment||"",guard:S.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"m"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Je,{type:"number",min:"0",max:"59",value:l.s,onChange:k=>{const E={...l,s:parseInt(k.target.value,10)||0};c(E);const N=ra(E);f(N),t&&r(t,v,{...S,label:S.label||"",time:N,isArcMode:S.isArcMode||!1,type:S.type||"defaultType",colorSet:S.colorSet,initialMarking:S.initialMarking,priority:S.priority||"NONE",codeSegment:S.codeSegment||"",guard:S.guard||""})},className:"w-14 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"s"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Je,{type:"number",min:"0",max:"999",value:l.ms,onChange:k=>{const E={...l,ms:parseInt(k.target.value,10)||0};c(E);const N=ra(E);f(N),t&&r(t,v,{...S,label:S.label||"",time:N,isArcMode:S.isArcMode||!1,type:S.type||"defaultType",colorSet:S.colorSet,initialMarking:S.initialMarking,priority:S.priority||"NONE",codeSegment:S.codeSegment||"",guard:S.guard||""})},className:"w-16 h-8 text-sm"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"ms"})]})]})}),u.jsxs(pr,{value:"expression",className:"mt-2",children:[u.jsx(jr,{placeholder:"Rhai expression, e.g.: delay_hours(2) + delay_min(30)",value:d,onChange:k=>{const E=k.target.value;f(E),t&&r(t,v,{...S,label:S.label||"",time:E,isArcMode:S.isArcMode||!1,type:S.type||"defaultType",colorSet:S.colorSet,initialMarking:S.initialMarking,priority:S.priority||"NONE",codeSegment:S.codeSegment||"",guard:S.guard||""})},className:"min-h-[80px] font-mono text-sm"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Available: delay_ms(), delay_sec(), delay_min(), delay_hours(), delay_days()"})]})]})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(_e,{htmlFor:"priority",children:"Priority"}),u.jsxs(rn,{value:S.priority||"NONE",onValueChange:k=>{t&&r(t,v,{...S,label:S.label||"",priority:k,isArcMode:S.isArcMode||!1,type:S.type||"defaultType",colorSet:S.colorSet,initialMarking:S.initialMarking,guard:S.guard||"",time:S.time||"",codeSegment:S.codeSegment||""})},children:[u.jsx(sn,{id:"priority",children:u.jsx(on,{placeholder:"Select priority"})}),u.jsxs(ln,{children:[u.jsx(yt,{value:"NONE",children:"None"}),e.map(k=>u.jsxs(yt,{value:k.name,children:[k.name," (",k.level,")"]},k.id))]})]})]}),u.jsx(lc,{}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(_e,{htmlFor:"codeSegment",children:"Code Segment"}),u.jsx(O6,{value:S.codeSegment||"",onChange:k=>{t&&r(t,v,{...S,label:S.label||"",codeSegment:k,isArcMode:S.isArcMode||!1,type:S.type||"defaultType",colorSet:S.colorSet,initialMarking:S.initialMarking,guard:S.guard||"",time:S.time||"",priority:S.priority||"NONE"})}})]})]}):u.jsx("div",{children:"Invalid node type"})},F6=()=>{const e=me(i=>i.activePetriNetId),t=me(i=>{const l=i.activePetriNetId?i.petriNetsById[i.activePetriNetId]:null;return l==null?void 0:l.selectedElement}),n=me(i=>i.updateNodeData);if(!t||t.type!=="node"||!t.element)return u.jsx("div",{children:"No node selected"});const{id:r,data:o}=t.element;return u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(_e,{htmlFor:"label",children:"Annotation"}),u.jsx(jr,{id:"label",placeholder:"Annotation",className:"font-mono h-[100px]",value:o.label||"",onChange:i=>{e&&n(e,r,{...o,label:i.target.value,type:o.type||"auxText"})}})]})})},B6=()=>{const e=me(N=>N.activePetriNetId),t=me(N=>N.petriNetsById),n=me(N=>{const _=N.activePetriNetId?N.petriNetsById[N.activePetriNetId]:null;return _==null?void 0:_.selectedElement}),r=me(N=>N.updateEdgeLabel),o=me(N=>N.updateEdgeData),i=me(N=>N.swapEdgeDirection);if(!n||n.type!=="edge")return null;const{id:l,label:c,source:d,target:f,data:m}=n.element,p=(m==null?void 0:m.isBidirectional)??!1,g=N=>{var P;if(!e)return N;const _=t[e];if(!_)return N;const T=_.nodes.find(M=>M.id===N);return((P=T==null?void 0:T.data)==null?void 0:P.label)||N},x=N=>{if(!e)return"unknown";const _=t[e];if(!_)return"unknown";const T=_.nodes.find(P=>P.id===N);return(T==null?void 0:T.type)||"unknown"},b=g(d),v=g(f),S=x(d),k=()=>p?"bidirectional":"source-to-target",E=N=>{if(!e)return;const _=k();N!==_&&(N==="bidirectional"?o(e,l,{isBidirectional:!0}):_==="bidirectional"?(o(e,l,{isBidirectional:!1}),N==="target-to-source"&&i(e,l)):i(e,l))};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(_e,{htmlFor:"direction",children:"Direction"}),u.jsxs(rn,{value:k(),onValueChange:N=>E(N),children:[u.jsx(sn,{id:"direction",children:u.jsx(on,{})}),u.jsxs(ln,{children:[u.jsxs(yt,{value:"source-to-target",children:[b,"  ",v]}),u.jsxs(yt,{value:"target-to-source",children:[v,"  ",b]}),u.jsx(yt,{value:"bidirectional",children:"Bidirectional"})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:S==="place"?"Place  Transition":"Transition  Place"})]}),u.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[u.jsx(_e,{htmlFor:"inscription",children:"Inscription"}),u.jsx(jr,{id:"inscription",value:c??"",rows:3,className:"font-mono text-sm",onChange:N=>{e&&r(e,l,N.target.value)}})]})]})};function V6({elementType:e,elementId:t,elementLabel:n}){const[r,o]=w.useState(!1),i=me(g=>g.activePetriNetId),l=me(g=>g.setNodes),c=me(g=>g.setEdges),d=me(g=>g.setSelectedElement),f=n||t,m=e==="node"?"element":"arc",p=()=>{if(!i)return;const x=me.getState().petriNetsById[i];if(x){if(e==="node"){const b=x.nodes.filter(S=>S.id!==t),v=x.edges.filter(S=>S.source!==t&&S.target!==t);l(i,b),c(i,v)}else{const b=x.edges.filter(v=>v.id!==t);c(i,b)}d(i,null),o(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx(ye,{variant:"outline",size:"icon",className:"text-muted-foreground hover:text-destructive",onClick:()=>o(!0),title:`Delete ${m}`,children:u.jsx(Jn,{className:"h-4 w-4"})}),u.jsx(fn,{open:r,onOpenChange:o,children:u.jsxs(pn,{className:"max-w-sm",children:[u.jsxs(hn,{children:[u.jsxs(mn,{children:["Delete ",m]}),u.jsxs(ri,{children:["Are you sure you want to delete ",m==="arc"?"the arc":`"${f}"`,"?",e==="node"&&" All connected arcs will also be removed."," ","This action cannot be undone."]})]}),u.jsxs(Mr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),u.jsx(ye,{variant:"destructive",onClick:p,children:"Delete"})]})]})})]})}function AE({className:e,...t}){return u.jsx("div",{"data-slot":"card",className:Ye("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function IE({className:e,...t}){return u.jsx("div",{"data-slot":"card-header",className:Ye("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function H6({className:e,...t}){return u.jsx("div",{"data-slot":"card-title",className:Ye("leading-none font-semibold",e),...t})}function TE({className:e,...t}){return u.jsx("div",{"data-slot":"card-content",className:Ye("px-6",e),...t})}function U6(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var bx="ScrollArea",[RE,nG]=En(bx),[W6,hr]=RE(bx),ME=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:i=600,...l}=e,[c,d]=w.useState(null),[f,m]=w.useState(null),[p,g]=w.useState(null),[x,b]=w.useState(null),[v,S]=w.useState(null),[k,E]=w.useState(0),[N,_]=w.useState(0),[T,P]=w.useState(!1),[M,z]=w.useState(!1),Y=st(t,B=>d(B)),L=Jo(o);return u.jsx(W6,{scope:n,type:r,dir:L,scrollHideDelay:i,scrollArea:c,viewport:f,onViewportChange:m,content:p,onContentChange:g,scrollbarX:x,onScrollbarXChange:b,scrollbarXEnabled:T,onScrollbarXEnabledChange:P,scrollbarY:v,onScrollbarYChange:S,scrollbarYEnabled:M,onScrollbarYEnabledChange:z,onCornerWidthChange:E,onCornerHeightChange:_,children:u.jsx(Fe.div,{dir:L,...l,ref:Y,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});ME.displayName=bx;var DE="ScrollAreaViewport",OE=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...i}=e,l=hr(DE,n),c=w.useRef(null),d=st(t,c,l.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),u.jsx(Fe.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});OE.displayName=DE;var Jr="ScrollAreaScrollbar",LE=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=hr(Jr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=o,c=e.orientation==="horizontal";return w.useEffect(()=>(c?i(!0):l(!0),()=>{c?i(!1):l(!1)}),[c,i,l]),o.type==="hover"?u.jsx(Y6,{...r,ref:t,forceMount:n}):o.type==="scroll"?u.jsx(X6,{...r,ref:t,forceMount:n}):o.type==="auto"?u.jsx(zE,{...r,ref:t,forceMount:n}):o.type==="always"?u.jsx(Sx,{...r,ref:t}):null});LE.displayName=Jr;var Y6=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=hr(Jr,e.__scopeScrollArea),[i,l]=w.useState(!1);return w.useEffect(()=>{const c=o.scrollArea;let d=0;if(c){const f=()=>{window.clearTimeout(d),l(!0)},m=()=>{d=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",m)}}},[o.scrollArea,o.scrollHideDelay]),u.jsx(jn,{present:n||i,children:u.jsx(zE,{"data-state":i?"visible":"hidden",...r,ref:t})})}),X6=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=hr(Jr,e.__scopeScrollArea),i=e.orientation==="horizontal",l=Sf(()=>d("SCROLL_END"),100),[c,d]=U6("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,o.scrollHideDelay,d]),w.useEffect(()=>{const f=o.viewport,m=i?"scrollLeft":"scrollTop";if(f){let p=f[m];const g=()=>{const x=f[m];p!==x&&(d("SCROLL"),l()),p=x};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[o.viewport,i,d,l]),u.jsx(jn,{present:n||c!=="hidden",children:u.jsx(Sx,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ie(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Ie(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),zE=w.forwardRef((e,t)=>{const n=hr(Jr,e.__scopeScrollArea),{forceMount:r,...o}=e,[i,l]=w.useState(!1),c=e.orientation==="horizontal",d=Sf(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;l(c?f:m)}},10);return Zs(n.viewport,d),Zs(n.content,d),u.jsx(jn,{present:r||i,children:u.jsx(Sx,{"data-state":i?"visible":"hidden",...o,ref:t})})}),Sx=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=hr(Jr,e.__scopeScrollArea),i=w.useRef(null),l=w.useRef(0),[c,d]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=HE(c.viewport,c.content),m={...r,sizes:c,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:g=>l.current=g};function p(g,x){return Z6(g,l.current,c,x)}return n==="horizontal"?u.jsx(q6,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const g=o.viewport.scrollLeft,x=Yb(g,c,o.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollLeft=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollLeft=p(g,o.dir))}}):n==="vertical"?u.jsx(G6,{...m,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const g=o.viewport.scrollTop,x=Yb(g,c);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollTop=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollTop=p(g))}}):null}),q6=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=hr(Jr,e.__scopeScrollArea),[l,c]=w.useState(),d=w.useRef(null),f=st(t,d,i.onScrollbarXChange);return w.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),u.jsx(FE,{"data-orientation":"horizontal",...o,ref:f,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bf(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,p)=>{if(i.viewport){const g=i.viewport.scrollLeft+m.deltaX;e.onWheelScroll(g),WE(g,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Rd(l.paddingLeft),paddingEnd:Rd(l.paddingRight)}})}})}),G6=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=hr(Jr,e.__scopeScrollArea),[l,c]=w.useState(),d=w.useRef(null),f=st(t,d,i.onScrollbarYChange);return w.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),u.jsx(FE,{"data-orientation":"vertical",...o,ref:f,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bf(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,p)=>{if(i.viewport){const g=i.viewport.scrollTop+m.deltaY;e.onWheelScroll(g),WE(g,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Rd(l.paddingTop),paddingEnd:Rd(l.paddingBottom)}})}})}),[K6,$E]=RE(Jr),FE=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:m,onResize:p,...g}=e,x=hr(Jr,n),[b,v]=w.useState(null),S=st(t,Y=>v(Y)),k=w.useRef(null),E=w.useRef(""),N=x.viewport,_=r.content-r.viewport,T=In(m),P=In(d),M=Sf(p,10);function z(Y){if(k.current){const L=Y.clientX-k.current.left,B=Y.clientY-k.current.top;f({x:L,y:B})}}return w.useEffect(()=>{const Y=L=>{const B=L.target;(b==null?void 0:b.contains(B))&&T(L,_)};return document.addEventListener("wheel",Y,{passive:!1}),()=>document.removeEventListener("wheel",Y,{passive:!1})},[N,b,_,T]),w.useEffect(P,[r,P]),Zs(b,M),Zs(x.content,M),u.jsx(K6,{scope:n,scrollbar:b,hasThumb:o,onThumbChange:In(i),onThumbPointerUp:In(l),onThumbPositionChange:P,onThumbPointerDown:In(c),children:u.jsx(Fe.div,{...g,ref:S,style:{position:"absolute",...g.style},onPointerDown:Ie(e.onPointerDown,Y=>{Y.button===0&&(Y.target.setPointerCapture(Y.pointerId),k.current=b.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),z(Y))}),onPointerMove:Ie(e.onPointerMove,z),onPointerUp:Ie(e.onPointerUp,Y=>{const L=Y.target;L.hasPointerCapture(Y.pointerId)&&L.releasePointerCapture(Y.pointerId),document.body.style.webkitUserSelect=E.current,x.viewport&&(x.viewport.style.scrollBehavior=""),k.current=null})})})}),Td="ScrollAreaThumb",BE=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=$E(Td,e.__scopeScrollArea);return u.jsx(jn,{present:n||o.hasThumb,children:u.jsx(Q6,{ref:t,...r})})}),Q6=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,i=hr(Td,n),l=$E(Td,n),{onThumbPositionChange:c}=l,d=st(t,p=>l.onThumbChange(p)),f=w.useRef(void 0),m=Sf(()=>{f.current&&(f.current(),f.current=void 0)},100);return w.useEffect(()=>{const p=i.viewport;if(p){const g=()=>{if(m(),!f.current){const x=eV(p,c);f.current=x,c()}};return c(),p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[i.viewport,m,c]),u.jsx(Fe.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ie(e.onPointerDownCapture,p=>{const x=p.target.getBoundingClientRect(),b=p.clientX-x.left,v=p.clientY-x.top;l.onThumbPointerDown({x:b,y:v})}),onPointerUp:Ie(e.onPointerUp,l.onThumbPointerUp)})});BE.displayName=Td;var kx="ScrollAreaCorner",VE=w.forwardRef((e,t)=>{const n=hr(kx,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(J6,{...e,ref:t}):null});VE.displayName=kx;var J6=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=hr(kx,n),[i,l]=w.useState(0),[c,d]=w.useState(0),f=!!(i&&c);return Zs(o.scrollbarX,()=>{var p;const m=((p=o.scrollbarX)==null?void 0:p.offsetHeight)||0;o.onCornerHeightChange(m),d(m)}),Zs(o.scrollbarY,()=>{var p;const m=((p=o.scrollbarY)==null?void 0:p.offsetWidth)||0;o.onCornerWidthChange(m),l(m)}),f?u.jsx(Fe.div,{...r,ref:t,style:{width:i,height:c,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Rd(e){return e?parseInt(e,10):0}function HE(e,t){const n=e/t;return isNaN(n)?0:n}function bf(e){const t=HE(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Z6(e,t,n,r="ltr"){const o=bf(n),i=o/2,l=t||i,c=o-l,d=n.scrollbar.paddingStart+l,f=n.scrollbar.size-n.scrollbar.paddingEnd-c,m=n.content-n.viewport,p=r==="ltr"?[0,m]:[m*-1,0];return UE([d,f],p)(e)}function Yb(e,t,n="ltr"){const r=bf(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,l=t.content-t.viewport,c=i-r,d=n==="ltr"?[0,l]:[l*-1,0],f=Wa(e,d);return UE([0,l],[0,c])(f)}function UE(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function WE(e,t){return e>0&&e<t}var eV=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const i={left:e.scrollLeft,top:e.scrollTop},l=n.left!==i.left,c=n.top!==i.top;(l||c)&&t(),n=i,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function Sf(e,t){const n=In(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Zs(e,t){const n=In(t);an(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var tV=ME,nV=OE,rV=VE;function kf({className:e,children:t,...n}){return u.jsxs(tV,{"data-slot":"scroll-area",className:Ye("relative",e),...n,children:[u.jsx(nV,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),u.jsx(oV,{}),u.jsx(rV,{})]})}function oV({className:e,orientation:t="vertical",...n}){return u.jsx(LE,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Ye("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:u.jsx(BE,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const iV=vf("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function sV({className:e,variant:t,asChild:n=!1,...r}){const o=n?LC:"span";return u.jsx(o,{"data-slot":"badge",className:Ye(iV({variant:t}),e),...r})}function lV({events:e,onClearLog:t,onExport:n,canExport:r,exportDisabledReason:o}){const[i,l]=w.useState(""),[c,d]=w.useState(new Set),f=me(b=>b.simulationEpoch),m=f?new Date(f):null,p=b=>{const v=new Set(c);v.has(b)?v.delete(b):v.add(b),d(v)},g=e.filter(b=>b.transitionName.toLowerCase().includes(i.toLowerCase())||b.tokens.consumed.some(v=>v.placeName.toLowerCase().includes(i.toLowerCase()))||b.tokens.produced.some(v=>v.placeName.toLowerCase().includes(i.toLowerCase()))),x=b=>{if(m){const N=new Date(m.getTime()+b),_=N.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"}),T=N.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),P=N.getMilliseconds().toString().padStart(3,"0");return{date:_,time:`${T}.${P}`}}if(b===0)return{time:"0"};const v=b/1e3;if(v<60)return{time:`${v.toFixed(v%1===0?0:1)}s`};const S=v/60;if(S<60)return{time:`${S.toFixed(S%1===0?0:1)}m`};const k=S/60;if(k<24)return{time:`${k.toFixed(k%1===0?0:1)}h`};const E=k/24;return{time:`${E.toFixed(E%1===0?0:1)}d`}};return u.jsxs(AE,{className:"w-full h-full flex flex-col overflow-hidden",children:[u.jsxs(IE,{className:"pb-3 flex-shrink-0",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm font-semibold leading-none tracking-tight",children:"Event Log"}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(ye,{variant:"outline",size:"icon",onClick:t,title:"Clear Log",children:u.jsx(PI,{className:"h-4 w-4"})}),n&&u.jsxs(ye,{variant:"outline",onClick:n,disabled:!r,title:o||"Export as OCEL 2.0",className:"flex items-center gap-1 h-9 px-3",children:[u.jsx(zA,{className:"h-4 w-4"}),"Export OCEL"]})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx(mI,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),u.jsx(Je,{placeholder:"Search events...",className:"pl-8",value:i,onChange:b=>l(b.target.value)})]})]}),u.jsx(TE,{className:"flex-1 overflow-hidden min-h-0",children:u.jsx(kf,{className:"h-full",children:g.length===0?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.length===0?"No events recorded yet":"No events match your search"}):u.jsx("div",{className:"space-y-2",children:g.map(b=>u.jsxs("div",{className:"border rounded-md p-3 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>p(b.id),children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(sV,{variant:"outline",children:b.step}),u.jsx("span",{className:"font-medium",children:b.transitionName})]}),u.jsxs("div",{className:"flex items-center space-x-1.5 text-muted-foreground",children:[u.jsx(_g,{className:"h-3 w-3 flex-shrink-0"}),(()=>{const v=x(b.time);return v.date?u.jsxs("div",{className:"text-right text-xs leading-tight",children:[u.jsx("div",{children:v.date}),u.jsx("div",{children:v.time})]}):u.jsx("span",{className:"text-sm",children:v.time})})()]})]}),c.has(b.id)&&u.jsxs("div",{className:"mt-2 pt-2 border-t text-sm space-y-3 overflow-hidden",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("h4",{className:"font-medium mb-1",children:"Consumed Tokens:"}),b.tokens.consumed.length===0?u.jsx("p",{className:"text-muted-foreground text-xs pl-2",children:"None"}):u.jsx("ul",{className:"space-y-1 pl-2 text-xs",children:b.tokens.consumed.map((v,S)=>u.jsxs("li",{className:"min-w-0",children:[u.jsxs("span",{className:"text-muted-foreground",children:[v.placeName,":"]}),u.jsx("span",{className:"font-mono bg-muted px-1 rounded ml-2 break-all whitespace-pre-wrap",children:v.tokens})]},`consumed-${S}`))})]}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("h4",{className:"font-medium mb-1",children:"Produced Tokens:"}),b.tokens.produced.length===0?u.jsx("p",{className:"text-muted-foreground text-xs pl-2",children:"None"}):u.jsx("ul",{className:"space-y-1 pl-2 text-xs",children:b.tokens.produced.map((v,S)=>u.jsxs("li",{className:"min-w-0",children:[u.jsxs("span",{className:"text-muted-foreground",children:[v.placeName,":"]}),u.jsx("span",{className:"font-mono bg-muted px-1 rounded ml-2 break-all whitespace-pre-wrap",children:v.tokens})]},`produced-${S}`))})]})]})]},b.id))})})})]})}var Cx="Radio",[aV,YE]=En(Cx),[cV,uV]=aV(Cx),XE=w.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:o=!1,required:i,disabled:l,value:c="on",onCheck:d,form:f,...m}=e,[p,g]=w.useState(null),x=st(t,S=>g(S)),b=w.useRef(!1),v=p?f||!!p.closest("form"):!0;return u.jsxs(cV,{scope:n,checked:o,disabled:l,children:[u.jsx(Fe.button,{type:"button",role:"radio","aria-checked":o,"data-state":QE(o),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:x,onClick:Ie(e.onClick,S=>{o||d==null||d(),v&&(b.current=S.isPropagationStopped(),b.current||S.stopPropagation())})}),v&&u.jsx(KE,{control:p,bubbles:!b.current,name:r,value:c,checked:o,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});XE.displayName=Cx;var qE="RadioIndicator",GE=w.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...o}=e,i=uV(qE,n);return u.jsx(jn,{present:r||i.checked,children:u.jsx(Fe.span,{"data-state":QE(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t})})});GE.displayName=qE;var dV="RadioBubbleInput",KE=w.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...o},i)=>{const l=w.useRef(null),c=st(l,i),d=pf(n),f=df(t);return w.useEffect(()=>{const m=l.current;if(!m)return;const p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==n&&x){const b=new Event("click",{bubbles:r});x.call(m,n),m.dispatchEvent(b)}},[d,n,r]),u.jsx(Fe.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:c,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});KE.displayName=dV;function QE(e){return e?"checked":"unchecked"}var fV=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Cf="RadioGroup",[pV,rG]=En(Cf,[sl,YE]),JE=sl(),ZE=YE(),[hV,mV]=pV(Cf),ej=w.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:o,value:i,required:l=!1,disabled:c=!1,orientation:d,dir:f,loop:m=!0,onValueChange:p,...g}=e,x=JE(n),b=Jo(f),[v,S]=Nn({prop:i,defaultProp:o??null,onChange:p,caller:Cf});return u.jsx(hV,{scope:n,name:r,required:l,disabled:c,value:v,onValueChange:S,children:u.jsx(tx,{asChild:!0,...x,orientation:d,dir:b,loop:m,children:u.jsx(Fe.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":c?"":void 0,dir:b,...g,ref:t})})})});ej.displayName=Cf;var tj="RadioGroupItem",nj=w.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...o}=e,i=mV(tj,n),l=i.disabled||r,c=JE(n),d=ZE(n),f=w.useRef(null),m=st(t,f),p=i.value===o.value,g=w.useRef(!1);return w.useEffect(()=>{const x=v=>{fV.includes(v.key)&&(g.current=!0)},b=()=>g.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",b)}},[]),u.jsx(nx,{asChild:!0,...c,focusable:!l,active:p,children:u.jsx(XE,{disabled:l,required:i.required,checked:p,...d,...o,name:i.name,ref:m,onCheck:()=>i.onValueChange(o.value),onKeyDown:Ie(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:Ie(o.onFocus,()=>{var x;g.current&&((x=f.current)==null||x.click())})})})});nj.displayName=tj;var gV="RadioGroupIndicator",rj=w.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,o=ZE(n);return u.jsx(GE,{...o,...r,ref:t})});rj.displayName=gV;var xV=ej,yV=nj,vV=rj;function oj({className:e,...t}){return u.jsx(xV,{"data-slot":"radio-group",className:Ye("grid gap-3",e),...t})}function Vs({className:e,...t}){return u.jsx(yV,{"data-slot":"radio-group-item",className:Ye("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(vV,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:u.jsx(uS,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function wV({open:e,onOpenChange:t,onExport:n}){const[r,o]=w.useState("json"),i=()=>{n(r),t(!1)};return u.jsx(fn,{open:e,onOpenChange:t,children:u.jsxs(pn,{className:"sm:max-w-[425px]",children:[u.jsxs(hn,{children:[u.jsx(mn,{children:"Export as OCEL 2.0"}),u.jsx(ri,{children:"Choose a format to export your simulation data as an Object-Centric Event Log (OCEL 2.0)."})]}),u.jsx("div",{className:"py-4",children:u.jsxs(oj,{value:r,onValueChange:l=>o(l),className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Vs,{value:"json",id:"json"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(_e,{htmlFor:"json",className:"font-medium",children:"JSON"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Standard JSON format for OCEL 2.0. Best for web applications and analysis tools."})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Vs,{value:"xml",id:"xml",disabled:!0}),u.jsxs("div",{className:"grid gap-1.5 opacity-50",children:[u.jsx(_e,{htmlFor:"xml",className:"font-medium",children:"XML"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"XML format for OCEL 2.0. Good for compatibility with legacy systems. (Coming soon)"})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Vs,{value:"sqlite",id:"sqlite",disabled:!0}),u.jsxs("div",{className:"grid gap-1.5 opacity-50",children:[u.jsx(_e,{htmlFor:"sqlite",className:"font-medium",children:"SQLite"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"SQLite database format. Best for large event logs and direct database queries. (Coming soon)"})]})]})]})}),u.jsxs(Mr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ye,{onClick:i,children:"Export"})]})]})})}const bV={stepsPerRun:50,animationDelayMs:500},Nf=w.createContext(null);function SV(e){if(e&&typeof e=="object"){const t=e;if("id"in t)return t.id;if("ID"in t)return t.ID}return null}function Xb(e,t){const n=t.toLowerCase(),r=SV(e);if(r!==null)return`${n}_${r}`;const o=JSON.stringify(e).split("").reduce((i,l)=>(i=(i<<5)-i+l.charCodeAt(0),i&i),0);return`${n}_${Math.abs(o)}`}function kV(e,t,n,r,o){const i=[],l=t.filter(g=>g.type==="record");for(const g of l){const x=[],b=g.definition.match(/=\s*record\s+(.+);/);if(b){const S=b[1].split("*").map(k=>k.trim());for(const k of S){const[E,N]=k.split(":").map(_=>_.trim());E&&N&&E.toLowerCase()!=="id"&&x.push({name:E.toLowerCase(),type:N.toLowerCase()})}}i.push({name:g.name,attributes:x})}const c=n.map(g=>({name:g.name||g.id,attributes:[]})),d=new Map;for(const g of r)d.set(g.id,g.colorSet);const f=new Map,m=[],p=o?new Date(o):null;for(const g of e){const x=`e${g.step}`,b=g.transitionName,v=p?new Date(p.getTime()+g.time).toISOString():g.timestamp.toISOString(),S=new Map;for(const E of g.tokens.consumed){const N=d.get(E.placeId);if(l.some(T=>T.name===N)&&N)try{const T=JSON.parse(E.tokens);if(Array.isArray(T))for(const P of T){const M=Xb(P,N);if(!f.has(M)){const z=[];if(P&&typeof P=="object")for(const[Y,L]of Object.entries(P))Y.toLowerCase()!=="id"&&z.push({name:Y.toLowerCase(),time:v,value:String(L)});f.set(M,{id:M,type:N,attributes:z,relationships:[]})}S.set(M,N)}}catch{}}for(const E of g.tokens.produced){const N=d.get(E.placeId);if(l.some(T=>T.name===N)&&N)try{const T=JSON.parse(E.tokens);if(Array.isArray(T))for(const P of T){const M=Xb(P,N);if(!f.has(M)){const z=[];if(P&&typeof P=="object")for(const[Y,L]of Object.entries(P))Y.toLowerCase()!=="id"&&z.push({name:Y.toLowerCase(),time:v,value:String(L)});f.set(M,{id:M,type:N,attributes:z,relationships:[]})}S.set(M,N)}}catch{}}const k=Array.from(S.entries()).map(([E,N])=>({objectId:E,qualifier:N.toLowerCase()}));m.push({id:x,type:b,time:v,attributes:[],relationships:k})}return{objectTypes:i,eventTypes:c,objects:Array.from(f.values()),events:m}}function CV(){const e=w.useContext(Nf);if(!e)throw new Error("SimulationPanel must be used within a SimulationProvider");const{events:t,clearEvents:n,isInitialized:r,stepCounter:o,simulationTime:i,simulationConfig:l,setSimulationConfig:c}=e,d=me(U=>U.colorSets),f=me(U=>U.petriNetsById),m=me(U=>U.activePetriNetId),p=me(U=>U.simulationEpoch),g=me(U=>U.setSimulationEpoch),[x,b]=w.useState(!1),[v,S]=w.useState(!1),[k,E]=w.useState(l),N=U=>{if(!U)return"";const A=new Date(U);if(isNaN(A.getTime()))return U;const F=($,G=2)=>String($).padStart(G,"0");return`${A.getFullYear()}-${F(A.getMonth()+1)}-${F(A.getDate())}T${F(A.getHours())}:${F(A.getMinutes())}:${F(A.getSeconds())}.${F(A.getMilliseconds(),3)}`},[_,T]=w.useState(N(p)),P=U=>{U&&(E(l),T(N(p))),S(U)},M=()=>{if(c(k),_){const U=new Date(_);isNaN(U.getTime())?g(_):g(U.toISOString())}else g(null);S(!1)},z=w.useCallback(()=>{if(!m)return{transitions:[],places:[]};const U=f[m];if(!U)return{transitions:[],places:[]};const A=U.nodes.filter($=>$.type==="transition").map($=>{var G;return{id:$.id,name:((G=$.data)==null?void 0:G.label)||$.id}}),F=U.nodes.filter($=>$.type==="place").map($=>{var G,D;return{id:$.id,name:((G=$.data)==null?void 0:G.label)||$.id,colorSet:((D=$.data)==null?void 0:D.colorSet)||""}});return{transitions:A,places:F}},[m,f]),Y=U=>{const{transitions:A,places:F}=z(),$=kV(t,d,A,F,p||null);let G="",D=`simulation_ocel2_${o}_events`,W="application/octet-stream";switch(U){case"json":G=JSON.stringify($,null,2),D+=".json",W="application/json";break;case"xml":G=`<?xml version="1.0" encoding="UTF-8"?>
<ocel>
  <objectTypes>
${$.objectTypes.map(I=>`    <objectType name="${I.name}">
${I.attributes.map(V=>`      <attribute name="${V.name}" type="${V.type}"/>`).join(`
`)}
    </objectType>`).join(`
`)}
  </objectTypes>
  <eventTypes>
${$.eventTypes.map(I=>`    <eventType name="${I.name}">
${I.attributes.map(V=>`      <attribute name="${V.name}" type="${V.type}"/>`).join(`
`)}
    </eventType>`).join(`
`)}
  </eventTypes>
  <objects>
${$.objects.map(I=>`    <object id="${I.id}" type="${I.type}">
${I.attributes.map(V=>`      <attribute name="${V.name}" time="${V.time}" value="${V.value}"/>`).join(`
`)}
    </object>`).join(`
`)}
  </objects>
  <events>
${$.events.map(I=>`    <event id="${I.id}" type="${I.type}" time="${I.time}">
${I.relationships.map(V=>`      <relationship objectId="${V.objectId}" qualifier="${V.qualifier}"/>`).join(`
`)}
    </event>`).join(`
`)}
  </events>
</ocel>`,D+=".xml",W="application/xml";break;case"sqlite":G="SQLite format not yet implemented - please use JSON or XML format",D+=".txt",W="text/plain";break}const R=new Blob([G],{type:W}),H=URL.createObjectURL(R),X=document.createElement("a");X.href=H,X.download=D,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(H),b(!1)},L=r&&t.length>0,B=p?new Date(p):null,q=U=>{if(U==null&&(U=0),B){const A=new Date(B.getTime()+U),F=A.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"}),$=A.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),G=A.getMilliseconds().toString().padStart(3,"0");return`${F}, ${$}.${G}`}if(U===0)return"0ms";if(U<1e3)return`${U}ms`;if(U<6e4)return`${(U/1e3).toFixed(1)}s`;if(U<36e5){const A=Math.floor(U/6e4),F=Math.floor(U%6e4/1e3);return`${A}m ${F}s`}else{const A=Math.floor(U/36e5),F=Math.floor(U%36e5/6e4),$=Math.floor(U%6e4/1e3);return`${A}h ${F}m ${$}s`}};return u.jsxs("div",{className:"flex flex-col h-full gap-3 overflow-hidden",children:[u.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card flex-shrink-0",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("span",{className:"text-sm font-semibold leading-none tracking-tight",children:"Simulation Status"}),u.jsx(ye,{variant:"outline",size:"icon",onClick:()=>S(!0),title:"Simulation Settings",children:u.jsx(pS,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(eI,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Step"}),u.jsx("div",{className:"text-lg font-mono font-semibold",children:o??0})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(_g,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"Time"}),u.jsx("div",{className:"text-lg font-mono font-semibold",children:q(i)})]})]})]})]}),u.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:u.jsx(lV,{events:t,onClearLog:n,onExport:()=>b(!0),canExport:L,exportDisabledReason:r?t.length===0?"No simulation events to export":void 0:"Simulation not initialized"})}),u.jsx(wV,{open:x,onOpenChange:b,onExport:Y}),u.jsx(fn,{open:v,onOpenChange:P,children:u.jsxs(pn,{className:"sm:max-w-[480px]",children:[u.jsx(hn,{children:u.jsx(mn,{children:"Simulation Settings"})}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(_e,{htmlFor:"stepsPerRun",className:"text-right col-span-2",children:"Steps per run"}),u.jsx(Je,{id:"stepsPerRun",type:"number",min:1,max:1e3,value:k.stepsPerRun,onChange:U=>E({...k,stepsPerRun:parseInt(U.target.value)||1}),className:"col-span-2"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(_e,{htmlFor:"animationDelay",className:"text-right col-span-2",children:"Animation delay (ms)"}),u.jsx(Je,{id:"animationDelay",type:"number",min:0,max:5e3,step:50,value:k.animationDelayMs,onChange:U=>E({...k,animationDelayMs:parseInt(U.target.value)||0}),className:"col-span-2"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(_e,{htmlFor:"simulationEpoch",className:"text-right col-span-2",children:"Simulation epoch"}),u.jsx(Je,{id:"simulationEpoch",type:"datetime-local",step:"0.001",value:_,onChange:U=>T(U.target.value),className:"col-span-2"}),u.jsxs("div",{className:"col-span-2 col-start-3 flex gap-2",children:[u.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:()=>{const U=new Date,A=($,G=2)=>String($).padStart(G,"0"),F=`${U.getFullYear()}-${A(U.getMonth()+1)}-${A(U.getDate())}T${A(U.getHours())}:${A(U.getMinutes())}:${A(U.getSeconds())}.${A(U.getMilliseconds(),3)}`;T(F)},children:"Now"}),u.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:()=>T(""),children:"Reset"})]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"The simulation epoch is the real-world datetime that corresponds to simulation time 0. When set, simulation times will be displayed relative to this epoch."})]}),u.jsxs(Mr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),u.jsx(ye,{onClick:M,children:"Save"})]})]})})]})}var Ef="Checkbox",[NV,oG]=En(Ef),[EV,Nx]=NV(Ef);function jV(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:o,disabled:i,form:l,name:c,onCheckedChange:d,required:f,value:m="on",internal_do_not_use_render:p}=e,[g,x]=Nn({prop:n,defaultProp:o??!1,onChange:d,caller:Ef}),[b,v]=w.useState(null),[S,k]=w.useState(null),E=w.useRef(!1),N=b?!!l||!!b.closest("form"):!0,_={checked:g,disabled:i,setChecked:x,control:b,setControl:v,name:c,form:l,value:m,hasConsumerStoppedPropagationRef:E,required:f,defaultChecked:Xo(o)?!1:o,isFormControl:N,bubbleInput:S,setBubbleInput:k};return u.jsx(EV,{scope:t,..._,children:_V(p)?p(_):r})}var ij="CheckboxTrigger",sj=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},o)=>{const{control:i,value:l,disabled:c,checked:d,required:f,setControl:m,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:b}=Nx(ij,e),v=st(o,m),S=w.useRef(d);return w.useEffect(()=>{const k=i==null?void 0:i.form;if(k){const E=()=>p(S.current);return k.addEventListener("reset",E),()=>k.removeEventListener("reset",E)}},[i,p]),u.jsx(Fe.button,{type:"button",role:"checkbox","aria-checked":Xo(d)?"mixed":d,"aria-required":f,"data-state":dj(d),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:v,onKeyDown:Ie(t,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:Ie(n,k=>{p(E=>Xo(E)?!0:!E),b&&x&&(g.current=k.isPropagationStopped(),g.current||k.stopPropagation())})})});sj.displayName=ij;var Ex=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:i,required:l,disabled:c,value:d,onCheckedChange:f,form:m,...p}=e;return u.jsx(jV,{__scopeCheckbox:n,checked:o,defaultChecked:i,disabled:c,required:l,onCheckedChange:f,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:g})=>u.jsxs(u.Fragment,{children:[u.jsx(sj,{...p,ref:t,__scopeCheckbox:n}),g&&u.jsx(uj,{__scopeCheckbox:n})]})})});Ex.displayName=Ef;var lj="CheckboxIndicator",aj=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,i=Nx(lj,n);return u.jsx(jn,{present:r||Xo(i.checked)||i.checked===!0,children:u.jsx(Fe.span,{"data-state":dj(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});aj.displayName=lj;var cj="CheckboxBubbleInput",uj=w.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:o,checked:i,defaultChecked:l,required:c,disabled:d,name:f,value:m,form:p,bubbleInput:g,setBubbleInput:x}=Nx(cj,e),b=st(n,x),v=pf(i),S=df(r);w.useEffect(()=>{const E=g;if(!E)return;const N=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(N,"checked").set,P=!o.current;if(v!==i&&T){const M=new Event("click",{bubbles:P});E.indeterminate=Xo(i),T.call(E,Xo(i)?!1:i),E.dispatchEvent(M)}},[g,v,i,o]);const k=w.useRef(Xo(i)?!1:i);return u.jsx(Fe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??k.current,required:c,disabled:d,name:f,value:m,form:p,...t,tabIndex:-1,ref:b,style:{...t.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});uj.displayName=cj;function _V(e){return typeof e=="function"}function Xo(e){return e==="indeterminate"}function dj(e){return Xo(e)?"indeterminate":e?"checked":"unchecked"}const fj=w.forwardRef(({className:e,...t},n)=>u.jsx(Ex,{ref:n,className:Ye("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:u.jsx(aj,{className:Ye("flex items-center justify-center text-current"),children:u.jsx(sS,{className:"h-4 w-4"})})}));fj.displayName=Ex.displayName;function jf(){return(jf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pj(e,t){if(e==null)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function lg(e){var t=w.useRef(e),n=w.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var qa=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},ja=function(e){return"touches"in e},ag=function(e){return e&&e.ownerDocument.defaultView||self},qb=function(e,t,n){var r=e.getBoundingClientRect(),o=ja(t)?function(i,l){for(var c=0;c<i.length;c++)if(i[c].identifier===l)return i[c];return i[0]}(t.touches,n):t;return{left:qa((o.pageX-(r.left+ag(e).pageXOffset))/r.width),top:qa((o.pageY-(r.top+ag(e).pageYOffset))/r.height)}},Gb=function(e){!ja(e)&&e.preventDefault()},hj=He.memo(function(e){var t=e.onMove,n=e.onKey,r=pj(e,["onMove","onKey"]),o=w.useRef(null),i=lg(t),l=lg(n),c=w.useRef(null),d=w.useRef(!1),f=w.useMemo(function(){var x=function(S){Gb(S),(ja(S)?S.touches.length>0:S.buttons>0)&&o.current?i(qb(o.current,S,c.current)):v(!1)},b=function(){return v(!1)};function v(S){var k=d.current,E=ag(o.current),N=S?E.addEventListener:E.removeEventListener;N(k?"touchmove":"mousemove",x),N(k?"touchend":"mouseup",b)}return[function(S){var k=S.nativeEvent,E=o.current;if(E&&(Gb(k),!function(_,T){return T&&!ja(_)}(k,d.current)&&E)){if(ja(k)){d.current=!0;var N=k.changedTouches||[];N.length&&(c.current=N[0].identifier)}E.focus(),i(qb(E,k,c.current)),v(!0)}},function(S){var k=S.which||S.keyCode;k<37||k>40||(S.preventDefault(),l({left:k===39?.05:k===37?-.05:0,top:k===40?.05:k===38?-.05:0}))},v]},[l,i]),m=f[0],p=f[1],g=f[2];return w.useEffect(function(){return g},[g]),He.createElement("div",jf({},r,{onTouchStart:m,onMouseDown:m,className:"react-colorful__interactive",ref:o,onKeyDown:p,tabIndex:0,role:"slider"}))}),jx=function(e){return e.filter(Boolean).join(" ")},mj=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,i=jx(["react-colorful__pointer",e.className]);return He.createElement("div",{className:i,style:{top:100*o+"%",left:100*n+"%"}},He.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},gn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},PV=function(e){return MV(cg(e))},cg=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?gn(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?gn(parseInt(e.substring(6,8),16)/255,2):1}},AV=function(e){return RV(TV(e))},IV=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:gn(e.h),s:gn(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:gn(o/2),a:gn(r,2)}},ug=function(e){var t=IV(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},TV=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),l=r*(1-n),c=r*(1-(t-i)*n),d=r*(1-(1-t+i)*n),f=i%6;return{r:gn(255*[r,c,l,l,d,r][f]),g:gn(255*[d,r,r,c,l,l][f]),b:gn(255*[l,l,d,r,r,c][f]),a:gn(o,2)}},Wu=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},RV=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=o<1?Wu(gn(255*o)):"";return"#"+Wu(t)+Wu(n)+Wu(r)+i},MV=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),l=i-Math.min(t,n,r),c=l?i===t?(n-r)/l:i===n?2+(r-t)/l:4+(t-n)/l:0;return{h:gn(60*(c<0?c+6:c)),s:gn(i?l/i*100:0),v:gn(i/255*100),a:o}},DV=He.memo(function(e){var t=e.hue,n=e.onChange,r=jx(["react-colorful__hue",e.className]);return He.createElement("div",{className:r},He.createElement(hj,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:qa(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":gn(t),"aria-valuemax":"360","aria-valuemin":"0"},He.createElement(mj,{className:"react-colorful__hue-pointer",left:t/360,color:ug({h:t,s:100,v:100,a:1})})))}),OV=He.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:ug({h:t.h,s:100,v:100,a:1})};return He.createElement("div",{className:"react-colorful__saturation",style:r},He.createElement(hj,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:qa(t.s+100*o.left,0,100),v:qa(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+gn(t.s)+"%, Brightness "+gn(t.v)+"%"},He.createElement(mj,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:ug(t)})))}),gj=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},LV=function(e,t){return e.toLowerCase()===t.toLowerCase()||gj(cg(e),cg(t))};function zV(e,t,n){var r=lg(n),o=w.useState(function(){return e.toHsva(t)}),i=o[0],l=o[1],c=w.useRef({color:t,hsva:i});w.useEffect(function(){if(!e.equal(t,c.current.color)){var f=e.toHsva(t);c.current={hsva:f,color:t},l(f)}},[t,e]),w.useEffect(function(){var f;gj(i,c.current.hsva)||e.equal(f=e.fromHsva(i),c.current.color)||(c.current={hsva:i,color:f},r(f))},[i,e,r]);var d=w.useCallback(function(f){l(function(m){return Object.assign({},m,f)})},[]);return[i,d]}var $V=typeof window<"u"?w.useLayoutEffect:w.useEffect,FV=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Kb=new Map,BV=function(e){$V(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Kb.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Kb.set(t,n);var r=FV();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},VV=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,i=e.onChange,l=pj(e,["className","colorModel","color","onChange"]),c=w.useRef(null);BV(c);var d=zV(n,o,i),f=d[0],m=d[1],p=jx(["react-colorful",t]);return He.createElement("div",jf({},l,{ref:c,className:p}),He.createElement(OV,{hsva:f,onChange:m}),He.createElement(DV,{hue:f.h,onChange:m,className:"react-colorful__last-control"}))},HV={defaultColor:"000",toHsva:PV,fromHsva:function(e){return AV({h:e.h,s:e.s,v:e.v,a:1})},equal:LV},UV=function(e){return He.createElement(VV,jf({},e,{colorModel:HV}))};function WV({colorSet:e,existingColorSets:t,onSave:n}){const[r,o]=w.useState((e==null?void 0:e.name)||""),[i,l]=w.useState((e==null?void 0:e.type)||"basic"),[c,d]=w.useState((e==null?void 0:e.definition)||""),[f,m]=w.useState((e==null?void 0:e.color)||"#3b82f6"),[p,g]=w.useState((e==null?void 0:e.timed)||!1),[x,b]=w.useState("visual"),[v,S]=w.useState("int"),[k,E]=w.useState(!1),[N,_]=w.useState("1"),[T,P]=w.useState("100"),[M,z]=w.useState([{id:ot(),name:"value1",value:"1"}]),[Y,L]=w.useState("INT"),[B,q]=w.useState([]),[U,A]=w.useState([{id:ot(),name:"field1",type:"INT"}]),[F,$]=w.useState("INT"),[G,D]=w.useState("");w.useEffect(()=>{if(e){if(o(e.name),l(e.type),d(e.definition),g(e.timed||!1),e.type==="basic"){const Q=e.definition.match(/colset\s+\w+\s*=\s*(\w+)(?:\s+with\s+(\d+)\.\.(\d+))?/);Q&&(S(Q[1]),Q[2]&&Q[3]&&(E(!0),_(Q[2]),P(Q[3])))}else if(e.type==="list"){const Q=e.definition.match(/list\s+(\w+)/);if(Q){const ie=Q[1],ue=t.find(fe=>fe.name===ie);ue&&L(ue.name)}}else if(e.type==="product"){const Q=e.definition.match(/product\s+([\w\s\*]+)/);if(Q){const ie=Q[1].split("*").map(ue=>ue.trim());q(ie)}}else if(e.type==="record"){const Q=e.definition.match(/record\s+([\w\s\:\*]+)/);if(Q){const ie=Q[1].split("*").map(ue=>{const[fe,pe]=ue.split(":").map(we=>we.trim());return{id:ot(),name:fe,type:pe}});A(ie)}}else if(e.type==="subset"){const Q=e.definition.match(/subset\s+(\w+)\s+by\s+(.+)/);Q&&($(Q[1]),D(Q[2]))}}},[e,t]);const W=()=>{z([...M,{id:ot(),name:`value${M.length+1}`,value:`${M.length+1}`}])},R=Q=>{z(M.filter(ie=>ie.id!==Q))},H=(Q,ie,ue)=>{z(M.map(fe=>fe.id===Q?{...fe,[ie]:ue}:fe))},X=Q=>{Q&&!B.includes(Q)&&q([...B,Q])},I=Q=>{q(B.filter((ie,ue)=>ue!==Q))},V=()=>{A([...U,{id:ot(),name:`field${U.length+1}`,type:"INT"}])},J=Q=>{A(U.filter(ie=>ie.id!==Q))},Z=(Q,ie,ue)=>{A(U.map(fe=>fe.id===Q?{...fe,[ie]:ue}:fe))},K=()=>{let Q=`colset ${r} = `;switch(i){case"basic":Q+=v,k&&(Q+=` with ${N}..${T}`);break;case"enum":Q+=`with ${M.map(ie=>ie.name).join(" | ")}`;break;case"list":Q+=`list ${Y}`;break;case"product":Q+=`product ${B.join(" * ")}`;break;case"record":Q+=`record ${U.map(ie=>`${ie.name}: ${ie.type}`).join(" * ")}`;break;case"subset":Q+=`subset ${F} by ${G}`;break;default:Q+=i}return p&&(Q+=" timed"),Q+=";",Q},te=()=>{const Q=x==="text"?c:K();n({name:r,type:i,definition:Q,color:f,timed:p})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"name",children:"Name"}),u.jsx(Je,{id:"name",placeholder:"e.g., DATA",value:r,onChange:Q=>o(Q.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"type",children:"Type"}),u.jsxs(rn,{value:i,onValueChange:l,children:[u.jsx(sn,{id:"type",children:u.jsx(on,{placeholder:"Select type"})}),u.jsxs(ln,{children:[u.jsx(yt,{value:"basic",children:"Basic"}),u.jsx(yt,{value:"enum",children:"Enumerated"}),u.jsx(yt,{value:"list",children:"List"}),u.jsx(yt,{value:"product",children:"Product"}),u.jsx(yt,{value:"record",children:"Record"}),u.jsx(yt,{value:"subset",children:"Subset"}),u.jsx(yt,{value:"union",children:"Union"})]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"color",children:"Color"}),u.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[u.jsx(UV,{color:f,onChange:m}),u.jsx(Je,{id:"color",type:"text",value:f,onChange:Q=>m(Q.target.value),className:"w-full mt-2"})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(fj,{id:"timed",checked:p,onCheckedChange:Q=>g(Q===!0)}),u.jsx(_e,{htmlFor:"timed",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Timed color set"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"(tokens carry timestamps for timed simulations)"})]}),u.jsxs(Zo,{defaultValue:"visual",className:"w-full",onValueChange:b,children:[u.jsxs(ei,{className:"grid w-full grid-cols-2",children:[u.jsx(Rn,{value:"visual",children:"Visual Editor"}),u.jsx(Rn,{value:"text",children:"Text Editor"})]}),u.jsxs(pr,{value:"visual",className:"space-y-4 pt-4",children:[i==="basic"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{children:"Basic Type"}),u.jsxs(rn,{value:v,onValueChange:S,children:[u.jsx(sn,{children:u.jsx(on,{placeholder:"Select type"})}),u.jsxs(ln,{children:[u.jsx(yt,{value:"int",children:"Integer"}),u.jsx(yt,{value:"bool",children:"Boolean"}),u.jsx(yt,{value:"string",children:"String"}),u.jsx(yt,{value:"unit",children:"Unit"}),u.jsx(yt,{value:"real",children:"Real"}),u.jsx(yt,{value:"time",children:"Time"})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",id:"withRange",checked:k,onChange:Q=>E(Q.target.checked),className:"rounded border-gray-300"}),u.jsx(_e,{htmlFor:"withRange",children:"With Range"})]}),k&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"rangeStart",children:"Range Start"}),u.jsx(Je,{id:"rangeStart",type:"number",value:N,onChange:Q=>_(Q.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"rangeEnd",children:"Range End"}),u.jsx(Je,{id:"rangeEnd",type:"number",value:T,onChange:Q=>P(Q.target.value)})]})]})]}),i==="enum"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(_e,{children:"Enumerated Values"}),M.map(Q=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Je,{placeholder:"Name",value:Q.name,onChange:ie=>H(Q.id,"name",ie.target.value),className:"flex-1"}),u.jsx(Je,{placeholder:"Value",value:Q.value,onChange:ie=>H(Q.id,"value",ie.target.value),className:"w-24"}),u.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>R(Q.id),children:u.jsx(Jn,{className:"h-4 w-4"})})]},Q.id)),u.jsxs(ye,{variant:"outline",size:"sm",onClick:W,className:"mt-2",children:[u.jsx(Tm,{className:"h-4 w-4 mr-2"}),"Add Value"]})]}),i==="list"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{children:"Base Color Set"}),u.jsxs(rn,{value:Y||"INT",onValueChange:L,children:[u.jsx(sn,{children:u.jsx(on,{placeholder:"Select base color set"})}),u.jsx(ln,{children:t.map(Q=>u.jsx(yt,{value:Q.name,children:Q.name},Q.id))})]})]}),i==="product"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(_e,{children:"Product Color Sets"}),B.map((Q,ie)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"flex-1 border rounded-md px-3 py-2",children:Q}),u.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>I(ie),children:u.jsx(Jn,{className:"h-4 w-4"})})]},ie)),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsxs(rn,{defaultValue:"INT",onValueChange:X,children:[u.jsx(sn,{children:u.jsx(on,{placeholder:"Add color set"})}),u.jsx(ln,{children:t.map(Q=>u.jsx(yt,{value:Q.name,children:Q.name},Q.id))})]})})]}),i==="record"&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(_e,{children:"Record Fields"}),U.map(Q=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Je,{placeholder:"Field name",value:Q.name,onChange:ie=>Z(Q.id,"name",ie.target.value),className:"flex-1"}),u.jsxs(rn,{value:Q.type,onValueChange:ie=>Z(Q.id,"type",ie),children:[u.jsx(sn,{className:"w-[140px]",children:u.jsx(on,{placeholder:"Type"})}),u.jsx(ln,{children:t.map(ie=>u.jsx(yt,{value:ie.name,children:ie.name},ie.id))})]}),u.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>J(Q.id),children:u.jsx(Jn,{className:"h-4 w-4"})})]},Q.id)),u.jsxs(ye,{variant:"outline",size:"sm",onClick:V,className:"mt-2",children:[u.jsx(Tm,{className:"h-4 w-4 mr-2"}),"Add Field"]})]}),i==="subset"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{children:"Subset of"}),u.jsxs(rn,{value:F||"INT",onValueChange:$,children:[u.jsx(sn,{children:u.jsx(on,{placeholder:"Select parent color set"})}),u.jsx(ln,{children:t.map(Q=>u.jsx(yt,{value:Q.name,children:Q.name},Q.id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"predicate",children:"Predicate"}),u.jsx(Je,{id:"predicate",placeholder:"e.g., x => x > 0",value:G,onChange:Q=>D(Q.target.value)})]})]}),u.jsxs("div",{className:"pt-4",children:[u.jsx(_e,{children:"Preview"}),u.jsx("div",{className:"font-mono text-sm mt-2 p-3 bg-muted rounded-md",children:K()})]})]}),u.jsx(pr,{value:"text",className:"pt-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"definition",children:"Color Set Definition"}),u.jsx(jr,{id:"definition",placeholder:"colset DATA = int with 1..100;",className:"font-mono h-[200px]",value:c,onChange:Q=>d(Q.target.value)})]})})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ye,{onClick:te,className:"w-full",children:"Save Color Set"})})]})}function YV({variable:e,existingColorSets:t,onSave:n}){const[r,o]=w.useState((e==null?void 0:e.name)||""),[i,l]=w.useState((e==null?void 0:e.colorSet)||"INT");w.useEffect(()=>{e&&(o(e.name),l(e.colorSet))},[e]);const c=()=>{n({name:r,colorSet:i})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(_e,{htmlFor:"name",children:"Name"}),u.jsx(Je,{id:"name",placeholder:"e.g., n",value:r,onChange:d=>o(d.target.value)})]}),u.jsx("div",{className:"space-y-2 flex-none mt-auto pb-2",children:":"}),u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(_e,{htmlFor:"baseColorSet",children:"Type"}),u.jsxs(rn,{value:i||"INT",onValueChange:l,children:[u.jsx(sn,{children:u.jsx(on,{placeholder:"Select color set"})}),u.jsx(ln,{children:t.map(d=>u.jsx(yt,{value:d.name,children:d.name},d.id))})]})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ye,{onClick:c,className:"w-full",children:"Save Variable"})})]})}function XV({priority:e,onSave:t}){const[n,r]=w.useState((e==null?void 0:e.name)||""),[o,i]=w.useState((e==null?void 0:e.level)||100);w.useEffect(()=>{e&&(r(e.name),i(e.level))},[e]);const l=()=>{t({name:n,level:o})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx(_e,{htmlFor:"name",children:"Name"}),u.jsx(Je,{placeholder:"Name (e.g., P_MEDIUM)",className:"flex-1",value:n,onChange:c=>r(c.target.value)})]}),u.jsxs("div",{className:"space-y-2 flex-none",children:[u.jsx(_e,{htmlFor:"baseColorSet",children:"Level"}),u.jsx(Je,{type:"number",placeholder:"Level (e.g., 250)",className:"w-[120px]",value:o||"",onChange:c=>i(Number(c.target.value))})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ye,{onClick:l,className:"w-full",children:"Save Priority"})})]})}function qV({existingFunction:e,onSave:t}){const[n,r]=w.useState(e||{id:ot(),name:"",code:""}),[o,i]=w.useState(e?e.code:"fn add(x,y) {x+y}"),l=d=>{i(d)},c=()=>{const d=o.split(" ")[1].split("(")[0].trim(),m={...n,name:d,code:o};r(m),t(m)};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"raw-code",children:"Function Definition"}),u.jsx(jr,{id:"raw-code",ref:d=>{d&&d.focus()},onFocus:d=>d.currentTarget.setSelectionRange(d.currentTarget.value.length,d.currentTarget.value.length),placeholder:"fn add(x,y) {x+y}",className:"font-mono h-[240px]",value:o,onChange:d=>l(d.target.value)})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ye,{onClick:c,className:"w-full",children:"Save Function"})})]})}function GV({existingUse:e,onSave:t}){const[n,r]=w.useState({name:(e==null?void 0:e.name)||"",content:(e==null?void 0:e.content)||""}),[o,i]=w.useState(!1),l=()=>{n.name.trim()&&t(n)},c=p=>{const g=new FileReader;if(g.onload=x=>{var v;const b=(v=x.target)==null?void 0:v.result;r(S=>({...S,content:b}))},g.readAsText(p),!n.name.trim()&&p.name){const x=p.name;r(b=>({...b,name:x}))}},d=p=>{p.preventDefault(),i(!0)},f=()=>{i(!1)},m=p=>{if(p.preventDefault(),i(!1),p.dataTransfer.files&&p.dataTransfer.files.length>0){const g=p.dataTransfer.files[0];c(g)}};return u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"use-name",children:"Name"}),u.jsx(Je,{id:"use-name",placeholder:"e.g., Utils.sml",value:n.name,onChange:p=>r({...n,name:p.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx(_e,{htmlFor:"use-content",children:"Content"})}),u.jsxs("div",{className:"relative",children:[u.jsx(jr,{id:"use-content",placeholder:"Enter the content of the external file or drag and drop a file here...",className:`font-mono h-[300px] max-w-[550px] transition-colors ${o?"border-primary bg-primary/5":""}`,value:n.content,onChange:p=>r({...n,content:p.target.value}),onDragOver:d,onDragLeave:f,onDrop:m}),o&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-primary/10 border-2 border-dashed border-primary rounded-md pointer-events-none",children:u.jsx("div",{className:"bg-background p-3 rounded-md shadow-md",children:u.jsx("p",{className:"text-sm font-medium",children:"Drop file to import content"})})})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["This content will be included as an external file reference in the CPN model. You can edit it manually or",u.jsx("strong",{children:" drag and drop a file"})," directly onto the text area to import its content."]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(ye,{className:"w-full",type:"submit",onClick:l,children:"Save Library"})})]})}var _f="Collapsible",[KV,xj]=En(_f),[QV,_x]=KV(_f),yj=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:i,onOpenChange:l,...c}=e,[d,f]=Nn({prop:r,defaultProp:o??!1,onChange:l,caller:_f});return u.jsx(QV,{scope:n,disabled:i,contentId:fr(),open:d,onOpenToggle:w.useCallback(()=>f(m=>!m),[f]),children:u.jsx(Fe.div,{"data-state":Tx(d),"data-disabled":i?"":void 0,...c,ref:t})})});yj.displayName=_f;var vj="CollapsibleTrigger",Px=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,o=_x(vj,n);return u.jsx(Fe.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Tx(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:t,onClick:Ie(e.onClick,o.onOpenToggle)})});Px.displayName=vj;var Ax="CollapsibleContent",Ix=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=_x(Ax,e.__scopeCollapsible);return u.jsx(jn,{present:n||o.open,children:({present:i})=>u.jsx(JV,{...r,ref:t,present:i})})});Ix.displayName=Ax;var JV=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:o,...i}=e,l=_x(Ax,n),[c,d]=w.useState(r),f=w.useRef(null),m=st(t,f),p=w.useRef(0),g=p.current,x=w.useRef(0),b=x.current,v=l.open||c,S=w.useRef(v),k=w.useRef(void 0);return w.useEffect(()=>{const E=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(E)},[]),an(()=>{const E=f.current;if(E){k.current=k.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const N=E.getBoundingClientRect();p.current=N.height,x.current=N.width,S.current||(E.style.transitionDuration=k.current.transitionDuration,E.style.animationName=k.current.animationName),d(r)}},[l.open,r]),u.jsx(Fe.div,{"data-state":Tx(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!v,...i,ref:m,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:v&&o})});function Tx(e){return e?"open":"closed"}var wj=yj,ZV=Px,eH=Ix;function oa({...e}){return u.jsx(wj,{"data-slot":"collapsible",...e})}function ia({...e}){return u.jsx(Px,{"data-slot":"collapsible-trigger",...e})}function sa({...e}){return u.jsx(Ix,{"data-slot":"collapsible-content",...e})}function tH(){const[e,t]=w.useState(!1),[n,r]=w.useState(!1),[o,i]=w.useState(!1),[l,c]=w.useState(!1),[d,f]=w.useState(!1),m=me(se=>se.colorSets),p=me(se=>se.setColorSets),g=me(se=>se.addColorSet),x=me(se=>se.deleteColorSet),b=me(se=>se.renameColorSet),v=me(se=>se.variables),S=me(se=>se.setVariables),k=me(se=>se.addVariable),E=me(se=>se.deleteVariable),N=me(se=>se.priorities),_=me(se=>se.setPriorities),T=me(se=>se.addPriority),P=me(se=>se.deletePriority),M=me(se=>se.functions),z=me(se=>se.setFunctions),Y=me(se=>se.addFunction),L=me(se=>se.deleteFunction),B=me(se=>se.uses),q=me(se=>se.setUses),U=me(se=>se.addUse),A=me(se=>se.deleteUse),[F,$]=w.useState({name:"",colorSet:"INT"}),[G,D]=w.useState({name:"",level:250}),[W,R]=w.useState(void 0),[H,X]=w.useState(!1),[I,V]=w.useState(void 0),[J,Z]=w.useState(!1),[K,te]=w.useState(void 0),[Q,ie]=w.useState(!1),[ue,fe]=w.useState(void 0),[pe,we]=w.useState(!1),[De,Oe]=w.useState(void 0),[it,Ze]=w.useState(!1),[Qe,Ce]=w.useState(null),[Ve,ut]=w.useState(null),bt=()=>{F.name&&F.colorSet&&(k({name:F.name,colorSet:F.colorSet}),$({name:"",colorSet:"INT"}))},_t=()=>{G.name&&G.level&&(T({name:G.name,level:Number(G.level)}),D({name:"",level:100}))},At=se=>{R(se),X(!0)},ne=se=>{V(se),Z(!0)},le=se=>{te(se),ie(!0)},he=se=>{fe(se),we(!0)},be=se=>{if(ue){const je=M.map(nt=>nt.id===ue.id?{...nt,...se}:nt);z(je)}else Y(se);we(!1),fe(void 0)},Ne=se=>{Oe(se),Ze(!0)},Le=se=>{if(De){const je=B.map(nt=>nt.id===De.id?{...nt,...se}:nt);q(je)}else U(se);Ze(!1),Oe(void 0)},tt=se=>{if(W){W.name!==se.name&&W.id&&b(W.id,se.name);const je=m.map(nt=>nt.id===W.id?{...nt,...se}:nt);p(je)}else g(se);X(!1),R(void 0)},We=se=>{if(I){const je=v.map(nt=>nt.id===I.id?{...nt,...se}:nt);S(je)}else k(se);Z(!1),V(void 0)},Xe=se=>{if(K){const je=N.map(nt=>nt.id===K.id?{...nt,...se}:nt);_(je)}else T(se);ie(!1),te(void 0)},et=(se,je,nt)=>{Ce(je),ut(nt),se.dataTransfer.effectAllowed="move",se.dataTransfer.setData("text/plain",je.id??"")},Ue=(se,je)=>{se.preventDefault(),se.dataTransfer.dropEffect="move",Qe&&Qe.id!==je.id&&se.currentTarget.classList.add("bg-muted")},St=se=>{se.currentTarget.classList.remove("bg-muted")},gt=(se,je)=>{if(se.preventDefault(),se.currentTarget.classList.remove("bg-muted"),!(!Qe||!Ve)&&Qe.id!==je.id){if(Ve==="colorSet"){const ze=[...m],lt=ze.findIndex(at=>at.id===Qe.id),ft=ze.findIndex(at=>at.id===je.id);lt!==-1&&ft!==-1&&(ze.splice(lt,1),ze.splice(ft,0,Qe),p(ze))}else if(Ve==="variable"){const ze=[...v],lt=ze.findIndex(at=>at.id===Qe.id),ft=ze.findIndex(at=>at.id===je.id);lt!==-1&&ft!==-1&&(ze.splice(lt,1),ze.splice(ft,0,Qe),S(ze))}else if(Ve==="priority"){const ze=[...N],lt=ze.findIndex(at=>at.id===Qe.id),ft=ze.findIndex(at=>at.id===je.id);lt!==-1&&ft!==-1&&(ze.splice(lt,1),ze.splice(ft,0,Qe),_(ze))}else if(Ve==="function"){const ze=[...M],lt=ze.findIndex(at=>at.id===Qe.id),ft=ze.findIndex(at=>at.id===je.id);lt!==-1&&ft!==-1&&(ze.splice(lt,1),ze.splice(ft,0,Qe),z(ze))}Ce(null),ut(null)}},Et=()=>{Ce(null),ut(null)};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"space-y-3",children:u.jsxs(oa,{open:n,onOpenChange:r,children:[u.jsx(ia,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ye,{variant:"ghost",size:"sm",children:[n?u.jsx(Ho,{className:"h-4 w-4",strokeWidth:4}):u.jsx(ji,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Color Sets"})]})}),u.jsxs(sa,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:m.map(se=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:je=>et(je,se,"colorSet"),onDragOver:je=>Ue(je,se),onDragLeave:St,onDrop:je=>gt(je,se),onDragEnd:Et,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(pa,{className:"h-4 w-4 text-muted-foreground"})}),u.jsx("div",{className:"font-mono text-sm",children:se.definition.replace(/^colset\s+/i,"").replace(/;$/,"")}),se.timed&&u.jsx("span",{title:"Timed color set",children:u.jsx(_g,{className:"h-3.5 w-3.5 text-muted-foreground"})})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:se.color||"#3b82f6"}}),u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>At(se),children:u.jsx(Zl,{className:"h-3 w-3"})}),u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>se.id&&x(se.id),children:u.jsx(Jn,{className:"h-3 w-3"})})]})]})},se.id))}),u.jsxs(fn,{open:H,onOpenChange:X,children:[u.jsx(pm,{asChild:!0,children:u.jsx(ye,{className:"w-full",variant:"outline",onClick:()=>{R(void 0),X(!0)},children:"Create New Color Set"})}),u.jsxs(pn,{className:"sm:max-w-[600px]",children:[u.jsx(hn,{children:u.jsx(mn,{children:W?`Edit Color Set: ${W.name}`:"Create New Color Set"})}),u.jsx(WV,{colorSet:W,existingColorSets:m,onSave:tt})]})]})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(oa,{open:o,onOpenChange:i,children:[u.jsx(ia,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ye,{variant:"ghost",size:"sm",children:[o?u.jsx(Ho,{className:"h-4 w-4",strokeWidth:4}):u.jsx(ji,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Variables"})]})}),u.jsxs(sa,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:v.map(se=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:je=>et(je,se,"variable"),onDragOver:je=>Ue(je,se),onDragLeave:St,onDrop:je=>gt(je,se),onDragEnd:Et,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(pa,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"font-mono text-sm",children:["var ",se.name,": ",se.colorSet,";"]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>ne(se),children:u.jsx(Zl,{className:"h-3 w-3"})}),u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>se.id&&E(se.id),children:u.jsx(Jn,{className:"h-3 w-3"})})]})]})},se.id))}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Je,{placeholder:"Name (e.g., n)",className:"flex-1",value:F.name,onChange:se=>$({...F,name:se.target.value})})," :",u.jsxs(rn,{value:F.colorSet,onValueChange:se=>$({...F,colorSet:se}),children:[u.jsx(sn,{className:"w-[180px]",children:u.jsx(on,{placeholder:"Color Set"})}),u.jsx(ln,{children:m.map(se=>u.jsx(yt,{value:se.name,children:se.name},se.id))})]})]}),u.jsx(ye,{size:"sm",variant:"outline",onClick:bt,children:"Add Variable"}),u.jsx(fn,{open:J,onOpenChange:Z,children:u.jsxs(pn,{className:"sm:max-w-[600px]",children:[u.jsx(hn,{children:u.jsx(mn,{children:I?`Edit Variable: ${I.name}`:"Create New Variable"})}),u.jsx(YV,{variable:I,existingColorSets:m,onSave:We})]})})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(oa,{open:l,onOpenChange:c,children:[u.jsx(ia,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ye,{variant:"ghost",size:"sm",children:[l?u.jsx(Ho,{className:"h-4 w-4",strokeWidth:4}):u.jsx(ji,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Functions"})]})}),u.jsxs(sa,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:M.map(se=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:je=>et(je,se,"function"),onDragOver:je=>Ue(je,se),onDragLeave:St,onDrop:je=>gt(je,se),onDragEnd:Et,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(pa,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"font-mono text-sm",children:["fn ",se.name]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>he(se),children:u.jsx(Zl,{className:"h-3 w-3"})}),u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>se.id&&L(se.id),children:u.jsx(Jn,{className:"h-3 w-3"})})]})]})},se.id))}),u.jsxs(fn,{open:pe,onOpenChange:we,children:[u.jsx(pm,{asChild:!0,children:u.jsx(ye,{className:"w-full",variant:"outline",onClick:()=>fe(void 0),children:"Create New Function"})}),u.jsxs(pn,{className:"sm:max-w-[600px]",children:[u.jsx(hn,{children:u.jsx(mn,{children:ue?`Edit Function: ${ue.name}`:"Create New Function"})}),u.jsx(qV,{existingFunction:ue,onSave:be})]})]})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(oa,{open:d,onOpenChange:f,children:[u.jsx(ia,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ye,{variant:"ghost",size:"sm",children:[d?u.jsx(Ho,{className:"h-4 w-4",strokeWidth:4}):u.jsx(ji,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Libraries"})]})}),u.jsxs(sa,{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:B.map(se=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",draggable:!0,onDragStart:je=>et(je,se,"use"),onDragOver:je=>Ue(je,se),onDragLeave:St,onDrop:je=>gt(je,se),onDragEnd:Et,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"cursor-grab active:cursor-grabbing",children:u.jsx(pa,{className:"h-4 w-4 text-muted-foreground"})}),u.jsxs("div",{className:"font-mono text-sm",children:['use "',se.name,'";']})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>Ne(se),children:u.jsx(Zl,{className:"h-3 w-3"})}),u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>se.id&&A(se.id),children:u.jsx(Jn,{className:"h-3 w-3"})})]})]})},se.id))}),u.jsxs(fn,{open:it,onOpenChange:Ze,children:[u.jsx(pm,{asChild:!0,children:u.jsx(ye,{className:"w-full",variant:"outline",onClick:()=>Oe(void 0),children:"Add External Library"})}),u.jsxs(pn,{className:"sm:max-w-[600px]",children:[u.jsx(hn,{children:u.jsx(mn,{children:De?"Edit External Library":"Add External Library"})}),u.jsx(GV,{existingUse:De,onSave:Le})]})]})]})]})}),u.jsx("div",{className:"space-y-3",children:u.jsxs(oa,{open:e,onOpenChange:t,children:[u.jsx(ia,{asChild:!0,children:u.jsxs("div",{className:"flex items-center -ml-3 mb-2 cursor-pointer",children:[u.jsxs(ye,{variant:"ghost",size:"sm",children:[e?u.jsx(Ho,{className:"h-4 w-4",strokeWidth:4}):u.jsx(ji,{className:"h-4 w-4",strokeWidth:4}),u.jsx("span",{className:"sr-only",children:"Toggle"})]}),u.jsx("h2",{className:"font-bold flex-1",children:"Priorities"})]})}),u.jsxs(sa,{className:"space-y-3 mb-8",children:[u.jsx("div",{className:"space-y-2",children:N.slice().sort((se,je)=>se.level-je.level).map(se=>u.jsx("div",{className:"border rounded-md p-3 bg-muted/20 transition-colors",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{className:"font-mono text-sm",children:[se.name," = ",se.level]})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>le(se),children:u.jsx(Zl,{className:"h-3 w-3"})}),u.jsx(ye,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>se.id&&P(se.id),children:u.jsx(Jn,{className:"h-3 w-3"})})]})]})},se.id))}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Je,{placeholder:"Name (e.g., P_MEDIUM)",className:"flex-1",value:G.name,onChange:se=>D({...G,name:se.target.value})}),u.jsx(Je,{type:"number",placeholder:"Level (e.g., 250)",className:"w-[120px]",value:G.level||"",onChange:se=>D({...G,level:Number.parseInt(se.target.value)||0})})]}),u.jsx(ye,{size:"sm",variant:"outline",onClick:_t,children:"Add Priority"}),u.jsx(fn,{open:Q,onOpenChange:ie,children:u.jsxs(pn,{className:"sm:max-w-[600px]",children:[u.jsx(hn,{children:u.jsx(mn,{children:K?`Edit Priority: ${K.name}`:"Create New Priority"})}),u.jsx(XV,{priority:K,onSave:Xe})]})})]})]})})]})}const nH=()=>{var o;const e=me(i=>{const l=i.activePetriNetId?i.petriNetsById[i.activePetriNetId]:null;return l==null?void 0:l.selectedElement}),t=me(i=>i.colorSets),n=me(i=>i.priorities),r=()=>{if(!e)return u.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Select an element to edit its properties"});if(e.type==="node"){const i=e.element.type;if(i==="place")return u.jsx(D6,{colorSets:t});if(i==="transition")return u.jsx($6,{priorities:n});if(i==="auxText")return u.jsx(F6,{})}else if(e.type==="edge")return u.jsx(B6,{});return null};return u.jsxs(ka,{defaultSize:20,className:"min-w-[400px] flex flex-col h-full overflow-hidden",children:[u.jsx("div",{className:"px-4 py-2 flex-shrink-0",children:u.jsx("h3",{className:"text-lg font-medium",children:"OCPN Tools"})}),u.jsx("div",{className:"px-4 py-2 flex-1 flex flex-col overflow-hidden",children:u.jsxs(Zo,{defaultValue:"model",className:"flex flex-col flex-1 overflow-hidden",children:[u.jsxs(ei,{className:"grid w-full grid-cols-2 flex-shrink-0",children:[u.jsx(Rn,{value:"model",children:"Model"}),u.jsx(Rn,{value:"simulation",children:"Simulation"})]}),u.jsx(Cd,{value:"model",className:"space-y-4 mt-2 flex-1 overflow-auto",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"space-y-2",children:u.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("span",{className:"text-sm font-semibold leading-none tracking-tight",children:e?e.type==="node"?e.element.type==="place"?"Place Properties":e.element.type==="auxText"?"Text Properties":"Transition Properties":"Arc Properties":"Element Properties"}),e&&u.jsx(V6,{elementType:e.type==="node"?"node":"edge",elementId:e.element.id,elementLabel:(o=e.element.data)==null?void 0:o.label})]}),u.jsx("div",{children:r()})]})}),u.jsx(lc,{orientation:"horizontal",className:"mt-2"}),u.jsx("div",{className:"p-4",children:u.jsx(tH,{})})]})}),u.jsx(Cd,{value:"simulation",className:"mt-2 flex-1 overflow-hidden",children:u.jsx(CV,{})})]})})]})},rH="modulepreload",oH=function(e){return"/ocpn-tools/"+e},Qb={},Jb=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=l(n.map(f=>{if(f=oH(f),f in Qb)return;Qb[f]=!0;const m=f.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":rH,m||(g.as="script"),g.crossOrigin="",g.href=f,d&&g.setAttribute("nonce",d),document.head.appendChild(g),m)return new Promise((x,b)=>{g.addEventListener("load",x),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};function iH(e){const t=me(l=>l.setNodes),n=me(l=>l.setEdges),r=w.useCallback(l=>{var f;const c=((f=me.getState().petriNetsById[e])==null?void 0:f.nodes)||[],d=iC(l,c);t(e,d)},[e,t]),o=w.useCallback(l=>{var f;const c=((f=me.getState().petriNetsById[e])==null?void 0:f.edges)||[],d=sC(l,c);n(e,d)},[e,n]),i=w.useCallback(l=>{var f;const c={...l,id:ot(),type:"floating",label:"",animated:!1},d=((f=me.getState().petriNetsById[e])==null?void 0:f.edges)||[];n(e,[...d,c])},[e,n]);return{onNodesChange:r,onEdgesChange:o,onConnect:i}}const Zb=e=>Symbol.iterator in e,e1=e=>"entries"in e,t1=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[o,i]of n)if(!r.has(o)||!Object.is(i,r.get(o)))return!1;return!0},sH=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let o=n.next(),i=r.next();for(;!o.done&&!i.done;){if(!Object.is(o.value,i.value))return!1;o=n.next(),i=r.next()}return!!o.done&&!!i.done};function lH(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:Zb(e)&&Zb(t)?e1(e)&&e1(t)?t1(e,t):sH(e,t):t1({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function aH(e){const t=He.useRef(void 0);return n=>{const r=e(n);return lH(t.current,r)?t.current:t.current=r}}var bj="Toggle",Rx=w.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:o,...i}=e,[l,c]=Nn({prop:n,onChange:o,defaultProp:r??!1,caller:bj});return u.jsx(Fe.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:Ie(e.onClick,()=>{e.disabled||c(!l)})})});Rx.displayName=bj;var cH=Rx;const Sj=vf("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function n1({className:e,variant:t,size:n,...r}){return u.jsx(cH,{"data-slot":"toggle",className:Ye(Sj({variant:t,size:n,className:e})),...r})}var uH=Symbol("radix.slottable");function dH(e){const t=({children:n})=>u.jsx(u.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=uH,t}var fH=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pH="VisuallyHidden",kj=w.forwardRef((e,t)=>u.jsx(Fe.span,{...e,ref:t,style:{...fH,...e.style}}));kj.displayName=pH;var hH=kj,[Pf,iG]=En("Tooltip",[cl]),Af=cl(),Cj="TooltipProvider",mH=700,dg="tooltip.open",[gH,Mx]=Pf(Cj),Nj=e=>{const{__scopeTooltip:t,delayDuration:n=mH,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=e,l=w.useRef(!0),c=w.useRef(!1),d=w.useRef(0);return w.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),u.jsx(gH,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:w.useCallback(f=>{c.current=f},[]),disableHoverableContent:o,children:i})};Nj.displayName=Cj;var Ga="Tooltip",[xH,fc]=Pf(Ga),Ej=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o,onOpenChange:i,disableHoverableContent:l,delayDuration:c}=e,d=Mx(Ga,e.__scopeTooltip),f=Af(t),[m,p]=w.useState(null),g=fr(),x=w.useRef(0),b=l??d.disableHoverableContent,v=c??d.delayDuration,S=w.useRef(!1),[k,E]=Nn({prop:r,defaultProp:o??!1,onChange:M=>{M?(d.onOpen(),document.dispatchEvent(new CustomEvent(dg))):d.onClose(),i==null||i(M)},caller:Ga}),N=w.useMemo(()=>k?S.current?"delayed-open":"instant-open":"closed",[k]),_=w.useCallback(()=>{window.clearTimeout(x.current),x.current=0,S.current=!1,E(!0)},[E]),T=w.useCallback(()=>{window.clearTimeout(x.current),x.current=0,E(!1)},[E]),P=w.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{S.current=!0,E(!0),x.current=0},v)},[v,E]);return w.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),u.jsx(px,{...f,children:u.jsx(xH,{scope:t,contentId:g,open:k,stateAttribute:N,trigger:m,onTriggerChange:p,onTriggerEnter:w.useCallback(()=>{d.isOpenDelayedRef.current?P():_()},[d.isOpenDelayedRef,P,_]),onTriggerLeave:w.useCallback(()=>{b?T():(window.clearTimeout(x.current),x.current=0)},[T,b]),onOpen:_,onClose:T,disableHoverableContent:b,children:n})})};Ej.displayName=Ga;var fg="TooltipTrigger",jj=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=fc(fg,n),i=Mx(fg,n),l=Af(n),c=w.useRef(null),d=st(t,c,o.onTriggerChange),f=w.useRef(!1),m=w.useRef(!1),p=w.useCallback(()=>f.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),u.jsx(ff,{asChild:!0,...l,children:u.jsx(Fe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:d,onPointerMove:Ie(e.onPointerMove,g=>{g.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{o.open&&o.onClose(),f.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ie(e.onFocus,()=>{f.current||o.onOpen()}),onBlur:Ie(e.onBlur,o.onClose),onClick:Ie(e.onClick,o.onClose)})})});jj.displayName=fg;var Dx="TooltipPortal",[yH,vH]=Pf(Dx,{forceMount:void 0}),_j=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:o}=e,i=fc(Dx,t);return u.jsx(yH,{scope:t,forceMount:n,children:u.jsx(jn,{present:n||i.open,children:u.jsx(dc,{asChild:!0,container:o,children:r})})})};_j.displayName=Dx;var el="TooltipContent",Pj=w.forwardRef((e,t)=>{const n=vH(el,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=e,l=fc(el,e.__scopeTooltip);return u.jsx(jn,{present:r||l.open,children:l.disableHoverableContent?u.jsx(Aj,{side:o,...i,ref:t}):u.jsx(wH,{side:o,...i,ref:t})})}),wH=w.forwardRef((e,t)=>{const n=fc(el,e.__scopeTooltip),r=Mx(el,e.__scopeTooltip),o=w.useRef(null),i=st(t,o),[l,c]=w.useState(null),{trigger:d,onClose:f}=n,m=o.current,{onPointerInTransitChange:p}=r,g=w.useCallback(()=>{c(null),p(!1)},[p]),x=w.useCallback((b,v)=>{const S=b.currentTarget,k={x:b.clientX,y:b.clientY},E=CH(k,S.getBoundingClientRect()),N=NH(k,E),_=EH(v.getBoundingClientRect()),T=_H([...N,..._]);c(T),p(!0)},[p]);return w.useEffect(()=>()=>g(),[g]),w.useEffect(()=>{if(d&&m){const b=S=>x(S,m),v=S=>x(S,d);return d.addEventListener("pointerleave",b),m.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",b),m.removeEventListener("pointerleave",v)}}},[d,m,x,g]),w.useEffect(()=>{if(l){const b=v=>{const S=v.target,k={x:v.clientX,y:v.clientY},E=(d==null?void 0:d.contains(S))||(m==null?void 0:m.contains(S)),N=!jH(k,l);E?g():N&&(g(),f())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[d,m,l,f,g]),u.jsx(Aj,{...e,ref:i})}),[bH,SH]=Pf(Ga,{isInside:!1}),kH=dH("TooltipContent"),Aj=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:l,...c}=e,d=fc(el,n),f=Af(n),{onClose:m}=d;return w.useEffect(()=>(document.addEventListener(dg,m),()=>document.removeEventListener(dg,m)),[m]),w.useEffect(()=>{if(d.trigger){const p=g=>{const x=g.target;x!=null&&x.contains(d.trigger)&&m()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,m]),u.jsx(cc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:p=>p.preventDefault(),onDismiss:m,children:u.jsxs(hx,{"data-state":d.stateAttribute,...f,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(kH,{children:r}),u.jsx(bH,{scope:n,isInside:!0,children:u.jsx(hH,{id:d.contentId,role:"tooltip",children:o||r})})]})})});Pj.displayName=el;var Ij="TooltipArrow",Tj=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Af(n);return SH(Ij,n).isInside?null:u.jsx(mx,{...o,...r,ref:t})});Tj.displayName=Ij;function CH(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function NH(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function EH(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function jH(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const c=t[i],d=t[l],f=c.x,m=c.y,p=d.x,g=d.y;m>r!=g>r&&n<(p-f)*(r-m)/(g-m)+f&&(o=!o)}return o}function _H(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),PH(t)}function PH(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(o.y-l.y)>=(i.y-l.y)*(o.x-l.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const i=n[n.length-1],l=n[n.length-2];if((i.x-l.x)*(o.y-l.y)>=(i.y-l.y)*(o.x-l.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var AH=Nj,IH=Ej,TH=jj,RH=_j,MH=Pj,DH=Tj;function er({delayDuration:e=0,...t}){return u.jsx(AH,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function bn({...e}){return u.jsx(er,{children:u.jsx(IH,{"data-slot":"tooltip",...e})})}function Sn({...e}){return u.jsx(TH,{"data-slot":"tooltip-trigger",...e})}function kn({className:e,sideOffset:t=0,children:n,...r}){return u.jsx(RH,{children:u.jsxs(MH,{"data-slot":"tooltip-content",sideOffset:t,className:Ye("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,u.jsx(DH,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function OH(e){const t=LH(e),n=w.forwardRef((r,o)=>{const{children:i,...l}=r,c=w.Children.toArray(i),d=c.find($H);if(d){const f=d.props.children,m=c.map(p=>p===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:p);return u.jsx(t,{...l,ref:o,children:w.isValidElement(f)?w.cloneElement(f,void 0,m):null})}return u.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function LH(e){const t=w.forwardRef((n,r)=>{const{children:o,...i}=n;if(w.isValidElement(o)){const l=BH(o),c=FH(i,o.props);return o.type!==w.Fragment&&(c.ref=r?Wi(r,l):l),w.cloneElement(o,c)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zH=Symbol("radix.slottable");function $H(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zH}function FH(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{const d=i(...c);return o(...c),d}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function BH(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var If="Popover",[Rj,sG]=En(If,[cl]),pc=cl(),[VH,oi]=Rj(If),Mj=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:l=!1}=e,c=pc(t),d=w.useRef(null),[f,m]=w.useState(!1),[p,g]=Nn({prop:r,defaultProp:o??!1,onChange:i,caller:If});return u.jsx(px,{...c,children:u.jsx(VH,{scope:t,contentId:fr(),triggerRef:d,open:p,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(x=>!x),[g]),hasCustomAnchor:f,onCustomAnchorAdd:w.useCallback(()=>m(!0),[]),onCustomAnchorRemove:w.useCallback(()=>m(!1),[]),modal:l,children:n})})};Mj.displayName=If;var Dj="PopoverAnchor",HH=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=oi(Dj,n),i=pc(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=o;return w.useEffect(()=>(l(),()=>c()),[l,c]),u.jsx(ff,{...i,...r,ref:t})});HH.displayName=Dj;var Oj="PopoverTrigger",Lj=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=oi(Oj,n),i=pc(n),l=st(t,o.triggerRef),c=u.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Vj(o.open),...r,ref:l,onClick:Ie(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?c:u.jsx(ff,{asChild:!0,...i,children:c})});Lj.displayName=Oj;var Ox="PopoverPortal",[UH,WH]=Rj(Ox,{forceMount:void 0}),zj=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,i=oi(Ox,t);return u.jsx(UH,{scope:t,forceMount:n,children:u.jsx(jn,{present:n||i.open,children:u.jsx(dc,{asChild:!0,container:o,children:r})})})};zj.displayName=Ox;var tl="PopoverContent",$j=w.forwardRef((e,t)=>{const n=WH(tl,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,i=oi(tl,e.__scopePopover);return u.jsx(jn,{present:r||i.open,children:i.modal?u.jsx(XH,{...o,ref:t}):u.jsx(qH,{...o,ref:t})})});$j.displayName=tl;var YH=OH("PopoverContent.RemoveScroll"),XH=w.forwardRef((e,t)=>{const n=oi(tl,e.__scopePopover),r=w.useRef(null),o=st(t,r),i=w.useRef(!1);return w.useEffect(()=>{const l=r.current;if(l)return gx(l)},[]),u.jsx(mf,{as:YH,allowPinchZoom:!0,children:u.jsx(Fj,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),i.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Ie(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),qH=w.forwardRef((e,t)=>{const n=oi(tl,e.__scopePopover),r=w.useRef(!1),o=w.useRef(!1);return u.jsx(Fj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),Fj=w.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,...p}=e,g=oi(tl,n),x=pc(n);return ox(),u.jsx(sf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:u.jsx(cc,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:u.jsx(hx,{"data-state":Vj(g.open),role:"dialog",id:g.contentId,...x,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Bj="PopoverClose",GH=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=oi(Bj,n);return u.jsx(Fe.button,{type:"button",...r,ref:t,onClick:Ie(e.onClick,()=>o.onOpenChange(!1))})});GH.displayName=Bj;var KH="PopoverArrow",QH=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=pc(n);return u.jsx(mx,{...o,...r,ref:t})});QH.displayName=KH;function Vj(e){return e?"open":"closed"}var JH=Mj,ZH=Lj,e8=zj,t8=$j;function n8({...e}){return u.jsx(JH,{"data-slot":"popover",...e})}function r8({...e}){return u.jsx(ZH,{"data-slot":"popover-trigger",...e})}function o8({className:e,align:t="center",sideOffset:n=4,...r}){return u.jsx(e8,{children:u.jsx(t8,{"data-slot":"popover-content",align:t,sideOffset:n,className:Ye("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}var Hj=["PageUp","PageDown"],Uj=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Wj={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},dl="Slider",[pg,i8,s8]=rf(dl),[Yj,lG]=En(dl,[s8]),[l8,Tf]=Yj(dl),Xj=w.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:i=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[r],value:m,onValueChange:p=()=>{},onValueCommit:g=()=>{},inverted:x=!1,form:b,...v}=e,S=w.useRef(new Set),k=w.useRef(0),N=l==="horizontal"?a8:c8,[_=[],T]=Nn({prop:m,defaultProp:f,onChange:B=>{var U;(U=[...S.current][k.current])==null||U.focus(),p(B)}}),P=w.useRef(_);function M(B){const q=h8(_,B);L(B,q)}function z(B){L(B,k.current)}function Y(){const B=P.current[k.current];_[k.current]!==B&&g(_)}function L(B,q,{commit:U}={commit:!1}){const A=y8(i),F=v8(Math.round((B-r)/i)*i+r,A),$=Wa(F,[r,o]);T((G=[])=>{const D=f8(G,$,q);if(x8(D,d*i)){k.current=D.indexOf($);const W=String(D)!==String(G);return W&&U&&g(D),W?D:G}else return G})}return u.jsx(l8,{scope:e.__scopeSlider,name:n,disabled:c,min:r,max:o,valueIndexToChangeRef:k,thumbs:S.current,values:_,orientation:l,form:b,children:u.jsx(pg.Provider,{scope:e.__scopeSlider,children:u.jsx(pg.Slot,{scope:e.__scopeSlider,children:u.jsx(N,{"aria-disabled":c,"data-disabled":c?"":void 0,...v,ref:t,onPointerDown:Ie(v.onPointerDown,()=>{c||(P.current=_)}),min:r,max:o,inverted:x,onSlideStart:c?void 0:M,onSlideMove:c?void 0:z,onSlideEnd:c?void 0:Y,onHomeKeyDown:()=>!c&&L(r,0,{commit:!0}),onEndKeyDown:()=>!c&&L(o,_.length-1,{commit:!0}),onStepKeyDown:({event:B,direction:q})=>{if(!c){const F=Hj.includes(B.key)||B.shiftKey&&Uj.includes(B.key)?10:1,$=k.current,G=_[$],D=i*F*q;L(G+D,$,{commit:!0})}}})})})})});Xj.displayName=dl;var[qj,Gj]=Yj(dl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),a8=w.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:i,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:f,...m}=e,[p,g]=w.useState(null),x=st(t,N=>g(N)),b=w.useRef(void 0),v=Jo(o),S=v==="ltr",k=S&&!i||!S&&i;function E(N){const _=b.current||p.getBoundingClientRect(),T=[0,_.width],M=Lx(T,k?[n,r]:[r,n]);return b.current=_,M(N-_.left)}return u.jsx(qj,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:u.jsx(Kj,{dir:v,"data-orientation":"horizontal",...m,ref:x,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const _=E(N.clientX);l==null||l(_)},onSlideMove:N=>{const _=E(N.clientX);c==null||c(_)},onSlideEnd:()=>{b.current=void 0,d==null||d()},onStepKeyDown:N=>{const T=Wj[k?"from-left":"from-right"].includes(N.key);f==null||f({event:N,direction:T?-1:1})}})})}),c8=w.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=e,m=w.useRef(null),p=st(t,m),g=w.useRef(void 0),x=!o;function b(v){const S=g.current||m.current.getBoundingClientRect(),k=[0,S.height],N=Lx(k,x?[r,n]:[n,r]);return g.current=S,N(v-S.top)}return u.jsx(qj,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:u.jsx(Kj,{"data-orientation":"vertical",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const S=b(v.clientY);i==null||i(S)},onSlideMove:v=>{const S=b(v.clientY);l==null||l(S)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:v=>{const k=Wj[x?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:k?-1:1})}})})}),Kj=w.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:d,...f}=e,m=Tf(dl,n);return u.jsx(Fe.span,{...f,ref:t,onKeyDown:Ie(e.onKeyDown,p=>{p.key==="Home"?(l(p),p.preventDefault()):p.key==="End"?(c(p),p.preventDefault()):Hj.concat(Uj).includes(p.key)&&(d(p),p.preventDefault())}),onPointerDown:Ie(e.onPointerDown,p=>{const g=p.target;g.setPointerCapture(p.pointerId),p.preventDefault(),m.thumbs.has(g)?g.focus():r(p)}),onPointerMove:Ie(e.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&o(p)}),onPointerUp:Ie(e.onPointerUp,p=>{const g=p.target;g.hasPointerCapture(p.pointerId)&&(g.releasePointerCapture(p.pointerId),i(p))})})}),Qj="SliderTrack",Jj=w.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Tf(Qj,n);return u.jsx(Fe.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});Jj.displayName=Qj;var hg="SliderRange",Zj=w.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Tf(hg,n),i=Gj(hg,n),l=w.useRef(null),c=st(t,l),d=o.values.length,f=o.values.map(g=>n_(g,o.min,o.max)),m=d>1?Math.min(...f):0,p=100-Math.max(...f);return u.jsx(Fe.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:c,style:{...e.style,[i.startEdge]:m+"%",[i.endEdge]:p+"%"}})});Zj.displayName=hg;var mg="SliderThumb",e_=w.forwardRef((e,t)=>{const n=i8(e.__scopeSlider),[r,o]=w.useState(null),i=st(t,c=>o(c)),l=w.useMemo(()=>r?n().findIndex(c=>c.ref.current===r):-1,[n,r]);return u.jsx(u8,{...e,ref:i,index:l})}),u8=w.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...i}=e,l=Tf(mg,n),c=Gj(mg,n),[d,f]=w.useState(null),m=st(t,E=>f(E)),p=d?l.form||!!d.closest("form"):!0,g=df(d),x=l.values[r],b=x===void 0?0:n_(x,l.min,l.max),v=p8(r,l.values.length),S=g==null?void 0:g[c.size],k=S?m8(S,b,c.direction):0;return w.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${b}% + ${k}px)`},children:[u.jsx(pg.ItemSlot,{scope:e.__scopeSlider,children:u.jsx(Fe.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":l.min,"aria-valuenow":x,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...i,ref:m,style:x===void 0?{display:"none"}:e.style,onFocus:Ie(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),p&&u.jsx(t_,{name:o??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:x},r)]})});e_.displayName=mg;var d8="RadioBubbleInput",t_=w.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const o=w.useRef(null),i=st(o,r),l=pf(t);return w.useEffect(()=>{const c=o.current;if(!c)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const p=new Event("input",{bubbles:!0});m.call(c,t),c.dispatchEvent(p)}},[l,t]),u.jsx(Fe.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});t_.displayName=d8;function f8(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,i)=>o-i)}function n_(e,t,n){const i=100/(n-t)*(e-t);return Wa(i,[0,100])}function p8(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function h8(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function m8(e,t,n){const r=e/2,i=Lx([0,50],[0,r]);return(r-i(t)*n)*n}function g8(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function x8(e,t){if(t>0){const n=g8(e);return Math.min(...n)>=t}return!0}function Lx(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function y8(e){return(String(e).split(".")[1]||"").length}function v8(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var w8=Xj,b8=Jj,S8=Zj,k8=e_;function Yu({className:e,defaultValue:t,value:n,min:r=0,max:o=100,...i}){const l=w.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,o],[n,t,r,o]);return u.jsxs(w8,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:o,className:Ye("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...i,children:[u.jsx(b8,{"data-slot":"slider-track",className:Ye("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:u.jsx(S8,{"data-slot":"slider-range",className:Ye("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(c,d)=>u.jsx(k8,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},d))]})}var ii="ToggleGroup",[r_,aG]=En(ii,[sl]),o_=sl(),zx=He.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return u.jsx(C8,{...o,ref:t})}if(n==="multiple"){const o=r;return u.jsx(N8,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${ii}\``)});zx.displayName=ii;var[i_,s_]=r_(ii),C8=He.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[l,c]=Nn({prop:n,defaultProp:r??"",onChange:o,caller:ii});return u.jsx(i_,{scope:e.__scopeToggleGroup,type:"single",value:He.useMemo(()=>l?[l]:[],[l]),onItemActivate:c,onItemDeactivate:He.useCallback(()=>c(""),[c]),children:u.jsx(l_,{...i,ref:t})})}),N8=He.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[l,c]=Nn({prop:n,defaultProp:r??[],onChange:o,caller:ii}),d=He.useCallback(m=>c((p=[])=>[...p,m]),[c]),f=He.useCallback(m=>c((p=[])=>p.filter(g=>g!==m)),[c]);return u.jsx(i_,{scope:e.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:d,onItemDeactivate:f,children:u.jsx(l_,{...i,ref:t})})});zx.displayName=ii;var[E8,j8]=r_(ii),l_=He.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:i,dir:l,loop:c=!0,...d}=e,f=o_(n),m=Jo(l),p={role:"group",dir:m,...d};return u.jsx(E8,{scope:n,rovingFocus:o,disabled:r,children:o?u.jsx(tx,{asChild:!0,...f,orientation:i,dir:m,loop:c,children:u.jsx(Fe.div,{...p,ref:t})}):u.jsx(Fe.div,{...p,ref:t})})}),Md="ToggleGroupItem",a_=He.forwardRef((e,t)=>{const n=s_(Md,e.__scopeToggleGroup),r=j8(Md,e.__scopeToggleGroup),o=o_(e.__scopeToggleGroup),i=n.value.includes(e.value),l=r.disabled||e.disabled,c={...e,pressed:i,disabled:l},d=He.useRef(null);return r.rovingFocus?u.jsx(nx,{asChild:!0,...o,focusable:!l,active:i,ref:d,children:u.jsx(r1,{...c,ref:t})}):u.jsx(r1,{...c,ref:t})});a_.displayName=Md;var r1=He.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,i=s_(Md,n),l={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},c=i.type==="single"?l:void 0;return u.jsx(Rx,{...c,...o,ref:t,onPressedChange:d=>{d?i.onItemActivate(r):i.onItemDeactivate(r)}})}),_8=zx,P8=a_;const c_=w.createContext({size:"default",variant:"default"});function A8({className:e,variant:t,size:n,children:r,...o}){return u.jsx(_8,{"data-slot":"toggle-group","data-variant":t,"data-size":n,className:Ye("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",e),...o,children:u.jsx(c_.Provider,{value:{variant:t,size:n},children:r})})}function o1({className:e,children:t,variant:n,size:r,...o}){const i=w.useContext(c_);return u.jsx(P8,{"data-slot":"toggle-group-item","data-variant":i.variant||n,"data-size":i.size||r,className:Ye(Sj({variant:i.variant||n,size:i.size||r}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",e),...o,children:t})}function I8({onApplyLayout:e}){const[t,n]=w.useState({algorithm:"dagre",direction:"TB",nodeSeparation:50,rankSeparation:100}),[r,o]=w.useState(!1),i=()=>{e(t),o(!1)};return u.jsxs(n8,{open:r,onOpenChange:o,children:[u.jsx(er,{children:u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("span",{children:u.jsx(r8,{asChild:!0,children:u.jsxs(ye,{variant:"ghost",size:"icon",children:[u.jsx(oI,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Layout"})]})})})}),u.jsx(kn,{children:u.jsx("p",{children:"Layout Options"})})]})}),u.jsx(o8,{className:"w-80",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium",children:"Layout Options"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"algorithm",children:"Algorithm"}),u.jsxs(rn,{value:t.algorithm,onValueChange:l=>n({...t,algorithm:l}),children:[u.jsx(sn,{id:"algorithm",children:u.jsx(on,{placeholder:"Select algorithm"})}),u.jsxs(ln,{children:[u.jsx(yt,{value:"dagre",children:"Dagre"}),u.jsx(yt,{value:"elk",children:"ELK"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{children:"Direction"}),u.jsxs(A8,{type:"single",value:t.direction,onValueChange:l=>{l&&n({...t,direction:l})},className:"justify-start",children:[u.jsx(o1,{value:"TB","aria-label":"Vertical Layout",title:"Vertical Layout",children:u.jsx(wA,{className:"h-4 w-4"})}),u.jsx(o1,{value:"LR","aria-label":"Horizontal Layout",title:"Horizontal Layout",children:u.jsx(iS,{className:"h-4 w-4"})})]})]}),u.jsx(lc,{}),t.algorithm==="dagre"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(_e,{htmlFor:"nodeSeparation",children:"Node Separation"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.nodeSeparation,"px"]})]}),u.jsx(Yu,{id:"nodeSeparation",min:20,max:200,step:5,value:[t.nodeSeparation],onValueChange:l=>n({...t,nodeSeparation:l[0]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(_e,{htmlFor:"rankSeparation",children:"Rank Separation"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.rankSeparation,"px"]})]}),u.jsx(Yu,{id:"rankSeparation",min:20,max:300,step:10,value:[t.rankSeparation],onValueChange:l=>n({...t,rankSeparation:l[0]})})]})]}),t.algorithm==="elk"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(_e,{htmlFor:"nodeNodeSpacing",children:"Node-Node Spacing"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.nodeSeparation,"px"]})]}),u.jsx(Yu,{id:"nodeNodeSpacing",min:10,max:100,step:5,value:[t.nodeSeparation],onValueChange:l=>n({...t,nodeSeparation:l[0]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(_e,{htmlFor:"layerSpacing",children:"Layer Spacing"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.rankSeparation,"px"]})]}),u.jsx(Yu,{id:"layerSpacing",min:20,max:200,step:10,value:[t.rankSeparation],onValueChange:l=>n({...t,rankSeparation:l[0]})})]})]}),u.jsx(ye,{className:"w-full",onClick:i,children:"Apply Layout"})]})})]})}const u_=w.createContext([null,()=>{}]),T8=({children:e})=>{const[t,n]=w.useState(null);return u.jsx(u_.Provider,{value:[t,n],children:e})},d_=()=>w.useContext(u_);function R8({toggleArcMode:e,onApplyLayout:t}){const[,n]=d_(),r=me(l=>l.showMarkingDisplay),o=me(l=>l.setShowMarkingDisplay),i=(l,c)=>{n&&n(c),l.dataTransfer.effectAllowed="move"};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"flex items-center gap-2 bg-background border rounded-lg p-2 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(er,{children:u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("span",{children:u.jsx(ye,{variant:"ghost",size:"icon",title:"Place",className:"cursor-grab",children:u.jsxs("div",{draggable:!0,onDragStart:l=>i(l,"place"),children:[u.jsx(uS,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Drag a Place from Here"})]})})})}),u.jsx(kn,{children:u.jsx("p",{children:"Drag a Place from Here"})})]})}),u.jsx(er,{children:u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("span",{children:u.jsx(ye,{variant:"ghost",size:"icon",title:"Transition",className:"cursor-grab",children:u.jsxs("div",{draggable:!0,onDragStart:l=>i(l,"transition"),children:[u.jsx(hS,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Drag a Transition from Here"})]})})})}),u.jsx(kn,{children:u.jsx("p",{children:"Drag a Transition from Here"})})]})}),u.jsx(er,{children:u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(n1,{"aria-label":"Toggle Arc",onPressedChange:e,children:[u.jsx(iS,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Toggle Arc Mode"})]})})}),u.jsx(kn,{children:u.jsx("p",{children:"Toggle Arc Mode"})})]})}),u.jsx(er,{children:u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("span",{children:u.jsx(ye,{variant:"ghost",size:"icon",title:"Annotation",className:"cursor-grab",children:u.jsxs("div",{draggable:!0,onDragStart:l=>i(l,"auxText"),children:[u.jsx(nI,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Drag a Text Annotation from Here"})]})})})}),u.jsx(kn,{children:u.jsx("p",{children:"Drag a Text Annotation from Here"})})]})})]}),u.jsx("div",{className:"flex items-center gap-2 h-6",children:u.jsx(lc,{orientation:"vertical",className:"mx-1 h-6"})}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(er,{children:u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(n1,{"aria-label":"Toggle Marking Display",pressed:r,onPressedChange:o,children:[u.jsx(NI,{className:"h-4 w-4 text-green-600"}),u.jsx("span",{className:"sr-only",children:"Toggle Marking Display"})]})})}),u.jsx(kn,{children:u.jsx("p",{children:"Toggle Marking Display"})})]})}),u.jsx(I8,{onApplyLayout:t})]})]})})}function M8({slices:e,position:t,isOpen:n,onClose:r,onSliceClick:o,size:i=240}){const[l,c]=w.useState(null),d=w.useRef(null);return w.useEffect(()=>{const f=m=>{d.current&&!d.current.contains(m.target)&&n&&r()};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[n,r]),n?u.jsx("div",{className:"fixed z-50",style:{left:`${t.x}px`,top:`${t.y}px`,transform:"translate(-50%, -50%)"},ref:d,children:u.jsx("div",{className:"rounded-full bg-sky-100 overflow-visible shadow-lg",style:{width:`${i}px`,height:`${i}px`},children:u.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:e.map((f,m)=>{const p=(f.angle-30)*Math.PI/180,g=(f.angle+30)*Math.PI/180,x=50+50*Math.cos(p),b=50+50*Math.sin(p),v=50+50*Math.cos(g),S=50+50*Math.sin(g),k=`M 50 50 L ${x} ${b} A 50 50 0 0 1 ${v} ${S} Z`,E=38,N=50+E*Math.cos(f.angle*Math.PI/180),_=50+E*Math.sin(f.angle*Math.PI/180),T=m===l;return u.jsxs("g",{onClick:()=>o(m,f),onMouseEnter:()=>c(m),onMouseLeave:()=>c(null),style:{cursor:"pointer"},children:[u.jsx("path",{d:k,fill:T?"#6b9ac4":"transparent",stroke:"#e2e8f0",strokeWidth:"0.5"}),u.jsx("g",{transform:`translate(${N}, ${_}) rotate(${f.angle})`,children:f.label.map((P,M)=>u.jsx("text",{x:"0",y:M*8,textAnchor:"middle",fontSize:"5",fill:f.disabled?"#d3d3d3":"#333",transform:`rotate(-${f.angle})`,dominantBaseline:"middle",children:P},M))})]},m)})})})}):null}const D8=({fromX:e,fromY:t,toX:n,toY:r,connectionLineStyle:o,label:i})=>{const[l]=Xg({sourceX:e,sourceY:t,targetX:n,targetY:r}),c=(e+n)/2,d=(t+r)/2;return u.jsxs("g",{children:[u.jsx("path",{style:o||{stroke:"black",strokeWidth:1},fill:"none",d:l}),i&&u.jsx("text",{x:c,y:d,textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"12px",fill:"black"},children:i})]})};function O8({open:e,onOpenChange:t,onFileLoaded:n}){const[r,o]=w.useState(!1),[i,l]=w.useState(!1),c=w.useRef(null),d=v=>{v.preventDefault(),o(!0)},f=()=>{o(!1)},m=v=>{if(v.preventDefault(),o(!1),v.dataTransfer.files&&v.dataTransfer.files.length>0){const S=v.dataTransfer.files[0];g(S)}},p=v=>{if(v.target.files&&v.target.files.length>0){const S=v.target.files[0];g(S)}},g=v=>{const S=new FileReader;S.onload=k=>{var E;(E=k.target)!=null&&E.result&&(n(k.target.result,v.name),t(!1))},S.readAsText(v)},x=()=>{var v;(v=c.current)==null||v.click()},b=async()=>{l(!0);try{const v=await fetch("/ocpn-tools/examples/airport.ocpn");if(!v.ok)throw new Error("Failed to load example file");const S=await v.text();n(S,"airport.ocpn"),t(!1)}catch(v){console.error("Error loading example:",v)}finally{l(!1)}};return u.jsx(fn,{open:e,onOpenChange:t,children:u.jsxs(pn,{className:"sm:max-w-[500px]",children:[u.jsxs(hn,{children:[u.jsx(mn,{children:"Open Petri Net"}),u.jsx(ri,{children:"Load a CPN Tools .cpn or cpn-py JSON file to visualize your Petri Net."})]}),u.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-primary bg-primary/10":"border-muted-foreground/25"}`,onDragOver:d,onDragLeave:f,onDrop:m,children:u.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[u.jsx(Pg,{className:"h-10 w-10 text-muted-foreground"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Drag & Drop"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drop your Petri Net file here, or click to browse"}),u.jsx("input",{ref:c,type:"file",accept:".xml,.json,.cpn,.ocpn",className:"hidden",onChange:p}),u.jsxs(ye,{onClick:x,variant:"outline",children:[u.jsx(XA,{className:"mr-2 h-4 w-4"}),"Open File..."]})]})}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx("span",{children:"Or try an example:"}),u.jsxs(ye,{variant:"link",className:"p-0 h-auto text-sm",onClick:b,disabled:i,children:[u.jsx(sI,{className:"mr-1 h-3 w-3"}),"Airport Ground Handling"]})]}),u.jsx(Mr,{children:u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"})})]})})}function L8({open:e,onOpenChange:t,onSave:n,petriNetName:r}){const[o,i]=w.useState("json"),l=()=>{n(o),t(!1)};return u.jsx(fn,{open:e,onOpenChange:t,children:u.jsxs(pn,{className:"sm:max-w-[425px]",children:[u.jsxs(hn,{children:[u.jsx(mn,{children:"Save Petri Net"}),u.jsxs(ri,{children:['Choose a format to save your Petri Net "',r,'".']})]}),u.jsx("div",{className:"py-4",children:u.jsxs(oj,{value:o,onValueChange:i,className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Vs,{value:"json",id:"json"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(_e,{htmlFor:"json",className:"font-medium",children:"OCPN JSON"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Simple JSON format. Best for OCPN Tools."})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Vs,{value:"cpn-tools",id:"cpn-tools"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(_e,{htmlFor:"cpn-tools",className:"font-medium",children:"CPN Tools XML"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Standard format for CPN Tools. Best for compatibility with CPN Tools."})]})]}),u.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[u.jsx(Vs,{value:"cpn-py",id:"cpn-py"}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(_e,{htmlFor:"cpn-py",className:"font-medium",children:"cpn-py JSON"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Format compatible with cpn-py library. Best for Python integration."})]})]})]})}),u.jsxs(Mr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ye,{onClick:l,children:"Save"})]})]})})}function z8(){const e=w.useContext(Nf);if(!e)throw new Error("SimulationToolbar must be used within a SimulationProvider");const{reset:t,runStep:n,runMultipleStepsAnimated:r,runMultipleStepsFast:o,stop:i,isRunning:l,simulationConfig:c}=e,d=()=>{t()},f=()=>{i()},m=()=>{n()},p=()=>{r(c.stepsPerRun,c.animationDelayMs)},g=()=>{o(c.stepsPerRun)};return u.jsx("div",{className:"flex items-center gap-1",children:u.jsxs(er,{children:[u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",onClick:d,disabled:l,children:[u.jsx(dI,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Reset Simulation"})]})})}),u.jsx(kn,{children:u.jsx("p",{children:"Reset Simulation"})})]}),u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",onClick:f,disabled:!l,children:[u.jsx(hS,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Stop Simulation"})]})})}),u.jsx(kn,{children:u.jsx("p",{children:"Stop Simulation"})})]}),u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",onClick:m,disabled:l,children:[u.jsx(wI,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Execute One Step"})]})})}),u.jsx(kn,{children:u.jsx("p",{children:"Execute One Step"})})]}),u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",onClick:p,disabled:l,className:"relative",children:[u.jsx(aI,{className:"h-5 w-5"}),u.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] text-primary-foreground font-medium",children:c.stepsPerRun}),u.jsxs("span",{className:"sr-only",children:["Run ",c.stepsPerRun," Steps (Animated)"]})]})})}),u.jsx(kn,{children:u.jsxs("p",{children:["Run ",c.stepsPerRun," Steps (with intermediate markings)"]})})]}),u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",onClick:g,disabled:l,className:"relative",children:[u.jsx(WA,{className:"h-5 w-5"}),u.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[10px] text-primary-foreground font-medium",children:c.stepsPerRun}),u.jsxs("span",{className:"sr-only",children:["Run ",c.stepsPerRun," Steps (Fast)"]})]})})}),u.jsx(kn,{children:u.jsxs("p",{children:["Run ",c.stepsPerRun," Steps (without intermediate markings)"]})})]})]})})}function $8(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const F8=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,B8=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,V8={};function i1(e,t){return(V8.jsx?B8:F8).test(e)}const H8=/[ \t\n\f\r]/g;function U8(e){return typeof e=="object"?e.type==="text"?s1(e.value):!1:s1(e)}function s1(e){return e.replace(H8,"")===""}class hc{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}hc.prototype.normal={};hc.prototype.property={};hc.prototype.space=void 0;function f_(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new hc(n,r,t)}function gg(e){return e.toLowerCase()}class Hn{constructor(t,n){this.attribute=n,this.property=t}}Hn.prototype.attribute="";Hn.prototype.booleanish=!1;Hn.prototype.boolean=!1;Hn.prototype.commaOrSpaceSeparated=!1;Hn.prototype.commaSeparated=!1;Hn.prototype.defined=!1;Hn.prototype.mustUseProperty=!1;Hn.prototype.number=!1;Hn.prototype.overloadedBoolean=!1;Hn.prototype.property="";Hn.prototype.spaceSeparated=!1;Hn.prototype.space=void 0;let W8=0;const dt=Yi(),qt=Yi(),p_=Yi(),Se=Yi(),Rt=Yi(),Hs=Yi(),Gn=Yi();function Yi(){return 2**++W8}const xg=Object.freeze(Object.defineProperty({__proto__:null,boolean:dt,booleanish:qt,commaOrSpaceSeparated:Gn,commaSeparated:Hs,number:Se,overloadedBoolean:p_,spaceSeparated:Rt},Symbol.toStringTag,{value:"Module"})),hm=Object.keys(xg);class $x extends Hn{constructor(t,n,r,o){let i=-1;if(super(t,n),l1(this,"space",o),typeof r=="number")for(;++i<hm.length;){const l=hm[i];l1(this,hm[i],(r&xg[l])===xg[l])}}}$x.prototype.defined=!0;function l1(e,t,n){n&&(e[t]=n)}function fl(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const i=new $x(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[gg(r)]=r,n[gg(i.attribute)]=r}return new hc(t,n,e.space)}const h_=fl({properties:{ariaActiveDescendant:null,ariaAtomic:qt,ariaAutoComplete:null,ariaBusy:qt,ariaChecked:qt,ariaColCount:Se,ariaColIndex:Se,ariaColSpan:Se,ariaControls:Rt,ariaCurrent:null,ariaDescribedBy:Rt,ariaDetails:null,ariaDisabled:qt,ariaDropEffect:Rt,ariaErrorMessage:null,ariaExpanded:qt,ariaFlowTo:Rt,ariaGrabbed:qt,ariaHasPopup:null,ariaHidden:qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Rt,ariaLevel:Se,ariaLive:null,ariaModal:qt,ariaMultiLine:qt,ariaMultiSelectable:qt,ariaOrientation:null,ariaOwns:Rt,ariaPlaceholder:null,ariaPosInSet:Se,ariaPressed:qt,ariaReadOnly:qt,ariaRelevant:null,ariaRequired:qt,ariaRoleDescription:Rt,ariaRowCount:Se,ariaRowIndex:Se,ariaRowSpan:Se,ariaSelected:qt,ariaSetSize:Se,ariaSort:null,ariaValueMax:Se,ariaValueMin:Se,ariaValueNow:Se,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function m_(e,t){return t in e?e[t]:t}function g_(e,t){return m_(e,t.toLowerCase())}const Y8=fl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Hs,acceptCharset:Rt,accessKey:Rt,action:null,allow:null,allowFullScreen:dt,allowPaymentRequest:dt,allowUserMedia:dt,alt:null,as:null,async:dt,autoCapitalize:null,autoComplete:Rt,autoFocus:dt,autoPlay:dt,blocking:Rt,capture:null,charSet:null,checked:dt,cite:null,className:Rt,cols:Se,colSpan:null,content:null,contentEditable:qt,controls:dt,controlsList:Rt,coords:Se|Hs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:dt,defer:dt,dir:null,dirName:null,disabled:dt,download:p_,draggable:qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:dt,formTarget:null,headers:Rt,height:Se,hidden:dt,high:Se,href:null,hrefLang:null,htmlFor:Rt,httpEquiv:Rt,id:null,imageSizes:null,imageSrcSet:null,inert:dt,inputMode:null,integrity:null,is:null,isMap:dt,itemId:null,itemProp:Rt,itemRef:Rt,itemScope:dt,itemType:Rt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:dt,low:Se,manifest:null,max:null,maxLength:Se,media:null,method:null,min:null,minLength:Se,multiple:dt,muted:dt,name:null,nonce:null,noModule:dt,noValidate:dt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:dt,optimum:Se,pattern:null,ping:Rt,placeholder:null,playsInline:dt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:dt,referrerPolicy:null,rel:Rt,required:dt,reversed:dt,rows:Se,rowSpan:Se,sandbox:Rt,scope:null,scoped:dt,seamless:dt,selected:dt,shadowRootClonable:dt,shadowRootDelegatesFocus:dt,shadowRootMode:null,shape:null,size:Se,sizes:null,slot:null,span:Se,spellCheck:qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Se,step:null,style:null,tabIndex:Se,target:null,title:null,translate:null,type:null,typeMustMatch:dt,useMap:null,value:qt,width:Se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Rt,axis:null,background:null,bgColor:null,border:Se,borderColor:null,bottomMargin:Se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:dt,declare:dt,event:null,face:null,frame:null,frameBorder:null,hSpace:Se,leftMargin:Se,link:null,longDesc:null,lowSrc:null,marginHeight:Se,marginWidth:Se,noResize:dt,noHref:dt,noShade:dt,noWrap:dt,object:null,profile:null,prompt:null,rev:null,rightMargin:Se,rules:null,scheme:null,scrolling:qt,standby:null,summary:null,text:null,topMargin:Se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:dt,disableRemotePlayback:dt,prefix:null,property:null,results:Se,security:null,unselectable:null},space:"html",transform:g_}),X8=fl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Gn,accentHeight:Se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Se,amplitude:Se,arabicForm:null,ascent:Se,attributeName:null,attributeType:null,azimuth:Se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Se,by:null,calcMode:null,capHeight:Se,className:Rt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Se,diffuseConstant:Se,direction:null,display:null,dur:null,divisor:Se,dominantBaseline:null,download:dt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Se,enableBackground:null,end:null,event:null,exponent:Se,externalResourcesRequired:null,fill:null,fillOpacity:Se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Hs,g2:Hs,glyphName:Hs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Se,horizOriginX:Se,horizOriginY:Se,id:null,ideographic:Se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Se,k:Se,k1:Se,k2:Se,k3:Se,k4:Se,kernelMatrix:Gn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Se,overlineThickness:Se,paintOrder:null,panose1:null,path:null,pathLength:Se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Rt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Se,pointsAtY:Se,pointsAtZ:Se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gn,rev:Gn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gn,requiredFeatures:Gn,requiredFonts:Gn,requiredFormats:Gn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Se,specularExponent:Se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Se,strikethroughThickness:Se,string:null,stroke:null,strokeDashArray:Gn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Se,strokeOpacity:Se,strokeWidth:null,style:null,surfaceScale:Se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gn,tabIndex:Se,tableValues:null,target:null,targetX:Se,targetY:Se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Se,underlineThickness:Se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Se,values:null,vAlphabetic:Se,vMathematical:Se,vectorEffect:null,vHanging:Se,vIdeographic:Se,version:null,vertAdvY:Se,vertOriginX:Se,vertOriginY:Se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:m_}),x_=fl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),y_=fl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:g_}),v_=fl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),q8={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},G8=/[A-Z]/g,a1=/-[a-z]/g,K8=/^data[-\w.:]+$/i;function Q8(e,t){const n=gg(t);let r=t,o=Hn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&K8.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(a1,Z8);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!a1.test(i)){let l=i.replace(G8,J8);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}o=$x}return new o(r,t)}function J8(e){return"-"+e.toLowerCase()}function Z8(e){return e.charAt(1).toUpperCase()}const e9=f_([h_,Y8,x_,y_,v_],"html"),Fx=f_([h_,X8,x_,y_,v_],"svg");function t9(e){return e.join(" ").trim()}var _s={},mm,c1;function n9(){if(c1)return mm;c1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,f="/",m="*",p="",g="comment",x="declaration";mm=function(v,S){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];S=S||{};var k=1,E=1;function N(U){var A=U.match(t);A&&(k+=A.length);var F=U.lastIndexOf(d);E=~F?U.length-F:E+U.length}function _(){var U={line:k,column:E};return function(A){return A.position=new T(U),z(),A}}function T(U){this.start=U,this.end={line:k,column:E},this.source=S.source}T.prototype.content=v;function P(U){var A=new Error(S.source+":"+k+":"+E+": "+U);if(A.reason=U,A.filename=S.source,A.line=k,A.column=E,A.source=v,!S.silent)throw A}function M(U){var A=U.exec(v);if(A){var F=A[0];return N(F),v=v.slice(F.length),A}}function z(){M(n)}function Y(U){var A;for(U=U||[];A=L();)A!==!1&&U.push(A);return U}function L(){var U=_();if(!(f!=v.charAt(0)||m!=v.charAt(1))){for(var A=2;p!=v.charAt(A)&&(m!=v.charAt(A)||f!=v.charAt(A+1));)++A;if(A+=2,p===v.charAt(A-1))return P("End of comment missing");var F=v.slice(2,A-2);return E+=2,N(F),v=v.slice(A),E+=2,U({type:g,comment:F})}}function B(){var U=_(),A=M(r);if(A){if(L(),!M(o))return P("property missing ':'");var F=M(i),$=U({type:x,property:b(A[0].replace(e,p)),value:F?b(F[0].replace(e,p)):p});return M(l),$}}function q(){var U=[];Y(U);for(var A;A=B();)A!==!1&&(U.push(A),Y(U));return U}return z(),q()};function b(v){return v?v.replace(c,p):p}return mm}var u1;function r9(){if(u1)return _s;u1=1;var e=_s&&_s.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_s,"__esModule",{value:!0}),_s.default=n;var t=e(n9());function n(r,o){var i=null;if(!r||typeof r!="string")return i;var l=(0,t.default)(r),c=typeof o=="function";return l.forEach(function(d){if(d.type==="declaration"){var f=d.property,m=d.value;c?o(f,m,d):m&&(i=i||{},i[f]=m)}}),i}return _s}var la={},d1;function o9(){if(d1)return la;d1=1,Object.defineProperty(la,"__esModule",{value:!0}),la.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,i=function(f){return!f||n.test(f)||e.test(f)},l=function(f,m){return m.toUpperCase()},c=function(f,m){return"".concat(m,"-")},d=function(f,m){return m===void 0&&(m={}),i(f)?f:(f=f.toLowerCase(),m.reactCompat?f=f.replace(o,c):f=f.replace(r,c),f.replace(t,l))};return la.camelCase=d,la}var aa,f1;function i9(){if(f1)return aa;f1=1;var e=aa&&aa.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(r9()),n=o9();function r(o,i){var l={};return!o||typeof o!="string"||(0,t.default)(o,function(c,d){c&&d&&(l[(0,n.camelCase)(c,i)]=d)}),l}return r.default=r,aa=r,aa}var s9=i9();const l9=Ja(s9),w_=b_("end"),Bx=b_("start");function b_(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function a9(e){const t=Bx(e),n=w_(e);if(t&&n)return{start:t,end:n}}function _a(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?p1(e.position):"start"in e||"end"in e?p1(e):"line"in e||"column"in e?yg(e):""}function yg(e){return h1(e&&e.line)+":"+h1(e&&e.column)}function p1(e){return yg(e&&e.start)+"-"+yg(e&&e.end)}function h1(e){return e&&typeof e=="number"?e:1}class _n extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",i={},l=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?o=t:!i.cause&&t&&(l=!0,o=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?i.ruleId=r:(i.source=r.slice(0,d),i.ruleId=r.slice(d+1))}if(!i.place&&i.ancestors&&i.ancestors){const d=i.ancestors[i.ancestors.length-1];d&&(i.place=d.position)}const c=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=c?c.line:void 0,this.name=_a(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=l&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}_n.prototype.file="";_n.prototype.name="";_n.prototype.reason="";_n.prototype.message="";_n.prototype.stack="";_n.prototype.column=void 0;_n.prototype.line=void 0;_n.prototype.ancestors=void 0;_n.prototype.cause=void 0;_n.prototype.fatal=void 0;_n.prototype.place=void 0;_n.prototype.ruleId=void 0;_n.prototype.source=void 0;const Vx={}.hasOwnProperty,c9=new Map,u9=/[A-Z]/g,d9=new Set(["table","tbody","thead","tfoot","tr"]),f9=new Set(["td","th"]),S_="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function p9(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=b9(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=w9(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Fx:e9,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=k_(o,e,void 0);return i&&typeof i!="string"?i:o.create(e,o.Fragment,{children:i||void 0},void 0)}function k_(e,t,n){if(t.type==="element")return h9(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return m9(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return x9(e,t,n);if(t.type==="mdxjsEsm")return g9(e,t);if(t.type==="root")return y9(e,t,n);if(t.type==="text")return v9(e,t)}function h9(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=Fx,e.schema=o),e.ancestors.push(t);const i=N_(e,t.tagName,!1),l=S9(e,t);let c=Ux(e,t);return d9.has(t.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!U8(d):!0})),C_(e,l,i,t),Hx(l,c),e.ancestors.pop(),e.schema=r,e.create(t,i,l,n)}function m9(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ka(e,t.position)}function g9(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ka(e,t.position)}function x9(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=Fx,e.schema=o),e.ancestors.push(t);const i=t.name===null?e.Fragment:N_(e,t.name,!0),l=k9(e,t),c=Ux(e,t);return C_(e,l,i,t),Hx(l,c),e.ancestors.pop(),e.schema=r,e.create(t,i,l,n)}function y9(e,t,n){const r={};return Hx(r,Ux(e,t)),e.create(t,e.Fragment,r,n)}function v9(e,t){return t.value}function C_(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Hx(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function w9(e,t,n){return r;function r(o,i,l,c){const f=Array.isArray(l.children)?n:t;return c?f(i,l,c):f(i,l)}}function b9(e,t){return n;function n(r,o,i,l){const c=Array.isArray(i.children),d=Bx(r);return t(o,i,l,c,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function S9(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&Vx.call(t.properties,o)){const i=C9(e,o,t.properties[o]);if(i){const[l,c]=i;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&f9.has(t.tagName)?r=c:n[l]=c}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function k9(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const l=i.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else Ka(e,t.position);else{const o=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,i=e.evaluater.evaluateExpression(c.expression)}else Ka(e,t.position);else i=r.value===null?!0:r.value;n[o]=i}return n}function Ux(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:c9;for(;++r<t.children.length;){const i=t.children[r];let l;if(e.passKeys){const d=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(d){const f=o.get(d)||0;l=d+"-"+f,o.set(d,f+1)}}const c=k_(e,i,l);c!==void 0&&n.push(c)}return n}function C9(e,t,n){const r=Q8(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?$8(n):t9(n)),r.property==="style"){let o=typeof n=="object"?n:N9(e,String(n));return e.stylePropertyNameCase==="css"&&(o=E9(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?q8[r.property]||r.property:r.attribute,n]}}function N9(e,t){try{return l9(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new _n("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=S_+"#cannot-parse-style-attribute",o}}function N_(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let i=-1,l;for(;++i<o.length;){const c=i1(o[i])?{type:"Identifier",name:o[i]}:{type:"Literal",value:o[i]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(i&&c.type==="Literal"),optional:!1}:c}r=l}else r=i1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return Vx.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ka(e)}function Ka(e,t){const n=new _n("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=S_+"#cannot-handle-mdx-estrees-without-createevaluater",n}function E9(e){const t={};let n;for(n in e)Vx.call(e,n)&&(t[j9(n)]=e[n]);return t}function j9(e){let t=e.replace(u9,_9);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function _9(e){return"-"+e.toLowerCase()}const gm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},P9={};function Wx(e,t){const n=P9,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return E_(e,r,o)}function E_(e,t,n){if(A9(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return m1(e.children,t,n)}return Array.isArray(e)?m1(e,t,n):""}function m1(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=E_(e[o],t,n);return r.join("")}function A9(e){return!!(e&&typeof e=="object")}const g1=document.createElement("i");function Yx(e){const t="&"+e+";";g1.innerHTML=t;const n=g1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function nr(e,t,n,r){const o=e.length;let i=0,l;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);i<r.length;)l=r.slice(i,i+1e4),l.unshift(t,0),e.splice(...l),i+=1e4,t+=1e4}function dr(e,t){return e.length>0?(nr(e,e.length,0,t),e):t}const x1={}.hasOwnProperty;function j_(e){const t={};let n=-1;for(;++n<e.length;)I9(t,e[n]);return t}function I9(e,t){let n;for(n in t){const o=(x1.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let l;if(i)for(l in i){x1.call(o,l)||(o[l]=[]);const c=i[l];T9(o[l],Array.isArray(c)?c:c?[c]:[])}}}function T9(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);nr(e,0,0,r)}function __(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Pr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Tn=si(/[A-Za-z]/),Cn=si(/[\dA-Za-z]/),R9=si(/[#-'*+\--9=?A-Z^-~]/);function Dd(e){return e!==null&&(e<32||e===127)}const vg=si(/\d/),M9=si(/[\dA-Fa-f]/),D9=si(/[!-/:-@[-`{-~]/);function Ke(e){return e!==null&&e<-2}function It(e){return e!==null&&(e<0||e===32)}function vt(e){return e===-2||e===-1||e===32}const Rf=si(new RegExp("\\p{P}|\\p{S}","u")),Ui=si(/\s/);function si(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function pl(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const i=e.charCodeAt(n);let l="";if(i===37&&Cn(e.charCodeAt(n+1))&&Cn(e.charCodeAt(n+2)))o=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(l=String.fromCharCode(i));else if(i>55295&&i<57344){const c=e.charCodeAt(n+1);i<56320&&c>56319&&c<57344?(l=String.fromCharCode(i,c),o=1):l=""}else l=String.fromCharCode(i);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+o+1,l=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function Ct(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return l;function l(d){return vt(d)?(e.enter(n),c(d)):t(d)}function c(d){return vt(d)&&i++<o?(e.consume(d),c):(e.exit(n),t(d))}}const O9={tokenize:L9};function L9(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Ct(e,t,"linePrefix")}function o(c){return e.enter("paragraph"),i(c)}function i(c){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Ke(c)?(e.consume(c),e.exit("chunkText"),i):(e.consume(c),l)}}const z9={tokenize:$9},y1={tokenize:F9};function $9(e){const t=this,n=[];let r=0,o,i,l;return c;function c(N){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,d,f)(N)}return f(N)}function d(N){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&E();const _=t.events.length;let T=_,P;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){P=t.events[T][1].end;break}k(r);let M=_;for(;M<t.events.length;)t.events[M][1].end={...P},M++;return nr(t.events,T+1,0,t.events.slice(_)),t.events.length=M,f(N)}return c(N)}function f(N){if(r===n.length){if(!o)return g(N);if(o.currentConstruct&&o.currentConstruct.concrete)return b(N);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(y1,m,p)(N)}function m(N){return o&&E(),k(r),g(N)}function p(N){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,b(N)}function g(N){return t.containerState={},e.attempt(y1,x,b)(N)}function x(N){return r++,n.push([t.currentConstruct,t.containerState]),g(N)}function b(N){if(N===null){o&&E(),k(0),e.consume(N);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:i}),v(N)}function v(N){if(N===null){S(e.exit("chunkFlow"),!0),k(0),e.consume(N);return}return Ke(N)?(e.consume(N),S(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(N),v)}function S(N,_){const T=t.sliceStream(N);if(_&&T.push(null),N.previous=i,i&&(i.next=N),i=N,o.defineSkip(N.start),o.write(T),t.parser.lazy[N.start.line]){let P=o.events.length;for(;P--;)if(o.events[P][1].start.offset<l&&(!o.events[P][1].end||o.events[P][1].end.offset>l))return;const M=t.events.length;let z=M,Y,L;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){if(Y){L=t.events[z][1].end;break}Y=!0}for(k(r),P=M;P<t.events.length;)t.events[P][1].end={...L},P++;nr(t.events,z+1,0,t.events.slice(M)),t.events.length=P}}function k(N){let _=n.length;for(;_-- >N;){const T=n[_];t.containerState=T[1],T[0].exit.call(t,e)}n.length=N}function E(){o.write([null]),i=void 0,o=void 0,t.containerState._closeFlow=void 0}}function F9(e,t,n){return Ct(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nl(e){if(e===null||It(e)||Ui(e))return 1;if(Rf(e))return 2}function Mf(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const wg={name:"attention",resolveAll:B9,tokenize:V9};function B9(e,t){let n=-1,r,o,i,l,c,d,f,m;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};v1(p,-d),v1(g,d),l={type:d>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},i={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[r][1].end={...l.start},e[n][1].start={...c.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=dr(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=dr(f,[["enter",o,t],["enter",l,t],["exit",l,t],["enter",i,t]]),f=dr(f,Mf(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=dr(f,[["exit",i,t],["enter",c,t],["exit",c,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(m=2,f=dr(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):m=0,nr(e,r-1,n-r+3,f),n=r+f.length-m-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function V9(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=nl(r);let i;return l;function l(d){return i=d,e.enter("attentionSequence"),c(d)}function c(d){if(d===i)return e.consume(d),c;const f=e.exit("attentionSequence"),m=nl(d),p=!m||m===2&&o||n.includes(d),g=!o||o===2&&m||n.includes(r);return f._open=!!(i===42?p:p&&(o||!g)),f._close=!!(i===42?g:g&&(m||!p)),t(d)}}function v1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const H9={name:"autolink",tokenize:U9};function U9(e,t,n){let r=0;return o;function o(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(x){return Tn(x)?(e.consume(x),l):x===64?n(x):f(x)}function l(x){return x===43||x===45||x===46||Cn(x)?(r=1,c(x)):f(x)}function c(x){return x===58?(e.consume(x),r=0,d):(x===43||x===45||x===46||Cn(x))&&r++<32?(e.consume(x),c):(r=0,f(x))}function d(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||Dd(x)?n(x):(e.consume(x),d)}function f(x){return x===64?(e.consume(x),m):R9(x)?(e.consume(x),f):n(x)}function m(x){return Cn(x)?p(x):n(x)}function p(x){return x===46?(e.consume(x),r=0,m):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):g(x)}function g(x){if((x===45||Cn(x))&&r++<63){const b=x===45?g:p;return e.consume(x),b}return n(x)}}const mc={partial:!0,tokenize:W9};function W9(e,t,n){return r;function r(i){return vt(i)?Ct(e,o,"linePrefix")(i):o(i)}function o(i){return i===null||Ke(i)?t(i):n(i)}}const P_={continuation:{tokenize:X9},exit:q9,name:"blockQuote",tokenize:Y9};function Y9(e,t,n){const r=this;return o;function o(l){if(l===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),i}return n(l)}function i(l){return vt(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function X9(e,t,n){const r=this;return o;function o(l){return vt(l)?Ct(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):i(l)}function i(l){return e.attempt(P_,t,n)(l)}}function q9(e){e.exit("blockQuote")}const A_={name:"characterEscape",tokenize:G9};function G9(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),o}function o(i){return D9(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const I_={name:"characterReference",tokenize:K9};function K9(e,t,n){const r=this;let o=0,i,l;return c;function c(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),d}function d(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),i=31,l=Cn,m(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,l=M9,m):(e.enter("characterReferenceValue"),i=7,l=vg,m(p))}function m(p){if(p===59&&o){const g=e.exit("characterReferenceValue");return l===Cn&&!Yx(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(p)&&o++<i?(e.consume(p),m):n(p)}}const w1={partial:!0,tokenize:J9},b1={concrete:!0,name:"codeFenced",tokenize:Q9};function Q9(e,t,n){const r=this,o={partial:!0,tokenize:T};let i=0,l=0,c;return d;function d(P){return f(P)}function f(P){const M=r.events[r.events.length-1];return i=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,c=P,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(P)}function m(P){return P===c?(l++,e.consume(P),m):l<3?n(P):(e.exit("codeFencedFenceSequence"),vt(P)?Ct(e,p,"whitespace")(P):p(P))}function p(P){return P===null||Ke(P)?(e.exit("codeFencedFence"),r.interrupt?t(P):e.check(w1,v,_)(P)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(P))}function g(P){return P===null||Ke(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(P)):vt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ct(e,x,"whitespace")(P)):P===96&&P===c?n(P):(e.consume(P),g)}function x(P){return P===null||Ke(P)?p(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(P))}function b(P){return P===null||Ke(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(P)):P===96&&P===c?n(P):(e.consume(P),b)}function v(P){return e.attempt(o,_,S)(P)}function S(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),k}function k(P){return i>0&&vt(P)?Ct(e,E,"linePrefix",i+1)(P):E(P)}function E(P){return P===null||Ke(P)?e.check(w1,v,_)(P):(e.enter("codeFlowValue"),N(P))}function N(P){return P===null||Ke(P)?(e.exit("codeFlowValue"),E(P)):(e.consume(P),N)}function _(P){return e.exit("codeFenced"),t(P)}function T(P,M,z){let Y=0;return L;function L(F){return P.enter("lineEnding"),P.consume(F),P.exit("lineEnding"),B}function B(F){return P.enter("codeFencedFence"),vt(F)?Ct(P,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):q(F)}function q(F){return F===c?(P.enter("codeFencedFenceSequence"),U(F)):z(F)}function U(F){return F===c?(Y++,P.consume(F),U):Y>=l?(P.exit("codeFencedFenceSequence"),vt(F)?Ct(P,A,"whitespace")(F):A(F)):z(F)}function A(F){return F===null||Ke(F)?(P.exit("codeFencedFence"),M(F)):z(F)}}}function J9(e,t,n){const r=this;return o;function o(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i)}function i(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const xm={name:"codeIndented",tokenize:e7},Z9={partial:!0,tokenize:t7};function e7(e,t,n){const r=this;return o;function o(f){return e.enter("codeIndented"),Ct(e,i,"linePrefix",5)(f)}function i(f){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?d(f):Ke(f)?e.attempt(Z9,l,d)(f):(e.enter("codeFlowValue"),c(f))}function c(f){return f===null||Ke(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),c)}function d(f){return e.exit("codeIndented"),t(f)}}function t7(e,t,n){const r=this;return o;function o(l){return r.parser.lazy[r.now().line]?n(l):Ke(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):Ct(e,i,"linePrefix",5)(l)}function i(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):Ke(l)?o(l):n(l)}}const n7={name:"codeText",previous:o7,resolve:r7,tokenize:i7};function r7(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function o7(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function i7(e,t,n){let r=0,o,i;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),c(p)}function c(p){return p===96?(e.consume(p),r++,c):(e.exit("codeTextSequence"),d(p))}function d(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),d):p===96?(i=e.enter("codeTextSequence"),o=0,m(p)):Ke(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||Ke(p)?(e.exit("codeTextData"),d(p)):(e.consume(p),f)}function m(p){return p===96?(e.consume(p),o++,m):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(i.type="codeTextData",f(p))}}class s7{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&ca(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ca(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ca(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ca(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ca(this.left,n.reverse())}}}function ca(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function T_(e){const t={};let n=-1,r,o,i,l,c,d,f;const m=new s7(e);for(;++n<m.length;){for(;n in t;)n=t[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,i=0,i<d.length&&d[i][1].type==="lineEndingBlank"&&(i+=2),i<d.length&&d[i][1].type==="content"))for(;++i<d.length&&d[i][1].type!=="content";)d[i][1].type==="chunkText"&&(d[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,l7(m,n)),n=t[n],f=!0);else if(r[1]._container){for(i=n,o=void 0;i--;)if(l=m.get(i),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(m.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=i);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(r[1].end={...m.get(o)[1].start},c=m.slice(o,n),c.unshift(r),m.splice(o,n-o+1,c))}}return nr(e,0,Number.POSITIVE_INFINITY,m.slice(0)),!f}function l7(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const i=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,d=[],f={};let m,p,g=-1,x=n,b=0,v=0;const S=[v];for(;x;){for(;e.get(++o)[1]!==x;);i.push(o),x._tokenizer||(m=r.sliceStream(x),x.next||m.push(null),p&&l.defineSkip(x.start),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=x,x=x.next}for(x=n;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(v=g+1,S.push(v),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(l.events=[],x?(x._tokenizer=void 0,x.previous=void 0):S.pop(),g=S.length;g--;){const k=c.slice(S[g],S[g+1]),E=i.pop();d.push([E,E+k.length-1]),e.splice(E,2,k)}for(d.reverse(),g=-1;++g<d.length;)f[b+d[g][0]]=b+d[g][1],b+=d[g][1]-d[g][0]-1;return f}const a7={resolve:u7,tokenize:d7},c7={partial:!0,tokenize:f7};function u7(e){return T_(e),e}function d7(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(c)}function o(c){return c===null?i(c):Ke(c)?e.check(c7,l,i)(c):(e.consume(c),o)}function i(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function l(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function f7(e,t,n){const r=this;return o;function o(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Ct(e,i,"linePrefix")}function i(l){if(l===null||Ke(l))return n(l);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function R_(e,t,n,r,o,i,l,c,d){const f=d||Number.POSITIVE_INFINITY;let m=0;return p;function p(k){return k===60?(e.enter(r),e.enter(o),e.enter(i),e.consume(k),e.exit(i),g):k===null||k===32||k===41||Dd(k)?n(k):(e.enter(r),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),v(k))}function g(k){return k===62?(e.enter(i),e.consume(k),e.exit(i),e.exit(o),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),x(k))}function x(k){return k===62?(e.exit("chunkString"),e.exit(c),g(k)):k===null||k===60||Ke(k)?n(k):(e.consume(k),k===92?b:x)}function b(k){return k===60||k===62||k===92?(e.consume(k),x):x(k)}function v(k){return!m&&(k===null||k===41||It(k))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(r),t(k)):m<f&&k===40?(e.consume(k),m++,v):k===41?(e.consume(k),m--,v):k===null||k===32||k===40||Dd(k)?n(k):(e.consume(k),k===92?S:v)}function S(k){return k===40||k===41||k===92?(e.consume(k),v):v(k)}}function M_(e,t,n,r,o,i){const l=this;let c=0,d;return f;function f(x){return e.enter(r),e.enter(o),e.consume(x),e.exit(o),e.enter(i),m}function m(x){return c>999||x===null||x===91||x===93&&!d||x===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(x):x===93?(e.exit(i),e.enter(o),e.consume(x),e.exit(o),e.exit(r),t):Ke(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===null||x===91||x===93||Ke(x)||c++>999?(e.exit("chunkString"),m(x)):(e.consume(x),d||(d=!vt(x)),x===92?g:p)}function g(x){return x===91||x===92||x===93?(e.consume(x),c++,p):p(x)}}function D_(e,t,n,r,o,i){let l;return c;function c(g){return g===34||g===39||g===40?(e.enter(r),e.enter(o),e.consume(g),e.exit(o),l=g===40?41:g,d):n(g)}function d(g){return g===l?(e.enter(o),e.consume(g),e.exit(o),e.exit(r),t):(e.enter(i),f(g))}function f(g){return g===l?(e.exit(i),d(l)):g===null?n(g):Ke(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Ct(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===l||g===null||Ke(g)?(e.exit("chunkString"),f(g)):(e.consume(g),g===92?p:m)}function p(g){return g===l||g===92?(e.consume(g),m):m(g)}}function Pa(e,t){let n;return r;function r(o){return Ke(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):vt(o)?Ct(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const p7={name:"definition",tokenize:m7},h7={partial:!0,tokenize:g7};function m7(e,t,n){const r=this;let o;return i;function i(x){return e.enter("definition"),l(x)}function l(x){return M_.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function c(x){return o=Pr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),d):n(x)}function d(x){return It(x)?Pa(e,f)(x):f(x)}function f(x){return R_(e,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function m(x){return e.attempt(h7,p,p)(x)}function p(x){return vt(x)?Ct(e,g,"whitespace")(x):g(x)}function g(x){return x===null||Ke(x)?(e.exit("definition"),r.parser.defined.push(o),t(x)):n(x)}}function g7(e,t,n){return r;function r(c){return It(c)?Pa(e,o)(c):n(c)}function o(c){return D_(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function i(c){return vt(c)?Ct(e,l,"whitespace")(c):l(c)}function l(c){return c===null||Ke(c)?t(c):n(c)}}const x7={name:"hardBreakEscape",tokenize:y7};function y7(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),o}function o(i){return Ke(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const v7={name:"headingAtx",resolve:w7,tokenize:b7};function w7(e,t){let n=e.length-2,r=3,o,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},nr(e,r,n-r+1,[["enter",o,t],["enter",i,t],["exit",i,t],["exit",o,t]])),e}function b7(e,t,n){let r=0;return o;function o(m){return e.enter("atxHeading"),i(m)}function i(m){return e.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&r++<6?(e.consume(m),l):m===null||It(m)?(e.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(e.enter("atxHeadingSequence"),d(m)):m===null||Ke(m)?(e.exit("atxHeading"),t(m)):vt(m)?Ct(e,c,"whitespace")(m):(e.enter("atxHeadingText"),f(m))}function d(m){return m===35?(e.consume(m),d):(e.exit("atxHeadingSequence"),c(m))}function f(m){return m===null||m===35||It(m)?(e.exit("atxHeadingText"),c(m)):(e.consume(m),f)}}const S7=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],S1=["pre","script","style","textarea"],k7={concrete:!0,name:"htmlFlow",resolveTo:E7,tokenize:j7},C7={partial:!0,tokenize:P7},N7={partial:!0,tokenize:_7};function E7(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function j7(e,t,n){const r=this;let o,i,l,c,d;return f;function f(I){return m(I)}function m(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),p}function p(I){return I===33?(e.consume(I),g):I===47?(e.consume(I),i=!0,v):I===63?(e.consume(I),o=3,r.interrupt?t:R):Tn(I)?(e.consume(I),l=String.fromCharCode(I),S):n(I)}function g(I){return I===45?(e.consume(I),o=2,x):I===91?(e.consume(I),o=5,c=0,b):Tn(I)?(e.consume(I),o=4,r.interrupt?t:R):n(I)}function x(I){return I===45?(e.consume(I),r.interrupt?t:R):n(I)}function b(I){const V="CDATA[";return I===V.charCodeAt(c++)?(e.consume(I),c===V.length?r.interrupt?t:q:b):n(I)}function v(I){return Tn(I)?(e.consume(I),l=String.fromCharCode(I),S):n(I)}function S(I){if(I===null||I===47||I===62||It(I)){const V=I===47,J=l.toLowerCase();return!V&&!i&&S1.includes(J)?(o=1,r.interrupt?t(I):q(I)):S7.includes(l.toLowerCase())?(o=6,V?(e.consume(I),k):r.interrupt?t(I):q(I)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(I):i?E(I):N(I))}return I===45||Cn(I)?(e.consume(I),l+=String.fromCharCode(I),S):n(I)}function k(I){return I===62?(e.consume(I),r.interrupt?t:q):n(I)}function E(I){return vt(I)?(e.consume(I),E):L(I)}function N(I){return I===47?(e.consume(I),L):I===58||I===95||Tn(I)?(e.consume(I),_):vt(I)?(e.consume(I),N):L(I)}function _(I){return I===45||I===46||I===58||I===95||Cn(I)?(e.consume(I),_):T(I)}function T(I){return I===61?(e.consume(I),P):vt(I)?(e.consume(I),T):N(I)}function P(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),d=I,M):vt(I)?(e.consume(I),P):z(I)}function M(I){return I===d?(e.consume(I),d=null,Y):I===null||Ke(I)?n(I):(e.consume(I),M)}function z(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||It(I)?T(I):(e.consume(I),z)}function Y(I){return I===47||I===62||vt(I)?N(I):n(I)}function L(I){return I===62?(e.consume(I),B):n(I)}function B(I){return I===null||Ke(I)?q(I):vt(I)?(e.consume(I),B):n(I)}function q(I){return I===45&&o===2?(e.consume(I),$):I===60&&o===1?(e.consume(I),G):I===62&&o===4?(e.consume(I),H):I===63&&o===3?(e.consume(I),R):I===93&&o===5?(e.consume(I),W):Ke(I)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(C7,X,U)(I)):I===null||Ke(I)?(e.exit("htmlFlowData"),U(I)):(e.consume(I),q)}function U(I){return e.check(N7,A,X)(I)}function A(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),F}function F(I){return I===null||Ke(I)?U(I):(e.enter("htmlFlowData"),q(I))}function $(I){return I===45?(e.consume(I),R):q(I)}function G(I){return I===47?(e.consume(I),l="",D):q(I)}function D(I){if(I===62){const V=l.toLowerCase();return S1.includes(V)?(e.consume(I),H):q(I)}return Tn(I)&&l.length<8?(e.consume(I),l+=String.fromCharCode(I),D):q(I)}function W(I){return I===93?(e.consume(I),R):q(I)}function R(I){return I===62?(e.consume(I),H):I===45&&o===2?(e.consume(I),R):q(I)}function H(I){return I===null||Ke(I)?(e.exit("htmlFlowData"),X(I)):(e.consume(I),H)}function X(I){return e.exit("htmlFlow"),t(I)}}function _7(e,t,n){const r=this;return o;function o(l){return Ke(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):n(l)}function i(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function P7(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(mc,t,n)}}const A7={name:"htmlText",tokenize:I7};function I7(e,t,n){const r=this;let o,i,l;return c;function c(R){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(R),d}function d(R){return R===33?(e.consume(R),f):R===47?(e.consume(R),T):R===63?(e.consume(R),N):Tn(R)?(e.consume(R),z):n(R)}function f(R){return R===45?(e.consume(R),m):R===91?(e.consume(R),i=0,b):Tn(R)?(e.consume(R),E):n(R)}function m(R){return R===45?(e.consume(R),x):n(R)}function p(R){return R===null?n(R):R===45?(e.consume(R),g):Ke(R)?(l=p,G(R)):(e.consume(R),p)}function g(R){return R===45?(e.consume(R),x):p(R)}function x(R){return R===62?$(R):R===45?g(R):p(R)}function b(R){const H="CDATA[";return R===H.charCodeAt(i++)?(e.consume(R),i===H.length?v:b):n(R)}function v(R){return R===null?n(R):R===93?(e.consume(R),S):Ke(R)?(l=v,G(R)):(e.consume(R),v)}function S(R){return R===93?(e.consume(R),k):v(R)}function k(R){return R===62?$(R):R===93?(e.consume(R),k):v(R)}function E(R){return R===null||R===62?$(R):Ke(R)?(l=E,G(R)):(e.consume(R),E)}function N(R){return R===null?n(R):R===63?(e.consume(R),_):Ke(R)?(l=N,G(R)):(e.consume(R),N)}function _(R){return R===62?$(R):N(R)}function T(R){return Tn(R)?(e.consume(R),P):n(R)}function P(R){return R===45||Cn(R)?(e.consume(R),P):M(R)}function M(R){return Ke(R)?(l=M,G(R)):vt(R)?(e.consume(R),M):$(R)}function z(R){return R===45||Cn(R)?(e.consume(R),z):R===47||R===62||It(R)?Y(R):n(R)}function Y(R){return R===47?(e.consume(R),$):R===58||R===95||Tn(R)?(e.consume(R),L):Ke(R)?(l=Y,G(R)):vt(R)?(e.consume(R),Y):$(R)}function L(R){return R===45||R===46||R===58||R===95||Cn(R)?(e.consume(R),L):B(R)}function B(R){return R===61?(e.consume(R),q):Ke(R)?(l=B,G(R)):vt(R)?(e.consume(R),B):Y(R)}function q(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),o=R,U):Ke(R)?(l=q,G(R)):vt(R)?(e.consume(R),q):(e.consume(R),A)}function U(R){return R===o?(e.consume(R),o=void 0,F):R===null?n(R):Ke(R)?(l=U,G(R)):(e.consume(R),U)}function A(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||It(R)?Y(R):(e.consume(R),A)}function F(R){return R===47||R===62||It(R)?Y(R):n(R)}function $(R){return R===62?(e.consume(R),e.exit("htmlTextData"),e.exit("htmlText"),t):n(R)}function G(R){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),D}function D(R){return vt(R)?Ct(e,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):W(R)}function W(R){return e.enter("htmlTextData"),l(R)}}const Xx={name:"labelEnd",resolveAll:D7,resolveTo:O7,tokenize:L7},T7={tokenize:z7},R7={tokenize:$7},M7={tokenize:F7};function D7(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&nr(e,0,e.length,n),e}function O7(e,t){let n=e.length,r=0,o,i,l,c;for(;n--;)if(o=e[n][1],i){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(i=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(l=n);const d={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[i][1].start},end:{...e[l][1].end}},m={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[l-2][1].start}};return c=[["enter",d,t],["enter",f,t]],c=dr(c,e.slice(i+1,i+r+3)),c=dr(c,[["enter",m,t]]),c=dr(c,Mf(t.parser.constructs.insideSpan.null,e.slice(i+r+4,l-3),t)),c=dr(c,[["exit",m,t],e[l-2],e[l-1],["exit",f,t]]),c=dr(c,e.slice(l+1)),c=dr(c,[["exit",d,t]]),nr(e,i,e.length,c),e}function L7(e,t,n){const r=this;let o=r.events.length,i,l;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){i=r.events[o][1];break}return c;function c(g){return i?i._inactive?p(g):(l=r.parser.defined.includes(Pr(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),d):n(g)}function d(g){return g===40?e.attempt(T7,m,l?m:p)(g):g===91?e.attempt(R7,m,l?f:p)(g):l?m(g):p(g)}function f(g){return e.attempt(M7,m,p)(g)}function m(g){return t(g)}function p(g){return i._balanced=!0,n(g)}}function z7(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),o}function o(p){return It(p)?Pa(e,i)(p):i(p)}function i(p){return p===41?m(p):R_(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return It(p)?Pa(e,d)(p):m(p)}function c(p){return n(p)}function d(p){return p===34||p===39||p===40?D_(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):m(p)}function f(p){return It(p)?Pa(e,m)(p):m(p)}function m(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function $7(e,t,n){const r=this;return o;function o(c){return M_.call(r,e,i,l,"reference","referenceMarker","referenceString")(c)}function i(c){return r.parser.defined.includes(Pr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function l(c){return n(c)}}function F7(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),o}function o(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const B7={name:"labelStartImage",resolveAll:Xx.resolveAll,tokenize:V7};function V7(e,t,n){const r=this;return o;function o(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),i}function i(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const H7={name:"labelStartLink",resolveAll:Xx.resolveAll,tokenize:U7};function U7(e,t,n){const r=this;return o;function o(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),i}function i(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const ym={name:"lineEnding",tokenize:W7};function W7(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ct(e,t,"linePrefix")}}const ld={name:"thematicBreak",tokenize:Y7};function Y7(e,t,n){let r=0,o;return i;function i(f){return e.enter("thematicBreak"),l(f)}function l(f){return o=f,c(f)}function c(f){return f===o?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Ke(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===o?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),vt(f)?Ct(e,c,"whitespace")(f):c(f))}}const Bn={continuation:{tokenize:K7},exit:J7,name:"list",tokenize:G7},X7={partial:!0,tokenize:Z7},q7={partial:!0,tokenize:Q7};function G7(e,t,n){const r=this,o=r.events[r.events.length-1];let i=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return c;function c(x){const b=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:vg(x)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(ld,n,f)(x):f(x);if(!r.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(x)}return n(x)}function d(x){return vg(x)&&++l<10?(e.consume(x),d):(!r.interrupt||l<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),f(x)):n(x)}function f(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,e.check(mc,r.interrupt?n:m,e.attempt(X7,g,p))}function m(x){return r.containerState.initialBlankLine=!0,i++,g(x)}function p(x){return vt(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),g):n(x)}function g(x){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function K7(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(mc,o,i);function o(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ct(e,t,"listItemIndent",r.containerState.size+1)(c)}function i(c){return r.containerState.furtherBlankLines||!vt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(q7,t,l)(c))}function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ct(e,e.attempt(Bn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function Q7(e,t,n){const r=this;return Ct(e,o,"listItemIndent",r.containerState.size+1);function o(i){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(i):n(i)}}function J7(e){e.exit(this.containerState.type)}function Z7(e,t,n){const r=this;return Ct(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(i){const l=r.events[r.events.length-1];return!vt(i)&&l&&l[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const k1={name:"setextUnderline",resolveTo:eU,tokenize:tU};function eU(e,t){let n=e.length,r,o,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",i?(e.splice(o,0,["enter",l,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function tU(e,t,n){const r=this;let o;return i;function i(f){let m=r.events.length,p;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){p=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),o=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===o?(e.consume(f),c):(e.exit("setextHeadingLineSequence"),vt(f)?Ct(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Ke(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const nU={tokenize:rU};function rU(e){const t=this,n=e.attempt(mc,r,e.attempt(this.parser.constructs.flowInitial,o,Ct(e,e.attempt(this.parser.constructs.flow,o,e.attempt(a7,o)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const oU={resolveAll:L_()},iU=O_("string"),sU=O_("text");function O_(e){return{resolveAll:L_(e==="text"?lU:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],i=n.attempt(o,l,c);return l;function l(m){return f(m)?i(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),d}function d(m){return f(m)?(n.exit("data"),i(m)):(n.consume(m),d)}function f(m){if(m===null)return!0;const p=o[m];let g=-1;if(p)for(;++g<p.length;){const x=p[g];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function L_(e){return t;function t(n,r){let o=-1,i;for(;++o<=n.length;)i===void 0?n[o]&&n[o][1].type==="data"&&(i=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==i+2&&(n[i][1].end=n[o-1][1].end,n.splice(i+2,o-i-2),o=i+2),i=void 0);return e?e(n,r):n}}function lU(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let i=o.length,l=-1,c=0,d;for(;i--;){const f=o[i];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(f===-2)d=!0,c++;else if(f!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const f={type:n===e.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?l:r.start._bufferIndex+l,_index:r.start._index+i,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const aU={42:Bn,43:Bn,45:Bn,48:Bn,49:Bn,50:Bn,51:Bn,52:Bn,53:Bn,54:Bn,55:Bn,56:Bn,57:Bn,62:P_},cU={91:p7},uU={[-2]:xm,[-1]:xm,32:xm},dU={35:v7,42:ld,45:[k1,ld],60:k7,61:k1,95:ld,96:b1,126:b1},fU={38:I_,92:A_},pU={[-5]:ym,[-4]:ym,[-3]:ym,33:B7,38:I_,42:wg,60:[H9,A7],91:H7,92:[x7,A_],93:Xx,95:wg,96:n7},hU={null:[wg,oU]},mU={null:[42,95]},gU={null:[]},xU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:mU,contentInitial:cU,disable:gU,document:aU,flow:dU,flowInitial:uU,insideSpan:hU,string:fU,text:pU},Symbol.toStringTag,{value:"Module"}));function yU(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},i=[];let l=[],c=[];const d={attempt:M(T),check:M(P),consume:E,enter:N,exit:_,interrupt:M(P,{interrupt:!0})},f={code:null,containerState:{},defineSkip:v,events:[],now:b,parser:e,previous:null,sliceSerialize:g,sliceStream:x,write:p};let m=t.tokenize.call(f,d);return t.resolveAll&&i.push(t),f;function p(B){return l=dr(l,B),S(),l[l.length-1]!==null?[]:(z(t,0),f.events=Mf(i,f.events,f),f.events)}function g(B,q){return wU(x(B),q)}function x(B){return vU(l,B)}function b(){const{_bufferIndex:B,_index:q,line:U,column:A,offset:F}=r;return{_bufferIndex:B,_index:q,line:U,column:A,offset:F}}function v(B){o[B.line]=B.column,L()}function S(){let B;for(;r._index<l.length;){const q=l[r._index];if(typeof q=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<q.length;)k(q.charCodeAt(r._bufferIndex));else k(q)}}function k(B){m=m(B)}function E(B){Ke(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,L()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=B}function N(B,q){const U=q||{};return U.type=B,U.start=b(),f.events.push(["enter",U,f]),c.push(U),U}function _(B){const q=c.pop();return q.end=b(),f.events.push(["exit",q,f]),q}function T(B,q){z(B,q.from)}function P(B,q){q.restore()}function M(B,q){return U;function U(A,F,$){let G,D,W,R;return Array.isArray(A)?X(A):"tokenize"in A?X([A]):H(A);function H(Z){return K;function K(te){const Q=te!==null&&Z[te],ie=te!==null&&Z.null,ue=[...Array.isArray(Q)?Q:Q?[Q]:[],...Array.isArray(ie)?ie:ie?[ie]:[]];return X(ue)(te)}}function X(Z){return G=Z,D=0,Z.length===0?$:I(Z[D])}function I(Z){return K;function K(te){return R=Y(),W=Z,Z.partial||(f.currentConstruct=Z),Z.name&&f.parser.constructs.disable.null.includes(Z.name)?J():Z.tokenize.call(q?Object.assign(Object.create(f),q):f,d,V,J)(te)}}function V(Z){return B(W,R),F}function J(Z){return R.restore(),++D<G.length?I(G[D]):$}}}function z(B,q){B.resolveAll&&!i.includes(B)&&i.push(B),B.resolve&&nr(f.events,q,f.events.length-q,B.resolve(f.events.slice(q),f)),B.resolveTo&&(f.events=B.resolveTo(f.events,f))}function Y(){const B=b(),q=f.previous,U=f.currentConstruct,A=f.events.length,F=Array.from(c);return{from:A,restore:$};function $(){r=B,f.previous=q,f.currentConstruct=U,f.events.length=A,c=F,L()}}function L(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function vU(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,i=t.end._bufferIndex;let l;if(n===o)l=[e[n].slice(r,i)];else{if(l=e.slice(n,o),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}i>0&&l.push(e[o].slice(0,i))}return l}function wU(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const i=e[n];let l;if(typeof i=="string")l=i;else switch(i){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&o)continue;l=" ";break}default:l=String.fromCharCode(i)}o=i===-2,r.push(l)}return r.join("")}function bU(e){const r={constructs:j_([xU,...(e||{}).extensions||[]]),content:o(O9),defined:[],document:o(z9),flow:o(nU),lazy:{},string:o(iU),text:o(sU)};return r;function o(i){return l;function l(c){return yU(r,i,c)}}}function SU(e){for(;!T_(e););return e}const C1=/[\0\t\n\r]/g;function kU(){let e=1,t="",n=!0,r;return o;function o(i,l,c){const d=[];let f,m,p,g,x;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(l||void 0).decode(i)),p=0,t="",n&&(i.charCodeAt(0)===65279&&p++,n=void 0);p<i.length;){if(C1.lastIndex=p,f=C1.exec(i),g=f&&f.index!==void 0?f.index:i.length,x=i.charCodeAt(g),!f){t=i.slice(p);break}if(x===10&&p===g&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),p<g&&(d.push(i.slice(p,g)),e+=g-p),x){case 0:{d.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,d.push(-2);e++<m;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return c&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const CU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function NU(e){return e.replace(CU,EU)}function EU(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),i=o===120||o===88;return __(n.slice(i?2:1),i?16:10)}return Yx(n)||e}const z_={}.hasOwnProperty;function jU(e,t,n){return typeof t!="string"&&(n=t,t=void 0),_U(n)(SU(bU(n).document().write(kU()(e,t,!0))))}function _U(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Qe),autolinkProtocol:Y,autolinkEmail:Y,atxHeading:i(De),blockQuote:i(ie),characterEscape:Y,characterReference:Y,codeFenced:i(ue),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:i(ue,l),codeText:i(fe,l),codeTextData:Y,data:Y,codeFlowValue:Y,definition:i(pe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:i(we),hardBreakEscape:i(Oe),hardBreakTrailing:i(Oe),htmlFlow:i(it,l),htmlFlowData:Y,htmlText:i(it,l),htmlTextData:Y,image:i(Ze),label:l,link:i(Qe),listItem:i(Ve),listItemValue:g,listOrdered:i(Ce,p),listUnordered:i(Ce),paragraph:i(ut),reference:I,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:i(De),strong:i(bt),thematicBreak:i(At)},exit:{atxHeading:d(),atxHeadingSequence:T,autolink:d(),autolinkEmail:Q,autolinkProtocol:te,blockQuote:d(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:J,characterReferenceMarkerNumeric:J,characterReferenceValue:Z,characterReference:K,codeFenced:d(S),codeFencedFence:v,codeFencedFenceInfo:x,codeFencedFenceMeta:b,codeFlowValue:L,codeIndented:d(k),codeText:d(F),codeTextData:L,data:L,definition:d(),definitionDestinationString:_,definitionLabelString:E,definitionTitleString:N,emphasis:d(),hardBreakEscape:d(q),hardBreakTrailing:d(q),htmlFlow:d(U),htmlFlowData:L,htmlText:d(A),htmlTextData:L,image:d(G),label:W,labelText:D,lineEnding:B,link:d($),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:V,resourceDestinationString:R,resourceTitleString:H,resource:X,setextHeading:d(z),setextHeadingLineSequence:M,setextHeadingText:P,strong:d(),thematicBreak:d()}};$_(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ne){let le={type:"root",children:[]};const he={stack:[le],tokenStack:[],config:t,enter:c,exit:f,buffer:l,resume:m,data:n},be=[];let Ne=-1;for(;++Ne<ne.length;)if(ne[Ne][1].type==="listOrdered"||ne[Ne][1].type==="listUnordered")if(ne[Ne][0]==="enter")be.push(Ne);else{const Le=be.pop();Ne=o(ne,Le,Ne)}for(Ne=-1;++Ne<ne.length;){const Le=t[ne[Ne][0]];z_.call(Le,ne[Ne][1].type)&&Le[ne[Ne][1].type].call(Object.assign({sliceSerialize:ne[Ne][2].sliceSerialize},he),ne[Ne][1])}if(he.tokenStack.length>0){const Le=he.tokenStack[he.tokenStack.length-1];(Le[1]||N1).call(he,void 0,Le[0])}for(le.position={start:Bo(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Bo(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},Ne=-1;++Ne<t.transforms.length;)le=t.transforms[Ne](le)||le;return le}function o(ne,le,he){let be=le-1,Ne=-1,Le=!1,tt,We,Xe,et;for(;++be<=he;){const Ue=ne[be];switch(Ue[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ue[0]==="enter"?Ne++:Ne--,et=void 0;break}case"lineEndingBlank":{Ue[0]==="enter"&&(tt&&!et&&!Ne&&!Xe&&(Xe=be),et=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:et=void 0}if(!Ne&&Ue[0]==="enter"&&Ue[1].type==="listItemPrefix"||Ne===-1&&Ue[0]==="exit"&&(Ue[1].type==="listUnordered"||Ue[1].type==="listOrdered")){if(tt){let St=be;for(We=void 0;St--;){const gt=ne[St];if(gt[1].type==="lineEnding"||gt[1].type==="lineEndingBlank"){if(gt[0]==="exit")continue;We&&(ne[We][1].type="lineEndingBlank",Le=!0),gt[1].type="lineEnding",We=St}else if(!(gt[1].type==="linePrefix"||gt[1].type==="blockQuotePrefix"||gt[1].type==="blockQuotePrefixWhitespace"||gt[1].type==="blockQuoteMarker"||gt[1].type==="listItemIndent"))break}Xe&&(!We||Xe<We)&&(tt._spread=!0),tt.end=Object.assign({},We?ne[We][1].start:Ue[1].end),ne.splice(We||be,0,["exit",tt,Ue[2]]),be++,he++}if(Ue[1].type==="listItemPrefix"){const St={type:"listItem",_spread:!1,start:Object.assign({},Ue[1].start),end:void 0};tt=St,ne.splice(be,0,["enter",St,Ue[2]]),be++,he++,Xe=void 0,et=!0}}}return ne[le][1]._spread=Le,he}function i(ne,le){return he;function he(be){c.call(this,ne(be),be),le&&le.call(this,be)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ne,le,he){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([le,he||void 0]),ne.position={start:Bo(le.start),end:void 0}}function d(ne){return le;function le(he){ne&&ne.call(this,he),f.call(this,he)}}function f(ne,le){const he=this.stack.pop(),be=this.tokenStack.pop();if(be)be[0].type!==ne.type&&(le?le.call(this,ne,be[0]):(be[1]||N1).call(this,ne,be[0]));else throw new Error("Cannot close `"+ne.type+"` ("+_a({start:ne.start,end:ne.end})+"): its not open");he.position.end=Bo(ne.end)}function m(){return Wx(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(ne){if(this.data.expectingFirstListItemValue){const le=this.stack[this.stack.length-2];le.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function x(){const ne=this.resume(),le=this.stack[this.stack.length-1];le.lang=ne}function b(){const ne=this.resume(),le=this.stack[this.stack.length-1];le.meta=ne}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const ne=this.resume(),le=this.stack[this.stack.length-1];le.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const ne=this.resume(),le=this.stack[this.stack.length-1];le.value=ne.replace(/(\r?\n|\r)$/g,"")}function E(ne){const le=this.resume(),he=this.stack[this.stack.length-1];he.label=le,he.identifier=Pr(this.sliceSerialize(ne)).toLowerCase()}function N(){const ne=this.resume(),le=this.stack[this.stack.length-1];le.title=ne}function _(){const ne=this.resume(),le=this.stack[this.stack.length-1];le.url=ne}function T(ne){const le=this.stack[this.stack.length-1];if(!le.depth){const he=this.sliceSerialize(ne).length;le.depth=he}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function M(ne){const le=this.stack[this.stack.length-1];le.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function Y(ne){const he=this.stack[this.stack.length-1].children;let be=he[he.length-1];(!be||be.type!=="text")&&(be=_t(),be.position={start:Bo(ne.start),end:void 0},he.push(be)),this.stack.push(be)}function L(ne){const le=this.stack.pop();le.value+=this.sliceSerialize(ne),le.position.end=Bo(ne.end)}function B(ne){const le=this.stack[this.stack.length-1];if(this.data.atHardBreak){const he=le.children[le.children.length-1];he.position.end=Bo(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(le.type)&&(Y.call(this,ne),L.call(this,ne))}function q(){this.data.atHardBreak=!0}function U(){const ne=this.resume(),le=this.stack[this.stack.length-1];le.value=ne}function A(){const ne=this.resume(),le=this.stack[this.stack.length-1];le.value=ne}function F(){const ne=this.resume(),le=this.stack[this.stack.length-1];le.value=ne}function $(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const le=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=le,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function G(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const le=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=le,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function D(ne){const le=this.sliceSerialize(ne),he=this.stack[this.stack.length-2];he.label=NU(le),he.identifier=Pr(le).toLowerCase()}function W(){const ne=this.stack[this.stack.length-1],le=this.resume(),he=this.stack[this.stack.length-1];if(this.data.inReference=!0,he.type==="link"){const be=ne.children;he.children=be}else he.alt=le}function R(){const ne=this.resume(),le=this.stack[this.stack.length-1];le.url=ne}function H(){const ne=this.resume(),le=this.stack[this.stack.length-1];le.title=ne}function X(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function V(ne){const le=this.resume(),he=this.stack[this.stack.length-1];he.label=le,he.identifier=Pr(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function J(ne){this.data.characterReferenceType=ne.type}function Z(ne){const le=this.sliceSerialize(ne),he=this.data.characterReferenceType;let be;he?(be=__(le,he==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):be=Yx(le);const Ne=this.stack[this.stack.length-1];Ne.value+=be}function K(ne){const le=this.stack.pop();le.position.end=Bo(ne.end)}function te(ne){L.call(this,ne);const le=this.stack[this.stack.length-1];le.url=this.sliceSerialize(ne)}function Q(ne){L.call(this,ne);const le=this.stack[this.stack.length-1];le.url="mailto:"+this.sliceSerialize(ne)}function ie(){return{type:"blockquote",children:[]}}function ue(){return{type:"code",lang:null,meta:null,value:""}}function fe(){return{type:"inlineCode",value:""}}function pe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function we(){return{type:"emphasis",children:[]}}function De(){return{type:"heading",depth:0,children:[]}}function Oe(){return{type:"break"}}function it(){return{type:"html",value:""}}function Ze(){return{type:"image",title:null,url:"",alt:null}}function Qe(){return{type:"link",title:null,url:"",children:[]}}function Ce(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function Ve(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function ut(){return{type:"paragraph",children:[]}}function bt(){return{type:"strong",children:[]}}function _t(){return{type:"text",value:""}}function At(){return{type:"thematicBreak"}}}function Bo(e){return{line:e.line,column:e.column,offset:e.offset}}function $_(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?$_(e,r):PU(e,r)}}function PU(e,t){let n;for(n in t)if(z_.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function N1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+_a({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+_a({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+_a({start:t.start,end:t.end})+") is still open")}function AU(e){const t=this;t.parser=n;function n(r){return jU(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function IU(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function TU(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function RU(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function MU(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function DU(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function OU(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=pl(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let l,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=i+1,c+=1,e.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function LU(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zU(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function F_(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),i=o[0];i&&i.type==="text"?i.value="["+i.value:o.unshift({type:"text",value:"["});const l=o[o.length-1];return l&&l.type==="text"?l.value+=r:o.push({type:"text",value:r}),o}function $U(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return F_(e,t);const o={src:pl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const i={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,i),e.applyData(t,i)}function FU(e,t){const n={src:pl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function BU(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function VU(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return F_(e,t);const o={href:pl(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const i={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function HU(e,t){const n={href:pl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function UU(e,t,n){const r=e.all(t),o=n?WU(n):B_(t),i={},l=[];if(typeof t.checked=="boolean"){const m=r[0];let p;m&&m.type==="element"&&m.tagName==="p"?p=m:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(o||c!==0||m.type!=="element"||m.tagName!=="p")&&l.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!o?l.push(...m.children):l.push(m)}const d=r[r.length-1];d&&(o||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:i,children:l};return e.patch(t,f),e.applyData(t,f)}function WU(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=B_(n[r])}return t}function B_(e){const t=e.spread;return t??e.children.length>1}function YU(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const l=r[o];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function XU(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qU(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function GU(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KU(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),o.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=Bx(t.children[1]),d=w_(t.children[t.children.length-1]);c&&d&&(l.position={start:c,end:d}),o.push(l)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,i),e.applyData(t,i)}function QU(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:t.children.length;let d=-1;const f=[];for(;++d<c;){const p=t.children[d],g={},x=l?l[d]:void 0;x&&(g.align=x);let b={type:"element",tagName:i,properties:g,children:[]};p&&(b.children=e.all(p),e.patch(p,b),b=e.applyData(p,b)),f.push(b)}const m={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,m),e.applyData(t,m)}function JU(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const E1=9,j1=32;function ZU(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const i=[];for(;r;)i.push(_1(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return i.push(_1(t.slice(o),o>0,!1)),i.join("")}function _1(e,t,n){let r=0,o=e.length;if(t){let i=e.codePointAt(r);for(;i===E1||i===j1;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(o-1);for(;i===E1||i===j1;)o--,i=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function eW(e,t){const n={type:"text",value:ZU(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function tW(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const nW={blockquote:IU,break:TU,code:RU,delete:MU,emphasis:DU,footnoteReference:OU,heading:LU,html:zU,imageReference:$U,image:FU,inlineCode:BU,linkReference:VU,link:HU,listItem:UU,list:YU,paragraph:XU,root:qU,strong:GU,table:KU,tableCell:JU,tableRow:QU,text:eW,thematicBreak:tW,toml:Xu,yaml:Xu,definition:Xu,footnoteDefinition:Xu};function Xu(){}const V_=-1,Df=0,Aa=1,Od=2,qx=3,Gx=4,Kx=5,Qx=6,H_=7,U_=8,P1=typeof self=="object"?self:globalThis,rW=(e,t)=>{const n=(o,i)=>(e.set(i,o),o),r=o=>{if(e.has(o))return e.get(o);const[i,l]=t[o];switch(i){case Df:case V_:return n(l,o);case Aa:{const c=n([],o);for(const d of l)c.push(r(d));return c}case Od:{const c=n({},o);for(const[d,f]of l)c[r(d)]=r(f);return c}case qx:return n(new Date(l),o);case Gx:{const{source:c,flags:d}=l;return n(new RegExp(c,d),o)}case Kx:{const c=n(new Map,o);for(const[d,f]of l)c.set(r(d),r(f));return c}case Qx:{const c=n(new Set,o);for(const d of l)c.add(r(d));return c}case H_:{const{name:c,message:d}=l;return n(new P1[c](d),o)}case U_:return n(BigInt(l),o);case"BigInt":return n(Object(BigInt(l)),o);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new P1[i](l),o)};return r},A1=e=>rW(new Map,e)(0),Ps="",{toString:oW}={},{keys:iW}=Object,ua=e=>{const t=typeof e;if(t!=="object"||!e)return[Df,t];const n=oW.call(e).slice(8,-1);switch(n){case"Array":return[Aa,Ps];case"Object":return[Od,Ps];case"Date":return[qx,Ps];case"RegExp":return[Gx,Ps];case"Map":return[Kx,Ps];case"Set":return[Qx,Ps];case"DataView":return[Aa,n]}return n.includes("Array")?[Aa,n]:n.includes("Error")?[H_,n]:[Od,n]},qu=([e,t])=>e===Df&&(t==="function"||t==="symbol"),sW=(e,t,n,r)=>{const o=(l,c)=>{const d=r.push(l)-1;return n.set(c,d),d},i=l=>{if(n.has(l))return n.get(l);let[c,d]=ua(l);switch(c){case Df:{let m=l;switch(d){case"bigint":c=U_,m=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);m=null;break;case"undefined":return o([V_],l)}return o([c,m],l)}case Aa:{if(d){let g=l;return d==="DataView"?g=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(g=new Uint8Array(l)),o([d,[...g]],l)}const m=[],p=o([c,m],l);for(const g of l)m.push(i(g));return p}case Od:{if(d)switch(d){case"BigInt":return o([d,l.toString()],l);case"Boolean":case"Number":case"String":return o([d,l.valueOf()],l)}if(t&&"toJSON"in l)return i(l.toJSON());const m=[],p=o([c,m],l);for(const g of iW(l))(e||!qu(ua(l[g])))&&m.push([i(g),i(l[g])]);return p}case qx:return o([c,l.toISOString()],l);case Gx:{const{source:m,flags:p}=l;return o([c,{source:m,flags:p}],l)}case Kx:{const m=[],p=o([c,m],l);for(const[g,x]of l)(e||!(qu(ua(g))||qu(ua(x))))&&m.push([i(g),i(x)]);return p}case Qx:{const m=[],p=o([c,m],l);for(const g of l)(e||!qu(ua(g)))&&m.push(i(g));return p}}const{message:f}=l;return o([c,{name:d,message:f}],l)};return i},I1=(e,{json:t,lossy:n}={})=>{const r=[];return sW(!(t||n),!!t,new Map,r)(e),r},Ld=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?A1(I1(e,t)):structuredClone(e):(e,t)=>A1(I1(e,t));function lW(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function aW(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function cW(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||lW,r=e.options.footnoteBackLabel||aW,o=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const m=e.all(f),p=String(f.identifier).toUpperCase(),g=pl(p.toLowerCase());let x=0;const b=[],v=e.footnoteCounts.get(p);for(;v!==void 0&&++x<=v;){b.length>0&&b.push({type:"text",value:" "});let E=typeof n=="string"?n:n(d,x);typeof E=="string"&&(E={type:"text",value:E}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,x),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const S=m[m.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const E=S.children[S.children.length-1];E&&E.type==="text"?E.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...b)}else m.push(...b);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(m,!0)};e.patch(f,k),c.push(k)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Ld(l),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const Of=function(e){if(e==null)return pW;if(typeof e=="function")return Lf(e);if(typeof e=="object")return Array.isArray(e)?uW(e):dW(e);if(typeof e=="string")return fW(e);throw new Error("Expected function, string, or object as test")};function uW(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Of(e[n]);return Lf(r);function r(...o){let i=-1;for(;++i<t.length;)if(t[i].apply(this,o))return!0;return!1}}function dW(e){const t=e;return Lf(n);function n(r){const o=r;let i;for(i in e)if(o[i]!==t[i])return!1;return!0}}function fW(e){return Lf(t);function t(n){return n&&n.type===e}}function Lf(e){return t;function t(n,r,o){return!!(hW(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function pW(){return!0}function hW(e){return e!==null&&typeof e=="object"&&"type"in e}const W_=[],mW=!0,bg=!1,gW="skip";function Y_(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const i=Of(o),l=r?-1:1;c(e,void 0,[])();function c(d,f,m){const p=d&&typeof d=="object"?d:{};if(typeof p.type=="string"){const x=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(d.type+(x?"<"+x+">":""))+")"})}return g;function g(){let x=W_,b,v,S;if((!t||i(d,f,m[m.length-1]||void 0))&&(x=xW(n(d,m)),x[0]===bg))return x;if("children"in d&&d.children){const k=d;if(k.children&&x[0]!==gW)for(v=(r?k.children.length:-1)+l,S=m.concat(k);v>-1&&v<k.children.length;){const E=k.children[v];if(b=c(E,v,S)(),b[0]===bg)return b;v=typeof b[1]=="number"?b[1]:v+l}}return x}}}function xW(e){return Array.isArray(e)?e:typeof e=="number"?[mW,e]:e==null?W_:[e]}function Jx(e,t,n,r){let o,i,l;typeof t=="function"?(i=void 0,l=t,o=n):(i=t,l=n,o=r),Y_(e,i,c,o);function c(d,f){const m=f[f.length-1],p=m?m.children.indexOf(d):void 0;return l(d,p,m)}}const Sg={}.hasOwnProperty,yW={};function vW(e,t){const n=t||yW,r=new Map,o=new Map,i=new Map,l={...nW,...n.handlers},c={all:f,applyData:bW,definitionById:r,footnoteById:o,footnoteCounts:i,footnoteOrder:[],handlers:l,one:d,options:n,patch:wW,wrap:kW};return Jx(e,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const p=m.type==="definition"?r:o,g=String(m.identifier).toUpperCase();p.has(g)||p.set(g,m)}}),c;function d(m,p){const g=m.type,x=c.handlers[g];if(Sg.call(c.handlers,g)&&x)return x(c,m,p);if(c.options.passThrough&&c.options.passThrough.includes(g)){if("children"in m){const{children:v,...S}=m,k=Ld(S);return k.children=c.all(m),k}return Ld(m)}return(c.options.unknownHandler||SW)(c,m,p)}function f(m){const p=[];if("children"in m){const g=m.children;let x=-1;for(;++x<g.length;){const b=c.one(g[x],m);if(b){if(x&&g[x-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=T1(b.value)),!Array.isArray(b)&&b.type==="element")){const v=b.children[0];v&&v.type==="text"&&(v.value=T1(v.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function wW(e,t){e.position&&(t.position=a9(e))}function bW(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&i&&Object.assign(n.properties,Ld(i)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function SW(e,t){const n=t.data||{},r="value"in t&&!(Sg.call(n,"hProperties")||Sg.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function kW(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function T1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function R1(e,t){const n=vW(e,t),r=n.one(e,void 0),o=cW(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&i.children.push({type:"text",value:`
`},o),i}function CW(e,t){return e&&"run"in e?async function(n,r){const o=R1(n,{file:r,...t});await e.run(o,r)}:function(n,r){return R1(n,{file:r,...e||t})}}function M1(e){if(e)throw e}var vm,D1;function NW(){if(D1)return vm;D1=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},i=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var m=e.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!m&&!p)return!1;var g;for(g in f);return typeof g>"u"||e.call(f,g)},l=function(f,m){n&&m.name==="__proto__"?n(f,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):f[m.name]=m.newValue},c=function(f,m){if(m==="__proto__")if(e.call(f,m)){if(r)return r(f,m).value}else return;return f[m]};return vm=function d(){var f,m,p,g,x,b,v=arguments[0],S=1,k=arguments.length,E=!1;for(typeof v=="boolean"&&(E=v,v=arguments[1]||{},S=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});S<k;++S)if(f=arguments[S],f!=null)for(m in f)p=c(v,m),g=c(f,m),v!==g&&(E&&g&&(i(g)||(x=o(g)))?(x?(x=!1,b=p&&o(p)?p:[]):b=p&&i(p)?p:{},l(v,{name:m,newValue:d(E,b,g)})):typeof g<"u"&&l(v,{name:m,newValue:g}));return v},vm}var EW=NW();const wm=Ja(EW);function kg(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function jW(){const e=[],t={run:n,use:r};return t;function n(...o){let i=-1;const l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...o);function c(d,...f){const m=e[++i];let p=-1;if(d){l(d);return}for(;++p<o.length;)(f[p]===null||f[p]===void 0)&&(f[p]=o[p]);o=f,m?_W(m,c)(...f):l(null,...f)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function _W(e,t){let n;return r;function r(...l){const c=e.length>l.length;let d;c&&l.push(o);try{d=e.apply(this,l)}catch(f){const m=f;if(c&&n)throw m;return o(m)}c||(d&&d.then&&typeof d.then=="function"?d.then(i,o):d instanceof Error?o(d):i(d))}function o(l,...c){n||(n=!0,t(l,...c))}function i(l){o(null,l)}}const Vr={basename:PW,dirname:AW,extname:IW,join:TW,sep:"/"};function PW(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');gc(e);let n=0,r=-1,o=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(i){n=o+1;break}}else r<0&&(i=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,c=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(i){n=o+1;break}}else l<0&&(i=!0,l=o+1),c>-1&&(e.codePointAt(o)===t.codePointAt(c--)?c<0&&(r=o):(c=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function AW(e){if(gc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function IW(e){gc(e);let t=e.length,n=-1,r=0,o=-1,i=0,l;for(;t--;){const c=e.codePointAt(t);if(c===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),c===46?o<0?o=t:i!==1&&(i=1):o>-1&&(i=-1)}return o<0||n<0||i===0||i===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function TW(...e){let t=-1,n;for(;++t<e.length;)gc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":RW(n)}function RW(e){gc(e);const t=e.codePointAt(0)===47;let n=MW(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function MW(e,t){let n="",r=0,o=-1,i=0,l=-1,c,d;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(o===l-1||i===1))if(o!==l-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),o=l,i=0;continue}}else if(n.length>0){n="",r=0,o=l,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,l):n=e.slice(o+1,l),r=l-o-1;o=l,i=0}else c===46&&i>-1?i++:i=-1}return n}function gc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const DW={cwd:OW};function OW(){return"/"}function Cg(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function LW(e){if(typeof e=="string")e=new URL(e);else if(!Cg(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return zW(e)}function zW(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const bm=["history","path","basename","stem","extname","dirname"];class X_{constructor(t){let n;t?Cg(t)?n={path:t}:typeof t=="string"||$W(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":DW.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<bm.length;){const i=bm[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let o;for(o in n)bm.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Vr.basename(this.path):void 0}set basename(t){km(t,"basename"),Sm(t,"basename"),this.path=Vr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Vr.dirname(this.path):void 0}set dirname(t){O1(this.basename,"dirname"),this.path=Vr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Vr.extname(this.path):void 0}set extname(t){if(Sm(t,"extname"),O1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Vr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Cg(t)&&(t=LW(t)),km(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Vr.basename(this.path,this.extname):void 0}set stem(t){km(t,"stem"),Sm(t,"stem"),this.path=Vr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new _n(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Sm(e,t){if(e&&e.includes(Vr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Vr.sep+"`")}function km(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function O1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function $W(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const FW=function(e){const r=this.constructor.prototype,o=r[e],i=function(){return o.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},BW={}.hasOwnProperty;class Zx extends FW{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=jW()}copy(){const t=new Zx;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(wm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Em("data",this.frozen),this.namespace[t]=n,this):BW.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Em("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Gu(t),r=this.parser||this.Parser;return Cm("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Cm("process",this.parser||this.Parser),Nm("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(i,l){const c=Gu(t),d=r.parse(c);r.run(d,c,function(m,p,g){if(m||!p||!g)return f(m);const x=p,b=r.stringify(x,g);UW(b)?g.value=b:g.result=b,f(m,g)});function f(m,p){m||!p?l(m):i?i(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),Cm("processSync",this.parser||this.Parser),Nm("processSync",this.compiler||this.Compiler),this.process(t,o),z1("processSync","process",n),r;function o(i,l){n=!0,M1(i),r=l}}run(t,n,r){L1(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(l,c){const d=Gu(n);o.run(t,d,f);function f(m,p,g){const x=p||t;m?c(m):l?l(x):r(void 0,x,g)}}}runSync(t,n){let r=!1,o;return this.run(t,n,i),z1("runSync","run",r),o;function i(l,c){M1(l),o=c,r=!0}}stringify(t,n){this.freeze();const r=Gu(n),o=this.compiler||this.Compiler;return Nm("stringify",o),L1(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(Em("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[m,...p]=f;d(m,p)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(o.settings=wm(!0,o.settings,f.settings))}function c(f){let m=-1;if(f!=null)if(Array.isArray(f))for(;++m<f.length;){const p=f[m];i(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,m){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===f){g=p;break}if(g===-1)r.push([f,...m]);else if(m.length>0){let[x,...b]=m;const v=r[g][1];kg(v)&&kg(x)&&(x=wm(!0,v,x)),r[g]=[f,x,...b]}}}}const VW=new Zx().freeze();function Cm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Nm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Em(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function L1(e){if(!kg(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function z1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Gu(e){return HW(e)?e:new X_(e)}function HW(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function UW(e){return typeof e=="string"||WW(e)}function WW(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const YW="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",$1=[],F1={allowDangerousHtml:!0},XW=/^(https?|ircs?|mailto|xmpp)$/i,qW=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function GW(e){const t=KW(e),n=QW(e);return JW(t.runSync(t.parse(n),n),e)}function KW(e){const t=e.rehypePlugins||$1,n=e.remarkPlugins||$1,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...F1}:F1;return VW().use(AU).use(n).use(CW,r).use(t)}function QW(e){const t=e.children||"",n=new X_;return typeof t=="string"&&(n.value=t),n}function JW(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,i=t.disallowedElements,l=t.skipHtml,c=t.unwrapDisallowed,d=t.urlTransform||ZW;for(const m of qW)Object.hasOwn(t,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+YW+m.id,void 0);return Jx(e,f),p9(e,{Fragment:u.Fragment,components:o,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function f(m,p,g){if(m.type==="raw"&&g&&typeof p=="number")return l?g.children.splice(p,1):g.children[p]={type:"text",value:m.value},p;if(m.type==="element"){let x;for(x in gm)if(Object.hasOwn(gm,x)&&Object.hasOwn(m.properties,x)){const b=m.properties[x],v=gm[x];(v===null||v.includes(m.tagName))&&(m.properties[x]=d(String(b||""),x,m))}}if(m.type==="element"){let x=n?!n.includes(m.tagName):i?i.includes(m.tagName):!1;if(!x&&r&&typeof p=="number"&&(x=!r(m,p,g)),x&&g&&typeof p=="number")return c&&m.children?g.children.splice(p,1,...m.children):g.children.splice(p,1),p}}}function ZW(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||XW.test(e.slice(0,t))?e:""}function B1(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}function eY(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function tY(e,t,n){const o=Of((n||{}).ignore||[]),i=nY(t);let l=-1;for(;++l<i.length;)Y_(e,"text",c);function c(f,m){let p=-1,g;for(;++p<m.length;){const x=m[p],b=g?g.children:void 0;if(o(x,b?b.indexOf(x):void 0,g))return;g=x}if(g)return d(f,m)}function d(f,m){const p=m[m.length-1],g=i[l][0],x=i[l][1];let b=0;const S=p.children.indexOf(f);let k=!1,E=[];g.lastIndex=0;let N=g.exec(f.value);for(;N;){const _=N.index,T={index:N.index,input:N.input,stack:[...m,f]};let P=x(...N,T);if(typeof P=="string"&&(P=P.length>0?{type:"text",value:P}:void 0),P===!1?g.lastIndex=_+1:(b!==_&&E.push({type:"text",value:f.value.slice(b,_)}),Array.isArray(P)?E.push(...P):P&&E.push(P),b=_+N[0].length,k=!0),!g.global)break;N=g.exec(f.value)}return k?(b<f.value.length&&E.push({type:"text",value:f.value.slice(b)}),p.children.splice(S,1,...E)):E=[f],S+E.length}}function nY(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const o=n[r];t.push([rY(o[0]),oY(o[1])])}return t}function rY(e){return typeof e=="string"?new RegExp(eY(e),"g"):e}function oY(e){return typeof e=="function"?e:function(){return e}}const jm="phrasing",_m=["autolink","link","image","label"];function iY(){return{transforms:[fY],enter:{literalAutolink:lY,literalAutolinkEmail:Pm,literalAutolinkHttp:Pm,literalAutolinkWww:Pm},exit:{literalAutolink:dY,literalAutolinkEmail:uY,literalAutolinkHttp:aY,literalAutolinkWww:cY}}}function sY(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:jm,notInConstruct:_m},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:jm,notInConstruct:_m},{character:":",before:"[ps]",after:"\\/",inConstruct:jm,notInConstruct:_m}]}}function lY(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Pm(e){this.config.enter.autolinkProtocol.call(this,e)}function aY(e){this.config.exit.autolinkProtocol.call(this,e)}function cY(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function uY(e){this.config.exit.autolinkEmail.call(this,e)}function dY(e){this.exit(e)}function fY(e){tY(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,pY],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),hY]],{ignore:["link","linkReference"]})}function pY(e,t,n,r,o){let i="";if(!q_(o)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!mY(n)))return!1;const l=gY(n+r);if(!l[0])return!1;const c={type:"link",title:null,url:i+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function hY(e,t,n,r){return!q_(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function mY(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function gY(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=B1(e,"(");let i=B1(e,")");for(;r!==-1&&o>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function q_(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Ui(n)||Rf(n))&&(!t||n!==47)}G_.peek=NY;function xY(){this.buffer()}function yY(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function vY(){this.buffer()}function wY(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function bY(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Pr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function SY(e){this.exit(e)}function kY(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Pr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function CY(e){this.exit(e)}function NY(){return"["}function G_(e,t,n,r){const o=n.createTracker(r);let i=o.move("[^");const l=n.enter("footnoteReference"),c=n.enter("reference");return i+=o.move(n.safe(n.associationId(e),{after:"]",before:i})),c(),l(),i+=o.move("]"),i}function EY(){return{enter:{gfmFootnoteCallString:xY,gfmFootnoteCall:yY,gfmFootnoteDefinitionLabelString:vY,gfmFootnoteDefinition:wY},exit:{gfmFootnoteCallString:bY,gfmFootnoteCall:SY,gfmFootnoteDefinitionLabelString:kY,gfmFootnoteDefinition:CY}}}function jY(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:G_},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,o,i,l){const c=i.createTracker(l);let d=c.move("[^");const f=i.enter("footnoteDefinition"),m=i.enter("label");return d+=c.move(i.safe(i.associationId(r),{before:d,after:"]"})),m(),d+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),d+=c.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,c.current()),t?K_:_Y))),f(),d}}function _Y(e,t,n){return t===0?e:K_(e,t,n)}function K_(e,t,n){return(n?"":"    ")+e}const PY=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Q_.peek=MY;function AY(){return{canContainEols:["delete"],enter:{strikethrough:TY},exit:{strikethrough:RY}}}function IY(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:PY}],handlers:{delete:Q_}}}function TY(e){this.enter({type:"delete",children:[]},e)}function RY(e){this.exit(e)}function Q_(e,t,n,r){const o=n.createTracker(r),i=n.enter("strikethrough");let l=o.move("~~");return l+=n.containerPhrasing(e,{...o.current(),before:l,after:"~"}),l+=o.move("~~"),i(),l}function MY(){return"~"}function DY(e){return e.length}function OY(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||DY,i=[],l=[],c=[],d=[];let f=0,m=-1;for(;++m<e.length;){const v=[],S=[];let k=-1;for(e[m].length>f&&(f=e[m].length);++k<e[m].length;){const E=LY(e[m][k]);if(n.alignDelimiters!==!1){const N=o(E);S[k]=N,(d[k]===void 0||N>d[k])&&(d[k]=N)}v.push(E)}l[m]=v,c[m]=S}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<f;)i[p]=V1(r[p]);else{const v=V1(r);for(;++p<f;)i[p]=v}p=-1;const g=[],x=[];for(;++p<f;){const v=i[p];let S="",k="";v===99?(S=":",k=":"):v===108?S=":":v===114&&(k=":");let E=n.alignDelimiters===!1?1:Math.max(1,d[p]-S.length-k.length);const N=S+"-".repeat(E)+k;n.alignDelimiters!==!1&&(E=S.length+E+k.length,E>d[p]&&(d[p]=E),x[p]=E),g[p]=N}l.splice(1,0,g),c.splice(1,0,x),m=-1;const b=[];for(;++m<l.length;){const v=l[m],S=c[m];p=-1;const k=[];for(;++p<f;){const E=v[p]||"";let N="",_="";if(n.alignDelimiters!==!1){const T=d[p]-(S[p]||0),P=i[p];P===114?N=" ".repeat(T):P===99?T%2?(N=" ".repeat(T/2+.5),_=" ".repeat(T/2-.5)):(N=" ".repeat(T/2),_=N):_=" ".repeat(T)}n.delimiterStart!==!1&&!p&&k.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&E==="")&&(n.delimiterStart!==!1||p)&&k.push(" "),n.alignDelimiters!==!1&&k.push(N),k.push(E),n.alignDelimiters!==!1&&k.push(_),n.padding!==!1&&k.push(" "),(n.delimiterEnd!==!1||p!==f-1)&&k.push("|")}b.push(n.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return b.join(`
`)}function LY(e){return e==null?"":String(e)}function V1(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function zY(e,t,n,r){const o=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const l=n.indentLines(n.containerFlow(e,i.current()),$Y);return o(),l}function $Y(e,t,n){return">"+(n?"":" ")+e}function FY(e,t){return H1(e,t.inConstruct,!0)&&!H1(e,t.notInConstruct,!1)}function H1(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function U1(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&FY(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function BY(e,t){const n=String(e);let r=n.indexOf(t),o=r,i=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++i>l&&(l=i):i=1,o=r+t.length,r=n.indexOf(t,o);return l}function VY(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function HY(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function UY(e,t,n,r){const o=HY(n),i=e.value||"",l=o==="`"?"GraveAccent":"Tilde";if(VY(e,n)){const p=n.enter("codeIndented"),g=n.indentLines(i,WY);return p(),g}const c=n.createTracker(r),d=o.repeat(Math.max(BY(i,o)+1,3)),f=n.enter("codeFenced");let m=c.move(d);if(e.lang){const p=n.enter(`codeFencedLang${l}`);m+=c.move(n.safe(e.lang,{before:m,after:" ",encode:["`"],...c.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${l}`);m+=c.move(" "),m+=c.move(n.safe(e.meta,{before:m,after:`
`,encode:["`"],...c.current()})),p()}return m+=c.move(`
`),i&&(m+=c.move(i+`
`)),m+=c.move(d),f(),m}function WY(e,t,n){return(n?"":"    ")+e}function ey(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function YY(e,t,n,r){const o=ey(n),i=o==='"'?"Quote":"Apostrophe",l=n.enter("definition");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("[");return f+=d.move(n.safe(n.associationId(e),{before:f,after:"]",...d.current()})),f+=d.move("]: "),c(),!e.url||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...d.current()}))),c(),e.title&&(c=n.enter(`title${i}`),f+=d.move(" "+o),f+=d.move(n.safe(e.title,{before:f,after:o,...d.current()})),f+=d.move(o),c()),l(),f}function XY(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Qa(e){return"&#x"+e.toString(16).toUpperCase()+";"}function zd(e,t,n){const r=nl(e),o=nl(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}J_.peek=qY;function J_(e,t,n,r){const o=XY(n),i=n.enter("emphasis"),l=n.createTracker(r),c=l.move(o);let d=l.move(n.containerPhrasing(e,{after:o,before:c,...l.current()}));const f=d.charCodeAt(0),m=zd(r.before.charCodeAt(r.before.length-1),f,o);m.inside&&(d=Qa(f)+d.slice(1));const p=d.charCodeAt(d.length-1),g=zd(r.after.charCodeAt(0),p,o);g.inside&&(d=d.slice(0,-1)+Qa(p));const x=l.move(o);return i(),n.attentionEncodeSurroundingInfo={after:g.outside,before:m.outside},c+d+x}function qY(e,t,n){return n.options.emphasis||"*"}function GY(e,t){let n=!1;return Jx(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,bg}),!!((!e.depth||e.depth<3)&&Wx(e)&&(t.options.setext||n))}function KY(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(GY(e,n)){const m=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return p(),m(),g+`
`+(o===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const l="#".repeat(o),c=n.enter("headingAtx"),d=n.enter("phrasing");i.move(l+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(f)&&(f=Qa(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),d(),c(),f}Z_.peek=QY;function Z_(e){return e.value||""}function QY(){return"<"}e2.peek=JY;function e2(e,t,n,r){const o=ey(n),i=o==='"'?"Quote":"Apostrophe",l=n.enter("image");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("![");return f+=d.move(n.safe(e.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":")",...d.current()}))),c(),e.title&&(c=n.enter(`title${i}`),f+=d.move(" "+o),f+=d.move(n.safe(e.title,{before:f,after:o,...d.current()})),f+=d.move(o),c()),f+=d.move(")"),l(),f}function JY(){return"!"}t2.peek=ZY;function t2(e,t,n,r){const o=e.referenceType,i=n.enter("imageReference");let l=n.enter("label");const c=n.createTracker(r);let d=c.move("![");const f=n.safe(e.alt,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),l();const m=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return l(),n.stack=m,i(),o==="full"||!f||f!==p?d+=c.move(p+"]"):o==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function ZY(){return"!"}n2.peek=eX;function n2(e,t,n){let r=e.value||"",o="`",i=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const l=n.unsafe[i],c=n.compilePattern(l);let d;if(l.atBreak)for(;d=c.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return o+r+o}function eX(){return"`"}function r2(e,t){const n=Wx(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}o2.peek=tX;function o2(e,t,n,r){const o=ey(n),i=o==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let c,d;if(r2(e,n)){const m=n.stack;n.stack=[],c=n.enter("autolink");let p=l.move("<");return p+=l.move(n.containerPhrasing(e,{before:p,after:">",...l.current()})),p+=l.move(">"),c(),n.stack=m,p}c=n.enter("link"),d=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(e,{before:f,after:"](",...l.current()})),f+=l.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(e.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(d=n.enter("destinationRaw"),f+=l.move(n.safe(e.url,{before:f,after:e.title?" ":")",...l.current()}))),d(),e.title&&(d=n.enter(`title${i}`),f+=l.move(" "+o),f+=l.move(n.safe(e.title,{before:f,after:o,...l.current()})),f+=l.move(o),d()),f+=l.move(")"),c(),f}function tX(e,t,n){return r2(e,n)?"<":"["}i2.peek=nX;function i2(e,t,n,r){const o=e.referenceType,i=n.enter("linkReference");let l=n.enter("label");const c=n.createTracker(r);let d=c.move("[");const f=n.containerPhrasing(e,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),l();const m=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return l(),n.stack=m,i(),o==="full"||!f||f!==p?d+=c.move(p+"]"):o==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function nX(){return"["}function ty(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function rX(e){const t=ty(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function oX(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function s2(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function iX(e,t,n,r){const o=n.enter("list"),i=n.bulletCurrent;let l=e.ordered?oX(n):ty(n);const c=e.ordered?l==="."?")":".":rX(n);let d=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const m=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),s2(n)===l&&m){let p=-1;for(;++p<e.children.length;){const g=e.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=c),n.bulletCurrent=l;const f=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=i,o(),f}function sX(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function lX(e,t,n,r){const o=sX(n);let i=n.bulletCurrent||ty(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let l=i.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const c=n.createTracker(r);c.move(i+" ".repeat(l-i.length)),c.shift(l);const d=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,c.current()),m);return d(),f;function m(p,g,x){return g?(x?"":" ".repeat(l))+p:(x?i:i+" ".repeat(l-i.length))+p}}function aX(e,t,n,r){const o=n.enter("paragraph"),i=n.enter("phrasing"),l=n.containerPhrasing(e,r);return i(),o(),l}const cX=Of(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function uX(e,t,n,r){return(e.children.some(function(l){return cX(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function dX(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}l2.peek=fX;function l2(e,t,n,r){const o=dX(n),i=n.enter("strong"),l=n.createTracker(r),c=l.move(o+o);let d=l.move(n.containerPhrasing(e,{after:o,before:c,...l.current()}));const f=d.charCodeAt(0),m=zd(r.before.charCodeAt(r.before.length-1),f,o);m.inside&&(d=Qa(f)+d.slice(1));const p=d.charCodeAt(d.length-1),g=zd(r.after.charCodeAt(0),p,o);g.inside&&(d=d.slice(0,-1)+Qa(p));const x=l.move(o+o);return i(),n.attentionEncodeSurroundingInfo={after:g.outside,before:m.outside},c+d+x}function fX(e,t,n){return n.options.strong||"*"}function pX(e,t,n,r){return n.safe(e.value,r)}function hX(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function mX(e,t,n){const r=(s2(n)+(n.options.ruleSpaces?" ":"")).repeat(hX(n));return n.options.ruleSpaces?r.slice(0,-1):r}const a2={blockquote:zY,break:U1,code:UY,definition:YY,emphasis:J_,hardBreak:U1,heading:KY,html:Z_,image:e2,imageReference:t2,inlineCode:n2,link:o2,linkReference:i2,list:iX,listItem:lX,paragraph:aX,root:uX,strong:l2,text:pX,thematicBreak:mX};function gX(){return{enter:{table:xX,tableData:W1,tableHeader:W1,tableRow:vX},exit:{codeText:wX,table:yX,tableData:Am,tableHeader:Am,tableRow:Am}}}function xX(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function yX(e){this.exit(e),this.data.inTable=void 0}function vX(e){this.enter({type:"tableRow",children:[]},e)}function Am(e){this.exit(e)}function W1(e){this.enter({type:"tableCell",children:[]},e)}function wX(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,bX));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function bX(e,t){return t==="|"?t:e}function SX(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:l,tableCell:d,tableRow:c}};function l(x,b,v,S){return f(m(x,v,S),x.align)}function c(x,b,v,S){const k=p(x,v,S),E=f([k]);return E.slice(0,E.indexOf(`
`))}function d(x,b,v,S){const k=v.enter("tableCell"),E=v.enter("phrasing"),N=v.containerPhrasing(x,{...S,before:i,after:i});return E(),k(),N}function f(x,b){return OY(x,{align:b,alignDelimiters:r,padding:n,stringLength:o})}function m(x,b,v){const S=x.children;let k=-1;const E=[],N=b.enter("table");for(;++k<S.length;)E[k]=p(S[k],b,v);return N(),E}function p(x,b,v){const S=x.children;let k=-1;const E=[],N=b.enter("tableRow");for(;++k<S.length;)E[k]=d(S[k],x,b,v);return N(),E}function g(x,b,v){let S=a2.inlineCode(x,b,v);return v.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}function kX(){return{exit:{taskListCheckValueChecked:Y1,taskListCheckValueUnchecked:Y1,paragraph:NX}}}function CX(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:EX}}}function Y1(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function NX(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const o=t.children;let i=-1,l;for(;++i<o.length;){const c=o[i];if(c.type==="paragraph"){l=c;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function EX(e,t,n,r){const o=e.children[0],i=typeof e.checked=="boolean"&&o&&o.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",c=n.createTracker(r);i&&c.move(l);let d=a2.listItem(e,t,n,{...r,...c.current()});return i&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),d;function f(m){return m+l}}function jX(){return[iY(),EY(),AY(),gX(),kX()]}function _X(e){return{extensions:[sY(),jY(e),IY(),SX(e),CX()]}}const PX={tokenize:DX,partial:!0},c2={tokenize:OX,partial:!0},u2={tokenize:LX,partial:!0},d2={tokenize:zX,partial:!0},AX={tokenize:$X,partial:!0},f2={name:"wwwAutolink",tokenize:RX,previous:h2},p2={name:"protocolAutolink",tokenize:MX,previous:m2},yo={name:"emailAutolink",tokenize:TX,previous:g2},Zr={};function IX(){return{text:Zr}}let Ci=48;for(;Ci<123;)Zr[Ci]=yo,Ci++,Ci===58?Ci=65:Ci===91&&(Ci=97);Zr[43]=yo;Zr[45]=yo;Zr[46]=yo;Zr[95]=yo;Zr[72]=[yo,p2];Zr[104]=[yo,p2];Zr[87]=[yo,f2];Zr[119]=[yo,f2];function TX(e,t,n){const r=this;let o,i;return l;function l(p){return!Ng(p)||!g2.call(r,r.previous)||ny(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),c(p))}function c(p){return Ng(p)?(e.consume(p),c):p===64?(e.consume(p),d):n(p)}function d(p){return p===46?e.check(AX,m,f)(p):p===45||p===95||Cn(p)?(i=!0,e.consume(p),d):m(p)}function f(p){return e.consume(p),o=!0,d}function m(p){return i&&o&&Tn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function RX(e,t,n){const r=this;return o;function o(l){return l!==87&&l!==119||!h2.call(r,r.previous)||ny(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(PX,e.attempt(c2,e.attempt(u2,i),n),n)(l))}function i(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function MX(e,t,n){const r=this;let o="",i=!1;return l;function l(p){return(p===72||p===104)&&m2.call(r,r.previous)&&!ny(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(p),e.consume(p),c):n(p)}function c(p){if(Tn(p)&&o.length<5)return o+=String.fromCodePoint(p),e.consume(p),c;if(p===58){const g=o.toLowerCase();if(g==="http"||g==="https")return e.consume(p),d}return n(p)}function d(p){return p===47?(e.consume(p),i?f:(i=!0,d)):n(p)}function f(p){return p===null||Dd(p)||It(p)||Ui(p)||Rf(p)?n(p):e.attempt(c2,e.attempt(u2,m),n)(p)}function m(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function DX(e,t,n){let r=0;return o;function o(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),o):l===46&&r===3?(e.consume(l),i):n(l)}function i(l){return l===null?n(l):t(l)}}function OX(e,t,n){let r,o,i;return l;function l(f){return f===46||f===95?e.check(d2,d,c)(f):f===null||It(f)||Ui(f)||f!==45&&Rf(f)?d(f):(i=!0,e.consume(f),l)}function c(f){return f===95?r=!0:(o=r,r=void 0),e.consume(f),l}function d(f){return o||r||!i?n(f):t(f)}}function LX(e,t){let n=0,r=0;return o;function o(l){return l===40?(n++,e.consume(l),o):l===41&&r<n?i(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(d2,t,i)(l):l===null||It(l)||Ui(l)?t(l):(e.consume(l),o)}function i(l){return l===41&&r++,e.consume(l),o}}function zX(e,t,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(e.consume(c),r):c===38?(e.consume(c),i):c===93?(e.consume(c),o):c===60||c===null||It(c)||Ui(c)?t(c):n(c)}function o(c){return c===null||c===40||c===91||It(c)||Ui(c)?t(c):r(c)}function i(c){return Tn(c)?l(c):n(c)}function l(c){return c===59?(e.consume(c),r):Tn(c)?(e.consume(c),l):n(c)}}function $X(e,t,n){return r;function r(i){return e.consume(i),o}function o(i){return Cn(i)?n(i):t(i)}}function h2(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||It(e)}function m2(e){return!Tn(e)}function g2(e){return!(e===47||Ng(e))}function Ng(e){return e===43||e===45||e===46||e===95||Cn(e)}function ny(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const FX={tokenize:qX,partial:!0};function BX(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:WX,continuation:{tokenize:YX},exit:XX}},text:{91:{name:"gfmFootnoteCall",tokenize:UX},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:VX,resolveTo:HX}}}}function VX(e,t,n){const r=this;let o=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;o--;){const d=r.events[o][1];if(d.type==="labelImage"){l=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return c;function c(d){if(!l||!l._balanced)return n(d);const f=Pr(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!i.includes(f.slice(1))?n(d):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),t(d))}}function HX(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},c=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",i,t],["enter",l,t],["exit",l,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...c),e}function UX(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,l;return c;function c(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),d}function d(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(p){if(i>999||p===93&&!l||p===null||p===91||It(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return o.includes(Pr(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return It(p)||(l=!0),i++,e.consume(p),p===92?m:f}function m(p){return p===91||p===92||p===93?(e.consume(p),i++,f):f(p)}}function WX(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,l=0,c;return d;function d(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",m):n(b)}function m(b){if(l>999||b===93&&!c||b===null||b===91||It(b))return n(b);if(b===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return i=Pr(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return It(b)||(c=!0),l++,e.consume(b),b===92?p:m}function p(b){return b===91||b===92||b===93?(e.consume(b),l++,m):m(b)}function g(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),o.includes(i)||o.push(i),Ct(e,x,"gfmFootnoteDefinitionWhitespace")):n(b)}function x(b){return t(b)}}function YX(e,t,n){return e.check(mc,t,e.attempt(FX,t,n))}function XX(e){e.exit("gfmFootnoteDefinition")}function qX(e,t,n){const r=this;return Ct(e,o,"gfmFootnoteDefinitionIndent",5);function o(i){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(i):n(i)}}function GX(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:o};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(l,c){let d=-1;for(;++d<l.length;)if(l[d][0]==="enter"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._close){let f=d;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[d][1].end.offset-l[d][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[d][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[d][1].end)},p={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[d][1].start)},g=[["enter",m,c],["enter",l[f][1],c],["exit",l[f][1],c],["enter",p,c]],x=c.parser.constructs.insideSpan.null;x&&nr(g,g.length,0,Mf(x,l.slice(f+1,d),c)),nr(g,g.length,0,[["exit",p,c],["enter",l[d][1],c],["exit",l[d][1],c],["exit",m,c]]),nr(l,f-1,d-f+3,g),d=f+g.length-2;break}}for(d=-1;++d<l.length;)l[d][1].type==="strikethroughSequenceTemporary"&&(l[d][1].type="data");return l}function i(l,c,d){const f=this.previous,m=this.events;let p=0;return g;function g(b){return f===126&&m[m.length-1][1].type!=="characterEscape"?d(b):(l.enter("strikethroughSequenceTemporary"),x(b))}function x(b){const v=nl(f);if(b===126)return p>1?d(b):(l.consume(b),p++,x);if(p<2&&!n)return d(b);const S=l.exit("strikethroughSequenceTemporary"),k=nl(b);return S._open=!k||k===2&&!!v,S._close=!v||v===2&&!!k,c(b)}}}class KX{constructor(){this.map=[]}add(t,n,r){QX(this,t,n,r)}consume(t){if(this.map.sort(function(i,l){return i[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let o=r.pop();for(;o;){for(const i of o)t.push(i);o=r.pop()}this.map.length=0}}function QX(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function JX(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function ZX(){return{flow:{null:{name:"table",tokenize:eq,resolveAll:tq}}}}function eq(e,t,n){const r=this;let o=0,i=0,l;return c;function c(L){let B=r.events.length-1;for(;B>-1;){const A=r.events[B][1].type;if(A==="lineEnding"||A==="linePrefix")B--;else break}const q=B>-1?r.events[B][1].type:null,U=q==="tableHead"||q==="tableRow"?P:d;return U===P&&r.parser.lazy[r.now().line]?n(L):U(L)}function d(L){return e.enter("tableHead"),e.enter("tableRow"),f(L)}function f(L){return L===124||(l=!0,i+=1),m(L)}function m(L){return L===null?n(L):Ke(L)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),x):n(L):vt(L)?Ct(e,m,"whitespace")(L):(i+=1,l&&(l=!1,o+=1),L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),l=!0,m):(e.enter("data"),p(L)))}function p(L){return L===null||L===124||It(L)?(e.exit("data"),m(L)):(e.consume(L),L===92?g:p)}function g(L){return L===92||L===124?(e.consume(L),p):p(L)}function x(L){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(L):(e.enter("tableDelimiterRow"),l=!1,vt(L)?Ct(e,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):b(L))}function b(L){return L===45||L===58?S(L):L===124?(l=!0,e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),v):T(L)}function v(L){return vt(L)?Ct(e,S,"whitespace")(L):S(L)}function S(L){return L===58?(i+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),k):L===45?(i+=1,k(L)):L===null||Ke(L)?_(L):T(L)}function k(L){return L===45?(e.enter("tableDelimiterFiller"),E(L)):T(L)}function E(L){return L===45?(e.consume(L),E):L===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),N):(e.exit("tableDelimiterFiller"),N(L))}function N(L){return vt(L)?Ct(e,_,"whitespace")(L):_(L)}function _(L){return L===124?b(L):L===null||Ke(L)?!l||o!==i?T(L):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(L)):T(L)}function T(L){return n(L)}function P(L){return e.enter("tableRow"),M(L)}function M(L){return L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),M):L===null||Ke(L)?(e.exit("tableRow"),t(L)):vt(L)?Ct(e,M,"whitespace")(L):(e.enter("data"),z(L))}function z(L){return L===null||L===124||It(L)?(e.exit("data"),M(L)):(e.consume(L),L===92?Y:z)}function Y(L){return L===92||L===124?(e.consume(L),z):z(L)}}function tq(e,t){let n=-1,r=!0,o=0,i=[0,0,0,0],l=[0,0,0,0],c=!1,d=0,f,m,p;const g=new KX;for(;++n<e.length;){const x=e[n],b=x[1];x[0]==="enter"?b.type==="tableHead"?(c=!1,d!==0&&(X1(g,t,d,f,m),m=void 0,d=0),f={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",f,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(r=!0,p=void 0,i=[0,0,0,0],l=[0,n+1,0,0],c&&(c=!1,m={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",m,t]])),o=b.type==="tableDelimiterRow"?2:m?3:1):o&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(i[1]!==0&&(l[0]=l[1],p=Ku(g,t,i,o,void 0,p),i=[0,0,0,0]),l[2]=n)):b.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(l[0]=l[1],p=Ku(g,t,i,o,void 0,p)),i=l,l=[i[1],n,0,0])):b.type==="tableHead"?(c=!0,d=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(d=n,i[1]!==0?(l[0]=l[1],p=Ku(g,t,i,o,n,p)):l[1]!==0&&(p=Ku(g,t,l,o,n,p)),o=0):o&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(l[3]=n)}for(d!==0&&X1(g,t,d,f,m),g.consume(t.events),n=-1;++n<t.events.length;){const x=t.events[n];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=JX(t.events,n))}return e}function Ku(e,t,n,r,o,i){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(i.end=Object.assign({},Is(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const d=Is(t.events,n[1]);if(i={type:l,start:Object.assign({},d),end:Object.assign({},d)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const f=Is(t.events,n[2]),m=Is(t.events,n[3]),p={type:c,start:Object.assign({},f),end:Object.assign({},m)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const g=t.events[n[2]],x=t.events[n[3]];if(g[1].end=Object.assign({},x[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,v=n[3]-n[2]-1;e.add(b,v,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return o!==void 0&&(i.end=Object.assign({},Is(t.events,o)),e.add(o,0,[["exit",i,t]]),i=void 0),i}function X1(e,t,n,r,o){const i=[],l=Is(t.events,n);o&&(o.end=Object.assign({},l),i.push(["exit",o,t])),r.end=Object.assign({},l),i.push(["exit",r,t]),e.add(n+1,0,i)}function Is(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const nq={name:"tasklistCheck",tokenize:oq};function rq(){return{text:{91:nq}}}function oq(e,t,n){const r=this;return o;function o(d){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(d):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),i)}function i(d){return It(d)?(e.enter("taskListCheckValueUnchecked"),e.consume(d),e.exit("taskListCheckValueUnchecked"),l):d===88||d===120?(e.enter("taskListCheckValueChecked"),e.consume(d),e.exit("taskListCheckValueChecked"),l):n(d)}function l(d){return d===93?(e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),c):n(d)}function c(d){return Ke(d)?t(d):vt(d)?e.check({tokenize:iq},t,n)(d):n(d)}}function iq(e,t,n){return Ct(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function sq(e){return j_([IX(),BX(),GX(e),ZX(),rq()])}const lq={};function aq(e){const t=this,n=e||lq,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(sq(n)),i.push(jX()),l.push(_X(n))}function cq({open:e,onOpenChange:t}){const[n,r]=w.useState("");return w.useEffect(()=>{e&&fetch("usage-guide.md").then(o=>o.text()).then(o=>r(o)).catch(o=>{console.error("Error loading help content:",o),r(`# Error
Failed to load help content. Please try again later.`)})},[e]),u.jsx(fn,{open:e,onOpenChange:t,modal:!0,children:u.jsxs(pn,{className:"sm:max-w-[800px] max-h-[80vh]",children:[u.jsxs(hn,{children:[u.jsx(mn,{children:"Help & Documentation"}),u.jsx(ri,{children:"Learn how to use OCPN Tools with this guide."})]}),u.jsx(kf,{className:"flex-1 pr-4 h-[60vh]",children:u.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none [&_table]:border-collapse [&_table]:w-full [&_th]:border [&_th]:border-gray-300 [&_th]:bg-gray-100 [&_th]:p-2 [&_th]:text-left [&_td]:border [&_td]:border-gray-300 [&_td]:p-2 dark:[&_th]:border-gray-600 dark:[&_th]:bg-gray-800 dark:[&_td]:border-gray-600",children:u.jsx(GW,{remarkPlugins:[aq],children:n})})}),u.jsx(Mr,{className:"mt-4",children:u.jsx(ye,{onClick:()=>t(!1),children:"Close"})})]})})}function uq({onToggleAIAssistant:e}){const[t,n]=w.useState(!1);return u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(er,{children:u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",onClick:()=>n(!0),children:[u.jsx(RA,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Help & Documentation"})]})})}),u.jsx(kn,{children:u.jsx("p",{children:"Help & Documentation"})})]})}),u.jsx(er,{children:u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",onClick:e,children:[u.jsx(SI,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Toggle AI Assistant"})]})})}),u.jsx(kn,{children:u.jsx("p",{children:"Toggle AI Assistant"})})]})}),u.jsx(cq,{open:t,onOpenChange:n})]})}function dq(e){const t=Object.values(e.petriNetsById).map(i=>{const l=i.nodes.filter(f=>f.type==="place").map(f=>`<place id="${f.id}">
            <posattr x="${f.position.x}" y="${f.position.y}"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="Solid"/>
            <textattr colour="Black" bold="false"/>
            <text>${f.data.label}</text>
            <ellipse w="60.000000" h="40.000000"/>
            <type id="${f.data.colorSet}">
              <text>${f.data.colorSet}</text>
            </type>
            <initmark id="${f.id}_initmark">
              <text>${f.data.initialMarking||""}</text>
            </initmark>
          </place>`).join(`
`),c=i.nodes.filter(f=>f.type==="transition").map(f=>`<trans id="${f.id}">
            <posattr x="${f.position.x}" y="${f.position.y}"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="solid"/>
            <textattr colour="Black" bold="false"/>
            <text>${f.data.label}</text>
            <box w="60.000000" h="40.000000"/>
            ${f.data.guard?`<cond id="${f.id}_guard">
                  <text>${f.data.guard}</text>
                </cond>`:""}
            ${f.data.time?`<time id="${f.id}_time">
                  <text>${f.data.time}</text>
                </time>`:""}
            ${f.data.priority?`<priority id="${f.id}_priority">
                  <text>${f.data.priority}</text>
                </priority>`:""}
          </trans>`).join(`
`),d=i.edges.map(f=>`<arc id="${f.id}" orientation="PtoT">
            <posattr x="0.000000" y="0.000000"/>
            <fillattr colour="White" pattern="" filled="false"/>
            <lineattr colour="Black" thick="1" type="Solid"/>
            <textattr colour="Black" bold="false"/>
            <arrowattr headsize="1.200000" currentcyckle="2"/>
            <transend idref="${f.target}"/>
            <placeend idref="${f.source}"/>
            <annot id="${f.id}_inscription">
              <text>${f.label||""}</text>
            </annot>
          </arc>`).join(`
`);return`<page id="${i.id}">
        <pageattr name="${i.name}"/>
        ${l}
        ${c}
        ${d}
        <constraints/>
      </page>`}).join(`
`),n=e.uses.map(i=>`<use file="${i.name}"/>`).join(`
`),r=e.functions.map(i=>`<ml id="${i.id}">
        ${i.code}
        <layout>${i.code}</layout>
      </ml>`).join(`
        `);return`<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE workspaceElements PUBLIC "-//CPN//DTD CPNXML 1.0//EN" "http://cpntools.org/DTD/6/cpn.dtd">
<workspaceElements>
  <generator tool="CPN Tools" version="4.0.1" format="6"/>
  <cpnet>
    <globbox>
      ${n}
      <block id="ID2">
        <id>Standard priorities</id>
        ${e.priorities.map(i=>`<ml id="${i.id}">
          val ${i.name} = ${i.level};
          <layout>val ${i.name} = ${i.level};</layout>
        </ml>`).join(`
        `)}
      </block>
      <block id="ID1">
        <id>Standard declarations</id>
        ${e.colorSets.map(i=>{const l=["int","unit","bool","intinf","time","real","string"],c=i.definition.match(/colset\s+\w+\s*=\s*(\w+);$/),d=c?c[1].toLowerCase():null;return`<color id="${i.id}">
              <id>${i.name}</id>
              ${d&&l.includes(d)?`<${d}/>`:""}
              <layout>${i.definition}</layout>
            </color>`}).join(`
        `)}
        ${e.variables.map(i=>`<var id="${i.id}">
          <type>
            <id>${i.colorSet}</id>
          </type>
          <id>${i.name}</id>
          <layout>var ${i.name}:${i.colorSet};</layout>
        </var>`).join(`
        `)}
        ${r}
      </block>
    </globbox>
    ${t}
    <monitorblock name="Monitors"/>
  </cpnet>
</workspaceElements>`}function fq(e){const t=Object.values(e.petriNetsById).flatMap(o=>o.nodes),n=Object.values(e.petriNetsById).flatMap(o=>o.edges),r={$schema:"http://json-schema.org/draft-07/schema#",colorSets:e.colorSets.map(o=>o.definition),places:t.filter(o=>o.type==="place").map(o=>({name:o.data.label,colorSet:o.data.colorSet})),transitions:t.filter(o=>o.type==="transition").map(o=>({name:o.data.label,variables:o.data.variables||[],guard:o.data.guard||"True",inArcs:n.filter(i=>i.target===o.id).map(i=>{var l;return{place:((l=t.find(c=>c.id===i.source))==null?void 0:l.data.label)||"",expression:i.label||""}}),outArcs:n.filter(i=>i.source===o.id).map(i=>{var l;return{place:((l=t.find(c=>c.id===i.target))==null?void 0:l.data.label)||"",expression:i.label||""}})})),initialMarking:t.filter(o=>o.type==="place").reduce((o,i)=>{const l=i.data.initialMarking||[];return o[String(i.data.label)]=l&&Array.isArray(l)?{tokens:l.map(c=>Array.isArray(c)?c.map(d=>typeof d=="string"?d:Number(d)):[typeof c=="string"?c:Number(c)])}:{tokens:[]},o},{}),evaluationContext:null};return JSON.stringify(r,null,2)}function ry(e){var n;const t={petriNets:e.petriNetOrder.map(r=>{const o=e.petriNetsById[r];return{id:o.id,name:o.name,places:o.nodes.filter(i=>i.type==="place").map(i=>({id:i.id,name:i.data.label,colorSet:i.data.colorSet,initialMarking:i.data.initialMarking||"",marking:i.data.marking||"",position:i.position,size:i.measured||{width:50,height:30},colorSetOffset:i.data.colorSetOffset||void 0,tokenCountOffset:i.data.tokenCountOffset||void 0,markingOffset:i.data.markingOffset||void 0})),transitions:o.nodes.filter(i=>i.type==="transition").map(i=>({id:i.id,name:i.data.label,guard:i.data.guard||"",time:i.data.time||"",priority:i.data.priority||"",position:i.position,size:i.measured||{width:50,height:30}})),arcs:o.edges.map(i=>{var l,c,d;return{id:i.id,source:i.source,target:i.target,inscription:i.label||"",isBidirectional:((l=i.data)==null?void 0:l.isBidirectional)||!1,labelOffset:((c=i.data)==null?void 0:c.labelOffset)||void 0,bendpoints:((d=i.data)==null?void 0:d.bendpoints)||void 0}})}}),colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses,simulationSettings:e.simulationSettings||void 0,simulationEpoch:((n=e.simulationSettings)==null?void 0:n.simulationEpoch)||void 0};return JSON.stringify(t,null,2)}function pq(e){const t=JSON.parse(e);if(!t||!Array.isArray(t.petriNets))throw new Error("Invalid JSON format: Missing 'petriNets' array.");const n={},r=[];t.petriNets.forEach(m=>{const p=m.places.map(v=>{var S,k;return{id:v.id,type:"place",position:v.position||{x:0,y:0},data:{label:v.name,colorSet:v.colorSet,initialMarking:v.initialMarking||"",marking:v.marking||"",colorSetOffset:v.colorSetOffset||void 0,tokenCountOffset:v.tokenCountOffset||void 0,markingOffset:v.markingOffset||void 0},width:((S=v.size)==null?void 0:S.width)||50,height:((k=v.size)==null?void 0:k.height)||30}}),g=m.transitions.map(v=>{var S,k;return{id:v.id,type:"transition",position:v.position||{x:0,y:0},data:{label:v.name,guard:v.guard||"",time:v.time||"",priority:v.priority||""},width:((S=v.size)==null?void 0:S.width)||50,height:((k=v.size)==null?void 0:k.height)||30}}),x=m.arcs.map(v=>({id:v.id,source:v.source,target:v.target,label:v.inscription||"",data:{isBidirectional:v.isBidirectional||!1,labelOffset:v.labelOffset||void 0,bendpoints:v.bendpoints||void 0}})),b={id:m.id,name:m.name,nodes:[...p,...g],edges:x,selectedElement:null};n[m.id]=b,r.push(m.id)});const o=t.colorSets||[],i=t.variables||[],l=t.priorities||[],c=t.functions||[],d=t.uses||[],f=t.simulationSettings?{stepsPerRun:t.simulationSettings.stepsPerRun,animationDelayMs:t.simulationSettings.animationDelayMs,simulationEpoch:t.simulationSettings.simulationEpoch}:void 0;return{petriNetsById:n,petriNetOrder:r,colorSets:o,variables:i,priorities:l,functions:c,uses:d,simulationSettings:f}}function hq(e,t){const n=new Blob([e],{type:"text/plain;charset=utf-8"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}function mq(e,t){var n;try{const r=(n=t.split(".").pop())==null?void 0:n.toLowerCase();if(r==="ocpn")return pq(e);if(r==="json")return xq(e);if((r==="xml"||r==="cpn")&&(e.includes("<workspaceElements>")||e.includes("<cpnet>")))return gq(e);throw new Error("Unsupported file format")}catch(r){return console.error("Error parsing file:",r),null}}function va(){const e="0123456789ABCDEF";let t="#";for(let n=0;n<6;n++)t+=e[Math.floor(Math.random()*16)];return t}function gq(e){const n=new DOMParser().parseFromString(e,"text/xml"),r={},o=[],i=Array.from(n.querySelectorAll("globbox color")).map(p=>{var N,_;const g=((N=p.querySelector("id"))==null?void 0:N.textContent)||"",x=p.querySelector("product");if(x){const T=Array.from(x.querySelectorAll(":scope > id")).map(M=>M.textContent||""),P=`colset ${g} = product ${T.join(" * ")};`;return{id:g,name:g,type:"product",definition:P,color:va()}}const b=p.querySelector("int");if(b){const T=b.querySelector("with");if(T){const P=T.querySelectorAll("ml");if(P.length>=2){const M=P[0].textContent||"0",z=P[1].textContent||"0",Y=`colset ${g} = int with ${M}..${z};`;return{id:g,name:g,type:"basic",definition:Y,color:va()}}}return{id:g,name:g,type:"basic",definition:`colset ${g} = int;`,color:va()}}const v=Array.from(p.children).find(T=>{const P=T.tagName.toLowerCase();return["bool","string","real","unit","time","intinf"].includes(P)}),S=v?v.tagName.toLowerCase():null,k=((_=p.querySelector("layout"))==null?void 0:_.textContent)||"",E=S?`colset ${g} = ${S};`:k||`colset ${g} = complex;`;return{id:g,name:g,type:S?"basic":"complex",definition:E,color:va()}}),l=Array.from(n.querySelectorAll("globbox var")).flatMap(p=>{var E,N;const g=p.getAttribute("id")||ot(),x=((E=p.querySelector("type > id"))==null?void 0:E.textContent)||"",b=((N=p.querySelector("layout"))==null?void 0:N.textContent)||"",v=Array.from(p.querySelectorAll(":scope > id"));if(v.length>0)return v.map((_,T)=>({id:`${g}_${T}`,name:_.textContent||"",colorSet:x}));const S=b.match(/var\s+([^:]+):/);return!S||!S[1]?(console.warn(`Could not parse variable names from layout: ${b}`),[]):S[1].split(",").map(_=>_.trim()).filter(_=>_).map((_,T)=>({id:`${g}_${T}`,name:_,colorSet:x}))}),c=Array.from(n.querySelectorAll("globbox ml")).reduce((p,g)=>{var v;const b=(((v=g.querySelector("layout"))==null?void 0:v.textContent)||"").match(/val\s+(\w+)\s*=\s*(\d+);/);return b&&p.push({id:ot(),name:b[1],level:parseInt(b[2],10)}),p},[]),d=[];Array.from(n.querySelectorAll("globbox block ml")).forEach(p=>{var b;const g=((b=p.querySelector("layout"))==null?void 0:b.textContent)||"",x=p.getAttribute("id")||ot();if(g.trim().startsWith("fun ")){const v=g.match(/^fun\s+([a-zA-Z0-9_]+)/),S=v?v[1]:`func_${x}`;d.push({id:x,name:S,code:g})}}),Array.from(n.querySelectorAll("globbox > ml")).forEach(p=>{var b;const g=((b=p.textContent)==null?void 0:b.trim())||"",x=p.getAttribute("id")||ot();if(g.startsWith("fun ")){const v=g.match(/^fun\s+([a-zA-Z0-9_]+)/),S=v?v[1]:`func_${x}`;d.push({id:x,name:S,code:g})}});const f=Array.from(n.querySelectorAll("globbox use")).map(p=>{var S,k;const g=((S=p.querySelector("ml"))==null?void 0:S.textContent)||"",x=((k=p.querySelector("layout"))==null?void 0:k.textContent)||"",b=g.match(/"([^"]+)"/)||x.match(/"([^"]+)"/),v=b?b[1]:"";return{id:ot(),name:v,content:""}});return Array.from(n.querySelectorAll("page")).forEach(p=>{var _;const g=p.getAttribute("id")||ot(),x=((_=p.querySelector("pageattr"))==null?void 0:_.getAttribute("name"))||`Page ${g}`,b=(T,P,M,z,Y,L,B,q="text")=>{var I;if(!L)return null;const U=((I=L.querySelector(q))==null?void 0:I.textContent)||"";if(!U.trim())return null;const A=L.querySelector("posattr");if(!A)return null;const F=parseFloat(A.getAttribute("x")||"0"),$=-parseFloat(A.getAttribute("y")||"0"),G=P-z/2,D=M-Y/2,W=F-G,R=$-D,H=L.querySelector("textattr"),X=(H==null?void 0:H.getAttribute("colour"))||void 0;return{id:L.getAttribute("id")||ot(),type:"inscription",position:{x:W,y:R},parentId:T,draggable:!0,data:{label:U,inscriptionType:B,color:X}}},v=Array.from(p.querySelectorAll("place")).flatMap(T=>{var D,W,R,H,X;const P=T.querySelector("ellipse"),M=P?parseFloat(P.getAttribute("w")||"60"):60,z=P?parseFloat(P.getAttribute("h")||"40"):40,Y=((D=T.querySelector("initmark text"))==null?void 0:D.textContent)||"",L=parseFloat(((W=T.querySelector("posattr"))==null?void 0:W.getAttribute("x"))||"0"),B=-parseFloat(((R=T.querySelector("posattr"))==null?void 0:R.getAttribute("y"))||"0"),q=T.getAttribute("id")||ot(),U=T.querySelector("type");let A;if(U){const I=U.querySelector("posattr");if(I){const V=parseFloat(I.getAttribute("x")||"0"),J=-parseFloat(I.getAttribute("y")||"0");A={x:V-L,y:J-B}}}const F=T.querySelector("initmark");let $;if(F){const I=F.querySelector("posattr");if(I){const V=parseFloat(I.getAttribute("x")||"0"),J=-parseFloat(I.getAttribute("y")||"0");$={x:V-L,y:J-B}}}return[{id:q,type:"place",position:{x:L-M/2,y:B-z/2},width:M,height:z,data:{label:((H=T.querySelector("text"))==null?void 0:H.textContent)||"",colorSet:((X=T.querySelector("type text"))==null?void 0:X.textContent)||"",initialMarking:Y,colorSetOffset:A,markingOffset:$}}]}),S=Array.from(p.querySelectorAll("trans")).flatMap(T=>{var A,F,$,G,D,W;const P=T.querySelector("box"),M=P?parseFloat(P.getAttribute("w")||"60"):60,z=P?parseFloat(P.getAttribute("h")||"40"):40,Y=parseFloat(((A=T.querySelector("posattr"))==null?void 0:A.getAttribute("x"))||"0"),L=-parseFloat(((F=T.querySelector("posattr"))==null?void 0:F.getAttribute("y"))||"0"),B=T.getAttribute("id")||ot(),q={id:B,type:"transition",position:{x:Y-M/2,y:L-z/2},width:M,height:z,data:{label:(($=T.querySelector("text"))==null?void 0:$.textContent)||"",guard:((G=T.querySelector("cond text"))==null?void 0:G.textContent)||"",time:((D=T.querySelector("time text"))==null?void 0:D.textContent)||"",priority:((W=T.querySelector("priority text"))==null?void 0:W.textContent)||""}},U=[b(B,Y,L,M,z,T.querySelector("cond"),"guard"),b(B,Y,L,M,z,T.querySelector("time"),"time"),b(B,Y,L,M,z,T.querySelector("priority"),"priority"),b(B,Y,L,M,z,T.querySelector("code"),"codeSegment")].filter(R=>R!==null);return[q,...U]}),k=Array.from(p.querySelectorAll("arc")).flatMap(T=>{var F,$,G;const P=T.getAttribute("id")||ot(),M=T.getAttribute("orientation"),z=parseInt(T.getAttribute("order")||"0",10),Y=((F=T.querySelector("placeend"))==null?void 0:F.getAttribute("idref"))||"",L=(($=T.querySelector("transend"))==null?void 0:$.getAttribute("idref"))||"",B=((G=T.querySelector("annot text"))==null?void 0:G.textContent)||"",q=Array.from(T.querySelectorAll("bendpoint")).map(D=>{var W,R;return{x:parseFloat(((W=D.querySelector("posattr"))==null?void 0:W.getAttribute("x"))||"0"),y:-parseFloat(((R=D.querySelector("posattr"))==null?void 0:R.getAttribute("y"))||"0")}});if(M==="BOTHDIR")return[{id:P,type:"floating",source:Y,target:L,label:B,data:{bendpoints:q,isBidirectional:!0,order:z}}];let U="",A="";return M==="PtoT"?(U=Y,A=L):M==="TtoP"?(U=L,A=Y):(U=Y,A=L,console.warn(`Unhandled arc orientation: ${M} for arc ${P}. Assuming PtoT.`)),[{id:P,type:"floating",source:U,target:A,label:B,data:{bendpoints:q,order:z}}]}),E=Array.from(p.querySelectorAll("Aux")).map(T=>{var U,A,F;const P=T.getAttribute("id")||ot(),M=((U=T.querySelector("text"))==null?void 0:U.textContent)||"",z=parseFloat(((A=T.querySelector("posattr"))==null?void 0:A.getAttribute("x"))||"0"),Y=-parseFloat(((F=T.querySelector("posattr"))==null?void 0:F.getAttribute("y"))||"0"),L=T.querySelector("textattr"),B=(L==null?void 0:L.getAttribute("colour"))||void 0,q=(L==null?void 0:L.getAttribute("bold"))==="true";return{id:P,type:"auxText",position:{x:z,y:Y},data:{label:M,color:B,bold:q}}}),N={id:g,name:x,nodes:[...v,...S,...E],edges:k,selectedElement:null};r[g]=N,o.push(g)}),{petriNetsById:r,petriNetOrder:o,colorSets:i,variables:l,priorities:c,functions:d,uses:f}}function xq(e){const t=JSON.parse(e),n=t.places.map(c=>{var d;return{id:ot(),type:"place",position:{x:0,y:0},data:{label:c.name,colorSet:c.colorSet,initialMarking:((d=t.initialMarking[c.name])==null?void 0:d.tokens.map(f=>Array.isArray(f)?f:[f]))||[]}}}),r=t.transitions.map(c=>({id:ot(),type:"transition",position:{x:0,y:0},data:{label:c.name,guard:c.guard,variables:c.variables}})),o=t.transitions.flatMap(c=>{const d=r.find(f=>f.data.label===c.name);return[...c.inArcs.map(f=>{var m;return{id:ot(),source:((m=n.find(p=>p.data.label===f.place))==null?void 0:m.id)||"",target:(d==null?void 0:d.id)||"",label:f.expression}}),...c.outArcs.map(f=>{var m;return{id:ot(),source:(d==null?void 0:d.id)||"",target:((m=n.find(p=>p.data.label===f.place))==null?void 0:m.id)||"",label:f.expression}})]}),i=ot(),l={id:i,name:"Default Petri Net",nodes:[...n,...r],edges:o,selectedElement:null};return{petriNetsById:{[i]:l},petriNetOrder:[i],colorSets:t.colorSets.map(c=>({id:ot(),name:c.split(" ")[1],type:"basic",definition:c,color:va()})),variables:[],priorities:[],functions:[],uses:[]}}const yq=e=>({petriNetOrder:e.petriNetOrder,petriNetsById:e.petriNetsById,activePetriNetId:e.activePetriNetId,colorSets:e.colorSets,variables:e.variables,priorities:e.priorities,functions:e.functions,uses:e.uses,simulationEpoch:e.simulationEpoch,setSimulationEpoch:e.setSimulationEpoch,createPetriNet:e.createPetriNet,setActivePetriNet:e.setActivePetriNet,setNodes:e.setNodes,setEdges:e.setEdges,setColorSets:e.setColorSets,setVariables:e.setVariables,setPriorities:e.setPriorities,setFunctions:e.setFunctions,setUses:e.setUses,toggleArcMode:e.toggleArcMode,reset:e.reset}),vq={type:"floating",markerEnd:{type:Ba.ArrowClosed,color:"#000",width:10,height:10}},wq=({onToggleAIAssistant:e})=>{const[t,n]=w.useState(!1),[r,o]=w.useState(!1),[i,l]=w.useState(!1),[c,d]=w.useState(""),[f,m]=w.useState(!1),[p,g]=w.useState({x:0,y:0}),x=w.useRef({snappedPositions:new Map,isDragging:!1,isSnapping:!1}),b=w.useContext(Nf),{petriNetOrder:v,petriNetsById:S,activePetriNetId:k,colorSets:E,variables:N,priorities:_,functions:T,uses:P,simulationEpoch:M,setSimulationEpoch:z,createPetriNet:Y,setActivePetriNet:L,setNodes:B,setEdges:q,setColorSets:U,setVariables:A,setPriorities:F,setFunctions:$,setUses:G,toggleArcMode:D,reset:W}=me(aH(yq)),R=me(ne=>k?ne.petriNetsById[k]:null),H=iH(k||""),{onNodesChange:X,onEdgesChange:I,onConnect:V}=k?H:{onNodesChange:()=>{},onEdgesChange:()=>{},onConnect:()=>{}},{fitView:J,screenToFlowPosition:Z}=Qo(),K=z3(),[te]=d_();w.useEffect(()=>{K&&J({padding:.35,maxZoom:4})},[K,J]),w.useEffect(()=>{const ne=le=>{const he=le.target;if(he.tagName==="INPUT"||he.tagName==="TEXTAREA"||he.isContentEditable||!b)return;const{isRunning:be,runStep:Ne,runMultipleStepsAnimated:Le,runMultipleStepsFast:tt,reset:We,stop:Xe,simulationConfig:et}=b,Ue=le.metaKey||le.ctrlKey;if(le.code==="Space"&&!le.shiftKey&&!Ue){le.preventDefault(),be?Xe():Le(et.stepsPerRun,et.animationDelayMs);return}if(le.code==="ArrowRight"&&Ue&&!le.shiftKey){le.preventDefault(),be||Ne();return}if(le.code==="ArrowRight"&&Ue&&le.shiftKey){le.preventDefault(),be||tt(et.stepsPerRun);return}if(le.code==="ArrowLeft"&&Ue&&!le.shiftKey){le.preventDefault(),be||We();return}if(le.code==="Escape"){be&&(le.preventDefault(),Xe());return}};return window.addEventListener("keydown",ne),()=>window.removeEventListener("keydown",ne)},[b]);const Q=[{key:"bottom",label:[""],angle:90},{key:"undo",label:["Undo"],angle:150,disabled:!0},{key:"redo",label:["Redo"],angle:30,disabled:!0},{key:"new-place",label:["New","Place"],angle:210},{key:"create-aux",label:["Create aux","text"],angle:270,disabled:!0},{key:"new-transition",label:["New","Transition"],angle:330}],ie=(ne,le)=>{if(ne){if(W(),Object.values(ne.petriNetsById).forEach(he=>{me.getState().addPetriNet(he)}),ne.petriNetOrder.length>0&&me.getState().setActivePetriNet(ne.petriNetOrder[0]),ne.colorSets&&U(ne.colorSets),ne.variables&&A(ne.variables),ne.priorities&&F(ne.priorities),ne.functions&&$(ne.functions),ne.uses&&G(ne.uses),ne.simulationSettings&&(ne.simulationSettings.simulationEpoch!==void 0&&z(ne.simulationSettings.simulationEpoch),b!=null&&b.setSimulationConfig)){const he=b.simulationConfig;b.setSimulationConfig({...he,stepsPerRun:ne.simulationSettings.stepsPerRun??he.stepsPerRun,animationDelayMs:ne.simulationSettings.animationDelayMs??he.animationDelayMs})}if(le.endsWith(".json")){const he={algorithm:"dagre",direction:"TB",nodeSeparation:150,rankSeparation:50};Object.values(ne.petriNetsById).forEach(be=>{_t(he,be.nodes,be.edges)})}else window.requestAnimationFrame(()=>{J({padding:.35,maxZoom:4})})}},ue=(ne,le)=>{b?b.reset():console.error("Simulation context not found, cannot reset simulation state.");const he=mq(ne,le);he?ie(he,le):alert("Failed to parse the file. Please check the file format.")},fe=ne=>{var Ne,Le;let le,he;const be={petriNetsById:S,petriNetOrder:v,colorSets:E,variables:N,priorities:_,functions:T,uses:P,simulationSettings:{stepsPerRun:(Ne=b==null?void 0:b.simulationConfig)==null?void 0:Ne.stepsPerRun,animationDelayMs:(Le=b==null?void 0:b.simulationConfig)==null?void 0:Le.animationDelayMs,simulationEpoch:M}};switch(ne){case"cpn-tools":le=dq({...be,petriNetsById:Object.fromEntries(Object.entries(be.petriNetsById).map(([tt,We])=>[tt,{...We,nodes:We.nodes.map(Xe=>({...Xe,position:{...Xe.position,y:-Xe.position.y}}))}]))}),he="PetriNet.cpn";break;case"cpn-py":le=fq(be),he="PetriNet.json";break;case"json":default:le=ry(be),he="PetriNet.ocpn";break}hq(le,he)},pe=w.useCallback(ne=>{ne.preventDefault(),ne.dataTransfer.dropEffect="move"},[]),we=w.useCallback(ne=>{if(ne.preventDefault(),!te||typeof te!="string")return;const le=Z({x:ne.clientX,y:ne.clientY}),he={id:`node_${Date.now()}`,type:te,position:le,width:te==="transition"?60:30,data:{label:te==="auxText"?"Annotation":`${te}`,...te==="place"?{colorSet:""}:te==="transition"?{guard:""}:{}}};k?me.getState().addNode(k,he):console.error("Cannot add node: activePetriNetId is null.")},[Z,te,k]),De=w.useCallback((ne,le)=>{m(!1),k?me.getState().setSelectedElement(k,{type:"node",element:le}):console.error("Cannot set selected element: activePetriNetId is null.")},[k]),Oe=w.useCallback((ne,le,he)=>{x.current.isDragging=!0,x.current.isSnapping=!1,x.current.snappedPositions.clear()},[]),it=w.useCallback((ne,le,he)=>{var Xe,et,Ue,St,gt;if(!k||he.length===0)return;const be=me.getState().petriNetsById[k];if(!be)return;if(!ne.shiftKey){x.current.isSnapping=!1,x.current.snappedPositions.clear();return}const Ne=20;let Le=null,tt=null;const We=new Set(he.map(Et=>Et.id));for(const Et of he){if(Le!==null&&tt!==null)break;const se={x:Et.position.x+(((Xe=Et.measured)==null?void 0:Xe.width)||50)/2,y:Et.position.y+(((et=Et.measured)==null?void 0:et.height)||30)/2},je=be.edges.filter(nt=>{if(!(nt.source===Et.id||nt.target===Et.id))return!1;const lt=nt.source===Et.id?nt.target:nt.source;return!We.has(lt)});for(const nt of je){if(Le!==null&&tt!==null)break;const ze=nt.source===Et.id?nt.target:nt.source,lt=be.nodes.find(Lt=>Lt.id===ze);if(!lt)continue;const ft={x:lt.position.x+(((Ue=lt.measured)==null?void 0:Ue.width)||50)/2,y:lt.position.y+(((St=lt.measured)==null?void 0:St.height)||30)/2},at=(gt=nt.data)==null?void 0:gt.bendpoints;let ht=ft;at&&at.length>0&&(nt.source===Et.id?ht=at[0]:ht=at[at.length-1]),tt===null&&Math.abs(se.y-ht.y)<Ne&&(tt=ht.y-se.y),Le===null&&Math.abs(se.x-ht.x)<Ne&&(Le=ht.x-se.x)}}if(Le!==null||tt!==null){x.current.isSnapping=!0,x.current.snappedPositions.clear(),he.forEach(se=>{const je={x:se.position.x+(Le??0),y:se.position.y+(tt??0)};x.current.snappedPositions.set(se.id,je)});const Et=be.nodes.map(se=>{const je=x.current.snappedPositions.get(se.id);return je?{...se,position:je}:se});B(k,Et)}else x.current.isSnapping=!1,x.current.snappedPositions.clear()},[k,B]),Ze=w.useCallback((ne,le,he)=>{setTimeout(()=>{x.current.isDragging=!1,x.current.isSnapping=!1,x.current.snappedPositions.clear()},50)},[]),Qe=w.useCallback(ne=>{if(k)if(x.current.isSnapping&&x.current.snappedPositions.size>0){const le=ne.map(he=>{if(he.type==="position"&&"id"in he&&he.position){const be=x.current.snappedPositions.get(he.id);if(be)return{...he,position:be}}return he});X(le)}else X(ne)},[k,X]),Ce=w.useCallback((ne,le)=>{m(!1),k?me.getState().setSelectedElement(k,{type:"edge",element:le}):console.error("Cannot set selected element: activePetriNetId is null.")},[k]),Ve=w.useCallback(()=>{k?me.getState().setSelectedElement(k,null):console.error("Cannot set selected element: activePetriNetId is null."),m(!1)},[k]),ut=w.useCallback(ne=>{ne.preventDefault();const le=ne,he={x:le.clientX,y:le.clientY};g(he),m(!0)},[]),bt=(ne,le)=>{const he=le.key==="new-place"?50:60,be=le.key==="new-place"?50:40,Ne={x:Z(p).x-he/2,y:Z(p).y-be/2};if(le.key==="new-place"){const Le={id:`node_${Date.now()}`,type:"place",position:Ne,data:{label:"place",isArcMode:!1,colorSet:""}};k&&me.getState().addNode(k,Le)}else if(le.key==="new-transition"){const Le={id:`node_${Date.now()}`,type:"transition",position:Ne,width:60,data:{label:"transition",isArcMode:!1,guard:""}};k&&me.getState().addNode(k,Le)}m(!1)},_t=w.useCallback(async(ne,le,he)=>{if(!le.length)return;const be=he.map(Ne=>({...Ne,data:Ne.data?{...Ne.data,bendpoints:void 0}:Ne.data}));k&&q(k,be);try{if(ne.algorithm==="dagre"){const Ne=await Jb(()=>import("./index-B2GK73OF.js").then(We=>We.i),[]),Le=new Ne.graphlib.Graph;Le.setGraph({rankdir:ne.direction,nodesep:ne.nodeSeparation,ranksep:ne.rankSeparation,ranker:"network-simplex"}),Le.setDefaultEdgeLabel(()=>({})),he.forEach(We=>Le.setEdge(We.source,We.target)),le.forEach(We=>{var Xe,et;return Le.setNode(We.id,{...We,width:((Xe=We.measured)==null?void 0:Xe.width)??0,height:((et=We.measured)==null?void 0:et.height)??0})}),Ne.layout(Le);const tt=le.map(We=>{var St,gt;const Xe=Le.node(We.id),et=Xe.x-(((St=We.measured)==null?void 0:St.width)??0)/2,Ue=Xe.y-(((gt=We.measured)==null?void 0:gt.height)??0)/2;return{...We,position:{x:et,y:Ue}}});k&&B(k,[...tt])}else if(ne.algorithm==="elk"){const{default:Ne}=await Jb(async()=>{const{default:Xe}=await import("./elk.bundled-Dr7j6z0k.js").then(et=>et.e);return{default:Xe}},[]),Le=new Ne,tt={id:"root",layoutOptions:{"elk.algorithm":"layered","elk.direction":ne.direction==="TB"?"DOWN":"RIGHT","elk.spacing.nodeNode":ne.nodeSeparation.toString(),"elk.layered.spacing.nodeNodeBetweenLayers":ne.rankSeparation.toString()},children:le.map(Xe=>{var et,Ue;return{id:Xe.id,width:Number(((et=Xe.style)==null?void 0:et.width)||80),height:Number(((Ue=Xe.style)==null?void 0:Ue.height)||80)}}),edges:he.map(Xe=>({id:Xe.id,sources:[Xe.source],targets:[Xe.target]}))},We=await Le.layout(tt);if(We.children){const Xe=le.map(et=>{var St;const Ue=(St=We.children)==null?void 0:St.find(gt=>gt.id===et.id);return Ue&&Ue.x!==void 0&&Ue.y!==void 0?{...et,position:{x:Ue.x,y:Ue.y}}:et});k&&B(k,[...Xe])}}window.requestAnimationFrame(()=>{J({padding:.35})})}catch(Ne){console.error("Error applying layout:",Ne)}},[B,q,J,k]),At=ne=>{ne.preventDefault(),Y(c),l(!1),d("")};return u.jsxs("div",{className:"dndflow flex flex-col grow",children:[" ",u.jsxs("div",{className:"flex flex-col grow",style:{height:100},children:[" ",u.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(er,{children:u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",title:"Open",onClick:()=>o(!0),children:[u.jsx(GA,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Open Petri Net"})]})})}),u.jsx(kn,{children:u.jsx("p",{children:"Open Petri Net"})})]})}),u.jsx(er,{children:u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("span",{children:u.jsxs(ye,{variant:"ghost",size:"icon",title:"Save",onClick:()=>n(!0),children:[u.jsx(pI,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Save Petri Net"})]})})}),u.jsx(kn,{children:u.jsx("p",{children:"Save Petri Net"})})]})})]}),u.jsx(z8,{}),u.jsx(uq,{onToggleAIAssistant:e})]}),u.jsx(O8,{open:r,onOpenChange:o,onFileLoaded:ue}),u.jsx(L8,{open:t,onOpenChange:n,onSave:fe,petriNetName:"Petri Net"}),u.jsx("div",{className:"flex flex-col w-full mx-auto bg-muted",children:u.jsx(Zo,{defaultValue:k||v[0],value:k??void 0,onValueChange:ne=>L(ne),className:"flex flex-col gap-2 items-start",children:u.jsxs(ei,{className:"flex gap-4 items-center",children:[v.map(ne=>u.jsx(Rn,{value:ne,children:S[ne].name},ne)),u.jsx(ye,{variant:"ghost",onClick:()=>l(!0),children:"New Subnet"}),u.jsx(fn,{open:i,onOpenChange:l,children:u.jsxs(pn,{className:"p-4",children:[u.jsx(hn,{children:u.jsx(mn,{children:"Add New Subnet"})}),u.jsxs("form",{onSubmit:At,className:"space-y-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(_e,{htmlFor:"petri-net-name",children:"Subnet Name"}),u.jsx(Je,{id:"petri-net-name",placeholder:"Enter Petri Net name",value:c,onChange:ne=>d(ne.target.value)})]}),u.jsx(ye,{type:"submit",className:"w-full",children:"Add Petri Net"})]})]})})]})})}),u.jsxs(M3,{nodes:(R==null?void 0:R.nodes)||[],nodeTypes:S4,edges:(R==null?void 0:R.edges)||[],edgeTypes:P4,onNodesChange:Qe,onEdgesChange:I,onNodeDragStart:(ne,le,he)=>{De(ne,le),Oe(ne,le,he)},onNodeDrag:it,onNodeDragStop:Ze,onNodeClick:De,onEdgeClick:Ce,onPaneClick:Ve,onPaneContextMenu:ut,onConnect:V,onDrop:we,onDragOver:pe,defaultEdgeOptions:vq,connectionLineComponent:D8,maxZoom:4,selectionOnDrag:!0,selectionKeyCode:"Shift",multiSelectionKeyCode:["Meta","Control"],children:[u.jsx(H3,{}),u.jsx(c4,{}),u.jsx(K3,{}),u.jsx(sc,{position:"top-center",children:u.jsx(R8,{toggleArcMode:D,onApplyLayout:ne=>R&&_t(ne,R.nodes,R.edges)})}),u.jsx(M8,{slices:Q,position:p,isOpen:f,onClose:()=>m(!1),onSliceClick:bt,size:200})]})]})]})};function bq({open:e,onOpenChange:t,apiKey:n,onApiKeyChange:r}){const[o,i]=w.useState(n||""),[l,c]=w.useState(!1);w.useEffect(()=>{i(n||"")},[n]);const d=()=>{r(o),t(!1)};return u.jsx(fn,{open:e,onOpenChange:t,children:u.jsxs(pn,{className:"sm:max-w-[500px]",children:[u.jsxs(hn,{children:[u.jsx(mn,{children:"Settings"}),u.jsx(ri,{children:"Configure your OCPN Tools preferences."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(_e,{htmlFor:"openai-api-key",children:"OpenAI API Key"}),u.jsxs("div",{className:"relative",children:[u.jsx(Je,{id:"openai-api-key",type:l?"text":"password",placeholder:"sk-...",value:o,onChange:f=>i(f.target.value),className:"w-full pr-10",autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",inputMode:"text",autoFocus:!0}),u.jsx(ye,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>c(!l),children:l?u.jsx(BA,{className:"h-4 w-4"}):u.jsx(HA,{className:"h-4 w-4"})})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Your API key is stored locally in your browser and never sent to our servers."})]}),u.jsxs(Mr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ye,{onClick:d,children:"Save Changes"})]})]})})}const q1="ocpn-tools-openai-api-key";function Sq(){const[e,t]=w.useState([{id:"welcome",role:"assistant",content:"Hello! I'm Carl, your OCPN assistant. I can help you analyze your model, explain concepts, or suggest improvements. What would you like to know?",timestamp:new Date}]),[n,r]=w.useState(""),[o,i]=w.useState(!1),l=w.useRef(null),[c,d]=w.useState(!1),[f,m]=w.useState(null);w.useEffect(()=>{const v=localStorage.getItem(q1);v&&m(v)},[]);const p=v=>{m(v),localStorage.setItem(q1,v)};w.useEffect(()=>{var v;(v=l.current)==null||v.scrollIntoView({behavior:"smooth"})},[e]);const g=()=>{const v={petriNetsById:me.getState().petriNetsById,petriNetOrder:me.getState().petriNetOrder,colorSets:me.getState().colorSets,variables:me.getState().variables,priorities:me.getState().priorities,functions:me.getState().functions,uses:me.getState().uses};return`
      Here is the current state of the Petri Net:

      ${ry(v)}
    `},x=async()=>{if(!n.trim()||o)return;if(!f){t(S=>[...S,{id:Date.now().toString(),role:"user",content:n,timestamp:new Date},{id:Date.now().toString()+"-error",role:"assistant",content:"Please set your OpenAI API key in the settings to use the AI assistant. Click the settings icon in the top right corner.",timestamp:new Date}]),r("");return}const v={id:Date.now().toString(),role:"user",content:n,timestamp:new Date};t(S=>[...S,v]),r(""),i(!0);try{const k=[{role:"system",content:`You are an AI assistant specialized in Colored Petri Nets (CPN). 
          Help the user understand and analyze their Petri Net model.
          Here is the current state of the Petri Net:
          
          ${g()}
          
          Be concise but informative in your responses. If asked about concepts, explain them clearly.
          If asked to analyze the model, provide insights based on the structure and properties.`},...e.filter(T=>T.id!=="welcome").map(T=>({role:T.role,content:T.content})),{role:v.role,content:v.content}],E=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({model:"gpt-4o",messages:k,temperature:.7,max_tokens:1e3})});if(!E.ok)throw new Error(`API error: ${E.status}`);const N=await E.json(),_={id:Date.now().toString()+"-response",role:"assistant",content:N.choices[0].message.content,timestamp:new Date};t(T=>[...T,_])}catch(S){console.error("Error calling OpenAI API:",S),t(k=>[...k,{id:Date.now().toString()+"-error",role:"assistant",content:"Sorry, there was an error processing your request. Please try again later.",timestamp:new Date}])}finally{i(!1)}},b=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),x())};return u.jsxs(ka,{defaultSize:20,className:"min-w-[400px] border-l h-screen",children:[u.jsxs("div",{className:"flex flex-col h-full overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("div",{className:"flex items-center",children:u.jsx("h2",{className:"font-semibold",children:"OCPN AI Assistant"})}),u.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>d(!0),children:u.jsx(pS,{className:"h-4 w-4"})})]}),u.jsx(kf,{className:"flex-1 p-4",children:u.jsxs("div",{className:"space-y-4",children:[e.map(v=>u.jsxs("div",{className:Ye("flex flex-col max-w-[90%] rounded-lg p-3",v.role==="user"?"ml-auto bg-primary text-primary-foreground":"bg-muted text-foreground"),children:[u.jsx("div",{className:"whitespace-pre-wrap",children:v.content}),u.jsx("div",{className:"text-xs opacity-70 mt-1 self-end",children:v.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},v.id)),o&&u.jsx("div",{className:"flex max-w-[90%] rounded-lg p-3 bg-muted text-foreground",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground/50 animate-bounce"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground/50 animate-bounce",style:{animationDelay:"0.2s"}}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-foreground/50 animate-bounce",style:{animationDelay:"0.4s"}})]})}),u.jsx("div",{ref:l})]})}),u.jsx(lc,{}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Je,{placeholder:"Ask about your OCPN",value:n,onChange:v=>r(v.target.value),onKeyDown:b,disabled:o||!f,className:"flex-1"}),u.jsx(ye,{size:"icon",onClick:x,disabled:o||!n.trim()||!f,children:u.jsx(xI,{className:"h-4 w-4"})})]}),!f&&u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Please set your OpenAI API key in settings to use the AI assistant."})]})]}),u.jsx(bq,{open:c,onOpenChange:d,apiKey:f,onApiKeyChange:p})]})}class Eg{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,G1.unregister(this),t}free(){const t=this.__destroy_into_raw();kt.__wbg_wasmsimulator_free(t,0)}advanceTime(t){kt.wasmsimulator_advanceTime(this.__wbg_ptr,t)}fireTransition(t){const n=ad(t,kt.__wbindgen_malloc,kt.__wbindgen_realloc),r=Us,o=kt.wasmsimulator_fireTransition(this.__wbg_ptr,n,r);if(o[2])throw uo(o[1]);return uo(o[0])}getCurrentTime(){return kt.wasmsimulator_getCurrentTime(this.__wbg_ptr)}getEnabledTransitions(){const t=kt.wasmsimulator_getEnabledTransitions(this.__wbg_ptr);if(t[2])throw uo(t[1]);return uo(t[0])}getSimulationEpoch(){return kt.wasmsimulator_getSimulationEpoch(this.__wbg_ptr)}constructor(t){const n=ad(t,kt.__wbindgen_malloc,kt.__wbindgen_realloc),r=Us,o=kt.wasmsimulator_new(n,r);if(o[2])throw uo(o[1]);return this.__wbg_ptr=o[0]>>>0,G1.register(this,this.__wbg_ptr,this),this}runMultipleSteps(t){const n=kt.wasmsimulator_runMultipleSteps(this.__wbg_ptr,t);if(n[2])throw uo(n[1]);return uo(n[0])}run_step(){const t=kt.wasmsimulator_run_step(this.__wbg_ptr);if(t[2])throw uo(t[1]);return uo(t[0])}setCurrentTime(t){kt.wasmsimulator_setCurrentTime(this.__wbg_ptr,t)}setEventListener(t){kt.wasmsimulator_setEventListener(this.__wbg_ptr,t)}setSimulationEpoch(t){var n=Sa(t)?0:ad(t,kt.__wbindgen_malloc,kt.__wbindgen_realloc),r=Us;kt.wasmsimulator_setSimulationEpoch(this.__wbg_ptr,n,r)}}Symbol.dispose&&(Eg.prototype[Symbol.dispose]=Eg.prototype.free);function kq(){return{__proto__:null,"./cpnsim_bg.js":{__proto__:null,__wbg_Error_8c4e43fe74559d73:function(t,n){return Error(da(t,n))},__wbg_String_8f0eb39a4a4c2f66:function(t,n){const r=String(n),o=ad(r,kt.__wbindgen_malloc,kt.__wbindgen_realloc),i=Us;Q1().setInt32(t+4,i,!0),Q1().setInt32(t+0,o,!0)},__wbg___wbindgen_is_string_cd444516edc5b180:function(t){return typeof t=="string"},__wbg___wbindgen_is_undefined_9e4d92534c42d778:function(t){return t===void 0},__wbg___wbindgen_throw_be289d5034ed271b:function(t,n){throw new Error(da(t,n))},__wbg_call_389efe28435a9388:function(){return fa(function(t,n){return t.call(n)},arguments)},__wbg_call_4708e0c13bdc8e95:function(){return fa(function(t,n,r){return t.call(n,r)},arguments)},__wbg_fromCodePoint_22365db7b7d6ac39:function(){return fa(function(t){return String.fromCodePoint(t>>>0)},arguments)},__wbg_from_bddd64e7d5ff6941:function(t){return Array.from(t)},__wbg_getRandomValues_1c61fac11405ffdc:function(){return fa(function(t,n){globalThis.crypto.getRandomValues(K1(t,n))},arguments)},__wbg_log_6b5ca2e6124b2808:function(t){console.log(t)},__wbg_log_6d46b3bc337f0e1f:function(t,n){console.log(da(t,n))},__wbg_new_361308b2356cecd0:function(){return new Object},__wbg_new_3eb36ae241fe6f44:function(){return new Array},__wbg_new_dca287b076112a51:function(){return new Map},__wbg_new_dd2b680c8bf6ae29:function(t){return new Uint8Array(t)},__wbg_new_no_args_1c7c842f08d00ebb:function(t,n){return new Function(da(t,n))},__wbg_now_2c95c9de01293173:function(t){return t.now()},__wbg_performance_7a3ffd0b17f663ad:function(t){return t.performance},__wbg_push_8ffdcb2063340ba5:function(t,n){return t.push(n)},__wbg_set_1eb0999cf5d27fc8:function(t,n,r){return t.set(n,r)},__wbg_set_3f1d0b984ed272ed:function(t,n,r){t[n]=r},__wbg_set_6cb8631f80447a67:function(){return fa(function(t,n,r){return Reflect.set(t,n,r)},arguments)},__wbg_set_f43e577aea94465b:function(t,n,r){t[n>>>0]=r},__wbg_static_accessor_GLOBAL_12837167ad935116:function(){const t=typeof global>"u"?null:global;return Sa(t)?0:wa(t)},__wbg_static_accessor_GLOBAL_THIS_e628e89ab3b1c95f:function(){const t=typeof globalThis>"u"?null:globalThis;return Sa(t)?0:wa(t)},__wbg_static_accessor_SELF_a621d3dfbb60d0ce:function(){const t=typeof self>"u"?null:self;return Sa(t)?0:wa(t)},__wbg_static_accessor_WINDOW_f8727f0cf888e0bd:function(){const t=typeof window>"u"?null:window;return Sa(t)?0:wa(t)},__wbindgen_cast_0000000000000001:function(t){return t},__wbindgen_cast_0000000000000002:function(t){return t},__wbindgen_cast_0000000000000003:function(t,n){return K1(t,n)},__wbindgen_cast_0000000000000004:function(t,n){return da(t,n)},__wbindgen_init_externref_table:function(){const t=kt.__wbindgen_externrefs,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)}}}}const G1=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>kt.__wbg_wasmsimulator_free(e>>>0,1));function wa(e){const t=kt.__externref_table_alloc();return kt.__wbindgen_externrefs.set(t,e),t}function K1(e,t){return e=e>>>0,Ia().subarray(e/1,e/1+t)}let Ei=null;function Q1(){return(Ei===null||Ei.buffer.detached===!0||Ei.buffer.detached===void 0&&Ei.buffer!==kt.memory.buffer)&&(Ei=new DataView(kt.memory.buffer)),Ei}function da(e,t){return e=e>>>0,Nq(e,t)}let ba=null;function Ia(){return(ba===null||ba.byteLength===0)&&(ba=new Uint8Array(kt.memory.buffer)),ba}function fa(e,t){try{return e.apply(this,t)}catch(n){const r=wa(n);kt.__wbindgen_exn_store(r)}}function Sa(e){return e==null}function ad(e,t,n){if(n===void 0){const c=Ta.encode(e),d=t(c.length,1)>>>0;return Ia().subarray(d,d+c.length).set(c),Us=c.length,d}let r=e.length,o=t(r,1)>>>0;const i=Ia();let l=0;for(;l<r;l++){const c=e.charCodeAt(l);if(c>127)break;i[o+l]=c}if(l!==r){l!==0&&(e=e.slice(l)),o=n(o,r,r=l+e.length*3,1)>>>0;const c=Ia().subarray(o+l,o+r),d=Ta.encodeInto(e,c);l+=d.written,o=n(o,r,l,1)>>>0}return Us=l,o}function uo(e){const t=kt.__wbindgen_externrefs.get(e);return kt.__externref_table_dealloc(e),t}let cd=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});cd.decode();const Cq=2146435072;let Im=0;function Nq(e,t){return Im+=t,Im>=Cq&&(cd=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),cd.decode(),Im=t),cd.decode(Ia().subarray(e,e+t))}const Ta=new TextEncoder;"encodeInto"in Ta||(Ta.encodeInto=function(e,t){const n=Ta.encode(e);return t.set(n),{read:e.length,written:n.length}});let Us=0,kt;function Eq(e,t){return kt=e.exports,Ei=null,ba=null,kt.__wbindgen_start(),kt}async function jq(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(o){if(e.ok&&n(e.type)&&e.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}else{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}function n(r){switch(r){case"basic":case"cors":case"default":return!0}return!1}}async function _q(e){if(kt!==void 0)return kt;e!==void 0&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),e===void 0&&(e=new URL("/ocpn-tools/assets/cpnsim_bg-BQcJkqf5.wasm",import.meta.url));const t=kq();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await jq(await e,t);return Eq(n)}function Ws(e){if(e==null)return null;if(e instanceof Map){const t={},n=Array.from(e.keys()).map(String).sort();for(const r of n)t[r]=Ws(e.get(r));return t}else{if(Array.isArray(e))return e.map(Ws);if(typeof e=="object"){const t={},n=Object.keys(e).sort();for(const r of n)t[r]=Ws(e[r]);return t}}return e}function J1(e){const t=Ws(e);return JSON.stringify(t)}function Pq(e,t){if(t||e.every(n=>n==null)){const n=e.length;return n<=3?"".repeat(n):`${n}`}return JSON.stringify(e)}function Aq(){const e=w.useRef(null),t=w.useRef(null),[n,r]=w.useState(!1),[o,i]=w.useState(!1),l=w.useRef(!1),[c,d]=w.useState([]),[f,m]=w.useState(0),[p,g]=w.useState(0),[x,b]=w.useState(bV),v=me(A=>A.updateNodeMarking),S=me(A=>A.applyInitialMarkings),k=w.useCallback(A=>{const F=me.getState().petriNetsById;for(const $ in F){const G=F[$].nodes.find(D=>D.id===A);if(G)return G}},[]),E=w.useCallback(A=>{var X;A.consumed instanceof Map?A.consumed.forEach((I,V)=>{var Z;const J=k(V);if(J&&J.type==="place"){let K=[];try{const Q=k(V),ie=(Z=Q==null?void 0:Q.data)==null?void 0:Z.marking;if(Array.isArray(ie))K=ie;else if(typeof ie=="number")K=[ie];else if(typeof ie=="string"&&ie.trim()!==""){const ue=JSON.parse(ie);K=Array.isArray(ue)?ue:[ue]}}catch(Q){console.error(`Error reading/parsing marking for node ${V}:`,J.data.marking,Q),K=[]}const te=[...K];I.forEach(Q=>{const ie=J1(Q),ue=te.findIndex(fe=>J1(fe)===ie);ue!==-1?te.splice(ue,1):console.warn(`Token not found for removal in node ${V}:`,Q,te)}),v(V,te)}else console.warn(`Place node not found or invalid for consumed event: ${V}`)}):A.consumed&&console.warn("eventData.consumed is not a Map:",A.consumed),A.produced instanceof Map?A.produced.forEach((I,V)=>{var Z;const J=k(V);if(J&&J.type==="place"){let K=[];try{const ie=k(V),ue=(Z=ie==null?void 0:ie.data)==null?void 0:Z.marking;if(Array.isArray(ue))K=ue;else if(typeof ue=="number")K=[ue];else if(typeof ue=="string"&&ue.trim()!==""){const fe=JSON.parse(ue);K=Array.isArray(fe)?fe:[fe]}}catch(ie){console.error(`Error reading/parsing marking for node ${V}:`,J.data.marking,ie),K=[]}const te=I.map(ie=>Ws(ie)),Q=[...K,...te];v(V,Q)}else console.warn(`Place node not found or invalid for produced event: ${V}`)}):A.produced&&console.warn("eventData.produced is not a Map:",A.produced);const F=k(A.transitionId),$=(X=F==null?void 0:F.data)!=null&&X.label&&typeof F.data.label=="string"?F.data.label:A.transitionId,G=me.getState().colorSets,D=I=>{if(!I)return[];const V=[];return I.forEach((J,Z)=>{var fe,pe;const K=k(Z),te=(fe=K==null?void 0:K.data)!=null&&fe.label&&typeof K.data.label=="string"?K.data.label:Z,Q=typeof((pe=K==null?void 0:K.data)==null?void 0:pe.colorSet)=="string"?K.data.colorSet:"",ie=Q.toUpperCase()==="UNIT"||G.some(we=>we.name===Q&&we.name.toUpperCase()==="UNIT"),ue=J.map(we=>Ws(we));V.push({placeId:Z,placeName:te,tokens:Pq(ue,ie)})}),V};let W=0;m(I=>(W=I+1,W));const R=A.simulationTime!==void 0?Number(A.simulationTime):A.time??0,H={id:ot(),step:W,time:R,transitionId:A.transitionId,transitionName:$,tokens:{consumed:D(A.consumed),produced:D(A.produced)},timestamp:new Date};d(I=>[...I,H]),g(R)},[v,k,m,d,g]);async function N(){d([]),m(0),g(0),r(!1),e.current=null,t.current=null;try{e.current=await _q(),S();const A=me.getState().petriNetsById,F=me.getState().petriNetOrder,$=me.getState().colorSets,G=me.getState().variables,D=me.getState().priorities,W=me.getState().functions,R=me.getState().uses,H=me.getState().simulationEpoch,X={petriNetsById:structuredClone(A),petriNetOrder:F,colorSets:$,variables:G,priorities:D,functions:W,uses:R,simulationSettings:{simulationEpoch:H}};Object.values(X.petriNetsById).forEach(V=>{V.nodes.forEach(J=>{if(J.type==="place"){let Z=[];if(Array.isArray(J.data.marking))Z=J.data.marking;else if(typeof J.data.marking=="string")try{const K=JSON.parse(J.data.marking);Array.isArray(K)&&(Z=K)}catch{console.warn(`Could not parse marking string for node ${J.id}: ${J.data.marking}`)}if(J.data.marking=JSON.stringify(Z),J.data.initialMarking){const K=J.data.initialMarking;typeof K=="string"?K.startsWith("[")&&K.endsWith("]")||K.endsWith(".all()")||K.trim()===""&&(J.data.initialMarking="[]"):Array.isArray(K)&&(J.data.initialMarking=JSON.stringify(K))}else J.data.initialMarking="[]"}}),V.edges.forEach(J=>{if(J.label&&typeof J.label=="string"){const Z=J.label.match(/(\d+)\`(\w+)/);if(Z){const K=parseInt(Z[1],10),te=Z[2];if(!isNaN(K)&&K>0){const Q=`[${Array(K).fill(te).join(",")}]`;console.log(`Converted arc inscription "${J.label}" to "${Q}"`),J.label=Q}}}})});const I=ry(X);console.log("Creating WASM Simulator with JSON:",I),t.current=new Eg(I),console.log("WASM Simulator created successfully"),t.current.setEventListener(E),r(!0),console.log("WASM Simulator initialized successfully.")}catch(A){console.error("Error initializing WASM Simulator:",A),r(!1),e.current=null,t.current=null}}const _=async()=>{(!n||!e.current||!t.current)&&await N()},T=()=>{if(t.current)try{console.log("Requesting simulation step...");const A=t.current.run_step();return console.log("Simulation step result:",A),A}catch(A){return console.error("Error running simulation step:",A),null}else return console.warn("WASM Simulator ref is null after initialization attempt, cannot run step."),null};return{runStep:async()=>{await _(),T()},runMultipleStepsAnimated:async(A,F=50)=>{if(!o){i(!0),l.current=!1;try{await _();for(let $=0;$<A;$++){if(l.current){console.log("Simulation stopped by user");break}if(T()==null){console.log("No transitions enabled, stopping animation.");break}await new Promise(D=>setTimeout(D,F))}}finally{i(!1)}}},runMultipleStepsFast:async A=>{if(!o){i(!0),l.current=!1;try{if(await _(),t.current){const F=t.current;if(typeof F.runMultipleSteps=="function"){const $=F.runMultipleSteps(A);if(Array.isArray($))for(const G of $)G&&typeof G=="object"&&E(G)}else for(let $=0;$<A&&!l.current;$++)if(T()==null){console.log("No transitions enabled, stopping fast run.");break}}}finally{i(!1)}}},stop:()=>{console.log("Stop requested"),l.current=!0},fireTransition:async A=>{if(await _(),t.current){const F=t.current;if(typeof F.fireTransition=="function")try{const $=F.fireTransition(A);console.log(`Fire transition ${A} result:`,$)}catch($){console.error(`Error firing transition ${A}:`,$)}else console.warn("fireTransition method not available in WASM simulator")}},getEnabledTransitions:async()=>{if(await _(),t.current){const A=t.current;if(typeof A.getEnabledTransitions=="function")try{return A.getEnabledTransitions()}catch(F){console.error("Error getting enabled transitions:",F)}}return[]},reset:async()=>{l.current=!0,i(!1),m(0),g(0),d([]),await N()},events:c,clearEvents:()=>{d([])},isInitialized:n,isRunning:o,simulationTime:p,stepCounter:f,simulationConfig:x,setSimulationConfig:b,ensureInitialized:_,_executeWasmStep:T}}function Iq({children:e}){const t=Aq();return u.jsx(Nf.Provider,{value:t,children:e})}var Dr="Accordion",Tq=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[oy,Rq,Mq]=rf(Dr),[zf,cG]=En(Dr,[Mq,xj]),iy=xj(),x2=He.forwardRef((e,t)=>{const{type:n,...r}=e,o=r,i=r;return u.jsx(oy.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?u.jsx(zq,{...i,ref:t}):u.jsx(Lq,{...o,ref:t})})});x2.displayName=Dr;var[y2,Dq]=zf(Dr),[v2,Oq]=zf(Dr,{collapsible:!1}),Lq=He.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},collapsible:i=!1,...l}=e,[c,d]=Nn({prop:n,defaultProp:r??"",onChange:o,caller:Dr});return u.jsx(y2,{scope:e.__scopeAccordion,value:He.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:He.useCallback(()=>i&&d(""),[i,d]),children:u.jsx(v2,{scope:e.__scopeAccordion,collapsible:i,children:u.jsx(w2,{...l,ref:t})})})}),zq=He.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[l,c]=Nn({prop:n,defaultProp:r??[],onChange:o,caller:Dr}),d=He.useCallback(m=>c((p=[])=>[...p,m]),[c]),f=He.useCallback(m=>c((p=[])=>p.filter(g=>g!==m)),[c]);return u.jsx(y2,{scope:e.__scopeAccordion,value:l,onItemOpen:d,onItemClose:f,children:u.jsx(v2,{scope:e.__scopeAccordion,collapsible:!0,children:u.jsx(w2,{...i,ref:t})})})}),[$q,$f]=zf(Dr),w2=He.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:o,orientation:i="vertical",...l}=e,c=He.useRef(null),d=st(c,t),f=Rq(n),p=Jo(o)==="ltr",g=Ie(e.onKeyDown,x=>{var z;if(!Tq.includes(x.key))return;const b=x.target,v=f().filter(Y=>{var L;return!((L=Y.ref.current)!=null&&L.disabled)}),S=v.findIndex(Y=>Y.ref.current===b),k=v.length;if(S===-1)return;x.preventDefault();let E=S;const N=0,_=k-1,T=()=>{E=S+1,E>_&&(E=N)},P=()=>{E=S-1,E<N&&(E=_)};switch(x.key){case"Home":E=N;break;case"End":E=_;break;case"ArrowRight":i==="horizontal"&&(p?T():P());break;case"ArrowDown":i==="vertical"&&T();break;case"ArrowLeft":i==="horizontal"&&(p?P():T());break;case"ArrowUp":i==="vertical"&&P();break}const M=E%k;(z=v[M].ref.current)==null||z.focus()});return u.jsx($q,{scope:n,disabled:r,direction:o,orientation:i,children:u.jsx(oy.Slot,{scope:n,children:u.jsx(Fe.div,{...l,"data-orientation":i,ref:d,onKeyDown:r?void 0:g})})})}),$d="AccordionItem",[Fq,sy]=zf($d),b2=He.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...o}=e,i=$f($d,n),l=Dq($d,n),c=iy(n),d=fr(),f=r&&l.value.includes(r)||!1,m=i.disabled||e.disabled;return u.jsx(Fq,{scope:n,open:f,disabled:m,triggerId:d,children:u.jsx(wj,{"data-orientation":i.orientation,"data-state":j2(f),...c,...o,ref:t,disabled:m,open:f,onOpenChange:p=>{p?l.onItemOpen(r):l.onItemClose(r)}})})});b2.displayName=$d;var S2="AccordionHeader",k2=He.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=$f(Dr,n),i=sy(S2,n);return u.jsx(Fe.h3,{"data-orientation":o.orientation,"data-state":j2(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});k2.displayName=S2;var jg="AccordionTrigger",C2=He.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=$f(Dr,n),i=sy(jg,n),l=Oq(jg,n),c=iy(n);return u.jsx(oy.ItemSlot,{scope:n,children:u.jsx(ZV,{"aria-disabled":i.open&&!l.collapsible||void 0,"data-orientation":o.orientation,id:i.triggerId,...c,...r,ref:t})})});C2.displayName=jg;var N2="AccordionContent",E2=He.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,o=$f(Dr,n),i=sy(N2,n),l=iy(n);return u.jsx(eH,{role:"region","aria-labelledby":i.triggerId,"data-orientation":o.orientation,...l,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});E2.displayName=N2;function j2(e){return e?"open":"closed"}var Bq=x2,Vq=b2,Hq=k2,Uq=C2,Wq=E2;function Yq({...e}){return u.jsx(Bq,{"data-slot":"accordion",...e})}function Z1({className:e,...t}){return u.jsx(Vq,{"data-slot":"accordion-item",className:Ye("border-b last:border-b-0",e),...t})}function eS({className:e,children:t,...n}){return u.jsx(Hq,{className:"flex",children:u.jsxs(Uq,{"data-slot":"accordion-trigger",className:Ye("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,u.jsx(Ho,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function tS({className:e,children:t,...n}){return u.jsx(Wq,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:u.jsx("div",{className:Ye("pt-0 pb-4",e),children:t})})}function nS({attribute:e,timeRange:t,valueChanges:n,onAddChange:r,onEditChange:o}){const i=w.useRef(null),[l,c]=w.useState(0);w.useEffect(()=>{const g=i.current;if(!g)return;const x=()=>{c(g.offsetWidth)};x();const b=new ResizeObserver(x);return b.observe(g),()=>{g&&b.unobserve(g)}},[]);const d=g=>{const[x,b]=t,v=b-x,S=(g-x)/v*l;return Math.max(0,Math.min(l,S))},f=g=>{const[x,b]=t,v=b-x,S=x+g/l*v;return Math.max(x,Math.min(b,S))},m=g=>{if(!i.current)return;const x=i.current.getBoundingClientRect(),b=g.clientX-x.left,v=f(b);r(Math.round(v))},p=(g,x)=>{switch(g){case"set":return`= ${x}`;case"add":return`+ ${x}`;case"subtract":return`- ${x}`;case"prefix":return`prefix "${x}"`;case"append":return`append "${x}"`;case"increasePercent":return`+${x}%`;case"decreasePercent":return`-${x}%`;case"reset":return"reset";default:return g}};return u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs(_e,{className:"text-sm font-medium",children:[e.name,u.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",e.type,", initial: ",e.initialValue.toString(),")"]})]})}),u.jsxs("div",{ref:i,className:"h-8 bg-muted rounded-md relative cursor-pointer",onClick:m,children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:[0,.25,.5,.75,1].map(g=>u.jsx("div",{className:"absolute h-2 border-l border-muted-foreground/30",style:{left:`${g*100}%`}},g))}),u.jsxs("div",{className:"absolute inset-x-0 -bottom-5 flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:t[0]}),u.jsx("span",{children:Math.round((t[0]+t[1])/2)}),u.jsx("span",{children:t[1]})]}),u.jsx(er,{children:n.map(g=>u.jsxs(bn,{children:[u.jsx(Sn,{asChild:!0,children:u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-primary rounded-full cursor-pointer z-10",style:{left:`${d(g.timestamp)}px`},onClick:x=>{x.stopPropagation(),o(g)}})}),u.jsxs(kn,{children:[u.jsxs("p",{children:["Time: ",g.timestamp]}),u.jsx("p",{children:p(g.operation,g.value)})]})]},g.id))})]})]})}function Xq({open:e,onOpenChange:t,attribute:n,timestamp:r,existingChange:o,onSave:i,onDelete:l}){const[c,d]=w.useState("set"),[f,m]=w.useState(""),[p,g]=w.useState(r);w.useEffect(()=>{e&&(o?(d(o.operation),m(o.value.toString()),g(o.timestamp)):(d(n.type==="string"?"set":"add"),m(""),g(r)))},[e,n,r,o]);const x=()=>n.type==="string"?[{value:"set",label:"Set to"},{value:"prefix",label:"Prefix"},{value:"append",label:"Append"},{value:"reset",label:"Reset to initial value"}]:n.type==="int"||n.type==="real"?[{value:"set",label:"Set to"},{value:"add",label:"Add"},{value:"subtract",label:"Subtract"},{value:"increasePercent",label:"Increase by %"},{value:"decreasePercent",label:"Decrease by %"},{value:"reset",label:"Reset to initial value"}]:n.type==="boolean"?[{value:"set",label:"Set to"},{value:"toggle",label:"Toggle"},{value:"reset",label:"Reset to initial value"}]:[],b=()=>{const v=n.type==="int"?Number.parseInt(f,10):n.type==="real"?Number.parseFloat(f):n.type==="boolean"?f==="true":f,S={id:(o==null?void 0:o.id)||ot(),attributeId:n.id,timestamp:p,operation:c,value:v};i(S)};return u.jsx(fn,{open:e,onOpenChange:t,children:u.jsxs(pn,{className:"sm:max-w-[425px]",children:[u.jsxs(hn,{children:[u.jsx(mn,{children:o?"Edit Value Change":"Add Value Change"}),u.jsxs(ri,{children:['Define how the attribute "',n.name,'" changes at a specific time.']})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(_e,{htmlFor:"timestamp",className:"text-right",children:"Timestamp"}),u.jsx(Je,{id:"timestamp",type:"number",value:p,onChange:v=>g(Number(v.target.value)),className:"col-span-3",min:0})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(_e,{htmlFor:"operation",className:"text-right",children:"Operation"}),u.jsxs(rn,{value:c,onValueChange:d,children:[u.jsx(sn,{className:"col-span-3",children:u.jsx(on,{placeholder:"Select operation"})}),u.jsx(ln,{children:x().map(v=>u.jsx(yt,{value:v.value,children:v.label},v.value))})]})]}),c!=="reset"&&c!=="toggle"&&u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(_e,{htmlFor:"value",className:"text-right",children:"Value"}),n.type==="boolean"?u.jsxs(rn,{value:f,onValueChange:m,children:[u.jsx(sn,{className:"col-span-3",children:u.jsx(on,{placeholder:"Select value"})}),u.jsxs(ln,{children:[u.jsx(yt,{value:"true",children:"True"}),u.jsx(yt,{value:"false",children:"False"})]})]}):u.jsx(Je,{id:"value",type:n.type==="int"||n.type==="real"?"number":"text",value:f,onChange:v=>m(v.target.value),className:"col-span-3"})]})]}),u.jsxs(Mr,{className:"flex justify-between",children:[u.jsx("div",{children:o&&l&&u.jsx(ye,{variant:"destructive",onClick:l,children:"Delete"})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ye,{onClick:b,children:"Save"})]})]})]})})}function qq({open:e,onOpenChange:t,onAdd:n}){const[r,o]=w.useState(""),[i,l]=w.useState("string"),[c,d]=w.useState(""),f=()=>{let m;switch(i){case"int":m=Number.parseInt(c,10)||0;break;case"real":m=Number.parseFloat(c)||0;break;case"boolean":m=c==="true";break;default:m=c}const p={id:ot(),name:r,type:i,initialValue:m};n(p),o(""),l("string"),d("")};return u.jsx(fn,{open:e,onOpenChange:t,children:u.jsxs(pn,{className:"sm:max-w-[425px]",children:[u.jsxs(hn,{children:[u.jsx(mn,{children:"Add Global Attribute"}),u.jsx(ri,{children:"Create a new attribute for the global context."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(_e,{htmlFor:"name",className:"text-right",children:"Name"}),u.jsx(Je,{id:"name",value:r,onChange:m=>o(m.target.value),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(_e,{htmlFor:"type",className:"text-right",children:"Type"}),u.jsxs(rn,{value:i,onValueChange:m=>l(m),children:[u.jsx(sn,{className:"col-span-3",children:u.jsx(on,{placeholder:"Select type"})}),u.jsxs(ln,{children:[u.jsx(yt,{value:"string",children:"String"}),u.jsx(yt,{value:"int",children:"Integer"}),u.jsx(yt,{value:"real",children:"Real"}),u.jsx(yt,{value:"boolean",children:"Boolean"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(_e,{htmlFor:"initialValue",className:"text-right",children:"Initial Value"}),i==="boolean"?u.jsxs(rn,{value:c,onValueChange:d,children:[u.jsx(sn,{className:"col-span-3",children:u.jsx(on,{placeholder:"Select value"})}),u.jsxs(ln,{children:[u.jsx(yt,{value:"true",children:"True"}),u.jsx(yt,{value:"false",children:"False"})]})]}):u.jsx(Je,{id:"initialValue",type:i==="int"||i==="real"?"number":"text",value:c,onChange:m=>d(m.target.value),className:"col-span-3"})]})]}),u.jsxs(Mr,{children:[u.jsx(ye,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsx(ye,{onClick:f,disabled:!r,children:"Add Attribute"})]})]})})}function Gq({simulationTimeRange:e}){const[t,n]=w.useState([{id:"global-tax",name:"Sales Tax",type:"real",initialValue:19.5}]),[r,o]=w.useState([]),i=me(P=>P.colorSets),[l,c]=w.useState([{id:"change-1",attributeId:"global-1",timestamp:10,operation:"set",value:"PROC-002"},{id:"change-2",attributeId:"global-2",timestamp:25,operation:"add",value:50}]),[d,f]=w.useState(!1),[m,p]=w.useState(!1),[g,x]=w.useState(null),[b,v]=w.useState(null),[S,k]=w.useState(null);w.useEffect(()=>{const M=i.filter(z=>z.type==="record"||z.type==="complex").filter(z=>typeof z.id=="string"&&typeof z.definition=="string"&&z.definition.includes("record")).map(z=>{const Y=[],L=z.definition,B=L.match(/record\s+(.*);/);return B&&B[1]?B[1].trim().split("*").forEach((A,F)=>{const $=A.split(":");if($.length===2){const G=$[0].trim(),D=$[1].trim();let W="string";switch(D.toUpperCase()){case"INT":W="int";break;case"STRING":W="string";break;case"BOOL":W="boolean";break;case"REAL":W="real";break;default:console.warn(`Unknown attribute type "${D}" in definition: ${L}. Defaulting to string.`)}Y.push({id:`${z.id}-attr-${F}`,name:G,type:W,initialValue:""})}else console.warn(`Could not parse attribute pair: "${A}" in definition: ${L}`)}):console.warn(`Could not parse record attributes from definition: ${L}`),{id:z.id,name:z.name,attributes:Y}});o(M)},[i]);const E=(P,M,z)=>{x(P),k(M),v(z||null),f(!0)},N=P=>{c(b?M=>M.map(z=>z.id===b.id?P:z):M=>[...M,P]),f(!1)},_=P=>{c(M=>M.filter(z=>z.id!==P)),f(!1)},T=P=>{n(M=>[...M,P]),p(!1)};return u.jsxs(kf,{className:"h-full",children:[u.jsxs(AE,{className:"w-full border-none shadow-none gap-0",children:[u.jsx(IE,{children:u.jsx(H6,{children:"Object Evolution Layer"})}),u.jsx(TE,{children:u.jsxs(Yq,{type:"multiple",defaultValue:["global-context"],children:[u.jsxs(Z1,{value:"global-context",children:[u.jsx(eS,{className:"flex items-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(QA,{className:"h-4 w-4"}),u.jsx("span",{children:"Global Context"})]})}),u.jsx(tS,{children:u.jsxs("div",{className:"space-y-4",children:[t.map(P=>u.jsx(nS,{attribute:P,timeRange:e,valueChanges:l.filter(M=>M.attributeId===P.id),onAddChange:M=>E(P,M),onEditChange:M=>E(P,M.timestamp,M)},P.id)),u.jsxs(ye,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>p(!0),children:[u.jsx(fS,{className:"h-4 w-4 mr-2"}),"Add Attribute"]})]})})]}),r.map(P=>u.jsxs(Z1,{value:P.id,children:[u.jsx(eS,{className:"flex items-center",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(kA,{className:"h-4 w-4"}),u.jsx("span",{children:P.name})]})}),u.jsx(tS,{children:u.jsx("div",{className:"space-y-4",children:P.attributes.map(M=>u.jsx(nS,{attribute:M,timeRange:e,valueChanges:l.filter(z=>z.attributeId===M.id),onAddChange:z=>E(M,z),onEditChange:z=>E(M,z.timestamp,z)},M.id))})})]},P.id))]})})]}),g&&u.jsx(Xq,{open:d,onOpenChange:f,attribute:g,timestamp:S||0,existingChange:b,onSave:N,onDelete:b?()=>_(b.id):void 0}),u.jsx(qq,{open:m,onOpenChange:p,onAdd:T})]})}function Kq(){const[e,t]=w.useState(!1),n=[0,100],r=()=>{t(o=>!o)};return u.jsx(Iq,{children:u.jsx("div",{className:"h-screen",children:u.jsxs(J0,{direction:"horizontal",children:[u.jsx(nH,{}),u.jsx(Z0,{}),u.jsx(ka,{children:u.jsxs(J0,{direction:"vertical",children:[u.jsx(ka,{className:"flex flex-col",children:u.jsx(IC,{children:u.jsx(T8,{children:u.jsx(wq,{onToggleAIAssistant:r})})})}),u.jsx(Z0,{}),u.jsx(ka,{defaultSize:0,collapsedSize:0,collapsible:!0,minSize:10,children:u.jsx(Gq,{simulationTimeRange:n})})]})}),e&&u.jsx(u.Fragment,{children:u.jsx(Sq,{})})]})})})}hA.createRoot(document.getElementById("root")).render(u.jsx(He.StrictMode,{children:u.jsx(Kq,{})}));export{Qq as c,Ja as g};
